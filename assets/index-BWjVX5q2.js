function d7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var h7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P6={exports:{}},ph={},N6={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),p7=Symbol.for("react.portal"),m7=Symbol.for("react.fragment"),v7=Symbol.for("react.strict_mode"),g7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),x7=Symbol.for("react.context"),_7=Symbol.for("react.forward_ref"),w7=Symbol.for("react.suspense"),E7=Symbol.for("react.memo"),S7=Symbol.for("react.lazy"),Yg=Symbol.iterator;function b7(e){return e===null||typeof e!="object"?null:(e=Yg&&e[Yg]||e["@@iterator"],typeof e=="function"?e:null)}var M6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I6=Object.assign,D6={};function Ws(e,t,n){this.props=e,this.context=t,this.refs=D6,this.updater=n||M6}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F6(){}F6.prototype=Ws.prototype;function Dv(e,t,n){this.props=e,this.context=t,this.refs=D6,this.updater=n||M6}var Fv=Dv.prototype=new F6;Fv.constructor=Dv;I6(Fv,Ws.prototype);Fv.isPureReactComponent=!0;var qg=Array.isArray,$6=Object.prototype.hasOwnProperty,$v={current:null},B6={key:!0,ref:!0,__self:!0,__source:!0};function j6(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)$6.call(t,r)&&!B6.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qc,type:e,key:o,ref:a,props:i,_owner:$v.current}}function T7(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bv(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function A7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qg=/\/+/g;function mp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A7(""+e.key):t.toString(36)}function td(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qc:case p7:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+mp(a,0):r,qg(i)?(n="",e!=null&&(n=e.replace(Qg,"$&/")+"/"),td(i,t,n,"",function(u){return u})):i!=null&&(Bv(i)&&(i=T7(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Qg,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",qg(e))for(var l=0;l<e.length;l++){o=e[l];var s=r+mp(o,l);a+=td(o,t,n,s,i)}else if(s=b7(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=r+mp(o,l++),a+=td(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function T0(e,t,n){if(e==null)return e;var r=[],i=0;return td(e,r,"","",function(o){return t.call(n,o,i++)}),r}function C7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},nd={transition:null},L7={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:nd,ReactCurrentOwner:$v};rn.Children={map:T0,forEach:function(e,t,n){T0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T0(e,function(){t++}),t},toArray:function(e){return T0(e,function(t){return t})||[]},only:function(e){if(!Bv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rn.Component=Ws;rn.Fragment=m7;rn.Profiler=g7;rn.PureComponent=Dv;rn.StrictMode=v7;rn.Suspense=w7;rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L7;rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=I6({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$v.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)$6.call(t,s)&&!B6.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qc,type:e.type,key:i,ref:o,props:r,_owner:a}};rn.createContext=function(e){return e={$$typeof:x7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y7,_context:e},e.Consumer=e};rn.createElement=j6;rn.createFactory=function(e){var t=j6.bind(null,e);return t.type=e,t};rn.createRef=function(){return{current:null}};rn.forwardRef=function(e){return{$$typeof:_7,render:e}};rn.isValidElement=Bv;rn.lazy=function(e){return{$$typeof:S7,_payload:{_status:-1,_result:e},_init:C7}};rn.memo=function(e,t){return{$$typeof:E7,type:e,compare:t===void 0?null:t}};rn.startTransition=function(e){var t=nd.transition;nd.transition={};try{e()}finally{nd.transition=t}};rn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rn.useCallback=function(e,t){return Rr.current.useCallback(e,t)};rn.useContext=function(e){return Rr.current.useContext(e)};rn.useDebugValue=function(){};rn.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};rn.useEffect=function(e,t){return Rr.current.useEffect(e,t)};rn.useId=function(){return Rr.current.useId()};rn.useImperativeHandle=function(e,t,n){return Rr.current.useImperativeHandle(e,t,n)};rn.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};rn.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};rn.useMemo=function(e,t){return Rr.current.useMemo(e,t)};rn.useReducer=function(e,t,n){return Rr.current.useReducer(e,t,n)};rn.useRef=function(e){return Rr.current.useRef(e)};rn.useState=function(e){return Rr.current.useState(e)};rn.useSyncExternalStore=function(e,t,n){return Rr.current.useSyncExternalStore(e,t,n)};rn.useTransition=function(){return Rr.current.useTransition()};rn.version="18.2.0";N6.exports=rn;var P=N6.exports;const go=Yc(P),R7=d7({__proto__:null,default:go},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O7=P,k7=Symbol.for("react.element"),P7=Symbol.for("react.fragment"),N7=Object.prototype.hasOwnProperty,M7=O7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I7={key:!0,ref:!0,__self:!0,__source:!0};function z6(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)N7.call(t,r)&&!I7.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:k7,type:e,key:o,ref:a,props:i,_owner:M7.current}}ph.Fragment=P7;ph.jsx=z6;ph.jsxs=z6;P6.exports=ph;var X=P6.exports,hm={},G6={exports:{}},ii={},U6={exports:{}},V6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ye,Le){var se=ye.length;ye.push(Le);e:for(;0<se;){var Te=se-1>>>1,rt=ye[Te];if(0<i(rt,Le))ye[Te]=Le,ye[se]=rt,se=Te;else break e}}function n(ye){return ye.length===0?null:ye[0]}function r(ye){if(ye.length===0)return null;var Le=ye[0],se=ye.pop();if(se!==Le){ye[0]=se;e:for(var Te=0,rt=ye.length,Tt=rt>>>1;Te<Tt;){var Pt=2*(Te+1)-1,Zt=ye[Pt],Bt=Pt+1,yt=ye[Bt];if(0>i(Zt,se))Bt<rt&&0>i(yt,Zt)?(ye[Te]=yt,ye[Bt]=se,Te=Bt):(ye[Te]=Zt,ye[Pt]=se,Te=Pt);else if(Bt<rt&&0>i(yt,se))ye[Te]=yt,ye[Bt]=se,Te=Bt;else break e}}return Le}function i(ye,Le){var se=ye.sortIndex-Le.sortIndex;return se!==0?se:ye.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],u=[],f=1,h=null,c=3,m=!1,v=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ye){for(var Le=n(u);Le!==null;){if(Le.callback===null)r(u);else if(Le.startTime<=ye)r(u),Le.sortIndex=Le.expirationTime,t(s,Le);else break;Le=n(u)}}function O(ye){if(S=!1,y(ye),!v)if(n(s)!==null)v=!0,at(D);else{var Le=n(u);Le!==null&&lt(O,Le.startTime-ye)}}function D(ye,Le){v=!1,S&&(S=!1,g(K),K=-1),m=!0;var se=c;try{for(y(Le),h=n(s);h!==null&&(!(h.expirationTime>Le)||ye&&!Re());){var Te=h.callback;if(typeof Te=="function"){h.callback=null,c=h.priorityLevel;var rt=Te(h.expirationTime<=Le);Le=e.unstable_now(),typeof rt=="function"?h.callback=rt:h===n(s)&&r(s),y(Le)}else r(s);h=n(s)}if(h!==null)var Tt=!0;else{var Pt=n(u);Pt!==null&&lt(O,Pt.startTime-Le),Tt=!1}return Tt}finally{h=null,c=se,m=!1}}var U=!1,ee=null,K=-1,He=5,ve=-1;function Re(){return!(e.unstable_now()-ve<He)}function Oe(){if(ee!==null){var ye=e.unstable_now();ve=ye;var Le=!0;try{Le=ee(!0,ye)}finally{Le?Je():(U=!1,ee=null)}}else U=!1}var Je;if(typeof _=="function")Je=function(){_(Oe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Lt=De.port2;De.port1.onmessage=Oe,Je=function(){Lt.postMessage(null)}}else Je=function(){L(Oe,0)};function at(ye){ee=ye,U||(U=!0,Je())}function lt(ye,Le){K=L(function(){ye(e.unstable_now())},Le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ye){ye.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,at(D))},e.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<ye?Math.floor(1e3/ye):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(ye){switch(c){case 1:case 2:case 3:var Le=3;break;default:Le=c}var se=c;c=Le;try{return ye()}finally{c=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ye,Le){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var se=c;c=ye;try{return Le()}finally{c=se}},e.unstable_scheduleCallback=function(ye,Le,se){var Te=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,ye){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=se+rt,ye={id:f++,callback:Le,priorityLevel:ye,startTime:se,expirationTime:rt,sortIndex:-1},se>Te?(ye.sortIndex=se,t(u,ye),n(s)===null&&ye===n(u)&&(S?(g(K),K=-1):S=!0,lt(O,se-Te))):(ye.sortIndex=rt,t(s,ye),v||m||(v=!0,at(D))),ye},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(ye){var Le=c;return function(){var se=c;c=Le;try{return ye.apply(this,arguments)}finally{c=se}}}})(V6);U6.exports=V6;var D7=U6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6=P,ni=D7;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W6=new Set,xc={};function El(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(xc[e]=t,e=0;e<t.length;e++)W6.add(t[e])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,F7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},Zg={};function $7(e){return pm.call(Zg,e)?!0:pm.call(Kg,e)?!1:F7.test(e)?Zg[e]=!0:(Kg[e]=!0,!1)}function B7(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j7(e,t,n,r){if(t===null||typeof t>"u"||B7(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var jv=/[\-:]([a-z])/g;function zv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jv,zv);vr[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jv,zv);vr[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jv,zv);vr[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gv(e,t,n,r){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j7(t,n,i,r)&&(n=null),r||i===null?$7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Co=H6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A0=Symbol.for("react.element"),cs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),X6=Symbol.for("react.provider"),Y6=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),gm=Symbol.for("react.suspense_list"),Hv=Symbol.for("react.memo"),Jo=Symbol.for("react.lazy"),q6=Symbol.for("react.offscreen"),Jg=Symbol.iterator;function Uu(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var Fn=Object.assign,vp;function tc(e){if(vp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vp=t&&t[1]||""}return`
`+vp+e}var gp=!1;function yp(e,t){if(!e||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var s=`
`+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tc(e):""}function z7(e){switch(e.tag){case 5:return tc(e.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return e=yp(e.type,!1),e;case 11:return e=yp(e.type.render,!1),e;case 1:return e=yp(e.type,!0),e;default:return""}}function ym(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fs:return"Fragment";case cs:return"Portal";case mm:return"Profiler";case Uv:return"StrictMode";case vm:return"Suspense";case gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y6:return(e.displayName||"Context")+".Consumer";case X6:return(e._context.displayName||"Context")+".Provider";case Vv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hv:return t=e.displayName||null,t!==null?t:ym(e.type)||"Memo";case Jo:t=e._payload,e=e._init;try{return ym(e(t))}catch{}}return null}function G7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ga(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U7(e){var t=Q6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function C0(e){e._valueTracker||(e._valueTracker=U7(e))}function K6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q6(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xm(e,t){var n=t.checked;return Fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ey(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ga(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z6(e,t){t=t.checked,t!=null&&Gv(e,"checked",t,!1)}function _m(e,t){Z6(e,t);var n=ga(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wm(e,t.type,n):t.hasOwnProperty("defaultValue")&&wm(e,t.type,ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ty(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wm(e,t,n){(t!=="number"||Ed(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nc=Array.isArray;function bs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ga(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ny(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(nc(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ga(n)}}function J6(e,t){var n=ga(t.value),r=ga(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ry(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var L0,t4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(L0=L0||document.createElement("div"),L0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=L0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V7=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(e){V7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lc[t]=lc[e]})});function n4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lc.hasOwnProperty(e)&&lc[e]?(""+t).trim():t+"px"}function r4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=n4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var H7=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bm(e,t){if(t){if(H7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Tm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function Wv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,Ts=null,As=null;function iy(e){if(e=Zc(e)){if(typeof Cm!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=xh(t),Cm(e.stateNode,e.type,t))}}function i4(e){Ts?As?As.push(e):As=[e]:Ts=e}function o4(){if(Ts){var e=Ts,t=As;if(As=Ts=null,iy(e),t)for(e=0;e<t.length;e++)iy(t[e])}}function a4(e,t){return e(t)}function l4(){}var xp=!1;function s4(e,t,n){if(xp)return e(t,n);xp=!0;try{return a4(e,t,n)}finally{xp=!1,(Ts!==null||As!==null)&&(l4(),o4())}}function wc(e,t){var n=e.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var Lm=!1;if(wo)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{Lm=!1}function W7(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var sc=!1,Sd=null,bd=!1,Rm=null,X7={onError:function(e){sc=!0,Sd=e}};function Y7(e,t,n,r,i,o,a,l,s){sc=!1,Sd=null,W7.apply(X7,arguments)}function q7(e,t,n,r,i,o,a,l,s){if(Y7.apply(this,arguments),sc){if(sc){var u=Sd;sc=!1,Sd=null}else throw Error(ze(198));bd||(bd=!0,Rm=u)}}function Sl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oy(e){if(Sl(e)!==e)throw Error(ze(188))}function Q7(e){var t=e.alternate;if(!t){if(t=Sl(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return oy(i),e;if(o===r)return oy(i),t;o=o.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function c4(e){return e=Q7(e),e!==null?f4(e):null}function f4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f4(e);if(t!==null)return t;e=e.sibling}return null}var d4=ni.unstable_scheduleCallback,ay=ni.unstable_cancelCallback,K7=ni.unstable_shouldYield,Z7=ni.unstable_requestPaint,Yn=ni.unstable_now,J7=ni.unstable_getCurrentPriorityLevel,Xv=ni.unstable_ImmediatePriority,h4=ni.unstable_UserBlockingPriority,Td=ni.unstable_NormalPriority,ex=ni.unstable_LowPriority,p4=ni.unstable_IdlePriority,mh=null,qi=null;function tx(e){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(mh,e,void 0,(e.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:ix,nx=Math.log,rx=Math.LN2;function ix(e){return e>>>=0,e===0?32:31-(nx(e)/rx|0)|0}var R0=64,O0=4194304;function rc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ad(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=rc(l):(o&=a,o!==0&&(r=rc(o)))}else a=n&~i,a!==0?r=rc(a):o!==0&&(r=rc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ki(t),i=1<<n,r|=e[n],t&=~i;return r}function ox(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ax(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ki(o),l=1<<a,s=i[a];s===-1?(!(l&n)||l&r)&&(i[a]=ox(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function Om(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m4(){var e=R0;return R0<<=1,!(R0&4194240)&&(R0=64),e}function _p(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ki(t),e[t]=n}function lx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ki(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Yv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ki(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var hn=0;function v4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g4,qv,y4,x4,_4,km=!1,k0=[],sa=null,ua=null,ca=null,Ec=new Map,Sc=new Map,ta=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(t.pointerId)}}function Hu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Zc(t),t!==null&&qv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ux(e,t,n,r,i){switch(t){case"focusin":return sa=Hu(sa,e,t,n,r,i),!0;case"dragenter":return ua=Hu(ua,e,t,n,r,i),!0;case"mouseover":return ca=Hu(ca,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ec.set(o,Hu(Ec.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Sc.set(o,Hu(Sc.get(o)||null,e,t,n,r,i)),!0}return!1}function w4(e){var t=el(e.target);if(t!==null){var n=Sl(t);if(n!==null){if(t=n.tag,t===13){if(t=u4(n),t!==null){e.blockedOn=t,_4(e.priority,function(){y4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Am=r,n.target.dispatchEvent(r),Am=null}else return t=Zc(n),t!==null&&qv(t),e.blockedOn=n,!1;t.shift()}return!0}function sy(e,t,n){rd(e)&&n.delete(t)}function cx(){km=!1,sa!==null&&rd(sa)&&(sa=null),ua!==null&&rd(ua)&&(ua=null),ca!==null&&rd(ca)&&(ca=null),Ec.forEach(sy),Sc.forEach(sy)}function Wu(e,t){e.blockedOn===t&&(e.blockedOn=null,km||(km=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,cx)))}function bc(e){function t(i){return Wu(i,e)}if(0<k0.length){Wu(k0[0],e);for(var n=1;n<k0.length;n++){var r=k0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sa!==null&&Wu(sa,e),ua!==null&&Wu(ua,e),ca!==null&&Wu(ca,e),Ec.forEach(t),Sc.forEach(t),n=0;n<ta.length;n++)r=ta[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)w4(n),n.blockedOn===null&&ta.shift()}var Cs=Co.ReactCurrentBatchConfig,Cd=!0;function fx(e,t,n,r){var i=hn,o=Cs.transition;Cs.transition=null;try{hn=1,Qv(e,t,n,r)}finally{hn=i,Cs.transition=o}}function dx(e,t,n,r){var i=hn,o=Cs.transition;Cs.transition=null;try{hn=4,Qv(e,t,n,r)}finally{hn=i,Cs.transition=o}}function Qv(e,t,n,r){if(Cd){var i=Pm(e,t,n,r);if(i===null)Op(e,t,r,Ld,n),ly(e,r);else if(ux(i,e,t,n,r))r.stopPropagation();else if(ly(e,r),t&4&&-1<sx.indexOf(e)){for(;i!==null;){var o=Zc(i);if(o!==null&&g4(o),o=Pm(e,t,n,r),o===null&&Op(e,t,r,Ld,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Op(e,t,r,null,n)}}var Ld=null;function Pm(e,t,n,r){if(Ld=null,e=Wv(r),e=el(e),e!==null)if(t=Sl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ld=e,null}function E4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J7()){case Xv:return 1;case h4:return 4;case Td:case ex:return 16;case p4:return 536870912;default:return 16}default:return 16}}var ia=null,Kv=null,id=null;function S4(){if(id)return id;var e,t=Kv,n=t.length,r,i="value"in ia?ia.value:ia.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return id=i.slice(e,1<r?1-r:void 0)}function od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function P0(){return!0}function uy(){return!1}function oi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?P0:uy,this.isPropagationStopped=uy,this}return Fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=P0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=P0)},persist:function(){},isPersistent:P0}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=oi(Xs),Kc=Fn({},Xs,{view:0,detail:0}),hx=oi(Kc),wp,Ep,Xu,vh=Fn({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xu&&(Xu&&e.type==="mousemove"?(wp=e.screenX-Xu.screenX,Ep=e.screenY-Xu.screenY):Ep=wp=0,Xu=e),wp)},movementY:function(e){return"movementY"in e?e.movementY:Ep}}),cy=oi(vh),px=Fn({},vh,{dataTransfer:0}),mx=oi(px),vx=Fn({},Kc,{relatedTarget:0}),Sp=oi(vx),gx=Fn({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=oi(gx),xx=Fn({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_x=oi(xx),wx=Fn({},Xs,{data:0}),fy=oi(wx),Ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bx[e])?!!t[e]:!1}function Jv(){return Tx}var Ax=Fn({},Kc,{key:function(e){if(e.key){var t=Ex[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cx=oi(Ax),Lx=Fn({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=oi(Lx),Rx=Fn({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),Ox=oi(Rx),kx=Fn({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Px=oi(kx),Nx=Fn({},vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=oi(Nx),Ix=[9,13,27,32],e2=wo&&"CompositionEvent"in window,uc=null;wo&&"documentMode"in document&&(uc=document.documentMode);var Dx=wo&&"TextEvent"in window&&!uc,b4=wo&&(!e2||uc&&8<uc&&11>=uc),hy=" ",py=!1;function T4(e,t){switch(e){case"keyup":return Ix.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Fx(e,t){switch(e){case"compositionend":return A4(t);case"keypress":return t.which!==32?null:(py=!0,hy);case"textInput":return e=t.data,e===hy&&py?null:e;default:return null}}function $x(e,t){if(ds)return e==="compositionend"||!e2&&T4(e,t)?(e=S4(),id=Kv=ia=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b4&&t.locale!=="ko"?null:t.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bx[e.type]:t==="textarea"}function C4(e,t,n,r){i4(r),t=Rd(t,"onChange"),0<t.length&&(n=new Zv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cc=null,Tc=null;function jx(e){$4(e,0)}function gh(e){var t=ms(e);if(K6(t))return e}function zx(e,t){if(e==="change")return t}var L4=!1;if(wo){var bp;if(wo){var Tp="oninput"in document;if(!Tp){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Tp=typeof vy.oninput=="function"}bp=Tp}else bp=!1;L4=bp&&(!document.documentMode||9<document.documentMode)}function gy(){cc&&(cc.detachEvent("onpropertychange",R4),Tc=cc=null)}function R4(e){if(e.propertyName==="value"&&gh(Tc)){var t=[];C4(t,Tc,e,Wv(e)),s4(jx,t)}}function Gx(e,t,n){e==="focusin"?(gy(),cc=t,Tc=n,cc.attachEvent("onpropertychange",R4)):e==="focusout"&&gy()}function Ux(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gh(Tc)}function Vx(e,t){if(e==="click")return gh(t)}function Hx(e,t){if(e==="input"||e==="change")return gh(t)}function Wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:Wx;function Ac(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function yy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xy(e,t){var n=yy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yy(n)}}function O4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k4(){for(var e=window,t=Ed();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ed(e.document)}return t}function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xx(e){var t=k4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&O4(n.ownerDocument.documentElement,n)){if(r!==null&&t2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xy(n,o);var a=xy(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yx=wo&&"documentMode"in document&&11>=document.documentMode,hs=null,Nm=null,fc=null,Mm=!1;function _y(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||hs==null||hs!==Ed(r)||(r=hs,"selectionStart"in r&&t2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&Ac(fc,r)||(fc=r,r=Rd(Nm,"onSelect"),0<r.length&&(t=new Zv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hs)))}function N0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:N0("Animation","AnimationEnd"),animationiteration:N0("Animation","AnimationIteration"),animationstart:N0("Animation","AnimationStart"),transitionend:N0("Transition","TransitionEnd")},Ap={},P4={};wo&&(P4=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function yh(e){if(Ap[e])return Ap[e];if(!ps[e])return e;var t=ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in P4)return Ap[e]=t[n];return e}var N4=yh("animationend"),M4=yh("animationiteration"),I4=yh("animationstart"),D4=yh("transitionend"),F4=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(e,t){F4.set(e,t),El(t,[e])}for(var Cp=0;Cp<wy.length;Cp++){var Lp=wy[Cp],qx=Lp.toLowerCase(),Qx=Lp[0].toUpperCase()+Lp.slice(1);Ea(qx,"on"+Qx)}Ea(N4,"onAnimationEnd");Ea(M4,"onAnimationIteration");Ea(I4,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(D4,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));El("onBeforeInput",["compositionend","keypress","textInput","paste"]);El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Ey(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q7(r,t,void 0,e),e.currentTarget=null}function $4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Ey(i,l,u),o=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Ey(i,l,u),o=s}}}if(bd)throw e=Rm,bd=!1,Rm=null,e}function Sn(e,t){var n=t[Bm];n===void 0&&(n=t[Bm]=new Set);var r=e+"__bubble";n.has(r)||(B4(t,e,2,!1),n.add(r))}function Rp(e,t,n){var r=0;t&&(r|=4),B4(n,e,r,t)}var M0="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[M0]){e[M0]=!0,W6.forEach(function(n){n!=="selectionchange"&&(Kx.has(n)||Rp(n,!1,e),Rp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[M0]||(t[M0]=!0,Rp("selectionchange",!1,t))}}function B4(e,t,n,r){switch(E4(t)){case 1:var i=fx;break;case 4:i=dx;break;default:i=Qv}n=i.bind(null,t,n,e),i=void 0,!Lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Op(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;a=a.return}for(;l!==null;){if(a=el(l),a===null)return;if(s=a.tag,s===5||s===6){r=o=a;continue e}l=l.parentNode}}r=r.return}s4(function(){var u=o,f=Wv(n),h=[];e:{var c=F4.get(e);if(c!==void 0){var m=Zv,v=e;switch(e){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":m=Cx;break;case"focusin":v="focus",m=Sp;break;case"focusout":v="blur",m=Sp;break;case"beforeblur":case"afterblur":m=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ox;break;case N4:case M4:case I4:m=yx;break;case D4:m=Px;break;case"scroll":m=hx;break;case"wheel":m=Mx;break;case"copy":case"cut":case"paste":m=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dy}var S=(t&4)!==0,L=!S&&e==="scroll",g=S?c!==null?c+"Capture":null:c;S=[];for(var _=u,y;_!==null;){y=_;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,g!==null&&(O=wc(_,g),O!=null&&S.push(Lc(_,O,y)))),L)break;_=_.return}0<S.length&&(c=new m(c,v,null,n,f),h.push({event:c,listeners:S}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",c&&n!==Am&&(v=n.relatedTarget||n.fromElement)&&(el(v)||v[Eo]))break e;if((m||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?el(v):null,v!==null&&(L=Sl(v),v!==L||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=cy,O="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=dy,O="onPointerLeave",g="onPointerEnter",_="pointer"),L=m==null?c:ms(m),y=v==null?c:ms(v),c=new S(O,_+"leave",m,n,f),c.target=L,c.relatedTarget=y,O=null,el(f)===u&&(S=new S(g,_+"enter",v,n,f),S.target=y,S.relatedTarget=L,O=S),L=O,m&&v)t:{for(S=m,g=v,_=0,y=S;y;y=is(y))_++;for(y=0,O=g;O;O=is(O))y++;for(;0<_-y;)S=is(S),_--;for(;0<y-_;)g=is(g),y--;for(;_--;){if(S===g||g!==null&&S===g.alternate)break t;S=is(S),g=is(g)}S=null}else S=null;m!==null&&Sy(h,c,m,S,!1),v!==null&&L!==null&&Sy(h,L,v,S,!0)}}e:{if(c=u?ms(u):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var D=zx;else if(my(c))if(L4)D=Hx;else{D=Ux;var U=Gx}else(m=c.nodeName)&&m.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(D=Vx);if(D&&(D=D(e,u))){C4(h,D,n,f);break e}U&&U(e,c,u),e==="focusout"&&(U=c._wrapperState)&&U.controlled&&c.type==="number"&&wm(c,"number",c.value)}switch(U=u?ms(u):window,e){case"focusin":(my(U)||U.contentEditable==="true")&&(hs=U,Nm=u,fc=null);break;case"focusout":fc=Nm=hs=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,_y(h,n,f);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":_y(h,n,f)}var ee;if(e2)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else ds?T4(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(b4&&n.locale!=="ko"&&(ds||K!=="onCompositionStart"?K==="onCompositionEnd"&&ds&&(ee=S4()):(ia=f,Kv="value"in ia?ia.value:ia.textContent,ds=!0)),U=Rd(u,K),0<U.length&&(K=new fy(K,e,null,n,f),h.push({event:K,listeners:U}),ee?K.data=ee:(ee=A4(n),ee!==null&&(K.data=ee)))),(ee=Dx?Fx(e,n):$x(e,n))&&(u=Rd(u,"onBeforeInput"),0<u.length&&(f=new fy("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=ee))}$4(h,t)})}function Lc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wc(e,n),o!=null&&r.unshift(Lc(e,o,i)),o=wc(e,t),o!=null&&r.push(Lc(e,o,i))),e=e.return}return r}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sy(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=wc(n,o),s!=null&&a.unshift(Lc(n,s,l))):i||(s=wc(n,o),s!=null&&a.push(Lc(n,s,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(Jx,"")}function I0(e,t,n){if(t=by(t),by(e)!==t&&n)throw Error(ze(425))}function Od(){}var Im=null,Dm=null;function Fm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(n_)}:$m;function n_(e){setTimeout(function(){throw e})}function kp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),bc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bc(t)}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ay(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Ys,Rc="__reactProps$"+Ys,Eo="__reactContainer$"+Ys,Bm="__reactEvents$"+Ys,r_="__reactListeners$"+Ys,i_="__reactHandles$"+Ys;function el(e){var t=e[Yi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Eo]||n[Yi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ay(e);e!==null;){if(n=e[Yi])return n;e=Ay(e)}return t}e=n,n=e.parentNode}return null}function Zc(e){return e=e[Yi]||e[Eo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function xh(e){return e[Rc]||null}var jm=[],vs=-1;function Sa(e){return{current:e}}function bn(e){0>vs||(e.current=jm[vs],jm[vs]=null,vs--)}function _n(e,t){vs++,jm[vs]=e.current,e.current=t}var ya={},Er=Sa(ya),$r=Sa(!1),cl=ya;function Ms(e,t){var n=e.type.contextTypes;if(!n)return ya;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Br(e){return e=e.childContextTypes,e!=null}function kd(){bn($r),bn(Er)}function Cy(e,t,n){if(Er.current!==ya)throw Error(ze(168));_n(Er,t),_n($r,n)}function j4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,G7(e)||"Unknown",i));return Fn({},n,r)}function Pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ya,cl=Er.current,_n(Er,e),_n($r,$r.current),!0}function Ly(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=j4(e,t,cl),r.__reactInternalMemoizedMergedChildContext=e,bn($r),bn(Er),_n(Er,e)):bn($r),_n($r,n)}var vo=null,_h=!1,Pp=!1;function z4(e){vo===null?vo=[e]:vo.push(e)}function o_(e){_h=!0,z4(e)}function ba(){if(!Pp&&vo!==null){Pp=!0;var e=0,t=hn;try{var n=vo;for(hn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vo=null,_h=!1}catch(i){throw vo!==null&&(vo=vo.slice(e+1)),d4(Xv,ba),i}finally{hn=t,Pp=!1}}return null}var gs=[],ys=0,Nd=null,Md=0,di=[],hi=0,fl=null,yo=1,xo="";function Ka(e,t){gs[ys++]=Md,gs[ys++]=Nd,Nd=e,Md=t}function G4(e,t,n){di[hi++]=yo,di[hi++]=xo,di[hi++]=fl,fl=e;var r=yo;e=xo;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var o=32-ki(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yo=1<<32-ki(t)+i|n<<i|r,xo=o+e}else yo=1<<o|n<<i|r,xo=e}function n2(e){e.return!==null&&(Ka(e,1),G4(e,1,0))}function r2(e){for(;e===Nd;)Nd=gs[--ys],gs[ys]=null,Md=gs[--ys],gs[ys]=null;for(;e===fl;)fl=di[--hi],di[hi]=null,xo=di[--hi],di[hi]=null,yo=di[--hi],di[hi]=null}var ei=null,Jr=null,Cn=!1,Li=null;function U4(e,t){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ry(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Jr=fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fl!==null?{id:yo,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ei=e,Jr=null,!0):!1;default:return!1}}function zm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gm(e){if(Cn){var t=Jr;if(t){var n=t;if(!Ry(e,t)){if(zm(e))throw Error(ze(418));t=fa(n.nextSibling);var r=ei;t&&Ry(e,t)?U4(r,n):(e.flags=e.flags&-4097|2,Cn=!1,ei=e)}}else{if(zm(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Cn=!1,ei=e}}}function Oy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function D0(e){if(e!==ei)return!1;if(!Cn)return Oy(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fm(e.type,e.memoizedProps)),t&&(t=Jr)){if(zm(e))throw V4(),Error(ze(418));for(;t;)U4(e,t),t=fa(t.nextSibling)}if(Oy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jr=fa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=ei?fa(e.stateNode.nextSibling):null;return!0}function V4(){for(var e=Jr;e;)e=fa(e.nextSibling)}function Is(){Jr=ei=null,Cn=!1}function i2(e){Li===null?Li=[e]:Li.push(e)}var a_=Co.ReactCurrentBatchConfig;function Ai(e,t){if(e&&e.defaultProps){t=Fn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Id=Sa(null),Dd=null,xs=null,o2=null;function a2(){o2=xs=Dd=null}function l2(e){var t=Id.current;bn(Id),e._currentValue=t}function Um(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ls(e,t){Dd=e,o2=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fr=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(o2!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Dd===null)throw Error(ze(308));xs=e,Dd.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var tl=null;function s2(e){tl===null?tl=[e]:tl.push(e)}function H4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,s2(t)):(n.next=i.next,i.next=n),t.interleaved=n,So(e,r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ea=!1;function u2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,So(e,n)}return i=r.interleaved,i===null?(t.next=t,s2(r)):(t.next=i.next,i.next=t),r.interleaved=t,So(e,n)}function ad(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yv(e,n)}}function ky(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fd(e,t,n,r){var i=e.updateQueue;ea=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,a===null?o=u:a.next=u,a=s;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=s))}if(o!==null){var h=i.baseState;a=0,f=u=s=null,l=o;do{var c=l.lane,m=l.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,S=l;switch(c=t,m=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){h=v.call(m,h,c);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,c=typeof v=="function"?v.call(m,h,c):v,c==null)break e;h=Fn({},h,c);break e;case 2:ea=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else m={eventTime:m,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,s=h):f=f.next=m,a|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(s=h),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);hl|=a,e.lanes=a,e.memoizedState=h}}function Py(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var X4=new H6.Component().refs;function Vm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wh={isMounted:function(e){return(e=e._reactInternals)?Sl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=pa(e),o=_o(r,i);o.payload=t,n!=null&&(o.callback=n),t=da(e,o,i),t!==null&&(Pi(t,e,i,r),ad(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=pa(e),o=_o(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=da(e,o,i),t!==null&&(Pi(t,e,i,r),ad(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lr(),r=pa(e),i=_o(n,r);i.tag=2,t!=null&&(i.callback=t),t=da(e,i,r),t!==null&&(Pi(t,e,r,n),ad(t,e,r))}};function Ny(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ac(n,r)||!Ac(i,o):!0}function Y4(e,t,n){var r=!1,i=ya,o=t.contextType;return typeof o=="object"&&o!==null?o=vi(o):(i=Br(t)?cl:Er.current,r=t.contextTypes,o=(r=r!=null)?Ms(e,i):ya),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function My(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wh.enqueueReplaceState(t,t.state,null)}function Hm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=X4,u2(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vi(o):(o=Br(t)?cl:Er.current,i.context=Ms(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wh.enqueueReplaceState(i,i.state,null),Fd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===X4&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function F0(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iy(e){var t=e._init;return t(e._payload)}function q4(e){function t(g,_){if(e){var y=g.deletions;y===null?(g.deletions=[_],g.flags|=16):y.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=ma(g,_),g.index=0,g.sibling=null,g}function o(g,_,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<_?(g.flags|=2,_):y):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,_,y,O){return _===null||_.tag!==6?(_=Bp(y,g.mode,O),_.return=g,_):(_=i(_,y),_.return=g,_)}function s(g,_,y,O){var D=y.type;return D===fs?f(g,_,y.props.children,O,y.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jo&&Iy(D)===_.type)?(O=i(_,y.props),O.ref=Yu(g,_,y),O.return=g,O):(O=dd(y.type,y.key,y.props,null,g.mode,O),O.ref=Yu(g,_,y),O.return=g,O)}function u(g,_,y,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=jp(y,g.mode,O),_.return=g,_):(_=i(_,y.children||[]),_.return=g,_)}function f(g,_,y,O,D){return _===null||_.tag!==7?(_=al(y,g.mode,O,D),_.return=g,_):(_=i(_,y),_.return=g,_)}function h(g,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Bp(""+_,g.mode,y),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case A0:return y=dd(_.type,_.key,_.props,null,g.mode,y),y.ref=Yu(g,null,_),y.return=g,y;case cs:return _=jp(_,g.mode,y),_.return=g,_;case Jo:var O=_._init;return h(g,O(_._payload),y)}if(nc(_)||Uu(_))return _=al(_,g.mode,y,null),_.return=g,_;F0(g,_)}return null}function c(g,_,y,O){var D=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return D!==null?null:l(g,_,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case A0:return y.key===D?s(g,_,y,O):null;case cs:return y.key===D?u(g,_,y,O):null;case Jo:return D=y._init,c(g,_,D(y._payload),O)}if(nc(y)||Uu(y))return D!==null?null:f(g,_,y,O,null);F0(g,y)}return null}function m(g,_,y,O,D){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(y)||null,l(_,g,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A0:return g=g.get(O.key===null?y:O.key)||null,s(_,g,O,D);case cs:return g=g.get(O.key===null?y:O.key)||null,u(_,g,O,D);case Jo:var U=O._init;return m(g,_,y,U(O._payload),D)}if(nc(O)||Uu(O))return g=g.get(y)||null,f(_,g,O,D,null);F0(_,O)}return null}function v(g,_,y,O){for(var D=null,U=null,ee=_,K=_=0,He=null;ee!==null&&K<y.length;K++){ee.index>K?(He=ee,ee=null):He=ee.sibling;var ve=c(g,ee,y[K],O);if(ve===null){ee===null&&(ee=He);break}e&&ee&&ve.alternate===null&&t(g,ee),_=o(ve,_,K),U===null?D=ve:U.sibling=ve,U=ve,ee=He}if(K===y.length)return n(g,ee),Cn&&Ka(g,K),D;if(ee===null){for(;K<y.length;K++)ee=h(g,y[K],O),ee!==null&&(_=o(ee,_,K),U===null?D=ee:U.sibling=ee,U=ee);return Cn&&Ka(g,K),D}for(ee=r(g,ee);K<y.length;K++)He=m(ee,g,K,y[K],O),He!==null&&(e&&He.alternate!==null&&ee.delete(He.key===null?K:He.key),_=o(He,_,K),U===null?D=He:U.sibling=He,U=He);return e&&ee.forEach(function(Re){return t(g,Re)}),Cn&&Ka(g,K),D}function S(g,_,y,O){var D=Uu(y);if(typeof D!="function")throw Error(ze(150));if(y=D.call(y),y==null)throw Error(ze(151));for(var U=D=null,ee=_,K=_=0,He=null,ve=y.next();ee!==null&&!ve.done;K++,ve=y.next()){ee.index>K?(He=ee,ee=null):He=ee.sibling;var Re=c(g,ee,ve.value,O);if(Re===null){ee===null&&(ee=He);break}e&&ee&&Re.alternate===null&&t(g,ee),_=o(Re,_,K),U===null?D=Re:U.sibling=Re,U=Re,ee=He}if(ve.done)return n(g,ee),Cn&&Ka(g,K),D;if(ee===null){for(;!ve.done;K++,ve=y.next())ve=h(g,ve.value,O),ve!==null&&(_=o(ve,_,K),U===null?D=ve:U.sibling=ve,U=ve);return Cn&&Ka(g,K),D}for(ee=r(g,ee);!ve.done;K++,ve=y.next())ve=m(ee,g,K,ve.value,O),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?K:ve.key),_=o(ve,_,K),U===null?D=ve:U.sibling=ve,U=ve);return e&&ee.forEach(function(Oe){return t(g,Oe)}),Cn&&Ka(g,K),D}function L(g,_,y,O){if(typeof y=="object"&&y!==null&&y.type===fs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case A0:e:{for(var D=y.key,U=_;U!==null;){if(U.key===D){if(D=y.type,D===fs){if(U.tag===7){n(g,U.sibling),_=i(U,y.props.children),_.return=g,g=_;break e}}else if(U.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jo&&Iy(D)===U.type){n(g,U.sibling),_=i(U,y.props),_.ref=Yu(g,U,y),_.return=g,g=_;break e}n(g,U);break}else t(g,U);U=U.sibling}y.type===fs?(_=al(y.props.children,g.mode,O,y.key),_.return=g,g=_):(O=dd(y.type,y.key,y.props,null,g.mode,O),O.ref=Yu(g,_,y),O.return=g,g=O)}return a(g);case cs:e:{for(U=y.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(g,_.sibling),_=i(_,y.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=jp(y,g.mode,O),_.return=g,g=_}return a(g);case Jo:return U=y._init,L(g,_,U(y._payload),O)}if(nc(y))return v(g,_,y,O);if(Uu(y))return S(g,_,y,O);F0(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,y),_.return=g,g=_):(n(g,_),_=Bp(y,g.mode,O),_.return=g,g=_),a(g)):n(g,_)}return L}var Ds=q4(!0),Q4=q4(!1),Jc={},Qi=Sa(Jc),Oc=Sa(Jc),kc=Sa(Jc);function nl(e){if(e===Jc)throw Error(ze(174));return e}function c2(e,t){switch(_n(kc,t),_n(Oc,e),_n(Qi,Jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}bn(Qi),_n(Qi,t)}function Fs(){bn(Qi),bn(Oc),bn(kc)}function K4(e){nl(kc.current);var t=nl(Qi.current),n=Sm(t,e.type);t!==n&&(_n(Oc,e),_n(Qi,n))}function f2(e){Oc.current===e&&(bn(Qi),bn(Oc))}var Nn=Sa(0);function $d(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Np=[];function d2(){for(var e=0;e<Np.length;e++)Np[e]._workInProgressVersionPrimary=null;Np.length=0}var ld=Co.ReactCurrentDispatcher,Mp=Co.ReactCurrentBatchConfig,dl=0,Dn=null,or=null,dr=null,Bd=!1,dc=!1,Pc=0,l_=0;function yr(){throw Error(ze(321))}function h2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function p2(e,t,n,r,i,o){if(dl=o,Dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ld.current=e===null||e.memoizedState===null?f_:d_,e=n(r,i),dc){o=0;do{if(dc=!1,Pc=0,25<=o)throw Error(ze(301));o+=1,dr=or=null,t.updateQueue=null,ld.current=h_,e=n(r,i)}while(dc)}if(ld.current=jd,t=or!==null&&or.next!==null,dl=0,dr=or=Dn=null,Bd=!1,t)throw Error(ze(300));return e}function m2(){var e=Pc!==0;return Pc=0,e}function Wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Dn.memoizedState=dr=e:dr=dr.next=e,dr}function gi(){if(or===null){var e=Dn.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=dr===null?Dn.memoizedState:dr.next;if(t!==null)dr=t,or=e;else{if(e===null)throw Error(ze(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},dr===null?Dn.memoizedState=dr=e:dr=dr.next=e}return dr}function Nc(e,t){return typeof t=="function"?t(e):t}function Ip(e){var t=gi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=or,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,s=null,u=o;do{var f=u.lane;if((dl&f)===f)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=h,a=r):s=s.next=h,Dn.lanes|=f,hl|=f}u=u.next}while(u!==null&&u!==o);s===null?a=r:s.next=l,Ni(r,t.memoizedState)||(Fr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Dn.lanes|=o,hl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dp(e){var t=gi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ni(o,t.memoizedState)||(Fr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Z4(){}function J4(e,t){var n=Dn,r=gi(),i=t(),o=!Ni(r.memoizedState,i);if(o&&(r.memoizedState=i,Fr=!0),r=r.queue,v2(n5.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Mc(9,t5.bind(null,n,r,i,t),void 0,null),hr===null)throw Error(ze(349));dl&30||e5(n,t,i)}return i}function e5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Dn.updateQueue,t===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function t5(e,t,n,r){t.value=n,t.getSnapshot=r,r5(t)&&i5(e)}function n5(e,t,n){return n(function(){r5(t)&&i5(e)})}function r5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function i5(e){var t=So(e,1);t!==null&&Pi(t,e,1,-1)}function Dy(e){var t=Wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:e},t.queue=e,e=e.dispatch=c_.bind(null,Dn,e),[t.memoizedState,e]}function Mc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Dn.updateQueue,t===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function o5(){return gi().memoizedState}function sd(e,t,n,r){var i=Wi();Dn.flags|=e,i.memoizedState=Mc(1|t,n,void 0,r===void 0?null:r)}function Eh(e,t,n,r){var i=gi();r=r===void 0?null:r;var o=void 0;if(or!==null){var a=or.memoizedState;if(o=a.destroy,r!==null&&h2(r,a.deps)){i.memoizedState=Mc(t,n,o,r);return}}Dn.flags|=e,i.memoizedState=Mc(1|t,n,o,r)}function Fy(e,t){return sd(8390656,8,e,t)}function v2(e,t){return Eh(2048,8,e,t)}function a5(e,t){return Eh(4,2,e,t)}function l5(e,t){return Eh(4,4,e,t)}function s5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u5(e,t,n){return n=n!=null?n.concat([e]):null,Eh(4,4,s5.bind(null,t,e),n)}function g2(){}function c5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function f5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function d5(e,t,n){return dl&21?(Ni(n,t)||(n=m4(),Dn.lanes|=n,hl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fr=!0),e.memoizedState=n)}function s_(e,t){var n=hn;hn=n!==0&&4>n?n:4,e(!0);var r=Mp.transition;Mp.transition={};try{e(!1),t()}finally{hn=n,Mp.transition=r}}function h5(){return gi().memoizedState}function u_(e,t,n){var r=pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p5(e))m5(t,n);else if(n=H4(e,t,n,r),n!==null){var i=Lr();Pi(n,e,r,i),v5(n,t,r)}}function c_(e,t,n){var r=pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p5(e))m5(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ni(l,a)){var s=t.interleaved;s===null?(i.next=i,s2(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=H4(e,t,i,r),n!==null&&(i=Lr(),Pi(n,e,r,i),v5(n,t,r))}}function p5(e){var t=e.alternate;return e===Dn||t!==null&&t===Dn}function m5(e,t){dc=Bd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function v5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yv(e,n)}}var jd={readContext:vi,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},f_={readContext:vi,useCallback:function(e,t){return Wi().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:Fy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sd(4194308,4,s5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return sd(4,2,e,t)},useMemo:function(e,t){var n=Wi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u_.bind(null,Dn,e),[r.memoizedState,e]},useRef:function(e){var t=Wi();return e={current:e},t.memoizedState=e},useState:Dy,useDebugValue:g2,useDeferredValue:function(e){return Wi().memoizedState=e},useTransition:function(){var e=Dy(!1),t=e[0];return e=s_.bind(null,e[1]),Wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Dn,i=Wi();if(Cn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),hr===null)throw Error(ze(349));dl&30||e5(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fy(n5.bind(null,r,o,e),[e]),r.flags|=2048,Mc(9,t5.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wi(),t=hr.identifierPrefix;if(Cn){var n=xo,r=yo;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d_={readContext:vi,useCallback:c5,useContext:vi,useEffect:v2,useImperativeHandle:u5,useInsertionEffect:a5,useLayoutEffect:l5,useMemo:f5,useReducer:Ip,useRef:o5,useState:function(){return Ip(Nc)},useDebugValue:g2,useDeferredValue:function(e){var t=gi();return d5(t,or.memoizedState,e)},useTransition:function(){var e=Ip(Nc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:Z4,useSyncExternalStore:J4,useId:h5,unstable_isNewReconciler:!1},h_={readContext:vi,useCallback:c5,useContext:vi,useEffect:v2,useImperativeHandle:u5,useInsertionEffect:a5,useLayoutEffect:l5,useMemo:f5,useReducer:Dp,useRef:o5,useState:function(){return Dp(Nc)},useDebugValue:g2,useDeferredValue:function(e){var t=gi();return or===null?t.memoizedState=e:d5(t,or.memoizedState,e)},useTransition:function(){var e=Dp(Nc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:Z4,useSyncExternalStore:J4,useId:h5,unstable_isNewReconciler:!1};function $s(e,t){try{var n="",r=t;do n+=z7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Fp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function g5(e,t,n){n=_o(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gd||(Gd=!0,nv=r),Wm(e,t)},n}function y5(e,t,n){n=_o(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wm(e,t),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function $y(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=L_.bind(null,e,t,n),t.then(e,e))}function By(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_o(-1,1),t.tag=2,da(n,t,1))),n.lanes|=1),e)}var m_=Co.ReactCurrentOwner,Fr=!1;function Ar(e,t,n,r){t.child=e===null?Q4(t,null,n,r):Ds(t,e.child,n,r)}function zy(e,t,n,r,i){n=n.render;var o=t.ref;return Ls(t,i),r=p2(e,t,n,r,o,i),n=m2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bo(e,t,i)):(Cn&&n&&n2(t),t.flags|=1,Ar(e,t,r,i),t.child)}function Gy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!T2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,x5(e,t,o,r,i)):(e=dd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ac,n(a,r)&&e.ref===t.ref)return bo(e,t,i)}return t.flags|=1,e=ma(o,r),e.ref=t.ref,e.return=t,t.child=e}function x5(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ac(o,r)&&e.ref===t.ref)if(Fr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Fr=!0);else return t.lanes=e.lanes,bo(e,t,i)}return Xm(e,t,n,r,i)}function _5(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(ws,Zr),Zr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_n(ws,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_n(ws,Zr),Zr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_n(ws,Zr),Zr|=r;return Ar(e,t,i,n),t.child}function w5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xm(e,t,n,r,i){var o=Br(n)?cl:Er.current;return o=Ms(t,o),Ls(t,i),n=p2(e,t,n,r,o,i),r=m2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bo(e,t,i)):(Cn&&r&&n2(t),t.flags|=1,Ar(e,t,n,i),t.child)}function Uy(e,t,n,r,i){if(Br(n)){var o=!0;Pd(t)}else o=!1;if(Ls(t,i),t.stateNode===null)ud(e,t),Y4(t,n,r),Hm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vi(u):(u=Br(n)?cl:Er.current,u=Ms(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==u)&&My(t,a,r,u),ea=!1;var c=t.memoizedState;a.state=c,Fd(t,r,a,i),s=t.memoizedState,l!==r||c!==s||$r.current||ea?(typeof f=="function"&&(Vm(t,n,f,r),s=t.memoizedState),(l=ea||Ny(t,n,l,r,c,s,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,W4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ai(t.type,l),a.props=u,h=t.pendingProps,c=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=vi(s):(s=Br(n)?cl:Er.current,s=Ms(t,s));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||c!==s)&&My(t,a,r,s),ea=!1,c=t.memoizedState,a.state=c,Fd(t,r,a,i);var v=t.memoizedState;l!==h||c!==v||$r.current||ea?(typeof m=="function"&&(Vm(t,n,m,r),v=t.memoizedState),(u=ea||Ny(t,n,u,r,c,v,s)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Ym(e,t,n,r,o,i)}function Ym(e,t,n,r,i,o){w5(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ly(t,n,!1),bo(e,t,o);r=t.stateNode,m_.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ds(t,e.child,null,o),t.child=Ds(t,null,l,o)):Ar(e,t,l,o),t.memoizedState=r.state,i&&Ly(t,n,!0),t.child}function E5(e){var t=e.stateNode;t.pendingContext?Cy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cy(e,t.context,!1),c2(e,t.containerInfo)}function Vy(e,t,n,r,i){return Is(),i2(i),t.flags|=256,Ar(e,t,n,r),t.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Qm(e){return{baseLanes:e,cachePool:null,transitions:null}}function S5(e,t,n){var r=t.pendingProps,i=Nn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_n(Nn,i&1),e===null)return Gm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Th(a,r,0,null),e=al(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qm(n),t.memoizedState=qm,e):y2(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return v_(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=ma(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ma(l,o):(o=al(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Qm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=qm,r}return o=e.child,e=o.sibling,r=ma(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function y2(e,t){return t=Th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $0(e,t,n,r){return r!==null&&i2(r),Ds(t,e.child,null,n),e=y2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v_(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Fp(Error(ze(422))),$0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Th({mode:"visible",children:r.children},i,0,null),o=al(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ds(t,e.child,null,a),t.child.memoizedState=Qm(a),t.memoizedState=qm,o);if(!(t.mode&1))return $0(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ze(419)),r=Fp(o,r,void 0),$0(e,t,a,r)}if(l=(a&e.childLanes)!==0,Fr||l){if(r=hr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,So(e,i),Pi(r,e,i,-1))}return b2(),r=Fp(Error(ze(421))),$0(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jr=fa(i.nextSibling),ei=t,Cn=!0,Li=null,e!==null&&(di[hi++]=yo,di[hi++]=xo,di[hi++]=fl,yo=e.id,xo=e.overflow,fl=t),t=y2(t,r.children),t.flags|=4096,t)}function Hy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Um(e.return,t,n)}function $p(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function b5(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ar(e,t,r.children,n),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hy(e,n,t);else if(e.tag===19)Hy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_n(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$d(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$p(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$d(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$p(t,!0,n,null,o);break;case"together":$p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=ma(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ma(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g_(e,t,n){switch(t.tag){case 3:E5(t),Is();break;case 5:K4(t);break;case 1:Br(t.type)&&Pd(t);break;case 4:c2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_n(Id,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_n(Nn,Nn.current&1),t.flags|=128,null):n&t.child.childLanes?S5(e,t,n):(_n(Nn,Nn.current&1),e=bo(e,t,n),e!==null?e.sibling:null);_n(Nn,Nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return b5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,_5(e,t,n)}return bo(e,t,n)}var T5,Km,A5,C5;T5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Km=function(){};A5=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,nl(Qi.current);var o=null;switch(n){case"input":i=xm(e,i),r=xm(e,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=Em(e,i),r=Em(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Od)}bm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&Sn("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};C5=function(e,t,n,r){n!==r&&(t.flags|=4)};function qu(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y_(e,t,n){var r=t.pendingProps;switch(r2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Br(t.type)&&kd(),xr(t),null;case 3:return r=t.stateNode,Fs(),bn($r),bn(Er),d2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(D0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li!==null&&(ov(Li),Li=null))),Km(e,t),xr(t),null;case 5:f2(t);var i=nl(kc.current);if(n=t.type,e!==null&&t.stateNode!=null)A5(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return xr(t),null}if(e=nl(Qi.current),D0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yi]=t,r[Rc]=o,e=(t.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<ic.length;i++)Sn(ic[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":ey(r,o),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Sn("invalid",r);break;case"textarea":ny(r,o),Sn("invalid",r)}bm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&I0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&I0(r.textContent,l,e),i=["children",""+l]):xc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Sn("scroll",r)}switch(n){case"input":C0(r),ty(r,o,!0);break;case"textarea":C0(r),ry(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Od)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Yi]=t,e[Rc]=r,T5(e,t,!1,!1),t.stateNode=e;e:{switch(a=Tm(n,r),n){case"dialog":Sn("cancel",e),Sn("close",e),i=r;break;case"iframe":case"object":case"embed":Sn("load",e),i=r;break;case"video":case"audio":for(i=0;i<ic.length;i++)Sn(ic[i],e);i=r;break;case"source":Sn("error",e),i=r;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),i=r;break;case"details":Sn("toggle",e),i=r;break;case"input":ey(e,r),i=xm(e,r),Sn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),Sn("invalid",e);break;case"textarea":ny(e,r),i=Em(e,r),Sn("invalid",e);break;default:i=r}bm(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?r4(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&t4(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&_c(e,s):typeof s=="number"&&_c(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xc.hasOwnProperty(o)?s!=null&&o==="onScroll"&&Sn("scroll",e):s!=null&&Gv(e,o,s,a))}switch(n){case"input":C0(e),ty(e,r,!1);break;case"textarea":C0(e),ry(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ga(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?bs(e,!!r.multiple,o,!1):r.defaultValue!=null&&bs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)C5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=nl(kc.current),nl(Qi.current),D0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yi]=t,(o=r.nodeValue!==n)&&(e=ei,e!==null))switch(e.tag){case 3:I0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&I0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yi]=t,t.stateNode=r}return xr(t),null;case 13:if(bn(Nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&Jr!==null&&t.mode&1&&!(t.flags&128))V4(),Is(),t.flags|=98560,o=!1;else if(o=D0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ze(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[Yi]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),o=!1}else Li!==null&&(ov(Li),Li=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?ar===0&&(ar=3):b2())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return Fs(),Km(e,t),e===null&&Cc(t.stateNode.containerInfo),xr(t),null;case 10:return l2(t.type._context),xr(t),null;case 17:return Br(t.type)&&kd(),xr(t),null;case 19:if(bn(Nn),o=t.memoizedState,o===null)return xr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)qu(o,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$d(e),a!==null){for(t.flags|=128,qu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _n(Nn,Nn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yn()>Bs&&(t.flags|=128,r=!0,qu(o,!1),t.lanes=4194304)}else{if(!r)if(e=$d(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Cn)return xr(t),null}else 2*Yn()-o.renderingStartTime>Bs&&n!==1073741824&&(t.flags|=128,r=!0,qu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yn(),t.sibling=null,n=Nn.current,_n(Nn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return S2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zr&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function x_(e,t){switch(r2(t),t.tag){case 1:return Br(t.type)&&kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(),bn($r),bn(Er),d2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return f2(t),null;case 13:if(bn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bn(Nn),null;case 4:return Fs(),null;case 10:return l2(t.type._context),null;case 22:case 23:return S2(),null;case 24:return null;default:return null}}var B0=!1,_r=!1,__=typeof WeakSet=="function"?WeakSet:Set,ft=null;function _s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(e,t,r)}else n.current=null}function Zm(e,t,n){try{n()}catch(r){Gn(e,t,r)}}var Wy=!1;function w_(e,t){if(Im=Cd,e=k4(),t2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,u=0,f=0,h=e,c=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(s=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)c=h,h=m;for(;;){if(h===e)break t;if(c===n&&++u===i&&(l=a),c===o&&++f===r&&(s=a),(m=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=m}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dm={focusedElem:e,selectionRange:n},Cd=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,L=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ai(t.type,S),L);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(O){Gn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return v=Wy,Wy=!1,v}function hc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zm(t,n,o)}i=i.next}while(i!==r)}}function Sh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L5(e){var t=e.alternate;t!==null&&(e.alternate=null,L5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yi],delete t[Rc],delete t[Bm],delete t[r_],delete t[i_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R5(e){return e.tag===5||e.tag===3||e.tag===4}function Xy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ev(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Od));else if(r!==4&&(e=e.child,e!==null))for(ev(e,t,n),e=e.sibling;e!==null;)ev(e,t,n),e=e.sibling}function tv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tv(e,t,n),e=e.sibling;e!==null;)tv(e,t,n),e=e.sibling}var pr=null,Ci=!1;function Yo(e,t,n){for(n=n.child;n!==null;)O5(e,t,n),n=n.sibling}function O5(e,t,n){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:_r||_s(n,t);case 6:var r=pr,i=Ci;pr=null,Yo(e,t,n),pr=r,Ci=i,pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?kp(e.parentNode,n):e.nodeType===1&&kp(e,n),bc(e)):kp(pr,n.stateNode));break;case 4:r=pr,i=Ci,pr=n.stateNode.containerInfo,Ci=!0,Yo(e,t,n),pr=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Zm(n,t,a),i=i.next}while(i!==r)}Yo(e,t,n);break;case 1:if(!_r&&(_s(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gn(n,t,l)}Yo(e,t,n);break;case 21:Yo(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,Yo(e,t,n),_r=r):Yo(e,t,n);break;default:Yo(e,t,n)}}function Yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new __),t.forEach(function(r){var i=O_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,Ci=!1;break e;case 3:pr=l.stateNode.containerInfo,Ci=!0;break e;case 4:pr=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(pr===null)throw Error(ze(160));O5(o,a,i),pr=null,Ci=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Gn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k5(t,e),t=t.sibling}function k5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),Vi(e),r&4){try{hc(3,e,e.return),Sh(3,e)}catch(S){Gn(e,e.return,S)}try{hc(5,e,e.return)}catch(S){Gn(e,e.return,S)}}break;case 1:Si(t,e),Vi(e),r&512&&n!==null&&_s(n,n.return);break;case 5:if(Si(t,e),Vi(e),r&512&&n!==null&&_s(n,n.return),e.flags&32){var i=e.stateNode;try{_c(i,"")}catch(S){Gn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Z6(i,o),Tm(l,a);var u=Tm(l,o);for(a=0;a<s.length;a+=2){var f=s[a],h=s[a+1];f==="style"?r4(i,h):f==="dangerouslySetInnerHTML"?t4(i,h):f==="children"?_c(i,h):Gv(i,f,h,u)}switch(l){case"input":_m(i,o);break;case"textarea":J6(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?bs(i,!!o.multiple,m,!1):c!==!!o.multiple&&(o.defaultValue!=null?bs(i,!!o.multiple,o.defaultValue,!0):bs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rc]=o}catch(S){Gn(e,e.return,S)}}break;case 6:if(Si(t,e),Vi(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){Gn(e,e.return,S)}}break;case 3:if(Si(t,e),Vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bc(t.containerInfo)}catch(S){Gn(e,e.return,S)}break;case 4:Si(t,e),Vi(e);break;case 13:Si(t,e),Vi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(w2=Yn())),r&4&&Yy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(u=_r)||f,Si(t,e),_r=u):Si(t,e),Vi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ft=e,f=e.child;f!==null;){for(h=ft=f;ft!==null;){switch(c=ft,m=c.child,c.tag){case 0:case 11:case 14:case 15:hc(4,c,c.return);break;case 1:_s(c,c.return);var v=c.stateNode;if(typeof v.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(S){Gn(r,n,S)}}break;case 5:_s(c,c.return);break;case 22:if(c.memoizedState!==null){Qy(h);continue}}m!==null?(m.return=c,ft=m):Qy(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,s=h.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=n4("display",a))}catch(S){Gn(e,e.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Gn(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Si(t,e),Vi(e),r&4&&Yy(e);break;case 21:break;default:Si(t,e),Vi(e)}}function Vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(R5(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var o=Xy(e);tv(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Xy(e);ev(e,l,a);break;default:throw Error(ze(161))}}catch(s){Gn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E_(e,t,n){ft=e,P5(e)}function P5(e,t,n){for(var r=(e.mode&1)!==0;ft!==null;){var i=ft,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||B0;if(!a){var l=i.alternate,s=l!==null&&l.memoizedState!==null||_r;l=B0;var u=_r;if(B0=a,(_r=s)&&!u)for(ft=i;ft!==null;)a=ft,s=a.child,a.tag===22&&a.memoizedState!==null?Ky(i):s!==null?(s.return=a,ft=s):Ky(i);for(;o!==null;)ft=o,P5(o),o=o.sibling;ft=i,B0=l,_r=u}qy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ft=o):qy(e)}}function qy(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||Sh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ai(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Py(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Py(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&bc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}_r||t.flags&512&&Jm(t)}catch(c){Gn(t,t.return,c)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function Qy(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function Ky(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sh(4,t)}catch(s){Gn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Gn(t,i,s)}}var o=t.return;try{Jm(t)}catch(s){Gn(t,o,s)}break;case 5:var a=t.return;try{Jm(t)}catch(s){Gn(t,a,s)}}}catch(s){Gn(t,t.return,s)}if(t===e){ft=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ft=l;break}ft=t.return}}var S_=Math.ceil,zd=Co.ReactCurrentDispatcher,x2=Co.ReactCurrentOwner,mi=Co.ReactCurrentBatchConfig,sn=0,hr=null,Zn=null,mr=0,Zr=0,ws=Sa(0),ar=0,Ic=null,hl=0,bh=0,_2=0,pc=null,Dr=null,w2=0,Bs=1/0,mo=null,Gd=!1,nv=null,ha=null,j0=!1,oa=null,Ud=0,mc=0,rv=null,cd=-1,fd=0;function Lr(){return sn&6?Yn():cd!==-1?cd:cd=Yn()}function pa(e){return e.mode&1?sn&2&&mr!==0?mr&-mr:a_.transition!==null?(fd===0&&(fd=m4()),fd):(e=hn,e!==0||(e=window.event,e=e===void 0?16:E4(e.type)),e):1}function Pi(e,t,n,r){if(50<mc)throw mc=0,rv=null,Error(ze(185));Qc(e,n,r),(!(sn&2)||e!==hr)&&(e===hr&&(!(sn&2)&&(bh|=n),ar===4&&na(e,mr)),jr(e,r),n===1&&sn===0&&!(t.mode&1)&&(Bs=Yn()+500,_h&&ba()))}function jr(e,t){var n=e.callbackNode;ax(e,t);var r=Ad(e,e===hr?mr:0);if(r===0)n!==null&&ay(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ay(n),t===1)e.tag===0?o_(Zy.bind(null,e)):z4(Zy.bind(null,e)),t_(function(){!(sn&6)&&ba()}),n=null;else{switch(v4(r)){case 1:n=Xv;break;case 4:n=h4;break;case 16:n=Td;break;case 536870912:n=p4;break;default:n=Td}n=j5(n,N5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N5(e,t){if(cd=-1,fd=0,sn&6)throw Error(ze(327));var n=e.callbackNode;if(Rs()&&e.callbackNode!==n)return null;var r=Ad(e,e===hr?mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vd(e,r);else{t=r;var i=sn;sn|=2;var o=I5();(hr!==e||mr!==t)&&(mo=null,Bs=Yn()+500,ol(e,t));do try{A_();break}catch(l){M5(e,l)}while(!0);a2(),zd.current=o,sn=i,Zn!==null?t=0:(hr=null,mr=0,t=ar)}if(t!==0){if(t===2&&(i=Om(e),i!==0&&(r=i,t=iv(e,i))),t===1)throw n=Ic,ol(e,0),na(e,r),jr(e,Yn()),n;if(t===6)na(e,r);else{if(i=e.current.alternate,!(r&30)&&!b_(i)&&(t=Vd(e,r),t===2&&(o=Om(e),o!==0&&(r=o,t=iv(e,o))),t===1))throw n=Ic,ol(e,0),na(e,r),jr(e,Yn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Za(e,Dr,mo);break;case 3:if(na(e,r),(r&130023424)===r&&(t=w2+500-Yn(),10<t)){if(Ad(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$m(Za.bind(null,e,Dr,mo),t);break}Za(e,Dr,mo);break;case 4:if(na(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ki(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S_(r/1960))-r,10<r){e.timeoutHandle=$m(Za.bind(null,e,Dr,mo),r);break}Za(e,Dr,mo);break;case 5:Za(e,Dr,mo);break;default:throw Error(ze(329))}}}return jr(e,Yn()),e.callbackNode===n?N5.bind(null,e):null}function iv(e,t){var n=pc;return e.current.memoizedState.isDehydrated&&(ol(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&ov(t)),e}function ov(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function b_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ni(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t){for(t&=~_2,t&=~bh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ki(t),r=1<<n;e[n]=-1,t&=~r}}function Zy(e){if(sn&6)throw Error(ze(327));Rs();var t=Ad(e,0);if(!(t&1))return jr(e,Yn()),null;var n=Vd(e,t);if(e.tag!==0&&n===2){var r=Om(e);r!==0&&(t=r,n=iv(e,r))}if(n===1)throw n=Ic,ol(e,0),na(e,t),jr(e,Yn()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Za(e,Dr,mo),jr(e,Yn()),null}function E2(e,t){var n=sn;sn|=1;try{return e(t)}finally{sn=n,sn===0&&(Bs=Yn()+500,_h&&ba())}}function pl(e){oa!==null&&oa.tag===0&&!(sn&6)&&Rs();var t=sn;sn|=1;var n=mi.transition,r=hn;try{if(mi.transition=null,hn=1,e)return e()}finally{hn=r,mi.transition=n,sn=t,!(sn&6)&&ba()}}function S2(){Zr=ws.current,bn(ws)}function ol(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e_(n)),Zn!==null)for(n=Zn.return;n!==null;){var r=n;switch(r2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:Fs(),bn($r),bn(Er),d2();break;case 5:f2(r);break;case 4:Fs();break;case 13:bn(Nn);break;case 19:bn(Nn);break;case 10:l2(r.type._context);break;case 22:case 23:S2()}n=n.return}if(hr=e,Zn=e=ma(e.current,null),mr=Zr=t,ar=0,Ic=null,_2=bh=hl=0,Dr=pc=null,tl!==null){for(t=0;t<tl.length;t++)if(n=tl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}tl=null}return e}function M5(e,t){do{var n=Zn;try{if(a2(),ld.current=jd,Bd){for(var r=Dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bd=!1}if(dl=0,dr=or=Dn=null,dc=!1,Pc=0,x2.current=null,n===null||n.return===null){ar=1,Ic=t,Zn=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=mr,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=By(a);if(m!==null){m.flags&=-257,jy(m,a,l,o,t),m.mode&1&&$y(o,u,t),t=m,s=u;var v=t.updateQueue;if(v===null){var S=new Set;S.add(s),t.updateQueue=S}else v.add(s);break e}else{if(!(t&1)){$y(o,u,t),b2();break e}s=Error(ze(426))}}else if(Cn&&l.mode&1){var L=By(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),jy(L,a,l,o,t),i2($s(s,l));break e}}o=s=$s(s,l),ar!==4&&(ar=2),pc===null?pc=[o]:pc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=g5(o,s,t);ky(o,g);break e;case 1:l=s;var _=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=y5(o,l,t);ky(o,O);break e}}o=o.return}while(o!==null)}F5(n)}catch(D){t=D,Zn===n&&n!==null&&(Zn=n=n.return);continue}break}while(!0)}function I5(){var e=zd.current;return zd.current=jd,e===null?jd:e}function b2(){(ar===0||ar===3||ar===2)&&(ar=4),hr===null||!(hl&268435455)&&!(bh&268435455)||na(hr,mr)}function Vd(e,t){var n=sn;sn|=2;var r=I5();(hr!==e||mr!==t)&&(mo=null,ol(e,t));do try{T_();break}catch(i){M5(e,i)}while(!0);if(a2(),sn=n,zd.current=r,Zn!==null)throw Error(ze(261));return hr=null,mr=0,ar}function T_(){for(;Zn!==null;)D5(Zn)}function A_(){for(;Zn!==null&&!K7();)D5(Zn)}function D5(e){var t=B5(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?F5(e):Zn=t,x2.current=null}function F5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x_(n,t),n!==null){n.flags&=32767,Zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ar=6,Zn=null;return}}else if(n=y_(n,t,Zr),n!==null){Zn=n;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ar===0&&(ar=5)}function Za(e,t,n){var r=hn,i=mi.transition;try{mi.transition=null,hn=1,C_(e,t,n,r)}finally{mi.transition=i,hn=r}return null}function C_(e,t,n,r){do Rs();while(oa!==null);if(sn&6)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(lx(e,o),e===hr&&(Zn=hr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||j0||(j0=!0,j5(Td,function(){return Rs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var a=hn;hn=1;var l=sn;sn|=4,x2.current=null,w_(e,n),k5(n,e),Xx(Dm),Cd=!!Im,Dm=Im=null,e.current=n,E_(n),Z7(),sn=l,hn=a,mi.transition=o}else e.current=n;if(j0&&(j0=!1,oa=e,Ud=i),o=e.pendingLanes,o===0&&(ha=null),tx(n.stateNode),jr(e,Yn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gd)throw Gd=!1,e=nv,nv=null,e;return Ud&1&&e.tag!==0&&Rs(),o=e.pendingLanes,o&1?e===rv?mc++:(mc=0,rv=e):mc=0,ba(),null}function Rs(){if(oa!==null){var e=v4(Ud),t=mi.transition,n=hn;try{if(mi.transition=null,hn=16>e?16:e,oa===null)var r=!1;else{if(e=oa,oa=null,Ud=0,sn&6)throw Error(ze(331));var i=sn;for(sn|=4,ft=e.current;ft!==null;){var o=ft,a=o.child;if(ft.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(ft=u;ft!==null;){var f=ft;switch(f.tag){case 0:case 11:case 15:hc(8,f,o)}var h=f.child;if(h!==null)h.return=f,ft=h;else for(;ft!==null;){f=ft;var c=f.sibling,m=f.return;if(L5(f),f===u){ft=null;break}if(c!==null){c.return=m,ft=c;break}ft=m}}}var v=o.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var L=S.sibling;S.sibling=null,S=L}while(S!==null)}}ft=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ft=a;else e:for(;ft!==null;){if(o=ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ft=g;break e}ft=o.return}}var _=e.current;for(ft=_;ft!==null;){a=ft;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ft=y;else e:for(a=_;ft!==null;){if(l=ft,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sh(9,l)}}catch(D){Gn(l,l.return,D)}if(l===a){ft=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,ft=O;break e}ft=l.return}}if(sn=i,ba(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(mh,e)}catch{}r=!0}return r}finally{hn=n,mi.transition=t}}return!1}function Jy(e,t,n){t=$s(n,t),t=g5(e,t,1),e=da(e,t,1),t=Lr(),e!==null&&(Qc(e,1,t),jr(e,t))}function Gn(e,t,n){if(e.tag===3)Jy(e,e,n);else for(;t!==null;){if(t.tag===3){Jy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){e=$s(n,e),e=y5(t,e,1),t=da(t,e,1),e=Lr(),t!==null&&(Qc(t,1,e),jr(t,e));break}}t=t.return}}function L_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&n,hr===e&&(mr&n)===n&&(ar===4||ar===3&&(mr&130023424)===mr&&500>Yn()-w2?ol(e,0):_2|=n),jr(e,t)}function $5(e,t){t===0&&(e.mode&1?(t=O0,O0<<=1,!(O0&130023424)&&(O0=4194304)):t=1);var n=Lr();e=So(e,t),e!==null&&(Qc(e,t,n),jr(e,n))}function R_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$5(e,n)}function O_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),$5(e,n)}var B5;B5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Fr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fr=!1,g_(e,t,n);Fr=!!(e.flags&131072)}else Fr=!1,Cn&&t.flags&1048576&&G4(t,Md,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ud(e,t),e=t.pendingProps;var i=Ms(t,Er.current);Ls(t,n),i=p2(null,t,r,e,i,n);var o=m2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(r)?(o=!0,Pd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u2(t),i.updater=wh,t.stateNode=i,i._reactInternals=t,Hm(t,r,e,n),t=Ym(null,t,r,!0,o,n)):(t.tag=0,Cn&&o&&n2(t),Ar(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ud(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=P_(r),e=Ai(r,e),i){case 0:t=Xm(null,t,r,e,n);break e;case 1:t=Uy(null,t,r,e,n);break e;case 11:t=zy(null,t,r,e,n);break e;case 14:t=Gy(null,t,r,Ai(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Xm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Uy(e,t,r,i,n);case 3:e:{if(E5(t),e===null)throw Error(ze(387));r=t.pendingProps,o=t.memoizedState,i=o.element,W4(e,t),Fd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=$s(Error(ze(423)),t),t=Vy(e,t,r,n,i);break e}else if(r!==i){i=$s(Error(ze(424)),t),t=Vy(e,t,r,n,i);break e}else for(Jr=fa(t.stateNode.containerInfo.firstChild),ei=t,Cn=!0,Li=null,n=Q4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===i){t=bo(e,t,n);break e}Ar(e,t,r,n)}t=t.child}return t;case 5:return K4(t),e===null&&Gm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Fm(r,i)?a=null:o!==null&&Fm(r,o)&&(t.flags|=32),w5(e,t),Ar(e,t,a,n),t.child;case 6:return e===null&&Gm(t),null;case 13:return S5(e,t,n);case 4:return c2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ds(t,null,r,n):Ar(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),zy(e,t,r,i,n);case 7:return Ar(e,t,t.pendingProps,n),t.child;case 8:return Ar(e,t,t.pendingProps.children,n),t.child;case 12:return Ar(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_n(Id,r._currentValue),r._currentValue=a,o!==null)if(Ni(o.value,a)){if(o.children===i.children&&!$r.current){t=bo(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=_o(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Um(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ze(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Um(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ar(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ls(t,n),i=vi(i),r=r(i),t.flags|=1,Ar(e,t,r,n),t.child;case 14:return r=t.type,i=Ai(r,t.pendingProps),i=Ai(r.type,i),Gy(e,t,r,i,n);case 15:return x5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),ud(e,t),t.tag=1,Br(r)?(e=!0,Pd(t)):e=!1,Ls(t,n),Y4(t,r,i),Hm(t,r,i,n),Ym(null,t,r,!0,e,n);case 19:return b5(e,t,n);case 22:return _5(e,t,n)}throw Error(ze(156,t.tag))};function j5(e,t){return d4(e,t)}function k_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,t,n,r){return new k_(e,t,n,r)}function T2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P_(e){if(typeof e=="function")return T2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vv)return 11;if(e===Hv)return 14}return 2}function ma(e,t){var n=e.alternate;return n===null?(n=pi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dd(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")T2(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fs:return al(n.children,i,o,t);case Uv:a=8,i|=8;break;case mm:return e=pi(12,n,t,i|2),e.elementType=mm,e.lanes=o,e;case vm:return e=pi(13,n,t,i),e.elementType=vm,e.lanes=o,e;case gm:return e=pi(19,n,t,i),e.elementType=gm,e.lanes=o,e;case q6:return Th(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X6:a=10;break e;case Y6:a=9;break e;case Vv:a=11;break e;case Hv:a=14;break e;case Jo:a=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=pi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function al(e,t,n,r){return e=pi(7,e,r,t),e.lanes=n,e}function Th(e,t,n,r){return e=pi(22,e,r,t),e.elementType=q6,e.lanes=n,e.stateNode={isHidden:!1},e}function Bp(e,t,n){return e=pi(6,e,null,t),e.lanes=n,e}function jp(e,t,n){return t=pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A2(e,t,n,r,i,o,a,l,s){return e=new N_(e,t,n,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u2(o),e}function M_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function z5(e){if(!e)return ya;e=e._reactInternals;e:{if(Sl(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(Br(n))return j4(e,n,t)}return t}function G5(e,t,n,r,i,o,a,l,s){return e=A2(n,r,!0,e,i,o,a,l,s),e.context=z5(null),n=e.current,r=Lr(),i=pa(n),o=_o(r,i),o.callback=t??null,da(n,o,i),e.current.lanes=i,Qc(e,i,r),jr(e,r),e}function Ah(e,t,n,r){var i=t.current,o=Lr(),a=pa(i);return n=z5(n),t.context===null?t.context=n:t.pendingContext=n,t=_o(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=da(i,t,a),e!==null&&(Pi(e,i,a,o),ad(e,i,a)),a}function Hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function C2(e,t){e3(e,t),(e=e.alternate)&&e3(e,t)}function I_(){return null}var U5=typeof reportError=="function"?reportError:function(e){console.error(e)};function L2(e){this._internalRoot=e}Ch.prototype.render=L2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Ah(e,t,null,null)};Ch.prototype.unmount=L2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pl(function(){Ah(null,e,null,null)}),t[Eo]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=x4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ta.length&&t!==0&&t<ta[n].priority;n++);ta.splice(n,0,e),n===0&&w4(e)}};function R2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t3(){}function D_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Hd(a);o.call(u)}}var a=G5(t,r,e,0,null,!1,!1,"",t3);return e._reactRootContainer=a,e[Eo]=a.current,Cc(e.nodeType===8?e.parentNode:e),pl(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Hd(s);l.call(u)}}var s=A2(e,0,!1,null,null,!1,!1,"",t3);return e._reactRootContainer=s,e[Eo]=s.current,Cc(e.nodeType===8?e.parentNode:e),pl(function(){Ah(t,s,n,r)}),s}function Rh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var s=Hd(a);l.call(s)}}Ah(t,a,e,i)}else a=D_(n,t,e,i,r);return Hd(a)}g4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rc(t.pendingLanes);n!==0&&(Yv(t,n|1),jr(t,Yn()),!(sn&6)&&(Bs=Yn()+500,ba()))}break;case 13:pl(function(){var r=So(e,1);if(r!==null){var i=Lr();Pi(r,e,1,i)}}),C2(e,1)}};qv=function(e){if(e.tag===13){var t=So(e,134217728);if(t!==null){var n=Lr();Pi(t,e,134217728,n)}C2(e,134217728)}};y4=function(e){if(e.tag===13){var t=pa(e),n=So(e,t);if(n!==null){var r=Lr();Pi(n,e,t,r)}C2(e,t)}};x4=function(){return hn};_4=function(e,t){var n=hn;try{return hn=e,t()}finally{hn=n}};Cm=function(e,t,n){switch(t){case"input":if(_m(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xh(r);if(!i)throw Error(ze(90));K6(r),_m(r,i)}}}break;case"textarea":J6(e,n);break;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}};a4=E2;l4=pl;var F_={usingClientEntryPoint:!1,Events:[Zc,ms,xh,i4,o4,E2]},Qu={findFiberByHostInstance:el,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$_={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c4(e),e===null?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||I_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{mh=z0.inject($_),qi=z0}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F_;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R2(t))throw Error(ze(200));return M_(e,t,null,n)};ii.createRoot=function(e,t){if(!R2(e))throw Error(ze(299));var n=!1,r="",i=U5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=A2(e,1,!1,null,null,n,!1,r,i),e[Eo]=t.current,Cc(e.nodeType===8?e.parentNode:e),new L2(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=c4(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return pl(e)};ii.hydrate=function(e,t,n){if(!Lh(t))throw Error(ze(200));return Rh(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!R2(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=U5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=G5(t,null,e,1,n??null,i,!1,o,a),e[Eo]=t.current,Cc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ch(t)};ii.render=function(e,t,n){if(!Lh(t))throw Error(ze(200));return Rh(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!Lh(e))throw Error(ze(40));return e._reactRootContainer?(pl(function(){Rh(null,null,e,!1,function(){e._reactRootContainer=null,e[Eo]=null})}),!0):!1};ii.unstable_batchedUpdates=E2;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lh(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Rh(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function V5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V5)}catch(e){console.error(e)}}V5(),G6.exports=ii;var B_=G6.exports,n3=B_;hm.createRoot=n3.createRoot,hm.hydrateRoot=n3.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(this,arguments)}var aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(aa||(aa={}));const r3="popstate";function j_(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:s=""}=bl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),av("",{pathname:a,search:l,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof o=="string"?o:Wd(o))}function r(i,o){Oh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return G_(t,n,r,e)}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z_(){return Math.random().toString(36).substr(2,8)}function i3(e,t){return{usr:e.state,key:e.key,idx:t}}function av(e,t,n,r){return n===void 0&&(n=null),Dc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bl(t):t,{state:n,key:t&&t.key||r||z_()})}function Wd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function G_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=aa.Pop,s=null,u=f();u==null&&(u=0,a.replaceState(Dc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){l=aa.Pop;let L=f(),g=L==null?null:L-u;u=L,s&&s({action:l,location:S.location,delta:g})}function c(L,g){l=aa.Push;let _=av(S.location,L,g);n&&n(_,L),u=f()+1;let y=i3(_,u),O=S.createHref(_);try{a.pushState(y,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(O)}o&&s&&s({action:l,location:S.location,delta:1})}function m(L,g){l=aa.Replace;let _=av(S.location,L,g);n&&n(_,L),u=f();let y=i3(_,u),O=S.createHref(_);a.replaceState(y,"",O),o&&s&&s({action:l,location:S.location,delta:0})}function v(L){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof L=="string"?L:Wd(L);return Jn(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let S={get action(){return l},get location(){return e(i,a)},listen(L){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(r3,h),s=L,()=>{i.removeEventListener(r3,h),s=null}},createHref(L){return t(i,L)},createURL:v,encodeLocation(L){let g=v(L);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:c,replace:m,go(L){return a.go(L)}};return S}var o3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o3||(o3={}));function U_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?bl(t):t,i=O2(r.pathname||"/",n);if(i==null)return null;let o=H5(e);V_(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=J_(o[l],nw(i));return a}function H5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let s={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};s.relativePath.startsWith("/")&&(Jn(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=va([r,s.relativePath]),f=n.concat(s);o.children&&o.children.length>0&&(Jn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H5(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:K_(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let s of W5(o.path))i(o,a,s)}),t}function W5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=W5(r.join("/")),l=[];return l.push(...a.map(s=>s===""?o:[o,s].join("/"))),i&&l.push(...a),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function V_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H_=/^:\w+$/,W_=3,X_=2,Y_=1,q_=10,Q_=-2,a3=e=>e==="*";function K_(e,t){let n=e.split("/"),r=n.length;return n.some(a3)&&(r+=Q_),t&&(r+=X_),n.filter(i=>!a3(i)).reduce((i,o)=>i+(H_.test(o)?W_:o===""?Y_:q_),r)}function Z_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function J_(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],s=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=ew({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!f)return null;Object.assign(r,f.params);let h=l.route;o.push({params:r,pathname:va([i,f.pathname]),pathnameBase:aw(va([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=va([i,f.pathnameBase]))}return o}function ew(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:c,isOptional:m}=f;if(c==="*"){let S=l[h]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[c]=void 0:u[c]=rw(v||"",c),u},{}),pathname:o,pathnameBase:a,pattern:e}}function tw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Oh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function nw(e){try{return decodeURI(e)}catch(t){return Oh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rw(e,t){try{return decodeURIComponent(e)}catch(n){return Oh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function O2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bl(e):e;return{pathname:n?n.startsWith("/")?n:ow(n,t):t,search:lw(r),hash:sw(i)}}function ow(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Y5(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bl(e):(i=Dc({},e),Jn(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h.pop();i.pathname=c.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h-=1;i.pathname=c.join("/")}l=h>=0?t[h]:"/"}let s=iw(i,l),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||f)&&(s.pathname+="/"),s}const va=e=>e.join("/").replace(/\/\/+/g,"/"),aw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q5=["post","put","patch","delete"];new Set(q5);const cw=["get",...q5];new Set(cw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}const k2=P.createContext(null),fw=P.createContext(null),qs=P.createContext(null),kh=P.createContext(null),Ta=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Q5=P.createContext(null);function dw(e,t){let{relative:n}=t===void 0?{}:t;ef()||Jn(!1);let{basename:r,navigator:i}=P.useContext(qs),{hash:o,pathname:a,search:l}=J5(e,{relative:n}),s=a;return r!=="/"&&(s=a==="/"?r:va([r,a])),i.createHref({pathname:s,search:l,hash:o})}function ef(){return P.useContext(kh)!=null}function Ph(){return ef()||Jn(!1),P.useContext(kh).location}function K5(e){P.useContext(qs).static||P.useLayoutEffect(e)}function Nh(){let{isDataRoute:e}=P.useContext(Ta);return e?Tw():hw()}function hw(){ef()||Jn(!1);let e=P.useContext(k2),{basename:t,navigator:n}=P.useContext(qs),{matches:r}=P.useContext(Ta),{pathname:i}=Ph(),o=JSON.stringify(X5(r).map(s=>s.pathnameBase)),a=P.useRef(!1);return K5(()=>{a.current=!0}),P.useCallback(function(s,u){if(u===void 0&&(u={}),!a.current)return;if(typeof s=="number"){n.go(s);return}let f=Y5(s,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:va([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function Z5(){let{matches:e}=P.useContext(Ta),t=e[e.length-1];return t?t.params:{}}function J5(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(Ta),{pathname:i}=Ph(),o=JSON.stringify(X5(r).map(a=>a.pathnameBase));return P.useMemo(()=>Y5(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function pw(e,t){return mw(e,t)}function mw(e,t,n){ef()||Jn(!1);let{navigator:r}=P.useContext(qs),{matches:i}=P.useContext(Ta),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let s=Ph(),u;if(t){var f;let S=typeof t=="string"?bl(t):t;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Jn(!1),u=S}else u=s;let h=u.pathname||"/",c=l==="/"?h:h.slice(l.length)||"/",m=U_(e,{pathname:c}),v=_w(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:va([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:va([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n);return t&&v?P.createElement(kh.Provider,{value:{location:Xd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:aa.Pop}},v):v}function vw(){let e=bw(),t=uw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,o)}const gw=P.createElement(vw,null);class yw extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(Ta.Provider,{value:this.props.routeContext},P.createElement(Q5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xw(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(k2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ta.Provider,{value:t},r)}function _w(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(s=>s.route.id&&(a==null?void 0:a[s.route.id]));l>=0||Jn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,s,u)=>{let f=s.route.id?a==null?void 0:a[s.route.id]:null,h=null;n&&(h=s.route.errorElement||gw);let c=t.concat(o.slice(0,u+1)),m=()=>{let v;return f?v=h:s.route.Component?v=P.createElement(s.route.Component,null):s.route.element?v=s.route.element:v=l,P.createElement(xw,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:v})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?P.createElement(yw,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:m(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):m()},null)}var e8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e8||{}),Yd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yd||{});function ww(e){let t=P.useContext(k2);return t||Jn(!1),t}function Ew(e){let t=P.useContext(fw);return t||Jn(!1),t}function Sw(e){let t=P.useContext(Ta);return t||Jn(!1),t}function t8(e){let t=Sw(),n=t.matches[t.matches.length-1];return n.route.id||Jn(!1),n.route.id}function bw(){var e;let t=P.useContext(Q5),n=Ew(Yd.UseRouteError),r=t8(Yd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Tw(){let{router:e}=ww(e8.UseNavigateStable),t=t8(Yd.UseNavigateStable),n=P.useRef(!1);return K5(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xd({fromRouteId:t},o)))},[e,t])}function hd(e){Jn(!1)}function Aw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=aa.Pop,navigator:o,static:a=!1}=e;ef()&&Jn(!1);let l=t.replace(/^\/*/,"/"),s=P.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=bl(r));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:m="default"}=r,v=P.useMemo(()=>{let S=O2(u,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:c,key:m},navigationType:i}},[l,u,f,h,c,m,i]);return v==null?null:P.createElement(qs.Provider,{value:s},P.createElement(kh.Provider,{children:n,value:v}))}function Cw(e){let{children:t,location:n}=e;return pw(lv(t),n)}new Promise(()=>{});function lv(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let o=[...t,i];if(r.type===P.Fragment){n.push.apply(n,lv(r.props.children,o));return}r.type!==hd&&Jn(!1),!r.props.index||!r.props.children||Jn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(this,arguments)}function Lw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Rw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ow(e,t){return e.button===0&&(!t||t==="_self")&&!Rw(e)}const kw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Pw="startTransition",l3=R7[Pw];function Nw(e){let{basename:t,children:n,future:r,window:i}=e,o=P.useRef();o.current==null&&(o.current=j_({window:i,v5Compat:!0}));let a=o.current,[l,s]=P.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=P.useCallback(h=>{u&&l3?l3(()=>s(h)):s(h)},[s,u]);return P.useLayoutEffect(()=>a.listen(f),[a,f]),P.createElement(Aw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const Mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n8=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:s,to:u,preventScrollReset:f,unstable_viewTransition:h}=t,c=Lw(t,kw),{basename:m}=P.useContext(qs),v,S=!1;if(typeof u=="string"&&Iw.test(u)&&(v=u,Mw))try{let y=new URL(window.location.href),O=u.startsWith("//")?new URL(y.protocol+u):new URL(u),D=O2(O.pathname,m);O.origin===y.origin&&D!=null?u=D+O.search+O.hash:S=!0}catch{}let L=dw(u,{relative:i}),g=Dw(u,{replace:a,state:l,target:s,preventScrollReset:f,relative:i,unstable_viewTransition:h});function _(y){r&&r(y),y.defaultPrevented||g(y)}return P.createElement("a",sv({},c,{href:v||L,onClick:S||o?r:_,ref:n,target:s}))});var s3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(s3||(s3={}));var u3;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u3||(u3={}));function Dw(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,s=Nh(),u=Ph(),f=J5(e,{relative:a});return P.useCallback(h=>{if(Ow(h,n)){h.preventDefault();let c=r!==void 0?r:Wd(u)===Wd(f);s(e,{replace:c,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[u,s,f,r,i,n,e,o,a,l])}var r8={exports:{}},Fw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$w=Fw,Bw=$w;function i8(){}function o8(){}o8.resetWarningCache=i8;var jw=function(){function e(r,i,o,a,l,s){if(s!==Bw){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o8,resetWarningCache:i8};return n.PropTypes=n,n};r8.exports=jw();var zw=r8.exports;const nt=Yc(zw);nt.object,nt.bool,nt.func,nt.func,nt.func;const G0="https://api.latentscope.com/api";function Gw(){const[e,t]=P.useState([]);P.useEffect(()=>{fetch(`${G0}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=P.useState({});P.useEffect(()=>{e.forEach(l=>{fetch(`${G0}/datasets/${l.id}/scopes`).then(s=>s.json()).then(s=>r(u=>{const f={...u};return f[l.id]=s,f}))})},[e]),P.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=P.useState(null),a=Nh();return P.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),X.jsxs("div",{className:"home",children:[null,X.jsxs("div",{className:"section datasets",children:[X.jsx("h3",{children:"Datasets"}),X.jsx("div",{className:"datasets-content",children:e.map(l=>{var s;return X.jsxs("div",{className:"dataset",children:[X.jsxs("h3",{children:[" ",l.id," ",null]}),X.jsxs("span",{children:[l.length," rows"]}),X.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((s=n[l.id])==null?void 0:s.map((u,f)=>X.jsxs("div",{className:"scope-link",children:[X.jsxs(n8,{to:`/datasets/${l.id}/explore/${u.id}`,children:[u.label||u.id,X.jsx("br",{}),u.ignore_hulls?X.jsx("img",{src:`${G0}/files/${l.id}/umaps/${u.umap_id}.png`}):X.jsx("img",{src:`${G0}/files/${l.id}/clusters/${u.cluster_id}.png`})]}),X.jsx("br",{}),X.jsx("span",{className:"scope-description",children:u.description}),X.jsx("br",{}),null]},f)))})]},l.id)})})]})]})}const c3="https://api.latentscope.com/api";a8.propTypes={data:nt.array.isRequired,tagset:nt.object,datasetId:nt.string,maxRows:nt.number,onTagset:nt.func,onHover:nt.func,onClick:nt.func};function a8({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return X.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(h,c){console.log("tag",h),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[h]),t[h].includes(c)?(console.log("removing"),fetch(`${c3}/tags/remove?dataset=${n}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("removed",m),i(m)})):(console.log("adding"),fetch(`${c3}/tags/add?dataset=${n}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("added",m),i(m)}))}t&&(s=Object.keys(t));const f=r?e.slice(0,r):e;return X.jsxs(X.Fragment,{children:[X.jsxs("table",{className:"datatable",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[l.map((h,c)=>X.jsx("th",{children:h},c)),s?X.jsx("th",{children:"tags"}):null]})}),X.jsx("tbody",{children:f.map((h,c)=>X.jsxs("tr",{onMouseEnter:()=>o&&o(h.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(h.index),children:[l.map((m,v)=>X.jsx("td",{children:m.toLowerCase()=="url"&&h[m]?X.jsx("a",{href:h[m],children:"url"}):h[m]},v)),s?X.jsx("td",{children:s.map((m,v)=>X.jsx("button",{onClick:S=>{u(m,h.index),S.preventDefault(),S.stopPropagation()},className:t[m].includes(h.index)?"tag-active":"tag-inactive",children:m},v))}):null]},c))})]}),r&&e.length>r?X.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const Uw="https://api.latentscope.com/api";rl.propTypes={dataset:nt.object.isRequired,indices:nt.array.isRequired,distances:nt.array,clusterIndices:nt.array,clusterLabels:nt.array,maxRows:nt.number,tagset:nt.object,onHover:nt.func,onClick:nt.func,onTagset:nt.func};function rl({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:s,onTagset:u}){const[f,h]=P.useState([]),c=P.useCallback(m=>{e&&fetch(`${Uw}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:m})}).then(v=>v.json()).then(v=>{let S=v.map((L,g)=>{let _=m[g],y={index:_,...L};return n&&n.length&&(y.distance=n[g]),r&&r.length&&i&&i.length&&(y.cluster=i[r[_].cluster].label),y});h(S)})},[e,n,r,i]);return P.useEffect(()=>{t&&t.length&&c(t)},[t]),X.jsx("div",{children:X.jsx(a8,{data:f,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:u,onHover:l,onClick:s})})}const l8=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),P2=(e,t)=>t?e.toLowerCase():e,s8=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=P2(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},N2=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=P2(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},f3=(e,t)=>()=>{e.forEach(n=>n(t))},u8=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=N2(e);return(o,a,l={})=>{const s=P2(o,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((f,h)=>{--e.__times__[s][h]<1&&i(s,f)}),r||l.async?setTimeout(f3(u,a),0):f3(u,a)(),t&&!l.isNoGlobalBroadcast)try{l8.postMessage({event:s,news:a})}catch(f){if(f instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw f}}},Vw=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},c8=()=>({__times__:{}}),Hw=({async:e=!1,caseInsensitive:t=!1,stack:n=c8()}={})=>(n.__times__||(n.__times__={}),{publish:u8(n,{async:e,caseInsensitive:t}),subscribe:s8(n,{caseInsensitive:t}),unsubscribe:N2(n,{caseInsensitive:t}),clear:Vw(n),stack:n}),U0=c8(),Ww={publish:u8(U0,{isGlobal:!0}),subscribe:s8(U0),unsubscribe:N2(U0),stack:U0};l8.onmessage=({data:{event:e,news:t}})=>Ww.publish(e,t,{isNoGlobalBroadcast:!0});var f8={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(h7,function(){var n=function(p){return p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float32Array||p instanceof Float64Array||p instanceof Uint8ClampedArray},r=function(p,w){for(var k=Object.keys(w),q=0;q<k.length;++q)p[k[q]]=w[k[q]];return p},i=`
`;function o(p){return typeof atob<"u"?atob(p):"base64:"+p}function a(p){var w=new Error("(regl) "+p);throw console.error(w),w}function l(p,w){p||a(w)}function s(p){return p?": "+p:""}function u(p,w,k){p in w||a("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(w).join())}function f(p,w){n(p)||a("invalid parameter type"+s(w)+". must be a typed array")}function h(p,w){switch(w){case"number":return typeof p=="number";case"object":return typeof p=="object";case"string":return typeof p=="string";case"boolean":return typeof p=="boolean";case"function":return typeof p=="function";case"undefined":return typeof p>"u";case"symbol":return typeof p=="symbol"}}function c(p,w,k){h(p,w)||a("invalid parameter type"+s(k)+". expected "+w+", got "+typeof p)}function m(p,w){p>=0&&(p|0)===p||a("invalid parameter type, ("+p+")"+s(w)+". must be a nonnegative integer")}function v(p,w,k){w.indexOf(p)<0&&a("invalid value"+s(k)+". must be one of: "+w)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function L(p){Object.keys(p).forEach(function(w){S.indexOf(w)<0&&a('invalid regl constructor argument "'+w+'". must be one of '+S)})}function g(p,w){for(p=p+"";p.length<w;)p=" "+p;return p}function _(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(p,w){this.number=p,this.line=w,this.errors=[]}function O(p,w,k){this.file=p,this.line=w,this.message=k}function D(){var p=new Error,w=(p.stack||p).toString(),k=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(w);if(k)return k[1];var q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(w);return q?q[1]:"unknown"}function U(){var p=new Error,w=(p.stack||p).toString(),k=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(w);if(k)return k[1];var q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(w);return q?q[1]:"unknown"}function ee(p,w){var k=p.split(`
`),q=1,oe=0,Y={unknown:new _,0:new _};Y.unknown.name=Y[0].name=w||D(),Y.unknown.lines.push(new y(0,""));for(var J=0;J<k.length;++J){var me=k[J],pe=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(me);if(pe)switch(pe[1]){case"line":var Ee=/(\d+)(\s+\d+)?/.exec(pe[2]);Ee&&(q=Ee[1]|0,Ee[2]&&(oe=Ee[2]|0,oe in Y||(Y[oe]=new _)));break;case"define":var be=/SHADER_NAME(_B64)?\s+(.*)$/.exec(pe[2]);be&&(Y[oe].name=be[1]?o(be[2]):be[2]);break}Y[oe].lines.push(new y(q++,me))}return Object.keys(Y).forEach(function(Se){var ke=Y[Se];ke.lines.forEach(function(ge){ke.index[ge.number]=ge})}),Y}function K(p){var w=[];return p.split(`
`).forEach(function(k){if(!(k.length<5)){var q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(k);q?w.push(new O(q[1]|0,q[2]|0,q[3].trim())):k.length>0&&w.push(new O("unknown",0,k))}}),w}function He(p,w){w.forEach(function(k){var q=p[k.file];if(q){var oe=q.index[k.line];if(oe){oe.errors.push(k),q.hasErrors=!0;return}}p.unknown.hasErrors=!0,p.unknown.lines[0].errors.push(k)})}function ve(p,w,k,q,oe){if(!p.getShaderParameter(w,p.COMPILE_STATUS)){var Y=p.getShaderInfoLog(w),J=q===p.FRAGMENT_SHADER?"fragment":"vertex";lt(k,"string",J+" shader source must be a string",oe);var me=ee(k,oe),pe=K(Y);He(me,pe),Object.keys(me).forEach(function(Ee){var be=me[Ee];if(!be.hasErrors)return;var Se=[""],ke=[""];function ge(we,j){Se.push(we),ke.push(j||"")}ge("file number "+Ee+": "+be.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),be.lines.forEach(function(we){if(we.errors.length>0){ge(g(we.number,4)+"|  ","background-color:yellow; font-weight:bold"),ge(we.line+i,"color:red; background-color:yellow; font-weight:bold");var j=0;we.errors.forEach(function(Z){var _e=Z.message,Ve=/^\s*'(.*)'\s*:\s*(.*)$/.exec(_e);if(Ve){var de=Ve[1];switch(_e=Ve[2],de){case"assign":de="=";break}j=Math.max(we.line.indexOf(de,j),0)}else j=0;ge(g("| ",6)),ge(g("^^^",j+3)+i,"font-weight:bold"),ge(g("| ",6)),ge(_e+i,"font-weight:bold")}),ge(g("| ",6)+i)}else ge(g(we.number,4)+"|  "),ge(we.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(ke[0]=Se.join("%c"),console.log.apply(console,ke)):console.log(Se.join(""))}),l.raise("Error compiling "+J+" shader, "+me[0].name)}}function Re(p,w,k,q,oe){if(!p.getProgramParameter(w,p.LINK_STATUS)){var Y=p.getProgramInfoLog(w),J=ee(k,oe),me=ee(q,oe),pe='Error linking program with vertex shader, "'+me[0].name+'", and fragment shader "'+J[0].name+'"';typeof document<"u"?console.log("%c"+pe+i+"%c"+Y,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(pe+i+Y),l.raise(pe)}}function Oe(p){p._commandRef=D()}function Je(p,w,k,q){Oe(p);function oe(pe){return pe?q.id(pe):0}p._fragId=oe(p.static.frag),p._vertId=oe(p.static.vert);function Y(pe,Ee){Object.keys(Ee).forEach(function(be){pe[q.id(be)]=!0})}var J=p._uniformSet={};Y(J,w.static),Y(J,w.dynamic);var me=p._attributeSet={};Y(me,k.static),Y(me,k.dynamic),p._hasCount="count"in p.static||"count"in p.dynamic||"elements"in p.static||"elements"in p.dynamic}function De(p,w){var k=U();a(p+" in command "+(w||D())+(k==="unknown"?"":" called from "+k))}function Lt(p,w,k){p||De(w,k||D())}function at(p,w,k,q){p in w||De("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(w).join(),q||D())}function lt(p,w,k,q){h(p,w)||De("invalid parameter type"+s(k)+". expected "+w+", got "+typeof p,q||D())}function ye(p){p()}function Le(p,w,k){p.texture?v(p.texture._texture.internalformat,w,"unsupported texture format for attachment"):v(p.renderbuffer._renderbuffer.format,k,"unsupported renderbuffer format for attachment")}var se=33071,Te=9728,rt=9984,Tt=9985,Pt=9986,Zt=9987,Bt=5120,yt=5121,It=5122,zt=5123,Yt=5124,cn=5125,Ft=5126,Jt=32819,st=32820,At=33635,Nt=34042,Ct=36193,Ke={};Ke[Bt]=Ke[yt]=1,Ke[It]=Ke[zt]=Ke[Ct]=Ke[At]=Ke[Jt]=Ke[st]=2,Ke[Yt]=Ke[cn]=Ke[Ft]=Ke[Nt]=4;function Gt(p,w){return p===st||p===Jt||p===At?2:p===Nt?4:Ke[p]*w}function ln(p){return!(p&p-1)&&!!p}function en(p,w,k){var q,oe=w.width,Y=w.height,J=w.channels;l(oe>0&&oe<=k.maxTextureSize&&Y>0&&Y<=k.maxTextureSize,"invalid texture shape"),(p.wrapS!==se||p.wrapT!==se)&&l(ln(oe)&&ln(Y),"incompatible wrap mode for texture, both width and height must be power of 2"),w.mipmask===1?oe!==1&&Y!==1&&l(p.minFilter!==rt&&p.minFilter!==Pt&&p.minFilter!==Tt&&p.minFilter!==Zt,"min filter requires mipmap"):(l(ln(oe)&&ln(Y),"texture must be a square power of 2 to support mipmapping"),l(w.mipmask===(oe<<1)-1,"missing or incomplete mipmap data")),w.type===Ft&&(k.extensions.indexOf("oes_texture_float_linear")<0&&l(p.minFilter===Te&&p.magFilter===Te,"filter not supported, must enable oes_texture_float_linear"),l(!p.genMipmaps,"mipmap generation not supported with float textures"));var me=w.images;for(q=0;q<16;++q)if(me[q]){var pe=oe>>q,Ee=Y>>q;l(w.mipmask&1<<q,"missing mipmap data");var be=me[q];if(l(be.width===pe&&be.height===Ee,"invalid shape for mip images"),l(be.format===w.format&&be.internalformat===w.internalformat&&be.type===w.type,"incompatible type for mip image"),!be.compressed)if(be.data){var Se=Math.ceil(Gt(be.type,J)*pe/be.unpackAlignment)*be.unpackAlignment;l(be.data.byteLength===Se*Ee,"invalid data for image, buffer size is inconsistent with image format")}else be.element||be.copy}else p.genMipmaps||l((w.mipmask&1<<q)===0,"extra mipmap data");w.compressed&&l(!p.genMipmaps,"mipmap generation for compressed images not supported")}function qn(p,w,k,q){var oe=p.width,Y=p.height,J=p.channels;l(oe>0&&oe<=q.maxTextureSize&&Y>0&&Y<=q.maxTextureSize,"invalid texture shape"),l(oe===Y,"cube map must be square"),l(w.wrapS===se&&w.wrapT===se,"wrap mode not supported by cube map");for(var me=0;me<k.length;++me){var pe=k[me];l(pe.width===oe&&pe.height===Y,"inconsistent cube map face shape"),w.genMipmaps&&(l(!pe.compressed,"can not generate mipmap for compressed textures"),l(pe.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Ee=pe.images,be=0;be<16;++be){var Se=Ee[be];if(Se){var ke=oe>>be,ge=Y>>be;l(pe.mipmask&1<<be,"missing mipmap data"),l(Se.width===ke&&Se.height===ge,"invalid shape for mip images"),l(Se.format===p.format&&Se.internalformat===p.internalformat&&Se.type===p.type,"incompatible type for mip image"),Se.compressed||(Se.data?l(Se.data.byteLength===ke*ge*Math.max(Gt(Se.type,J),Se.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Se.element||Se.copy)}}}}var E=r(l,{optional:ye,raise:a,commandRaise:De,command:Lt,parameter:u,commandParameter:at,constructor:L,type:c,commandType:lt,isTypedArray:f,nni:m,oneOf:v,shaderError:ve,linkError:Re,callSite:U,saveCommandRef:Oe,saveDrawInfo:Je,framebufferFormat:Le,guessCommand:D,texture2D:en,textureCube:qn}),he=0,Fe=0,ce=5,xt=6;function dt(p,w){this.id=he++,this.type=p,this.data=w}function Ae(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Rt(p){if(p.length===0)return[];var w=p.charAt(0),k=p.charAt(p.length-1);if(p.length>1&&w===k&&(w==='"'||w==="'"))return['"'+Ae(p.substr(1,p.length-2))+'"'];var q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(p);if(q)return Rt(p.substr(0,q.index)).concat(Rt(q[1])).concat(Rt(p.substr(q.index+q[0].length)));var oe=p.split(".");if(oe.length===1)return['"'+Ae(p)+'"'];for(var Y=[],J=0;J<oe.length;++J)Y=Y.concat(Rt(oe[J]));return Y}function Wt(p){return"["+Rt(p).join("][")+"]"}function Ie(p,w){return new dt(p,Wt(w+""))}function Dt(p){return typeof p=="function"&&!p._reglType||p instanceof dt}function fn(p,w){if(typeof p=="function")return new dt(Fe,p);if(typeof p=="number"||typeof p=="boolean")return new dt(ce,p);if(Array.isArray(p))return new dt(xt,p.map(function(k,q){return fn(k,w+"["+q+"]")}));if(p instanceof dt)return p;E(!1,"invalid option type in uniform "+w)}var $t={DynamicVariable:dt,define:Ie,isDynamic:Dt,unbox:fn,accessor:Wt},dn={next:typeof requestAnimationFrame=="function"?function(p){return requestAnimationFrame(p)}:function(p){return setTimeout(p,16)},cancel:typeof cancelAnimationFrame=="function"?function(p){return cancelAnimationFrame(p)}:clearTimeout},pn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ln(){var p={"":0},w=[""];return{id:function(k){var q=p[k];return q||(q=p[k]=w.length,w.push(k),q)},str:function(k){return w[k]}}}function wn(p,w,k){var q=document.createElement("canvas");r(q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),p.appendChild(q),p===document.body&&(q.style.position="absolute",r(p.style,{margin:0,padding:0}));function oe(){var me=window.innerWidth,pe=window.innerHeight;if(p!==document.body){var Ee=q.getBoundingClientRect();me=Ee.right-Ee.left,pe=Ee.bottom-Ee.top}q.width=k*me,q.height=k*pe}var Y;p!==document.body&&typeof ResizeObserver=="function"?(Y=new ResizeObserver(function(){setTimeout(oe)}),Y.observe(p)):window.addEventListener("resize",oe,!1);function J(){Y?Y.disconnect():window.removeEventListener("resize",oe),p.removeChild(q)}return oe(),{canvas:q,onDestroy:J}}function lr(p,w){function k(q){try{return p.getContext(q,w)}catch{return null}}return k("webgl")||k("experimental-webgl")||k("webgl-experimental")}function yn(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function gr(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function te(p){return typeof p=="string"?p.split():(E(Array.isArray(p),"invalid extension array"),p)}function gt(p){return typeof p=="string"?(E(typeof document<"u","not supported outside of DOM"),document.querySelector(p)):p}function it(p){var w=p||{},k,q,oe,Y,J={},me=[],pe=[],Ee=typeof window>"u"?1:window.devicePixelRatio,be=!1,Se=function(we){we&&E.raise(we)},ke=function(){};if(typeof w=="string"?(E(typeof document<"u","selector queries only supported in DOM enviroments"),k=document.querySelector(w),E(k,"invalid query string for element")):typeof w=="object"?yn(w)?k=w:gr(w)?(Y=w,oe=Y.canvas):(E.constructor(w),"gl"in w?Y=w.gl:"canvas"in w?oe=gt(w.canvas):"container"in w&&(q=gt(w.container)),"attributes"in w&&(J=w.attributes,E.type(J,"object","invalid context attributes")),"extensions"in w&&(me=te(w.extensions)),"optionalExtensions"in w&&(pe=te(w.optionalExtensions)),"onDone"in w&&(E.type(w.onDone,"function","invalid or missing onDone callback"),Se=w.onDone),"profile"in w&&(be=!!w.profile),"pixelRatio"in w&&(Ee=+w.pixelRatio,E(Ee>0,"invalid pixel ratio"))):E.raise("invalid arguments to regl"),k&&(k.nodeName.toLowerCase()==="canvas"?oe=k:q=k),!Y){if(!oe){E(typeof document<"u","must manually specify webgl context outside of DOM environments");var ge=wn(q||document.body,Se,Ee);if(!ge)return null;oe=ge.canvas,ke=ge.onDestroy}J.premultipliedAlpha===void 0&&(J.premultipliedAlpha=!0),Y=lr(oe,J)}return Y?{gl:Y,canvas:oe,container:q,extensions:me,optionalExtensions:pe,pixelRatio:Ee,profile:be,onDone:Se,onDestroy:ke}:(ke(),Se("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function wt(p,w){var k={};function q(J){E.type(J,"string","extension name must be string");var me=J.toLowerCase(),pe;try{pe=k[me]=p.getExtension(me)}catch{}return!!pe}for(var oe=0;oe<w.extensions.length;++oe){var Y=w.extensions[oe];if(!q(Y))return w.onDestroy(),w.onDone('"'+Y+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return w.optionalExtensions.forEach(q),{extensions:k,restore:function(){Object.keys(k).forEach(function(J){if(k[J]&&!q(J))throw new Error("(regl): error restoring extension "+J)})}}}function Ut(p,w){for(var k=Array(p),q=0;q<p;++q)k[q]=w(q);return k}var mn=5120,Ye=5121,Et=5122,kt=5123,Tn=5124,Rn=5125,er=5126;function sr(p){for(var w=16;w<=1<<28;w*=16)if(p<=w)return w;return 0}function An(p){var w,k;return w=(p>65535)<<4,p>>>=w,k=(p>255)<<3,p>>>=k,w|=k,k=(p>15)<<2,p>>>=k,w|=k,k=(p>3)<<1,p>>>=k,w|=k,w|p>>1}function tr(){var p=Ut(8,function(){return[]});function w(Y){var J=sr(Y),me=p[An(J)>>2];return me.length>0?me.pop():new ArrayBuffer(J)}function k(Y){p[An(Y.byteLength)>>2].push(Y)}function q(Y,J){var me=null;switch(Y){case mn:me=new Int8Array(w(J),0,J);break;case Ye:me=new Uint8Array(w(J),0,J);break;case Et:me=new Int16Array(w(2*J),0,J);break;case kt:me=new Uint16Array(w(2*J),0,J);break;case Tn:me=new Int32Array(w(4*J),0,J);break;case Rn:me=new Uint32Array(w(4*J),0,J);break;case er:me=new Float32Array(w(4*J),0,J);break;default:return null}return me.length!==J?me.subarray(0,J):me}function oe(Y){k(Y.buffer)}return{alloc:w,free:k,allocType:q,freeType:oe}}var ot=tr();ot.zero=tr();var Sr=3408,Ro=3410,Ca=3411,zr=3412,Gr=3413,Ur=3414,un=3415,On=33901,eo=33902,Vr=3379,La=3386,xi=34921,Tl=36347,Al=36348,Cl=35661,Ll=35660,to=34930,Ra=36349,Ks=34076,Zs=34024,lf=7936,Oo=7937,ko=7938,Rl=35724,Po=34047,Js=36063,kr=34852,Di=3553,Fi=34067,no=34069,Qn=33984,ai=6408,nr=5126,$n=5121,No=36160,Ol=36053,kl=36064,Pl=16384,sf=function(p,w){var k=1;w.ext_texture_filter_anisotropic&&(k=p.getParameter(Po));var q=1,oe=1;w.webgl_draw_buffers&&(q=p.getParameter(kr),oe=p.getParameter(Js));var Y=!!w.oes_texture_float;if(Y){var J=p.createTexture();p.bindTexture(Di,J),p.texImage2D(Di,0,ai,1,1,0,ai,nr,null);var me=p.createFramebuffer();if(p.bindFramebuffer(No,me),p.framebufferTexture2D(No,kl,Di,J,0),p.bindTexture(Di,null),p.checkFramebufferStatus(No)!==Ol)Y=!1;else{p.viewport(0,0,1,1),p.clearColor(1,0,0,1),p.clear(Pl);var pe=ot.allocType(nr,4);p.readPixels(0,0,1,1,ai,nr,pe),p.getError()?Y=!1:(p.deleteFramebuffer(me),p.deleteTexture(J),Y=pe[0]===1),ot.freeType(pe)}}var Ee=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),be=!0;if(!Ee){var Se=p.createTexture(),ke=ot.allocType($n,36);p.activeTexture(Qn),p.bindTexture(Fi,Se),p.texImage2D(no,0,ai,3,3,0,ai,$n,ke),ot.freeType(ke),p.bindTexture(Fi,null),p.deleteTexture(Se),be=!p.getError()}return{colorBits:[p.getParameter(Ro),p.getParameter(Ca),p.getParameter(zr),p.getParameter(Gr)],depthBits:p.getParameter(Ur),stencilBits:p.getParameter(un),subpixelBits:p.getParameter(Sr),extensions:Object.keys(w).filter(function(ge){return!!w[ge]}),maxAnisotropic:k,maxDrawbuffers:q,maxColorAttachments:oe,pointSizeDims:p.getParameter(On),lineWidthDims:p.getParameter(eo),maxViewportDims:p.getParameter(La),maxCombinedTextureUnits:p.getParameter(Cl),maxCubeMapSize:p.getParameter(Ks),maxRenderbufferSize:p.getParameter(Zs),maxTextureUnits:p.getParameter(to),maxTextureSize:p.getParameter(Vr),maxAttributes:p.getParameter(xi),maxVertexUniforms:p.getParameter(Tl),maxVertexTextureUnits:p.getParameter(Ll),maxVaryingVectors:p.getParameter(Al),maxFragmentUniforms:p.getParameter(Ra),glsl:p.getParameter(Rl),renderer:p.getParameter(Oo),vendor:p.getParameter(lf),version:p.getParameter(ko),readFloat:Y,npotTextureCube:be}};function Pr(p){return!!p&&typeof p=="object"&&Array.isArray(p.shape)&&Array.isArray(p.stride)&&typeof p.offset=="number"&&p.shape.length===p.stride.length&&(Array.isArray(p.data)||n(p.data))}var br=function(p){return Object.keys(p).map(function(w){return p[w]})},Hr={shape:Qh,flatten:qh};function uf(p,w,k){for(var q=0;q<w;++q)k[q]=p[q]}function eu(p,w,k,q){for(var oe=0,Y=0;Y<w;++Y)for(var J=p[Y],me=0;me<k;++me)q[oe++]=J[me]}function Nl(p,w,k,q,oe,Y){for(var J=Y,me=0;me<w;++me)for(var pe=p[me],Ee=0;Ee<k;++Ee)for(var be=pe[Ee],Se=0;Se<q;++Se)oe[J++]=be[Se]}function tu(p,w,k,q,oe){for(var Y=1,J=k+1;J<w.length;++J)Y*=w[J];var me=w[k];if(w.length-k===4){var pe=w[k+1],Ee=w[k+2],be=w[k+3];for(J=0;J<me;++J)Nl(p[J],pe,Ee,be,q,oe),oe+=Y}else for(J=0;J<me;++J)tu(p[J],w,k+1,q,oe),oe+=Y}function qh(p,w,k,q){var oe=1;if(w.length)for(var Y=0;Y<w.length;++Y)oe*=w[Y];else oe=0;var J=q||ot.allocType(k,oe);switch(w.length){case 0:break;case 1:uf(p,w[0],J);break;case 2:eu(p,w[0],w[1],J);break;case 3:Nl(p,w[0],w[1],w[2],J,0);break;default:tu(p,w,0,J,0)}return J}function Qh(p){for(var w=[],k=p;k.length;k=k[0])w.push(k.length);return w}var Mo={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Oa=5120,ro=5122,Ml=5124,Kh=5121,Il=5123,Io=5125,ka=5126,nu=5126,Do={int8:Oa,int16:ro,int32:Ml,uint8:Kh,uint16:Il,uint32:Io,float:ka,float32:nu},ug=35048,Un=35040,Dl={dynamic:ug,stream:Un,static:35044},Pa=Hr.flatten,cf=Hr.shape,ru=35044,iu=35040,Fl=5121,$l=5126,_i=[];_i[5120]=1,_i[5122]=2,_i[5124]=4,_i[5121]=1,_i[5123]=2,_i[5125]=4,_i[5126]=4;function Na(p){return Mo[Object.prototype.toString.call(p)]|0}function Bl(p,w){for(var k=0;k<w.length;++k)p[k]=w[k]}function ou(p,w,k,q,oe,Y,J){for(var me=0,pe=0;pe<k;++pe)for(var Ee=0;Ee<q;++Ee)p[me++]=w[oe*pe+Y*Ee+J]}function au(p,w,k,q){var oe=0,Y={};function J(j){this.id=oe++,this.buffer=p.createBuffer(),this.type=j,this.usage=ru,this.byteLength=0,this.dimension=1,this.dtype=Fl,this.persistentData=null,k.profile&&(this.stats={size:0})}J.prototype.bind=function(){p.bindBuffer(this.type,this.buffer)},J.prototype.destroy=function(){ke(this)};var me=[];function pe(j,Z){var _e=me.pop();return _e||(_e=new J(j)),_e.bind(),Se(_e,Z,iu,0,1,!1),_e}function Ee(j){me.push(j)}function be(j,Z,_e){j.byteLength=Z.byteLength,p.bufferData(j.type,Z,_e)}function Se(j,Z,_e,Ve,de,Ge){var Be;if(j.usage=_e,Array.isArray(Z)){if(j.dtype=Ve||$l,Z.length>0){var ct;if(Array.isArray(Z[0])){Be=cf(Z);for(var ae=1,ie=1;ie<Be.length;++ie)ae*=Be[ie];j.dimension=ae,ct=Pa(Z,Be,j.dtype),be(j,ct,_e),Ge?j.persistentData=ct:ot.freeType(ct)}else if(typeof Z[0]=="number"){j.dimension=de;var Qe=ot.allocType(j.dtype,Z.length);Bl(Qe,Z),be(j,Qe,_e),Ge?j.persistentData=Qe:ot.freeType(Qe)}else n(Z[0])?(j.dimension=Z[0].length,j.dtype=Ve||Na(Z[0])||$l,ct=Pa(Z,[Z.length,Z[0].length],j.dtype),be(j,ct,_e),Ge?j.persistentData=ct:ot.freeType(ct)):E.raise("invalid buffer data")}}else if(n(Z))j.dtype=Ve||Na(Z),j.dimension=de,be(j,Z,_e),Ge&&(j.persistentData=new Uint8Array(new Uint8Array(Z.buffer)));else if(Pr(Z)){Be=Z.shape;var Ne=Z.stride,xe=Z.offset,Me=0,$e=0,St=0,_t=0;Be.length===1?(Me=Be[0],$e=1,St=Ne[0],_t=0):Be.length===2?(Me=Be[0],$e=Be[1],St=Ne[0],_t=Ne[1]):E.raise("invalid shape"),j.dtype=Ve||Na(Z.data)||$l,j.dimension=$e;var je=ot.allocType(j.dtype,Me*$e);ou(je,Z.data,Me,$e,St,_t,xe),be(j,je,_e),Ge?j.persistentData=je:ot.freeType(je)}else Z instanceof ArrayBuffer?(j.dtype=Fl,j.dimension=de,be(j,Z,_e),Ge&&(j.persistentData=new Uint8Array(new Uint8Array(Z)))):E.raise("invalid buffer data")}function ke(j){w.bufferCount--,q(j);var Z=j.buffer;E(Z,"buffer must not be deleted already"),p.deleteBuffer(Z),j.buffer=null,delete Y[j.id]}function ge(j,Z,_e,Ve){w.bufferCount++;var de=new J(Z);Y[de.id]=de;function Ge(ae){var ie=ru,Qe=null,Ne=0,xe=0,Me=1;return Array.isArray(ae)||n(ae)||Pr(ae)||ae instanceof ArrayBuffer?Qe=ae:typeof ae=="number"?Ne=ae|0:ae&&(E.type(ae,"object","buffer arguments must be an object, a number or an array"),"data"in ae&&(E(Qe===null||Array.isArray(Qe)||n(Qe)||Pr(Qe),"invalid data for buffer"),Qe=ae.data),"usage"in ae&&(E.parameter(ae.usage,Dl,"invalid buffer usage"),ie=Dl[ae.usage]),"type"in ae&&(E.parameter(ae.type,Do,"invalid buffer type"),xe=Do[ae.type]),"dimension"in ae&&(E.type(ae.dimension,"number","invalid dimension"),Me=ae.dimension|0),"length"in ae&&(E.nni(Ne,"buffer length must be a nonnegative integer"),Ne=ae.length|0)),de.bind(),Qe?Se(de,Qe,ie,xe,Me,Ve):(Ne&&p.bufferData(de.type,Ne,ie),de.dtype=xe||Fl,de.usage=ie,de.dimension=Me,de.byteLength=Ne),k.profile&&(de.stats.size=de.byteLength*_i[de.dtype]),Ge}function Be(ae,ie){E(ie+ae.byteLength<=de.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ae.byteLength+" starting from offset "+ie+" to a buffer of size "+de.byteLength),p.bufferSubData(de.type,ie,ae)}function ct(ae,ie){var Qe=(ie||0)|0,Ne;if(de.bind(),n(ae)||ae instanceof ArrayBuffer)Be(ae,Qe);else if(Array.isArray(ae)){if(ae.length>0)if(typeof ae[0]=="number"){var xe=ot.allocType(de.dtype,ae.length);Bl(xe,ae),Be(xe,Qe),ot.freeType(xe)}else if(Array.isArray(ae[0])||n(ae[0])){Ne=cf(ae);var Me=Pa(ae,Ne,de.dtype);Be(Me,Qe),ot.freeType(Me)}else E.raise("invalid buffer data")}else if(Pr(ae)){Ne=ae.shape;var $e=ae.stride,St=0,_t=0,je=0,Ue=0;Ne.length===1?(St=Ne[0],_t=1,je=$e[0],Ue=0):Ne.length===2?(St=Ne[0],_t=Ne[1],je=$e[0],Ue=$e[1]):E.raise("invalid shape");var pt=Array.isArray(ae.data)?de.dtype:Na(ae.data),bt=ot.allocType(pt,St*_t);ou(bt,ae.data,St,_t,je,Ue,ae.offset),Be(bt,Qe),ot.freeType(bt)}else E.raise("invalid data for buffer subdata");return Ge}return _e||Ge(j),Ge._reglType="buffer",Ge._buffer=de,Ge.subdata=ct,k.profile&&(Ge.stats=de.stats),Ge.destroy=function(){ke(de)},Ge}function we(){br(Y).forEach(function(j){j.buffer=p.createBuffer(),p.bindBuffer(j.type,j.buffer),p.bufferData(j.type,j.persistentData||j.byteLength,j.usage)})}return k.profile&&(w.getTotalBufferSize=function(){var j=0;return Object.keys(Y).forEach(function(Z){j+=Y[Z].stats.size}),j}),{create:ge,createStream:pe,destroyStream:Ee,clear:function(){br(Y).forEach(ke),me.forEach(ke)},getBuffer:function(j){return j&&j._buffer instanceof J?j._buffer:null},restore:we,_initBuffer:Se}}var Zh=0,lu=0,Jh=1,su=1,e1=4,t1=4,$i={points:Zh,point:lu,lines:Jh,line:su,triangles:e1,triangle:t1,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},n1=0,io=1,oo=4,r1=5120,Bi=5121,ff=5122,Fo=5123,df=5124,wi=5125,uu=34963,i1=35040,cu=35044;function fu(p,w,k,q){var oe={},Y=0,J={uint8:Bi,uint16:Fo};w.oes_element_index_uint&&(J.uint32=wi);function me(we){this.id=Y++,oe[this.id]=this,this.buffer=we,this.primType=oo,this.vertCount=0,this.type=0}me.prototype.bind=function(){this.buffer.bind()};var pe=[];function Ee(we){var j=pe.pop();return j||(j=new me(k.create(null,uu,!0,!1)._buffer)),Se(j,we,i1,-1,-1,0,0),j}function be(we){pe.push(we)}function Se(we,j,Z,_e,Ve,de,Ge){we.buffer.bind();var Be;if(j){var ct=Ge;!Ge&&(!n(j)||Pr(j)&&!n(j.data))&&(ct=w.oes_element_index_uint?wi:Fo),k._initBuffer(we.buffer,j,Z,ct,3)}else p.bufferData(uu,de,Z),we.buffer.dtype=Be||Bi,we.buffer.usage=Z,we.buffer.dimension=3,we.buffer.byteLength=de;if(Be=Ge,!Ge){switch(we.buffer.dtype){case Bi:case r1:Be=Bi;break;case Fo:case ff:Be=Fo;break;case wi:case df:Be=wi;break;default:E.raise("unsupported type for element array")}we.buffer.dtype=Be}we.type=Be,E(Be!==wi||!!w.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ae=Ve;ae<0&&(ae=we.buffer.byteLength,Be===Fo?ae>>=1:Be===wi&&(ae>>=2)),we.vertCount=ae;var ie=_e;if(_e<0){ie=oo;var Qe=we.buffer.dimension;Qe===1&&(ie=n1),Qe===2&&(ie=io),Qe===3&&(ie=oo)}we.primType=ie}function ke(we){q.elementsCount--,E(we.buffer!==null,"must not double destroy elements"),delete oe[we.id],we.buffer.destroy(),we.buffer=null}function ge(we,j){var Z=k.create(null,uu,!0),_e=new me(Z._buffer);q.elementsCount++;function Ve(de){if(!de)Z(),_e.primType=oo,_e.vertCount=0,_e.type=Bi;else if(typeof de=="number")Z(de),_e.primType=oo,_e.vertCount=de|0,_e.type=Bi;else{var Ge=null,Be=cu,ct=-1,ae=-1,ie=0,Qe=0;Array.isArray(de)||n(de)||Pr(de)?Ge=de:(E.type(de,"object","invalid arguments for elements"),"data"in de&&(Ge=de.data,E(Array.isArray(Ge)||n(Ge)||Pr(Ge),"invalid data for element buffer")),"usage"in de&&(E.parameter(de.usage,Dl,"invalid element buffer usage"),Be=Dl[de.usage]),"primitive"in de&&(E.parameter(de.primitive,$i,"invalid element buffer primitive"),ct=$i[de.primitive]),"count"in de&&(E(typeof de.count=="number"&&de.count>=0,"invalid vertex count for elements"),ae=de.count|0),"type"in de&&(E.parameter(de.type,J,"invalid buffer type"),Qe=J[de.type]),"length"in de?ie=de.length|0:(ie=ae,Qe===Fo||Qe===ff?ie*=2:(Qe===wi||Qe===df)&&(ie*=4))),Se(_e,Ge,Be,ct,ae,ie,Qe)}return Ve}return Ve(we),Ve._reglType="elements",Ve._elements=_e,Ve.subdata=function(de,Ge){return Z.subdata(de,Ge),Ve},Ve.destroy=function(){ke(_e)},Ve}return{create:ge,createStream:Ee,destroyStream:be,getElements:function(we){return typeof we=="function"&&we._elements instanceof me?we._elements:null},clear:function(){br(oe).forEach(ke)}}}var hf=new Float32Array(1),o1=new Uint32Array(hf.buffer),a1=5123;function pf(p){for(var w=ot.allocType(a1,p.length),k=0;k<p.length;++k)if(isNaN(p[k]))w[k]=65535;else if(p[k]===1/0)w[k]=31744;else if(p[k]===-1/0)w[k]=64512;else{hf[0]=p[k];var q=o1[0],oe=q>>>31<<15,Y=(q<<1>>>24)-127,J=q>>13&1023;if(Y<-24)w[k]=oe;else if(Y<-14){var me=-14-Y;w[k]=oe+(J+1024>>me)}else Y>15?w[k]=oe+31744:w[k]=oe+(Y+15<<10)+J}return w}function vn(p){return Array.isArray(p)||n(p)}var mf=function(p){return!(p&p-1)&&!!p},l1=34467,li=3553,du=34067,jl=34069,ao=6408,hu=6406,zl=6407,lo=6409,Gl=6410,vf=32854,pu=32855,mu=36194,s1=32819,u1=32820,c1=33635,gf=34042,Ul=6402,Ma=34041,Ia=35904,Da=35906,$o=36193,so=33776,vu=33777,gu=33778,yu=33779,yf=35986,xf=35987,_f=34798,wf=35840,Ef=35841,Sf=35842,bf=35843,Tf=36196,Bo=5121,xu=5123,_u=5125,Wr=5126,f1=10242,d1=10243,h1=10497,wu=33071,p1=33648,m1=10240,v1=10241,Eu=9728,g1=9729,Vl=9984,Su=9985,Af=9986,bu=9987,y1=33170,Fa=4352,Cf=4353,x1=4354,_1=34046,w1=3317,E1=37440,S1=37441,b1=37443,jo=37444,$a=33984,Lf=[Vl,Af,Su,bu],Ba=[0,lo,Gl,zl,ao],Xr={};Xr[lo]=Xr[hu]=Xr[Ul]=1,Xr[Ma]=Xr[Gl]=2,Xr[zl]=Xr[Ia]=3,Xr[ao]=Xr[Da]=4;function zo(p){return"[object "+p+"]"}var Rf=zo("HTMLCanvasElement"),Of=zo("OffscreenCanvas"),kf=zo("CanvasRenderingContext2D"),Pf=zo("ImageBitmap"),Nf=zo("HTMLImageElement"),Hl=zo("HTMLVideoElement"),T1=Object.keys(Mo).concat([Rf,Of,kf,Pf,Nf,Hl]),Go=[];Go[Bo]=1,Go[Wr]=4,Go[$o]=2,Go[xu]=2,Go[_u]=4;var Vn=[];Vn[vf]=2,Vn[pu]=2,Vn[mu]=2,Vn[Ma]=4,Vn[so]=.5,Vn[vu]=.5,Vn[gu]=1,Vn[yu]=1,Vn[yf]=.5,Vn[xf]=1,Vn[_f]=1,Vn[wf]=.5,Vn[Ef]=.25,Vn[Sf]=.5,Vn[bf]=.25,Vn[Tf]=.5;function Mf(p){return Array.isArray(p)&&(p.length===0||typeof p[0]=="number")}function Tu(p){if(!Array.isArray(p))return!1;var w=p.length;return!(w===0||!vn(p[0]))}function uo(p){return Object.prototype.toString.call(p)}function Au(p){return uo(p)===Rf}function If(p){return uo(p)===Of}function A1(p){return uo(p)===kf}function Cu(p){return uo(p)===Pf}function Df(p){return uo(p)===Nf}function Ff(p){return uo(p)===Hl}function Lu(p){if(!p)return!1;var w=uo(p);return T1.indexOf(w)>=0?!0:Mf(p)||Tu(p)||Pr(p)}function $f(p){return Mo[Object.prototype.toString.call(p)]|0}function C1(p,w){var k=w.length;switch(p.type){case Bo:case xu:case _u:case Wr:var q=ot.allocType(p.type,k);q.set(w),p.data=q;break;case $o:p.data=pf(w);break;default:E.raise("unsupported texture type, must specify a typed array")}}function Bf(p,w){return ot.allocType(p.type===$o?Wr:p.type,w)}function jf(p,w){p.type===$o?(p.data=pf(w),ot.freeType(w)):p.data=w}function zf(p,w,k,q,oe,Y){for(var J=p.width,me=p.height,pe=p.channels,Ee=J*me*pe,be=Bf(p,Ee),Se=0,ke=0;ke<me;++ke)for(var ge=0;ge<J;++ge)for(var we=0;we<pe;++we)be[Se++]=w[k*ge+q*ke+oe*we+Y];jf(p,be)}function Wl(p,w,k,q,oe,Y){var J;if(typeof Vn[p]<"u"?J=Vn[p]:J=Xr[p]*Go[w],Y&&(J*=6),oe){for(var me=0,pe=k;pe>=1;)me+=J*pe*pe,pe/=2;return me}else return J*k*q}function L1(p,w,k,q,oe,Y,J){var me={"don't care":Fa,"dont care":Fa,nice:x1,fast:Cf},pe={repeat:h1,clamp:wu,mirror:p1},Ee={nearest:Eu,linear:g1},be=r({mipmap:bu,"nearest mipmap nearest":Vl,"linear mipmap nearest":Su,"nearest mipmap linear":Af,"linear mipmap linear":bu},Ee),Se={none:0,browser:jo},ke={uint8:Bo,rgba4:s1,rgb565:c1,"rgb5 a1":u1},ge={alpha:hu,luminance:lo,"luminance alpha":Gl,rgb:zl,rgba:ao,rgba4:vf,"rgb5 a1":pu,rgb565:mu},we={};w.ext_srgb&&(ge.srgb=Ia,ge.srgba=Da),w.oes_texture_float&&(ke.float32=ke.float=Wr),w.oes_texture_half_float&&(ke.float16=ke["half float"]=$o),w.webgl_depth_texture&&(r(ge,{depth:Ul,"depth stencil":Ma}),r(ke,{uint16:xu,uint32:_u,"depth stencil":gf})),w.webgl_compressed_texture_s3tc&&r(we,{"rgb s3tc dxt1":so,"rgba s3tc dxt1":vu,"rgba s3tc dxt3":gu,"rgba s3tc dxt5":yu}),w.webgl_compressed_texture_atc&&r(we,{"rgb atc":yf,"rgba atc explicit alpha":xf,"rgba atc interpolated alpha":_f}),w.webgl_compressed_texture_pvrtc&&r(we,{"rgb pvrtc 4bppv1":wf,"rgb pvrtc 2bppv1":Ef,"rgba pvrtc 4bppv1":Sf,"rgba pvrtc 2bppv1":bf}),w.webgl_compressed_texture_etc1&&(we["rgb etc1"]=Tf);var j=Array.prototype.slice.call(p.getParameter(l1));Object.keys(we).forEach(function(C){var Q=we[C];j.indexOf(Q)>=0&&(ge[C]=Q)});var Z=Object.keys(ge);k.textureFormats=Z;var _e=[];Object.keys(ge).forEach(function(C){var Q=ge[C];_e[Q]=C});var Ve=[];Object.keys(ke).forEach(function(C){var Q=ke[C];Ve[Q]=C});var de=[];Object.keys(Ee).forEach(function(C){var Q=Ee[C];de[Q]=C});var Ge=[];Object.keys(be).forEach(function(C){var Q=be[C];Ge[Q]=C});var Be=[];Object.keys(pe).forEach(function(C){var Q=pe[C];Be[Q]=C});var ct=Z.reduce(function(C,Q){var W=ge[Q];return W===lo||W===hu||W===lo||W===Gl||W===Ul||W===Ma||w.ext_srgb&&(W===Ia||W===Da)?C[W]=W:W===pu||Q.indexOf("rgba")>=0?C[W]=ao:C[W]=zl,C},{});function ae(){this.internalformat=ao,this.format=ao,this.type=Bo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=jo,this.width=0,this.height=0,this.channels=0}function ie(C,Q){C.internalformat=Q.internalformat,C.format=Q.format,C.type=Q.type,C.compressed=Q.compressed,C.premultiplyAlpha=Q.premultiplyAlpha,C.flipY=Q.flipY,C.unpackAlignment=Q.unpackAlignment,C.colorSpace=Q.colorSpace,C.width=Q.width,C.height=Q.height,C.channels=Q.channels}function Qe(C,Q){if(!(typeof Q!="object"||!Q)){if("premultiplyAlpha"in Q&&(E.type(Q.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),C.premultiplyAlpha=Q.premultiplyAlpha),"flipY"in Q&&(E.type(Q.flipY,"boolean","invalid texture flip"),C.flipY=Q.flipY),"alignment"in Q&&(E.oneOf(Q.alignment,[1,2,4,8],"invalid texture unpack alignment"),C.unpackAlignment=Q.alignment),"colorSpace"in Q&&(E.parameter(Q.colorSpace,Se,"invalid colorSpace"),C.colorSpace=Se[Q.colorSpace]),"type"in Q){var W=Q.type;E(w.oes_texture_float||!(W==="float"||W==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),E(w.oes_texture_half_float||!(W==="half float"||W==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),E(w.webgl_depth_texture||!(W==="uint16"||W==="uint32"||W==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(W,ke,"invalid texture type"),C.type=ke[W]}var qe=C.width,jt=C.height,b=C.channels,x=!1;"shape"in Q?(E(Array.isArray(Q.shape)&&Q.shape.length>=2,"shape must be an array"),qe=Q.shape[0],jt=Q.shape[1],Q.shape.length===3&&(b=Q.shape[2],E(b>0&&b<=4,"invalid number of channels"),x=!0),E(qe>=0&&qe<=k.maxTextureSize,"invalid width"),E(jt>=0&&jt<=k.maxTextureSize,"invalid height")):("radius"in Q&&(qe=jt=Q.radius,E(qe>=0&&qe<=k.maxTextureSize,"invalid radius")),"width"in Q&&(qe=Q.width,E(qe>=0&&qe<=k.maxTextureSize,"invalid width")),"height"in Q&&(jt=Q.height,E(jt>=0&&jt<=k.maxTextureSize,"invalid height")),"channels"in Q&&(b=Q.channels,E(b>0&&b<=4,"invalid number of channels"),x=!0)),C.width=qe|0,C.height=jt|0,C.channels=b|0;var N=!1;if("format"in Q){var B=Q.format;E(w.webgl_depth_texture||!(B==="depth"||B==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(B,ge,"invalid texture format");var z=C.internalformat=ge[B];C.format=ct[z],B in ke&&("type"in Q||(C.type=ke[B])),B in we&&(C.compressed=!0),N=!0}!x&&N?C.channels=Xr[C.format]:x&&!N?C.channels!==Ba[C.format]&&(C.format=C.internalformat=Ba[C.channels]):N&&x&&E(C.channels===Xr[C.format],"number of channels inconsistent with specified format")}}function Ne(C){p.pixelStorei(E1,C.flipY),p.pixelStorei(S1,C.premultiplyAlpha),p.pixelStorei(b1,C.colorSpace),p.pixelStorei(w1,C.unpackAlignment)}function xe(){ae.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Me(C,Q){var W=null;if(Lu(Q)?W=Q:Q&&(E.type(Q,"object","invalid pixel data type"),Qe(C,Q),"x"in Q&&(C.xOffset=Q.x|0),"y"in Q&&(C.yOffset=Q.y|0),Lu(Q.data)&&(W=Q.data)),E(!C.compressed||W instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Q.copy){E(!W,"can not specify copy and data field for the same texture");var qe=oe.viewportWidth,jt=oe.viewportHeight;C.width=C.width||qe-C.xOffset,C.height=C.height||jt-C.yOffset,C.needsCopy=!0,E(C.xOffset>=0&&C.xOffset<qe&&C.yOffset>=0&&C.yOffset<jt&&C.width>0&&C.width<=qe&&C.height>0&&C.height<=jt,"copy texture read out of bounds")}else if(!W)C.width=C.width||1,C.height=C.height||1,C.channels=C.channels||4;else if(n(W))C.channels=C.channels||4,C.data=W,!("type"in Q)&&C.type===Bo&&(C.type=$f(W));else if(Mf(W))C.channels=C.channels||4,C1(C,W),C.alignment=1,C.needsFree=!0;else if(Pr(W)){var b=W.data;!Array.isArray(b)&&C.type===Bo&&(C.type=$f(b));var x=W.shape,N=W.stride,B,z,I,M,$,T;x.length===3?(I=x[2],T=N[2]):(E(x.length===2,"invalid ndarray pixel data, must be 2 or 3D"),I=1,T=1),B=x[0],z=x[1],M=N[0],$=N[1],C.alignment=1,C.width=B,C.height=z,C.channels=I,C.format=C.internalformat=Ba[I],C.needsFree=!0,zf(C,b,M,$,T,W.offset)}else if(Au(W)||If(W)||A1(W))Au(W)||If(W)?C.element=W:C.element=W.canvas,C.width=C.element.width,C.height=C.element.height,C.channels=4;else if(Cu(W))C.element=W,C.width=W.width,C.height=W.height,C.channels=4;else if(Df(W))C.element=W,C.width=W.naturalWidth,C.height=W.naturalHeight,C.channels=4;else if(Ff(W))C.element=W,C.width=W.videoWidth,C.height=W.videoHeight,C.channels=4;else if(Tu(W)){var R=C.width||W[0].length,A=C.height||W.length,H=C.channels;vn(W[0][0])?H=H||W[0][0].length:H=H||1;for(var G=Hr.shape(W),re=1,le=0;le<G.length;++le)re*=G[le];var Ce=Bf(C,re);Hr.flatten(W,G,"",Ce),jf(C,Ce),C.alignment=1,C.width=R,C.height=A,C.channels=H,C.format=C.internalformat=Ba[H],C.needsFree=!0}C.type===Wr?E(k.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):C.type===$o&&E(k.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function $e(C,Q,W){var qe=C.element,jt=C.data,b=C.internalformat,x=C.format,N=C.type,B=C.width,z=C.height;Ne(C),qe?p.texImage2D(Q,W,x,x,N,qe):C.compressed?p.compressedTexImage2D(Q,W,b,B,z,0,jt):C.needsCopy?(q(),p.copyTexImage2D(Q,W,x,C.xOffset,C.yOffset,B,z,0)):p.texImage2D(Q,W,x,B,z,0,x,N,jt||null)}function St(C,Q,W,qe,jt){var b=C.element,x=C.data,N=C.internalformat,B=C.format,z=C.type,I=C.width,M=C.height;Ne(C),b?p.texSubImage2D(Q,jt,W,qe,B,z,b):C.compressed?p.compressedTexSubImage2D(Q,jt,W,qe,N,I,M,x):C.needsCopy?(q(),p.copyTexSubImage2D(Q,jt,W,qe,C.xOffset,C.yOffset,I,M)):p.texSubImage2D(Q,jt,W,qe,I,M,B,z,x)}var _t=[];function je(){return _t.pop()||new xe}function Ue(C){C.needsFree&&ot.freeType(C.data),xe.call(C),_t.push(C)}function pt(){ae.call(this),this.genMipmaps=!1,this.mipmapHint=Fa,this.mipmask=0,this.images=Array(16)}function bt(C,Q,W){var qe=C.images[0]=je();C.mipmask=1,qe.width=C.width=Q,qe.height=C.height=W,qe.channels=C.channels=4}function Vt(C,Q){var W=null;if(Lu(Q))W=C.images[0]=je(),ie(W,C),Me(W,Q),C.mipmask=1;else if(Qe(C,Q),Array.isArray(Q.mipmap))for(var qe=Q.mipmap,jt=0;jt<qe.length;++jt)W=C.images[jt]=je(),ie(W,C),W.width>>=jt,W.height>>=jt,Me(W,qe[jt]),C.mipmask|=1<<jt;else W=C.images[0]=je(),ie(W,C),Me(W,Q),C.mipmask=1;ie(C,C.images[0]),C.compressed&&(C.internalformat===so||C.internalformat===vu||C.internalformat===gu||C.internalformat===yu)&&E(C.width%4===0&&C.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function xn(C,Q){for(var W=C.images,qe=0;qe<W.length;++qe){if(!W[qe])return;$e(W[qe],Q,qe)}}var En=[];function Xt(){var C=En.pop()||new pt;ae.call(C),C.mipmask=0;for(var Q=0;Q<16;++Q)C.images[Q]=null;return C}function Hn(C){for(var Q=C.images,W=0;W<Q.length;++W)Q[W]&&Ue(Q[W]),Q[W]=null;En.push(C)}function gn(){this.minFilter=Eu,this.magFilter=Eu,this.wrapS=wu,this.wrapT=wu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Fa}function zn(C,Q){if("min"in Q){var W=Q.min;E.parameter(W,be),C.minFilter=be[W],Lf.indexOf(C.minFilter)>=0&&!("faces"in Q)&&(C.genMipmaps=!0)}if("mag"in Q){var qe=Q.mag;E.parameter(qe,Ee),C.magFilter=Ee[qe]}var jt=C.wrapS,b=C.wrapT;if("wrap"in Q){var x=Q.wrap;typeof x=="string"?(E.parameter(x,pe),jt=b=pe[x]):Array.isArray(x)&&(E.parameter(x[0],pe),E.parameter(x[1],pe),jt=pe[x[0]],b=pe[x[1]])}else{if("wrapS"in Q){var N=Q.wrapS;E.parameter(N,pe),jt=pe[N]}if("wrapT"in Q){var B=Q.wrapT;E.parameter(B,pe),b=pe[B]}}if(C.wrapS=jt,C.wrapT=b,"anisotropic"in Q){var z=Q.anisotropic;E(typeof z=="number"&&z>=1&&z<=k.maxAnisotropic,"aniso samples must be between 1 and "),C.anisotropic=Q.anisotropic}if("mipmap"in Q){var I=!1;switch(typeof Q.mipmap){case"string":E.parameter(Q.mipmap,me,"invalid mipmap hint"),C.mipmapHint=me[Q.mipmap],C.genMipmaps=!0,I=!0;break;case"boolean":I=C.genMipmaps=Q.mipmap;break;case"object":E(Array.isArray(Q.mipmap),"invalid mipmap type"),C.genMipmaps=!1,I=!0;break;default:E.raise("invalid mipmap type")}I&&!("min"in Q)&&(C.minFilter=Vl)}}function Wn(C,Q){p.texParameteri(Q,v1,C.minFilter),p.texParameteri(Q,m1,C.magFilter),p.texParameteri(Q,f1,C.wrapS),p.texParameteri(Q,d1,C.wrapT),w.ext_texture_filter_anisotropic&&p.texParameteri(Q,_1,C.anisotropic),C.genMipmaps&&(p.hint(y1,C.mipmapHint),p.generateMipmap(Q))}var Xn=0,rr={},ur=k.maxTextureUnits,kn=Array(ur).map(function(){return null});function Mt(C){ae.call(this),this.mipmask=0,this.internalformat=ao,this.id=Xn++,this.refCount=1,this.target=C,this.texture=p.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new gn,J.profile&&(this.stats={size:0})}function cr(C){p.activeTexture($a),p.bindTexture(C.target,C.texture)}function nn(){var C=kn[0];C?p.bindTexture(C.target,C.texture):p.bindTexture(li,null)}function ht(C){var Q=C.texture;E(Q,"must not double destroy texture");var W=C.unit,qe=C.target;W>=0&&(p.activeTexture($a+W),p.bindTexture(qe,null),kn[W]=null),p.deleteTexture(Q),C.texture=null,C.params=null,C.pixels=null,C.refCount=0,delete rr[C.id],Y.textureCount--}r(Mt.prototype,{bind:function(){var C=this;C.bindCount+=1;var Q=C.unit;if(Q<0){for(var W=0;W<ur;++W){var qe=kn[W];if(qe){if(qe.bindCount>0)continue;qe.unit=-1}kn[W]=C,Q=W;break}Q>=ur&&E.raise("insufficient number of texture units"),J.profile&&Y.maxTextureUnits<Q+1&&(Y.maxTextureUnits=Q+1),C.unit=Q,p.activeTexture($a+Q),p.bindTexture(C.target,C.texture)}return Q},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ht(this)}});function Ht(C,Q){var W=new Mt(li);rr[W.id]=W,Y.textureCount++;function qe(x,N){var B=W.texInfo;gn.call(B);var z=Xt();return typeof x=="number"?typeof N=="number"?bt(z,x|0,N|0):bt(z,x|0,x|0):x?(E.type(x,"object","invalid arguments to regl.texture"),zn(B,x),Vt(z,x)):bt(z,1,1),B.genMipmaps&&(z.mipmask=(z.width<<1)-1),W.mipmask=z.mipmask,ie(W,z),E.texture2D(B,z,k),W.internalformat=z.internalformat,qe.width=z.width,qe.height=z.height,cr(W),xn(z,li),Wn(B,li),nn(),Hn(z),J.profile&&(W.stats.size=Wl(W.internalformat,W.type,z.width,z.height,B.genMipmaps,!1)),qe.format=_e[W.internalformat],qe.type=Ve[W.type],qe.mag=de[B.magFilter],qe.min=Ge[B.minFilter],qe.wrapS=Be[B.wrapS],qe.wrapT=Be[B.wrapT],qe}function jt(x,N,B,z){E(!!x,"must specify image data");var I=N|0,M=B|0,$=z|0,T=je();return ie(T,W),T.width=0,T.height=0,Me(T,x),T.width=T.width||(W.width>>$)-I,T.height=T.height||(W.height>>$)-M,E(W.type===T.type&&W.format===T.format&&W.internalformat===T.internalformat,"incompatible format for texture.subimage"),E(I>=0&&M>=0&&I+T.width<=W.width&&M+T.height<=W.height,"texture.subimage write out of bounds"),E(W.mipmask&1<<$,"missing mipmap data"),E(T.data||T.element||T.needsCopy,"missing image data"),cr(W),St(T,li,I,M,$),nn(),Ue(T),qe}function b(x,N){var B=x|0,z=N|0||B;if(B===W.width&&z===W.height)return qe;qe.width=W.width=B,qe.height=W.height=z,cr(W);for(var I=0;W.mipmask>>I;++I){var M=B>>I,$=z>>I;if(!M||!$)break;p.texImage2D(li,I,W.format,M,$,0,W.format,W.type,null)}return nn(),J.profile&&(W.stats.size=Wl(W.internalformat,W.type,B,z,!1,!1)),qe}return qe(C,Q),qe.subimage=jt,qe.resize=b,qe._reglType="texture2d",qe._texture=W,J.profile&&(qe.stats=W.stats),qe.destroy=function(){W.decRef()},qe}function qt(C,Q,W,qe,jt,b){var x=new Mt(du);rr[x.id]=x,Y.cubeCount++;var N=new Array(6);function B(M,$,T,R,A,H){var G,re=x.texInfo;for(gn.call(re),G=0;G<6;++G)N[G]=Xt();if(typeof M=="number"||!M){var le=M|0||1;for(G=0;G<6;++G)bt(N[G],le,le)}else if(typeof M=="object")if($)Vt(N[0],M),Vt(N[1],$),Vt(N[2],T),Vt(N[3],R),Vt(N[4],A),Vt(N[5],H);else if(zn(re,M),Qe(x,M),"faces"in M){var Ce=M.faces;for(E(Array.isArray(Ce)&&Ce.length===6,"cube faces must be a length 6 array"),G=0;G<6;++G)E(typeof Ce[G]=="object"&&!!Ce[G],"invalid input for cube map face"),ie(N[G],x),Vt(N[G],Ce[G])}else for(G=0;G<6;++G)Vt(N[G],M);else E.raise("invalid arguments to cube map");for(ie(x,N[0]),E.optional(function(){k.npotTextureCube||E(mf(x.width)&&mf(x.height),"your browser does not support non power or two texture dimensions")}),re.genMipmaps?x.mipmask=(N[0].width<<1)-1:x.mipmask=N[0].mipmask,E.textureCube(x,re,N,k),x.internalformat=N[0].internalformat,B.width=N[0].width,B.height=N[0].height,cr(x),G=0;G<6;++G)xn(N[G],jl+G);for(Wn(re,du),nn(),J.profile&&(x.stats.size=Wl(x.internalformat,x.type,B.width,B.height,re.genMipmaps,!0)),B.format=_e[x.internalformat],B.type=Ve[x.type],B.mag=de[re.magFilter],B.min=Ge[re.minFilter],B.wrapS=Be[re.wrapS],B.wrapT=Be[re.wrapT],G=0;G<6;++G)Hn(N[G]);return B}function z(M,$,T,R,A){E(!!$,"must specify image data"),E(typeof M=="number"&&M===(M|0)&&M>=0&&M<6,"invalid face");var H=T|0,G=R|0,re=A|0,le=je();return ie(le,x),le.width=0,le.height=0,Me(le,$),le.width=le.width||(x.width>>re)-H,le.height=le.height||(x.height>>re)-G,E(x.type===le.type&&x.format===le.format&&x.internalformat===le.internalformat,"incompatible format for texture.subimage"),E(H>=0&&G>=0&&H+le.width<=x.width&&G+le.height<=x.height,"texture.subimage write out of bounds"),E(x.mipmask&1<<re,"missing mipmap data"),E(le.data||le.element||le.needsCopy,"missing image data"),cr(x),St(le,jl+M,H,G,re),nn(),Ue(le),B}function I(M){var $=M|0;if($!==x.width){B.width=x.width=$,B.height=x.height=$,cr(x);for(var T=0;T<6;++T)for(var R=0;x.mipmask>>R;++R)p.texImage2D(jl+T,R,x.format,$>>R,$>>R,0,x.format,x.type,null);return nn(),J.profile&&(x.stats.size=Wl(x.internalformat,x.type,B.width,B.height,!1,!0)),B}}return B(C,Q,W,qe,jt,b),B.subimage=z,B.resize=I,B._reglType="textureCube",B._texture=x,J.profile&&(B.stats=x.stats),B.destroy=function(){x.decRef()},B}function Pn(){for(var C=0;C<ur;++C)p.activeTexture($a+C),p.bindTexture(li,null),kn[C]=null;br(rr).forEach(ht),Y.cubeCount=0,Y.textureCount=0}J.profile&&(Y.getTotalTextureSize=function(){var C=0;return Object.keys(rr).forEach(function(Q){C+=rr[Q].stats.size}),C});function Gi(){for(var C=0;C<ur;++C){var Q=kn[C];Q&&(Q.bindCount=0,Q.unit=-1,kn[C]=null)}br(rr).forEach(function(W){W.texture=p.createTexture(),p.bindTexture(W.target,W.texture);for(var qe=0;qe<32;++qe)if(W.mipmask&1<<qe)if(W.target===li)p.texImage2D(li,qe,W.internalformat,W.width>>qe,W.height>>qe,0,W.internalformat,W.type,null);else for(var jt=0;jt<6;++jt)p.texImage2D(jl+jt,qe,W.internalformat,W.width>>qe,W.height>>qe,0,W.internalformat,W.type,null);Wn(W.texInfo,W.target)})}function Xa(){for(var C=0;C<ur;++C){var Q=kn[C];Q&&(Q.bindCount=0,Q.unit=-1,kn[C]=null),p.activeTexture($a+C),p.bindTexture(li,null),p.bindTexture(du,null)}}return{create2D:Ht,createCube:qt,clear:Pn,getTexture:function(C){return null},restore:Gi,refresh:Xa}}var ji=36161,Xl=32854,Gf=32855,Uf=36194,Vf=33189,Hf=36168,Wf=34041,Xf=35907,Yf=34836,qf=34842,Qf=34843,Yr=[];Yr[Xl]=2,Yr[Gf]=2,Yr[Uf]=2,Yr[Vf]=2,Yr[Hf]=1,Yr[Wf]=4,Yr[Xf]=4,Yr[Yf]=16,Yr[qf]=8,Yr[Qf]=6;function Kf(p,w,k){return Yr[p]*w*k}var R1=function(p,w,k,q,oe){var Y={rgba4:Xl,rgb565:Uf,"rgb5 a1":Gf,depth:Vf,stencil:Hf,"depth stencil":Wf};w.ext_srgb&&(Y.srgba=Xf),w.ext_color_buffer_half_float&&(Y.rgba16f=qf,Y.rgb16f=Qf),w.webgl_color_buffer_float&&(Y.rgba32f=Yf);var J=[];Object.keys(Y).forEach(function(ge){var we=Y[ge];J[we]=ge});var me=0,pe={};function Ee(ge){this.id=me++,this.refCount=1,this.renderbuffer=ge,this.format=Xl,this.width=0,this.height=0,oe.profile&&(this.stats={size:0})}Ee.prototype.decRef=function(){--this.refCount<=0&&be(this)};function be(ge){var we=ge.renderbuffer;E(we,"must not double destroy renderbuffer"),p.bindRenderbuffer(ji,null),p.deleteRenderbuffer(we),ge.renderbuffer=null,ge.refCount=0,delete pe[ge.id],q.renderbufferCount--}function Se(ge,we){var j=new Ee(p.createRenderbuffer());pe[j.id]=j,q.renderbufferCount++;function Z(Ve,de){var Ge=0,Be=0,ct=Xl;if(typeof Ve=="object"&&Ve){var ae=Ve;if("shape"in ae){var ie=ae.shape;E(Array.isArray(ie)&&ie.length>=2,"invalid renderbuffer shape"),Ge=ie[0]|0,Be=ie[1]|0}else"radius"in ae&&(Ge=Be=ae.radius|0),"width"in ae&&(Ge=ae.width|0),"height"in ae&&(Be=ae.height|0);"format"in ae&&(E.parameter(ae.format,Y,"invalid renderbuffer format"),ct=Y[ae.format])}else typeof Ve=="number"?(Ge=Ve|0,typeof de=="number"?Be=de|0:Be=Ge):Ve?E.raise("invalid arguments to renderbuffer constructor"):Ge=Be=1;if(E(Ge>0&&Be>0&&Ge<=k.maxRenderbufferSize&&Be<=k.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===j.width&&Be===j.height&&ct===j.format))return Z.width=j.width=Ge,Z.height=j.height=Be,j.format=ct,p.bindRenderbuffer(ji,j.renderbuffer),p.renderbufferStorage(ji,ct,Ge,Be),E(p.getError()===0,"invalid render buffer format"),oe.profile&&(j.stats.size=Kf(j.format,j.width,j.height)),Z.format=J[j.format],Z}function _e(Ve,de){var Ge=Ve|0,Be=de|0||Ge;return Ge===j.width&&Be===j.height||(E(Ge>0&&Be>0&&Ge<=k.maxRenderbufferSize&&Be<=k.maxRenderbufferSize,"invalid renderbuffer size"),Z.width=j.width=Ge,Z.height=j.height=Be,p.bindRenderbuffer(ji,j.renderbuffer),p.renderbufferStorage(ji,j.format,Ge,Be),E(p.getError()===0,"invalid render buffer format"),oe.profile&&(j.stats.size=Kf(j.format,j.width,j.height))),Z}return Z(ge,we),Z.resize=_e,Z._reglType="renderbuffer",Z._renderbuffer=j,oe.profile&&(Z.stats=j.stats),Z.destroy=function(){j.decRef()},Z}oe.profile&&(q.getTotalRenderbufferSize=function(){var ge=0;return Object.keys(pe).forEach(function(we){ge+=pe[we].stats.size}),ge});function ke(){br(pe).forEach(function(ge){ge.renderbuffer=p.createRenderbuffer(),p.bindRenderbuffer(ji,ge.renderbuffer),p.renderbufferStorage(ji,ge.format,ge.width,ge.height)}),p.bindRenderbuffer(ji,null)}return{create:Se,clear:function(){br(pe).forEach(be)},restore:ke}},Ei=36160,Ru=36161,co=3553,Yl=34069,Zf=36064,ql=36096,Jf=36128,e0=33306,t0=36053,O1=36054,k1=36055,P1=36057,N1=36061,M1=36193,I1=5121,D1=5126,n0=6407,r0=6408,F1=6402,$1=[n0,r0],Ou=[];Ou[r0]=4,Ou[n0]=3;var ja=[];ja[I1]=1,ja[D1]=4,ja[M1]=2;var B1=32854,i0=32855,j1=36194,o0=33189,a0=36168,ku=34041,l0=35907,z1=34836,za=34842,G1=34843,U1=[B1,i0,j1,l0,za,G1,z1],Uo={};Uo[t0]="complete",Uo[O1]="incomplete attachment",Uo[P1]="incomplete dimensions",Uo[k1]="incomplete, missing attachment",Uo[N1]="unsupported";function V1(p,w,k,q,oe,Y){var J={cur:null,next:null,dirty:!1,setFBO:null},me=["rgba"],pe=["rgba4","rgb565","rgb5 a1"];w.ext_srgb&&pe.push("srgba"),w.ext_color_buffer_half_float&&pe.push("rgba16f","rgb16f"),w.webgl_color_buffer_float&&pe.push("rgba32f");var Ee=["uint8"];w.oes_texture_half_float&&Ee.push("half float","float16"),w.oes_texture_float&&Ee.push("float","float32");function be(xe,Me,$e){this.target=xe,this.texture=Me,this.renderbuffer=$e;var St=0,_t=0;Me?(St=Me.width,_t=Me.height):$e&&(St=$e.width,_t=$e.height),this.width=St,this.height=_t}function Se(xe){xe&&(xe.texture&&xe.texture._texture.decRef(),xe.renderbuffer&&xe.renderbuffer._renderbuffer.decRef())}function ke(xe,Me,$e){if(xe)if(xe.texture){var St=xe.texture._texture,_t=Math.max(1,St.width),je=Math.max(1,St.height);E(_t===Me&&je===$e,"inconsistent width/height for supplied texture"),St.refCount+=1}else{var Ue=xe.renderbuffer._renderbuffer;E(Ue.width===Me&&Ue.height===$e,"inconsistent width/height for renderbuffer"),Ue.refCount+=1}}function ge(xe,Me){Me&&(Me.texture?p.framebufferTexture2D(Ei,xe,Me.target,Me.texture._texture.texture,0):p.framebufferRenderbuffer(Ei,xe,Ru,Me.renderbuffer._renderbuffer.renderbuffer))}function we(xe){var Me=co,$e=null,St=null,_t=xe;typeof xe=="object"&&(_t=xe.data,"target"in xe&&(Me=xe.target|0)),E.type(_t,"function","invalid attachment data");var je=_t._reglType;return je==="texture2d"?($e=_t,E(Me===co)):je==="textureCube"?($e=_t,E(Me>=Yl&&Me<Yl+6,"invalid cube map target")):je==="renderbuffer"?(St=_t,Me=Ru):E.raise("invalid regl object for attachment"),new be(Me,$e,St)}function j(xe,Me,$e,St,_t){if($e){var je=q.create2D({width:xe,height:Me,format:St,type:_t});return je._texture.refCount=0,new be(co,je,null)}else{var Ue=oe.create({width:xe,height:Me,format:St});return Ue._renderbuffer.refCount=0,new be(Ru,null,Ue)}}function Z(xe){return xe&&(xe.texture||xe.renderbuffer)}function _e(xe,Me,$e){xe&&(xe.texture?xe.texture.resize(Me,$e):xe.renderbuffer&&xe.renderbuffer.resize(Me,$e),xe.width=Me,xe.height=$e)}var Ve=0,de={};function Ge(){this.id=Ve++,de[this.id]=this,this.framebuffer=p.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Be(xe){xe.colorAttachments.forEach(Se),Se(xe.depthAttachment),Se(xe.stencilAttachment),Se(xe.depthStencilAttachment)}function ct(xe){var Me=xe.framebuffer;E(Me,"must not double destroy framebuffer"),p.deleteFramebuffer(Me),xe.framebuffer=null,Y.framebufferCount--,delete de[xe.id]}function ae(xe){var Me;p.bindFramebuffer(Ei,xe.framebuffer);var $e=xe.colorAttachments;for(Me=0;Me<$e.length;++Me)ge(Zf+Me,$e[Me]);for(Me=$e.length;Me<k.maxColorAttachments;++Me)p.framebufferTexture2D(Ei,Zf+Me,co,null,0);p.framebufferTexture2D(Ei,e0,co,null,0),p.framebufferTexture2D(Ei,ql,co,null,0),p.framebufferTexture2D(Ei,Jf,co,null,0),ge(ql,xe.depthAttachment),ge(Jf,xe.stencilAttachment),ge(e0,xe.depthStencilAttachment);var St=p.checkFramebufferStatus(Ei);!p.isContextLost()&&St!==t0&&E.raise("framebuffer configuration not supported, status = "+Uo[St]),p.bindFramebuffer(Ei,J.next?J.next.framebuffer:null),J.cur=J.next,p.getError()}function ie(xe,Me){var $e=new Ge;Y.framebufferCount++;function St(je,Ue){var pt;E(J.next!==$e,"can not update framebuffer which is currently in use");var bt=0,Vt=0,xn=!0,En=!0,Xt=null,Hn=!0,gn="rgba",zn="uint8",Wn=1,Xn=null,rr=null,ur=null,kn=!1;if(typeof je=="number")bt=je|0,Vt=Ue|0||bt;else if(!je)bt=Vt=1;else{E.type(je,"object","invalid arguments for framebuffer");var Mt=je;if("shape"in Mt){var cr=Mt.shape;E(Array.isArray(cr)&&cr.length>=2,"invalid shape for framebuffer"),bt=cr[0],Vt=cr[1]}else"radius"in Mt&&(bt=Vt=Mt.radius),"width"in Mt&&(bt=Mt.width),"height"in Mt&&(Vt=Mt.height);("color"in Mt||"colors"in Mt)&&(Xt=Mt.color||Mt.colors,Array.isArray(Xt)&&E(Xt.length===1||w.webgl_draw_buffers,"multiple render targets not supported")),Xt||("colorCount"in Mt&&(Wn=Mt.colorCount|0,E(Wn>0,"invalid color buffer count")),"colorTexture"in Mt&&(Hn=!!Mt.colorTexture,gn="rgba4"),"colorType"in Mt&&(zn=Mt.colorType,Hn?(E(w.oes_texture_float||!(zn==="float"||zn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),E(w.oes_texture_half_float||!(zn==="half float"||zn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):zn==="half float"||zn==="float16"?(E(w.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),gn="rgba16f"):(zn==="float"||zn==="float32")&&(E(w.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),gn="rgba32f"),E.oneOf(zn,Ee,"invalid color type")),"colorFormat"in Mt&&(gn=Mt.colorFormat,me.indexOf(gn)>=0?Hn=!0:pe.indexOf(gn)>=0?Hn=!1:E.optional(function(){Hn?E.oneOf(Mt.colorFormat,me,"invalid color format for texture"):E.oneOf(Mt.colorFormat,pe,"invalid color format for renderbuffer")}))),("depthTexture"in Mt||"depthStencilTexture"in Mt)&&(kn=!!(Mt.depthTexture||Mt.depthStencilTexture),E(!kn||w.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Mt&&(typeof Mt.depth=="boolean"?xn=Mt.depth:(Xn=Mt.depth,En=!1)),"stencil"in Mt&&(typeof Mt.stencil=="boolean"?En=Mt.stencil:(rr=Mt.stencil,xn=!1)),"depthStencil"in Mt&&(typeof Mt.depthStencil=="boolean"?xn=En=Mt.depthStencil:(ur=Mt.depthStencil,xn=!1,En=!1))}var nn=null,ht=null,Ht=null,qt=null;if(Array.isArray(Xt))nn=Xt.map(we);else if(Xt)nn=[we(Xt)];else for(nn=new Array(Wn),pt=0;pt<Wn;++pt)nn[pt]=j(bt,Vt,Hn,gn,zn);E(w.webgl_draw_buffers||nn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),E(nn.length<=k.maxColorAttachments,"too many color attachments, not supported"),bt=bt||nn[0].width,Vt=Vt||nn[0].height,Xn?ht=we(Xn):xn&&!En&&(ht=j(bt,Vt,kn,"depth","uint32")),rr?Ht=we(rr):En&&!xn&&(Ht=j(bt,Vt,!1,"stencil","uint8")),ur?qt=we(ur):!Xn&&!rr&&En&&xn&&(qt=j(bt,Vt,kn,"depth stencil","depth stencil")),E(!!Xn+!!rr+!!ur<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Pn=null;for(pt=0;pt<nn.length;++pt)if(ke(nn[pt],bt,Vt),E(!nn[pt]||nn[pt].texture&&$1.indexOf(nn[pt].texture._texture.format)>=0||nn[pt].renderbuffer&&U1.indexOf(nn[pt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+pt+" is invalid"),nn[pt]&&nn[pt].texture){var Gi=Ou[nn[pt].texture._texture.format]*ja[nn[pt].texture._texture.type];Pn===null?Pn=Gi:E(Pn===Gi,"all color attachments much have the same number of bits per pixel.")}return ke(ht,bt,Vt),E(!ht||ht.texture&&ht.texture._texture.format===F1||ht.renderbuffer&&ht.renderbuffer._renderbuffer.format===o0,"invalid depth attachment for framebuffer object"),ke(Ht,bt,Vt),E(!Ht||Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.format===a0,"invalid stencil attachment for framebuffer object"),ke(qt,bt,Vt),E(!qt||qt.texture&&qt.texture._texture.format===ku||qt.renderbuffer&&qt.renderbuffer._renderbuffer.format===ku,"invalid depth-stencil attachment for framebuffer object"),Be($e),$e.width=bt,$e.height=Vt,$e.colorAttachments=nn,$e.depthAttachment=ht,$e.stencilAttachment=Ht,$e.depthStencilAttachment=qt,St.color=nn.map(Z),St.depth=Z(ht),St.stencil=Z(Ht),St.depthStencil=Z(qt),St.width=$e.width,St.height=$e.height,ae($e),St}function _t(je,Ue){E(J.next!==$e,"can not resize a framebuffer which is currently in use");var pt=Math.max(je|0,1),bt=Math.max(Ue|0||pt,1);if(pt===$e.width&&bt===$e.height)return St;for(var Vt=$e.colorAttachments,xn=0;xn<Vt.length;++xn)_e(Vt[xn],pt,bt);return _e($e.depthAttachment,pt,bt),_e($e.stencilAttachment,pt,bt),_e($e.depthStencilAttachment,pt,bt),$e.width=St.width=pt,$e.height=St.height=bt,ae($e),St}return St(xe,Me),r(St,{resize:_t,_reglType:"framebuffer",_framebuffer:$e,destroy:function(){ct($e),Be($e)},use:function(je){J.setFBO({framebuffer:St},je)}})}function Qe(xe){var Me=Array(6);function $e(_t){var je;E(Me.indexOf(J.next)<0,"can not update framebuffer which is currently in use");var Ue={color:null},pt=0,bt=null,Vt="rgba",xn="uint8",En=1;if(typeof _t=="number")pt=_t|0;else if(!_t)pt=1;else{E.type(_t,"object","invalid arguments for framebuffer");var Xt=_t;if("shape"in Xt){var Hn=Xt.shape;E(Array.isArray(Hn)&&Hn.length>=2,"invalid shape for framebuffer"),E(Hn[0]===Hn[1],"cube framebuffer must be square"),pt=Hn[0]}else"radius"in Xt&&(pt=Xt.radius|0),"width"in Xt?(pt=Xt.width|0,"height"in Xt&&E(Xt.height===pt,"must be square")):"height"in Xt&&(pt=Xt.height|0);("color"in Xt||"colors"in Xt)&&(bt=Xt.color||Xt.colors,Array.isArray(bt)&&E(bt.length===1||w.webgl_draw_buffers,"multiple render targets not supported")),bt||("colorCount"in Xt&&(En=Xt.colorCount|0,E(En>0,"invalid color buffer count")),"colorType"in Xt&&(E.oneOf(Xt.colorType,Ee,"invalid color type"),xn=Xt.colorType),"colorFormat"in Xt&&(Vt=Xt.colorFormat,E.oneOf(Xt.colorFormat,me,"invalid color format for texture"))),"depth"in Xt&&(Ue.depth=Xt.depth),"stencil"in Xt&&(Ue.stencil=Xt.stencil),"depthStencil"in Xt&&(Ue.depthStencil=Xt.depthStencil)}var gn;if(bt)if(Array.isArray(bt))for(gn=[],je=0;je<bt.length;++je)gn[je]=bt[je];else gn=[bt];else{gn=Array(En);var zn={radius:pt,format:Vt,type:xn};for(je=0;je<En;++je)gn[je]=q.createCube(zn)}for(Ue.color=Array(gn.length),je=0;je<gn.length;++je){var Wn=gn[je];E(typeof Wn=="function"&&Wn._reglType==="textureCube","invalid cube map"),pt=pt||Wn.width,E(Wn.width===pt&&Wn.height===pt,"invalid cube map shape"),Ue.color[je]={target:Yl,data:gn[je]}}for(je=0;je<6;++je){for(var Xn=0;Xn<gn.length;++Xn)Ue.color[Xn].target=Yl+je;je>0&&(Ue.depth=Me[0].depth,Ue.stencil=Me[0].stencil,Ue.depthStencil=Me[0].depthStencil),Me[je]?Me[je](Ue):Me[je]=ie(Ue)}return r($e,{width:pt,height:pt,color:gn})}function St(_t){var je,Ue=_t|0;if(E(Ue>0&&Ue<=k.maxCubeMapSize,"invalid radius for cube fbo"),Ue===$e.width)return $e;var pt=$e.color;for(je=0;je<pt.length;++je)pt[je].resize(Ue);for(je=0;je<6;++je)Me[je].resize(Ue);return $e.width=$e.height=Ue,$e}return $e(xe),r($e,{faces:Me,resize:St,_reglType:"framebufferCube",destroy:function(){Me.forEach(function(_t){_t.destroy()})}})}function Ne(){J.cur=null,J.next=null,J.dirty=!0,br(de).forEach(function(xe){xe.framebuffer=p.createFramebuffer(),ae(xe)})}return r(J,{getFramebuffer:function(xe){if(typeof xe=="function"&&xe._reglType==="framebuffer"){var Me=xe._framebuffer;if(Me instanceof Ge)return Me}return null},create:ie,createCube:Qe,clear:function(){br(de).forEach(ct)},restore:Ne})}var H1=5126,d=34962,F=34963,V=["attributes","elements","offset","count","primitive","instances"];function ue(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=H1,this.offset=0,this.stride=0,this.divisor=0}function Pe(p,w,k,q,oe,Y,J){for(var me=k.maxAttributes,pe=new Array(me),Ee=0;Ee<me;++Ee)pe[Ee]=new ue;var be=0,Se={},ke={Record:ue,scope:{},state:pe,currentVAO:null,targetVAO:null,restore:we()?Be:function(){},createVAO:ct,getVAO:Z,destroyBuffer:ge,setVAO:we()?_e:Ve,clear:we()?de:function(){}};function ge(ae){for(var ie=0;ie<pe.length;++ie){var Qe=pe[ie];Qe.buffer===ae&&(p.disableVertexAttribArray(ie),Qe.buffer=null)}}function we(){return w.oes_vertex_array_object}function j(){return w.angle_instanced_arrays}function Z(ae){return typeof ae=="function"&&ae._vao?ae._vao:null}function _e(ae){if(ae!==ke.currentVAO){var ie=we();ae?ie.bindVertexArrayOES(ae.vao):ie.bindVertexArrayOES(null),ke.currentVAO=ae}}function Ve(ae){if(ae!==ke.currentVAO){if(ae)ae.bindAttrs();else{for(var ie=j(),Qe=0;Qe<pe.length;++Qe){var Ne=pe[Qe];Ne.buffer?(p.enableVertexAttribArray(Qe),Ne.buffer.bind(),p.vertexAttribPointer(Qe,Ne.size,Ne.type,Ne.normalized,Ne.stride,Ne.offfset),ie&&Ne.divisor&&ie.vertexAttribDivisorANGLE(Qe,Ne.divisor)):(p.disableVertexAttribArray(Qe),p.vertexAttrib4f(Qe,Ne.x,Ne.y,Ne.z,Ne.w))}J.elements?p.bindBuffer(F,J.elements.buffer.buffer):p.bindBuffer(F,null)}ke.currentVAO=ae}}function de(){br(Se).forEach(function(ae){ae.destroy()})}function Ge(){this.id=++be,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ae=we();ae?this.vao=ae.createVertexArrayOES():this.vao=null,Se[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var ae=j(),ie=this.attributes,Qe=0;Qe<ie.length;++Qe){var Ne=ie[Qe];Ne.buffer?(p.enableVertexAttribArray(Qe),p.bindBuffer(d,Ne.buffer.buffer),p.vertexAttribPointer(Qe,Ne.size,Ne.type,Ne.normalized,Ne.stride,Ne.offset),ae&&Ne.divisor&&ae.vertexAttribDivisorANGLE(Qe,Ne.divisor)):(p.disableVertexAttribArray(Qe),p.vertexAttrib4f(Qe,Ne.x,Ne.y,Ne.z,Ne.w))}for(var xe=ie.length;xe<me;++xe)p.disableVertexAttribArray(xe);var Me=Y.getElements(this.elements);Me?p.bindBuffer(F,Me.buffer.buffer):p.bindBuffer(F,null)},Ge.prototype.refresh=function(){var ae=we();ae&&(ae.bindVertexArrayOES(this.vao),this.bindAttrs(),ke.currentVAO=null,ae.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var ae=we();this===ke.currentVAO&&(ke.currentVAO=null,ae.bindVertexArrayOES(null)),ae.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Se[this.id]&&(delete Se[this.id],q.vaoCount-=1)};function Be(){var ae=we();ae&&br(Se).forEach(function(ie){ie.refresh()})}function ct(ae){var ie=new Ge;q.vaoCount+=1;function Qe(Ne){var xe;if(Array.isArray(Ne))xe=Ne,ie.elements&&ie.ownsElements&&ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1,ie.offset=0,ie.count=0,ie.instances=-1,ie.primitive=4;else{if(E(typeof Ne=="object","invalid arguments for create vao"),E("attributes"in Ne,"must specify attributes for vao"),Ne.elements){var Me=Ne.elements;ie.ownsElements?typeof Me=="function"&&Me._reglType==="elements"?(ie.elements.destroy(),ie.ownsElements=!1):(ie.elements(Me),ie.ownsElements=!1):Y.getElements(Ne.elements)?(ie.elements=Ne.elements,ie.ownsElements=!1):(ie.elements=Y.create(Ne.elements),ie.ownsElements=!0)}else ie.elements=null,ie.ownsElements=!1;xe=Ne.attributes,ie.offset=0,ie.count=-1,ie.instances=-1,ie.primitive=4,ie.elements&&(ie.count=ie.elements._elements.vertCount,ie.primitive=ie.elements._elements.primType),"offset"in Ne&&(ie.offset=Ne.offset|0),"count"in Ne&&(ie.count=Ne.count|0),"instances"in Ne&&(ie.instances=Ne.instances|0),"primitive"in Ne&&(E(Ne.primitive in $i,"bad primitive type: "+Ne.primitive),ie.primitive=$i[Ne.primitive]),E.optional(()=>{for(var xn=Object.keys(Ne),En=0;En<xn.length;++En)E(V.indexOf(xn[En])>=0,'invalid option for vao: "'+xn[En]+'" valid options are '+V)}),E(Array.isArray(xe),"attributes must be an array")}E(xe.length<me,"too many attributes"),E(xe.length>0,"must specify at least one attribute");var $e={},St=ie.attributes;St.length=xe.length;for(var _t=0;_t<xe.length;++_t){var je=xe[_t],Ue=St[_t]=new ue,pt=je.data||je;if(Array.isArray(pt)||n(pt)||Pr(pt)){var bt;ie.buffers[_t]&&(bt=ie.buffers[_t],n(pt)&&bt._buffer.byteLength>=pt.byteLength?bt.subdata(pt):(bt.destroy(),ie.buffers[_t]=null)),ie.buffers[_t]||(bt=ie.buffers[_t]=oe.create(je,d,!1,!0)),Ue.buffer=oe.getBuffer(bt),Ue.size=Ue.buffer.dimension|0,Ue.normalized=!1,Ue.type=Ue.buffer.dtype,Ue.offset=0,Ue.stride=0,Ue.divisor=0,Ue.state=1,$e[_t]=1}else oe.getBuffer(je)?(Ue.buffer=oe.getBuffer(je),Ue.size=Ue.buffer.dimension|0,Ue.normalized=!1,Ue.type=Ue.buffer.dtype,Ue.offset=0,Ue.stride=0,Ue.divisor=0,Ue.state=1):oe.getBuffer(je.buffer)?(Ue.buffer=oe.getBuffer(je.buffer),Ue.size=(+je.size||Ue.buffer.dimension)|0,Ue.normalized=!!je.normalized||!1,"type"in je?(E.parameter(je.type,Do,"invalid buffer type"),Ue.type=Do[je.type]):Ue.type=Ue.buffer.dtype,Ue.offset=(je.offset||0)|0,Ue.stride=(je.stride||0)|0,Ue.divisor=(je.divisor||0)|0,Ue.state=1,E(Ue.size>=1&&Ue.size<=4,"size must be between 1 and 4"),E(Ue.offset>=0,"invalid offset"),E(Ue.stride>=0&&Ue.stride<=255,"stride must be between 0 and 255"),E(Ue.divisor>=0,"divisor must be positive"),E(!Ue.divisor||!!w.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in je?(E(_t>0,"first attribute must not be a constant"),Ue.x=+je.x||0,Ue.y=+je.y||0,Ue.z=+je.z||0,Ue.w=+je.w||0,Ue.state=2):E(!1,"invalid attribute spec for location "+_t)}for(var Vt=0;Vt<ie.buffers.length;++Vt)!$e[Vt]&&ie.buffers[Vt]&&(ie.buffers[Vt].destroy(),ie.buffers[Vt]=null);return ie.refresh(),Qe}return Qe.destroy=function(){for(var Ne=0;Ne<ie.buffers.length;++Ne)ie.buffers[Ne]&&ie.buffers[Ne].destroy();ie.buffers.length=0,ie.ownsElements&&(ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1),ie.destroy()},Qe._vao=ie,Qe._reglType="vao",Qe(ae)}return ke}var We=35632,et=35633,Ot=35718,tn=35721;function Qt(p,w,k,q){var oe={},Y={};function J(j,Z,_e,Ve){this.name=j,this.id=Z,this.location=_e,this.info=Ve}function me(j,Z){for(var _e=0;_e<j.length;++_e)if(j[_e].id===Z.id){j[_e].location=Z.location;return}j.push(Z)}function pe(j,Z,_e){var Ve=j===We?oe:Y,de=Ve[Z];if(!de){var Ge=w.str(Z);de=p.createShader(j),p.shaderSource(de,Ge),p.compileShader(de),E.shaderError(p,de,Ge,j,_e),Ve[Z]=de}return de}var Ee={},be=[],Se=0;function ke(j,Z){this.id=Se++,this.fragId=j,this.vertId=Z,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ge(j,Z,_e){var Ve,de,Ge=pe(We,j.fragId),Be=pe(et,j.vertId),ct=j.program=p.createProgram();if(p.attachShader(ct,Ge),p.attachShader(ct,Be),_e)for(Ve=0;Ve<_e.length;++Ve){var ae=_e[Ve];p.bindAttribLocation(ct,ae[0],ae[1])}p.linkProgram(ct),E.linkError(p,ct,w.str(j.fragId),w.str(j.vertId),Z);var ie=p.getProgramParameter(ct,Ot);q.profile&&(j.stats.uniformsCount=ie);var Qe=j.uniforms;for(Ve=0;Ve<ie;++Ve)if(de=p.getActiveUniform(ct,Ve),de){if(de.size>1)for(var Ne=0;Ne<de.size;++Ne){var xe=de.name.replace("[0]","["+Ne+"]");me(Qe,new J(xe,w.id(xe),p.getUniformLocation(ct,xe),de))}var Me=de.name;de.size>1&&(Me=Me.replace("[0]","")),me(Qe,new J(Me,w.id(Me),p.getUniformLocation(ct,Me),de))}var $e=p.getProgramParameter(ct,tn);q.profile&&(j.stats.attributesCount=$e);var St=j.attributes;for(Ve=0;Ve<$e;++Ve)de=p.getActiveAttrib(ct,Ve),de&&me(St,new J(de.name,w.id(de.name),p.getAttribLocation(ct,de.name),de))}q.profile&&(k.getMaxUniformsCount=function(){var j=0;return be.forEach(function(Z){Z.stats.uniformsCount>j&&(j=Z.stats.uniformsCount)}),j},k.getMaxAttributesCount=function(){var j=0;return be.forEach(function(Z){Z.stats.attributesCount>j&&(j=Z.stats.attributesCount)}),j});function we(){oe={},Y={};for(var j=0;j<be.length;++j)ge(be[j],null,be[j].attributes.map(function(Z){return[Z.location,Z.name]}))}return{clear:function(){var j=p.deleteShader.bind(p);br(oe).forEach(j),oe={},br(Y).forEach(j),Y={},be.forEach(function(Z){p.deleteProgram(Z.program)}),be.length=0,Ee={},k.shaderCount=0},program:function(j,Z,_e,Ve){E.command(j>=0,"missing vertex shader",_e),E.command(Z>=0,"missing fragment shader",_e);var de=Ee[Z];de||(de=Ee[Z]={});var Ge=de[j];if(Ge&&(Ge.refCount++,!Ve))return Ge;var Be=new ke(Z,j);return k.shaderCount++,ge(Be,_e,Ve),Ge||(de[j]=Be),be.push(Be),r(Be,{destroy:function(){if(Be.refCount--,Be.refCount<=0){p.deleteProgram(Be.program);var ct=be.indexOf(Be);be.splice(ct,1),k.shaderCount--}de[Be.vertId].refCount<=0&&(p.deleteShader(Y[Be.vertId]),delete Y[Be.vertId],delete Ee[Be.fragId][Be.vertId]),Object.keys(Ee[Be.fragId]).length||(p.deleteShader(oe[Be.fragId]),delete oe[Be.fragId],delete Ee[Be.fragId])}})},restore:we,shader:pe,frag:-1,vert:-1}}var Bn=6408,an=5121,Kt=3333,s0=5126;function P9(p,w,k,q,oe,Y,J){function me(be){var Se;w.next===null?(E(oe.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Se=an):(E(w.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Se=w.next.colorAttachments[0].texture._texture.type,E.optional(function(){Y.oes_texture_float?(E(Se===an||Se===s0,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Se===s0&&E(J.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):E(Se===an,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var ke=0,ge=0,we=q.framebufferWidth,j=q.framebufferHeight,Z=null;n(be)?Z=be:be&&(E.type(be,"object","invalid arguments to regl.read()"),ke=be.x|0,ge=be.y|0,E(ke>=0&&ke<q.framebufferWidth,"invalid x offset for regl.read"),E(ge>=0&&ge<q.framebufferHeight,"invalid y offset for regl.read"),we=(be.width||q.framebufferWidth-ke)|0,j=(be.height||q.framebufferHeight-ge)|0,Z=be.data||null),Z&&(Se===an?E(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Se===s0&&E(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),E(we>0&&we+ke<=q.framebufferWidth,"invalid width for read pixels"),E(j>0&&j+ge<=q.framebufferHeight,"invalid height for read pixels"),k();var _e=we*j*4;return Z||(Se===an?Z=new Uint8Array(_e):Se===s0&&(Z=Z||new Float32Array(_e))),E.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),E(Z.byteLength>=_e,"data buffer for regl.read() too small"),p.pixelStorei(Kt,4),p.readPixels(ke,ge,we,j,Bn,Se,Z),Z}function pe(be){var Se;return w.setFBO({framebuffer:be.framebuffer},function(){Se=me(be)}),Se}function Ee(be){return!be||!("framebuffer"in be)?me(be):pe(be)}return Ee}function Ql(p){return Array.prototype.slice.call(p)}function Kl(p){return Ql(p).join("")}function N9(){var p=0,w=[],k=[];function q(Se){for(var ke=0;ke<k.length;++ke)if(k[ke]===Se)return w[ke];var ge="g"+p++;return w.push(ge),k.push(Se),ge}function oe(){var Se=[];function ke(){Se.push.apply(Se,Ql(arguments))}var ge=[];function we(){var j="v"+p++;return ge.push(j),arguments.length>0&&(Se.push(j,"="),Se.push.apply(Se,Ql(arguments)),Se.push(";")),j}return r(ke,{def:we,toString:function(){return Kl([ge.length>0?"var "+ge.join(",")+";":"",Kl(Se)])}})}function Y(){var Se=oe(),ke=oe(),ge=Se.toString,we=ke.toString;function j(Z,_e){ke(Z,_e,"=",Se.def(Z,_e),";")}return r(function(){Se.apply(Se,Ql(arguments))},{def:Se.def,entry:Se,exit:ke,save:j,set:function(Z,_e,Ve){j(Z,_e),Se(Z,_e,"=",Ve,";")},toString:function(){return ge()+we()}})}function J(){var Se=Kl(arguments),ke=Y(),ge=Y(),we=ke.toString,j=ge.toString;return r(ke,{then:function(){return ke.apply(ke,Ql(arguments)),this},else:function(){return ge.apply(ge,Ql(arguments)),this},toString:function(){var Z=j();return Z&&(Z="else{"+Z+"}"),Kl(["if(",Se,"){",we(),"}",Z])}})}var me=oe(),pe={};function Ee(Se,ke){var ge=[];function we(){var de="a"+ge.length;return ge.push(de),de}ke=ke||0;for(var j=0;j<ke;++j)we();var Z=Y(),_e=Z.toString,Ve=pe[Se]=r(Z,{arg:we,toString:function(){return Kl(["function(",ge.join(),"){",_e(),"}"])}});return Ve}function be(){var Se=['"use strict";',me,"return {"];Object.keys(pe).forEach(function(we){Se.push('"',we,'":',pe[we].toString(),",")}),Se.push("}");var ke=Kl(Se).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ge=Function.apply(null,w.concat(ke));return ge.apply(null,k)}return{global:me,link:q,block:oe,proc:Ee,scope:Y,cond:J,compile:be}}var Zl="xyzw".split(""),cg=5121,Jl=1,W1=2,X1=0,Y1=1,q1=2,Q1=3,u0=4,fg=5,dg=6,hg="dither",pg="blend.enable",mg="blend.color",K1="blend.equation",Z1="blend.func",vg="depth.enable",gg="depth.func",yg="depth.range",xg="depth.mask",J1="colorMask",_g="cull.enable",wg="cull.face",ep="frontFace",tp="lineWidth",Eg="polygonOffset.enable",np="polygonOffset.offset",Sg="sample.alpha",bg="sample.enable",rp="sample.coverage",Tg="stencil.enable",Ag="stencil.mask",ip="stencil.func",op="stencil.opFront",Pu="stencil.opBack",Cg="scissor.enable",c0="scissor.box",fo="viewport",Nu="profile",Ga="framebuffer",Mu="vert",Iu="frag",Ua="elements",Va="primitive",Ha="count",f0="offset",d0="instances",Du="vao",ap="Width",lp="Height",es=Ga+ap,ts=Ga+lp,M9=fo+ap,I9=fo+lp,Lg="drawingBuffer",Rg=Lg+ap,Og=Lg+lp,D9=[Z1,K1,ip,op,Pu,rp,fo,c0,np],ns=34962,sp=34963,F9=35632,$9=35633,kg=3553,B9=34067,j9=2884,z9=3042,G9=3024,U9=2960,V9=2929,H9=3089,W9=32823,X9=32926,Y9=32928,up=5126,h0=35664,p0=35665,m0=35666,cp=5124,v0=35667,g0=35668,y0=35669,fp=35670,x0=35671,_0=35672,w0=35673,Fu=35674,$u=35675,Bu=35676,ju=35678,zu=35680,dp=4,Gu=1028,Wa=1029,Pg=2304,hp=2305,q9=32775,Q9=32776,K9=519,Vo=7680,Ng=0,Mg=1,Ig=32774,Z9=513,Dg=36160,J9=36064,zi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Fg=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],rs={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ho={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$g={frag:F9,vert:$9},pp={cw:Pg,ccw:hp};function E0(p){return Array.isArray(p)||n(p)||Pr(p)}function Bg(p){return p.sort(function(w,k){return w===fo?-1:k===fo?1:w<k?-1:1})}function Kn(p,w,k,q){this.thisDep=p,this.contextDep=w,this.propDep=k,this.append=q}function Wo(p){return p&&!(p.thisDep||p.contextDep||p.propDep)}function jn(p){return new Kn(!1,!1,!1,p)}function Nr(p,w){var k=p.type;if(k===X1){var q=p.data.length;return new Kn(!0,q>=1,q>=2,w)}else if(k===u0){var oe=p.data;return new Kn(oe.thisDep,oe.contextDep,oe.propDep,w)}else{if(k===fg)return new Kn(!1,!1,!1,w);if(k===dg){for(var Y=!1,J=!1,me=!1,pe=0;pe<p.data.length;++pe){var Ee=p.data[pe];if(Ee.type===Y1)me=!0;else if(Ee.type===q1)J=!0;else if(Ee.type===Q1)Y=!0;else if(Ee.type===X1){Y=!0;var be=Ee.data;be>=1&&(J=!0),be>=2&&(me=!0)}else Ee.type===u0&&(Y=Y||Ee.data.thisDep,J=J||Ee.data.contextDep,me=me||Ee.data.propDep)}return new Kn(Y,J,me,w)}else return new Kn(k===Q1,k===q1,k===Y1,w)}}var jg=new Kn(!1,!1,!1,function(){});function e7(p,w,k,q,oe,Y,J,me,pe,Ee,be,Se,ke,ge,we){var j=Ee.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};k.ext_blend_minmax&&(Z.min=q9,Z.max=Q9);var _e=k.angle_instanced_arrays,Ve=k.webgl_draw_buffers,de=k.oes_vertex_array_object,Ge={dirty:!0,profile:we.profile},Be={},ct=[],ae={},ie={};function Qe(b){return b.replace(".","_")}function Ne(b,x,N){var B=Qe(b);ct.push(b),Be[B]=Ge[B]=!!N,ae[B]=x}function xe(b,x,N){var B=Qe(b);ct.push(b),Array.isArray(N)?(Ge[B]=N.slice(),Be[B]=N.slice()):Ge[B]=Be[B]=N,ie[B]=x}Ne(hg,G9),Ne(pg,z9),xe(mg,"blendColor",[0,0,0,0]),xe(K1,"blendEquationSeparate",[Ig,Ig]),xe(Z1,"blendFuncSeparate",[Mg,Ng,Mg,Ng]),Ne(vg,V9,!0),xe(gg,"depthFunc",Z9),xe(yg,"depthRange",[0,1]),xe(xg,"depthMask",!0),xe(J1,J1,[!0,!0,!0,!0]),Ne(_g,j9),xe(wg,"cullFace",Wa),xe(ep,ep,hp),xe(tp,tp,1),Ne(Eg,W9),xe(np,"polygonOffset",[0,0]),Ne(Sg,X9),Ne(bg,Y9),xe(rp,"sampleCoverage",[1,!1]),Ne(Tg,U9),xe(Ag,"stencilMask",-1),xe(ip,"stencilFunc",[K9,0,-1]),xe(op,"stencilOpSeparate",[Gu,Vo,Vo,Vo]),xe(Pu,"stencilOpSeparate",[Wa,Vo,Vo,Vo]),Ne(Cg,H9),xe(c0,"scissor",[0,0,p.drawingBufferWidth,p.drawingBufferHeight]),xe(fo,fo,[0,0,p.drawingBufferWidth,p.drawingBufferHeight]);var Me={gl:p,context:ke,strings:w,next:Be,current:Ge,draw:Se,elements:Y,buffer:oe,shader:be,attributes:Ee.state,vao:Ee,uniforms:pe,framebuffer:me,extensions:k,timer:ge,isBufferArgs:E0},$e={primTypes:$i,compareFuncs:rs,blendFuncs:zi,blendEquations:Z,stencilOps:Ho,glTypes:Do,orientationType:pp};E.optional(function(){Me.isArrayLike=vn}),Ve&&($e.backBuffer=[Wa],$e.drawBuffer=Ut(q.maxDrawbuffers,function(b){return b===0?[0]:Ut(b,function(x){return J9+x})}));var St=0;function _t(){var b=N9(),x=b.link,N=b.global;b.id=St++,b.batchId="0";var B=x(Me),z=b.shared={props:"a0"};Object.keys(Me).forEach(function(R){z[R]=N.def(B,".",R)}),E.optional(function(){b.CHECK=x(E),b.commandStr=E.guessCommand(),b.command=x(b.commandStr),b.assert=function(R,A,H){R("if(!(",A,"))",this.CHECK,".commandRaise(",x(H),",",this.command,");")},$e.invalidBlendCombinations=Fg});var I=b.next={},M=b.current={};Object.keys(ie).forEach(function(R){Array.isArray(Ge[R])&&(I[R]=N.def(z.next,".",R),M[R]=N.def(z.current,".",R))});var $=b.constants={};Object.keys($e).forEach(function(R){$[R]=N.def(JSON.stringify($e[R]))}),b.invoke=function(R,A){switch(A.type){case X1:var H=["this",z.context,z.props,b.batchId];return R.def(x(A.data),".call(",H.slice(0,Math.max(A.data.length+1,4)),")");case Y1:return R.def(z.props,A.data);case q1:return R.def(z.context,A.data);case Q1:return R.def("this",A.data);case u0:return A.data.append(b,R),A.data.ref;case fg:return A.data.toString();case dg:return A.data.map(function(G){return b.invoke(R,G)})}},b.attribCache={};var T={};return b.scopeAttrib=function(R){var A=w.id(R);if(A in T)return T[A];var H=Ee.scope[A];H||(H=Ee.scope[A]=new j);var G=T[A]=x(H);return G},b}function je(b){var x=b.static,N=b.dynamic,B;if(Nu in x){var z=!!x[Nu];B=jn(function(M,$){return z}),B.enable=z}else if(Nu in N){var I=N[Nu];B=Nr(I,function(M,$){return M.invoke($,I)})}return B}function Ue(b,x){var N=b.static,B=b.dynamic;if(Ga in N){var z=N[Ga];return z?(z=me.getFramebuffer(z),E.command(z,"invalid framebuffer object"),jn(function(M,$){var T=M.link(z),R=M.shared;$.set(R.framebuffer,".next",T);var A=R.context;return $.set(A,"."+es,T+".width"),$.set(A,"."+ts,T+".height"),T})):jn(function(M,$){var T=M.shared;$.set(T.framebuffer,".next","null");var R=T.context;return $.set(R,"."+es,R+"."+Rg),$.set(R,"."+ts,R+"."+Og),"null"})}else if(Ga in B){var I=B[Ga];return Nr(I,function(M,$){var T=M.invoke($,I),R=M.shared,A=R.framebuffer,H=$.def(A,".getFramebuffer(",T,")");E.optional(function(){M.assert($,"!"+T+"||"+H,"invalid framebuffer object")}),$.set(A,".next",H);var G=R.context;return $.set(G,"."+es,H+"?"+H+".width:"+G+"."+Rg),$.set(G,"."+ts,H+"?"+H+".height:"+G+"."+Og),H})}else return null}function pt(b,x,N){var B=b.static,z=b.dynamic;function I(T){if(T in B){var R=B[T];E.commandType(R,"object","invalid "+T,N.commandStr);var A=!0,H=R.x|0,G=R.y|0,re,le;return"width"in R?(re=R.width|0,E.command(re>=0,"invalid "+T,N.commandStr)):A=!1,"height"in R?(le=R.height|0,E.command(le>=0,"invalid "+T,N.commandStr)):A=!1,new Kn(!A&&x&&x.thisDep,!A&&x&&x.contextDep,!A&&x&&x.propDep,function(ut,Xe){var fe=ut.shared.context,ne=re;"width"in R||(ne=Xe.def(fe,".",es,"-",H));var tt=le;return"height"in R||(tt=Xe.def(fe,".",ts,"-",G)),[H,G,ne,tt]})}else if(T in z){var Ce=z[T],vt=Nr(Ce,function(ut,Xe){var fe=ut.invoke(Xe,Ce);E.optional(function(){ut.assert(Xe,fe+"&&typeof "+fe+'==="object"',"invalid "+T)});var ne=ut.shared.context,tt=Xe.def(fe,".x|0"),Ze=Xe.def(fe,".y|0"),mt=Xe.def('"width" in ',fe,"?",fe,".width|0:","(",ne,".",es,"-",tt,")"),on=Xe.def('"height" in ',fe,"?",fe,".height|0:","(",ne,".",ts,"-",Ze,")");return E.optional(function(){ut.assert(Xe,mt+">=0&&"+on+">=0","invalid "+T)}),[tt,Ze,mt,on]});return x&&(vt.thisDep=vt.thisDep||x.thisDep,vt.contextDep=vt.contextDep||x.contextDep,vt.propDep=vt.propDep||x.propDep),vt}else return x?new Kn(x.thisDep,x.contextDep,x.propDep,function(ut,Xe){var fe=ut.shared.context;return[0,0,Xe.def(fe,".",es),Xe.def(fe,".",ts)]}):null}var M=I(fo);if(M){var $=M;M=new Kn(M.thisDep,M.contextDep,M.propDep,function(T,R){var A=$.append(T,R),H=T.shared.context;return R.set(H,"."+M9,A[2]),R.set(H,"."+I9,A[3]),A})}return{viewport:M,scissor_box:I(c0)}}function bt(b,x){var N=b.static,B=typeof N[Iu]=="string"&&typeof N[Mu]=="string";if(B){if(Object.keys(x.dynamic).length>0)return null;var z=x.static,I=Object.keys(z);if(I.length>0&&typeof z[I[0]]=="number"){for(var M=[],$=0;$<I.length;++$)E(typeof z[I[$]]=="number","must specify all vertex attribute locations when using vaos"),M.push([z[I[$]]|0,I[$]]);return M}}return null}function Vt(b,x,N){var B=b.static,z=b.dynamic;function I(A){if(A in B){var H=w.id(B[A]);E.optional(function(){be.shader($g[A],H,E.guessCommand())});var G=jn(function(){return H});return G.id=H,G}else if(A in z){var re=z[A];return Nr(re,function(le,Ce){var vt=le.invoke(Ce,re),ut=Ce.def(le.shared.strings,".id(",vt,")");return E.optional(function(){Ce(le.shared.shader,".shader(",$g[A],",",ut,",",le.command,");")}),ut})}return null}var M=I(Iu),$=I(Mu),T=null,R;return Wo(M)&&Wo($)?(T=be.program($.id,M.id,null,N),R=jn(function(A,H){return A.link(T)})):R=new Kn(M&&M.thisDep||$&&$.thisDep,M&&M.contextDep||$&&$.contextDep,M&&M.propDep||$&&$.propDep,function(A,H){var G=A.shared.shader,re;M?re=M.append(A,H):re=H.def(G,".",Iu);var le;$?le=$.append(A,H):le=H.def(G,".",Mu);var Ce=G+".program("+le+","+re;return E.optional(function(){Ce+=","+A.command}),H.def(Ce+")")}),{frag:M,vert:$,progVar:R,program:T}}function xn(b,x){var N=b.static,B=b.dynamic,z={},I=!1;function M(){if(Du in N){var Xe=N[Du];return Xe!==null&&Ee.getVAO(Xe)===null&&(Xe=Ee.createVAO(Xe)),I=!0,z.vao=Xe,jn(function(ne){var tt=Ee.getVAO(Xe);return tt?ne.link(tt):"null"})}else if(Du in B){I=!0;var fe=B[Du];return Nr(fe,function(ne,tt){var Ze=ne.invoke(tt,fe);return tt.def(ne.shared.vao+".getVAO("+Ze+")")})}return null}var $=M(),T=!1;function R(){if(Ua in N){var Xe=N[Ua];if(z.elements=Xe,E0(Xe)){var fe=z.elements=Y.create(Xe,!0);Xe=Y.getElements(fe),T=!0}else Xe&&(Xe=Y.getElements(Xe),T=!0,E.command(Xe,"invalid elements",x.commandStr));var ne=jn(function(Ze,mt){if(Xe){var on=Ze.link(Xe);return Ze.ELEMENTS=on,on}return Ze.ELEMENTS=null,null});return ne.value=Xe,ne}else if(Ua in B){T=!0;var tt=B[Ua];return Nr(tt,function(Ze,mt){var on=Ze.shared,fr=on.isBufferArgs,Ya=on.elements,ho=Ze.invoke(mt,tt),Ui=mt.def("null"),Xo=mt.def(fr,"(",ho,")"),qa=Ze.cond(Xo).then(Ui,"=",Ya,".createStream(",ho,");").else(Ui,"=",Ya,".getElements(",ho,");");return E.optional(function(){Ze.assert(qa.else,"!"+ho+"||"+Ui,"invalid elements")}),mt.entry(qa),mt.exit(Ze.cond(Xo).then(Ya,".destroyStream(",Ui,");")),Ze.ELEMENTS=Ui,Ui})}else if(I)return new Kn($.thisDep,$.contextDep,$.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.elements+".getElements("+Ze.shared.vao+".currentVAO.elements):null")});return null}var A=R();function H(){if(Va in N){var Xe=N[Va];return z.primitive=Xe,E.commandParameter(Xe,$i,"invalid primitve",x.commandStr),jn(function(ne,tt){return $i[Xe]})}else if(Va in B){var fe=B[Va];return Nr(fe,function(ne,tt){var Ze=ne.constants.primTypes,mt=ne.invoke(tt,fe);return E.optional(function(){ne.assert(tt,mt+" in "+Ze,"invalid primitive, must be one of "+Object.keys($i))}),tt.def(Ze,"[",mt,"]")})}else{if(T)return Wo(A)?A.value?jn(function(ne,tt){return tt.def(ne.ELEMENTS,".primType")}):jn(function(){return dp}):new Kn(A.thisDep,A.contextDep,A.propDep,function(ne,tt){var Ze=ne.ELEMENTS;return tt.def(Ze,"?",Ze,".primType:",dp)});if(I)return new Kn($.thisDep,$.contextDep,$.propDep,function(ne,tt){return tt.def(ne.shared.vao+".currentVAO?"+ne.shared.vao+".currentVAO.primitive:"+dp)})}return null}function G(Xe,fe){if(Xe in N){var ne=N[Xe]|0;return fe?z.offset=ne:z.instances=ne,E.command(!fe||ne>=0,"invalid "+Xe,x.commandStr),jn(function(Ze,mt){return fe&&(Ze.OFFSET=ne),ne})}else if(Xe in B){var tt=B[Xe];return Nr(tt,function(Ze,mt){var on=Ze.invoke(mt,tt);return fe&&(Ze.OFFSET=on,E.optional(function(){Ze.assert(mt,on+">=0","invalid "+Xe)})),on})}else if(fe){if(T)return jn(function(Ze,mt){return Ze.OFFSET=0,0});if(I)return new Kn($.thisDep,$.contextDep,$.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.vao+".currentVAO.offset:0")})}else if(I)return new Kn($.thisDep,$.contextDep,$.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.vao+".currentVAO.instances:-1")});return null}var re=G(f0,!0);function le(){if(Ha in N){var Xe=N[Ha]|0;return z.count=Xe,E.command(typeof Xe=="number"&&Xe>=0,"invalid vertex count",x.commandStr),jn(function(){return Xe})}else if(Ha in B){var fe=B[Ha];return Nr(fe,function(mt,on){var fr=mt.invoke(on,fe);return E.optional(function(){mt.assert(on,"typeof "+fr+'==="number"&&'+fr+">=0&&"+fr+"===("+fr+"|0)","invalid vertex count")}),fr})}else if(T)if(Wo(A)){if(A)return re?new Kn(re.thisDep,re.contextDep,re.propDep,function(mt,on){var fr=on.def(mt.ELEMENTS,".vertCount-",mt.OFFSET);return E.optional(function(){mt.assert(on,fr+">=0","invalid vertex offset/element buffer too small")}),fr}):jn(function(mt,on){return on.def(mt.ELEMENTS,".vertCount")});var ne=jn(function(){return-1});return E.optional(function(){ne.MISSING=!0}),ne}else{var tt=new Kn(A.thisDep||re.thisDep,A.contextDep||re.contextDep,A.propDep||re.propDep,function(mt,on){var fr=mt.ELEMENTS;return mt.OFFSET?on.def(fr,"?",fr,".vertCount-",mt.OFFSET,":-1"):on.def(fr,"?",fr,".vertCount:-1")});return E.optional(function(){tt.DYNAMIC=!0}),tt}else if(I){var Ze=new Kn($.thisDep,$.contextDep,$.propDep,function(mt,on){return on.def(mt.shared.vao,".currentVAO?",mt.shared.vao,".currentVAO.count:-1")});return Ze}return null}var Ce=H(),vt=le(),ut=G(d0,!1);return{elements:A,primitive:Ce,count:vt,instances:ut,offset:re,vao:$,vaoActive:I,elementsActive:T,static:z}}function En(b,x){var N=b.static,B=b.dynamic,z={};return ct.forEach(function(I){var M=Qe(I);function $(T,R){if(I in N){var A=T(N[I]);z[M]=jn(function(){return A})}else if(I in B){var H=B[I];z[M]=Nr(H,function(G,re){return R(G,re,G.invoke(re,H))})}}switch(I){case _g:case pg:case hg:case Tg:case vg:case Cg:case Eg:case Sg:case bg:case xg:return $(function(T){return E.commandType(T,"boolean",I,x.commandStr),T},function(T,R,A){return E.optional(function(){T.assert(R,"typeof "+A+'==="boolean"',"invalid flag "+I,T.commandStr)}),A});case gg:return $(function(T){return E.commandParameter(T,rs,"invalid "+I,x.commandStr),rs[T]},function(T,R,A){var H=T.constants.compareFuncs;return E.optional(function(){T.assert(R,A+" in "+H,"invalid "+I+", must be one of "+Object.keys(rs))}),R.def(H,"[",A,"]")});case yg:return $(function(T){return E.command(vn(T)&&T.length===2&&typeof T[0]=="number"&&typeof T[1]=="number"&&T[0]<=T[1],"depth range is 2d array",x.commandStr),T},function(T,R,A){E.optional(function(){T.assert(R,T.shared.isArrayLike+"("+A+")&&"+A+".length===2&&typeof "+A+'[0]==="number"&&typeof '+A+'[1]==="number"&&'+A+"[0]<="+A+"[1]","depth range must be a 2d array")});var H=R.def("+",A,"[0]"),G=R.def("+",A,"[1]");return[H,G]});case Z1:return $(function(T){E.commandType(T,"object","blend.func",x.commandStr);var R="srcRGB"in T?T.srcRGB:T.src,A="srcAlpha"in T?T.srcAlpha:T.src,H="dstRGB"in T?T.dstRGB:T.dst,G="dstAlpha"in T?T.dstAlpha:T.dst;return E.commandParameter(R,zi,M+".srcRGB",x.commandStr),E.commandParameter(A,zi,M+".srcAlpha",x.commandStr),E.commandParameter(H,zi,M+".dstRGB",x.commandStr),E.commandParameter(G,zi,M+".dstAlpha",x.commandStr),E.command(Fg.indexOf(R+", "+H)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+R+", "+H+")",x.commandStr),[zi[R],zi[H],zi[A],zi[G]]},function(T,R,A){var H=T.constants.blendFuncs;E.optional(function(){T.assert(R,A+"&&typeof "+A+'==="object"',"invalid blend func, must be an object")});function G(fe,ne){var tt=R.def('"',fe,ne,'" in ',A,"?",A,".",fe,ne,":",A,".",fe);return E.optional(function(){T.assert(R,tt+" in "+H,"invalid "+I+"."+fe+ne+", must be one of "+Object.keys(zi))}),tt}var re=G("src","RGB"),le=G("dst","RGB");E.optional(function(){var fe=T.constants.invalidBlendCombinations;T.assert(R,fe+".indexOf("+re+'+", "+'+le+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ce=R.def(H,"[",re,"]"),vt=R.def(H,"[",G("src","Alpha"),"]"),ut=R.def(H,"[",le,"]"),Xe=R.def(H,"[",G("dst","Alpha"),"]");return[Ce,ut,vt,Xe]});case K1:return $(function(T){if(typeof T=="string")return E.commandParameter(T,Z,"invalid "+I,x.commandStr),[Z[T],Z[T]];if(typeof T=="object")return E.commandParameter(T.rgb,Z,I+".rgb",x.commandStr),E.commandParameter(T.alpha,Z,I+".alpha",x.commandStr),[Z[T.rgb],Z[T.alpha]];E.commandRaise("invalid blend.equation",x.commandStr)},function(T,R,A){var H=T.constants.blendEquations,G=R.def(),re=R.def(),le=T.cond("typeof ",A,'==="string"');return E.optional(function(){function Ce(vt,ut,Xe){T.assert(vt,Xe+" in "+H,"invalid "+ut+", must be one of "+Object.keys(Z))}Ce(le.then,I,A),T.assert(le.else,A+"&&typeof "+A+'==="object"',"invalid "+I),Ce(le.else,I+".rgb",A+".rgb"),Ce(le.else,I+".alpha",A+".alpha")}),le.then(G,"=",re,"=",H,"[",A,"];"),le.else(G,"=",H,"[",A,".rgb];",re,"=",H,"[",A,".alpha];"),R(le),[G,re]});case mg:return $(function(T){return E.command(vn(T)&&T.length===4,"blend.color must be a 4d array",x.commandStr),Ut(4,function(R){return+T[R]})},function(T,R,A){return E.optional(function(){T.assert(R,T.shared.isArrayLike+"("+A+")&&"+A+".length===4","blend.color must be a 4d array")}),Ut(4,function(H){return R.def("+",A,"[",H,"]")})});case Ag:return $(function(T){return E.commandType(T,"number",M,x.commandStr),T|0},function(T,R,A){return E.optional(function(){T.assert(R,"typeof "+A+'==="number"',"invalid stencil.mask")}),R.def(A,"|0")});case ip:return $(function(T){E.commandType(T,"object",M,x.commandStr);var R=T.cmp||"keep",A=T.ref||0,H="mask"in T?T.mask:-1;return E.commandParameter(R,rs,I+".cmp",x.commandStr),E.commandType(A,"number",I+".ref",x.commandStr),E.commandType(H,"number",I+".mask",x.commandStr),[rs[R],A,H]},function(T,R,A){var H=T.constants.compareFuncs;E.optional(function(){function Ce(){T.assert(R,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ce(A+"&&typeof ",A,'==="object"'),Ce('!("cmp" in ',A,")||(",A,".cmp in ",H,")")});var G=R.def('"cmp" in ',A,"?",H,"[",A,".cmp]",":",Vo),re=R.def(A,".ref|0"),le=R.def('"mask" in ',A,"?",A,".mask|0:-1");return[G,re,le]});case op:case Pu:return $(function(T){E.commandType(T,"object",M,x.commandStr);var R=T.fail||"keep",A=T.zfail||"keep",H=T.zpass||"keep";return E.commandParameter(R,Ho,I+".fail",x.commandStr),E.commandParameter(A,Ho,I+".zfail",x.commandStr),E.commandParameter(H,Ho,I+".zpass",x.commandStr),[I===Pu?Wa:Gu,Ho[R],Ho[A],Ho[H]]},function(T,R,A){var H=T.constants.stencilOps;E.optional(function(){T.assert(R,A+"&&typeof "+A+'==="object"',"invalid "+I)});function G(re){return E.optional(function(){T.assert(R,'!("'+re+'" in '+A+")||("+A+"."+re+" in "+H+")","invalid "+I+"."+re+", must be one of "+Object.keys(Ho))}),R.def('"',re,'" in ',A,"?",H,"[",A,".",re,"]:",Vo)}return[I===Pu?Wa:Gu,G("fail"),G("zfail"),G("zpass")]});case np:return $(function(T){E.commandType(T,"object",M,x.commandStr);var R=T.factor|0,A=T.units|0;return E.commandType(R,"number",M+".factor",x.commandStr),E.commandType(A,"number",M+".units",x.commandStr),[R,A]},function(T,R,A){E.optional(function(){T.assert(R,A+"&&typeof "+A+'==="object"',"invalid "+I)});var H=R.def(A,".factor|0"),G=R.def(A,".units|0");return[H,G]});case wg:return $(function(T){var R=0;return T==="front"?R=Gu:T==="back"&&(R=Wa),E.command(!!R,M,x.commandStr),R},function(T,R,A){return E.optional(function(){T.assert(R,A+'==="front"||'+A+'==="back"',"invalid cull.face")}),R.def(A,'==="front"?',Gu,":",Wa)});case tp:return $(function(T){return E.command(typeof T=="number"&&T>=q.lineWidthDims[0]&&T<=q.lineWidthDims[1],"invalid line width, must be a positive number between "+q.lineWidthDims[0]+" and "+q.lineWidthDims[1],x.commandStr),T},function(T,R,A){return E.optional(function(){T.assert(R,"typeof "+A+'==="number"&&'+A+">="+q.lineWidthDims[0]+"&&"+A+"<="+q.lineWidthDims[1],"invalid line width")}),A});case ep:return $(function(T){return E.commandParameter(T,pp,M,x.commandStr),pp[T]},function(T,R,A){return E.optional(function(){T.assert(R,A+'==="cw"||'+A+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),R.def(A+'==="cw"?'+Pg+":"+hp)});case J1:return $(function(T){return E.command(vn(T)&&T.length===4,"color.mask must be length 4 array",x.commandStr),T.map(function(R){return!!R})},function(T,R,A){return E.optional(function(){T.assert(R,T.shared.isArrayLike+"("+A+")&&"+A+".length===4","invalid color.mask")}),Ut(4,function(H){return"!!"+A+"["+H+"]"})});case rp:return $(function(T){E.command(typeof T=="object"&&T,M,x.commandStr);var R="value"in T?T.value:1,A=!!T.invert;return E.command(typeof R=="number"&&R>=0&&R<=1,"sample.coverage.value must be a number between 0 and 1",x.commandStr),[R,A]},function(T,R,A){E.optional(function(){T.assert(R,A+"&&typeof "+A+'==="object"',"invalid sample.coverage")});var H=R.def('"value" in ',A,"?+",A,".value:1"),G=R.def("!!",A,".invert");return[H,G]})}}),z}function Xt(b,x){var N=b.static,B=b.dynamic,z={};return Object.keys(N).forEach(function(I){var M=N[I],$;if(typeof M=="number"||typeof M=="boolean")$=jn(function(){return M});else if(typeof M=="function"){var T=M._reglType;T==="texture2d"||T==="textureCube"?$=jn(function(R){return R.link(M)}):T==="framebuffer"||T==="framebufferCube"?(E.command(M.color.length>0,'missing color attachment for framebuffer sent to uniform "'+I+'"',x.commandStr),$=jn(function(R){return R.link(M.color[0])})):E.commandRaise('invalid data for uniform "'+I+'"',x.commandStr)}else vn(M)?$=jn(function(R){var A=R.global.def("[",Ut(M.length,function(H){return E.command(typeof M[H]=="number"||typeof M[H]=="boolean","invalid uniform "+I,R.commandStr),M[H]}),"]");return A}):E.commandRaise('invalid or missing data for uniform "'+I+'"',x.commandStr);$.value=M,z[I]=$}),Object.keys(B).forEach(function(I){var M=B[I];z[I]=Nr(M,function($,T){return $.invoke(T,M)})}),z}function Hn(b,x){var N=b.static,B=b.dynamic,z={};return Object.keys(N).forEach(function(I){var M=N[I],$=w.id(I),T=new j;if(E0(M))T.state=Jl,T.buffer=oe.getBuffer(oe.create(M,ns,!1,!0)),T.type=0;else{var R=oe.getBuffer(M);if(R)T.state=Jl,T.buffer=R,T.type=0;else if(E.command(typeof M=="object"&&M,"invalid data for attribute "+I,x.commandStr),"constant"in M){var A=M.constant;T.buffer="null",T.state=W1,typeof A=="number"?T.x=A:(E.command(vn(A)&&A.length>0&&A.length<=4,"invalid constant for attribute "+I,x.commandStr),Zl.forEach(function(ut,Xe){Xe<A.length&&(T[ut]=A[Xe])}))}else{E0(M.buffer)?R=oe.getBuffer(oe.create(M.buffer,ns,!1,!0)):R=oe.getBuffer(M.buffer),E.command(!!R,'missing buffer for attribute "'+I+'"',x.commandStr);var H=M.offset|0;E.command(H>=0,'invalid offset for attribute "'+I+'"',x.commandStr);var G=M.stride|0;E.command(G>=0&&G<256,'invalid stride for attribute "'+I+'", must be integer betweeen [0, 255]',x.commandStr);var re=M.size|0;E.command(!("size"in M)||re>0&&re<=4,'invalid size for attribute "'+I+'", must be 1,2,3,4',x.commandStr);var le=!!M.normalized,Ce=0;"type"in M&&(E.commandParameter(M.type,Do,"invalid type for attribute "+I,x.commandStr),Ce=Do[M.type]);var vt=M.divisor|0;E.optional(function(){"divisor"in M&&(E.command(vt===0||_e,'cannot specify divisor for attribute "'+I+'", instancing not supported',x.commandStr),E.command(vt>=0,'invalid divisor for attribute "'+I+'"',x.commandStr));var ut=x.commandStr,Xe=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(M).forEach(function(fe){E.command(Xe.indexOf(fe)>=0,'unknown parameter "'+fe+'" for attribute pointer "'+I+'" (valid parameters are '+Xe+")",ut)})}),T.buffer=R,T.state=Jl,T.size=re,T.normalized=le,T.type=Ce||R.dtype,T.offset=H,T.stride=G,T.divisor=vt}}z[I]=jn(function(ut,Xe){var fe=ut.attribCache;if($ in fe)return fe[$];var ne={isStream:!1};return Object.keys(T).forEach(function(tt){ne[tt]=T[tt]}),T.buffer&&(ne.buffer=ut.link(T.buffer),ne.type=ne.type||ne.buffer+".dtype"),fe[$]=ne,ne})}),Object.keys(B).forEach(function(I){var M=B[I];function $(T,R){var A=T.invoke(R,M),H=T.shared,G=T.constants,re=H.isBufferArgs,le=H.buffer;E.optional(function(){T.assert(R,A+"&&(typeof "+A+'==="object"||typeof '+A+'==="function")&&('+re+"("+A+")||"+le+".getBuffer("+A+")||"+le+".getBuffer("+A+".buffer)||"+re+"("+A+'.buffer)||("constant" in '+A+"&&(typeof "+A+'.constant==="number"||'+H.isArrayLike+"("+A+".constant))))",'invalid dynamic attribute "'+I+'"')});var Ce={isStream:R.def(!1)},vt=new j;vt.state=Jl,Object.keys(vt).forEach(function(ne){Ce[ne]=R.def(""+vt[ne])});var ut=Ce.buffer,Xe=Ce.type;R("if(",re,"(",A,")){",Ce.isStream,"=true;",ut,"=",le,".createStream(",ns,",",A,");",Xe,"=",ut,".dtype;","}else{",ut,"=",le,".getBuffer(",A,");","if(",ut,"){",Xe,"=",ut,".dtype;",'}else if("constant" in ',A,"){",Ce.state,"=",W1,";","if(typeof "+A+'.constant === "number"){',Ce[Zl[0]],"=",A,".constant;",Zl.slice(1).map(function(ne){return Ce[ne]}).join("="),"=0;","}else{",Zl.map(function(ne,tt){return Ce[ne]+"="+A+".constant.length>"+tt+"?"+A+".constant["+tt+"]:0;"}).join(""),"}}else{","if(",re,"(",A,".buffer)){",ut,"=",le,".createStream(",ns,",",A,".buffer);","}else{",ut,"=",le,".getBuffer(",A,".buffer);","}",Xe,'="type" in ',A,"?",G.glTypes,"[",A,".type]:",ut,".dtype;",Ce.normalized,"=!!",A,".normalized;");function fe(ne){R(Ce[ne],"=",A,".",ne,"|0;")}return fe("size"),fe("offset"),fe("stride"),fe("divisor"),R("}}"),R.exit("if(",Ce.isStream,"){",le,".destroyStream(",ut,");","}"),Ce}z[I]=Nr(M,$)}),z}function gn(b){var x=b.static,N=b.dynamic,B={};return Object.keys(x).forEach(function(z){var I=x[z];B[z]=jn(function(M,$){return typeof I=="number"||typeof I=="boolean"?""+I:M.link(I)})}),Object.keys(N).forEach(function(z){var I=N[z];B[z]=Nr(I,function(M,$){return M.invoke($,I)})}),B}function zn(b,x,N,B,z){var I=b.static,M=b.dynamic;E.optional(function(){var fe=[Ga,Mu,Iu,Ua,Va,f0,Ha,d0,Nu,Du].concat(ct);function ne(tt){Object.keys(tt).forEach(function(Ze){E.command(fe.indexOf(Ze)>=0,'unknown parameter "'+Ze+'"',z.commandStr)})}ne(I),ne(M)});var $=bt(b,x),T=Ue(b),R=pt(b,T,z),A=xn(b,z),H=En(b,z),G=Vt(b,z,$);function re(fe){var ne=R[fe];ne&&(H[fe]=ne)}re(fo),re(Qe(c0));var le=Object.keys(H).length>0,Ce={framebuffer:T,draw:A,shader:G,state:H,dirty:le,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ce.profile=je(b),Ce.uniforms=Xt(N,z),Ce.drawVAO=Ce.scopeVAO=A.vao,!Ce.drawVAO&&G.program&&!$&&k.angle_instanced_arrays&&A.static.elements){var vt=!0,ut=G.program.attributes.map(function(fe){var ne=x.static[fe];return vt=vt&&!!ne,ne});if(vt&&ut.length>0){var Xe=Ee.getVAO(Ee.createVAO({attributes:ut,elements:A.static.elements}));Ce.drawVAO=new Kn(null,null,null,function(fe,ne){return fe.link(Xe)}),Ce.useVAO=!0}}return $?Ce.useVAO=!0:Ce.attributes=Hn(x,z),Ce.context=gn(B),Ce}function Wn(b,x,N){var B=b.shared,z=B.context,I=b.scope();Object.keys(N).forEach(function(M){x.save(z,"."+M);var $=N[M],T=$.append(b,x);Array.isArray(T)?I(z,".",M,"=[",T.join(),"];"):I(z,".",M,"=",T,";")}),x(I)}function Xn(b,x,N,B){var z=b.shared,I=z.gl,M=z.framebuffer,$;Ve&&($=x.def(z.extensions,".webgl_draw_buffers"));var T=b.constants,R=T.drawBuffer,A=T.backBuffer,H;N?H=N.append(b,x):H=x.def(M,".next"),B||x("if(",H,"!==",M,".cur){"),x("if(",H,"){",I,".bindFramebuffer(",Dg,",",H,".framebuffer);"),Ve&&x($,".drawBuffersWEBGL(",R,"[",H,".colorAttachments.length]);"),x("}else{",I,".bindFramebuffer(",Dg,",null);"),Ve&&x($,".drawBuffersWEBGL(",A,");"),x("}",M,".cur=",H,";"),B||x("}")}function rr(b,x,N){var B=b.shared,z=B.gl,I=b.current,M=b.next,$=B.current,T=B.next,R=b.cond($,".dirty");ct.forEach(function(A){var H=Qe(A);if(!(H in N.state)){var G,re;if(H in M){G=M[H],re=I[H];var le=Ut(Ge[H].length,function(vt){return R.def(G,"[",vt,"]")});R(b.cond(le.map(function(vt,ut){return vt+"!=="+re+"["+ut+"]"}).join("||")).then(z,".",ie[H],"(",le,");",le.map(function(vt,ut){return re+"["+ut+"]="+vt}).join(";"),";"))}else{G=R.def(T,".",H);var Ce=b.cond(G,"!==",$,".",H);R(Ce),H in ae?Ce(b.cond(G).then(z,".enable(",ae[H],");").else(z,".disable(",ae[H],");"),$,".",H,"=",G,";"):Ce(z,".",ie[H],"(",G,");",$,".",H,"=",G,";")}}}),Object.keys(N.state).length===0&&R($,".dirty=false;"),x(R)}function ur(b,x,N,B){var z=b.shared,I=b.current,M=z.current,$=z.gl;Bg(Object.keys(N)).forEach(function(T){var R=N[T];if(!(B&&!B(R))){var A=R.append(b,x);if(ae[T]){var H=ae[T];Wo(R)?A?x($,".enable(",H,");"):x($,".disable(",H,");"):x(b.cond(A).then($,".enable(",H,");").else($,".disable(",H,");")),x(M,".",T,"=",A,";")}else if(vn(A)){var G=I[T];x($,".",ie[T],"(",A,");",A.map(function(re,le){return G+"["+le+"]="+re}).join(";"),";")}else x($,".",ie[T],"(",A,");",M,".",T,"=",A,";")}})}function kn(b,x){_e&&(b.instancing=x.def(b.shared.extensions,".angle_instanced_arrays"))}function Mt(b,x,N,B,z){var I=b.shared,M=b.stats,$=I.current,T=I.timer,R=N.profile;function A(){return typeof performance>"u"?"Date.now()":"performance.now()"}var H,G;function re(fe){H=x.def(),fe(H,"=",A(),";"),typeof z=="string"?fe(M,".count+=",z,";"):fe(M,".count++;"),ge&&(B?(G=x.def(),fe(G,"=",T,".getNumPendingQueries();")):fe(T,".beginQuery(",M,");"))}function le(fe){fe(M,".cpuTime+=",A(),"-",H,";"),ge&&(B?fe(T,".pushScopeStats(",G,",",T,".getNumPendingQueries(),",M,");"):fe(T,".endQuery();"))}function Ce(fe){var ne=x.def($,".profile");x($,".profile=",fe,";"),x.exit($,".profile=",ne,";")}var vt;if(R){if(Wo(R)){R.enable?(re(x),le(x.exit),Ce("true")):Ce("false");return}vt=R.append(b,x),Ce(vt)}else vt=x.def($,".profile");var ut=b.block();re(ut),x("if(",vt,"){",ut,"}");var Xe=b.block();le(Xe),x.exit("if(",vt,"){",Xe,"}")}function cr(b,x,N,B,z){var I=b.shared;function M(T){switch(T){case h0:case v0:case x0:return 2;case p0:case g0:case _0:return 3;case m0:case y0:case w0:return 4;default:return 1}}function $(T,R,A){var H=I.gl,G=x.def(T,".location"),re=x.def(I.attributes,"[",G,"]"),le=A.state,Ce=A.buffer,vt=[A.x,A.y,A.z,A.w],ut=["buffer","normalized","offset","stride"];function Xe(){x("if(!",re,".buffer){",H,".enableVertexAttribArray(",G,");}");var ne=A.type,tt;if(A.size?tt=x.def(A.size,"||",R):tt=R,x("if(",re,".type!==",ne,"||",re,".size!==",tt,"||",ut.map(function(mt){return re+"."+mt+"!=="+A[mt]}).join("||"),"){",H,".bindBuffer(",ns,",",Ce,".buffer);",H,".vertexAttribPointer(",[G,tt,ne,A.normalized,A.stride,A.offset],");",re,".type=",ne,";",re,".size=",tt,";",ut.map(function(mt){return re+"."+mt+"="+A[mt]+";"}).join(""),"}"),_e){var Ze=A.divisor;x("if(",re,".divisor!==",Ze,"){",b.instancing,".vertexAttribDivisorANGLE(",[G,Ze],");",re,".divisor=",Ze,";}")}}function fe(){x("if(",re,".buffer){",H,".disableVertexAttribArray(",G,");",re,".buffer=null;","}if(",Zl.map(function(ne,tt){return re+"."+ne+"!=="+vt[tt]}).join("||"),"){",H,".vertexAttrib4f(",G,",",vt,");",Zl.map(function(ne,tt){return re+"."+ne+"="+vt[tt]+";"}).join(""),"}")}le===Jl?Xe():le===W1?fe():(x("if(",le,"===",Jl,"){"),Xe(),x("}else{"),fe(),x("}"))}B.forEach(function(T){var R=T.name,A=N.attributes[R],H;if(A){if(!z(A))return;H=A.append(b,x)}else{if(!z(jg))return;var G=b.scopeAttrib(R);E.optional(function(){b.assert(x,G+".state","missing attribute "+R)}),H={},Object.keys(new j).forEach(function(re){H[re]=x.def(G,".",re)})}$(b.link(T),M(T.info.type),H)})}function nn(b,x,N,B,z,I){for(var M=b.shared,$=M.gl,T={},R,A=0;A<B.length;++A){var H=B[A],G=H.name,re=H.info.type,le=H.info.size,Ce=N.uniforms[G];if(le>1){if(!Ce)continue;var vt=G.replace("[0]","");if(T[vt])continue;T[vt]=1}var ut=b.link(H),Xe=ut+".location",fe;if(Ce){if(!z(Ce))continue;if(Wo(Ce)){var ne=Ce.value;if(E.command(ne!==null&&typeof ne<"u",'missing uniform "'+G+'"',b.commandStr),re===ju||re===zu){E.command(typeof ne=="function"&&(re===ju&&(ne._reglType==="texture2d"||ne._reglType==="framebuffer")||re===zu&&(ne._reglType==="textureCube"||ne._reglType==="framebufferCube")),"invalid texture for uniform "+G,b.commandStr);var tt=b.link(ne._texture||ne.color[0]._texture);x($,".uniform1i(",Xe,",",tt+".bind());"),x.exit(tt,".unbind();")}else if(re===Fu||re===$u||re===Bu){E.optional(function(){E.command(vn(ne),"invalid matrix for uniform "+G,b.commandStr),E.command(re===Fu&&ne.length===4||re===$u&&ne.length===9||re===Bu&&ne.length===16,"invalid length for matrix uniform "+G,b.commandStr)});var Ze=b.global.def("new Float32Array(["+Array.prototype.slice.call(ne)+"])"),mt=2;re===$u?mt=3:re===Bu&&(mt=4),x($,".uniformMatrix",mt,"fv(",Xe,",false,",Ze,");")}else{switch(re){case up:le===1?E.commandType(ne,"number","uniform "+G,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+G,b.commandStr),R="1f";break;case h0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+G,b.commandStr),R="2f";break;case p0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+G,b.commandStr),R="3f";break;case m0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+G,b.commandStr),R="4f";break;case fp:le===1?E.commandType(ne,"boolean","uniform "+G,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+G,b.commandStr),R="1i";break;case cp:le===1?E.commandType(ne,"number","uniform "+G,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+G,b.commandStr),R="1i";break;case x0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+G,b.commandStr),R="2i";break;case v0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+G,b.commandStr),R="2i";break;case _0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+G,b.commandStr),R="3i";break;case g0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+G,b.commandStr),R="3i";break;case w0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+G,b.commandStr),R="4i";break;case y0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+G,b.commandStr),R="4i";break}le>1?(R+="v",ne=b.global.def("["+Array.prototype.slice.call(ne)+"]")):ne=vn(ne)?Array.prototype.slice.call(ne):ne,x($,".uniform",R,"(",Xe,",",ne,");")}continue}else fe=Ce.append(b,x)}else{if(!z(jg))continue;fe=x.def(M.uniforms,"[",w.id(G),"]")}re===ju?(E(!Array.isArray(fe),"must specify a scalar prop for textures"),x("if(",fe,"&&",fe,'._reglType==="framebuffer"){',fe,"=",fe,".color[0];","}")):re===zu&&(E(!Array.isArray(fe),"must specify a scalar prop for cube maps"),x("if(",fe,"&&",fe,'._reglType==="framebufferCube"){',fe,"=",fe,".color[0];","}")),E.optional(function(){function qr(Mr,S0){b.assert(x,Mr,'bad data or missing for uniform "'+G+'".  '+S0)}function Qa(Mr,S0){S0===1&&E(!Array.isArray(fe),"must not specify an array type for uniform"),qr("Array.isArray("+fe+") && typeof "+fe+'[0]===" '+Mr+'" || typeof '+fe+'==="'+Mr+'"',"invalid type, expected "+Mr)}function si(Mr,S0,b0){Array.isArray(fe)?E(fe.length&&fe.length%Mr===0&&fe.length<=Mr*b0,"must have length of "+(b0===1?"":"n * ")+Mr):qr(M.isArrayLike+"("+fe+")&&"+fe+".length && "+fe+".length % "+Mr+" === 0 && "+fe+".length<="+Mr*b0,"invalid vector, should have length of "+(b0===1?"":"n * ")+Mr,b.commandStr)}function Xg(Mr){E(!Array.isArray(fe),"must not specify a value type"),qr("typeof "+fe+'==="function"&&'+fe+'._reglType==="texture'+(Mr===kg?"2d":"Cube")+'"',"invalid texture type",b.commandStr)}switch(re){case cp:Qa("number",le);break;case v0:si(2,"number",le);break;case g0:si(3,"number",le);break;case y0:si(4,"number",le);break;case up:Qa("number",le);break;case h0:si(2,"number",le);break;case p0:si(3,"number",le);break;case m0:si(4,"number",le);break;case fp:Qa("boolean",le);break;case x0:si(2,"boolean",le);break;case _0:si(3,"boolean",le);break;case w0:si(4,"boolean",le);break;case Fu:si(4,"number",le);break;case $u:si(9,"number",le);break;case Bu:si(16,"number",le);break;case ju:Xg(kg);break;case zu:Xg(B9);break}});var on=1;switch(re){case ju:case zu:var fr=x.def(fe,"._texture");x($,".uniform1i(",Xe,",",fr,".bind());"),x.exit(fr,".unbind();");continue;case cp:case fp:R="1i";break;case v0:case x0:R="2i",on=2;break;case g0:case _0:R="3i",on=3;break;case y0:case w0:R="4i",on=4;break;case up:R="1f";break;case h0:R="2f",on=2;break;case p0:R="3f",on=3;break;case m0:R="4f",on=4;break;case Fu:R="Matrix2fv";break;case $u:R="Matrix3fv";break;case Bu:R="Matrix4fv";break}if(R.indexOf("Matrix")===-1&&le>1&&(R+="v",on=1),R.charAt(0)==="M"){x($,".uniform",R,"(",Xe,",");var Ya=Math.pow(re-Fu+2,2),ho=b.global.def("new Float32Array(",Ya,")");Array.isArray(fe)?x("false,(",Ut(Ya,function(qr){return ho+"["+qr+"]="+fe[qr]}),",",ho,")"):x("false,(Array.isArray(",fe,")||",fe," instanceof Float32Array)?",fe,":(",Ut(Ya,function(qr){return ho+"["+qr+"]="+fe+"["+qr+"]"}),",",ho,")"),x(");")}else if(on>1){for(var Ui=[],Xo=[],qa=0;qa<on;++qa)Array.isArray(fe)?Xo.push(fe[qa]):Xo.push(x.def(fe+"["+qa+"]")),I&&Ui.push(x.def());I&&x("if(!",b.batchId,"||",Ui.map(function(qr,Qa){return qr+"!=="+Xo[Qa]}).join("||"),"){",Ui.map(function(qr,Qa){return qr+"="+Xo[Qa]+";"}).join("")),x($,".uniform",R,"(",Xe,",",Xo.join(","),");"),I&&x("}")}else{if(E(!Array.isArray(fe),"uniform value must not be an array"),I){var Wg=x.def();x("if(!",b.batchId,"||",Wg,"!==",fe,"){",Wg,"=",fe,";")}x($,".uniform",R,"(",Xe,",",fe,");"),I&&x("}")}}}function ht(b,x,N,B){var z=b.shared,I=z.gl,M=z.draw,$=B.draw;function T(){var tt=$.elements,Ze,mt=x;return tt?((tt.contextDep&&B.contextDynamic||tt.propDep)&&(mt=N),Ze=tt.append(b,mt),$.elementsActive&&mt("if("+Ze+")"+I+".bindBuffer("+sp+","+Ze+".buffer.buffer);")):(Ze=mt.def(),mt(Ze,"=",M,".",Ua,";","if(",Ze,"){",I,".bindBuffer(",sp,",",Ze,".buffer.buffer);}","else if(",z.vao,".currentVAO){",Ze,"=",b.shared.elements+".getElements("+z.vao,".currentVAO.elements);",de?"":"if("+Ze+")"+I+".bindBuffer("+sp+","+Ze+".buffer.buffer);","}")),Ze}function R(){var tt=$.count,Ze,mt=x;return tt?((tt.contextDep&&B.contextDynamic||tt.propDep)&&(mt=N),Ze=tt.append(b,mt),E.optional(function(){tt.MISSING&&b.assert(x,"false","missing vertex count"),tt.DYNAMIC&&b.assert(mt,Ze+">=0","missing vertex count")})):(Ze=mt.def(M,".",Ha),E.optional(function(){b.assert(mt,Ze+">=0","missing vertex count")})),Ze}var A=T();function H(tt){var Ze=$[tt];return Ze?Ze.contextDep&&B.contextDynamic||Ze.propDep?Ze.append(b,N):Ze.append(b,x):x.def(M,".",tt)}var G=H(Va),re=H(f0),le=R();if(typeof le=="number"){if(le===0)return}else N("if(",le,"){"),N.exit("}");var Ce,vt;_e&&(Ce=H(d0),vt=b.instancing);var ut=A+".type",Xe=$.elements&&Wo($.elements)&&!$.vaoActive;function fe(){function tt(){N(vt,".drawElementsInstancedANGLE(",[G,le,ut,re+"<<(("+ut+"-"+cg+")>>1)",Ce],");")}function Ze(){N(vt,".drawArraysInstancedANGLE(",[G,re,le,Ce],");")}A&&A!=="null"?Xe?tt():(N("if(",A,"){"),tt(),N("}else{"),Ze(),N("}")):Ze()}function ne(){function tt(){N(I+".drawElements("+[G,le,ut,re+"<<(("+ut+"-"+cg+")>>1)"]+");")}function Ze(){N(I+".drawArrays("+[G,re,le]+");")}A&&A!=="null"?Xe?tt():(N("if(",A,"){"),tt(),N("}else{"),Ze(),N("}")):Ze()}_e&&(typeof Ce!="number"||Ce>=0)?typeof Ce=="string"?(N("if(",Ce,">0){"),fe(),N("}else if(",Ce,"<0){"),ne(),N("}")):fe():ne()}function Ht(b,x,N,B,z){var I=_t(),M=I.proc("body",z);return E.optional(function(){I.commandStr=x.commandStr,I.command=I.link(x.commandStr)}),_e&&(I.instancing=M.def(I.shared.extensions,".angle_instanced_arrays")),b(I,M,N,B),I.compile().body}function qt(b,x,N,B){kn(b,x),N.useVAO?N.drawVAO?x(b.shared.vao,".setVAO(",N.drawVAO.append(b,x),");"):x(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(x(b.shared.vao,".setVAO(null);"),cr(b,x,N,B.attributes,function(){return!0})),nn(b,x,N,B.uniforms,function(){return!0},!1),ht(b,x,x,N)}function Pn(b,x){var N=b.proc("draw",1);kn(b,N),Wn(b,N,x.context),Xn(b,N,x.framebuffer),rr(b,N,x),ur(b,N,x.state),Mt(b,N,x,!1,!0);var B=x.shader.progVar.append(b,N);if(N(b.shared.gl,".useProgram(",B,".program);"),x.shader.program)qt(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var z=b.global.def("{}"),I=N.def(B,".id"),M=N.def(z,"[",I,"]");N(b.cond(M).then(M,".call(this,a0);").else(M,"=",z,"[",I,"]=",b.link(function($){return Ht(qt,b,x,$,1)}),"(",B,");",M,".call(this,a0);"))}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Gi(b,x,N,B){b.batchId="a1",kn(b,x);function z(){return!0}cr(b,x,N,B.attributes,z),nn(b,x,N,B.uniforms,z,!1),ht(b,x,x,N)}function Xa(b,x,N,B){kn(b,x);var z=N.contextDep,I=x.def(),M="a0",$="a1",T=x.def();b.shared.props=T,b.batchId=I;var R=b.scope(),A=b.scope();x(R.entry,"for(",I,"=0;",I,"<",$,";++",I,"){",T,"=",M,"[",I,"];",A,"}",R.exit);function H(ut){return ut.contextDep&&z||ut.propDep}function G(ut){return!H(ut)}if(N.needsContext&&Wn(b,A,N.context),N.needsFramebuffer&&Xn(b,A,N.framebuffer),ur(b,A,N.state,H),N.profile&&H(N.profile)&&Mt(b,A,N,!1,!0),B)N.useVAO?N.drawVAO?H(N.drawVAO)?A(b.shared.vao,".setVAO(",N.drawVAO.append(b,A),");"):R(b.shared.vao,".setVAO(",N.drawVAO.append(b,R),");"):R(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(R(b.shared.vao,".setVAO(null);"),cr(b,R,N,B.attributes,G),cr(b,A,N,B.attributes,H)),nn(b,R,N,B.uniforms,G,!1),nn(b,A,N,B.uniforms,H,!0),ht(b,R,A,N);else{var re=b.global.def("{}"),le=N.shader.progVar.append(b,A),Ce=A.def(le,".id"),vt=A.def(re,"[",Ce,"]");A(b.shared.gl,".useProgram(",le,".program);","if(!",vt,"){",vt,"=",re,"[",Ce,"]=",b.link(function(ut){return Ht(Gi,b,N,ut,2)}),"(",le,");}",vt,".call(this,a0[",I,"],",I,");")}}function C(b,x){var N=b.proc("batch",2);b.batchId="0",kn(b,N);var B=!1,z=!0;Object.keys(x.context).forEach(function(re){B=B||x.context[re].propDep}),B||(Wn(b,N,x.context),z=!1);var I=x.framebuffer,M=!1;I?(I.propDep?B=M=!0:I.contextDep&&B&&(M=!0),M||Xn(b,N,I)):Xn(b,N,null),x.state.viewport&&x.state.viewport.propDep&&(B=!0);function $(re){return re.contextDep&&B||re.propDep}rr(b,N,x),ur(b,N,x.state,function(re){return!$(re)}),(!x.profile||!$(x.profile))&&Mt(b,N,x,!1,"a1"),x.contextDep=B,x.needsContext=z,x.needsFramebuffer=M;var T=x.shader.progVar;if(T.contextDep&&B||T.propDep)Xa(b,N,x,null);else{var R=T.append(b,N);if(N(b.shared.gl,".useProgram(",R,".program);"),x.shader.program)Xa(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var A=b.global.def("{}"),H=N.def(R,".id"),G=N.def(A,"[",H,"]");N(b.cond(G).then(G,".call(this,a0,a1);").else(G,"=",A,"[",H,"]=",b.link(function(re){return Ht(Xa,b,x,re,2)}),"(",R,");",G,".call(this,a0,a1);"))}}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Q(b,x){var N=b.proc("scope",3);b.batchId="a2";var B=b.shared,z=B.current;Wn(b,N,x.context),x.framebuffer&&x.framebuffer.append(b,N),Bg(Object.keys(x.state)).forEach(function(M){var $=x.state[M],T=$.append(b,N);vn(T)?T.forEach(function(R,A){N.set(b.next[M],"["+A+"]",R)}):N.set(B.next,"."+M,T)}),Mt(b,N,x,!0,!0),[Ua,f0,Ha,d0,Va].forEach(function(M){var $=x.draw[M];$&&N.set(B.draw,"."+M,""+$.append(b,N))}),Object.keys(x.uniforms).forEach(function(M){var $=x.uniforms[M].append(b,N);Array.isArray($)&&($="["+$.join()+"]"),N.set(B.uniforms,"["+w.id(M)+"]",$)}),Object.keys(x.attributes).forEach(function(M){var $=x.attributes[M].append(b,N),T=b.scopeAttrib(M);Object.keys(new j).forEach(function(R){N.set(T,"."+R,$[R])})}),x.scopeVAO&&N.set(B.vao,".targetVAO",x.scopeVAO.append(b,N));function I(M){var $=x.shader[M];$&&N.set(B.shader,"."+M,$.append(b,N))}I(Mu),I(Iu),Object.keys(x.state).length>0&&(N(z,".dirty=true;"),N.exit(z,".dirty=true;")),N("a1(",b.shared.context,",a0,",b.batchId,");")}function W(b){if(!(typeof b!="object"||vn(b))){for(var x=Object.keys(b),N=0;N<x.length;++N)if($t.isDynamic(b[x[N]]))return!0;return!1}}function qe(b,x,N){var B=x.static[N];if(!B||!W(B))return;var z=b.global,I=Object.keys(B),M=!1,$=!1,T=!1,R=b.global.def("{}");I.forEach(function(H){var G=B[H];if($t.isDynamic(G)){typeof G=="function"&&(G=B[H]=$t.unbox(G));var re=Nr(G,null);M=M||re.thisDep,T=T||re.propDep,$=$||re.contextDep}else{switch(z(R,".",H,"="),typeof G){case"number":z(G);break;case"string":z('"',G,'"');break;case"object":Array.isArray(G)&&z("[",G.join(),"]");break;default:z(b.link(G));break}z(";")}});function A(H,G){I.forEach(function(re){var le=B[re];if($t.isDynamic(le)){var Ce=H.invoke(G,le);G(R,".",re,"=",Ce,";")}})}x.dynamic[N]=new $t.DynamicVariable(u0,{thisDep:M,contextDep:$,propDep:T,ref:R,append:A}),delete x.static[N]}function jt(b,x,N,B,z){var I=_t();I.stats=I.link(z),Object.keys(x.static).forEach(function($){qe(I,x,$)}),D9.forEach(function($){qe(I,b,$)});var M=zn(b,x,N,B,I);return Pn(I,M),Q(I,M),C(I,M),r(I.compile(),{destroy:function(){M.shader.program.destroy()}})}return{next:Be,current:Ge,procs:function(){var b=_t(),x=b.proc("poll"),N=b.proc("refresh"),B=b.block();x(B),N(B);var z=b.shared,I=z.gl,M=z.next,$=z.current;B($,".dirty=false;"),Xn(b,x),Xn(b,N,null,!0);var T;_e&&(T=b.link(_e)),k.oes_vertex_array_object&&N(b.link(k.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var R=0;R<q.maxAttributes;++R){var A=N.def(z.attributes,"[",R,"]"),H=b.cond(A,".buffer");H.then(I,".enableVertexAttribArray(",R,");",I,".bindBuffer(",ns,",",A,".buffer.buffer);",I,".vertexAttribPointer(",R,",",A,".size,",A,".type,",A,".normalized,",A,".stride,",A,".offset);").else(I,".disableVertexAttribArray(",R,");",I,".vertexAttrib4f(",R,",",A,".x,",A,".y,",A,".z,",A,".w);",A,".buffer=null;"),N(H),_e&&N(T,".vertexAttribDivisorANGLE(",R,",",A,".divisor);")}return N(b.shared.vao,".currentVAO=null;",b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"),Object.keys(ae).forEach(function(G){var re=ae[G],le=B.def(M,".",G),Ce=b.block();Ce("if(",le,"){",I,".enable(",re,")}else{",I,".disable(",re,")}",$,".",G,"=",le,";"),N(Ce),x("if(",le,"!==",$,".",G,"){",Ce,"}")}),Object.keys(ie).forEach(function(G){var re=ie[G],le=Ge[G],Ce,vt,ut=b.block();if(ut(I,".",re,"("),vn(le)){var Xe=le.length;Ce=b.global.def(M,".",G),vt=b.global.def($,".",G),ut(Ut(Xe,function(fe){return Ce+"["+fe+"]"}),");",Ut(Xe,function(fe){return vt+"["+fe+"]="+Ce+"["+fe+"];"}).join("")),x("if(",Ut(Xe,function(fe){return Ce+"["+fe+"]!=="+vt+"["+fe+"]"}).join("||"),"){",ut,"}")}else Ce=B.def(M,".",G),vt=B.def($,".",G),ut(Ce,");",$,".",G,"=",Ce,";"),x("if(",Ce,"!==",vt,"){",ut,"}");N(ut)}),b.compile()}(),compile:jt}}function t7(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var n7=34918,r7=34919,zg=35007,i7=function(p,w){if(!w.ext_disjoint_timer_query)return null;var k=[];function q(){return k.pop()||w.ext_disjoint_timer_query.createQueryEXT()}function oe(_e){k.push(_e)}var Y=[];function J(_e){var Ve=q();w.ext_disjoint_timer_query.beginQueryEXT(zg,Ve),Y.push(Ve),ge(Y.length-1,Y.length,_e)}function me(){w.ext_disjoint_timer_query.endQueryEXT(zg)}function pe(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ee=[];function be(){return Ee.pop()||new pe}function Se(_e){Ee.push(_e)}var ke=[];function ge(_e,Ve,de){var Ge=be();Ge.startQueryIndex=_e,Ge.endQueryIndex=Ve,Ge.sum=0,Ge.stats=de,ke.push(Ge)}var we=[],j=[];function Z(){var _e,Ve,de=Y.length;if(de!==0){j.length=Math.max(j.length,de+1),we.length=Math.max(we.length,de+1),we[0]=0,j[0]=0;var Ge=0;for(_e=0,Ve=0;Ve<Y.length;++Ve){var Be=Y[Ve];w.ext_disjoint_timer_query.getQueryObjectEXT(Be,r7)?(Ge+=w.ext_disjoint_timer_query.getQueryObjectEXT(Be,n7),oe(Be)):Y[_e++]=Be,we[Ve+1]=Ge,j[Ve+1]=_e}for(Y.length=_e,_e=0,Ve=0;Ve<ke.length;++Ve){var ct=ke[Ve],ae=ct.startQueryIndex,ie=ct.endQueryIndex;ct.sum+=we[ie]-we[ae];var Qe=j[ae],Ne=j[ie];Ne===Qe?(ct.stats.gpuTime+=ct.sum/1e6,Se(ct)):(ct.startQueryIndex=Qe,ct.endQueryIndex=Ne,ke[_e++]=ct)}ke.length=_e}}return{beginQuery:J,endQuery:me,pushScopeStats:ge,update:Z,getNumPendingQueries:function(){return Y.length},clear:function(){k.push.apply(k,Y);for(var _e=0;_e<k.length;_e++)w.ext_disjoint_timer_query.deleteQueryEXT(k[_e]);Y.length=0,k.length=0},restore:function(){Y.length=0,k.length=0}}},o7=16384,a7=256,l7=1024,s7=34962,Gg="webglcontextlost",Ug="webglcontextrestored",Vg=1,u7=2,c7=3;function Hg(p,w){for(var k=0;k<p.length;++k)if(p[k]===w)return k;return-1}function f7(p){var w=it(p);if(!w)return null;var k=w.gl,q=k.getContextAttributes(),oe=k.isContextLost(),Y=wt(k,w);if(!Y)return null;var J=Ln(),me=t7(),pe=Y.extensions,Ee=i7(k,pe),be=pn(),Se=k.drawingBufferWidth,ke=k.drawingBufferHeight,ge={tick:0,time:0,viewportWidth:Se,viewportHeight:ke,framebufferWidth:Se,framebufferHeight:ke,drawingBufferWidth:Se,drawingBufferHeight:ke,pixelRatio:w.pixelRatio},we={},j={elements:null,primitive:4,count:-1,offset:0,instances:-1},Z=sf(k,pe),_e=au(k,me,w,Ge),Ve=fu(k,pe,_e,me),de=Pe(k,pe,Z,me,_e,Ve,j);function Ge(ht){return de.destroyBuffer(ht)}var Be=Qt(k,J,me,w),ct=L1(k,pe,Z,function(){Qe.procs.poll()},ge,me,w),ae=R1(k,pe,Z,me,w),ie=V1(k,pe,Z,ct,ae,me),Qe=e7(k,J,pe,Z,_e,Ve,ct,ie,we,de,Be,j,ge,Ee,w),Ne=P9(k,ie,Qe.procs.poll,ge,q,pe,Z),xe=Qe.next,Me=k.canvas,$e=[],St=[],_t=[],je=[w.onDestroy],Ue=null;function pt(){if($e.length===0){Ee&&Ee.update(),Ue=null;return}Ue=dn.next(pt),ur();for(var ht=$e.length-1;ht>=0;--ht){var Ht=$e[ht];Ht&&Ht(ge,null,0)}k.flush(),Ee&&Ee.update()}function bt(){!Ue&&$e.length>0&&(Ue=dn.next(pt))}function Vt(){Ue&&(dn.cancel(pt),Ue=null)}function xn(ht){ht.preventDefault(),oe=!0,Vt(),St.forEach(function(Ht){Ht()})}function En(ht){k.getError(),oe=!1,Y.restore(),Be.restore(),_e.restore(),ct.restore(),ae.restore(),ie.restore(),de.restore(),Ee&&Ee.restore(),Qe.procs.refresh(),bt(),_t.forEach(function(Ht){Ht()})}Me&&(Me.addEventListener(Gg,xn,!1),Me.addEventListener(Ug,En,!1));function Xt(){$e.length=0,Vt(),Me&&(Me.removeEventListener(Gg,xn),Me.removeEventListener(Ug,En)),Be.clear(),ie.clear(),ae.clear(),de.clear(),ct.clear(),Ve.clear(),_e.clear(),Ee&&Ee.clear(),je.forEach(function(ht){ht()})}function Hn(ht){E(!!ht,"invalid args to regl({...})"),E.type(ht,"object","invalid args to regl({...})");function Ht(z){var I=r({},z);delete I.uniforms,delete I.attributes,delete I.context,delete I.vao,"stencil"in I&&I.stencil.op&&(I.stencil.opBack=I.stencil.opFront=I.stencil.op,delete I.stencil.op);function M($){if($ in I){var T=I[$];delete I[$],Object.keys(T).forEach(function(R){I[$+"."+R]=T[R]})}}return M("blend"),M("depth"),M("cull"),M("stencil"),M("polygonOffset"),M("scissor"),M("sample"),"vao"in z&&(I.vao=z.vao),I}function qt(z,I){var M={},$={};return Object.keys(z).forEach(function(T){var R=z[T];if($t.isDynamic(R)){$[T]=$t.unbox(R,T);return}else if(I&&Array.isArray(R)){for(var A=0;A<R.length;++A)if($t.isDynamic(R[A])){$[T]=$t.unbox(R,T);return}}M[T]=R}),{dynamic:$,static:M}}var Pn=qt(ht.context||{},!0),Gi=qt(ht.uniforms||{},!0),Xa=qt(ht.attributes||{},!1),C=qt(Ht(ht),!1),Q={gpuTime:0,cpuTime:0,count:0},W=Qe.compile(C,Xa,Gi,Pn,Q),qe=W.draw,jt=W.batch,b=W.scope,x=[];function N(z){for(;x.length<z;)x.push(null);return x}function B(z,I){var M;if(oe&&E.raise("context lost"),typeof z=="function")return b.call(this,null,z,0);if(typeof I=="function")if(typeof z=="number")for(M=0;M<z;++M)b.call(this,null,I,M);else if(Array.isArray(z))for(M=0;M<z.length;++M)b.call(this,z[M],I,M);else return b.call(this,z,I,0);else if(typeof z=="number"){if(z>0)return jt.call(this,N(z|0),z|0)}else if(Array.isArray(z)){if(z.length)return jt.call(this,z,z.length)}else return qe.call(this,z)}return r(B,{stats:Q,destroy:function(){W.destroy()}})}var gn=ie.setFBO=Hn({framebuffer:$t.define.call(null,Vg,"framebuffer")});function zn(ht,Ht){var qt=0;Qe.procs.poll();var Pn=Ht.color;Pn&&(k.clearColor(+Pn[0]||0,+Pn[1]||0,+Pn[2]||0,+Pn[3]||0),qt|=o7),"depth"in Ht&&(k.clearDepth(+Ht.depth),qt|=a7),"stencil"in Ht&&(k.clearStencil(Ht.stencil|0),qt|=l7),E(!!qt,"called regl.clear with no buffer specified"),k.clear(qt)}function Wn(ht){if(E(typeof ht=="object"&&ht,"regl.clear() takes an object as input"),"framebuffer"in ht)if(ht.framebuffer&&ht.framebuffer_reglType==="framebufferCube")for(var Ht=0;Ht<6;++Ht)gn(r({framebuffer:ht.framebuffer.faces[Ht]},ht),zn);else gn(ht,zn);else zn(null,ht)}function Xn(ht){E.type(ht,"function","regl.frame() callback must be a function"),$e.push(ht);function Ht(){var qt=Hg($e,ht);E(qt>=0,"cannot cancel a frame twice");function Pn(){var Gi=Hg($e,Pn);$e[Gi]=$e[$e.length-1],$e.length-=1,$e.length<=0&&Vt()}$e[qt]=Pn}return bt(),{cancel:Ht}}function rr(){var ht=xe.viewport,Ht=xe.scissor_box;ht[0]=ht[1]=Ht[0]=Ht[1]=0,ge.viewportWidth=ge.framebufferWidth=ge.drawingBufferWidth=ht[2]=Ht[2]=k.drawingBufferWidth,ge.viewportHeight=ge.framebufferHeight=ge.drawingBufferHeight=ht[3]=Ht[3]=k.drawingBufferHeight}function ur(){ge.tick+=1,ge.time=Mt(),rr(),Qe.procs.poll()}function kn(){ct.refresh(),rr(),Qe.procs.refresh(),Ee&&Ee.update()}function Mt(){return(pn()-be)/1e3}kn();function cr(ht,Ht){E.type(Ht,"function","listener callback must be a function");var qt;switch(ht){case"frame":return Xn(Ht);case"lost":qt=St;break;case"restore":qt=_t;break;case"destroy":qt=je;break;default:E.raise("invalid event, must be one of frame,lost,restore,destroy")}return qt.push(Ht),{cancel:function(){for(var Pn=0;Pn<qt.length;++Pn)if(qt[Pn]===Ht){qt[Pn]=qt[qt.length-1],qt.pop();return}}}}var nn=r(Hn,{clear:Wn,prop:$t.define.bind(null,Vg),context:$t.define.bind(null,u7),this:$t.define.bind(null,c7),draw:Hn({}),buffer:function(ht){return _e.create(ht,s7,!1,!1)},elements:function(ht){return Ve.create(ht,!1)},texture:ct.create2D,cube:ct.createCube,renderbuffer:ae.create,framebuffer:ie.create,framebufferCube:ie.createCube,vao:de.createVAO,attributes:q,frame:Xn,on:cr,limits:Z,hasExtension:function(ht){return Z.extensions.indexOf(ht.toLowerCase())>=0},read:Ne,destroy:Xt,_gl:k,_refresh:kn,poll:function(){ur(),Ee&&Ee.update()},now:Mt,stats:me});return w.onDone(null,nn),nn}return f7})})(f8);var Xw=f8.exports;const Yw=Yc(Xw);var qw=1e-6,ml=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Gp(){var e=new ml(16);return ml!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function d3(e){var t=new ml(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function uv(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],s=t[6],u=t[7],f=t[8],h=t[9],c=t[10],m=t[11],v=t[12],S=t[13],L=t[14],g=t[15],_=n*l-r*a,y=n*s-i*a,O=n*u-o*a,D=r*s-i*l,U=r*u-o*l,ee=i*u-o*s,K=f*S-h*v,He=f*L-c*v,ve=f*g-m*v,Re=h*L-c*S,Oe=h*g-m*S,Je=c*g-m*L,De=_*Je-y*Oe+O*Re+D*ve-U*He+ee*K;return De?(De=1/De,e[0]=(l*Je-s*Oe+u*Re)*De,e[1]=(i*Oe-r*Je-o*Re)*De,e[2]=(S*ee-L*U+g*D)*De,e[3]=(c*U-h*ee-m*D)*De,e[4]=(s*ve-a*Je-u*He)*De,e[5]=(n*Je-i*ve+o*He)*De,e[6]=(L*O-v*ee-g*y)*De,e[7]=(f*ee-c*O+m*y)*De,e[8]=(a*Oe-l*ve+u*K)*De,e[9]=(r*ve-n*Oe-o*K)*De,e[10]=(v*U-S*O+g*_)*De,e[11]=(h*O-f*U-m*_)*De,e[12]=(l*He-a*Re-s*K)*De,e[13]=(n*Re-r*He+i*K)*De,e[14]=(S*y-v*D-L*_)*De,e[15]=(f*D-h*y+c*_)*De,e):null}function Cr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],s=t[5],u=t[6],f=t[7],h=t[8],c=t[9],m=t[10],v=t[11],S=t[12],L=t[13],g=t[14],_=t[15],y=n[0],O=n[1],D=n[2],U=n[3];return e[0]=y*r+O*l+D*h+U*S,e[1]=y*i+O*s+D*c+U*L,e[2]=y*o+O*u+D*m+U*g,e[3]=y*a+O*f+D*v+U*_,y=n[4],O=n[5],D=n[6],U=n[7],e[4]=y*r+O*l+D*h+U*S,e[5]=y*i+O*s+D*c+U*L,e[6]=y*o+O*u+D*m+U*g,e[7]=y*a+O*f+D*v+U*_,y=n[8],O=n[9],D=n[10],U=n[11],e[8]=y*r+O*l+D*h+U*S,e[9]=y*i+O*s+D*c+U*L,e[10]=y*o+O*u+D*m+U*g,e[11]=y*a+O*f+D*v+U*_,y=n[12],O=n[13],D=n[14],U=n[15],e[12]=y*r+O*l+D*h+U*S,e[13]=y*i+O*s+D*c+U*L,e[14]=y*o+O*u+D*m+U*g,e[15]=y*a+O*f+D*v+U*_,e}function h3(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pd(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qw(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,s,u;return a<qw?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+o*l,e[2]=o*r*u-i*l,e[3]=0,e[4]=r*i*u-o*l,e[5]=i*i*u+s,e[6]=o*i*u+r*l,e[7]=0,e[8]=r*o*u+i*l,e[9]=i*o*u-r*l,e[10]=o*o*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Kw(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Zw(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],s=t[8],u=t[9],f=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(s,u,f),e}function Jw(){var e=new ml(4);return ml!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function md(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=Jw();return function(t,n,r,i,o,a){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function eE(){var e=new ml(2);return ml!=Float32Array&&(e[0]=0,e[1]=0),e}function tE(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=eE();return function(t,n,r,i,o,a){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const nE=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=Gp(),f=[...r.slice(0,2),0,1];const h=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],m=Array.isArray(o[0])?[...o[0]]:[...o],v=Array.isArray(o[0])?[...o[1]]:[...o],S=()=>Zw(a,u).slice(0,2),L=()=>{const Te=S();return Math.min(Te[0],Te[1])},g=()=>{const Te=S();return Math.max(Te[0],Te[1])},_=()=>Math.acos(u[0]/g()),y=()=>[[...h],[...c]],O=()=>[[...m],[...v]],D=()=>{const Te=S();return[1/Te[0],1/Te[1]]},U=()=>1/L(),ee=()=>1/g(),K=()=>Kw(a,u).slice(0,2),He=()=>md(a,f,uv(s,u)).slice(0,2),ve=()=>u,Re=()=>f.slice(0,2),Oe=([Te=0,rt=0]=[],Tt=1,Pt=0)=>{u=Gp(),Je([-Te,-rt]),Lt(Pt),De(1/Tt)},Je=([Te=0,rt=0]=[])=>{a[0]=Te,a[1]=rt,a[2]=0;const Tt=h3(l,a);Cr(u,Tt,u)},De=(Te,rt)=>{const Tt=Array.isArray(Te);let Pt=Tt?Te[0]:Te,Zt=Tt?Te[1]:Te;if(Pt<=0||Zt<=0||Pt===1&&Zt===1)return;const Bt=S(),yt=Bt[0]*Pt,It=Bt[1]*Zt;if(Pt=Math.max(h[0],Math.min(yt,h[1]))/Bt[0],Zt=Math.max(c[0],Math.min(It,c[1]))/Bt[1],Pt===1&&Zt===1)return;a[0]=Pt,a[1]=Zt,a[2]=1;const zt=pd(l,a),Yt=rt?[...rt,0]:f,cn=h3(a,Yt);Cr(u,cn,Cr(u,zt,Cr(u,uv(s,cn),u)))},Lt=Te=>{const rt=Gp();Qw(rt,Te,[0,0,1]),Cr(u,rt,u)},at=Te=>{const rt=Array.isArray(Te[0]);h[0]=rt?Te[0][0]:Te[0],h[1]=rt?Te[0][1]:Te[1],c[0]=rt?Te[1][0]:Te[0],c[1]=rt?Te[1][1]:Te[1]},lt=Te=>{const rt=Array.isArray(Te[0]);m[0]=rt?Te[0][0]:Te[0],m[1]=rt?Te[0][1]:Te[1],v[0]=rt?Te[1][0]:Te[0],v[1]=rt?Te[1][1]:Te[1]},ye=Te=>{!Te||Te.length<16||(u=Te)},Le=Te=>{f=[...Te.slice(0,2),0,1]},se=()=>{Oe(e,t,n)};return Oe(e,t,n),{get translation(){return K()},get target(){return He()},get scaling(){return S()},get minScaling(){return L()},get maxScaling(){return g()},get scaleBounds(){return y()},get translationBounds(){return O()},get distance(){return D()},get minDistance(){return U()},get maxDistance(){return ee()},get rotation(){return _()},get view(){return ve()},get viewCenter(){return Re()},lookAt:Oe,translate:Je,pan:Je,rotate:Lt,scale:De,zoom:De,reset:se,set:(...Te)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),ye(...Te)),setScaleBounds:at,setTranslationBounds:lt,setView:ye,setViewCenter:Le}},rE=["pan","rotate"],p3={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},iE=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:f=1,defaultMouseDownMoveAction:h="pan",mouseDownMoveModKey:c="alt",isZoom:m=!0,zoomSpeed:v=1,viewCenter:S,scaleBounds:L,translationBounds:g,onKeyDown:_=()=>{},onKeyUp:y=()=>{},onMouseDown:O=()=>{},onMouseUp:D=()=>{},onMouseMove:U=()=>{},onWheel:ee=()=>{}}={})=>{let K=nE(n,t,r,S,L,g),He=0,ve=0,Re=0,Oe=0,Je=0,De=0,Lt=!1,at=0,lt=1,ye=1,Le=1,se=!1,Te=!1,rt=!1,Tt=h==="pan",Pt=a,Zt=a,Bt=l,yt=l,It=m,zt=m;const Yt=()=>{Pt=Array.isArray(a)?!!a[0]:a,Zt=Array.isArray(a)?!!a[1]:a,Bt=Array.isArray(l)?!!l[0]:l,yt=Array.isArray(l)?!!l[1]:l,It=Array.isArray(m)?!!m[0]:m,zt=Array.isArray(m)?!!m[1]:m};Yt();const cn=i?Ae=>Ae/lt*2*Le:Ae=>Ae,Ft=i?Ae=>Ae/ye*2:Ae=>-Ae,Jt=i?Ae=>(-1+Ae/lt*2)*Le:Ae=>Ae,st=i?Ae=>1-Ae/ye*2:Ae=>Ae,At=()=>{if(o){const Ie=Te;return Te=!1,Ie}se=!1;const Ae=He,Rt=ve;if((Pt||Zt)&&Lt&&(Tt&&!rt||!Tt&&rt)){const Ie=Bt?Je-Ae:Ae-Je,Dt=Pt?cn(s*Ie):0,fn=yt?De-Rt:Rt-De,$t=Zt?Ft(s*fn):0;(Dt!==0||$t!==0)&&(K.pan([Dt,$t]),se=!0)}if((It||zt)&&at){const Ie=v*Math.exp(at/ye),Dt=Jt(Re),fn=st(Oe);K.scale([It?1/Ie:1,zt?1/Ie:1],[Dt,fn]),se=!0}if(u&&Lt&&(Tt&&rt||!Tt&&!rt)&&Math.abs(Je-Ae)+Math.abs(De-Rt)>0){const Ie=lt/2,Dt=ye/2,fn=Je-Ie,$t=Dt-De,dn=Ae-Ie,pn=Dt-Rt,Ln=tE([fn,$t],[dn,pn]),wn=fn*pn-dn*$t;K.rotate(f*Ln*Math.sign(wn)),se=!0}at=0,Je=Ae,De=Rt;const Wt=se||Te;return Te=!1,Wt},Nt=({defaultMouseDownMoveAction:Ae=null,isFixed:Rt=null,isPan:Wt=null,isPanInverted:Ie=null,isRotate:Dt=null,isZoom:fn=null,panSpeed:$t=null,rotateSpeed:dn=null,zoomSpeed:pn=null,mouseDownMoveModKey:Ln=null}={})=>{h=Ae!==null&&rE.includes(Ae)?Ae:h,Tt=h==="pan",o=Rt!==null?Rt:o,a=Wt!==null?Wt:a,l=Ie!==null?Ie:l,u=Dt!==null?Dt:u,m=fn!==null?fn:m,s=+$t>0?$t:s,f=+dn>0?dn:f,v=+pn>0?pn:v,Yt(),c=Ln!==null&&Object.keys(p3).includes(Ln)?Ln:c},Ct=()=>{const Ae=e.getBoundingClientRect();lt=Ae.width,ye=Ae.height,Le=lt/ye},Ke=Ae=>{rt=!1,y(Ae)},Gt=Ae=>{rt=Ae[p3[c]],_(Ae)},ln=Ae=>{Lt=!1,D(Ae)},en=Ae=>{Lt=Ae.buttons===1,O(Ae)},E=document.createEvent("MouseEvent").offsetX!==void 0?Ae=>{Re=Ae.offsetX,Oe=Ae.offsetY}:Ae=>{const Rt=e.getBoundingClientRect();Re=Ae.clientX-Rt.left,Oe=Ae.clientY-Rt.top},he=Ae=>{He=Ae.clientX,ve=Ae.clientY},Fe=Ae=>{he(Ae),U(Ae)},ce=Ae=>{if(It||zt){Ae.preventDefault(),he(Ae),E(Ae);const Rt=Ae.deltaMode===1?12:1;at+=Rt*(Ae.deltaY||Ae.deltaX||0)}ee(Ae)},xt=()=>{K=void 0,window.removeEventListener("keydown",Gt),window.removeEventListener("keyup",Ke),e.removeEventListener("mousedown",en),window.removeEventListener("mouseup",ln),window.removeEventListener("mousemove",Fe),e.removeEventListener("wheel",ce)};window.addEventListener("keydown",Gt,{passive:!0}),window.addEventListener("keyup",Ke,{passive:!0}),e.addEventListener("mousedown",en,{passive:!0}),window.addEventListener("mouseup",ln,{passive:!0}),window.addEventListener("mousemove",Fe,{passive:!0}),e.addEventListener("wheel",ce,{passive:!1}),K.config=Nt,K.dispose=xt,K.refresh=Ct,K.tick=At;const dt=Ae=>function(){Ae.apply(null,arguments),Te=!0};return K.lookAt=dt(K.lookAt),K.translate=dt(K.translate),K.pan=dt(K.pan),K.rotate=dt(K.rotate),K.scale=dt(K.scale),K.zoom=dt(K.zoom),K.reset=dt(K.reset),K.set=dt(K.set),K.setScaleBounds=dt(K.setScaleBounds),K.setTranslationBounds=dt(K.setTranslationBounds),K.setView=dt(K.setView),K.setViewCenter=dt(K.setViewCenter),Ct(),K};function cv(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;d8(e,t,a,r,i,o%2),cv(e,t,n,r,a-1,o+1),cv(e,t,n,a+1,i,o+1)}function d8(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const u=i-r+1,f=n-r+1,h=Math.log(u),c=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*c*(u-c)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(n-f*c/u+m)),S=Math.min(i,Math.floor(n+(u-f)*c/u+m));d8(e,t,n,v,S,o)}const a=t[2*n+o];let l=r,s=i;for(Ku(e,t,r,n),t[2*i+o]>a&&Ku(e,t,r,i);l<s;){for(Ku(e,t,l,s),l++,s--;t[2*l+o]<a;)l++;for(;t[2*s+o]>a;)s--}t[2*r+o]===a?Ku(e,t,r,s):(s++,Ku(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function Ku(e,t,n,r){Up(e,n,r),Up(t,2*n,2*r),Up(t,2*n+1,2*r+1)}function Up(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oE(e,t,n,r,i,o,a){const l=[0,e.length-1,0],s=[];let u,f;for(;l.length;){const h=l.pop(),c=l.pop(),m=l.pop();if(c-m<=a){for(let L=m;L<=c;L++)u=t[2*L],f=t[2*L+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[L]);continue}const v=Math.floor((m+c)/2);u=t[2*v],f=t[2*v+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[v]);const S=(h+1)%2;(h===0?n<=u:r<=f)&&(l.push(m),l.push(v-1),l.push(S)),(h===0?i>=u:o>=f)&&(l.push(v+1),l.push(c),l.push(S))}return s}function aE(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],s=i*i;for(;a.length;){const u=a.pop(),f=a.pop(),h=a.pop();if(f-h<=o){for(let L=h;L<=f;L++)m3(t[2*L],t[2*L+1],n,r)<=s&&l.push(e[L]);continue}const c=Math.floor((h+f)/2),m=t[2*c],v=t[2*c+1];m3(m,v,n,r)<=s&&l.push(e[c]);const S=(u+1)%2;(u===0?n-i<=m:r-i<=v)&&(a.push(h),a.push(c-1),a.push(S)),(u===0?n+i>=m:r+i>=v)&&(a.push(c+1),a.push(f),a.push(S))}return l}function m3(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const lE=e=>e[0],sE=e=>e[1];class uE{constructor(t,n=lE,r=sE,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),s=this.coords=new o(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);cv(l,s,i,0,l.length-1,0)}range(t,n,r,i){return oE(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return aE(this.ids,this.coords,t,n,r,this.nodeSize)}}const cE=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var fE=cE;const dE=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var hE=dE;const{push:v3,splice:pE}=Array.prototype,Vp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Tr=Float32Array.BYTES_PER_ELEMENT,mE=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,s=o+3;t.push(o,a,l,l,a,s)}n+=(r+2)*2}),t},Qr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}v3.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return pE.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const s=a*t;for(let u=0;u<t;u++)o[u]=e[s+u];v3.apply(i,o)}return i}},vE=(e,{projection:t=Vp,model:n=Vp,view:r=Vp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:f=[],miter:h=1,is2d:c=!1,zPos2d:m=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const v=new Float32Array(16);let S,L,g,_,y,O,D,U,ee,K,He,ve,Re,Oe,Je,De,Lt,at,lt=c?2:3;const ye=()=>+(s.length===L||l!==null),Le=()=>{K=e.buffer(),He=e.buffer(),ve=e.buffer(),Je=e.buffer(),De={prevPosition:{buffer:()=>K,offset:0,stride:Tr*3},currPosition:{buffer:()=>K,offset:Tr*3*2,stride:Tr*3},nextPosition:{buffer:()=>K,offset:Tr*3*4,stride:Tr*3},opacity:{buffer:()=>He,offset:Tr*2,stride:Tr},offsetScale:{buffer:()=>ve,offset:Tr*2,stride:Tr},colorIndex:{buffer:()=>Je,offset:Tr*2,stride:Tr}},Lt=e.elements(),at=e({attributes:De,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(st,At)=>{const Nt=st.projection||At.projection,Ct=st.model||At.model,Ke=st.view||At.view;return Cr(v,Nt,Cr(v,Ke,Ct))},aspectRatio:({viewportWidth:st,viewportHeight:At})=>st/At,colorTex:()=>Re,colorTexRes:()=>Oe,colorTexEps:()=>.5/Oe,pixelRatio:({pixelRatio:st})=>st,width:({pixelRatio:st,viewportHeight:At})=>u/At*st,useOpacity:ye,useColorOpacity:()=>+!ye(),miter:h},elements:()=>Lt,vert:hE,frag:fE})},se=()=>{S===1&&i.length%lt>0&&console.warn(`The length of points (${L}) does not match the dimensions (${lt}). Incomplete points are ignored.`),_=i.flat().slice(0,L*lt),c&&(_=Qr.increaseStride(_,2,3,m)),o.length!==L&&(o=new Array(L).fill(0)),f.length!==L&&(f=new Array(L).fill(1));let st=o.slice(),At=s.length===L?s.slice():new Array(L).fill(+l),Nt=f.slice(),Ct=0;g.forEach(Ke=>{const Gt=Ct+Ke-1;Qr.copyElement(_,Gt,Gt,3),Qr.copyElement(_,Ct,Ct,3),Qr.copyElement(st,Gt,Gt,1),Qr.copyElement(st,Ct,Ct,1),Qr.copyElement(At,Gt,Gt,1),Qr.copyElement(At,Ct,Ct,1),Qr.copyElement(Nt,Gt,Gt,1),Qr.copyElement(Nt,Ct,Ct,1),Ct+=Ke+2}),y=new Float32Array(Qr.duplicate(_,3)),O=Qr.duplicate(st),D=Qr.duplicate(At),U=Qr.duplicate(Nt,1,-1),ee=mE(g),K({usage:"dynamic",type:"float",length:y.length*Tr,data:y}),He({usage:"dynamic",type:"float",length:D.length*Tr,data:D}),ve({usage:"dynamic",type:"float",length:U.length*Tr,data:U}),Je({usage:"dynamic",type:"float",length:O.length*Tr,data:O}),Lt({primitive:"triangles",usage:"dynamic",type:ee.length>2**16?"uint32":"uint16",data:ee})},Te=()=>{rt(),Le()},rt=()=>{i=null,_=null,y=null,U=null,ee=null,K.destroy(),ve.destroy(),Lt.destroy()},Tt=({projection:st,model:At,view:Nt}={})=>{st&&(t=st),At&&(n=At),Nt&&(r=Nt),i&&i.length>1&&at({projection:t,model:n,view:r})},Pt=(st,At)=>{const Nt=At.flat(2);return Nt.length===L?Nt:Nt.length===S?g.map((Ct,Ke)=>Array(Ct).fill(Nt[Ke])).flat():st},Zt=()=>i,Bt=(st=[],{colorIndices:At=o,opacities:Nt=s,widths:Ct=f,is2d:Ke=c}={})=>{i=st,c=Ke,lt=c?2:3,S=Array.isArray(i[0])?i.length:1,g=S>1?i.map(Gt=>Math.floor(Gt.length/lt)):[Math.floor(i.length/lt)],L=g.reduce((Gt,ln)=>Gt+ln,0),o=Pt(o,At),s=Pt(s,Nt),f=Pt(f,Ct),i&&L>1?se():Te()},yt=(st,At=-1)=>Array.isArray(st)?st.length&&!Array.isArray(st[0])?At+1:yt(st[0],++At):At,It=()=>{const st=yt(a)===0?[a]:a;Oe=Math.max(2,Math.ceil(Math.sqrt(st.length)));const At=new Uint8Array(Oe**2*4);st.forEach((Nt,Ct)=>{At[Ct*4]=Math.min(255,Math.max(0,Math.round(Nt[0]*255))),At[Ct*4+1]=Math.min(255,Math.max(0,Math.round(Nt[1]*255))),At[Ct*4+2]=Math.min(255,Math.max(0,Math.round(Nt[2]*255))),At[Ct*4+3]=Number.isNaN(+Nt[3])?255:Math.min(255,Math.max(0,Math.round(Nt[3]*255)))}),Re=e.texture({data:At,shape:[Oe,Oe,4]})},zt=(st,At=l)=>{a=st,l=At,Re&&Re.destroy(),It()},Yt=()=>({color:a,miter:h,width:u}),cn=({color:st,opacity:At,miter:Nt,width:Ct}={})=>{st&&zt(st,At),Nt&&(h=Nt),+Ct>0&&(u=Ct)},Ft=()=>({points:K,widths:ve,opacities:He,colorIndices:Je}),Jt=()=>({points:y,widths:U,opacities:D,colorIndices:O});return Le(),It(),i&&i.length>1&&Bt(i),{clear:Te,destroy:rt,draw:Tt,getPoints:Zt,setPoints:Bt,getData:Jt,getBuffer:Ft,getStyle:Yt,setStyle:cn}};var V0=vE;const gE=e=>e*e*e,h8=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,yE=e=>--e*e*e+1,xE=e=>e,_E=e=>e*e,wE=e=>e<.5?2*e*e:-1+(4-2*e)*e,EE=e=>e*(2-e),Es=e=>e,SE=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},bE=e=>e.reduce((t,n)=>n>t?n:t,-1/0),g3=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},TE=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},M2=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),AE=(...e)=>t=>e.reduce((n,r)=>r(n),t),CE=e=>t=>M2({__proto__:{constructor:e}},t),y3=(e,t)=>n=>M2(n,{get[e](){return t}}),LE=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),RE=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),os=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),p8=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let a=!1;const l=(...s)=>{a?(i++,o(...s)):(e(...s),o(...s),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},Xi="auto",OE=0,Hp=1,kE=2,x3=3,PE=4,NE=Float32Array.BYTES_PER_ELEMENT,m8=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],_3={color:[0,0,0,0],depth:1},I2="panZoom",v8="lasso",g8="rotate",ME=[I2,v8,g8],IE=I2,DE={cubicIn:gE,cubicInOut:h8,cubicOut:yE,linear:xE,quadIn:_E,quadInOut:wE,quadOut:EE},w3=h8,Hi="continuous",us="categorical",E3=[Hi,us],fv="deselect",D2="lassoEnd",FE=[fv,D2],$E=[0,.666666667,1,1],BE=2,jE=!1,zE=10,GE=3,UE=D2,VE=!1,qd=750,Qd=500,Kd=100,Zd=250,F2="lasso",Jd="rotate",eh="merge",HE=[F2,Jd,eh],$2="alt",B2="cmd",y8="ctrl",x8="meta",j2="shift",WE=[$2,B2,y8,x8,j2],XE={[$2]:Jd,[j2]:F2,[B2]:eh},YE=1,qE=Xi,QE=Xi,KE=1,Wp=1,ZE=6,JE=2,eS=2,Xp=null,tS=2,nS=2,Yp=null,rS=null,qp=null,iS=.66,oS=1,Qp=null,aS=.15,lS=25,sS=1,uS=1,Zu=null,cS=[.66,.66,.66,oS],fS=[0,.55,1,1],dS=[1,1,1,1],hS=[0,0,0,1],Kp=null,pS=[.66,.66,.66,.2],mS=[0,.55,1,1],vS=[1,1,1,1],gS=[0,0],yS=1,xS=0,_S=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),wS="IMAGE_LOAD_ERROR",ES=null,SS=!1,bS=[1,1,1,.5],TS=!0,AS=!0,CS=!1,LS=100,RS=1/500,OS="auto",kS=!1,PS=200,NS=500,_8=new Set(["z","valueZ","valueA","value1","category"]),w8=new Set(["w","valueW","valueB","value2","value"]),z2=15e3,S3="Points have not been drawn",MS=(e,t)=>e?m8.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,IS=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return m8.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),Yw({gl:t,extensions:n})},Zp=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),DS=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},FS=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,$S=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),qo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Qo=e=>!Number.isNaN(+e)&&+e>=0,H0=e=>!Number.isNaN(+e)&&+e>0,b3=(e,t)=>n=>e.indexOf(n)>=0?n:t,BS=(e,t=!1,n=z2)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error(wS))};o.onerror=a,setTimeout(a,n)}),T3=(e,t,n=z2)=>new Promise((r,i)=>{BS(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),jS=(e,t=!1)=>[...$S(e,t),255**!t],zS=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),GS=e=>e>=0&&e<=1,th=e=>Array.isArray(e)&&e.every(GS),US=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],o=e[u],a=e[u+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),u=s;return l},dv=e=>typeof e=="string"||e instanceof String,VS=e=>Number.isInteger(e)&&e>=0&&e<=255,E8=e=>Array.isArray(e)&&e.every(VS),HS=e=>e.length===3&&(th(e)||E8(e)),WS=e=>e.length===4&&(th(e)||E8(e)),Ko=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||dv(e[0])),W0=(e,t)=>e>t?e:t,A3=(e,t)=>e<t?e:t,Ir=(e,t)=>{if(WS(e)){const n=th(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(HS(e)){const n=255**!t,r=th(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return zS(e)?jS(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},C3=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),L3=e=>.21*e[0]+.72*e[1]+.07*e[2],XS=(e,t,n)=>Math.min(n,Math.max(t,e)),YS=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=KE}=e;t||(t=IS(n));const i=MS(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=L=>{const g=L.getContext("2d");g.clearRect(0,0,L.width,L.height),g.drawImage(n,(n.width-L.width)/2,(n.height-L.height)/2,L.width,L.height,0,0,L.width,L.height)},u=(L,g)=>{t.clear(_3),a.use(()=>{t.clear(_3),L()}),l(),s(g)},f=()=>{t.poll()},h=new Set,c=L=>(h.add(L),()=>{h.delete(L)}),m=t.frame(()=>{const L=h.values();let g=L.next();for(;!g.done;)g.value(),g=L.next()}),v=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",v),window.addEventListener("orientationchange",v),v()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(L){r=+L},get isSupported(){return i},render:u,onFrame:c,refresh:f,destroy:()=>{m.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}}},qS=!0,Jp=8,R3=2,QS=2500,KS=250,ZS=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},JS=(e,t,n)=>(1-e)*t+n,eb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,tb=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,nb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,rb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,ib=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,ob=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,ab=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,lb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,sb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,ub=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,cb=({time:e=qd,extraTime:t=Qd,delay:n=Kd,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:f})=>{const h=l/360,c=JS(h,e,t),m=Math.round((1-h)*e/c*100),v=Math.round(m/2),S=m+(100-m)/4;return{rules:{main:ob(m,r,i),effect:ab(m,S,o,a),circleRight:ub(v,s),circleLeft:sb(m,l),circle:lb(v,u,f)},names:{main:eb(c,n),effect:tb(c,n),circleLeft:nb(c,n),circleRight:rb(c,n),circle:ib(c,n)}}},fb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,db=e=>`${e}ms linear effectOut 0s 1 normal forwards`,hb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,pb=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,mb=e=>`${e}ms linear circleOut 0s 1 normal forwards`,vb=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,gb=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,yb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,xb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,_b=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,wb=({time:e=Zd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:s})=>{const u=o/360,f=u*e,h=Math.min(100,u*100),c=h>50?Math.round((1-50/h)*100):0;return{rules:{main:vb(t,n),effect:gb(r,i),circleRight:yb(c,a),circleLeft:xb(o),circle:_b(c,l,s)},names:{main:fb(f),effect:db(f),circleRight:hb(f),circleLeft:pb(f),circle:mb(f)}}},Ju=(e,t=null)=>e===null?t:e;let em;const S8=()=>{if(!em){const e=document.createElement("style");document.head.appendChild(e),em=e.sheet}return em},ui=e=>{const t=S8(),n=t.rules.length;return t.insertRule(e,n),n},ci=e=>{S8().deleteRule(e)},Eb=`${QS}ms ease scaleInFadeOut 0s 1 normal backwards`,Sb=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let tm=null;const bb=`${KS}ms ease fadeScaleOut 0s 1 normal backwards`,Tb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let nm=null;const b8=(e,{onDraw:t=Es,onStart:n=Es,onEnd:r=Es,enableInitiator:i=qS,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=Jp,minDist:s=R3,pointNorm:u=Es}={})=>{let f=i,h=o,c=a,m=t,v=n,S=r,L=u;const g=document.createElement("div"),_=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);g.id=`lasso-initiator-${_}`,g.style.position="fixed",g.style.display="flex",g.style.justifyContent="center",g.style.alignItems="center",g.style.zIndex=99,g.style.width="4rem",g.style.height="4rem",g.style.borderRadius="4rem",g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:y,longPressCircle:O,longPressCircleLeft:D,longPressCircleRight:U,longPressEffect:ee}=ZS();let K=!1,He=!1,ve=[],Re=[],Oe,Je=!1,De=null,Lt=null,at=null,lt=null,ye=null,Le=null,se=null,Te=null,rt=null,Tt=null;const Pt=()=>{K=!1},Zt=he=>{const{left:Fe,top:ce}=e.getBoundingClientRect();return[he.clientX-Fe,he.clientY-ce]};window.addEventListener("mouseup",Pt);const Bt=()=>{g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},yt=(he,Fe)=>{const ce=getComputedStyle(he),xt=+ce.opacity,dt=ce.transform.match(/([0-9.-]+)+/g),Ae=+dt[0],Rt=+dt[1],Wt=Math.sqrt(Ae*Ae+Rt*Rt);let Ie=Math.atan2(Rt,Ae)*(180/Math.PI);return Ie=Fe&&Ie<=0?360+Ie:Ie,{opacity:xt,scale:Wt,rotate:Ie}},It=he=>{if(!f||K)return;const Fe=he.clientX,ce=he.clientY;g.style.top=`${ce}px`,g.style.left=`${Fe}px`;const xt=yt(g),dt=xt.opacity,Ae=xt.scale,Rt=xt.rotate;g.style.opacity=dt,g.style.transform=`translate(-50%,-50%) scale(${Ae}) rotate(${Rt}deg)`,g.style.animation="none",os().then(()=>{tm!==null&&ci(tm),tm=ui(Sb(dt,Ae,Rt)),g.style.animation=Eb,os().then(()=>{Bt()})})},zt=()=>{const{opacity:he,scale:Fe,rotate:ce}=yt(g);g.style.opacity=he,g.style.transform=`translate(-50%,-50%) scale(${Fe}) rotate(${ce}deg)`,g.style.animation="none",os(2).then(()=>{nm!==null&&ci(nm),nm=ui(Tb(he,Fe,ce)),g.style.animation=bb,os().then(()=>{Bt()})})},Yt=(he,Fe,{time:ce=qd,extraTime:xt=Qd,delay:dt=Kd}={time:qd,extraTime:Qd,delay:Kd})=>{Je=!0;const Ae=getComputedStyle(y);y.style.color=Ae.color,y.style.top=`${Fe}px`,y.style.left=`${he}px`,y.style.animation="none";const Rt=getComputedStyle(O);O.style.clipPath=Rt.clipPath,O.style.opacity=Rt.opacity,O.style.animation="none";const Wt=yt(ee);ee.style.opacity=Wt.opacity,ee.style.transform=`scale(${Wt.scale})`,ee.style.animation="none";const Ie=yt(D);D.style.transform=`rotate(${Ie.rotate}deg)`,D.style.animation="none";const Dt=yt(U);U.style.transform=`rotate(${Dt.rotate}deg)`,U.style.animation="none",os().then(()=>{if(!Je)return;ye!==null&&ci(ye),lt!==null&&ci(lt),at!==null&&ci(at),Lt!==null&&ci(Lt),De!==null&&ci(De);const{rules:fn,names:$t}=cb({time:ce,extraTime:xt,delay:dt,currentColor:Ae.color||"currentcolor",targetColor:y.dataset.activeColor,effectOpacity:Wt.opacity||0,effectScale:Wt.scale||0,circleLeftRotation:Ie.rotate||0,circleRightRotation:Dt.rotate||0,circleClipPath:Rt.clipPath||"inset(0 0 0 50%)",circleOpacity:Rt.opacity||0});De=ui(fn.main),Lt=ui(fn.effect),at=ui(fn.circleLeft),lt=ui(fn.circleRight),ye=ui(fn.circle),y.style.animation=$t.main,ee.style.animation=$t.effect,D.style.animation=$t.circleLeft,U.style.animation=$t.circleRight,O.style.animation=$t.circle})},cn=({time:he=Zd}={time:Zd})=>{if(!Je)return;Je=!1;const Fe=getComputedStyle(y);y.style.color=Fe.color,y.style.animation="none";const ce=getComputedStyle(O);O.style.clipPath=ce.clipPath,O.style.opacity=ce.opacity,O.style.animation="none";const xt=yt(ee);ee.style.opacity=xt.opacity,ee.style.transform=`scale(${xt.scale})`,ee.style.animation="none";const dt=ce.clipPath.slice(-2,-1)==="x",Ae=yt(D,dt);D.style.transform=`rotate(${Ae.rotate}deg)`,D.style.animation="none";const Rt=yt(U);U.style.transform=`rotate(${Rt.rotate}deg)`,U.style.animation="none",os().then(()=>{Tt!==null&&ci(Tt),rt!==null&&ci(rt),Te!==null&&ci(Te),se!==null&&ci(se),Le!==null&&ci(Le);const{rules:Wt,names:Ie}=wb({time:he,currentColor:Fe.color||"currentcolor",targetColor:y.dataset.color,effectOpacity:xt.opacity||0,effectScale:xt.scale||0,circleLeftRotation:Ae.rotate||0,circleRightRotation:Rt.rotate||0,circleClipPath:ce.clipPath||"inset(0px)",circleOpacity:ce.opacity||1});Le=ui(Wt.main),se=ui(Wt.effect),Te=ui(Wt.circleLeft),rt=ui(Wt.circleRight),Tt=ui(Wt.circle),y.style.animation=Ie.main,ee.style.animation=Ie.effect,D.style.animation=Ie.circleLeft,U.style.animation=Ie.circleRight,O.style.animation=Ie.circle})},Ft=()=>{m(ve,Re)},Jt=he=>{if(Oe){if(LE(he[0],he[1],Oe[0],Oe[1])>R3){Oe=he;const ce=L(he);ve.push(ce),Re.push(ce[0],ce[1]),ve.length>1&&Ft()}}else{He||(He=!0,v()),Oe=he;const Fe=L(he);ve=[Fe],Re=[Fe[0],Fe[1]]}},st=p8(Jt,Jp,Jp),At=(he,Fe)=>{const ce=Zt(he);return Fe?st(ce):Jt(ce)},Nt=()=>{ve=[],Re=[],Oe=void 0,Ft()},Ct=he=>{It(he)},Ke=()=>{K=!0,He=!0,Nt(),v()},Gt=()=>{zt()},ln=({merge:he=!1}={})=>{He=!1;const Fe=[...ve],ce=[...Re];return st.cancel(),Nt(),Fe.length&&S(Fe,ce,{merge:he}),Fe},en=({onDraw:he=null,onStart:Fe=null,onEnd:ce=null,enableInitiator:xt=null,initiatorParentElement:dt=null,longPressIndicatorParentElement:Ae=null,minDelay:Rt=null,minDist:Wt=null,pointNorm:Ie=null}={})=>{m=Ju(he,m),v=Ju(Fe,v),S=Ju(ce,S),f=Ju(xt,f),L=Ju(Ie,L),dt!==null&&dt!==h&&(h.removeChild(g),dt.appendChild(g),h=dt),Ae!==null&&Ae!==c&&(c.removeChild(y),Ae.appendChild(y),c=Ae),f?(g.addEventListener("click",Ct),g.addEventListener("mousedown",Ke),g.addEventListener("mouseleave",Gt)):(g.removeEventListener("mousedown",Ke),g.removeEventListener("mouseleave",Gt))},qn=()=>{h.removeChild(g),c.removeChild(y),window.removeEventListener("mouseup",Pt),g.removeEventListener("click",Ct),g.removeEventListener("mousedown",Ke),g.removeEventListener("mouseleave",Gt)},E=()=>he=>M2(he,{clear:Nt,destroy:qn,end:ln,extend:At,set:en,showInitiator:It,hideInitiator:zt,showLongPressIndicator:Yt,hideLongPressIndicator:cn});return h.appendChild(g),c.appendChild(y),en({onDraw:m,onStart:v,onEnd:S,enableInitiator:f,initiatorParentElement:h}),AE(y3("initiator",g),y3("longPressIndicator",y),E(),CE(b8))({})},Ab=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Cb=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Lb=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Rb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,Ob=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,kb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,Pb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,Nb=function(){const t=(u,f,h,c,m)=>{const v=(c-f)*.5,S=(m-h)*.5;return(2*h-2*c+v+S)*u*u*u+(-3*h+3*c-2*v-S)*u*u+v*u+h},n=(u,f,h)=>{const c=h*u,m=Math.floor(c),v=c-m,S=f[Math.max(0,m-1)],L=f[m],g=f[Math.min(h,m+1)],_=f[Math.min(h,m+2)];return[t(v,S[0],L[0],g[0],_[0]),t(v,S[1],L[1],g[1],_[1])]},r=(u,f,h,c)=>(u-h)**2+(f-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,f,h)=>{let c=f[0],m=f[1],v=h[0]-c,S=h[1]-m;if(v!==0||S!==0){const L=((u[0]-c)*v+(u[1]-m)*S)/(v*v+S*S);L>1?(c=h[0],m=h[1]):L>0&&(c+=v*L,m+=S*L)}return v=u[0]-c,S=u[1]-m,v*v+S*S};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(u,f,h,c,m)=>{let v=c,S;for(let L=f+1;L<h;L++){const g=i(u[L],u[f],u[h]);g>v&&(S=L,v=g)}v>c&&(S-f>1&&o(u,f,S,c,m),m.push(u[S]),h-S>1&&o(u,S,h,c,m))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(u,f)=>{const h=u.length-1,c=[u[0]];return o(u,0,h,f,c),c.push(u[h]),c},l=(u,{maxIntPointsPerSegment:f=100,tolerance:h=.002}={})=>{const c=u.length,m=c-1,v=m*f+1,S=h**2;let L=[],g;for(let _=0;_<c-1;_++){let y=[u[_].slice(0,2)];g=u[_];for(let O=1;O<f;O++){const D=(_*f+O)/v,U=n(D,u,m);r(g[0],g[1],U[0],U[1])>S&&(y.push(U),g=U)}y.push(u[_+1]),y=a(y,S),L=L.concat(y.slice(0,y.length-1))}return L.push(u[u.length-1].slice(0,2)),L.flat()},s=u=>{const f={},h=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const m=c[4];f[m]||(f[m]=[]),h?f[m][c[5]]=c:f[m].push(c)}),Object.entries(f).forEach(c=>{f[c[0]]=c[1].filter(m=>m),f[c[0]].reference=c[1][0]}),f};self.onmessage=function(f){(f.data.points?+f.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),f.data.points;const c=s(f.data.points);self.postMessage({points:Object.entries(c).reduce((m,v)=>(m[v[0]]=l(v[1],f.data.options),m[v[0]].reference=v[1].reference,m),{})})}},Mb=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=RE(Nb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var Ib="1.8.5";const rm={showRecticle:"showReticle",recticleColor:"reticleColor"},im=e=>{Object.keys(e).filter(t=>rm[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${rm[t]}" instead.`),e[rm[t]]=e[t],delete e[t]})},fi=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>_8.has(e)?"valueZ":w8.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,om=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},Db=(e={})=>{const t=Hw({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];im(e);let{renderer:o,backgroundColor:a=hS,backgroundImage:l=ES,canvas:s=document.createElement("canvas"),colorBy:u=Zu,deselectOnDblClick:f=TS,deselectOnEscape:h=AS,lassoColor:c=$E,lassoLineWidth:m=BE,lassoMinDelay:v=zE,lassoMinDist:S=GE,lassoClearEvent:L=UE,lassoInitiator:g=jE,lassoInitiatorParentElement:_=document.body,lassoOnLongPress:y=VE,lassoLongPressTime:O=qd,lassoLongPressAfterEffectTime:D=Qd,lassoLongPressEffectDelay:U=Kd,lassoLongPressRevertEffectTime:ee=Zd,keyMap:K=XE,mouseMode:He=IE,showReticle:ve=SS,reticleColor:Re=bS,pointColor:Oe=cS,pointColorActive:Je=fS,pointColorHover:De=dS,showPointConnections:Lt=CS,pointConnectionColor:at=pS,pointConnectionColorActive:lt=mS,pointConnectionColorHover:ye=vS,pointConnectionColorBy:Le=Kp,pointConnectionOpacity:se=rS,pointConnectionOpacityBy:Te=qp,pointConnectionOpacityActive:rt=iS,pointConnectionSize:Tt=tS,pointConnectionSizeActive:Pt=nS,pointConnectionSizeBy:Zt=Yp,pointConnectionMaxIntPointsPerSegment:Bt=LS,pointConnectionTolerance:yt=RS,pointSize:It=ZE,pointSizeSelected:zt=JE,pointSizeMouseDetection:Yt=OS,pointOutlineWidth:cn=eS,opacity:Ft=Xi,opacityBy:Jt=Qp,opacityByDensityFill:st=aS,opacityInactiveMax:At=sS,opacityInactiveScale:Nt=uS,sizeBy:Ct=Xp,height:Ke=QE,width:Gt=qE}=e,ln=Gt===Xi?1:Gt,en=Ke===Xi?1:Ke;const{performanceMode:qn=kS,opacityByDensityDebounceTime:E=lS}=e;o||(o=YS({regl:e.regl,gamma:e.gamma})),a=Ir(a,!0),c=Ir(c,!0),Re=Ir(Re,!0);let he=!1,Fe=L3(a),ce,xt,dt=!1,Ae=null,Rt=[0,0],Wt=-1,Ie=[];const Dt=new Set,fn=new Set;let $t=!1;const dn=new Set;let pn=0,Ln=0,wn=!1,lr=[],yn,gr,te=e.aspectRatio||YE,gt,it,wt,Ut,mn,Ye,Et,kt,Tn,Rn=C3(K),er,sr,An,tr=!1,ot=!0,Sr=!1,Ro;Oe=Ko(Oe)?[...Oe]:[Oe],Je=Ko(Je)?[...Je]:[Je],De=Ko(De)?[...De]:[De],Oe=Oe.map(d=>Ir(d,!0)),Je=Je.map(d=>Ir(d,!0)),De=De.map(d=>Ir(d,!0)),Ft=!Array.isArray(Ft)&&Number.isNaN(+Ft)?Oe[0][3]:Ft,Ft=qo(Ft,Qo,{minLength:1})?[...Ft]:[Ft],It=qo(It,Qo,{minLength:1})?[...It]:[It];let Ca=Wp/It[0];at==="inherit"?at=[...Oe]:(at=Ko(at)?[...at]:[at],at=at.map(d=>Ir(d,!0))),lt==="inherit"?lt=[...Je]:(lt=Ko(lt)?[...lt]:[lt],lt=lt.map(d=>Ir(d,!0))),ye==="inherit"?ye=[...De]:(ye=Ko(ye)?[...ye]:[ye],ye=ye.map(d=>Ir(d,!0))),se==="inherit"?se=[...Ft]:se=qo(se,Qo,{minLength:1})?[...se]:[se],Tt==="inherit"?Tt=[...It]:Tt=qo(Tt,Qo,{minLength:1})?[...Tt]:[Tt],u=fi(u,Zu),Jt=fi(Jt,Qp,{allowDensity:!0}),Ct=fi(Ct,Xp),Le=fi(Le,Kp,{allowSegment:!0}),Te=fi(Te,qp,{allowSegment:!0}),Zt=fi(Zt,Yp,{allowSegment:!0});let zr,Gr,Ur,un,On=0,eo=0,Vr,La,xi,Tl,Al,Cl,Ll,to=!1,Ra=null,Ks,Zs,lf=ve,Oo,ko=0,Rl,Po=0,Js=!1,kr=!1,Di=!1,Fi=us,no=us,Qn,ai=!1,nr=e.xScale||null,$n=e.yScale||null,No=0,Ol=0,kl=0,Pl=0;nr&&(No=nr.domain()[0],Ol=nr.domain()[1]-nr.domain()[0],nr.range([0,ln])),$n&&(kl=$n.domain()[0],Pl=$n.domain()[1]-$n.domain()[0],$n.range([en,0]));const sf=d=>-1+d/ln*2,Pr=d=>1+d/en*-2,br=()=>[sf(i[0]),Pr(i[1])],Hr=(d,F)=>{const V=[d,F,1,1],ue=uv(n,Cr(n,gt,Cr(n,ce.view,wt)));return md(V,V,ue),V.slice(0,2)},uf=(d=0)=>{const F=Da(),ue=(sr[1]-An[1])/s.height;return(Tn*F+d)*ue},eu=()=>$t?yn.points.filter((d,F)=>dn.has(F)):yn.points,Nl=(d,F,V,ue)=>{const Pe=yn.range(d,F,V,ue);return $t?Pe.filter(We=>dn.has(We)):Pe},tu=()=>{const[d,F]=br(),[V,ue]=Hr(d,F),Pe=uf(4),We=Nl(V-Pe,ue-Pe,V+Pe,ue+Pe);let et=Pe,Ot=-1;return We.forEach(tn=>{const[Qt,Bn]=yn.points[tn],an=Zp(Qt,Bn,V,ue);an<et&&(et=an,Ot=tn)}),Ot},qh=(d,F)=>{lr=d,xt.setPoints(F),t.publish("lassoExtend",{coordinates:d})},Qh=d=>{const F=DS(d);if(!FS(F))return[];const V=Nl(...F),ue=[];return V.forEach(Pe=>{US(d,yn.points[Pe])&&ue.push(Pe)}),ue},Mo=()=>{lr=[],xt&&xt.clear()},Oa=d=>d&&d.length>4,ro=(d,F)=>{if(Ye||!Lt||!Oa(yn.points[d[0]]))return;const V=F===0,ue=F===1?et=>fn.add(et):Es,Pe=Object.keys(d.reduce((et,Ot)=>{const tn=yn.points[Ot],Bn=Array.isArray(tn[4])?tn[4][0]:tn[4];return et[Bn]=!0,et},{})),We=Ut.getData().opacities;Pe.filter(et=>!fn.has(+et)).forEach(et=>{const Ot=mn[et][0],tn=mn[et][2],Qt=mn[et][3],Bn=Ot*4+Qt*2,an=Bn+tn*2+4;We.__original__===void 0&&(We.__original__=We.slice());for(let Kt=Bn;Kt<an;Kt++)We[Kt]=V?We.__original__[Kt]:rt;ue(et)}),Ut.getBuffer().opacities.subdata(We,0)},Ml=d=>[d%On/On+eo,Math.floor(d/On)/On+eo],Kh=d=>$t&&!dn.has(d),Il=({preventEvent:d=!1}={})=>{L===fv&&Mo(),Ie.length&&(d||t.publish("deselect"),fn.clear(),ro(Ie,0),Ie=[],Dt.clear(),ot=!0)},Io=(d,{merge:F=!1,preventEvent:V=!1}={})=>{const ue=Array.isArray(d)?d:[d],Pe=[...Ie];if(F){if(Ie=TE(Ie,ue),Pe.length===Ie.length){ot=!0;return}}else{if(Ie&&Ie.length&&ro(Ie,0),Pe.length>0&&ue.length===0){Il({preventEvent:V});return}Ie=ue}if(SE(Pe,Ie)){ot=!0;return}const We=[];Dt.clear(),fn.clear();for(let et=Ie.length-1;et>=0;et--){const Ot=Ie[et];if(Ot<0||Ot>=pn||Kh(Ot)){Ie.splice(et,1);continue}Dt.add(Ot),We.push.apply(We,Ml(Ot))}La({usage:"dynamic",type:"float",data:We}),ro(Ie,1),V||t.publish("select",{points:Ie}),ot=!0},ka=(d,{showReticleOnce:F=!1,preventEvent:V=!1}={})=>{let ue=!1;if(d>=0&&d<pn){ue=!0;const Pe=Qn,We=d!==Qn;+Pe>=0&&We&&!Dt.has(Pe)&&ro([Pe],0),Qn=d,xi.subdata(Ml(d)),Dt.has(d)||ro([d],2),We&&!V&&t.publish("pointover",Qn)}else ue=+Qn>=0,ue&&(Dt.has(Qn)||ro([Qn],0),V||t.publish("pointout",Qn)),Qn=void 0;ue&&(ot=!0,Sr=F)},nu=d=>{const F=s.getBoundingClientRect();return i[0]=d.clientX-F.left,i[1]=d.clientY-F.top,[...i]},Un=b8(s,{onStart:()=>{ce.config({isFixed:!0}),dt=!0,wn=!0,Mo(),Wt>=0&&(clearTimeout(Wt),Wt=-1),t.publish("lassoStart")},onDraw:qh,onEnd:(d,F,{merge:V=!1}={})=>{ce.config({isFixed:!1}),lr=[...d];const ue=Qh(F);Io(ue,{merge:V}),t.publish("lassoEnd",{coordinates:lr}),L===D2&&Mo()},enableInitiator:g,initiatorParentElement:_,pointNorm:([d,F])=>Hr(sf(d),Pr(F))}),Dl=()=>He===v8,Pa=(d,F)=>{switch(Rn[F]){case $2:return d.altKey;case B2:return d.metaKey;case y8:return d.ctrlKey;case x8:return d.metaKey;case j2:return d.shiftKey;default:return!1}},cf=d=>document.elementsFromPoint(d.clientX,d.clientY).some(F=>F===s),ru=d=>{!kr||d.buttons!==1||(dt=!0,Ae=performance.now(),Rt=nu(d),wn=Dl()||Pa(d,F2),!wn&&y&&(Un.showLongPressIndicator(d.clientX,d.clientY,{time:O,extraTime:D,delay:U}),Wt=setTimeout(()=>{Wt=-1,wn=!0},O)))},iu=d=>{kr&&(dt=!1,Wt>=0&&(clearTimeout(Wt),Wt=-1),wn&&(d.preventDefault(),wn=!1,Un.end({merge:Pa(d,eh)})),y&&Un.hideLongPressIndicator({time:ee}))},Fl=d=>{if(!kr)return;d.preventDefault();const F=nu(d);if(Zp(...F,...Rt)>=S)return;const V=performance.now()-Ae;if(!g||V<NS){const ue=tu();ue>=0?(Ie.length&&L===fv&&Mo(),Io([ue],{merge:Pa(d,eh)})):er||(er=setTimeout(()=>{er=null,Un.showInitiator(d)},PS))}},$l=d=>{Un.hideInitiator(),er&&(clearTimeout(er),er=null),f&&(d.preventDefault(),Il())},_i=d=>{if(Di||(ai=cf(d),Di=!0),!kr||!ai&&!dt)return;const F=nu(d),ue=Zp(...F,...Rt)>=S;ai&&!wn&&ka(tu()),wn?(d.preventDefault(),Un.extend(d,!0)):dt&&y&&ue&&Un.hideLongPressIndicator({time:ee}),Wt>=0&&ue&&(clearTimeout(Wt),Wt=-1),dt&&(ot=!0)},Na=()=>{Qn=void 0,ai=!1,Di=!1,kr&&(+Qn>=0&&!Dt.has(Qn)&&ro([Qn],0),iu(),ot=!0)},Bl=()=>{const d=Math.max(It.length,Ft.length);Po=Math.max(2,Math.ceil(Math.sqrt(d)));const F=new Float32Array(Po**2*4);for(let V=0;V<d;V++){F[V*4]=It[V]||0,F[V*4+1]=Math.min(1,Ft[V]||0);const ue=Number((Je[V]||Je[0])[3]);F[V*4+2]=Math.min(1,Number.isNaN(ue)?1:ue);const Pe=Number((De[V]||De[0])[3]);F[V*4+3]=Math.min(1,Number.isNaN(Pe)?1:Pe)}return o.regl.texture({data:F,shape:[Po,Po,4],type:"float"})},ou=(d=Oe,F=Je,V=De)=>{const ue=d.length,Pe=F.length,We=V.length,et=[];if(ue===Pe&&Pe===We)for(let Ot=0;Ot<ue;Ot++)et.push(d[Ot],F[Ot],V[Ot],a);else for(let Ot=0;Ot<ue;Ot++){const tn=[d[Ot][0],d[Ot][1],d[Ot][2],1],Qt=u===Zu?F[0]:tn,Bn=u===Zu?V[0]:tn;et.push(d[Ot],Qt,Bn,a)}return et},au=()=>{const d=ou(),F=d.length;ko=Math.max(2,Math.ceil(Math.sqrt(F)));const V=new Float32Array(ko**2*4);return d.forEach((ue,Pe)=>{V[Pe*4]=ue[0],V[Pe*4+1]=ue[1],V[Pe*4+2]=ue[2],V[Pe*4+3]=ue[3]}),o.regl.texture({data:V,shape:[ko,ko,4],type:"float"})},Zh=(d,F)=>{it[0]=d/gr,it[5]=F},lu=()=>{gr=ln/en,gt=pd([],[1/gr,1,1]),it=pd([],[1/gr,1,1]),wt=pd([],[te,1,1])},Jh=d=>{+d<=0||(te=d)},su=(d,F)=>V=>{if(!V||!V.length)return;const Pe=[...d()];let We=Ko(V)?V:[V];We=We.map(et=>Ir(et,!0)),Oo&&Oo.destroy();try{F(We),Oo=au()}catch{console.error("Invalid colors. Switching back to default colors."),F(Pe),Oo=au()}},e1=su(()=>Oe,d=>{Oe=d}),t1=su(()=>Je,d=>{Je=d}),$i=su(()=>De,d=>{De=d}),n1=()=>{const d=Hr(-1,-1),F=Hr(1,1),V=(d[0]+1)/2,ue=(F[0]+1)/2,Pe=(d[1]+1)/2,We=(F[1]+1)/2,et=[No+V*Ol,No+ue*Ol],Ot=[kl+Pe*Pl,kl+We*Pl];return[et,Ot]},io=()=>{if(!nr&&!$n)return;const[d,F]=n1();nr&&nr.domain(d),$n&&$n.domain(F)},oo=d=>{en=Math.max(1,d),s.height=Math.floor(en*window.devicePixelRatio),$n&&($n.range([en,0]),io())},r1=d=>{if(d===Xi){Ke=d,s.style.height="100%",window.requestAnimationFrame(()=>{s&&oo(s.getBoundingClientRect().height)});return}!+d||+d<=0||(Ke=+d,oo(Ke),s.style.height=`${Ke}px`)},Bi=()=>{Tn=Yt,Yt===Xi&&(Tn=Array.isArray(It)?bE(It):It)},ff=d=>{qo(d,Qo,{minLength:1})&&(It=[...d]),H0(+d)&&(It=[+d]),Ca=Wp/It[0],Rl=Bl(),Bi()},Fo=d=>{!+d||+d<0||(zt=+d)},df=d=>{!+d||+d<0||(cn=+d)},wi=d=>{ln=Math.max(1,d),s.width=Math.floor(ln*window.devicePixelRatio),nr&&(nr.range([0,ln]),io())},uu=d=>{if(d===Xi){Gt=d,s.style.width="100%",window.requestAnimationFrame(()=>{s&&wi(s.getBoundingClientRect().width)});return}!+d||+d<=0||(Gt=+d,wi(Gt),s.style.width=`${ln}px`)},i1=d=>{qo(d,Qo,{minLength:1})&&(Ft=[...d]),H0(+d)&&(Ft=[+d]),Rl=Bl()},cu=d=>{switch(d){case"valueZ":return Fi;case"valueW":return no;default:return null}},fu=(d,F)=>{switch(d){case Hi:return V=>Math.round(V*(F.length-1));case us:default:return Es}},hf=d=>{u=fi(d,Zu)},o1=d=>{Jt=fi(d,Qp,{allowDensity:!0})},a1=d=>{Ct=fi(d,Xp)},pf=d=>{Le=fi(d,Kp,{allowSegment:!0})},vn=d=>{Te=fi(d,qp,{allowSegment:!0})},mf=d=>{Zt=fi(d,Yp,{allowSegment:!0})},l1=()=>[s.width,s.height],li=()=>l,du=()=>Oo,jl=()=>ko,ao=()=>.5/ko,hu=()=>window.devicePixelRatio,zl=()=>Vr,lo=()=>La,Gl=()=>Rl,vf=()=>Po,pu=()=>.5/Po,mu=()=>0,s1=()=>Ur||zr,u1=()=>On,c1=()=>.5/On,gf=()=>it,Ul=()=>ce.view,Ma=()=>wt,Ia=()=>Cr(r,it,Cr(r,ce.view,wt)),Da=()=>ce.scaling[0]>1?Math.asinh(W0(1,ce.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:W0(Ca,ce.scaling[0])*window.devicePixelRatio,$o=()=>$t?dn.size:pn,so=()=>Ie.length,vu=()=>so()>0?At:1,gu=()=>so()>0?Nt:1,yu=()=>+(u==="valueZ"),yf=()=>+(u==="valueW"),xf=()=>+(Jt==="valueZ"),_f=()=>+(Jt==="valueW"),wf=()=>+(Jt==="density"),Ef=()=>+(Ct==="valueZ"),Sf=()=>+(Ct==="valueW"),bf=()=>u==="valueZ"?Fi===Hi?Oe.length-1:1:no===Hi?Oe.length-1:1,Tf=()=>Jt==="valueZ"?Fi===Hi?Ft.length-1:1:no===Hi?Ft.length-1:1,Bo=()=>Ct==="valueZ"?Fi===Hi?It.length-1:1:no===Hi?It.length-1:1,xu=d=>{if(Jt!=="density")return 1;const F=Da(),V=It[0]*F,ue=2/(2/ce.view[0])*(2/(2/ce.view[5])),Pe=d.viewportHeight,We=d.viewportWidth;let et=st*We*Pe/(Ln*V*V)*A3(1,ue);et*=qn?1:1/(.25*Math.PI);const Ot=W0(Wp,V)+.5;return et*=(V/Ot)**2,A3(1,W0(0,et))},_u=o.regl({framebuffer:()=>un,vert:Pb,frag:kb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>Gr,endStateTex:()=>zr,t:(d,F)=>F.t},count:3}),Wr=(d,F,V,ue=OE,Pe=vu,We=gu)=>o.regl({frag:qn?Rb:Lb,vert:Ob(ue),blend:{enable:!qn,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:V,size:2}},uniforms:{resolution:l1,modelViewProjection:Ia,devicePixelRatio:hu,pointScale:Da,encodingTex:Gl,encodingTexRes:vf,encodingTexEps:pu,pointOpacityMax:Pe,pointOpacityScale:We,pointSizeExtra:d,globalState:ue,colorTex:du,colorTexRes:jl,colorTexEps:ao,stateTex:s1,stateTexRes:u1,stateTexEps:c1,isColoredByZ:yu,isColoredByW:yf,isOpacityByZ:xf,isOpacityByW:_f,isOpacityByDensity:wf,isSizedByZ:Ef,isSizedByW:Sf,colorMultiplicator:bf,opacityMultiplicator:Tf,opacityDensity:xu,sizeMultiplicator:Bo,numColorStates:PE},count:F,primitive:"points"}),f1=Wr(mu,$o,zl),d1=Wr(mu,()=>1,()=>xi,kE,()=>1,()=>1),h1=Wr(()=>(zt+cn*2)*window.devicePixelRatio,so,lo,Hp,()=>1,()=>1),wu=Wr(()=>(zt+cn)*window.devicePixelRatio,so,lo,x3,()=>1,()=>1),p1=Wr(()=>zt*window.devicePixelRatio,so,lo,Hp,()=>1,()=>1),m1=()=>{h1(),wu(),p1()},v1=o.regl({frag:Ab,vert:Cb,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:Ia,texture:li},count:6}),Eu=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>lr},uniforms:{modelViewProjection:Ia,color:()=>c},elements:()=>Array.from({length:lr.length-2},(d,F)=>[0,F+1,F+2])}),g1=()=>{if(!(Qn>=0))return;const[d,F]=yn.points[Qn].slice(0,2),V=[d,F,0,1];Cr(n,it,Cr(n,ce.view,wt)),md(V,V,n),Et.setPoints([-1,V[1],1,V[1]]),kt.setPoints([V[0],1,V[0],-1]),Et.draw(),kt.draw(),Wr(()=>(zt+cn*2)*window.devicePixelRatio,()=>1,xi,Hp)(),Wr(()=>(zt+cn)*window.devicePixelRatio,()=>1,xi,x3)()},Vl=d=>{const F=new Float32Array(d*2);let V=0;for(let ue=0;ue<d;++ue){const Pe=Ml(ue);F[V]=Pe[0],F[V+1]=Pe[1],V+=2}return F},Su=(d,F={})=>{const V=d.length;On=Math.max(2,Math.ceil(Math.sqrt(V))),eo=.5/On;const ue=new Float32Array(On**2*4);let Pe=!0,We=!0,et=0,Ot=0,tn=0;for(let Qt=0;Qt<V;++Qt)et=Qt*4,ue[et]=d[Qt][0],ue[et+1]=d[Qt][1],Ot=d[Qt][2]||0,tn=d[Qt][3]||0,ue[et+2]=Ot,ue[et+3]=tn,Pe&&(Pe=Number.isInteger(Ot)),We&&(We=Number.isInteger(tn));return F.z&&E3.includes(F.z)?Fi=F.z:Fi=Pe?us:Hi,F.w&&E3.includes(F.w)?no=F.w:no=We?us:Hi,o.regl.texture({data:ue,shape:[On,On,4],type:"float"})},Af=(d,F={})=>{if(!zr)return!1;if(to){const V=Gr;Gr=Ur,V.destroy()}else Gr=zr;return Ur=Su(d,F),un=o.regl.framebuffer({color:Ur,depth:!1,stencil:!1}),zr=void 0,!0},bu=()=>!!(Gr&&Ur),y1=()=>{Gr&&(Gr.destroy(),Gr=void 0),Ur&&(Ur.destroy(),Ur=void 0)},Fa=(d,F={})=>{kr=!1,pn=d.length,Ln=pn,zr&&zr.destroy(),zr=Su(d,F),Vr({usage:"static",type:"float",data:Vl(pn)}),yn=new uE(d,V=>V[0],V=>V[1],16),kr=!0},Cf=(d,F)=>{Tl=ce.target,Al=d,Cl=ce.distance[0],Ll=F},x1=()=>Tl!==void 0&&Al!==void 0&&Cl!==void 0&&Ll!==void 0,_1=()=>{Tl=void 0,Al=void 0,Cl=void 0,Ll=void 0},w1=d=>{const F=Le==="inherit"?u:Le;if(F==="segment"){const V=at.length-1;return V<1?[]:d.reduce((ue,Pe,We)=>{let et=0;const Ot=[];for(let Qt=2;Qt<Pe.length;Qt+=2){const Bn=Math.sqrt((Pe[Qt-2]-Pe[Qt])**2+(Pe[Qt-1]-Pe[Qt+1])**2);Ot.push(Bn),et+=Bn}ue[We]=[0];let tn=0;for(let Qt=0;Qt<Pe.length/2-1;Qt++)tn+=Ot[Qt],ue[We].push(Math.floor(tn/et*V)*4);return ue},[])}if(F){const V=om(F),ue=fu(cu(F),Le==="inherit"?Oe:at);return mn.reduce((Pe,[We,et])=>(Pe[We]=ue(et[V])*4,Pe),[])}return Array(mn.length).fill(0)},E1=()=>{const d=Te==="inherit"?Jt:Te;if(d==="segment"){const F=se.length-1;return F<1?[]:mn.reduce((V,[ue,Pe,We])=>(V[ue]=g3(We,et=>se[Math.floor(et/(We-1)*F)]),V),[])}if(d){const F=om(d),V=Te==="inherit"?Ft:se,ue=fu(cu(d),V);return mn.reduce((Pe,[We,et])=>(Pe[We]=V[ue(et[F])],Pe),[])}},S1=()=>{const d=Zt==="inherit"?Ct:Zt;if(d==="segment"){const F=Tt.length-1;return F<1?[]:mn.reduce((V,[ue,Pe,We])=>(V[ue]=g3(We,et=>Tt[Math.floor(et/(We-1)*F)]),V),[])}if(d){const F=om(d),V=Zt==="inherit"?It:Tt,ue=fu(cu(d),V);return mn.reduce((Pe,[We,et])=>(Pe[We]=V[ue(et[F])],Pe),[])}},b1=d=>{mn=[];let F=0;Object.keys(d).forEach((V,ue)=>{mn[V]=[ue,d[V].reference,d[V].length/2,F],F+=d[V].length/2})},jo=d=>new Promise(F=>{Ut.setPoints([]),!d||!d.length?F():(Ye=!0,Mb(d,{maxIntPointsPerSegment:Bt,tolerance:yt}).then(V=>{b1(V);const ue=Object.values(V);Ut.setPoints(ue.length===1?ue[0]:ue,{colorIndices:w1(ue),opacities:E1(),widths:S1()}),Ye=!1,F()}))}),$a=({preventEvent:d=!1}={})=>($t=!1,dn.clear(),Vr.subdata(Vl(pn)),new Promise(F=>{const V=()=>{t.subscribe("draw",()=>{d||t.publish("unfilter"),F()},1),ot=!0};Lt||Oa(yn.points[0])?jo(eu()).then(()=>{d||t.publish("pointConnectionsDraw"),V()}):V()})),Lf=(d,{preventEvent:F=!1}={})=>{const V=Array.isArray(d)?d:[d];$t=!0,dn.clear();const ue=[],Pe=[];for(let We=V.length-1;We>=0;We--){const et=V[We];if(et<0||et>=pn){V.splice(We,1);continue}dn.add(et),ue.push.apply(ue,Ml(et)),Dt.has(et)&&Pe.push(et)}return Vr.subdata(ue),Io(Pe,{preventEvent:F}),dn.has(Qn)||ka(-1,{preventEvent:F}),new Promise(We=>{const et=()=>{t.subscribe("draw",()=>{F||t.publish("filter",{points:V}),We()},1),ot=!0};Lt||Oa(yn.points[0])?jo(eu()).then(()=>{F||t.publish("pointConnectionsDraw"),Io(Pe,{preventEvent:F}),et()}):et()})},Ba=()=>Nl(An[0],An[1],sr[0],sr[1]),zo=p8(()=>{Ln=Ba().length},E),Rf=d=>{const[F,V]=Tl,[ue,Pe]=Al,We=1-d,et=F*We+ue*d,Ot=V*We+Pe*d,tn=Cl*We+Ll*d;ce.lookAt([et,Ot],tn)},Of=()=>bu(),kf=()=>x1(),Pf=(d,F)=>{Ra||(Ra=performance.now());const V=performance.now()-Ra,ue=XS(F(V/d),0,1);return Of()&&_u({t:ue}),kf()&&Rf(ue),V<d},Nf=()=>{to=!1,Ra=null,Ks=void 0,Zs=void 0,ve=lf,y1(),_1(),t.publish("transitionEnd")},Hl=({duration:d=500,easing:F=w3})=>{to&&t.publish("transitionEnd"),to=!0,Ra=null,Ks=d,Zs=dv(F)?DE[F]||w3:F,lf=ve,ve=!1,t.publish("transitionStart")},T1=d=>new Promise((F,V)=>{if(!d||Array.isArray(d))F(d);else{const ue=Array.isArray(d.x)||ArrayBuffer.isView(d.x)?d.x.length:0,Pe=(Array.isArray(d.x)||ArrayBuffer.isView(d.x))&&(an=>d.x[an]),We=(Array.isArray(d.y)||ArrayBuffer.isView(d.y))&&(an=>d.y[an]),et=(Array.isArray(d.line)||ArrayBuffer.isView(d.line))&&(an=>d.line[an]),Ot=(Array.isArray(d.lineOrder)||ArrayBuffer.isView(d.lineOrder))&&(an=>d.lineOrder[an]),tn=Object.keys(d),Qt=(()=>{const an=tn.find(Kt=>_8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})(),Bn=(()=>{const an=tn.find(Kt=>w8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})();Pe&&We&&Qt&&Bn&&et&&Ot?F(d.x.map((an,Kt)=>[an,We(Kt),Qt(Kt),Bn(Kt),et(Kt),Ot(Kt)])):Pe&&We&&Qt&&Bn&&et?F(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt),Bn(Kt),et(Kt)])):Pe&&We&&Qt&&Bn?F(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt),Bn(Kt)])):Pe&&We&&Qt?F(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt)])):Pe&&We?F(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt)])):V(new Error("You need to specify at least x and y"))}}),Go=(d,F={})=>he?Promise.reject(new Error("The instance was already destroyed")):T1(d).then(V=>new Promise(ue=>{if(he){ue();return}let Pe=!1;(!F.preventFilterReset||(V==null?void 0:V.length)!==pn)&&($t=!1,dn.clear());const We=V&&Oa(V[0])&&(Lt||F.showPointConnectionsOnce),{zDataType:et,wDataType:Ot}=F;V&&(F.transition&&(V.length===pn?Pe=Af(V,{z:et,w:Ot}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),Fa(V,{z:et,w:Ot}),F.hover!==void 0&&ka(F.hover,{preventEvent:!0}),F.select!==void 0&&Io(F.select,{preventEvent:!0}),F.filter!==void 0&&Lf(F.filter,{preventEvent:!0}),We&&jo(V).then(()=>{t.publish("pointConnectionsDraw"),ot=!0,Sr=F.showReticleOnce})),F.transition&&Pe?(We?Promise.all([new Promise(tn=>{t.subscribe("transitionEnd",()=>{ot=!0,Sr=F.showReticleOnce,tn()},1)}),new Promise(tn=>{t.subscribe("pointConnectionsDraw",tn,1)})]).then(ue):t.subscribe("transitionEnd",()=>{ot=!0,Sr=F.showReticleOnce,ue()},1),Hl({duration:F.transitionDuration,easing:F.transitionEasing})):(We?Promise.all([new Promise(tn=>{t.subscribe("draw",tn,1)}),new Promise(tn=>{t.subscribe("pointConnectionsDraw",tn,1)})]).then(ue):t.subscribe("draw",ue,1),ot=!0,Sr=F.showReticleOnce)})),Vn=d=>(...F)=>{const V=d(...F);return ot=!0,V},Mf=d=>{let F=1/0,V=-1/0,ue=1/0,Pe=-1/0;for(let We=0;We<d.length;We++){const[et,Ot]=yn.points[d[We]];F=Math.min(F,et),V=Math.max(V,et),ue=Math.min(ue,Ot),Pe=Math.max(Pe,Ot)}return{x:F,y:ue,width:V-F,height:Pe-ue}},Tu=(d,F={})=>new Promise(V=>{const ue=[d.x+d.width/2,d.y+d.height/2],Pe=2*Math.atan(1),We=d.height*gr>d.width?d.height/2/Math.tan(Pe/2):d.width/2/Math.tan(Pe*gr/2);F.transition?(ce.config({isFixed:!0}),Cf(ue,We),t.subscribe("transitionEnd",()=>{V(),ce.config({isFixed:!1})},1),Hl({duration:F.transitionDuration,easing:F.transitionEasing})):(ce.lookAt(ue,We),t.subscribe("draw",V,1),ot=!0)}),uo=(d,F={})=>{if(!kr)return Promise.reject(new Error(S3));const V=Mf(d),ue=V.x+V.width/2,Pe=V.y+V.height/2,We=uf(),et=1+(F.padding||0),Ot=Math.max(V.width,We)*et,tn=Math.max(V.height,We)*et,Qt=ue-Ot/2,Bn=Pe-tn/2;return Tu({x:Qt,y:Bn,width:Ot,height:tn},F)},Au=(d,F,V={})=>new Promise(ue=>{V.transition?(ce.config({isFixed:!0}),Cf(d,F),t.subscribe("transitionEnd",()=>{ue(),ce.config({isFixed:!1})},1),Hl({duration:V.transitionDuration,easing:V.transitionEasing})):(ce.lookAt(d,F),t.subscribe("draw",ue,1),ot=!0)}),If=(d={})=>Au([0,0],1,d),A1=d=>{if(!kr)throw new Error(S3);const F=yn.points[d];if(!F)return;const V=[F[0],F[1],0,1];Cr(n,gt,Cr(n,ce.view,wt)),md(V,V,n);const ue=ln*(V[0]+1)/2,Pe=en*(.5-V[1]/2);return[ue,Pe]},Cu=()=>{Ut.setStyle({color:ou(at,lt,ye),opacity:se===null?null:se[0],width:Tt[0]})},Df=()=>{const d=Math.round(Fe)>.5?0:255;Un.initiator.style.border=`1px dashed rgba(${d}, ${d}, ${d}, 0.33)`,Un.initiator.style.background=`rgba(${d}, ${d}, ${d}, 0.1)`},Ff=()=>{const d=Math.round(Fe)>.5?0:255;Un.longPressIndicator.style.color=`rgb(${d}, ${d}, ${d})`,Un.longPressIndicator.dataset.color=`rgb(${d}, ${d}, ${d})`;const F=c.map(V=>Math.round(V*255));Un.longPressIndicator.dataset.activeColor=`rgb(${F[0]}, ${F[1]}, ${F[2]})`},Lu=d=>{d&&(a=Ir(d,!0),Fe=L3(a),Df(),Ff())},$f=d=>{d?dv(d)?T3(o.regl,d).then(F=>{l=F,ot=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${d}`),l=null}):d._reglType==="texture2d"?l=d:l=null:l=null},C1=d=>{d>0&&ce.lookAt(ce.target,d,ce.rotation)},Bf=d=>{d!==null&&ce.lookAt(ce.target,ce.distance[0],d)},jf=d=>{d&&ce.lookAt(d,ce.distance[0],ce.rotation)},zf=d=>{d&&ce.setView(d)},Wl=d=>{if(!d)return;c=Ir(d,!0),xt.setStyle({color:c});const F=c.map(V=>Math.round(V*255));Un.longPressIndicator.dataset.activeColor=`rgb(${F[0]}, ${F[1]}, ${F[2]})`},L1=d=>{Number.isNaN(+d)||+d<1||(m=+d,xt.setStyle({width:m}))},ji=d=>{+d&&(v=+d,Un.set({minDelay:v}))},Xl=d=>{+d&&(S=+d,Un.set({minDist:S}))},Gf=d=>{L=b3(FE,L)(d)},Uf=d=>{g=!!d,Un.set({enableInitiator:g})},Vf=d=>{_=d,Un.set({startInitiatorParentElement:_})},Hf=d=>{y=!!d},Wf=d=>{O=Number(d)},Xf=d=>{D=Number(d)},Yf=d=>{U=Number(d)},qf=d=>{ee=Number(d)},Qf=d=>{K=Object.entries(d).reduce((F,[V,ue])=>(WE.includes(V)&&HE.includes(ue)&&(F[V]=ue),F),{}),Rn=C3(K),Rn[Jd]?ce.config({isRotate:!0,mouseDownMoveModKey:Rn[Jd]}):ce.config({isRotate:!1})},Yr=d=>{He=b3(ME,I2)(d),ce.config({defaultMouseDownMoveAction:He===g8?"rotate":"pan"})},Kf=d=>{d!==null&&(ve=d)},R1=d=>{d&&(Re=Ir(d,!0),Et.setStyle({color:Re}),kt.setStyle({color:Re}))},Ei=d=>{d&&(nr=d,No=d.domain()[0],Ol=d?d.domain()[1]-d.domain()[0]:0,nr.range([0,ln]),io())},Ru=d=>{d&&($n=d,kl=$n.domain()[0],Pl=$n?$n.domain()[1]-$n.domain()[0]:0,$n.range([en,0]),io())},co=d=>{f=!!d},Yl=d=>{h=!!d},Zf=d=>{Lt=!!d,Lt?Oa(yn.points[0])&&jo(eu()).then(()=>{t.publish("pointConnectionsDraw"),ot=!0}):jo()},ql=(d,F)=>V=>{if(V==="inherit")d([...F()]);else{const ue=Ko(V)?V:[V];d(ue.map(Pe=>Ir(Pe,!0)))}Cu()},Jf=ql(d=>{at=d},()=>Oe),e0=ql(d=>{lt=d},()=>Je),t0=ql(d=>{ye=d},()=>De),O1=d=>{qo(d,Qo,{minLength:1})&&(se=[...d]),H0(+d)&&(se=[+d]),at=at.map(F=>(F[3]=Number.isNaN(+se[0])?F[3]:+se[0],F)),Cu()},k1=d=>{!Number.isNaN(+d)&&+d&&(rt=+d)},P1=d=>{qo(d,Qo,{minLength:1})&&(Tt=[...d]),H0(+d)&&(Tt=[+d]),Cu()},N1=d=>{!Number.isNaN(+d)&&+d&&(Pt=Math.max(0,d))},M1=d=>{Bt=Math.max(0,d)},I1=d=>{yt=Math.max(0,d)},D1=d=>{Yt=d,Bi()},n0=d=>{st=+d},r0=d=>{At=+d},F1=d=>{Nt=+d},$1=d=>{o.gamma=d},Ou=d=>{if(im({property:!0}),d==="aspectRatio")return te;if(d==="background"||d==="backgroundColor")return a;if(d==="backgroundImage")return l;if(d==="camera")return ce;if(d==="cameraTarget")return ce.target;if(d==="cameraDistance")return ce.distance[0];if(d==="cameraRotation")return ce.rotation;if(d==="cameraView")return ce.view;if(d==="canvas")return s;if(d==="colorBy")return u;if(d==="sizeBy")return Ct;if(d==="deselectOnDblClick")return f;if(d==="deselectOnEscape")return h;if(d==="height")return Ke;if(d==="lassoColor")return c;if(d==="lassoLineWidth")return m;if(d==="lassoMinDelay")return v;if(d==="lassoMinDist")return S;if(d==="lassoClearEvent")return L;if(d==="lassoInitiator")return g;if(d==="lassoInitiatorElement")return Un.initiator;if(d==="lassoInitiatorParentElement")return _;if(d==="keyMap")return{...K};if(d==="mouseMode")return He;if(d==="opacity")return Ft.length===1?Ft[0]:Ft;if(d==="opacityBy")return Jt;if(d==="opacityByDensityFill")return st;if(d==="opacityByDensityDebounceTime")return E;if(d==="opacityInactiveMax")return At;if(d==="opacityInactiveScale")return Nt;if(d==="points")return yn.points;if(d==="hoveredPoint")return Qn;if(d==="selectedPoints")return[...Ie];if(d==="filteredPoints")return $t?Array.from(dn):Array.from({length:yn.points.length},(F,V)=>V);if(d==="pointsInView")return Ba();if(d==="pointColor")return Oe.length===1?Oe[0]:Oe;if(d==="pointColorActive")return Je.length===1?Je[0]:Je;if(d==="pointColorHover")return De.length===1?De[0]:De;if(d==="pointOutlineWidth")return cn;if(d==="pointSize")return It.length===1?It[0]:It;if(d==="pointSizeSelected")return zt;if(d==="pointSizeMouseDetection")return Yt;if(d==="showPointConnections")return Lt;if(d==="pointConnectionColor")return at.length===1?at[0]:at;if(d==="pointConnectionColorActive")return lt.length===1?lt[0]:lt;if(d==="pointConnectionColorHover")return ye.length===1?ye[0]:ye;if(d==="pointConnectionColorBy")return Le;if(d==="pointConnectionOpacity")return se.length===1?se[0]:se;if(d==="pointConnectionOpacityBy")return Te;if(d==="pointConnectionOpacityActive")return rt;if(d==="pointConnectionSize")return Tt.length===1?Tt[0]:Tt;if(d==="pointConnectionSizeActive")return Pt;if(d==="pointConnectionSizeBy")return Zt;if(d==="pointConnectionMaxIntPointsPerSegment")return Bt;if(d==="pointConnectionTolerance")return yt;if(d==="reticleColor")return Re;if(d==="regl")return o.regl;if(d==="showReticle")return ve;if(d==="version")return Ib;if(d==="width")return Gt;if(d==="xScale")return nr;if(d==="yScale")return $n;if(d==="performanceMode")return qn;if(d==="gamma")return o.gamma;if(d==="renderer")return o;if(d==="isDestroyed")return he;if(d==="isPointsDrawn")return kr;if(d==="isPointsFiltered")return $t;if(d==="zDataType")return Fi;if(d==="wDataType")return no},ja=(d={})=>(im(d),(d.backgroundColor!==void 0||d.background!==void 0)&&Lu(d.backgroundColor||d.background),d.backgroundImage!==void 0&&$f(d.backgroundImage),d.cameraTarget!==void 0&&jf(d.cameraTarget),d.cameraDistance!==void 0&&C1(d.cameraDistance),d.cameraRotation!==void 0&&Bf(d.cameraRotation),d.cameraView!==void 0&&zf(d.cameraView),d.colorBy!==void 0&&hf(d.colorBy),d.pointColor!==void 0&&e1(d.pointColor),d.pointColorActive!==void 0&&t1(d.pointColorActive),d.pointColorHover!==void 0&&$i(d.pointColorHover),d.pointSize!==void 0&&ff(d.pointSize),d.pointSizeSelected!==void 0&&Fo(d.pointSizeSelected),d.pointSizeMouseDetection!==void 0&&D1(d.pointSizeMouseDetection),d.sizeBy!==void 0&&a1(d.sizeBy),d.opacity!==void 0&&i1(d.opacity),d.showPointConnections!==void 0&&Zf(d.showPointConnections),d.pointConnectionColor!==void 0&&Jf(d.pointConnectionColor),d.pointConnectionColorActive!==void 0&&e0(d.pointConnectionColorActive),d.pointConnectionColorHover!==void 0&&t0(d.pointConnectionColorHover),d.pointConnectionColorBy!==void 0&&pf(d.pointConnectionColorBy),d.pointConnectionOpacityBy!==void 0&&vn(d.pointConnectionOpacityBy),d.pointConnectionOpacity!==void 0&&O1(d.pointConnectionOpacity),d.pointConnectionOpacityActive!==void 0&&k1(d.pointConnectionOpacityActive),d.pointConnectionSize!==void 0&&P1(d.pointConnectionSize),d.pointConnectionSizeActive!==void 0&&N1(d.pointConnectionSizeActive),d.pointConnectionSizeBy!==void 0&&mf(d.pointConnectionSizeBy),d.pointConnectionMaxIntPointsPerSegment!==void 0&&M1(d.pointConnectionMaxIntPointsPerSegment),d.pointConnectionTolerance!==void 0&&I1(d.pointConnectionTolerance),d.opacityBy!==void 0&&o1(d.opacityBy),d.lassoColor!==void 0&&Wl(d.lassoColor),d.lassoLineWidth!==void 0&&L1(d.lassoLineWidth),d.lassoMinDelay!==void 0&&ji(d.lassoMinDelay),d.lassoMinDist!==void 0&&Xl(d.lassoMinDist),d.lassoClearEvent!==void 0&&Gf(d.lassoClearEvent),d.lassoInitiator!==void 0&&Uf(d.lassoInitiator),d.lassoInitiatorParentElement!==void 0&&Vf(d.lassoInitiatorParentElement),d.lassoOnLongPress!==void 0&&Hf(d.lassoOnLongPress),d.lassoLongPressTime!==void 0&&Wf(d.lassoLongPressTime),d.lassoLongPressAfterEffectTime!==void 0&&Xf(d.lassoLongPressAfterEffectTime),d.lassoLongPressEffectDelay!==void 0&&Yf(d.lassoLongPressEffectDelay),d.lassoLongPressRevertEffectTime!==void 0&&qf(d.lassoLongPressRevertEffectTime),d.keyMap!==void 0&&Qf(d.keyMap),d.mouseMode!==void 0&&Yr(d.mouseMode),d.showReticle!==void 0&&Kf(d.showReticle),d.reticleColor!==void 0&&R1(d.reticleColor),d.pointOutlineWidth!==void 0&&df(d.pointOutlineWidth),d.height!==void 0&&r1(d.height),d.width!==void 0&&uu(d.width),d.aspectRatio!==void 0&&Jh(d.aspectRatio),d.xScale!==void 0&&Ei(d.xScale),d.yScale!==void 0&&Ru(d.yScale),d.deselectOnDblClick!==void 0&&co(d.deselectOnDblClick),d.deselectOnEscape!==void 0&&Yl(d.deselectOnEscape),d.opacityByDensityFill!==void 0&&n0(d.opacityByDensityFill),d.opacityInactiveMax!==void 0&&r0(d.opacityInactiveMax),d.opacityInactiveScale!==void 0&&F1(d.opacityInactiveScale),d.gamma!==void 0&&$1(d.gamma),new Promise(F=>{window.requestAnimationFrame(()=>{s&&(lu(),ce.refresh(),o.refresh(),ot=!0,F())})})),B1=(d,{preventEvent:F=!1}={})=>{zf(d),ot=!0,tr=F},i0=()=>{ce||(ce=iE(s,{isPanInverted:[!1,!0]})),e.cameraView?ce.setView(d3(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?ce.lookAt([...e.cameraTarget||gS],e.cameraDistance||yS,e.cameraRotation||xS):ce.setView(d3(_S)),sr=Hr(1,1),An=Hr(-1,-1)},j1=({preventEvent:d=!1}={})=>{i0(),io(),!d&&t.publish("view",{view:ce.view,camera:ce,xScale:nr,yScale:$n})},o0=({key:d})=>{switch(d){case"Escape":h&&Il();break}},a0=()=>{ai=!0,Di=!0},ku=()=>{ka(),ai=!1,Di=!0,ot=!0},l0=()=>{ot=!0},z1=()=>{Fa([]),Ut.clear()},za=()=>{ce.refresh();const d=Gt===Xi,F=Ke===Xi;if(d||F){const{width:V,height:ue}=s.getBoundingClientRect();d&&wi(V),F&&oo(ue),lu(),ot=!0}},G1=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),U1=()=>{lu(),i0(),io(),xt=V0(o.regl,{color:c,width:m,is2d:!0}),Ut=V0(o.regl,{color:at,colorHover:ye,colorActive:lt,opacity:se===null?null:se[0],width:Tt[0],widthActive:Pt,is2d:!0}),Et=V0(o.regl,{color:Re,width:1,is2d:!0}),kt=V0(o.regl,{color:Re,width:1,is2d:!0}),Bi(),s.addEventListener("wheel",l0),Vr=o.regl.buffer(),La=o.regl.buffer(),xi=o.regl.buffer({usage:"dynamic",type:"float",length:NE*2}),Oo=au(),Rl=Bl();const d=ja({backgroundImage:l,width:Gt,height:Ke,keyMap:K});Df(),Ff(),window.addEventListener("keyup",o0,!1),window.addEventListener("blur",Na,!1),window.addEventListener("mouseup",iu,!1),window.addEventListener("mousemove",_i,!1),s.addEventListener("mousedown",ru,!1),s.addEventListener("mouseenter",a0,!1),s.addEventListener("mouseleave",ku,!1),s.addEventListener("click",Fl,!1),s.addEventListener("dblclick",$l,!1),"ResizeObserver"in window?(Ro=new ResizeObserver(za),Ro.observe(s)):(window.addEventListener("resize",za),window.addEventListener("orientationchange",za)),d.then(()=>{t.publish("init")})},Uo=o.onFrame(()=>{Js=ce.tick(),!(!kr||!(ot||to))&&(to&&!Pf(Ks,Zs)&&Nf(),Js&&(sr=Hr(1,1),An=Hr(-1,-1),Jt==="density"&&zo()),o.render(()=>{const d=s.width/o.canvas.width,F=s.height/o.canvas.height;Zh(d,F),l&&l._reglType&&v1(),lr.length>2&&Eu(),to||Ut.draw({projection:gf(),model:Ma(),view:Ul()}),f1(),!dt&&(ve||Sr)&&g1(),Qn>=0&&d1(),Ie.length&&m1(),xt.draw({projection:gf(),model:Ma(),view:Ul()})},s),Js&&(io(),tr?tr=!1:t.publish("view",{view:ce.view,camera:ce,xScale:nr,yScale:$n})),ot=!1,Sr=!1,t.publish("draw"))}),V1=()=>{ot=!0},H1=()=>{kr=!1,he=!0,Uo(),window.removeEventListener("keyup",o0,!1),window.removeEventListener("blur",Na,!1),window.removeEventListener("mouseup",iu,!1),window.removeEventListener("mousemove",_i,!1),s.removeEventListener("mousedown",ru,!1),s.removeEventListener("mouseenter",a0,!1),s.removeEventListener("mouseleave",ku,!1),s.removeEventListener("click",Fl,!1),s.removeEventListener("dblclick",$l,!1),s.removeEventListener("wheel",l0,!1),Ro?Ro.disconnect():(window.removeEventListener("resize",za),window.removeEventListener("orientationchange",za)),s=void 0,ce.dispose(),ce=void 0,xt.destroy(),Un.destroy(),Ut.destroy(),Et.destroy(),kt.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return U1(),{get isSupported(){return o.isSupported},clear:Vn(z1),createTextureFromUrl:(d,F=z2)=>T3(o.regl,d,F),deselect:Il,destroy:H1,draw:Go,filter:Lf,get:Ou,getScreenPosition:A1,hover:ka,redraw:V1,refresh:o.refresh,reset:Vn(j1),select:Io,set:ja,export:G1,subscribe:t.subscribe,unfilter:$a,unsubscribe:t.unsubscribe,view:B1,zoomToLocation:Au,zoomToArea:Tu,zoomToPoints:uo,zoomToOrigin:If}};function vd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fb(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T8(e){let t,n,r;e.length!==2?(t=vd,n=(l,s)=>vd(e(l),s),r=(l,s)=>e(l)-s):(t=e===vd||e===Fb?e:$b,n=e,r=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<0?u=h+1:f=h}while(u<f)}return u}function o(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function a(l,s,u=0,f=l.length){const h=i(l,s,u,f-1);return h>u&&r(l[h-1],s)>-r(l[h],s)?h-1:h}return{left:i,center:a,right:o}}function $b(){return 0}function Bb(e){return e===null?NaN:+e}const jb=T8(vd),zb=jb.right;T8(Bb).center;const Gb=zb;function A8(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Ub extends Map{constructor(t,n=Wb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(O3(this,t))}has(t){return super.has(O3(this,t))}set(t,n){return super.set(Vb(this,t),n)}delete(t){return super.delete(Hb(this,t))}}function O3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Vb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hb({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Wb(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xb(e){return e}function Yb(e,...t){return qb(e,Array.from,Xb,t)}function qb(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new Ub,s=r[a++];let u=-1;for(const f of o){const h=s(f,++u,o),c=l.get(h);c?c.push(f):l.set(h,[f])}for(const[f,h]of l)l.set(f,i(h,a));return t(l)}(e,0)}const Qb=Math.sqrt(50),Kb=Math.sqrt(10),Zb=Math.sqrt(2);function nh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Qb?10:o>=Kb?5:o>=Zb?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?nh(e,t,n*2):[l,s,u]}function hv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?nh(t,e,n):nh(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)s[u]=(o-u)/-a;else for(let u=0;u<l;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function pv(e,t,n){return t=+t,e=+e,n=+n,nh(e,t,n)[2]}function Jb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pv(t,e,n):pv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function eT(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function G2(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function tT(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function Mh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function U2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qs(){}var vl=.7,js=1/vl,Os="\\s*([+-]?\\d+)\\s*",Fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nT=/^#([0-9a-f]{3,8})$/,rT=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),iT=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),oT=new RegExp(`^rgba\\(${Os},${Os},${Os},${Fc}\\)$`),aT=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Fc}\\)$`),lT=new RegExp(`^hsl\\(${Fc},${Ki},${Ki}\\)$`),sT=new RegExp(`^hsla\\(${Fc},${Ki},${Ki},${Fc}\\)$`),k3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mh(Qs,gl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:P3,formatHex:P3,formatHex8:uT,formatHsl:cT,formatRgb:N3,toString:N3});function P3(){return this.rgb().formatHex()}function uT(){return this.rgb().formatHex8()}function cT(){return L8(this).formatHsl()}function N3(){return this.rgb().formatRgb()}function gl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?M3(t):n===3?new wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?X0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?X0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rT.exec(e))?new wr(t[1],t[2],t[3],1):(t=iT.exec(e))?new wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oT.exec(e))?X0(t[1],t[2],t[3],t[4]):(t=aT.exec(e))?X0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lT.exec(e))?F3(t[1],t[2]/100,t[3]/100,1):(t=sT.exec(e))?F3(t[1],t[2]/100,t[3]/100,t[4]):k3.hasOwnProperty(e)?M3(k3[e]):e==="transparent"?new wr(NaN,NaN,NaN,0):null}function M3(e){return new wr(e>>16&255,e>>8&255,e&255,1)}function X0(e,t,n,r){return r<=0&&(e=t=n=NaN),new wr(e,t,n,r)}function C8(e){return e instanceof Qs||(e=gl(e)),e?(e=e.rgb(),new wr(e.r,e.g,e.b,e.opacity)):new wr}function $c(e,t,n,r){return arguments.length===1?C8(e):new wr(e,t,n,r??1)}function wr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Mh(wr,$c,U2(Qs,{brighter(e){return e=e==null?js:Math.pow(js,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vl:Math.pow(vl,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wr(ll(this.r),ll(this.g),ll(this.b),rh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I3,formatHex:I3,formatHex8:fT,formatRgb:D3,toString:D3}));function I3(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function fT(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function D3(){const e=rh(this.opacity);return`${e===1?"rgb(":"rgba("}${ll(this.r)}, ${ll(this.g)}, ${ll(this.b)}${e===1?")":`, ${e})`}`}function rh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=ll(e),(e<16?"0":"")+e.toString(16)}function F3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oi(e,t,n,r)}function L8(e){if(e instanceof Oi)return new Oi(e.h,e.s,e.l,e.opacity);if(e instanceof Qs||(e=gl(e)),!e)return new Oi;if(e instanceof Oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new Oi(a,l,s,e.opacity)}function dT(e,t,n,r){return arguments.length===1?L8(e):new Oi(e,t,n,r??1)}function Oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mh(Oi,dT,U2(Qs,{brighter(e){return e=e==null?js:Math.pow(js,e),new Oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vl:Math.pow(vl,e),new Oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wr(am(e>=240?e-240:e+120,i,r),am(e,i,r),am(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Oi($3(this.h),Y0(this.s),Y0(this.l),rh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rh(this.opacity);return`${e===1?"hsl(":"hsla("}${$3(this.h)}, ${Y0(this.s)*100}%, ${Y0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $3(e){return e=(e||0)%360,e<0?e+360:e}function Y0(e){return Math.max(0,Math.min(1,e||0))}function am(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hT=Math.PI/180,pT=180/Math.PI;var R8=-.14861,V2=1.78277,H2=-.29227,Ih=-.90649,Bc=1.97294,B3=Bc*Ih,j3=Bc*V2,z3=V2*H2-Ih*R8;function mT(e){if(e instanceof sl)return new sl(e.h,e.s,e.l,e.opacity);e instanceof wr||(e=C8(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(z3*r+B3*t-j3*n)/(z3+B3-j3),o=r-i,a=(Bc*(n-i)-H2*o)/Ih,l=Math.sqrt(a*a+o*o)/(Bc*i*(1-i)),s=l?Math.atan2(a,o)*pT-120:NaN;return new sl(s<0?s+360:s,l,i,e.opacity)}function xa(e,t,n,r){return arguments.length===1?mT(e):new sl(e,t,n,r??1)}function sl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mh(sl,xa,U2(Qs,{brighter(e){return e=e==null?js:Math.pow(js,e),new sl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vl:Math.pow(vl,e),new sl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*hT,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wr(255*(t+n*(R8*r+V2*i)),255*(t+n*(H2*r+Ih*i)),255*(t+n*(Bc*r)),this.opacity)}}));const Dh=e=>()=>e;function O8(e,t){return function(n){return e+n*t}}function vT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gT(e,t){var n=t-e;return n?O8(e,n>180||n<-180?n-360*Math.round(n/360):n):Dh(isNaN(e)?t:e)}function yT(e){return(e=+e)==1?ks:function(t,n){return n-t?vT(t,n,e):Dh(isNaN(t)?n:t)}}function ks(e,t){var n=t-e;return n?O8(e,n):Dh(isNaN(e)?t:e)}const ih=function e(t){var n=yT(t);function r(i,o){var a=n((i=$c(i)).r,(o=$c(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),u=ks(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function xT(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function _T(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wT(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Fh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function ET(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ri(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ST(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Fh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lm=new RegExp(mv.source,"g");function bT(e){return function(){return e}}function TT(e){return function(t){return e(t)+""}}function k8(e,t){var n=mv.lastIndex=lm.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=mv.exec(e))&&(i=lm.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:Ri(r,i)})),n=lm.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?TT(s[0].x):bT(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)l[(h=s[f]).i]=h.x(u);return l.join("")})}function Fh(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dh(t):(n==="number"?Ri:n==="string"?(r=gl(t))?(t=r,ih):k8:t instanceof gl?ih:t instanceof Date?ET:_T(t)?xT:Array.isArray(t)?wT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ST:Ri)(e,t)}function P8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var G3=180/Math.PI,vv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function N8(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*G3,skewX:Math.atan(s)*G3,scaleX:a,scaleY:l}}var q0;function AT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vv:N8(t.a,t.b,t.c,t.d,t.e,t.f)}function CT(e){return e==null||(q0||(q0=document.createElementNS("http://www.w3.org/2000/svg","g")),q0.setAttribute("transform",e),!(e=q0.transform.baseVal.consolidate()))?vv:(e=e.matrix,N8(e.a,e.b,e.c,e.d,e.e,e.f))}function M8(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,c,m,v){if(u!==h||f!==c){var S=m.push("translate(",null,t,null,n);v.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h||c)&&m.push("translate("+h+t+c+n)}function a(u,f,h,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ri(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(u,f,h,c){u!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ri(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function s(u,f,h,c,m,v){if(u!==h||f!==c){var S=m.push(i(m)+"scale(",null,",",null,")");v.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h!==1||c!==1)&&m.push(i(m)+"scale("+h+","+c+")")}return function(u,f){var h=[],c=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,c),a(u.rotate,f.rotate,h,c),l(u.skewX,f.skewX,h,c),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,c),u=f=null,function(m){for(var v=-1,S=c.length,L;++v<S;)h[(L=c[v]).i]=L.x(m);return h.join("")}}}var LT=M8(AT,"px, ","px)","deg)"),RT=M8(CT,", ",")",")");function I8(e){return function t(n){n=+n;function r(i,o){var a=e((i=xa(i)).h,(o=xa(o)).h),l=ks(i.s,o.s),s=ks(i.l,o.l),u=ks(i.opacity,o.opacity);return function(f){return i.h=a(f),i.s=l(f),i.l=s(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}I8(gT);var D8=I8(ks);function OT(e){return function(){return e}}function kT(e){return+e}var U3=[0,1];function la(e){return e}function gv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:OT(isNaN(t)?NaN:.5)}function PT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function NT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=gv(i,r),o=n(a,o)):(r=gv(r,i),o=n(o,a)),function(l){return o(r(l))}}function MT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=gv(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var s=Gb(e,l,1,r)-1;return o[s](i[s](l))}}function W2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X2(){var e=U3,t=U3,n=Fh,r,i,o,a=la,l,s,u;function f(){var c=Math.min(e.length,t.length);return a!==la&&(a=PT(e[0],e[c-1])),l=c>2?MT:NT,s=u=null,h}function h(c){return c==null||isNaN(c=+c)?o:(s||(s=l(e.map(r),t,n)))(r(a(c)))}return h.invert=function(c){return a(i((u||(u=l(t,e.map(r),Ri)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,kT),f()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=P8,f()},h.clamp=function(c){return arguments.length?(a=c?!0:la,f()):a!==la},h.interpolate=function(c){return arguments.length?(n=c,f()):n},h.unknown=function(c){return arguments.length?(o=c,h):o},function(c,m){return r=c,i=m,f()}}function IT(){return X2()(la,la)}function DT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zs(e){return e=oh(Math.abs(e)),e?e[1]:NaN}function FT(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function $T(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var BT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jc(e){if(!(t=BT.exec(e)))throw new Error("invalid format: "+e);var t;return new Y2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jc.prototype=Y2.prototype;function Y2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var F8;function zT(e,t){var n=oh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(F8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+oh(e,Math.max(0,t+o-1))[0]}function V3(e,t){var n=oh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const H3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:DT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>V3(e*100,t),r:V3,s:zT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function W3(e){return e}var X3=Array.prototype.map,Y3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GT(e){var t=e.grouping===void 0||e.thousands===void 0?W3:FT(X3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?W3:$T(X3.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=jc(h);var c=h.fill,m=h.align,v=h.sign,S=h.symbol,L=h.zero,g=h.width,_=h.comma,y=h.precision,O=h.trim,D=h.type;D==="n"?(_=!0,D="g"):H3[D]||(y===void 0&&(y=12),O=!0,D="g"),(L||c==="0"&&m==="=")&&(L=!0,c="0",m="=");var U=S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",ee=S==="$"?r:/[%p]/.test(D)?a:"",K=H3[D],He=/[defgprs%]/.test(D);y=y===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function ve(Re){var Oe=U,Je=ee,De,Lt,at;if(D==="c")Je=K(Re)+Je,Re="";else{Re=+Re;var lt=Re<0||1/Re<0;if(Re=isNaN(Re)?s:K(Math.abs(Re),y),O&&(Re=jT(Re)),lt&&+Re==0&&v!=="+"&&(lt=!1),Oe=(lt?v==="("?v:l:v==="-"||v==="("?"":v)+Oe,Je=(D==="s"?Y3[8+F8/3]:"")+Je+(lt&&v==="("?")":""),He){for(De=-1,Lt=Re.length;++De<Lt;)if(at=Re.charCodeAt(De),48>at||at>57){Je=(at===46?i+Re.slice(De+1):Re.slice(De))+Je,Re=Re.slice(0,De);break}}}_&&!L&&(Re=t(Re,1/0));var ye=Oe.length+Re.length+Je.length,Le=ye<g?new Array(g-ye+1).join(c):"";switch(_&&L&&(Re=t(Le+Re,Le.length?g-Je.length:1/0),Le=""),m){case"<":Re=Oe+Re+Je+Le;break;case"=":Re=Oe+Le+Re+Je;break;case"^":Re=Le.slice(0,ye=Le.length>>1)+Oe+Re+Je+Le.slice(ye);break;default:Re=Le+Oe+Re+Je;break}return o(Re)}return ve.toString=function(){return h+""},ve}function f(h,c){var m=u((h=jc(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(zs(c)/3)))*3,S=Math.pow(10,-v),L=Y3[8+v/3];return function(g){return m(S*g)+L}}return{format:u,formatPrefix:f}}var Q0,q2,$8;UT({thousands:",",grouping:[3],currency:["$",""]});function UT(e){return Q0=GT(e),q2=Q0.format,$8=Q0.formatPrefix,Q0}function VT(e){return Math.max(0,-zs(Math.abs(e)))}function HT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zs(t)/3)))*3-zs(Math.abs(e)))}function WT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zs(t)-zs(e))+1}function XT(e,t,n,r){var i=Jb(e,t,n),o;switch(r=jc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=HT(i,a))&&(r.precision=o),$8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=WT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=VT(i))&&(r.precision=o-(r.type==="%")*2);break}}return q2(r)}function Q2(e){var t=e.domain;return e.ticks=function(n){var r=t();return hv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return XT(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=o,o=u);f-- >0;){if(u=pv(a,l,n),u===s)return r[i]=a,r[o]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function zc(){var e=IT();return e.copy=function(){return W2(e,zc())},G2.apply(e,arguments),Q2(e)}function YT(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function q3(e){return Math.log(e)}function Q3(e){return Math.exp(e)}function qT(e){return-Math.log(-e)}function QT(e){return-Math.exp(-e)}function KT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZT(e){return e===10?KT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function JT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function K3(e){return(t,n)=>-e(-t,n)}function eA(e){const t=e(q3,Q3),n=t.domain;let r=10,i,o;function a(){return i=JT(r),o=ZT(r),n()[0]<0?(i=K3(i),o=K3(o),e(qT,QT)):e(q3,Q3),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const s=n();let u=s[0],f=s[s.length-1];const h=f<u;h&&([u,f]=[f,u]);let c=i(u),m=i(f),v,S;const L=l==null?10:+l;let g=[];if(!(r%1)&&m-c<L){if(c=Math.floor(c),m=Math.ceil(m),u>0){for(;c<=m;++c)for(v=1;v<r;++v)if(S=c<0?v/o(-c):v*o(c),!(S<u)){if(S>f)break;g.push(S)}}else for(;c<=m;++c)for(v=r-1;v>=1;--v)if(S=c>0?v/o(-c):v*o(c),!(S<u)){if(S>f)break;g.push(S)}g.length*2<L&&(g=hv(u,f,L))}else g=hv(c,m,Math.min(m-c,L)).map(o);return h?g.reverse():g},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=jc(s)).precision==null&&(s.trim=!0),s=q2(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?s(f):""}},t.nice=()=>n(YT(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function K2(){const e=eA(X2()).domain([1,10]);return e.copy=()=>W2(e,K2()).base(e.base()),G2.apply(e,arguments),e}function Z3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function J3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tA(e){var t=1,n=e(Z3(t),J3(t));return n.constant=function(r){return arguments.length?e(Z3(t=+r),J3(t)):t},Q2(n)}function B8(){var e=tA(X2());return e.copy=function(){return W2(e,B8()).constant(e.constant())},G2.apply(e,arguments)}function nA(){var e=0,t=1,n,r,i,o,a=la,l=!1,s;function u(h){return h==null||isNaN(h=+h)?s:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function f(h){return function(c){var m,v;return arguments.length?([m,v]=c,a=h(m,v),u):[a(0),a(1)]}}return u.range=f(Fh),u.rangeRound=f(P8),u.unknown=function(h){return arguments.length?(s=h,u):s},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function rA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yv(){var e=Q2(nA()(la));return e.copy=function(){return rA(e,yv())},tT.apply(e,arguments)}function $h(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}D8(xa(-100,.75,.35),xa(80,1.5,.8));var iA=D8(xa(260,.75,.35),xa(80,1.5,.8));xa();function Bh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Bh($h("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var oA=Bh($h("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Bh($h("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Bh($h("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const aA="_scatter_lrznx_2",lA={scatter:aA};Z2.propTypes={points:nt.array.isRequired,colors:nt.array,width:nt.number.isRequired,height:nt.number.isRequired,pointScale:nt.number,colorScaleType:nt.oneOf(["categorical","continuous"]),colorInterpolator:nt.func,opacityBy:nt.string,duration:nt.number,onScatter:nt.func,onView:nt.func,onSelect:nt.func,onHover:nt.func};const sA=e=>K2().domain([100,1e6]).range([6,1]).clamp(!0)(e),uA=e=>K2().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function Z2({points:e,width:t,height:n,duration:r=0,pointScale:i=1,colorScaleType:o=null,colorInterpolator:a=iA,opacityBy:l,onScatter:s,onView:u,onSelect:f,onHover:h}){const c=P.useRef(),m=P.useRef([-1,1]),v=P.useRef([-1,1]),S=zc().domain(m.current),L=zc().domain(v.current),g=P.useRef(null);P.useEffect(()=>{const y={canvas:c.current,width:t,height:n,pointColorHover:[.1,.1,.1,.5],xScale:S,yScale:L},O=Db(y);return g.current=O,u&&u(S,L),O.subscribe("view",({camera:D,view:U,xScale:ee,yScale:K})=>{m.current=ee.domain(),v.current=K.domain(),u&&u(m.current,v.current)}),O.subscribe("select",({points:D})=>{f&&f(D)}),O.subscribe("deselect",()=>{f&&f([])}),O.subscribe("pointOver",D=>{h&&h(D)}),O.subscribe("pointOut",()=>{h&&h(null)}),s&&s(O),()=>{g.current=null,O.destroy()}},[t,n,s,u,f,h]);const _=P.useRef();return P.useEffect(()=>{const y=g.current,O=_.current;if(y&&e&&e.length){const D=sA(e.length)*i,U=uA(e.length);let ee=[250/255,128/255,114/255,1];if(o==="categorical"){const K=Yb(e.map(ve=>ve[2]),ve=>ve).map(ve=>ve[0]).sort((ve,Re)=>ve-Re),He=yv(a).domain(A8(K).reverse());ee=K.map(ve=>$c(He(ve)).hex())}else if(o==="continuous"){let K=eT(0,100);const He=yv(a).domain([0,100]);ee=K.map(ve=>$c(He(ve)).hex())}o&&y.set({colorBy:"valueA"}),l?y.set({opacityBy:l,sizeBy:l,opacity:[.1,.2,.3,.4,.5,1],pointSize:[2,4,5,6,D]}):y.set({opacity:U,pointSize:D}),O&&O.length===e.length?(console.log("transitioning scatterplot"),y.draw(e,{transition:!0,transitionDuration:r}).then(()=>{y.set({pointColor:ee}),y.draw(e,{transition:!1})})):(console.log("fresh draw scatterplot"),y.set({pointColor:ee}),y.draw(e,{transition:!1})),_.current=e}},[e,t,n,o,a,r,i]),X.jsx("canvas",{className:lA.scatter,ref:c})}const ra=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:s})=>{const u=P.useRef();return P.useEffect(()=>{if(o&&a){const f=zc().domain(o).range([0,l]),h=zc().domain(a).range([s,0]),c=L=>L/(.1+o[1]-o[0]),v=u.current.getContext("2d");v.clearRect(0,0,l,s),v.fillStyle=t,v.strokeStyle=n,v.font=`${c(r)}px monospace`,v.globalAlpha=.75;let S=c(r);if(!e.length)return;e.map(L=>{L&&(t&&v.fillRect(f(L[0])-S/2,h(L[1])-S/2,S,S),n&&v.strokeRect(f(L[0])-S/2,h(L[1])-S/2,S,S),i&&v.fillText(i,f(L[0])-S/3.2,h(L[1])+S/3.2))})}},[e,t,n,r,o,a,l,s]),X.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function as(e){return function(){return e}}const xv=Math.PI,_v=2*xv,Ja=1e-6,cA=_v-Ja;function j8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fA(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j8;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let dA=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?j8:fA(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,s=r-t,u=i-n,f=a-t,h=l-n,c=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>Ja)if(!(Math.abs(h*s-u*f)>Ja)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-l,S=s*s+u*u,L=m*m+v*v,g=Math.sqrt(S),_=Math.sqrt(c),y=o*Math.tan((xv-Math.acos((S+c-L)/(2*g*_)))/2),O=y/_,D=y/g;Math.abs(O-1)>Ja&&this._append`L${t+O*f},${n+O*h}`,this._append`A${o},${o},0,0,${+(h*m>f*v)},${this._x1=t+D*s},${this._y1=n+D*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,f=n+s,h=1^a,c=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ja||Math.abs(this._y1-f)>Ja)&&this._append`L${u},${f}`,r&&(c<0&&(c=c%_v+_v),c>cA?this._append`A${r},${r},0,1,${h},${t-l},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:c>Ja&&this._append`A${r},${r},0,${+(c>=xv)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function hA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new dA(t)}function pA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z8(e){this._context=e}z8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mA(e){return new z8(e)}function vA(e){return e[0]}function gA(e){return e[1]}function e6(e,t){var n=as(!0),r=null,i=mA,o=null,a=hA(l);e=typeof e=="function"?e:e===void 0?vA:as(e),t=typeof t=="function"?t:t===void 0?gA:as(t);function l(s){var u,f=(s=pA(s)).length,h,c=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=f;++u)!(u<f&&n(h=s[u],u,s))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+e(h,u,s),+t(h,u,s));if(m)return o=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:as(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:as(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:as(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),l):r},l}function t6(){}function G8(e){this._context=e}G8.prototype={areaStart:t6,areaEnd:t6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function n6(e){return new G8(e)}var wv="http://www.w3.org/1999/xhtml";const r6={svg:"http://www.w3.org/2000/svg",xhtml:wv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),r6.hasOwnProperty(t)?{space:r6[t],local:e}:e}function yA(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wv&&t.documentElement.namespaceURI===wv?t.createElement(e):t.createElementNS(n,e)}}function xA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function U8(e){var t=jh(e);return(t.local?xA:yA)(t)}function _A(){}function J2(e){return e==null?_A:function(){return this.querySelector(e)}}function wA(e){typeof e!="function"&&(e=J2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=new Array(a),s,u,f=0;f<a;++f)(s=o[f])&&(u=e.call(s,s.__data__,f,o))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new ri(r,this._parents)}function EA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function SA(){return[]}function V8(e){return e==null?SA:function(){return this.querySelectorAll(e)}}function bA(e){return function(){return EA(e.apply(this,arguments))}}function TA(e){typeof e=="function"?e=bA(e):e=V8(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(r.push(e.call(s,s.__data__,u,a)),i.push(s));return new ri(r,i)}function H8(e){return function(){return this.matches(e)}}function W8(e){return function(t){return t.matches(e)}}var AA=Array.prototype.find;function CA(e){return function(){return AA.call(this.children,e)}}function LA(){return this.firstElementChild}function RA(e){return this.select(e==null?LA:CA(typeof e=="function"?e:W8(e)))}var OA=Array.prototype.filter;function kA(){return Array.from(this.children)}function PA(e){return function(){return OA.call(this.children,e)}}function NA(e){return this.selectAll(e==null?kA:PA(typeof e=="function"?e:W8(e)))}function MA(e){typeof e!="function"&&(e=H8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new ri(r,this._parents)}function X8(e){return new Array(e.length)}function IA(){return new ri(this._enter||this._groups.map(X8),this._parents)}function ah(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ah.prototype={constructor:ah,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function DA(e){return function(){return e}}function FA(e,t,n,r,i,o){for(var a=0,l,s=t.length,u=o.length;a<u;++a)(l=t[a])?(l.__data__=o[a],r[a]=l):n[a]=new ah(e,o[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function $A(e,t,n,r,i,o,a){var l,s,u=new Map,f=t.length,h=o.length,c=new Array(f),m;for(l=0;l<f;++l)(s=t[l])&&(c[l]=m=a.call(s,s.__data__,l,t)+"",u.has(m)?i[l]=s:u.set(m,s));for(l=0;l<h;++l)m=a.call(e,o[l],l,o)+"",(s=u.get(m))?(r[l]=s,s.__data__=o[l],u.delete(m)):n[l]=new ah(e,o[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function BA(e){return e.__data__}function jA(e,t){if(!arguments.length)return Array.from(this,BA);var n=t?$A:FA,r=this._parents,i=this._groups;typeof e!="function"&&(e=DA(e));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],c=h.length,m=zA(e.call(f,f&&f.__data__,u,r)),v=m.length,S=l[u]=new Array(v),L=a[u]=new Array(v),g=s[u]=new Array(c);n(f,h,S,L,g,m,t);for(var _=0,y=0,O,D;_<v;++_)if(O=S[_]){for(_>=y&&(y=_+1);!(D=L[y])&&++y<v;);O._next=D||null}}return a=new ri(a,r),a._enter=l,a._exit=s,a}function zA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GA(){return new ri(this._exit||this._groups.map(X8),this._parents)}function UA(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function VA(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],h=u.length,c=l[s]=new Array(h),m,v=0;v<h;++v)(m=u[v]||f[v])&&(c[v]=m);for(;s<i;++s)l[s]=n[s];return new ri(l,this._parents)}function HA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function WA(e){e||(e=XA);function t(h,c){return h&&c?e(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new ri(i,this._parents).order()}function XA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function YA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qA(){return Array.from(this)}function QA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function KA(){let e=0;for(const t of this)++e;return e}function ZA(){return!this.node()}function JA(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function eC(e){return function(){this.removeAttribute(e)}}function tC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nC(e,t){return function(){this.setAttribute(e,t)}}function rC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function aC(e,t){var n=jh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tC:eC:typeof t=="function"?n.local?oC:iC:n.local?rC:nC)(n,t))}function Y8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lC(e){return function(){this.style.removeProperty(e)}}function sC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function uC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function cC(e,t,n){return arguments.length>1?this.each((t==null?lC:typeof t=="function"?uC:sC)(e,t,n??"")):Gs(this.node(),e)}function Gs(e,t){return e.style.getPropertyValue(t)||Y8(e).getComputedStyle(e,null).getPropertyValue(t)}function fC(e){return function(){delete this[e]}}function dC(e,t){return function(){this[e]=t}}function hC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pC(e,t){return arguments.length>1?this.each((t==null?fC:typeof t=="function"?hC:dC)(e,t)):this.node()[e]}function q8(e){return e.trim().split(/^|\s+/)}function eg(e){return e.classList||new Q8(e)}function Q8(e){this._node=e,this._names=q8(e.getAttribute("class")||"")}Q8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function K8(e,t){for(var n=eg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Z8(e,t){for(var n=eg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function mC(e){return function(){K8(this,e)}}function vC(e){return function(){Z8(this,e)}}function gC(e,t){return function(){(t.apply(this,arguments)?K8:Z8)(this,e)}}function yC(e,t){var n=q8(e+"");if(arguments.length<2){for(var r=eg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?gC:t?mC:vC)(n,t))}function xC(){this.textContent=""}function _C(e){return function(){this.textContent=e}}function wC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function EC(e){return arguments.length?this.each(e==null?xC:(typeof e=="function"?wC:_C)(e)):this.node().textContent}function SC(){this.innerHTML=""}function bC(e){return function(){this.innerHTML=e}}function TC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function AC(e){return arguments.length?this.each(e==null?SC:(typeof e=="function"?TC:bC)(e)):this.node().innerHTML}function CC(){this.nextSibling&&this.parentNode.appendChild(this)}function LC(){return this.each(CC)}function RC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OC(){return this.each(RC)}function kC(e){var t=typeof e=="function"?e:U8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function PC(){return null}function NC(e,t){var n=typeof e=="function"?e:U8(e),r=t==null?PC:typeof t=="function"?t:J2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function MC(){var e=this.parentNode;e&&e.removeChild(this)}function IC(){return this.each(MC)}function DC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $C(e){return this.select(e?FC:DC)}function BC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jC(e){return function(t){e.call(this,t,this.__data__)}}function zC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function GC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function UC(e,t,n){return function(){var r=this.__on,i,o=jC(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function VC(e,t,n){var r=zC(e+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?UC:GC,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function J8(e,t,n){var r=Y8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function HC(e,t){return function(){return J8(this,e,t)}}function WC(e,t){return function(){return J8(this,e,t.apply(this,arguments))}}function XC(e,t){return this.each((typeof t=="function"?WC:HC)(e,t))}function*YC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var e9=[null];function ri(e,t){this._groups=e,this._parents=t}function tf(){return new ri([[document.documentElement]],e9)}function qC(){return this}ri.prototype=tf.prototype={constructor:ri,select:wA,selectAll:TA,selectChild:RA,selectChildren:NA,filter:MA,data:jA,enter:IA,exit:GA,join:UA,merge:VA,selection:qC,order:HA,sort:WA,call:YA,nodes:qA,node:QA,size:KA,empty:ZA,each:JA,attr:aC,style:cC,property:pC,classed:yC,text:EC,html:AC,raise:LC,lower:OC,append:kC,insert:NC,remove:IC,clone:$C,datum:BC,on:VC,dispatch:XC,[Symbol.iterator]:YC};function i6(e){return typeof e=="string"?new ri([[document.querySelector(e)]],[document.documentElement]):new ri([[e]],e9)}var QC={value:()=>{}};function t9(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gd(n)}function gd(e){this._=e}function KC(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gd.prototype=t9.prototype={constructor:gd,on:function(e,t){var n=this._,r=KC(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=ZC(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=o6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=o6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function ZC(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function o6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=QC,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Us=0,oc=0,ec=0,n9=1e3,lh,ac,sh=0,yl=0,zh=0,Gc=typeof performance=="object"&&performance.now?performance:Date,r9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tg(){return yl||(r9(JC),yl=Gc.now()+zh)}function JC(){yl=0}function uh(){this._call=this._time=this._next=null}uh.prototype=i9.prototype={constructor:uh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?tg():+n)+(t==null?0:+t),!this._next&&ac!==this&&(ac?ac._next=this:lh=this,ac=this),this._call=e,this._time=n,Ev()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ev())}};function i9(e,t,n){var r=new uh;return r.restart(e,t,n),r}function eL(){tg(),++Us;for(var e=lh,t;e;)(t=yl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Us}function a6(){yl=(sh=Gc.now())+zh,Us=oc=0;try{eL()}finally{Us=0,nL(),yl=0}}function tL(){var e=Gc.now(),t=e-sh;t>n9&&(zh-=t,sh=e)}function nL(){for(var e,t=lh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:lh=n);ac=e,Ev(r)}function Ev(e){if(!Us){oc&&(oc=clearTimeout(oc));var t=e-yl;t>24?(e<1/0&&(oc=setTimeout(a6,e-Gc.now()-zh)),ec&&(ec=clearInterval(ec))):(ec||(sh=Gc.now(),ec=setInterval(tL,n9)),Us=1,r9(a6))}}function l6(e,t,n){var r=new uh;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var rL=t9("start","end","cancel","interrupt"),iL=[],o9=0,s6=1,Sv=2,yd=3,u6=4,bv=5,xd=6;function Gh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;oL(e,n,{name:t,index:r,group:i,on:rL,tween:iL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:o9})}function ng(e,t){var n=Ii(e,t);if(n.state>o9)throw new Error("too late; already scheduled");return n}function Ji(e,t){var n=Ii(e,t);if(n.state>yd)throw new Error("too late; already running");return n}function Ii(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oL(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=i9(o,0,n.time);function o(u){n.state=s6,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,c,m;if(n.state!==s6)return s();for(f in r)if(m=r[f],m.name===n.name){if(m.state===yd)return l6(a);m.state===u6?(m.state=xd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=xd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(l6(function(){n.state===yd&&(n.state=u6,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Sv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sv){for(n.state=yd,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=bv,1),h=-1,c=i.length;++h<c;)i[h].call(e,f);n.state===bv&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=xd,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function aL(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Sv&&r.state<bv,r.state=xd,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function lL(e){return this.each(function(){aL(this,e)})}function sL(e,t){var n,r;return function(){var i=Ji(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function uL(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ji(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function cL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ii(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?sL:uL)(n,e,t))}function rg(e,t,n){var r=e._id;return e.each(function(){var i=Ji(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ii(i,r).value[t]}}function a9(e,t){var n;return(typeof t=="number"?Ri:t instanceof gl?ih:(n=gl(t))?(t=n,ih):k8)(e,t)}function fL(e){return function(){this.removeAttribute(e)}}function dL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function pL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function mL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function vL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function gL(e,t){var n=jh(e),r=n==="transform"?RT:a9;return this.attrTween(e,typeof t=="function"?(n.local?vL:mL)(n,r,rg(this,"attr."+e,t)):t==null?(n.local?dL:fL)(n):(n.local?pL:hL)(n,r,t))}function yL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _L(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xL(e,o)),n}return i._value=t,i}function wL(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&yL(e,o)),n}return i._value=t,i}function EL(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=jh(e);return this.tween(n,(r.local?_L:wL)(r,t))}function SL(e,t){return function(){ng(this,e).delay=+t.apply(this,arguments)}}function bL(e,t){return t=+t,function(){ng(this,e).delay=t}}function TL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SL:bL)(t,e)):Ii(this.node(),t).delay}function AL(e,t){return function(){Ji(this,e).duration=+t.apply(this,arguments)}}function CL(e,t){return t=+t,function(){Ji(this,e).duration=t}}function LL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?AL:CL)(t,e)):Ii(this.node(),t).duration}function RL(e,t){if(typeof t!="function")throw new Error;return function(){Ji(this,e).ease=t}}function OL(e){var t=this._id;return arguments.length?this.each(RL(t,e)):Ii(this.node(),t).ease}function kL(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ji(this,e).ease=n}}function PL(e){if(typeof e!="function")throw new Error;return this.each(kL(this._id,e))}function NL(e){typeof e!="function"&&(e=H8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new To(r,this._parents,this._name,this._id)}function ML(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=t[l],u=n[l],f=s.length,h=a[l]=new Array(f),c,m=0;m<f;++m)(c=s[m]||u[m])&&(h[m]=c);for(;l<r;++l)a[l]=t[l];return new To(a,this._parents,this._name,this._id)}function IL(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function DL(e,t,n){var r,i,o=IL(t)?ng:Ji;return function(){var a=o(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function FL(e,t){var n=this._id;return arguments.length<2?Ii(this.node(),n).on.on(e):this.each(DL(n,e,t))}function $L(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function BL(){return this.on("end.remove",$L(this._id))}function jL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=J2(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,h,c=0;c<s;++c)(f=l[c])&&(h=e.call(f,f.__data__,c,l))&&("__data__"in f&&(h.__data__=f.__data__),u[c]=h,Gh(u[c],t,n,c,u,Ii(f,n)));return new To(o,this._parents,t,n)}function zL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=V8(e));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],u=s.length,f,h=0;h<u;++h)if(f=s[h]){for(var c=e.call(f,f.__data__,h,s),m,v=Ii(f,n),S=0,L=c.length;S<L;++S)(m=c[S])&&Gh(m,t,n,S,c,v);o.push(c),a.push(f)}return new To(o,a,t,n)}var GL=tf.prototype.constructor;function UL(){return new GL(this._groups,this._parents)}function VL(e,t){var n,r,i;return function(){var o=Gs(this,e),a=(this.style.removeProperty(e),Gs(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function l9(e){return function(){this.style.removeProperty(e)}}function HL(e,t,n){var r,i=n+"",o;return function(){var a=Gs(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function WL(e,t,n){var r,i,o;return function(){var a=Gs(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Gs(this,e))),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}function XL(e,t){var n,r,i,o="style."+t,a="end."+o,l;return function(){var s=Ji(this,e),u=s.on,f=s.value[o]==null?l||(l=l9(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),s.on=r}}function YL(e,t,n){var r=(e+="")=="transform"?LT:a9;return t==null?this.styleTween(e,VL(e,r)).on("end.style."+e,l9(e)):typeof t=="function"?this.styleTween(e,WL(e,r,rg(this,"style."+e,t))).each(XL(this._id,e)):this.styleTween(e,HL(e,r,t),n).on("end.style."+e,null)}function qL(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function QL(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&qL(e,a,n)),r}return o._value=t,o}function KL(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,QL(e,t,n??""))}function ZL(e){return function(){this.textContent=e}}function JL(e){return function(){var t=e(this);this.textContent=t??""}}function eR(e){return this.tween("text",typeof e=="function"?JL(rg(this,"text",e)):ZL(e==null?"":e+""))}function tR(e){return function(t){this.textContent=e.call(this,t)}}function nR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&tR(i)),t}return r._value=e,r}function rR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,nR(e))}function iR(){for(var e=this._name,t=this._id,n=s9(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=Ii(s,t);Gh(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new To(r,this._parents,e,n)}function oR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=Ji(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&o()})}var aR=0;function To(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function s9(){return++aR}var po=tf.prototype;To.prototype={constructor:To,select:jL,selectAll:zL,selectChild:po.selectChild,selectChildren:po.selectChildren,filter:NL,merge:ML,selection:UL,transition:iR,call:po.call,nodes:po.nodes,node:po.node,size:po.size,empty:po.empty,each:po.each,on:FL,attr:gL,attrTween:EL,style:YL,styleTween:KL,text:eR,textTween:rR,remove:BL,tween:cL,delay:TL,duration:LL,ease:OL,easeVarying:PL,end:oR,[Symbol.iterator]:po[Symbol.iterator]};function u9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function lR(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function c6(e){return 1-lR(e)}var sR={time:null,delay:0,duration:250,ease:u9};function uR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cR(e){var t,n;e instanceof To?(t=e._id,e=e._name):(t=s9(),(n=sR).time=tg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&Gh(s,e,t,u,a,n||uR(s,t));return new To(r,this._parents,e,t)}tf.prototype.interrupt=lL;tf.prototype.transition=cR;function fR(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[1]*i[0]-r[0]*i[1];return o/2}function dR(e){for(var t=-1,n=e.length,r=e[n-1],i,o,a=r[0],l=r[1],s=0;++t<n;)i=a,o=l,r=e[t],a=r[0],l=r[1],i-=a,o-=l,s+=Math.sqrt(i*i+o*o);return s}var _d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},hR=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function pR(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&hR.indexOf(e)>=0}function mR(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function vR(e){return(e|32)===97}function ls(e){return e>=48&&e<=57}function gR(e){return e>=48&&e<=57||e===43||e===45||e===46}function yR(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function wd(e){for(;e.index<e.max&&pR(e.path.charCodeAt(e.index));)e.index++}function xR(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function _R(e){var t=e.index,n=t,r=e.max,i=!1,o=!1,a=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!ls(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&ls(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&ls(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;ls(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!o&&!a){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&ls(e.path.charCodeAt(n)))for(;n<r&&ls(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function sm(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=_d[n]&&(e.result.push([t].concat(r.splice(0,_d[n]))),!!_d[n]););}function wR(e){var t=e.max,n,r,i,o,a;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=vR(n),!mR(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(o=_d[e.path[e.index].toLowerCase()],e.index++,wd(e),e.data=[],!o){sm(e);return}for(i=!1;;){for(a=o;a>0;a--){if(r&&(a===3||a===4)?xR(e):_R(e),e.err.length){sm(e);return}e.data.push(e.param),wd(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,wd(e),i=!0)}if(!i&&(e.index>=e.max||!gR(e.path.charCodeAt(e.index))))break}sm(e)}var ER=function(t){var n=new yR(t),r=n.max;for(wd(n);n.index<r&&!n.err.length;)wR(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function SR(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function Mi(){if(!(this instanceof Mi))return new Mi;this.queue=[],this.cache=null}Mi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};Mi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};Mi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};Mi.prototype.rotate=function(e,t,n){var r,i,o;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-t,-n)),this};Mi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};Mi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};Mi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=SR(this.cache,this.queue[e]);return this.cache};Mi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var c9=Mi,bR=c9,TR={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},AR=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,CR=/[\s,]+/,LR=function(t){var n=new bR,r,i;return t.split(AR).forEach(function(o){if(o.length){if(typeof TR[o]<"u"){r=o;return}switch(i=o.split(CR).map(function(a){return+a||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},vc=Math.PI*2;function f6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function RR(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,v=f*f,S=h*h,L=c*m-c*S-m*v;L<0&&(L=0),L/=c*S+m*v,L=Math.sqrt(L)*(i===o?-1:1);var g=L*a/l*h,_=L*-l/a*f,y=u*g-s*_+(e+n)/2,O=s*g+u*_+(t+r)/2,D=(f-g)/a,U=(h-_)/l,ee=(-f-g)/a,K=(-h-_)/l,He=f6(1,0,D,U),ve=f6(D,U,ee,K);return o===0&&ve>0&&(ve-=vc),o===1&&ve<0&&(ve+=vc),[y,O,He,ve]}function OR(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}var kR=function(t,n,r,i,o,a,l,s,u){var f=Math.sin(u*vc/360),h=Math.cos(u*vc/360),c=h*(t-r)/2+f*(n-i)/2,m=-f*(t-r)/2+h*(n-i)/2;if(c===0&&m===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var v=c*c/(l*l)+m*m/(s*s);v>1&&(l*=Math.sqrt(v),s*=Math.sqrt(v));var S=RR(t,n,r,i,o,a,l,s,f,h),L=[],g=S[2],_=S[3],y=Math.max(Math.ceil(Math.abs(_)/(vc/4)),1);_/=y;for(var O=0;O<y;O++)L.push(OR(g,_)),g+=_;return L.map(function(D){for(var U=0;U<D.length;U+=2){var ee=D[U+0],K=D[U+1];ee*=l,K*=s;var He=h*ee-f*K,ve=f*ee+h*K;D[U+0]=He+S[0],D[U+1]=ve+S[1]}return D})},gc=1e-10,d6=Math.PI/180;function Uc(e,t,n){if(!(this instanceof Uc))return new Uc(e,t,n);this.rx=e,this.ry=t,this.ax=n}Uc.prototype.transform=function(e){var t=Math.cos(this.ax*d6),n=Math.sin(this.ax*d6),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+o)/2;if(a<gc*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];a=Math.sqrt(a);var u=l+a/2,f=l-a/2;return this.ax=Math.abs(s)<gc&&Math.abs(u-o)<gc?90:Math.atan(Math.abs(s)>Math.abs(u-o)?(u-i)/s:s/(u-o))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(u)),this};Uc.prototype.isDegenerate=function(){return this.rx<gc*this.ry||this.ry<gc*this.rx};var PR=Uc,NR=ER,MR=LR,Aa=c9,IR=kR,DR=PR;function In(e){if(!(this instanceof In))return new In(e);var t=NR(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}In.from=function(e){if(typeof e=="string")return new In(e);if(e instanceof In){var t=new In("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return Aa().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};In.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,o,a){var l,s,u,f;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(o,r[1],!1),s=l[0]===e.calc(o,a,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],a,!1),s=l[1]===e.calc(o,a,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var h=e.toArray(),c=DR(r[1],r[2],r[3]).transform(h);if(h[0]*h[3]-h[1]*h[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===o&&r[7]===a||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":f=i>0,l=e.calc(r[1],r[2],f),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],f=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],f),s.push(l[0],l[1])}t.segments[i]=s},!0)};In.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=Aa(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};In.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var o=this.segments[r],a=o[0];a!==t||a==="m"||a==="M"?(a==="m"&&t==="z"&&(e+=" "),e+=a,n=!1):n=!0;for(var l=1;l<o.length;l++){var s=o[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=a}return e};In.prototype.translate=function(e,t){return this.__stack.push(Aa().translate(e,t||0)),this};In.prototype.scale=function(e,t){return this.__stack.push(Aa().scale(e,!t&&t!==0?e:t)),this};In.prototype.rotate=function(e,t,n){return this.__stack.push(Aa().rotate(e,t||0,n||0)),this};In.prototype.skewX=function(e){return this.__stack.push(Aa().skewX(e)),this};In.prototype.skewY=function(e){return this.__stack.push(Aa().skewY(e)),this};In.prototype.matrix=function(e){return this.__stack.push(Aa().matrix(e)),this};In.prototype.transform=function(e){return e.trim()?(this.__stack.push(MR(e)),this):this};In.prototype.round=function(e){var t=0,n=0,r=0,i=0,o;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(a){var l=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":l&&(a[1]+=r),r=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"V":case"v":l&&(a[1]+=i),i=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(a[1]+=r,a[2]+=i),r=a[1]-a[1].toFixed(e),i=a[2]-a[2].toFixed(e),t=r,n=i,a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e);return;case"A":case"a":l&&(a[6]+=r,a[7]+=i),r=a[6]-a[6].toFixed(e),i=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),a[7]=+a[7].toFixed(e);return;default:o=a.length,l&&(a[o-2]+=r,a[o-1]+=i),r=a[o-2]-a[o-2].toFixed(e),i=a[o-1]-a[o-1].toFixed(e),a.forEach(function(s,u){u&&(a[u]=+a[u].toFixed(e))});return}}),this};In.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,o=0,a=0,l=0,s=0,u,f,h;if(t||this.__evaluateStack(),n.forEach(function(c,m){var v=e(c,m,o,a);Array.isArray(v)&&(r[m]=v,i=!0);var S=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":o=c[1]+(S?o:0),a=c[2]+(S?a:0),l=o,s=a;return;case"h":case"H":o=c[1]+(S?o:0);return;case"v":case"V":a=c[1]+(S?a:0);return;case"z":case"Z":o=l,a=s;return;default:o=c[c.length-2]+(S?o:0),a=c[c.length-1]+(S?a:0)}}),!i)return this;for(h=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(f=0;f<r[u].length;f++)h.push(r[u][f]);else h.push(n[u]);return this.segments=h,this};In.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toUpperCase(),a;if(i!==o)switch(e[0]=o,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(a=1;a<e.length;a++)e[a]+=a%2?n:r}},!0),this};In.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toLowerCase(),a;if(i!==o&&!(t===0&&i==="M"))switch(e[0]=o,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(a=1;a<e.length;a++)e[a]-=a%2?n:r}},!0),this};In.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,o,a,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(o=n+e[6],a=r+e[7]):(o=e[6],a=e[7]),i=IR(n,r,o,a,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};In.prototype.unshort=function(){var e=this.segments,t,n,r,i,o;return this.iterate(function(a,l,s,u){var f=a[0],h=f.toUpperCase(),c;l&&(h==="T"?(c=f==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"q":"Q",i,o,a[1],a[2]]):h==="S"&&(c=f==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"c":"C",i,o,a[1],a[2],a[3],a[4]]))}),this};var FR=In,$R=FR;const BR=Yc($R);var um={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},jR=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function zR(e){var t=[];return e.replace(jR,function(n,r,i){var o=r.toLowerCase();for(i=UR(i),o==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),o="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===um[o])return i.unshift(r),t.push(i);if(i.length<um[o])throw new Error("malformed path data");t.push([r].concat(i.splice(0,um[o])))}}),t}var GR=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function UR(e){var t=e.match(GR);return t?t.map(Number):[]}function Ti(e,t,n,r,i,o,a,l){return new Tv(e,t,n,r,i,o,a,l)}function Tv(e,t,n,r,i,o,a,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:l},a!=null&&l!==null&&l!==void 0?(this.getArcLength=JR,this.getPoint=WR,this.getDerivative=HR):(this.getArcLength=XR,this.getPoint=f9,this.getDerivative=VR),this.init()}Tv.prototype={constructor:Tv,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=cm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=cm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=cm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:o.x,y:o.y,tangentX:i.x,tangentY:i.y}}};function VR(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function HR(e,t,n){var r=f9([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function cm(e,t,n,r,i){for(var o=1,a=e/t,l=(e-n(r,i,a))/t;o>.001;){var s=n(r,i,a+l),u=n(r,i,a-l),f=Math.abs(e-s)/t,h=Math.abs(e-u)/t;f<o?(o=f,a+=l):h<o?(o=h,a-=l):l/=2}return a}function f9(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function WR(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function XR(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],a=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*o+i*a),u=o*o+a*a;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var f=s/(2*l),h=u/l,c=n+f,m=h-f*f;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+m)-f*Math.sqrt(f*f+m)+m*Math.log(Math.abs((c+Math.sqrt(c*c+m))/(f+Math.sqrt(f*f+m)))))}var YR=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],qR=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],QR=[[1],[1,1],[1,2,1],[1,3,3,1]];function KR(e,t){return QR[e][t]}function Av(e,t,n){var r=n.length-1,i,o,a;if(r===0)return 0;if(e===0){for(o=0,a=0;a<=r;a++)o+=KR(r,a)*Math.pow(1-t,r-a)*Math.pow(t,a)*n[a];return o}else{for(i=new Array(r),a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return Av(e-1,t,i)}}function ZR(e,t,n){var r=Av(1,n,e),i=Av(1,n,t),o=r*r+i*i;return Math.sqrt(o)}function JR(e,t,n){var r,i,o,a;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,o=0;o<l;o++)a=r*YR[l][o]+r,i+=qR[l][o]*ZR(e,t,a);return r*i}var yc=Math.PI*2;function h6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function eO(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,v=f*f,S=h*h,L=c*m-c*S-m*v;L<0&&(L=0),L/=c*S+m*v,L=Math.sqrt(L)*(i===o?-1:1);var g=L*a/l*h,_=L*-l/a*f,y=u*g-s*_+(e+n)/2,O=s*g+u*_+(t+r)/2,D=(f-g)/a,U=(h-_)/l,ee=(-f-g)/a,K=(-h-_)/l,He=h6(1,0,D,U),ve=h6(D,U,ee,K);return o===0&&ve>0&&(ve-=yc),o===1&&ve<0&&(ve+=yc),[y,O,He,ve]}function tO(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function nO(e,t,n,r,i,o,a,l,s){var u=Math.sin(i*yc/360),f=Math.cos(i*yc/360),h=f*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+f*(t-s)/2;if(h===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var m=h*h/(n*n)+c*c/(r*r);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m));var v=eO(e,t,l,s,o,a,n,r,u,f),S=[],L=v[2],g=v[3],_=Math.max(Math.ceil(Math.abs(g)/(yc/4)),1);g/=_;for(var y=0;y<_;y++)S.push(tO(L,g)),L+=g;return S.map(function(O){for(var D=0;D<O.length;D+=2){var U=O[D+0],ee=O[D+1];U*=n,ee*=r;var K=f*U-u*ee,He=u*U+f*ee;O[D+0]=K+v[0],O[D+1]=He+v[1]}return O})}function p6(e,t,n,r,i,o,a,l,s){return new Cv(e,t,n,r,i,o,a,l,s)}function Cv(e,t,n,r,i,o,a,l,s){var u=0,f=[],h=[],c=nO(e,t,n,r,i,o,a,l,s);c.forEach(function(m){var v=new Ti(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),S=v.getTotalLength();u+=S,f.push(S),h.push(v)}),this.length=u,this.partialLengths=f,this.curves=h}Cv.prototype={constructor:Cv,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function bi(e,t,n,r){return new nf(e,t,n,r)}function nf(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}nf.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};nf.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};nf.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};nf.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function rO(e){var t=0,n=[],r=[];function i(a){if(!a)return null;for(var l=zR(a),s=[0,0],u=[0,0],f,h,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],h=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],h=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new bi(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new bi(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new bi(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new bi(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(h[0]-s[0],2)+Math.pow(h[1]-s[1],2)),r.push(new bi(s[0],h[0],s[1],h[1])),s=[h[0],h[1]]):l[c][0]==="C"?(f=new Ti(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+f.getTotalLength(),s=[l[c][5],l[c][6]],r.push(f)):l[c][0]==="c"?(f=new Ti(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+f.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(f)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):f=new Ti(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+f.getTotalLength(),s=[l[c][3],l[c][4]],r.push(f)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],s[0]+f.d.x-f.c.x,s[1]+f.d.y-f.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):f=new Ti(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?f=new Ti(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):f=new bi(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+f.getTotalLength(),r.push(f),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?f=new bi(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):f=new Ti(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):f=new bi(s[0],l[c][1],s[1],l[c][2]),r.push(f),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):f=new bi(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(f)):l[c][0]==="A"?(f=new p6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+f.getTotalLength(),s=[l[c][6],l[c][7]],r.push(f)):l[c][0]==="a"&&(f=new p6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+f.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(f)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(a){var l=o(a);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(a){var l=o(a);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(a){var l=o(a);return r[l.i].getPropertiesAtLength(l.fraction)};var o=function(a){a<0?a=0:a>t&&(a=t);for(var l=n.length-1;n[l]>=a&&n[l]>0;)l--;return l++,{fraction:a-n[l-1],i:l}};return i(e)}function Uh(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function d9(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function iO(e,t){return Uh(e,t)<1e-9}function oO(e,t,n){let r=e.map((i,o)=>aO(i,t[o]));return function(i){let o=r.map(a=>a(i));return n?uO(o):o}}function aO(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function ch(e){return typeof e=="number"&&isFinite(e)}const Lv=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function lO(e){return new BR(e).abs()}function sO(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function uO(e){return"M"+e.join("L")+"Z"}function cO(e,t){let n=lO(e);return fO(n)||dO(n,t)}function fO(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,o,a]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([o,a]);else if(i==="H")n.push([o,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],o]);else return!1}return n.length?{ring:n}:!1}function dO(e,t){let n=sO(e)[0],r=[],i,o,a=3;if(!n)throw new TypeError(Lv);o=hO(n),i=o.getTotalLength(),t&&ch(t)&&t>0&&(a=Math.max(a,Math.ceil(i/t)));for(let l=0;l<a;l++){let s=o.getPointAtLength(i*l/a);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function hO(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return rO(e)}function m6(e,t){const n=e.length+t,r=dR(e)/t;let i=0,o=0,a=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=Uh(l,s);if(a<=o+u){e.splice(i+1,0,u?d9(l,s,(a-o)/u):l.slice(0)),a+=r;continue}o+=u,i++}}function pO(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;Uh(r,i)>t;)i=d9(r,i,.5),e.splice(n+1,0,i)}}function v6(e,t){let n,r,i;if(typeof e=="string"){let o=cO(e,t);e=o.ring,i=o.skipBisect}else if(!Array.isArray(e))throw new TypeError(Lv);if(n=e.slice(0),!mO(n))throw new TypeError(Lv);return n.length>1&&iO(n[0],n[n.length-1])&&n.pop(),r=fR(n),r>0&&n.reverse(),!i&&t&&ch(t)&&t>0&&pO(n,t),n}function mO(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&ch(t[0])&&ch(t[1])})}function vO(e,t){let n=e.length,r=1/0,i,o,a;for(let l=0;l<n;l++)o=0,t.forEach(function(s,u){let f=Uh(e[(l+u)%n],s);o+=f*f}),o<r&&(r=o,i=l);i&&(a=e.splice(0,i),e.splice(e.length,0,...a))}function gO(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=v6(e,n),o=v6(t,n),a=yO(i,o,r);return!r||typeof e!="string"&&typeof t!="string"?a:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:a(l)}function yO(e,t,n){let r;return r=e.length-t.length,m6(e,r<0?r*-1:0),m6(t,r>0?r:0),vO(e,t),oO(e,t,n)}var h9={exports:{}};h9.exports=Vh;h9.exports.default=Vh;function Vh(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=p9(e,0,i,n,!0),a=[];if(!o||o.next===o.prev)return a;var l,s,u,f,h,c,m;if(r&&(o=SO(e,t,o,n)),e.length>80*n){l=u=e[0],s=f=e[1];for(var v=n;v<i;v+=n)h=e[v],c=e[v+1],h<l&&(l=h),c<s&&(s=c),h>u&&(u=h),c>f&&(f=c);m=Math.max(u-l,f-s),m=m!==0?32767/m:0}return Vc(o,a,n,l,s,m,0),a}function p9(e,t,n,r,i){var o,a;if(i===kv(e,t,n,r)>0)for(o=t;o<n;o+=r)a=g6(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=g6(o,e[o],e[o+1],a);return a&&Hh(a,a.next)&&(Wc(a),a=a.next),a}function xl(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Hh(n,n.next)||Mn(n.prev,n,n.next)===0)){if(Wc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Vc(e,t,n,r,i,o,a){if(e){!a&&o&&LO(e,r,i,o);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,o?_O(e,r,i,o):xO(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Wc(e),e=u.next,l=u.next;continue}if(e=u,e===l){a?a===1?(e=wO(xl(e),t,n),Vc(e,t,n,r,i,o,2)):a===2&&EO(e,t,n,r,i,o):Vc(xl(e),t,n,r,i,o,1);break}}}}function xO(e){var t=e.prev,n=e,r=e.next;if(Mn(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,l=t.y,s=n.y,u=r.y,f=i<o?i<a?i:a:o<a?o:a,h=l<s?l<u?l:u:s<u?s:u,c=i>o?i>a?i:a:o>a?o:a,m=l>s?l>u?l:u:s>u?s:u,v=r.next;v!==t;){if(v.x>=f&&v.x<=c&&v.y>=h&&v.y<=m&&Ss(i,l,o,s,a,u,v.x,v.y)&&Mn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function _O(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Mn(i,o,a)>=0)return!1;for(var l=i.x,s=o.x,u=a.x,f=i.y,h=o.y,c=a.y,m=l<s?l<u?l:u:s<u?s:u,v=f<h?f<c?f:c:h<c?h:c,S=l>s?l>u?l:u:s>u?s:u,L=f>h?f>c?f:c:h>c?h:c,g=Rv(m,v,t,n,r),_=Rv(S,L,t,n,r),y=e.prevZ,O=e.nextZ;y&&y.z>=g&&O&&O.z<=_;){if(y.x>=m&&y.x<=S&&y.y>=v&&y.y<=L&&y!==i&&y!==a&&Ss(l,f,s,h,u,c,y.x,y.y)&&Mn(y.prev,y,y.next)>=0||(y=y.prevZ,O.x>=m&&O.x<=S&&O.y>=v&&O.y<=L&&O!==i&&O!==a&&Ss(l,f,s,h,u,c,O.x,O.y)&&Mn(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;y&&y.z>=g;){if(y.x>=m&&y.x<=S&&y.y>=v&&y.y<=L&&y!==i&&y!==a&&Ss(l,f,s,h,u,c,y.x,y.y)&&Mn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;O&&O.z<=_;){if(O.x>=m&&O.x<=S&&O.y>=v&&O.y<=L&&O!==i&&O!==a&&Ss(l,f,s,h,u,c,O.x,O.y)&&Mn(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function wO(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Hh(i,o)&&m9(i,r,r.next,o)&&Hc(i,o)&&Hc(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Wc(r),Wc(r.next),r=e=o),r=r.next}while(r!==e);return xl(r)}function EO(e,t,n,r,i,o){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&kO(a,l)){var s=v9(a,l);a=xl(a,a.next),s=xl(s,s.next),Vc(a,t,n,r,i,o,0),Vc(s,t,n,r,i,o,0);return}l=l.next}a=a.next}while(a!==e)}function SO(e,t,n,r){var i=[],o,a,l,s,u;for(o=0,a=t.length;o<a;o++)l=t[o]*r,s=o<a-1?t[o+1]*r:e.length,u=p9(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push(OO(u));for(i.sort(bO),o=0;o<i.length;o++)n=TO(i[o],n);return n}function bO(e,t){return e.x-t.x}function TO(e,t){var n=AO(e,t);if(!n)return t;var r=v9(n,e);return xl(r,r.next),xl(n,n.next)}function AO(e,t){var n=t,r=e.x,i=e.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>o&&(o=l,a=n.x<n.next.x?n:n.next,l===r))return a}n=n.next}while(n!==t);if(!a)return null;var s=a,u=a.x,f=a.y,h=1/0,c;n=a;do r>=n.x&&n.x>=u&&r!==n.x&&Ss(i<f?r:o,i,u,f,i<f?o:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),Hc(n,e)&&(c<h||c===h&&(n.x>a.x||n.x===a.x&&CO(a,n)))&&(a=n,h=c)),n=n.next;while(n!==s);return a}function CO(e,t){return Mn(e.prev,e,t.prev)<0&&Mn(t.next,e,e.next)<0}function LO(e,t,n,r){var i=e;do i.z===0&&(i.z=Rv(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,RO(i)}function RO(e){var t,n,r,i,o,a,l,s,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function Rv(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function OO(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Ss(e,t,n,r,i,o,a,l){return(i-a)*(t-l)>=(e-a)*(o-l)&&(e-a)*(r-l)>=(n-a)*(t-l)&&(n-a)*(o-l)>=(i-a)*(r-l)}function kO(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!PO(e,t)&&(Hc(e,t)&&Hc(t,e)&&NO(e,t)&&(Mn(e.prev,e,t.prev)||Mn(e,t.prev,t))||Hh(e,t)&&Mn(e.prev,e,e.next)>0&&Mn(t.prev,t,t.next)>0)}function Mn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Hh(e,t){return e.x===t.x&&e.y===t.y}function m9(e,t,n,r){var i=Z0(Mn(e,t,n)),o=Z0(Mn(e,t,r)),a=Z0(Mn(n,r,e)),l=Z0(Mn(n,r,t));return!!(i!==o&&a!==l||i===0&&K0(e,n,t)||o===0&&K0(e,r,t)||a===0&&K0(n,e,r)||l===0&&K0(n,t,r))}function K0(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Z0(e){return e>0?1:e<0?-1:0}function PO(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&m9(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Hc(e,t){return Mn(e.prev,e,e.next)<0?Mn(e,t,e.next)>=0&&Mn(e,e.prev,t)>=0:Mn(e,t,e.prev)<0||Mn(e,e.next,t)<0}function NO(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function v9(e,t){var n=new Ov(e.i,e.x,e.y),r=new Ov(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function g6(e,t,n,r){var i=new Ov(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ov(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Vh.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(kv(e,0,o,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,f=l<s-1?t[l+1]*n:e.length;a-=Math.abs(kv(e,u,f,n))}var h=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,m=r[l+1]*n,v=r[l+2]*n;h+=Math.abs((e[c]-e[v])*(e[m+1]-e[c+1])-(e[c]-e[m])*(e[v+1]-e[c+1]))}return a===0&&h===0?0:Math.abs((h-a)/a)};function kv(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Vh.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function g9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MO(e){return e.length===1&&(e=IO(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function IO(e){return function(t,n){return g9(e(t),n)}}MO(g9);const fm=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:o,symbol:a,xDomain:l,yDomain:s,width:u,height:f})=>{const h=P.useRef();P.useRef();const c=P.useRef();return P.useRef(),P.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const v=i6(h.current),S=u/(l[1]-l[0]),L=f/(s[1]-s[0]),g=u/2-S*(l[1]+l[0])/2,_=f/2+L*(s[1]+s[0])/2,y=o/Math.sqrt(S*L)/2,O=v.select("g.hull-container");O.attr("transform",`translate(${g}, ${_}) scale(${S}, ${L})`);const D=e6().x(ee=>ee[0]).y(ee=>-ee[1]).curve(n6);let U=O.selectAll("path.hull").data(e);U.exit().transition().duration(i).delay(r).ease(c6).style("opacity",0).remove(),U.enter().append("path").classed("hull",!0).attr("d",D).style("fill",t).style("stroke",n).style("stroke-width",y).style("opacity",0).transition().delay(r+100).duration(i-100).ease(c6).style("opacity",.75),U.transition().duration(i).delay(r).ease(u9).style("opacity",.75).attrTween("d",function(ee,K){const He=c.current?c.current[K]:null;if(!He)return()=>D(ee);const ve=gO(D(He),D(ee));return function(Re){return ve(Re)}}),setTimeout(()=>{c.current=e},i)},[e]),P.useEffect(()=>{if(!l||!s||!e.length)return;const m=i6(h.current),v=u/(l[1]-l[0]),S=f/(s[1]-s[0]),L=u/2-v*(l[1]+l[0])/2,g=f/2+S*(s[1]+s[0])/2,_=o/Math.sqrt(v*S),y=m.select("g.hull-container");y.attr("transform",`translate(${L}, ${g}) scale(${v}, ${S})`);const O=e6().x(U=>U[0]).y(U=>-U[1]).curve(n6);let D=y.selectAll("path.hull").data(e);D.enter().append("path").classed("hull",!0).attr("d",O).style("fill",t).style("stroke",n).attr("stroke-width",_).style("opacity",.75),D.exit().remove(),D.attr("d",O)},[t,n,o,l,s,u,f]),X.jsx("svg",{ref:h,className:"hull-plot",width:u,height:f,children:X.jsx("g",{className:"hull-container"})})},Kr="https://api.latentscope.com/api",DO=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),y6=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function J0(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function FO(){var gr;const[e,t]=P.useState(null),{dataset:n,scope:r}=Z5(),i=Nh(),o=P.useRef(null),[a,l]=s();function s(){const[te,gt]=P.useState([500,500]);return P.useEffect(()=>{function it(){if(!o.current)return;const{height:wt,width:Ut}=o.current.getBoundingClientRect();let mn=Ut>500?500:Ut-50;gt([mn,mn])}return window.addEventListener("resize",it),it(),setTimeout(it,100),()=>window.removeEventListener("resize",it)},[]),te}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[f,h]=P.useState(2);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/meta`).then(te=>te.json()).then(te=>{console.log("dataset",te),t(te)})},[n,t]);const[c,m]=P.useState([]);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes`).then(te=>te.json()).then(te=>{m(te)})},[n,m]);const[v,S]=P.useState(null);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes/${r}`).then(te=>te.json()).then(te=>{console.log("scope",te),S(te)})},[n,r,S]);const[L,g]=P.useState(null),[_,y]=P.useState(null),[O,D]=P.useState([]),[U,ee]=P.useState([]),[K,He]=P.useState(L==null?void 0:L.id),[ve,Re]=P.useState([]);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/embeddings`).then(te=>te.json()).then(te=>{Re(te)})},[n,Re]);const[Oe,Je]=P.useState([]),[De,Lt]=P.useState([]),[at,lt]=P.useState([]);P.useEffect(()=>{v&&(g(ve.find(te=>te.id==v.embedding_id)),Promise.all([fetch(`${Kr}/datasets/${n}/umaps/${v.umap_id}`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/umaps/${v.umap_id}/points`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id.split("-")[3]||v.cluster_labels_id}`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/indices`).then(te=>te.json())]).then(([te,gt,it,wt])=>{y(te);const Ut=gt.map(Ye=>[Ye.x,Ye.y]);Je(Ut);const mn=gt.map((Ye,Et)=>[Ye.x,Ye.y,wt[Et].cluster]);Lt(mn),lt([]),ee(it),D(wt),setTimeout(()=>{lt(J0(it,Ut))},100)}).catch(te=>console.error("Fetching data failed",te)))},[n,v,ve,y,ee,g,He]),P.useMemo(()=>O.map(te=>te.cluster),[O]),P.useEffect(()=>{L&&He(L.id)},[L,He]);const ye=te=>{console.log("selected",te),He(te)},Le=P.useCallback((te,gt,it=[])=>{fetch(`${Kr}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:te})}).then(wt=>wt.json()).then(wt=>{if(!e)return;let Ut=wt.map((mn,Ye)=>({index:te[Ye],...mn}));gt(Ut)})},[e,n]),[se,Te]=P.useState({}),[rt,Tt]=P.useState([-1,1]),[Pt,Zt]=P.useState([-1,1]),Bt=P.useCallback((te,gt)=>{Tt(te),Zt(gt)},[Tt,Zt]),[yt,It]=P.useState([]),zt=P.useCallback(te=>{console.log("handle selected",te),It(te),h(0)},[It,h]),[Yt,cn]=P.useState(null),[Ft,Jt]=P.useState(null);P.useEffect(()=>{Yt!=null?Le([Yt],te=>{Jt(te[0])}):Jt(null)},[Yt,Jt,Le]);const[st,At]=P.useState(null);P.useEffect(()=>{if(Ft&&O.length&&U.length){const te=Ft.index,gt=O[te],it=U[gt==null?void 0:gt.cluster];At({cluster:gt.cluster,...it})}else At(null)},[Ft,O,U,At]);const[Nt,Ct]=P.useState([]);P.useEffect(()=>{Yt!=null?Ct([Oe[Yt]]):Ct([])},[Yt,Oe]);const[Ke,Gt]=P.useState({});P.useEffect(()=>{fetch(`${Kr}/tags?dataset=${n}`).then(te=>te.json()).then(te=>Gt(te))},[n]);const ln=P.useMemo(()=>{const te=[];for(const gt in Ke)te.push(gt);return te},[Ke]),[en,qn]=P.useState(ln[0]),[E,he]=P.useState([]);P.useEffect(()=>{if(Ke[en]){const te=Ke[en].map(gt=>Oe[gt]);he(te)}else he([]),se&&se.config&&(se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ke,en,Oe,se,he]);const[Fe,ce]=P.useState([]),[xt,dt]=P.useState([]),Ae=P.useCallback(te=>{fetch(`${Kr}/search/nn?dataset=${n}&query=${te}&embedding_id=${K}`).then(gt=>gt.json()).then(gt=>{dt(gt.distances),ce(gt.indices),se==null||se.zoomToPoints(gt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[K,n,se,dt,ce]),[Rt,Wt]=P.useState([]);P.useEffect(()=>{const te=Fe.map(gt=>Oe[gt]);Wt(te)},[Fe,Oe]);const[Ie,Dt]=P.useState(null),[fn,$t]=P.useState([]);P.useEffect(()=>{if(Ie){const te=Ie.indices.map(gt=>Oe[gt]);$t(te)}else $t([]),se&&se.config&&(se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ie,Oe,se,$t]);const[dn,pn]=P.useState((Ie==null?void 0:Ie.label)||"");P.useEffect(()=>{pn((Ie==null?void 0:Ie.label)||"")},[Ie]);const Ln=P.useCallback(te=>{se==null||se.zoomToPoints([te],{transition:!0,padding:.9,transitionDuration:1500})},[se]),wn=P.useCallback(te=>{cn(te)},[cn]),lr=P.useCallback((te,gt)=>{console.log("update label",te,gt),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id}/label/${te}?label=${gt}`).then(it=>it.json()).then(it=>{fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id}`).then(wt=>wt.json()).then(wt=>{console.log("got new labels",wt),ee(wt),lt(J0(wt,Oe))}).catch(console.error)}).catch(console.error)},[n,v]),yn=P.useCallback(()=>{Dt(null)},[]);return e?X.jsxs("div",{ref:o,className:"container",children:[X.jsxs("div",{className:"left-column",children:[X.jsxs("div",{className:"summary",children:[X.jsxs("div",{className:"scope-card",children:[y6()?X.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,X.jsxs("div",{className:"heading",children:[n,": ",X.jsx("select",{className:"scope-selector",onChange:te=>{yn(),i(`/datasets/${e==null?void 0:e.id}/explore/${te.target.value}`)},children:c.map((te,gt)=>X.jsx("option",{value:te.id,selected:te.id===(v==null?void 0:v.id),children:te.label||te.id},gt))}),null]}),X.jsx("span",{children:v==null?void 0:v.description}),X.jsxs("span",{children:["Embeddings: ",L==null?void 0:L.model_id]}),X.jsxs("span",{children:[U==null?void 0:U.length," clusters"]})]}),X.jsx("div",{className:"dataset-card",children:X.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),X.jsxs("div",{className:"umap-container",children:[X.jsx("div",{className:"scatters",style:{width:a,height:l},children:Oe.length?X.jsxs(X.Fragment,{children:[DO()?X.jsx(ra,{points:Oe,fill:"gray",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}):X.jsx(Z2,{points:De,duration:2e3,width:a,height:l,colorScaleType:"categorical",onScatter:Te,onView:Bt,onSelect:zt,onHover:wn}),st&&st.hull&&!v.ignore_hulls?X.jsx(fm,{hulls:J0([st],Oe),fill:"lightgray",duration:0,xDomain:rt,yDomain:Pt,width:a,height:l}):null,Ie&&Ie.hull&&!v.ignore_hulls?X.jsx(fm,{hulls:J0([Ie],Oe),fill:"darkgray",strokeWidth:2,duration:0,xDomain:rt,yDomain:Pt,width:a,height:l}):null,at.length&&!v.ignore_hulls?X.jsx(fm,{hulls:at,stroke:"black",fill:"none",delay:2e3,duration:200,strokeWidth:1,xDomain:rt,yDomain:Pt,width:a,height:l}):null,X.jsx(ra,{points:Rt,stroke:"black",fill:"steelblue",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}),X.jsx(ra,{points:fn,fill:"darkred",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}),X.jsx(ra,{points:E,symbol:en,size:"20",xDomain:rt,yDomain:Pt,width:a,height:l}),X.jsx(ra,{points:Nt,stroke:"black",fill:"orange",size:"16",xDomain:rt,yDomain:Pt,width:a,height:l})]}):null}),y6()?null:X.jsxs("div",{className:"hovered-point",children:[st?X.jsxs("span",{children:[X.jsxs("span",{className:"key",children:["Cluster ",st.index,":"]}),X.jsx("span",{className:"value",children:st.label})]}):null,Ft&&Object.keys(Ft).map(te=>X.jsxs("span",{children:[X.jsxs("span",{className:"key",children:[te,":"]}),X.jsx("span",{className:"value",children:Ft[te]})]},te))]})]})]}),X.jsxs("div",{className:"data",children:[X.jsx("div",{className:"tab-header",children:u.map(te=>X.jsx("button",{onClick:()=>h(te.id),className:te.id===f?"tab-active":"tab-inactive",children:te.name},te.id))}),f===0?X.jsxs("div",{className:"tab-content",children:[X.jsxs("span",{children:["Selected: ",yt==null?void 0:yt.length,(yt==null?void 0:yt.length)>0?X.jsx("button",{className:"deselect",onClick:()=>{It([]),se==null||se.select([]),se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(yt==null?void 0:yt.length)>0?X.jsx(rl,{indices:yt,clusterIndices:O,clusterLabels:U,tagset:Ke,dataset:e,maxRows:150,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null,f===1?X.jsxs("div",{className:"tab-content",children:[X.jsx("div",{className:"search-box",children:X.jsxs("form",{onSubmit:te=>{te.preventDefault(),Ae(te.target.elements.searchBox.value),h(1)},children:[X.jsx("input",{type:"text",id:"searchBox"}),X.jsx("button",{type:"submit",children:"Similarity Search"}),X.jsx("br",{}),X.jsx("label",{htmlFor:"embeddingModel"}),X.jsx("select",{id:"embeddingModel",onChange:te=>ye(te.target.value),value:K,children:ve.filter(te=>te.model_id).map((te,gt)=>X.jsxs("option",{value:te.id,children:[te.id," - ",te.model_id," - ",te.dimensions]},gt))})]})}),X.jsxs("span",{children:[Fe.length?X.jsxs("span",{children:["Nearest Neighbors: ",Fe.length," (capped at 150) "]}):null,Fe.length>0?X.jsx("button",{className:"deselect",onClick:()=>{ce([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Fe.length>0?X.jsx(rl,{indices:Fe,distances:xt,clusterIndices:O,clusterLabels:U,tagset:Ke,dataset:e,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null,f===2?X.jsxs("div",{className:"tab-content",children:[X.jsx("div",{className:"clusters-select",children:X.jsxs("select",{onChange:te=>{const gt=U.find(it=>it.index===+te.target.value);gt&&Dt(gt)},value:Ie==null?void 0:Ie.index,children:[X.jsx("option",{value:"",children:"Select a cluster"}),U.map((te,gt)=>X.jsxs("option",{value:te.index,children:[te.index,": ",te.label]},gt))]})}),X.jsxs("div",{className:"cluster-selected",children:[Ie?X.jsxs("form",{onSubmit:te=>{te.preventDefault(),lr(Ie.index,dn)},children:[X.jsx("input",{type:"text",id:"new-label",value:dn,onChange:te=>pn(te.target.value)}),X.jsx("button",{type:"submit",children:"Update Label"})]}):null,X.jsxs("span",{children:[Ie==null?void 0:Ie.indices.length," ",Ie!=null&&Ie.indices.length?"Rows":"",Ie?X.jsx("button",{className:"deselect",onClick:()=>{Dt(null)},children:"X"}):null]})]}),X.jsx("div",{className:"cluster-table",children:Ie!=null&&Ie.indices?X.jsx(rl,{indices:Ie==null?void 0:Ie.indices,clusterIndices:O,clusterLabels:U,dataset:e,tagset:Ke,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null})]}):null,f===3?X.jsxs("div",{className:"tab-content",children:[X.jsxs("div",{className:"tags-box",children:[X.jsxs("div",{className:"tags-select",children:["Tags: ",ln.map(te=>X.jsxs("button",{className:"dataset--tag-link",onClick:()=>{qn(te),h(3),se==null||se.zoomToPoints(Ke[te],{transition:!0,padding:.2,transitionDuration:1500})},children:[te,"(",Ke[te].length,")"]},te))]}),null]}),X.jsxs("span",{children:[en," ",(gr=Ke[en])==null?void 0:gr.length,en?X.jsx("button",{className:"deselect",onClick:()=>{qn(null)},children:"X"}):null]}),Ke[en]?X.jsx(rl,{indices:Ke[en],clusterIndices:O,clusterLabels:U,tagset:Ke,dataset:e,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null]})]}):X.jsx("div",{children:"Loading..."})}const $O="_container_j6tyv_1",BO="_data_j6tyv_12",jO="_scatters_j6tyv_25",zO="_scatter_j6tyv_25",GO="_controls_j6tyv_36",UO="_summary_j6tyv_42",VO="_heading_j6tyv_52",HO="_key_j6tyv_104",WO="_value_j6tyv_108",XO="_deselect_j6tyv_248",YO="_cluster_j6tyv_280",ir={container:$O,data:BO,"umap-container":"_umap-container_j6tyv_19",scatters:jO,scatter:zO,"tab-tables":"_tab-tables_j6tyv_29",controls:GO,summary:UO,heading:VO,"scope-card":"_scope-card_j6tyv_71","scope-selector":"_scope-selector_j6tyv_76","umap-selectors":"_umap-selectors_j6tyv_80","hovered-point":"_hovered-point_j6tyv_98",key:HO,value:WO,"tab-header":"_tab-header_j6tyv_125","tab-active":"_tab-active_j6tyv_154","tab-content":"_tab-content_j6tyv_175","tags-box":"_tags-box_j6tyv_214","new-tag":"_new-tag_j6tyv_222","search-box":"_search-box_j6tyv_238","tab-neighbors":"_tab-neighbors_j6tyv_248",deselect:XO,"slide-bar":"_slide-bar_j6tyv_261",cluster:YO};console.log("styles",ir);const Zo="https://api.latentscope.com/api",qO=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),QO=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function KO(){const[e,t]=P.useState(null),{dataset:n}=Z5();Nh();const r=P.useRef(null),[i,o]=a();function a(){const[he,Fe]=P.useState([500,500]);return P.useEffect(()=>{function ce(){if(!r.current)return;const{height:xt,width:dt}=r.current.getBoundingClientRect();Fe([dt-15,xt-25])}return window.addEventListener("resize",ce),ce(),setTimeout(ce,200),()=>window.removeEventListener("resize",ce)},[]),he}const l=[{id:0,name:"Selected"},{id:1,name:"Search"}],[s,u]=P.useState(0);P.useEffect(()=>{fetch(`${Zo}/datasets/${n}/meta`).then(he=>he.json()).then(he=>{console.log("dataset",he),t(he)})},[n,t]);const[f,h]=P.useState([]),[c,m]=P.useState([]);P.useEffect(()=>{Promise.all([fetch(`${Zo}/datasets/${n}/embeddings`).then(he=>he.json()),fetch(`${Zo}/datasets/${n}/umaps`).then(he=>he.json())]).then(([he,Fe])=>{console.log("embeddings",he),console.log("umaps",Fe),h(he),Fe.sort((ce,xt)=>xt.align_id<ce.align_id?-1:xt.align_id>ce.align_id?1:ce.id<xt.id?-1:ce.id>xt.id?1:0),m(Fe)})},[n,h,m]);const[v,S]=P.useState("left"),[L,g]=P.useState(null),[_,y]=P.useState(null);P.useEffect(()=>{c&&(g(c[0]),y(c[1]))},[c]);const[O,D]=P.useState(null),[U,ee]=P.useState([]),[K,He]=P.useState([]),ve=P.useRef([]),Re=P.useRef([]);P.useEffect(()=>{if(c&&L&&_&&v){const he=v==="left"?L:_;Promise.all([fetch(`${Zo}/datasets/${n}/umaps/${he.id}`).then(Fe=>Fe.json()),fetch(`${Zo}/datasets/${n}/umaps/${he.id}/points`).then(Fe=>Fe.json())]).then(([Fe,ce])=>{D(Fe);const xt=ce.map(Ae=>[Ae.x,Ae.y]);ee(xt),Re.current=xt;const dt=ce.map((Ae,Rt)=>{let Wt=ve.current[Rt];return[Ae.x,Ae.y,Wt?Wt[2]:0]});He(dt),ve.current=dt}).catch(Fe=>console.error("Fetching data failed",Fe))}},[n,v,L,_,c,D,ee,He]);let Oe=P.useRef(!1),Je=P.useRef("");const[De,Lt]=P.useState(!1);P.useEffect(()=>{let he=(L==null?void 0:L.id)+(_==null?void 0:_.id)+Oe.current;L&&_&&U.length&&Je.current!==he&&(Lt(!0),fetch(`${Zo}/search/compare?dataset=${n}&umap_left=${L.id}&umap_right=${_.id}&k=10`).then(Fe=>Fe.json()).then(Fe=>{const ce=B8(A8(Fe),[0,1]),xt=Re.current.map((dt,Ae)=>[dt[0],dt[1],ce(Fe[Ae])]);He(xt),ve.current=xt,Lt(!1),Oe.current=!0,Je.current=(L==null?void 0:L.id)+(_==null?void 0:_.id)+Oe.current}))},[n,L,_,U]);const[at,lt]=P.useState(null);P.useEffect(()=>{f&&lt(f[0])},[f,lt]);const ye=P.useCallback(he=>{console.log("selected",he),lt(f.find(Fe=>Fe.id==he))},[f]);P.useCallback((he,Fe,ce=[])=>{fetch(`${Zo}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:he})}).then(xt=>xt.json()).then(xt=>{if(!e)return;let dt=xt.map((Ae,Rt)=>({index:he[Rt],...Ae}));Fe(dt)})},[e,n]);const[Le,se]=P.useState({}),[Te,rt]=P.useState([-1,1]),[Tt,Pt]=P.useState([-1,1]),Zt=P.useCallback((he,Fe)=>{rt(he),Pt(Fe)},[rt,Pt]),[Bt,yt]=P.useState([]),It=P.useCallback(he=>{console.log("handle selected",he),yt(he),u(0)},[yt,u]),[zt,Yt]=P.useState(null);P.useState(null);const[cn,Ft]=P.useState([]);P.useEffect(()=>{zt!=null?Ft([U[zt]]):Ft([])},[zt,U]);const[Jt,st]=P.useState([]),[At,Nt]=P.useState([]),Ct=P.useCallback(he=>{fetch(`${Zo}/search/nn?dataset=${n}&query=${he}&embedding_id=${at.id}&dimensions=${at.dimensions}`).then(Fe=>Fe.json()).then(Fe=>{Nt(Fe.distances),st(Fe.indices),Le==null||Le.zoomToPoints(Fe.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[at,n,Le,Nt,st]),[Ke,Gt]=P.useState([]);P.useEffect(()=>{const he=Jt.map(Fe=>U[Fe]);Gt(he)},[Jt,U]);const ln=P.useCallback(he=>{Le==null||Le.zoomToPoints([he],{transition:!0,padding:.9,transitionDuration:1500})},[Le]),en=P.useCallback(he=>{Yt(he)},[Yt]),qn=P.useCallback(he=>{g(c.find(Fe=>Fe.id==he.target.value)),S("left")},[c,g,S]),E=P.useCallback(he=>{y(c.find(Fe=>Fe.id==he.target.value)),S("right")},[c,y,S]);return e?X.jsxs("div",{className:ir.container,children:[X.jsx("div",{className:ir.controls,children:X.jsxs("div",{className:ir.summary,children:[X.jsxs("div",{className:ir["scope-card"],children:[QO()?X.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,X.jsxs("div",{className:ir.heading,children:[X.jsx("b",{children:n}),X.jsxs("span",{children:[e==null?void 0:e.length," rows"]}),null]})]}),X.jsxs("div",{className:ir["umap-selectors"],children:[X.jsx("select",{name:"left",value:L==null?void 0:L.id,onChange:qn,children:c.map((he,Fe)=>{let ce=f.find(xt=>he.embedding_id==xt.id);return X.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ce==null?void 0:ce.model_id," [",ce==null?void 0:ce.dimensions,"] ",he.align_id]},Fe)})}),X.jsxs("div",{children:[X.jsxs("label",{children:["",X.jsx("input",{type:"radio",value:"left",name:"direction",checked:v==="left",onChange:()=>S("left")})]}),X.jsxs("label",{children:[X.jsx("input",{type:"radio",value:"right",name:"direction",checked:v==="right",onChange:()=>S("right")})," "]})]}),X.jsx("select",{name:"right",onChange:E,value:_==null?void 0:_.id,children:c.map((he,Fe)=>{let ce=f.find(xt=>he.embedding_id==xt.id);return X.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ce==null?void 0:ce.model_id," [",ce==null?void 0:ce.dimensions,"] ",he.align_id]},Fe)})})]})]})}),X.jsx("div",{ref:r,className:ir["umap-container"],children:X.jsx("div",{className:ir.scatters,style:{width:i,height:o},children:U.length?X.jsxs(X.Fragment,{children:[X.jsx("div",{className:ir.scatter,children:qO()?X.jsx(ra,{points:U,fill:"gray",size:"8",xDomain:Te,yDomain:Tt,width:i,height:o}):X.jsx(Z2,{points:K,duration:2e3,pointScale:1.5,width:i,height:o,colorScaleType:"continuous",colorInterpolator:oA,opacityBy:"valueA",onScatter:se,onView:Zt,onSelect:It,onHover:en})}),X.jsx(ra,{points:Ke,stroke:"black",fill:"steelblue",size:"8",xDomain:Te,yDomain:Tt,width:i,height:o}),X.jsx(ra,{points:cn,stroke:"black",fill:"orange",size:"16",xDomain:Te,yDomain:Tt,width:i,height:o})]}):null})}),X.jsxs("div",{className:ir.data,children:[X.jsx("div",{className:ir["tab-header"],children:l.map(he=>X.jsx("button",{onClick:()=>u(he.id),className:he.id===s?ir["tab-active"]:ir["tab-inactive"],children:he.name},he.id))}),s===0?X.jsxs("div",{className:ir["tab-content"],children:[X.jsxs("span",{children:["Selected: ",Bt==null?void 0:Bt.length,(Bt==null?void 0:Bt.length)>0?X.jsx("button",{className:ir.deselect,onClick:()=>{yt([]),Le==null||Le.select([]),Le==null||Le.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Bt==null?void 0:Bt.length)>0?X.jsx(rl,{indices:Bt,dataset:e,maxRows:150,onHover:en,onClick:ln}):null]}):null,s===1?X.jsxs("div",{className:ir["tab-content"],children:[X.jsx("div",{className:ir["search-box"],children:X.jsxs("form",{onSubmit:he=>{he.preventDefault(),Ct(he.target.elements.searchBox.value),u(1)},children:[X.jsx("input",{type:"text",id:"searchBox"}),X.jsx("button",{type:"submit",children:"Similarity Search"}),X.jsx("br",{}),X.jsx("label",{htmlFor:"embeddingModel"}),X.jsx("select",{id:"embeddingModel",onChange:he=>ye(he.target.value),defaultValue:at==null?void 0:at.id,children:f.map((he,Fe)=>X.jsxs("option",{value:he.id,children:[he.id," - ",he.model_id," - ",he.dimensions]},Fe))})]})}),X.jsxs("span",{children:[Jt.length?X.jsxs("span",{children:["Nearest Neighbors: ",Jt.length," (capped at 150) "]}):null,Jt.length>0?X.jsx("button",{className:ir.deselect,onClick:()=>{st([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Jt.length>0?X.jsx(rl,{indices:Jt,distances:At,dataset:e,onHover:en,onClick:ln}):null]}):null]})]}):X.jsx("div",{children:"Loading..."})}const Vs=Math.min,ul=Math.max,fh=Math.round,ed=Math.floor,_a=e=>({x:e,y:e}),ZO={left:"right",right:"left",bottom:"top",top:"bottom"},JO={start:"end",end:"start"};function Pv(e,t,n){return ul(e,Vs(t,n))}function rf(e,t){return typeof e=="function"?e(t):e}function _l(e){return e.split("-")[0]}function of(e){return e.split("-")[1]}function y9(e){return e==="x"?"y":"x"}function ig(e){return e==="y"?"height":"width"}function Wh(e){return["top","bottom"].includes(_l(e))?"y":"x"}function og(e){return y9(Wh(e))}function ek(e,t,n){n===void 0&&(n=!1);const r=of(e),i=og(e),o=ig(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=dh(a)),[a,dh(a)]}function tk(e){const t=dh(e);return[Nv(e),t,Nv(t)]}function Nv(e){return e.replace(/start|end/g,t=>JO[t])}function nk(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function rk(e,t,n,r){const i=of(e);let o=nk(_l(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Nv)))),o}function dh(e){return e.replace(/left|right|bottom|top/g,t=>ZO[t])}function ik(e){return{top:0,right:0,bottom:0,left:0,...e}}function x9(e){return typeof e!="number"?ik(e):{top:e,right:e,bottom:e,left:e}}function hh(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function x6(e,t,n){let{reference:r,floating:i}=e;const o=Wh(t),a=og(t),l=ig(a),s=_l(t),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,c=r[l]/2-i[l]/2;let m;switch(s){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(of(t)){case"start":m[a]-=c*(n&&u?-1:1);break;case"end":m[a]+=c*(n&&u?-1:1);break}return m}const ok=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=x6(u,r,s),c=r,m={},v=0;for(let S=0;S<l.length;S++){const{name:L,fn:g}=l[S],{x:_,y,data:O,reset:D}=await g({x:f,y:h,initialPlacement:r,placement:c,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=_??f,h=y??h,m={...m,[L]:{...m[L],...O}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(c=D.placement),D.rects&&(u=D.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:f,y:h}=x6(u,c,s)),S=-1)}return{x:f,y:h,placement:c,strategy:i,middlewareData:m}};async function _9(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:c=!1,padding:m=0}=rf(t,e),v=x9(m),L=l[c?h==="floating"?"reference":"floating":h],g=hh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(L)))==null||n?L:L.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:s})),_=h==="floating"?{...a.floating,x:r,y:i}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),O=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},D=hh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:y,strategy:s}):_);return{top:(g.top-D.top+v.top)/O.y,bottom:(D.bottom-g.bottom+v.bottom)/O.y,left:(g.left-D.left+v.left)/O.x,right:(D.right-g.right+v.right)/O.x}}const ak=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:s}=t,{element:u,padding:f=0}=rf(e,t)||{};if(u==null)return{};const h=x9(f),c={x:n,y:r},m=og(i),v=ig(m),S=await a.getDimensions(u),L=m==="y",g=L?"top":"left",_=L?"bottom":"right",y=L?"clientHeight":"clientWidth",O=o.reference[v]+o.reference[m]-c[m]-o.floating[v],D=c[m]-o.reference[m],U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let ee=U?U[y]:0;(!ee||!await(a.isElement==null?void 0:a.isElement(U)))&&(ee=l.floating[y]||o.floating[v]);const K=O/2-D/2,He=ee/2-S[v]/2-1,ve=Vs(h[g],He),Re=Vs(h[_],He),Oe=ve,Je=ee-S[v]-Re,De=ee/2-S[v]/2+K,Lt=Pv(Oe,De,Je),at=!s.arrow&&of(i)!=null&&De!==Lt&&o.reference[v]/2-(De<Oe?ve:Re)-S[v]/2<0,lt=at?De<Oe?De-Oe:De-Je:0;return{[m]:c[m]+lt,data:{[m]:Lt,centerOffset:De-Lt-lt,...at&&{alignmentOffset:lt}},reset:at}}}),lk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:c,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...L}=rf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=_l(i),_=_l(l)===l,y=await(s.isRTL==null?void 0:s.isRTL(u.floating)),O=c||(_||!S?[dh(l)]:tk(l));!c&&v!=="none"&&O.push(...rk(l,S,v,y));const D=[l,...O],U=await _9(t,L),ee=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&ee.push(U[g]),h){const Oe=ek(i,a,y);ee.push(U[Oe[0]],U[Oe[1]])}if(K=[...K,{placement:i,overflows:ee}],!ee.every(Oe=>Oe<=0)){var He,ve;const Oe=(((He=o.flip)==null?void 0:He.index)||0)+1,Je=D[Oe];if(Je)return{data:{index:Oe,overflows:K},reset:{placement:Je}};let De=(ve=K.filter(Lt=>Lt.overflows[0]<=0).sort((Lt,at)=>Lt.overflows[1]-at.overflows[1])[0])==null?void 0:ve.placement;if(!De)switch(m){case"bestFit":{var Re;const Lt=(Re=K.map(at=>[at.placement,at.overflows.filter(lt=>lt>0).reduce((lt,ye)=>lt+ye,0)]).sort((at,lt)=>at[1]-lt[1])[0])==null?void 0:Re[0];Lt&&(De=Lt);break}case"initialPlacement":De=l;break}if(i!==De)return{reset:{placement:De}}}return{}}}};async function sk(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=_l(n),l=of(n),s=Wh(n)==="y",u=["left","top"].includes(a)?-1:1,f=o&&s?-1:1,h=rf(t,e);let{mainAxis:c,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),s?{x:m*f,y:c*u}:{x:c*u,y:m*f}}const uk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=t,s=await sk(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:a}}}}},ck=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:L=>{let{x:g,y:_}=L;return{x:g,y:_}}},...s}=rf(e,t),u={x:n,y:r},f=await _9(t,s),h=Wh(_l(i)),c=y9(h);let m=u[c],v=u[h];if(o){const L=c==="y"?"top":"left",g=c==="y"?"bottom":"right",_=m+f[L],y=m-f[g];m=Pv(_,m,y)}if(a){const L=h==="y"?"top":"left",g=h==="y"?"bottom":"right",_=v+f[L],y=v-f[g];v=Pv(_,v,y)}const S=l.fn({...t,[c]:m,[h]:v});return{...S,data:{x:S.x-n,y:S.y-r}}}}};function wa(e){return w9(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lo(e){var t;return(t=(w9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w9(e){return e instanceof Node||e instanceof ti(e).Node}function Ao(e){return e instanceof Element||e instanceof ti(e).Element}function Zi(e){return e instanceof HTMLElement||e instanceof ti(e).HTMLElement}function _6(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot}function af(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function fk(e){return["table","td","th"].includes(wa(e))}function ag(e){const t=lg(),n=yi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dk(e){let t=Hs(e);for(;Zi(t)&&!Xh(t);){if(ag(t))return t;t=Hs(t)}return null}function lg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xh(e){return["html","body","#document"].includes(wa(e))}function yi(e){return ti(e).getComputedStyle(e)}function Yh(e){return Ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Hs(e){if(wa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_6(e)&&e.host||Lo(e);return _6(t)?t.host:t}function E9(e){const t=Hs(e);return Xh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zi(t)&&af(t)?t:E9(t)}function Xc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=E9(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=ti(i);return o?t.concat(a,a.visualViewport||[],af(i)?i:[],a.frameElement&&n?Xc(a.frameElement):[]):t.concat(i,Xc(i,[],n))}function S9(e){const t=yi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Zi(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=fh(n)!==o||fh(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function sg(e){return Ao(e)?e:e.contextElement}function Ps(e){const t=sg(e);if(!Zi(t))return _a(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=S9(t);let a=(o?fh(n.width):n.width)/r,l=(o?fh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hk=_a(0);function b9(e){const t=ti(e);return!lg()||!t.visualViewport?hk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ti(e)?!1:t}function wl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=sg(e);let a=_a(1);t&&(r?Ao(r)&&(a=Ps(r)):a=Ps(e));const l=pk(o,n,r)?b9(o):_a(0);let s=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(o){const c=ti(o),m=r&&Ao(r)?ti(r):r;let v=c,S=v.frameElement;for(;S&&r&&m!==v;){const L=Ps(S),g=S.getBoundingClientRect(),_=yi(S),y=g.left+(S.clientLeft+parseFloat(_.paddingLeft))*L.x,O=g.top+(S.clientTop+parseFloat(_.paddingTop))*L.y;s*=L.x,u*=L.y,f*=L.x,h*=L.y,s+=y,u+=O,v=ti(S),S=v.frameElement}}return hh({width:f,height:h,x:s,y:u})}const mk=[":popover-open",":modal"];function T9(e){return mk.some(t=>{try{return e.matches(t)}catch{return!1}})}function vk(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Lo(r),l=t?T9(t.floating):!1;if(r===a||l&&o)return n;let s={scrollLeft:0,scrollTop:0},u=_a(1);const f=_a(0),h=Zi(r);if((h||!h&&!o)&&((wa(r)!=="body"||af(a))&&(s=Yh(r)),Zi(r))){const c=wl(r);u=Ps(r),f.x=c.x+r.clientLeft,f.y=c.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function gk(e){return Array.from(e.getClientRects())}function A9(e){return wl(Lo(e)).left+Yh(e).scrollLeft}function yk(e){const t=Lo(e),n=Yh(e),r=e.ownerDocument.body,i=ul(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ul(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+A9(e);const l=-n.scrollTop;return yi(r).direction==="rtl"&&(a+=ul(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}function xk(e,t){const n=ti(e),r=Lo(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,s=0;if(i){o=i.width,a=i.height;const u=lg();(!u||u&&t==="fixed")&&(l=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:l,y:s}}function _k(e,t){const n=wl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Zi(e)?Ps(e):_a(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,s=i*o.x,u=r*o.y;return{width:a,height:l,x:s,y:u}}function w6(e,t,n){let r;if(t==="viewport")r=xk(e,n);else if(t==="document")r=yk(Lo(e));else if(Ao(t))r=_k(t,n);else{const i=b9(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return hh(r)}function C9(e,t){const n=Hs(e);return n===t||!Ao(n)||Xh(n)?!1:yi(n).position==="fixed"||C9(n,t)}function wk(e,t){const n=t.get(e);if(n)return n;let r=Xc(e,[],!1).filter(l=>Ao(l)&&wa(l)!=="body"),i=null;const o=yi(e).position==="fixed";let a=o?Hs(e):e;for(;Ao(a)&&!Xh(a);){const l=yi(a),s=ag(a);!s&&l.position==="fixed"&&(i=null),(o?!s&&!i:!s&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||af(a)&&!s&&C9(e,a))?r=r.filter(f=>f!==a):i=l,a=Hs(a)}return t.set(e,r),r}function Ek(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?wk(t,this._c):[].concat(n),r],l=a[0],s=a.reduce((u,f)=>{const h=w6(t,f,i);return u.top=ul(h.top,u.top),u.right=Vs(h.right,u.right),u.bottom=Vs(h.bottom,u.bottom),u.left=ul(h.left,u.left),u},w6(t,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Sk(e){const{width:t,height:n}=S9(e);return{width:t,height:n}}function bk(e,t,n){const r=Zi(t),i=Lo(t),o=n==="fixed",a=wl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const s=_a(0);if(r||!r&&!o)if((wa(t)!=="body"||af(i))&&(l=Yh(t)),r){const h=wl(t,!0,o,t);s.x=h.x+t.clientLeft,s.y=h.y+t.clientTop}else i&&(s.x=A9(i));const u=a.left+l.scrollLeft-s.x,f=a.top+l.scrollTop-s.y;return{x:u,y:f,width:a.width,height:a.height}}function E6(e,t){return!Zi(e)||yi(e).position==="fixed"?null:t?t(e):e.offsetParent}function L9(e,t){const n=ti(e);if(!Zi(e)||T9(e))return n;let r=E6(e,t);for(;r&&fk(r)&&yi(r).position==="static";)r=E6(r,t);return r&&(wa(r)==="html"||wa(r)==="body"&&yi(r).position==="static"&&!ag(r))?n:r||dk(e)||n}const Tk=async function(e){const t=this.getOffsetParent||L9,n=this.getDimensions;return{reference:bk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Ak(e){return yi(e).direction==="rtl"}const Ck={convertOffsetParentRelativeRectToViewportRelativeRect:vk,getDocumentElement:Lo,getClippingRect:Ek,getOffsetParent:L9,getElementRects:Tk,getClientRects:gk,getDimensions:Sk,getScale:Ps,isElement:Ao,isRTL:Ak};function Lk(e,t){let n=null,r;const i=Lo(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),o();const{left:u,top:f,width:h,height:c}=e.getBoundingClientRect();if(l||t(),!h||!c)return;const m=ed(f),v=ed(i.clientWidth-(u+h)),S=ed(i.clientHeight-(f+c)),L=ed(u),_={rootMargin:-m+"px "+-v+"px "+-S+"px "+-L+"px",threshold:ul(0,Vs(1,s))||1};let y=!0;function O(D){const U=D[0].intersectionRatio;if(U!==s){if(!y)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{n=new IntersectionObserver(O,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,_)}n.observe(e)}return a(!0),o}function Rk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=sg(e),f=i||o?[...u?Xc(u):[],...Xc(t)]:[];f.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&l?Lk(u,n):null;let c=-1,m=null;a&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!s&&m.observe(u),m.observe(t));let v,S=s?wl(e):null;s&&L();function L(){const g=wl(e);S&&(g.x!==S.x||g.y!==S.y||g.width!==S.width||g.height!==S.height)&&n(),S=g,v=requestAnimationFrame(L)}return n(),()=>{var g;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,s&&cancelAnimationFrame(v)}}const Ok=ck,kk=lk,Pk=ak,S6=(e,t,n)=>{const r=new Map,i={platform:Ck,...n},o={...i.platform,_c:r};return ok(e,t,{...i,platform:o})};var R9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)t.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(R9);var Nk=R9.exports;const Mv=Yc(Nk);var b6={};const Mk="react-tooltip-core-styles",Ik="react-tooltip-base-styles",T6={core:!1,base:!1};function A6({css:e,id:t=Ik,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||T6[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:b6)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:b6)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Mk),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css",a==="top"&&l.firstChild?l.insertBefore(s,l.firstChild):l.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),T6[n]=!0}const C6=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:a=[uk(Number(i)),kk({fallbackAxisSideDirection:"start"}),Ok({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const s=a;return n?(s.push(Pk({element:n,padding:5})),S6(e,t,{placement:r,strategy:o,middleware:s}).then(({x:u,y:f,placement:h,middlewareData:c})=>{var m,v;const S={left:`${u}px`,top:`${f}px`,border:l},{x:L,y:g}=(m=c.arrow)!==null&&m!==void 0?m:{x:0,y:0},_=(v={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&v!==void 0?v:"bottom",y=l&&{borderBottom:l,borderRight:l};let O=0;if(l){const D=`${l}`.match(/(\d+)px/);O=D!=null&&D[1]?Number(D[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:L!=null?`${L}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",...y,[_]:`-${4+O}px`},place:h}})):S6(e,t,{placement:"bottom",strategy:o,middleware:s}).then(({x:u,y:f,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},L6=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),R6=(e,t,n)=>{let r=null;const i=function(...o){const a=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},O6=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Iv=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>Iv(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!O6(e)||!O6(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Iv(e[i],t[i]))},Dk=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},k6=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Dk(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Fk=typeof window<"u"?P.useLayoutEffect:P.useEffect,$k="DEFAULT_TOOLTIP_ID",Bk={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},jk=P.createContext({getTooltipData:()=>Bk});function O9(e=$k){return P.useContext(jk).getTooltipData(e)}var ss={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},dm={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const zk=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:a,place:l="top",offset:s=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:h="absolute",middlewares:c,wrapper:m,delayShow:v=0,delayHide:S=0,float:L=!1,hidden:g=!1,noArrow:_=!1,clickable:y=!1,closeOnEsc:O=!1,closeOnScroll:D=!1,closeOnResize:U=!1,openEvents:ee,closeEvents:K,globalCloseEvents:He,imperativeModeOnly:ve,style:Re,position:Oe,afterShow:Je,afterHide:De,content:Lt,contentWrapperRef:at,isOpen:lt,defaultIsOpen:ye=!1,setIsOpen:Le,activeAnchor:se,setActiveAnchor:Te,border:rt,opacity:Tt,arrowColor:Pt,role:Zt="tooltip"})=>{var Bt;const yt=P.useRef(null),It=P.useRef(null),zt=P.useRef(null),Yt=P.useRef(null),cn=P.useRef(null),[Ft,Jt]=P.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[st,At]=P.useState(!1),[Nt,Ct]=P.useState(!1),[Ke,Gt]=P.useState(null),ln=P.useRef(!1),en=P.useRef(null),{anchorRefs:qn,setActiveAnchor:E}=O9(t),he=P.useRef(!1),[Fe,ce]=P.useState([]),xt=P.useRef(!1),dt=f||u.includes("click"),Ae=dt||(ee==null?void 0:ee.click)||(ee==null?void 0:ee.dblclick)||(ee==null?void 0:ee.mousedown),Rt=ee?{...ee}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!ee&&dt&&Object.assign(Rt,{mouseenter:!1,focus:!1,click:!0});const Wt=K?{...K}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!K&&dt&&Object.assign(Wt,{mouseleave:!1,blur:!1});const Ie=He?{...He}:{escape:O||!1,scroll:D||!1,resize:U||!1,clickOutsideAnchor:Ae||!1};ve&&(Object.assign(Rt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Wt,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ie,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Fk(()=>(xt.current=!0,()=>{xt.current=!1}),[]);const Dt=Ye=>{xt.current&&(Ye&&Ct(!0),setTimeout(()=>{xt.current&&(Le==null||Le(Ye),lt===void 0&&At(Ye))},10))};P.useEffect(()=>{if(lt===void 0)return()=>null;lt&&Ct(!0);const Ye=setTimeout(()=>{At(lt)},10);return()=>{clearTimeout(Ye)}},[lt]),P.useEffect(()=>{if(st!==ln.current)if(cn.current&&clearTimeout(cn.current),ln.current=st,st)Je==null||Je();else{const Ye=(Et=>{const kt=Et.match(/^([\d.]+)(ms|s)$/);if(!kt)return 0;const[,Tn,Rn]=kt;return Number(Tn)*(Rn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));cn.current=setTimeout(()=>{Ct(!1),Gt(null),De==null||De()},Ye+25)}},[st]);const fn=Ye=>{Jt(Et=>Iv(Et,Ye)?Et:Ye)},$t=(Ye=v)=>{zt.current&&clearTimeout(zt.current),Nt?Dt(!0):zt.current=setTimeout(()=>{Dt(!0)},Ye)},dn=(Ye=S)=>{Yt.current&&clearTimeout(Yt.current),Yt.current=setTimeout(()=>{he.current||Dt(!1)},Ye)},pn=Ye=>{var Et;if(!Ye)return;const kt=(Et=Ye.currentTarget)!==null&&Et!==void 0?Et:Ye.target;if(!(kt!=null&&kt.isConnected))return Te(null),void E({current:null});v?$t():Dt(!0),Te(kt),E({current:kt}),Yt.current&&clearTimeout(Yt.current)},Ln=()=>{y?dn(S||100):S?dn():Dt(!1),zt.current&&clearTimeout(zt.current)},wn=({x:Ye,y:Et})=>{var kt;const Tn={getBoundingClientRect:()=>({x:Ye,y:Et,width:0,height:0,top:Et,left:Ye,right:Ye,bottom:Et})};C6({place:(kt=Ke==null?void 0:Ke.place)!==null&&kt!==void 0?kt:l,offset:s,elementReference:Tn,tooltipReference:yt.current,tooltipArrowReference:It.current,strategy:h,middlewares:c,border:rt}).then(Rn=>{fn(Rn)})},lr=Ye=>{if(!Ye)return;const Et=Ye,kt={x:Et.clientX,y:Et.clientY};wn(kt),en.current=kt},yn=Ye=>{var Et;if(!st)return;const kt=Ye.target;kt.isConnected&&(!((Et=yt.current)===null||Et===void 0)&&Et.contains(kt)||[document.querySelector(`[id='${o}']`),...Fe].some(Tn=>Tn==null?void 0:Tn.contains(kt))||(Dt(!1),zt.current&&clearTimeout(zt.current)))},gr=R6(pn,50,!0),te=R6(Ln,50,!0),gt=Ye=>{te.cancel(),gr(Ye)},it=()=>{gr.cancel(),te()},wt=P.useCallback(()=>{var Ye,Et;const kt=(Ye=Ke==null?void 0:Ke.position)!==null&&Ye!==void 0?Ye:Oe;kt?wn(kt):L?en.current&&wn(en.current):se!=null&&se.isConnected&&C6({place:(Et=Ke==null?void 0:Ke.place)!==null&&Et!==void 0?Et:l,offset:s,elementReference:se,tooltipReference:yt.current,tooltipArrowReference:It.current,strategy:h,middlewares:c,border:rt}).then(Tn=>{xt.current&&fn(Tn)})},[st,se,Lt,Re,l,Ke==null?void 0:Ke.place,s,h,Oe,Ke==null?void 0:Ke.position,L]);P.useEffect(()=>{var Ye,Et;const kt=new Set(qn);Fe.forEach(un=>{kt.add({current:un})});const Tn=document.querySelector(`[id='${o}']`);Tn&&kt.add({current:Tn});const Rn=()=>{Dt(!1)},er=k6(se),sr=k6(yt.current);Ie.scroll&&(window.addEventListener("scroll",Rn),er==null||er.addEventListener("scroll",Rn),sr==null||sr.addEventListener("scroll",Rn));let An=null;Ie.resize?window.addEventListener("resize",Rn):se&&yt.current&&(An=Rk(se,yt.current,wt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const tr=un=>{un.key==="Escape"&&Dt(!1)};Ie.escape&&window.addEventListener("keydown",tr),Ie.clickOutsideAnchor&&window.addEventListener("click",yn);const ot=[],Sr=un=>{st&&(un==null?void 0:un.target)===se||pn(un)},Ro=un=>{st&&(un==null?void 0:un.target)===se&&Ln()},Ca=["mouseenter","mouseleave","focus","blur"],zr=["click","dblclick","mousedown","mouseup"];Object.entries(Rt).forEach(([un,On])=>{On&&(Ca.includes(un)?ot.push({event:un,listener:gt}):zr.includes(un)&&ot.push({event:un,listener:Sr}))}),Object.entries(Wt).forEach(([un,On])=>{On&&(Ca.includes(un)?ot.push({event:un,listener:it}):zr.includes(un)&&ot.push({event:un,listener:Ro}))}),L&&ot.push({event:"pointermove",listener:lr});const Gr=()=>{he.current=!0},Ur=()=>{he.current=!1,Ln()};return y&&!Ae&&((Ye=yt.current)===null||Ye===void 0||Ye.addEventListener("mouseenter",Gr),(Et=yt.current)===null||Et===void 0||Et.addEventListener("mouseleave",Ur)),ot.forEach(({event:un,listener:On})=>{kt.forEach(eo=>{var Vr;(Vr=eo.current)===null||Vr===void 0||Vr.addEventListener(un,On)})}),()=>{var un,On;Ie.scroll&&(window.removeEventListener("scroll",Rn),er==null||er.removeEventListener("scroll",Rn),sr==null||sr.removeEventListener("scroll",Rn)),Ie.resize?window.removeEventListener("resize",Rn):An==null||An(),Ie.clickOutsideAnchor&&window.removeEventListener("click",yn),Ie.escape&&window.removeEventListener("keydown",tr),y&&!Ae&&((un=yt.current)===null||un===void 0||un.removeEventListener("mouseenter",Gr),(On=yt.current)===null||On===void 0||On.removeEventListener("mouseleave",Ur)),ot.forEach(({event:eo,listener:Vr})=>{kt.forEach(La=>{var xi;(xi=La.current)===null||xi===void 0||xi.removeEventListener(eo,Vr)})})}},[se,wt,Nt,qn,Fe,ee,K,He,dt,v,S]),P.useEffect(()=>{var Ye,Et;let kt=(Et=(Ye=Ke==null?void 0:Ke.anchorSelect)!==null&&Ye!==void 0?Ye:a)!==null&&Et!==void 0?Et:"";!kt&&t&&(kt=`[data-tooltip-id='${t}']`);const Tn=new MutationObserver(Rn=>{const er=[],sr=[];Rn.forEach(An=>{if(An.type==="attributes"&&An.attributeName==="data-tooltip-id"&&(An.target.getAttribute("data-tooltip-id")===t?er.push(An.target):An.oldValue===t&&sr.push(An.target)),An.type==="childList"){if(se){const tr=[...An.removedNodes].filter(ot=>ot.nodeType===1);if(kt)try{sr.push(...tr.filter(ot=>ot.matches(kt))),sr.push(...tr.flatMap(ot=>[...ot.querySelectorAll(kt)]))}catch{}tr.some(ot=>{var Sr;return!!(!((Sr=ot==null?void 0:ot.contains)===null||Sr===void 0)&&Sr.call(ot,se))&&(Ct(!1),Dt(!1),Te(null),zt.current&&clearTimeout(zt.current),Yt.current&&clearTimeout(Yt.current),!0)})}if(kt)try{const tr=[...An.addedNodes].filter(ot=>ot.nodeType===1);er.push(...tr.filter(ot=>ot.matches(kt))),er.push(...tr.flatMap(ot=>[...ot.querySelectorAll(kt)]))}catch{}}}),(er.length||sr.length)&&ce(An=>[...An.filter(tr=>!sr.includes(tr)),...er])});return Tn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Tn.disconnect()}},[t,a,Ke==null?void 0:Ke.anchorSelect,se]),P.useEffect(()=>{wt()},[wt]),P.useEffect(()=>{if(!(at!=null&&at.current))return()=>null;const Ye=new ResizeObserver(()=>{setTimeout(()=>wt())});return Ye.observe(at.current),()=>{Ye.disconnect()}},[Lt,at==null?void 0:at.current]),P.useEffect(()=>{var Ye;const Et=document.querySelector(`[id='${o}']`),kt=[...Fe,Et];se&&kt.includes(se)||Te((Ye=Fe[0])!==null&&Ye!==void 0?Ye:Et)},[o,Fe,se]),P.useEffect(()=>(ye&&Dt(!0),()=>{zt.current&&clearTimeout(zt.current),Yt.current&&clearTimeout(Yt.current)}),[]),P.useEffect(()=>{var Ye;let Et=(Ye=Ke==null?void 0:Ke.anchorSelect)!==null&&Ye!==void 0?Ye:a;if(!Et&&t&&(Et=`[data-tooltip-id='${t}']`),Et)try{const kt=Array.from(document.querySelectorAll(Et));ce(kt)}catch{ce([])}},[t,a,Ke==null?void 0:Ke.anchorSelect]),P.useEffect(()=>{zt.current&&(clearTimeout(zt.current),$t(v))},[v]);const Ut=(Bt=Ke==null?void 0:Ke.content)!==null&&Bt!==void 0?Bt:Lt,mn=st&&Object.keys(Ft.tooltipStyles).length>0;return P.useImperativeHandle(e,()=>({open:Ye=>{if(Ye!=null&&Ye.anchorSelect)try{document.querySelector(Ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ye.anchorSelect}" is not a valid CSS selector`)}Gt(Ye??null),Ye!=null&&Ye.delay?$t(Ye.delay):Dt(!0)},close:Ye=>{Ye!=null&&Ye.delay?dn(Ye.delay):Dt(!1)},activeAnchor:se,place:Ft.place,isOpen:!!(Nt&&!g&&Ut&&mn)})),Nt&&!g&&Ut?go.createElement(m,{id:t,role:Zt,className:Mv("react-tooltip",ss.tooltip,dm.tooltip,dm[i],n,`react-tooltip__place-${Ft.place}`,ss[mn?"show":"closing"],mn?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&ss.fixed,y&&ss.clickable),onTransitionEnd:Ye=>{cn.current&&clearTimeout(cn.current),st||Ye.propertyName!=="opacity"||(Ct(!1),Gt(null),De==null||De())},style:{...Re,...Ft.tooltipStyles,opacity:Tt!==void 0&&mn?Tt:void 0},ref:yt},Ut,go.createElement(m,{className:Mv("react-tooltip-arrow",ss.arrow,dm.arrow,r,_&&ss.noArrow),style:{...Ft.tooltipArrowStyles,background:Pt?`linear-gradient(to right bottom, transparent 50%, ${Pt} 50%)`:void 0},ref:It})):null},Gk=({content:e})=>go.createElement("span",{dangerouslySetInnerHTML:{__html:e}});go.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:a,classNameArrow:l,variant:s="dark",place:u="top",offset:f=10,wrapper:h="div",children:c=null,events:m=["hover"],openOnClick:v=!1,positionStrategy:S="absolute",middlewares:L,delayShow:g=0,delayHide:_=0,float:y=!1,hidden:O=!1,noArrow:D=!1,clickable:U=!1,closeOnEsc:ee=!1,closeOnScroll:K=!1,closeOnResize:He=!1,openEvents:ve,closeEvents:Re,globalCloseEvents:Oe,imperativeModeOnly:Je=!1,style:De,position:Lt,isOpen:at,defaultIsOpen:lt=!1,disableStyleInjection:ye=!1,border:Le,opacity:se,arrowColor:Te,setIsOpen:rt,afterShow:Tt,afterHide:Pt,role:Zt="tooltip"},Bt)=>{const[yt,It]=P.useState(r),[zt,Yt]=P.useState(i),[cn,Ft]=P.useState(u),[Jt,st]=P.useState(s),[At,Nt]=P.useState(f),[Ct,Ke]=P.useState(g),[Gt,ln]=P.useState(_),[en,qn]=P.useState(y),[E,he]=P.useState(O),[Fe,ce]=P.useState(h),[xt,dt]=P.useState(m),[Ae,Rt]=P.useState(S),[Wt,Ie]=P.useState(null),[Dt,fn]=P.useState(null),$t=P.useRef(ye),{anchorRefs:dn,activeAnchor:pn}=O9(e),Ln=te=>te==null?void 0:te.getAttributeNames().reduce((gt,it)=>{var wt;return it.startsWith("data-tooltip-")&&(gt[it.replace(/^data-tooltip-/,"")]=(wt=te==null?void 0:te.getAttribute(it))!==null&&wt!==void 0?wt:null),gt},{}),wn=te=>{const gt={place:it=>{var wt;Ft((wt=it)!==null&&wt!==void 0?wt:u)},content:it=>{It(it??r)},html:it=>{Yt(it??i)},variant:it=>{var wt;st((wt=it)!==null&&wt!==void 0?wt:s)},offset:it=>{Nt(it===null?f:Number(it))},wrapper:it=>{var wt;ce((wt=it)!==null&&wt!==void 0?wt:h)},events:it=>{const wt=it==null?void 0:it.split(" ");dt(wt??m)},"position-strategy":it=>{var wt;Rt((wt=it)!==null&&wt!==void 0?wt:S)},"delay-show":it=>{Ke(it===null?g:Number(it))},"delay-hide":it=>{ln(it===null?_:Number(it))},float:it=>{qn(it===null?y:it==="true")},hidden:it=>{he(it===null?O:it==="true")},"class-name":it=>{Ie(it)}};Object.values(gt).forEach(it=>it(null)),Object.entries(te).forEach(([it,wt])=>{var Ut;(Ut=gt[it])===null||Ut===void 0||Ut.call(gt,wt)})};P.useEffect(()=>{It(r)},[r]),P.useEffect(()=>{Yt(i)},[i]),P.useEffect(()=>{Ft(u)},[u]),P.useEffect(()=>{st(s)},[s]),P.useEffect(()=>{Nt(f)},[f]),P.useEffect(()=>{Ke(g)},[g]),P.useEffect(()=>{ln(_)},[_]),P.useEffect(()=>{qn(y)},[y]),P.useEffect(()=>{he(O)},[O]),P.useEffect(()=>{Rt(S)},[S]),P.useEffect(()=>{$t.current!==ye&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ye]),P.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ye==="core",disableBase:ye}}))},[]),P.useEffect(()=>{var te;const gt=new Set(dn);let it=n;if(!it&&e&&(it=`[data-tooltip-id='${e}']`),it)try{document.querySelectorAll(it).forEach(Et=>{gt.add({current:Et})})}catch{console.warn(`[react-tooltip] "${it}" is not a valid CSS selector`)}const wt=document.querySelector(`[id='${t}']`);if(wt&&gt.add({current:wt}),!gt.size)return()=>null;const Ut=(te=Dt??wt)!==null&&te!==void 0?te:pn.current,mn=new MutationObserver(Et=>{Et.forEach(kt=>{var Tn;if(!Ut||kt.type!=="attributes"||!(!((Tn=kt.attributeName)===null||Tn===void 0)&&Tn.startsWith("data-tooltip-")))return;const Rn=Ln(Ut);wn(Rn)})}),Ye={attributes:!0,childList:!1,subtree:!1};if(Ut){const Et=Ln(Ut);wn(Et),mn.observe(Ut,Ye)}return()=>{mn.disconnect()}},[dn,pn,Dt,t,n]),P.useEffect(()=>{De!=null&&De.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Le&&!L6("border",`${Le}`)&&console.warn(`[react-tooltip] "${Le}" is not a valid \`border\`.`),De!=null&&De.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),se&&!L6("opacity",`${se}`)&&console.warn(`[react-tooltip] "${se}" is not a valid \`opacity\`.`)},[]);let lr=c;const yn=P.useRef(null);if(o){const te=o({content:(Dt==null?void 0:Dt.getAttribute("data-tooltip-content"))||yt||null,activeAnchor:Dt});lr=te?go.createElement("div",{ref:yn,className:"react-tooltip-content-wrapper"},te):null}else yt&&(lr=yt);zt&&(lr=go.createElement(Gk,{content:zt}));const gr={forwardRef:Bt,id:e,anchorId:t,anchorSelect:n,className:Mv(a,Wt),classNameArrow:l,content:lr,contentWrapperRef:yn,place:cn,variant:Jt,offset:At,wrapper:Fe,events:xt,openOnClick:v,positionStrategy:Ae,middlewares:L,delayShow:Ct,delayHide:Gt,float:en,hidden:E,noArrow:D,clickable:U,closeOnEsc:ee,closeOnScroll:K,closeOnResize:He,openEvents:ve,closeEvents:Re,globalCloseEvents:Oe,imperativeModeOnly:Je,style:De,position:Lt,isOpen:at,defaultIsOpen:lt,border:Le,opacity:se,arrowColor:Te,setIsOpen:rt,afterShow:Tt,afterHide:Pt,activeAnchor:Dt,setActiveAnchor:te=>fn(te),role:Zt};return go.createElement(zk,{...gr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||A6({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||A6({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});nt.shape({id:nt.string.isRequired}).isRequired,nt.string.isRequired,nt.object,nt.array,nt.array,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.array.isRequired,nt.array.isRequired,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.array,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.string,nt.func.isRequired,nt.func,nt.func,nt.func,nt.func;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.object,nt.object,nt.string,nt.func.isRequired,nt.func.isRequired;const Uk=()=>X.jsx("nav",{children:X.jsx("ul",{children:X.jsx("li",{children:X.jsx(n8,{to:"/",children:"Latent Scope"})})})});var Vk={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const k9=Vk;console.log("ENV",k9);function Hk(){return X.jsxs(Nw,{basename:k9.BASE_NAME,children:[X.jsx(Uk,{}),X.jsx("div",{className:"page",children:X.jsxs(Cw,{children:[X.jsx(hd,{path:"/",element:X.jsx(Gw,{})}),X.jsx(hd,{path:"/datasets/:dataset/explore/:scope",element:X.jsx(FO,{})}),X.jsx(hd,{path:"/datasets/:dataset/compare/",element:X.jsx(KO,{})}),null,null,null,null]})})]})}hm.createRoot(document.getElementById("root")).render(X.jsx(go.StrictMode,{children:X.jsx(Hk,{})}));
