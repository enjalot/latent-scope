function Q8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Z8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A3={exports:{}},jd={},C3={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),K8=Symbol.for("react.portal"),J8=Symbol.for("react.fragment"),e9=Symbol.for("react.strict_mode"),t9=Symbol.for("react.profiler"),n9=Symbol.for("react.provider"),r9=Symbol.for("react.context"),i9=Symbol.for("react.forward_ref"),a9=Symbol.for("react.suspense"),o9=Symbol.for("react.memo"),l9=Symbol.for("react.lazy"),ng=Symbol.iterator;function s9(e){return e===null||typeof e!="object"?null:(e=ng&&e[ng]||e["@@iterator"],typeof e=="function"?e:null)}var b3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L3=Object.assign,R3={};function Es(e,t,n){this.props=e,this.context=t,this.refs=R3,this.updater=n||b3}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P3(){}P3.prototype=Es.prototype;function Jm(e,t,n){this.props=e,this.context=t,this.refs=R3,this.updater=n||b3}var ev=Jm.prototype=new P3;ev.constructor=Jm;L3(ev,Es.prototype);ev.isPureReactComponent=!0;var rg=Array.isArray,O3=Object.prototype.hasOwnProperty,tv={current:null},k3={key:!0,ref:!0,__self:!0,__source:!0};function M3(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)O3.call(t,r)&&!k3.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bc,type:e,key:a,ref:o,props:i,_owner:tv.current}}function u9(e,t){return{$$typeof:bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nv(e){return typeof e=="object"&&e!==null&&e.$$typeof===bc}function c9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ig=/\/+/g;function F1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c9(""+e.key):t.toString(36)}function O0(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bc:case K8:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+F1(o,0):r,rg(i)?(n="",e!=null&&(n=e.replace(ig,"$&/")+"/"),O0(i,t,n,"",function(u){return u})):i!=null&&(nv(i)&&(i=u9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ig,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",rg(e))for(var l=0;l<e.length;l++){a=e[l];var s=r+F1(a,l);o+=O0(a,t,n,s,i)}else if(s=s9(e),typeof s=="function")for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=r+F1(a,l++),o+=O0(a,t,n,s,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function n0(e,t,n){if(e==null)return e;var r=[],i=0;return O0(e,r,"","",function(a){return t.call(n,a,i++)}),r}function f9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},k0={transition:null},d9={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:k0,ReactCurrentOwner:tv};Gt.Children={map:n0,forEach:function(e,t,n){n0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return n0(e,function(){t++}),t},toArray:function(e){return n0(e,function(t){return t})||[]},only:function(e){if(!nv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=Es;Gt.Fragment=J8;Gt.Profiler=t9;Gt.PureComponent=Jm;Gt.StrictMode=e9;Gt.Suspense=a9;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d9;Gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=L3({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=tv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)O3.call(t,s)&&!k3.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bc,type:e.type,key:i,ref:a,props:r,_owner:o}};Gt.createContext=function(e){return e={$$typeof:r9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n9,_context:e},e.Consumer=e};Gt.createElement=M3;Gt.createFactory=function(e){var t=M3.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:i9,render:e}};Gt.isValidElement=nv;Gt.lazy=function(e){return{$$typeof:l9,_payload:{_status:-1,_result:e},_init:f9}};Gt.memo=function(e,t){return{$$typeof:o9,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=k0.transition;k0.transition={};try{e()}finally{k0.transition=t}};Gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gt.useCallback=function(e,t){return hr.current.useCallback(e,t)};Gt.useContext=function(e){return hr.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return hr.current.useEffect(e,t)};Gt.useId=function(){return hr.current.useId()};Gt.useImperativeHandle=function(e,t,n){return hr.current.useImperativeHandle(e,t,n)};Gt.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return hr.current.useMemo(e,t)};Gt.useReducer=function(e,t,n){return hr.current.useReducer(e,t,n)};Gt.useRef=function(e){return hr.current.useRef(e)};Gt.useState=function(e){return hr.current.useState(e)};Gt.useSyncExternalStore=function(e,t,n){return hr.current.useSyncExternalStore(e,t,n)};Gt.useTransition=function(){return hr.current.useTransition()};Gt.version="18.2.0";C3.exports=Gt;var K=C3.exports;const N3=Gd(K),h9=Q8({__proto__:null,default:N3},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p9=K,m9=Symbol.for("react.element"),v9=Symbol.for("react.fragment"),g9=Object.prototype.hasOwnProperty,y9=p9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x9={key:!0,ref:!0,__self:!0,__source:!0};function I3(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)g9.call(t,r)&&!x9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:m9,type:e,key:a,ref:o,props:i,_owner:y9.current}}jd.Fragment=v9;jd.jsx=I3;jd.jsxs=I3;A3.exports=jd;var ue=A3.exports,Np={},D3={exports:{}},$r={},F3={exports:{}},B3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Xe){var _e=we.length;we.push(Xe);e:for(;0<_e;){var be=_e-1>>>1,Je=we[be];if(0<i(Je,Xe))we[be]=Xe,we[_e]=Je,_e=be;else break e}}function n(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Xe=we[0],_e=we.pop();if(_e!==Xe){we[0]=_e;e:for(var be=0,Je=we.length,wt=Je>>>1;be<wt;){var Lt=2*(be+1)-1,Xt=we[Lt],qt=Lt+1,Nt=we[qt];if(0>i(Xt,_e))qt<Je&&0>i(Nt,Xt)?(we[be]=Nt,we[qt]=_e,be=qt):(we[be]=Xt,we[Lt]=_e,be=Lt);else if(qt<Je&&0>i(Nt,_e))we[be]=Nt,we[qt]=_e,be=qt;else break e}}return Xe}function i(we,Xe){var _e=we.sortIndex-Xe.sortIndex;return _e!==0?_e:we.id-Xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,p=null,c=3,v=!1,x=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(we){for(var Xe=n(u);Xe!==null;){if(Xe.callback===null)r(u);else if(Xe.startTime<=we)r(u),Xe.sortIndex=Xe.expirationTime,t(s,Xe);else break;Xe=n(u)}}function O(we){if(R=!1,E(we),!x)if(n(s)!==null)x=!0,gt(G);else{var Xe=n(u);Xe!==null&&pt(O,Xe.startTime-we)}}function G(we,Xe){x=!1,R&&(R=!1,g(J),J=-1),v=!0;var _e=c;try{for(E(Xe),p=n(s);p!==null&&(!(p.expirationTime>Xe)||we&&!je());){var be=p.callback;if(typeof be=="function"){p.callback=null,c=p.priorityLevel;var Je=be(p.expirationTime<=Xe);Xe=e.unstable_now(),typeof Je=="function"?p.callback=Je:p===n(s)&&r(s),E(Xe)}else r(s);p=n(s)}if(p!==null)var wt=!0;else{var Lt=n(u);Lt!==null&&pt(O,Lt.startTime-Xe),wt=!1}return wt}finally{p=null,c=_e,v=!1}}var q=!1,de=null,J=-1,Ze=5,ke=-1;function je(){return!(e.unstable_now()-ke<Ze)}function We(){if(de!==null){var we=e.unstable_now();ke=we;var Xe=!0;try{Xe=de(!0,we)}finally{Xe?nt():(q=!1,de=null)}}else q=!1}var nt;if(typeof T=="function")nt=function(){T(We)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ht=Qe.port2;Qe.port1.onmessage=We,nt=function(){Ht.postMessage(null)}}else nt=function(){M(We,0)};function gt(we){de=we,q||(q=!0,nt())}function pt(we,Xe){J=M(function(){we(e.unstable_now())},Xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,gt(G))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(we){switch(c){case 1:case 2:case 3:var Xe=3;break;default:Xe=c}var _e=c;c=Xe;try{return we()}finally{c=_e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Xe){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var _e=c;c=we;try{return Xe()}finally{c=_e}},e.unstable_scheduleCallback=function(we,Xe,_e){var be=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?be+_e:be):_e=be,we){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=_e+Je,we={id:d++,callback:Xe,priorityLevel:we,startTime:_e,expirationTime:Je,sortIndex:-1},_e>be?(we.sortIndex=_e,t(u,we),n(s)===null&&we===n(u)&&(R?(g(J),J=-1):R=!0,pt(O,_e-be))):(we.sortIndex=Je,t(s,we),x||v||(x=!0,gt(G))),we},e.unstable_shouldYield=je,e.unstable_wrapCallback=function(we){var Xe=c;return function(){var _e=c;c=Xe;try{return we.apply(this,arguments)}finally{c=_e}}}})(B3);F3.exports=B3;var _9=F3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3=K,Fr=_9;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z3=new Set,ec={};function Jo(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(ec[e]=t,e=0;e<t.length;e++)z3.add(t[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,w9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ag={},og={};function E9(e){return Ip.call(og,e)?!0:Ip.call(ag,e)?!1:w9.test(e)?og[e]=!0:(ag[e]=!0,!1)}function S9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T9(e,t,n,r){if(t===null||typeof t>"u"||S9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function iv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rv,iv);tr[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rv,iv);tr[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rv,iv);tr[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function av(e,t,n,r){var i=tr.hasOwnProperty(t)?tr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T9(t,n,i,r)&&(n=null),r||i===null?E9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ua=$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r0=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),G3=Symbol.for("react.provider"),j3=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),U3=Symbol.for("react.offscreen"),lg=Symbol.iterator;function Eu(e){return e===null||typeof e!="object"?null:(e=lg&&e[lg]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,B1;function Iu(e){if(B1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B1=t&&t[1]||""}return`
`+B1+e}var $1=!1;function z1(e,t){if(!e||$1)return"";$1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var s=`
`+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l);break}}}finally{$1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Iu(e):""}function A9(e){switch(e.tag){case 5:return Iu(e.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return e=z1(e.type,!1),e;case 11:return e=z1(e.type.render,!1),e;case 1:return e=z1(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vl:return"Fragment";case Ul:return"Portal";case Dp:return"Profiler";case ov:return"StrictMode";case Fp:return"Suspense";case Bp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j3:return(e.displayName||"Context")+".Consumer";case G3:return(e._context.displayName||"Context")+".Provider";case lv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case Na:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function C9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Za(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b9(e){var t=V3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function i0(e){e._valueTracker||(e._valueTracker=b9(e))}function H3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Z0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zp(e,t){var n=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Za(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W3(e,t){t=t.checked,t!=null&&av(e,"checked",t,!1)}function Gp(e,t){W3(e,t);var n=Za(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jp(e,t.type,n):t.hasOwnProperty("defaultValue")&&jp(e,t.type,Za(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ug(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jp(e,t,n){(t!=="number"||Z0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Du=Array.isArray;function rs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Za(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(Du(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Za(n)}}function X3(e,t){var n=Za(t.value),r=Za(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var a0,q3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(a0=a0||document.createElement("div"),a0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=a0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L9=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){L9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function Q3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function Z3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var R9=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hp(e,t){if(t){if(R9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function Wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function uv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yp=null,is=null,as=null;function dg(e){if(e=Pc(e)){if(typeof Yp!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=Xd(t),Yp(e.stateNode,e.type,t))}}function K3(e){is?as?as.push(e):as=[e]:is=e}function J3(){if(is){var e=is,t=as;if(as=is=null,dg(e),t)for(e=0;e<t.length;e++)dg(t[e])}}function e4(e,t){return e(t)}function t4(){}var G1=!1;function n4(e,t,n){if(G1)return e(t,n);G1=!0;try{return e4(e,t,n)}finally{G1=!1,(is!==null||as!==null)&&(t4(),J3())}}function nc(e,t){var n=e.stateNode;if(n===null)return null;var r=Xd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var qp=!1;if(ia)try{var Su={};Object.defineProperty(Su,"passive",{get:function(){qp=!0}}),window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{qp=!1}function P9(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Uu=!1,K0=null,J0=!1,Qp=null,O9={onError:function(e){Uu=!0,K0=e}};function k9(e,t,n,r,i,a,o,l,s){Uu=!1,K0=null,P9.apply(O9,arguments)}function M9(e,t,n,r,i,a,o,l,s){if(k9.apply(this,arguments),Uu){if(Uu){var u=K0;Uu=!1,K0=null}else throw Error(Oe(198));J0||(J0=!0,Qp=u)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hg(e){if(el(e)!==e)throw Error(Oe(188))}function N9(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return hg(i),e;if(a===r)return hg(i),t;a=a.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function i4(e){return e=N9(e),e!==null?a4(e):null}function a4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a4(e);if(t!==null)return t;e=e.sibling}return null}var o4=Fr.unstable_scheduleCallback,pg=Fr.unstable_cancelCallback,I9=Fr.unstable_shouldYield,D9=Fr.unstable_requestPaint,In=Fr.unstable_now,F9=Fr.unstable_getCurrentPriorityLevel,cv=Fr.unstable_ImmediatePriority,l4=Fr.unstable_UserBlockingPriority,ed=Fr.unstable_NormalPriority,B9=Fr.unstable_LowPriority,s4=Fr.unstable_IdlePriority,Ud=null,Ni=null;function $9(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Ud,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:j9,z9=Math.log,G9=Math.LN2;function j9(e){return e>>>=0,e===0?32:31-(z9(e)/G9|0)|0}var o0=64,l0=4194304;function Fu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function td(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Fu(l):(a&=o,a!==0&&(r=Fu(a)))}else o=n&~i,o!==0?r=Fu(o):a!==0&&(r=Fu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hi(t),i=1<<n,r|=e[n],t&=~i;return r}function U9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-hi(a),l=1<<o,s=i[o];s===-1?(!(l&n)||l&r)&&(i[o]=U9(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}function Zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u4(){var e=o0;return o0<<=1,!(o0&4194240)&&(o0=64),e}function j1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=n}function H9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function fv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Zt=0;function c4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f4,dv,d4,h4,p4,Kp=!1,s0=[],ja=null,Ua=null,Va=null,rc=new Map,ic=new Map,Da=[],W9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mg(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(t.pointerId)}}function Tu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Pc(t),t!==null&&dv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function X9(e,t,n,r,i){switch(t){case"focusin":return ja=Tu(ja,e,t,n,r,i),!0;case"dragenter":return Ua=Tu(Ua,e,t,n,r,i),!0;case"mouseover":return Va=Tu(Va,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return rc.set(a,Tu(rc.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ic.set(a,Tu(ic.get(a)||null,e,t,n,r,i)),!0}return!1}function m4(e){var t=Io(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=r4(n),t!==null){e.blockedOn=t,p4(e.priority,function(){d4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function M0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return t=Pc(n),t!==null&&dv(t),e.blockedOn=n,!1;t.shift()}return!0}function vg(e,t,n){M0(e)&&n.delete(t)}function Y9(){Kp=!1,ja!==null&&M0(ja)&&(ja=null),Ua!==null&&M0(Ua)&&(Ua=null),Va!==null&&M0(Va)&&(Va=null),rc.forEach(vg),ic.forEach(vg)}function Au(e,t){e.blockedOn===t&&(e.blockedOn=null,Kp||(Kp=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,Y9)))}function ac(e){function t(i){return Au(i,e)}if(0<s0.length){Au(s0[0],e);for(var n=1;n<s0.length;n++){var r=s0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ja!==null&&Au(ja,e),Ua!==null&&Au(Ua,e),Va!==null&&Au(Va,e),rc.forEach(t),ic.forEach(t),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)m4(n),n.blockedOn===null&&Da.shift()}var os=ua.ReactCurrentBatchConfig,nd=!0;function q9(e,t,n,r){var i=Zt,a=os.transition;os.transition=null;try{Zt=1,hv(e,t,n,r)}finally{Zt=i,os.transition=a}}function Q9(e,t,n,r){var i=Zt,a=os.transition;os.transition=null;try{Zt=4,hv(e,t,n,r)}finally{Zt=i,os.transition=a}}function hv(e,t,n,r){if(nd){var i=Jp(e,t,n,r);if(i===null)K1(e,t,r,rd,n),mg(e,r);else if(X9(i,e,t,n,r))r.stopPropagation();else if(mg(e,r),t&4&&-1<W9.indexOf(e)){for(;i!==null;){var a=Pc(i);if(a!==null&&f4(a),a=Jp(e,t,n,r),a===null&&K1(e,t,r,rd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else K1(e,t,r,null,n)}}var rd=null;function Jp(e,t,n,r){if(rd=null,e=uv(r),e=Io(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rd=e,null}function v4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F9()){case cv:return 1;case l4:return 4;case ed:case B9:return 16;case s4:return 536870912;default:return 16}default:return 16}}var Ba=null,pv=null,N0=null;function g4(){if(N0)return N0;var e,t=pv,n=t.length,r,i="value"in Ba?Ba.value:Ba.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return N0=i.slice(e,1<r?1-r:void 0)}function I0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function u0(){return!0}function gg(){return!1}function zr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?u0:gg,this.isPropagationStopped=gg,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=u0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=u0)},persist:function(){},isPersistent:u0}),t}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=zr(Ss),Rc=En({},Ss,{view:0,detail:0}),Z9=zr(Rc),U1,V1,Cu,Vd=En({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cu&&(Cu&&e.type==="mousemove"?(U1=e.screenX-Cu.screenX,V1=e.screenY-Cu.screenY):V1=U1=0,Cu=e),U1)},movementY:function(e){return"movementY"in e?e.movementY:V1}}),yg=zr(Vd),K9=En({},Vd,{dataTransfer:0}),J9=zr(K9),e7=En({},Rc,{relatedTarget:0}),H1=zr(e7),t7=En({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),n7=zr(t7),r7=En({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i7=zr(r7),a7=En({},Ss,{data:0}),xg=zr(a7),o7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s7[e])?!!t[e]:!1}function vv(){return u7}var c7=En({},Rc,{key:function(e){if(e.key){var t=o7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=I0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(e){return e.type==="keypress"?I0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?I0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f7=zr(c7),d7=En({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_g=zr(d7),h7=En({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),p7=zr(h7),m7=En({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),v7=zr(m7),g7=En({},Vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y7=zr(g7),x7=[9,13,27,32],gv=ia&&"CompositionEvent"in window,Vu=null;ia&&"documentMode"in document&&(Vu=document.documentMode);var _7=ia&&"TextEvent"in window&&!Vu,y4=ia&&(!gv||Vu&&8<Vu&&11>=Vu),wg=" ",Eg=!1;function x4(e,t){switch(e){case"keyup":return x7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function w7(e,t){switch(e){case"compositionend":return _4(t);case"keypress":return t.which!==32?null:(Eg=!0,wg);case"textInput":return e=t.data,e===wg&&Eg?null:e;default:return null}}function E7(e,t){if(Hl)return e==="compositionend"||!gv&&x4(e,t)?(e=g4(),N0=pv=Ba=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y4&&t.locale!=="ko"?null:t.data;default:return null}}var S7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S7[e.type]:t==="textarea"}function w4(e,t,n,r){K3(r),t=id(t,"onChange"),0<t.length&&(n=new mv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hu=null,oc=null;function T7(e){k4(e,0)}function Hd(e){var t=Yl(e);if(H3(t))return e}function A7(e,t){if(e==="change")return t}var E4=!1;if(ia){var W1;if(ia){var X1="oninput"in document;if(!X1){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),X1=typeof Tg.oninput=="function"}W1=X1}else W1=!1;E4=W1&&(!document.documentMode||9<document.documentMode)}function Ag(){Hu&&(Hu.detachEvent("onpropertychange",S4),oc=Hu=null)}function S4(e){if(e.propertyName==="value"&&Hd(oc)){var t=[];w4(t,oc,e,uv(e)),n4(T7,t)}}function C7(e,t,n){e==="focusin"?(Ag(),Hu=t,oc=n,Hu.attachEvent("onpropertychange",S4)):e==="focusout"&&Ag()}function b7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hd(oc)}function L7(e,t){if(e==="click")return Hd(t)}function R7(e,t){if(e==="input"||e==="change")return Hd(t)}function P7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:P7;function lc(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(t,i)||!mi(e[i],t[i]))return!1}return!0}function Cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,t){var n=Cg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cg(n)}}function T4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A4(){for(var e=window,t=Z0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Z0(e.document)}return t}function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O7(e){var t=A4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&T4(n.ownerDocument.documentElement,n)){if(r!==null&&yv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=bg(n,a);var o=bg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k7=ia&&"documentMode"in document&&11>=document.documentMode,Wl=null,em=null,Wu=null,tm=!1;function Lg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||Wl==null||Wl!==Z0(r)||(r=Wl,"selectionStart"in r&&yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wu&&lc(Wu,r)||(Wu=r,r=id(em,"onSelect"),0<r.length&&(t=new mv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wl)))}function c0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xl={animationend:c0("Animation","AnimationEnd"),animationiteration:c0("Animation","AnimationIteration"),animationstart:c0("Animation","AnimationStart"),transitionend:c0("Transition","TransitionEnd")},Y1={},C4={};ia&&(C4=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Wd(e){if(Y1[e])return Y1[e];if(!Xl[e])return e;var t=Xl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in C4)return Y1[e]=t[n];return e}var b4=Wd("animationend"),L4=Wd("animationiteration"),R4=Wd("animationstart"),P4=Wd("transitionend"),O4=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(e,t){O4.set(e,t),Jo(t,[e])}for(var q1=0;q1<Rg.length;q1++){var Q1=Rg[q1],M7=Q1.toLowerCase(),N7=Q1[0].toUpperCase()+Q1.slice(1);eo(M7,"on"+N7)}eo(b4,"onAnimationEnd");eo(L4,"onAnimationIteration");eo(R4,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(P4,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function Pg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,M9(r,t,void 0,e),e.currentTarget=null}function k4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;Pg(i,l,u),a=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;Pg(i,l,u),a=s}}}if(J0)throw e=Qp,J0=!1,Qp=null,e}function sn(e,t){var n=t[om];n===void 0&&(n=t[om]=new Set);var r=e+"__bubble";n.has(r)||(M4(t,e,2,!1),n.add(r))}function Z1(e,t,n){var r=0;t&&(r|=4),M4(n,e,r,t)}var f0="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[f0]){e[f0]=!0,z3.forEach(function(n){n!=="selectionchange"&&(I7.has(n)||Z1(n,!1,e),Z1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[f0]||(t[f0]=!0,Z1("selectionchange",!1,t))}}function M4(e,t,n,r){switch(v4(t)){case 1:var i=q9;break;case 4:i=Q9;break;default:i=hv}n=i.bind(null,t,n,e),i=void 0,!qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function K1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Io(l),o===null)return;if(s=o.tag,s===5||s===6){r=a=o;continue e}l=l.parentNode}}r=r.return}n4(function(){var u=a,d=uv(n),p=[];e:{var c=O4.get(e);if(c!==void 0){var v=mv,x=e;switch(e){case"keypress":if(I0(n)===0)break e;case"keydown":case"keyup":v=f7;break;case"focusin":x="focus",v=H1;break;case"focusout":x="blur",v=H1;break;case"beforeblur":case"afterblur":v=H1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=J9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=p7;break;case b4:case L4:case R4:v=n7;break;case P4:v=v7;break;case"scroll":v=Z9;break;case"wheel":v=y7;break;case"copy":case"cut":case"paste":v=i7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_g}var R=(t&4)!==0,M=!R&&e==="scroll",g=R?c!==null?c+"Capture":null:c;R=[];for(var T=u,E;T!==null;){E=T;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,g!==null&&(O=nc(T,g),O!=null&&R.push(uc(T,O,E)))),M)break;T=T.return}0<R.length&&(c=new v(c,x,null,n,d),p.push({event:c,listeners:R}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",c&&n!==Xp&&(x=n.relatedTarget||n.fromElement)&&(Io(x)||x[aa]))break e;if((v||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Io(x):null,x!==null&&(M=el(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(R=yg,O="onMouseLeave",g="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(R=_g,O="onPointerLeave",g="onPointerEnter",T="pointer"),M=v==null?c:Yl(v),E=x==null?c:Yl(x),c=new R(O,T+"leave",v,n,d),c.target=M,c.relatedTarget=E,O=null,Io(d)===u&&(R=new R(g,T+"enter",x,n,d),R.target=E,R.relatedTarget=M,O=R),M=O,v&&x)t:{for(R=v,g=x,T=0,E=R;E;E=Bl(E))T++;for(E=0,O=g;O;O=Bl(O))E++;for(;0<T-E;)R=Bl(R),T--;for(;0<E-T;)g=Bl(g),E--;for(;T--;){if(R===g||g!==null&&R===g.alternate)break t;R=Bl(R),g=Bl(g)}R=null}else R=null;v!==null&&Og(p,c,v,R,!1),x!==null&&M!==null&&Og(p,M,x,R,!0)}}e:{if(c=u?Yl(u):window,v=c.nodeName&&c.nodeName.toLowerCase(),v==="select"||v==="input"&&c.type==="file")var G=A7;else if(Sg(c))if(E4)G=R7;else{G=b7;var q=C7}else(v=c.nodeName)&&v.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(G=L7);if(G&&(G=G(e,u))){w4(p,G,n,d);break e}q&&q(e,c,u),e==="focusout"&&(q=c._wrapperState)&&q.controlled&&c.type==="number"&&jp(c,"number",c.value)}switch(q=u?Yl(u):window,e){case"focusin":(Sg(q)||q.contentEditable==="true")&&(Wl=q,em=u,Wu=null);break;case"focusout":Wu=em=Wl=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,Lg(p,n,d);break;case"selectionchange":if(k7)break;case"keydown":case"keyup":Lg(p,n,d)}var de;if(gv)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Hl?x4(e,n)&&(J="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(y4&&n.locale!=="ko"&&(Hl||J!=="onCompositionStart"?J==="onCompositionEnd"&&Hl&&(de=g4()):(Ba=d,pv="value"in Ba?Ba.value:Ba.textContent,Hl=!0)),q=id(u,J),0<q.length&&(J=new xg(J,e,null,n,d),p.push({event:J,listeners:q}),de?J.data=de:(de=_4(n),de!==null&&(J.data=de)))),(de=_7?w7(e,n):E7(e,n))&&(u=id(u,"onBeforeInput"),0<u.length&&(d=new xg("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=de))}k4(p,t)})}function uc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=nc(e,n),a!=null&&r.unshift(uc(e,a,i)),a=nc(e,t),a!=null&&r.push(uc(e,a,i))),e=e.return}return r}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Og(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=nc(n,a),s!=null&&o.unshift(uc(n,s,l))):i||(s=nc(n,a),s!=null&&o.push(uc(n,s,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var D7=/\r\n?/g,F7=/\u0000|\uFFFD/g;function kg(e){return(typeof e=="string"?e:""+e).replace(D7,`
`).replace(F7,"")}function d0(e,t,n){if(t=kg(t),kg(e)!==t&&n)throw Error(Oe(425))}function ad(){}var nm=null,rm=null;function im(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var am=typeof setTimeout=="function"?setTimeout:void 0,B7=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,$7=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(z7)}:am;function z7(e){setTimeout(function(){throw e})}function J1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ac(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ac(t)}function Ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Ts,cc="__reactProps$"+Ts,aa="__reactContainer$"+Ts,om="__reactEvents$"+Ts,G7="__reactListeners$"+Ts,j7="__reactHandles$"+Ts;function Io(e){var t=e[Mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[aa]||n[Mi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ng(e);e!==null;){if(n=e[Mi])return n;e=Ng(e)}return t}e=n,n=e.parentNode}return null}function Pc(e){return e=e[Mi]||e[aa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function Xd(e){return e[cc]||null}var lm=[],ql=-1;function to(e){return{current:e}}function un(e){0>ql||(e.current=lm[ql],lm[ql]=null,ql--)}function rn(e,t){ql++,lm[ql]=e.current,e.current=t}var Ka={},lr=to(Ka),Er=to(!1),Uo=Ka;function ds(e,t){var n=e.type.contextTypes;if(!n)return Ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(e){return e=e.childContextTypes,e!=null}function od(){un(Er),un(lr)}function Ig(e,t,n){if(lr.current!==Ka)throw Error(Oe(168));rn(lr,t),rn(Er,n)}function N4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,C9(e)||"Unknown",i));return En({},n,r)}function ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,Uo=lr.current,rn(lr,e),rn(Er,Er.current),!0}function Dg(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=N4(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=e,un(Er),un(lr),rn(lr,e)):un(Er),rn(Er,n)}var ea=null,Yd=!1,ep=!1;function I4(e){ea===null?ea=[e]:ea.push(e)}function U7(e){Yd=!0,I4(e)}function no(){if(!ep&&ea!==null){ep=!0;var e=0,t=Zt;try{var n=ea;for(Zt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ea=null,Yd=!1}catch(i){throw ea!==null&&(ea=ea.slice(e+1)),o4(cv,no),i}finally{Zt=t,ep=!1}}return null}var Ql=[],Zl=0,sd=null,ud=0,Yr=[],qr=0,Vo=null,ta=1,na="";function ko(e,t){Ql[Zl++]=ud,Ql[Zl++]=sd,sd=e,ud=t}function D4(e,t,n){Yr[qr++]=ta,Yr[qr++]=na,Yr[qr++]=Vo,Vo=e;var r=ta;e=na;var i=32-hi(r)-1;r&=~(1<<i),n+=1;var a=32-hi(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ta=1<<32-hi(t)+i|n<<i|r,na=a+e}else ta=1<<a|n<<i|r,na=e}function xv(e){e.return!==null&&(ko(e,1),D4(e,1,0))}function _v(e){for(;e===sd;)sd=Ql[--Zl],Ql[Zl]=null,ud=Ql[--Zl],Ql[Zl]=null;for(;e===Vo;)Vo=Yr[--qr],Yr[qr]=null,na=Yr[--qr],Yr[qr]=null,ta=Yr[--qr],Yr[qr]=null}var Dr=null,Ir=null,hn=!1,ci=null;function F4(e,t){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Ir=Ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vo!==null?{id:ta,overflow:na}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dr=e,Ir=null,!0):!1;default:return!1}}function sm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function um(e){if(hn){var t=Ir;if(t){var n=t;if(!Fg(e,t)){if(sm(e))throw Error(Oe(418));t=Ha(n.nextSibling);var r=Dr;t&&Fg(e,t)?F4(r,n):(e.flags=e.flags&-4097|2,hn=!1,Dr=e)}}else{if(sm(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,hn=!1,Dr=e}}}function Bg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function h0(e){if(e!==Dr)return!1;if(!hn)return Bg(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!im(e.type,e.memoizedProps)),t&&(t=Ir)){if(sm(e))throw B4(),Error(Oe(418));for(;t;)F4(e,t),t=Ha(t.nextSibling)}if(Bg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ir=Ha(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ir=null}}else Ir=Dr?Ha(e.stateNode.nextSibling):null;return!0}function B4(){for(var e=Ir;e;)e=Ha(e.nextSibling)}function hs(){Ir=Dr=null,hn=!1}function wv(e){ci===null?ci=[e]:ci.push(e)}var V7=ua.ReactCurrentBatchConfig;function si(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var cd=to(null),fd=null,Kl=null,Ev=null;function Sv(){Ev=Kl=fd=null}function Tv(e){var t=cd.current;un(cd),e._currentValue=t}function cm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ls(e,t){fd=e,Ev=Kl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(Ev!==e)if(e={context:e,memoizedValue:t,next:null},Kl===null){if(fd===null)throw Error(Oe(308));Kl=e,fd.dependencies={lanes:0,firstContext:e}}else Kl=Kl.next=e;return t}var Do=null;function Av(e){Do===null?Do=[e]:Do.push(e)}function $4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Av(t)):(n.next=i.next,i.next=n),t.interleaved=n,oa(e,r)}function oa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ia=!1;function Cv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,oa(e,n)}return i=r.interleaved,i===null?(t.next=t,Av(r)):(t.next=i.next,i.next=t),r.interleaved=t,oa(e,n)}function D0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fv(e,n)}}function $g(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dd(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?a=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(a!==null){var p=i.baseState;o=0,d=u=s=null,l=a;do{var c=l.lane,v=l.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,R=l;switch(c=t,v=n,R.tag){case 1:if(x=R.payload,typeof x=="function"){p=x.call(v,p,c);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=R.payload,c=typeof x=="function"?x.call(v,p,c):x,c==null)break e;p=En({},p,c);break e;case 2:Ia=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else v={eventTime:v,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,s=p):d=d.next=v,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(d===null&&(s=p),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Wo|=o,e.lanes=o,e.memoizedState=p}}function zg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var G4=new $3.Component().refs;function fm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:En({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qd={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dr(),i=Ya(e),a=ra(r,i);a.payload=t,n!=null&&(a.callback=n),t=Wa(e,a,i),t!==null&&(pi(t,e,i,r),D0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dr(),i=Ya(e),a=ra(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Wa(e,a,i),t!==null&&(pi(t,e,i,r),D0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dr(),r=Ya(e),i=ra(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wa(e,i,r),t!==null&&(pi(t,e,r,n),D0(t,e,r))}};function Gg(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!lc(n,r)||!lc(i,a):!0}function j4(e,t,n){var r=!1,i=Ka,a=t.contextType;return typeof a=="object"&&a!==null?a=Kr(a):(i=Sr(t)?Uo:lr.current,r=t.contextTypes,a=(r=r!=null)?ds(e,i):Ka),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function jg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qd.enqueueReplaceState(t,t.state,null)}function dm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=G4,Cv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Kr(a):(a=Sr(t)?Uo:lr.current,i.context=ds(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qd.enqueueReplaceState(i,i.state,null),dd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;l===G4&&(l=i.refs={}),o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function p0(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ug(e){var t=e._init;return t(e._payload)}function U4(e){function t(g,T){if(e){var E=g.deletions;E===null?(g.deletions=[T],g.flags|=16):E.push(T)}}function n(g,T){if(!e)return null;for(;T!==null;)t(g,T),T=T.sibling;return null}function r(g,T){for(g=new Map;T!==null;)T.key!==null?g.set(T.key,T):g.set(T.index,T),T=T.sibling;return g}function i(g,T){return g=qa(g,T),g.index=0,g.sibling=null,g}function a(g,T,E){return g.index=E,e?(E=g.alternate,E!==null?(E=E.index,E<T?(g.flags|=2,T):E):(g.flags|=2,T)):(g.flags|=1048576,T)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,T,E,O){return T===null||T.tag!==6?(T=lp(E,g.mode,O),T.return=g,T):(T=i(T,E),T.return=g,T)}function s(g,T,E,O){var G=E.type;return G===Vl?d(g,T,E.props.children,O,E.key):T!==null&&(T.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Na&&Ug(G)===T.type)?(O=i(T,E.props),O.ref=bu(g,T,E),O.return=g,O):(O=j0(E.type,E.key,E.props,null,g.mode,O),O.ref=bu(g,T,E),O.return=g,O)}function u(g,T,E,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=sp(E,g.mode,O),T.return=g,T):(T=i(T,E.children||[]),T.return=g,T)}function d(g,T,E,O,G){return T===null||T.tag!==7?(T=zo(E,g.mode,O,G),T.return=g,T):(T=i(T,E),T.return=g,T)}function p(g,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=lp(""+T,g.mode,E),T.return=g,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case r0:return E=j0(T.type,T.key,T.props,null,g.mode,E),E.ref=bu(g,null,T),E.return=g,E;case Ul:return T=sp(T,g.mode,E),T.return=g,T;case Na:var O=T._init;return p(g,O(T._payload),E)}if(Du(T)||Eu(T))return T=zo(T,g.mode,E,null),T.return=g,T;p0(g,T)}return null}function c(g,T,E,O){var G=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return G!==null?null:l(g,T,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case r0:return E.key===G?s(g,T,E,O):null;case Ul:return E.key===G?u(g,T,E,O):null;case Na:return G=E._init,c(g,T,G(E._payload),O)}if(Du(E)||Eu(E))return G!==null?null:d(g,T,E,O,null);p0(g,E)}return null}function v(g,T,E,O,G){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(E)||null,l(T,g,""+O,G);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case r0:return g=g.get(O.key===null?E:O.key)||null,s(T,g,O,G);case Ul:return g=g.get(O.key===null?E:O.key)||null,u(T,g,O,G);case Na:var q=O._init;return v(g,T,E,q(O._payload),G)}if(Du(O)||Eu(O))return g=g.get(E)||null,d(T,g,O,G,null);p0(T,O)}return null}function x(g,T,E,O){for(var G=null,q=null,de=T,J=T=0,Ze=null;de!==null&&J<E.length;J++){de.index>J?(Ze=de,de=null):Ze=de.sibling;var ke=c(g,de,E[J],O);if(ke===null){de===null&&(de=Ze);break}e&&de&&ke.alternate===null&&t(g,de),T=a(ke,T,J),q===null?G=ke:q.sibling=ke,q=ke,de=Ze}if(J===E.length)return n(g,de),hn&&ko(g,J),G;if(de===null){for(;J<E.length;J++)de=p(g,E[J],O),de!==null&&(T=a(de,T,J),q===null?G=de:q.sibling=de,q=de);return hn&&ko(g,J),G}for(de=r(g,de);J<E.length;J++)Ze=v(de,g,J,E[J],O),Ze!==null&&(e&&Ze.alternate!==null&&de.delete(Ze.key===null?J:Ze.key),T=a(Ze,T,J),q===null?G=Ze:q.sibling=Ze,q=Ze);return e&&de.forEach(function(je){return t(g,je)}),hn&&ko(g,J),G}function R(g,T,E,O){var G=Eu(E);if(typeof G!="function")throw Error(Oe(150));if(E=G.call(E),E==null)throw Error(Oe(151));for(var q=G=null,de=T,J=T=0,Ze=null,ke=E.next();de!==null&&!ke.done;J++,ke=E.next()){de.index>J?(Ze=de,de=null):Ze=de.sibling;var je=c(g,de,ke.value,O);if(je===null){de===null&&(de=Ze);break}e&&de&&je.alternate===null&&t(g,de),T=a(je,T,J),q===null?G=je:q.sibling=je,q=je,de=Ze}if(ke.done)return n(g,de),hn&&ko(g,J),G;if(de===null){for(;!ke.done;J++,ke=E.next())ke=p(g,ke.value,O),ke!==null&&(T=a(ke,T,J),q===null?G=ke:q.sibling=ke,q=ke);return hn&&ko(g,J),G}for(de=r(g,de);!ke.done;J++,ke=E.next())ke=v(de,g,J,ke.value,O),ke!==null&&(e&&ke.alternate!==null&&de.delete(ke.key===null?J:ke.key),T=a(ke,T,J),q===null?G=ke:q.sibling=ke,q=ke);return e&&de.forEach(function(We){return t(g,We)}),hn&&ko(g,J),G}function M(g,T,E,O){if(typeof E=="object"&&E!==null&&E.type===Vl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case r0:e:{for(var G=E.key,q=T;q!==null;){if(q.key===G){if(G=E.type,G===Vl){if(q.tag===7){n(g,q.sibling),T=i(q,E.props.children),T.return=g,g=T;break e}}else if(q.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Na&&Ug(G)===q.type){n(g,q.sibling),T=i(q,E.props),T.ref=bu(g,q,E),T.return=g,g=T;break e}n(g,q);break}else t(g,q);q=q.sibling}E.type===Vl?(T=zo(E.props.children,g.mode,O,E.key),T.return=g,g=T):(O=j0(E.type,E.key,E.props,null,g.mode,O),O.ref=bu(g,T,E),O.return=g,g=O)}return o(g);case Ul:e:{for(q=E.key;T!==null;){if(T.key===q)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){n(g,T.sibling),T=i(T,E.children||[]),T.return=g,g=T;break e}else{n(g,T);break}else t(g,T);T=T.sibling}T=sp(E,g.mode,O),T.return=g,g=T}return o(g);case Na:return q=E._init,M(g,T,q(E._payload),O)}if(Du(E))return x(g,T,E,O);if(Eu(E))return R(g,T,E,O);p0(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(n(g,T.sibling),T=i(T,E),T.return=g,g=T):(n(g,T),T=lp(E,g.mode,O),T.return=g,g=T),o(g)):n(g,T)}return M}var ps=U4(!0),V4=U4(!1),Oc={},Ii=to(Oc),fc=to(Oc),dc=to(Oc);function Fo(e){if(e===Oc)throw Error(Oe(174));return e}function bv(e,t){switch(rn(dc,t),rn(fc,e),rn(Ii,Oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vp(t,e)}un(Ii),rn(Ii,t)}function ms(){un(Ii),un(fc),un(dc)}function H4(e){Fo(dc.current);var t=Fo(Ii.current),n=Vp(t,e.type);t!==n&&(rn(fc,e),rn(Ii,n))}function Lv(e){fc.current===e&&(un(Ii),un(fc))}var yn=to(0);function hd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tp=[];function Rv(){for(var e=0;e<tp.length;e++)tp[e]._workInProgressVersionPrimary=null;tp.length=0}var F0=ua.ReactCurrentDispatcher,np=ua.ReactCurrentBatchConfig,Ho=0,wn=null,Hn=null,Zn=null,pd=!1,Xu=!1,hc=0,H7=0;function rr(){throw Error(Oe(321))}function Pv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mi(e[n],t[n]))return!1;return!0}function Ov(e,t,n,r,i,a){if(Ho=a,wn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F0.current=e===null||e.memoizedState===null?q7:Q7,e=n(r,i),Xu){a=0;do{if(Xu=!1,hc=0,25<=a)throw Error(Oe(301));a+=1,Zn=Hn=null,t.updateQueue=null,F0.current=Z7,e=n(r,i)}while(Xu)}if(F0.current=md,t=Hn!==null&&Hn.next!==null,Ho=0,Zn=Hn=wn=null,pd=!1,t)throw Error(Oe(300));return e}function kv(){var e=hc!==0;return hc=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?wn.memoizedState=Zn=e:Zn=Zn.next=e,Zn}function Jr(){if(Hn===null){var e=wn.alternate;e=e!==null?e.memoizedState:null}else e=Hn.next;var t=Zn===null?wn.memoizedState:Zn.next;if(t!==null)Zn=t,Hn=e;else{if(e===null)throw Error(Oe(310));Hn=e,e={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Zn===null?wn.memoizedState=Zn=e:Zn=Zn.next=e}return Zn}function pc(e,t){return typeof t=="function"?t(e):t}function rp(e){var t=Jr(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=Hn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,s=null,u=a;do{var d=u.lane;if((Ho&d)===d)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=p,o=r):s=s.next=p,wn.lanes|=d,Wo|=d}u=u.next}while(u!==null&&u!==a);s===null?o=r:s.next=l,mi(r,t.memoizedState)||(wr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,wn.lanes|=a,Wo|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ip(e){var t=Jr(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);mi(a,t.memoizedState)||(wr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function W4(){}function X4(e,t){var n=wn,r=Jr(),i=t(),a=!mi(r.memoizedState,i);if(a&&(r.memoizedState=i,wr=!0),r=r.queue,Mv(Q4.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,mc(9,q4.bind(null,n,r,i,t),void 0,null),Kn===null)throw Error(Oe(349));Ho&30||Y4(n,t,i)}return i}function Y4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wn.updateQueue,t===null?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q4(e,t,n,r){t.value=n,t.getSnapshot=r,Z4(t)&&K4(e)}function Q4(e,t,n){return n(function(){Z4(t)&&K4(e)})}function Z4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mi(e,n)}catch{return!0}}function K4(e){var t=oa(e,1);t!==null&&pi(t,e,1,-1)}function Vg(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:e},t.queue=e,e=e.dispatch=Y7.bind(null,wn,e),[t.memoizedState,e]}function mc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wn.updateQueue,t===null?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function J4(){return Jr().memoizedState}function B0(e,t,n,r){var i=Oi();wn.flags|=e,i.memoizedState=mc(1|t,n,void 0,r===void 0?null:r)}function Qd(e,t,n,r){var i=Jr();r=r===void 0?null:r;var a=void 0;if(Hn!==null){var o=Hn.memoizedState;if(a=o.destroy,r!==null&&Pv(r,o.deps)){i.memoizedState=mc(t,n,a,r);return}}wn.flags|=e,i.memoizedState=mc(1|t,n,a,r)}function Hg(e,t){return B0(8390656,8,e,t)}function Mv(e,t){return Qd(2048,8,e,t)}function e6(e,t){return Qd(4,2,e,t)}function t6(e,t){return Qd(4,4,e,t)}function n6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r6(e,t,n){return n=n!=null?n.concat([e]):null,Qd(4,4,n6.bind(null,t,e),n)}function Nv(){}function i6(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a6(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function o6(e,t,n){return Ho&21?(mi(n,t)||(n=u4(),wn.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wr=!0),e.memoizedState=n)}function W7(e,t){var n=Zt;Zt=n!==0&&4>n?n:4,e(!0);var r=np.transition;np.transition={};try{e(!1),t()}finally{Zt=n,np.transition=r}}function l6(){return Jr().memoizedState}function X7(e,t,n){var r=Ya(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s6(e))u6(t,n);else if(n=$4(e,t,n,r),n!==null){var i=dr();pi(n,e,r,i),c6(n,t,r)}}function Y7(e,t,n){var r=Ya(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s6(e))u6(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,mi(l,o)){var s=t.interleaved;s===null?(i.next=i,Av(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=$4(e,t,i,r),n!==null&&(i=dr(),pi(n,e,r,i),c6(n,t,r))}}function s6(e){var t=e.alternate;return e===wn||t!==null&&t===wn}function u6(e,t){Xu=pd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function c6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fv(e,n)}}var md={readContext:Kr,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},q7={readContext:Kr,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:Hg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,B0(4194308,4,n6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return B0(4194308,4,e,t)},useInsertionEffect:function(e,t){return B0(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=X7.bind(null,wn,e),[r.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:Vg,useDebugValue:Nv,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Vg(!1),t=e[0];return e=W7.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wn,i=Oi();if(hn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),Kn===null)throw Error(Oe(349));Ho&30||Y4(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Hg(Q4.bind(null,r,a,e),[e]),r.flags|=2048,mc(9,q4.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Kn.identifierPrefix;if(hn){var n=na,r=ta;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=H7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q7={readContext:Kr,useCallback:i6,useContext:Kr,useEffect:Mv,useImperativeHandle:r6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:a6,useReducer:rp,useRef:J4,useState:function(){return rp(pc)},useDebugValue:Nv,useDeferredValue:function(e){var t=Jr();return o6(t,Hn.memoizedState,e)},useTransition:function(){var e=rp(pc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:W4,useSyncExternalStore:X4,useId:l6,unstable_isNewReconciler:!1},Z7={readContext:Kr,useCallback:i6,useContext:Kr,useEffect:Mv,useImperativeHandle:r6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:a6,useReducer:ip,useRef:J4,useState:function(){return ip(pc)},useDebugValue:Nv,useDeferredValue:function(e){var t=Jr();return Hn===null?t.memoizedState=e:o6(t,Hn.memoizedState,e)},useTransition:function(){var e=ip(pc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:W4,useSyncExternalStore:X4,useId:l6,unstable_isNewReconciler:!1};function vs(e,t){try{var n="",r=t;do n+=A9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ap(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K7=typeof WeakMap=="function"?WeakMap:Map;function f6(e,t,n){n=ra(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gd||(gd=!0,Sm=r),hm(e,t)},n}function d6(e,t,n){n=ra(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){hm(e,t),typeof r!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Wg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dx.bind(null,e,t,n),t.then(e,e))}function Xg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ra(-1,1),t.tag=2,Wa(n,t,1))),n.lanes|=1),e)}var J7=ua.ReactCurrentOwner,wr=!1;function cr(e,t,n,r){t.child=e===null?V4(t,null,n,r):ps(t,e.child,n,r)}function qg(e,t,n,r,i){n=n.render;var a=t.ref;return ls(t,i),r=Ov(e,t,n,r,a,i),n=kv(),e!==null&&!wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(hn&&n&&xv(t),t.flags|=1,cr(e,t,r,i),t.child)}function Qg(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!jv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,h6(e,t,a,r,i)):(e=j0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(o,r)&&e.ref===t.ref)return la(e,t,i)}return t.flags|=1,e=qa(a,r),e.ref=t.ref,e.return=t,t.child=e}function h6(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(lc(a,r)&&e.ref===t.ref)if(wr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(wr=!0);else return t.lanes=e.lanes,la(e,t,i)}return pm(e,t,n,r,i)}function p6(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(es,Nr),Nr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rn(es,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rn(es,Nr),Nr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rn(es,Nr),Nr|=r;return cr(e,t,i,n),t.child}function m6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pm(e,t,n,r,i){var a=Sr(n)?Uo:lr.current;return a=ds(t,a),ls(t,i),n=Ov(e,t,n,r,a,i),r=kv(),e!==null&&!wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(hn&&r&&xv(t),t.flags|=1,cr(e,t,n,i),t.child)}function Zg(e,t,n,r,i){if(Sr(n)){var a=!0;ld(t)}else a=!1;if(ls(t,i),t.stateNode===null)$0(e,t),j4(t,n,r),dm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=Sr(n)?Uo:lr.current,u=ds(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||s!==u)&&jg(t,o,r,u),Ia=!1;var c=t.memoizedState;o.state=c,dd(t,r,o,i),s=t.memoizedState,l!==r||c!==s||Er.current||Ia?(typeof d=="function"&&(fm(t,n,d,r),s=t.memoizedState),(l=Ia||Gg(t,n,l,r,c,s,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,z4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:si(t.type,l),o.props=u,p=t.pendingProps,c=o.context,s=n.contextType,typeof s=="object"&&s!==null?s=Kr(s):(s=Sr(n)?Uo:lr.current,s=ds(t,s));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||c!==s)&&jg(t,o,r,s),Ia=!1,c=t.memoizedState,o.state=c,dd(t,r,o,i);var x=t.memoizedState;l!==p||c!==x||Er.current||Ia?(typeof v=="function"&&(fm(t,n,v,r),x=t.memoizedState),(u=Ia||Gg(t,n,u,r,c,x,s)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,s)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=s,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return mm(e,t,n,r,a,i)}function mm(e,t,n,r,i,a){m6(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Dg(t,n,!1),la(e,t,a);r=t.stateNode,J7.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ps(t,e.child,null,a),t.child=ps(t,null,l,a)):cr(e,t,l,a),t.memoizedState=r.state,i&&Dg(t,n,!0),t.child}function v6(e){var t=e.stateNode;t.pendingContext?Ig(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ig(e,t.context,!1),bv(e,t.containerInfo)}function Kg(e,t,n,r,i){return hs(),wv(i),t.flags|=256,cr(e,t,n,r),t.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function g6(e,t,n){var r=t.pendingProps,i=yn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rn(yn,i&1),e===null)return um(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jd(o,r,0,null),e=zo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gm(n),t.memoizedState=vm,e):Iv(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ex(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=qa(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=qa(l,a):(a=zo(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?gm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=vm,r}return a=e.child,e=a.sibling,r=qa(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Iv(e,t){return t=Jd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function m0(e,t,n,r){return r!==null&&wv(r),ps(t,e.child,null,n),e=Iv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ex(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=ap(Error(Oe(422))),m0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Jd({mode:"visible",children:r.children},i,0,null),a=zo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ps(t,e.child,null,o),t.child.memoizedState=gm(o),t.memoizedState=vm,a);if(!(t.mode&1))return m0(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Oe(419)),r=ap(a,r,void 0),m0(e,t,o,r)}if(l=(o&e.childLanes)!==0,wr||l){if(r=Kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oa(e,i),pi(r,e,i,-1))}return Gv(),r=ap(Error(Oe(421))),m0(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hx.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ir=Ha(i.nextSibling),Dr=t,hn=!0,ci=null,e!==null&&(Yr[qr++]=ta,Yr[qr++]=na,Yr[qr++]=Vo,ta=e.id,na=e.overflow,Vo=t),t=Iv(t,r.children),t.flags|=4096,t)}function Jg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cm(e.return,t,n)}function op(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function y6(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(cr(e,t,r.children,n),r=yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,n,t);else if(e.tag===19)Jg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rn(yn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),op(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}op(t,!0,n,null,a);break;case"together":op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function la(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=qa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tx(e,t,n){switch(t.tag){case 3:v6(t),hs();break;case 5:H4(t);break;case 1:Sr(t.type)&&ld(t);break;case 4:bv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rn(cd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rn(yn,yn.current&1),t.flags|=128,null):n&t.child.childLanes?g6(e,t,n):(rn(yn,yn.current&1),e=la(e,t,n),e!==null?e.sibling:null);rn(yn,yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y6(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rn(yn,yn.current),r)break;return null;case 22:case 23:return t.lanes=0,p6(e,t,n)}return la(e,t,n)}var x6,ym,_6,w6;x6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ym=function(){};_6=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fo(Ii.current);var a=null;switch(n){case"input":i=zp(e,i),r=zp(e,r),a=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),a=[];break;case"textarea":i=Up(e,i),r=Up(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ad)}Hp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ec.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(a||(a=[]),a.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(a=a||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ec.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&sn("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};w6=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lu(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nx(e,t,n){var r=t.pendingProps;switch(_v(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return Sr(t.type)&&od(),ir(t),null;case 3:return r=t.stateNode,ms(),un(Er),un(lr),Rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(h0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ci!==null&&(Cm(ci),ci=null))),ym(e,t),ir(t),null;case 5:Lv(t);var i=Fo(dc.current);if(n=t.type,e!==null&&t.stateNode!=null)_6(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return ir(t),null}if(e=Fo(Ii.current),h0(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Mi]=t,r[cc]=a,e=(t.mode&1)!==0,n){case"dialog":sn("cancel",r),sn("close",r);break;case"iframe":case"object":case"embed":sn("load",r);break;case"video":case"audio":for(i=0;i<Bu.length;i++)sn(Bu[i],r);break;case"source":sn("error",r);break;case"img":case"image":case"link":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"input":sg(r,a),sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},sn("invalid",r);break;case"textarea":cg(r,a),sn("invalid",r)}Hp(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&d0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&d0(r.textContent,l,e),i=["children",""+l]):ec.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&sn("scroll",r)}switch(n){case"input":i0(r),ug(r,a,!0);break;case"textarea":i0(r),fg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ad)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mi]=t,e[cc]=r,x6(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wp(n,r),n){case"dialog":sn("cancel",e),sn("close",e),i=r;break;case"iframe":case"object":case"embed":sn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bu.length;i++)sn(Bu[i],e);i=r;break;case"source":sn("error",e),i=r;break;case"img":case"image":case"link":sn("error",e),sn("load",e),i=r;break;case"details":sn("toggle",e),i=r;break;case"input":sg(e,r),i=zp(e,r),sn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),sn("invalid",e);break;case"textarea":cg(e,r),i=Up(e,r),sn("invalid",e);break;default:i=r}Hp(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];a==="style"?Z3(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&q3(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&tc(e,s):typeof s=="number"&&tc(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ec.hasOwnProperty(a)?s!=null&&a==="onScroll"&&sn("scroll",e):s!=null&&av(e,a,s,o))}switch(n){case"input":i0(e),ug(e,r,!1);break;case"textarea":i0(e),fg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Za(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?rs(e,!!r.multiple,a,!1):r.defaultValue!=null&&rs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)w6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=Fo(dc.current),Fo(Ii.current),h0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mi]=t,(a=r.nodeValue!==n)&&(e=Dr,e!==null))switch(e.tag){case 3:d0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&d0(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=t,t.stateNode=r}return ir(t),null;case 13:if(un(yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&Ir!==null&&t.mode&1&&!(t.flags&128))B4(),hs(),t.flags|=98560,a=!1;else if(a=h0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[Mi]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),a=!1}else ci!==null&&(Cm(ci),ci=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yn.current&1?Wn===0&&(Wn=3):Gv())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return ms(),ym(e,t),e===null&&sc(t.stateNode.containerInfo),ir(t),null;case 10:return Tv(t.type._context),ir(t),null;case 17:return Sr(t.type)&&od(),ir(t),null;case 19:if(un(yn),a=t.memoizedState,a===null)return ir(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Lu(a,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hd(e),o!==null){for(t.flags|=128,Lu(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rn(yn,yn.current&1|2),t.child}e=e.sibling}a.tail!==null&&In()>gs&&(t.flags|=128,r=!0,Lu(a,!1),t.lanes=4194304)}else{if(!r)if(e=hd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!hn)return ir(t),null}else 2*In()-a.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,Lu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=In(),t.sibling=null,n=yn.current,rn(yn,r?n&1|2:n&1),t):(ir(t),null);case 22:case 23:return zv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nr&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function rx(e,t){switch(_v(t),t.tag){case 1:return Sr(t.type)&&od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),un(Er),un(lr),Rv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lv(t),null;case 13:if(un(yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(yn),null;case 4:return ms(),null;case 10:return Tv(t.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var v0=!1,ar=!1,ix=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(e,t,r)}else n.current=null}function xm(e,t,n){try{n()}catch(r){Rn(e,t,r)}}var ey=!1;function ax(e,t){if(nm=nd,e=A4(),yv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,u=0,d=0,p=e,c=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==a||r!==0&&p.nodeType!==3||(s=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)c=p,p=v;for(;;){if(p===e)break t;if(c===n&&++u===i&&(l=o),c===a&&++d===r&&(s=o),(v=p.nextSibling)!==null)break;p=c,c=p.parentNode}p=v}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:e,selectionRange:n},nd=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var R=x.memoizedProps,M=x.memoizedState,g=t.stateNode,T=g.getSnapshotBeforeUpdate(t.elementType===t.type?R:si(t.type,R),M);g.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(O){Rn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return x=ey,ey=!1,x}function Yu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&xm(t,n,a)}i=i.next}while(i!==r)}}function Zd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _m(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function E6(e){var t=e.alternate;t!==null&&(e.alternate=null,E6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[cc],delete t[om],delete t[G7],delete t[j7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S6(e){return e.tag===5||e.tag===3||e.tag===4}function ty(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ad));else if(r!==4&&(e=e.child,e!==null))for(wm(e,t,n),e=e.sibling;e!==null;)wm(e,t,n),e=e.sibling}function Em(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Em(e,t,n),e=e.sibling;e!==null;)Em(e,t,n),e=e.sibling}var Jn=null,ui=!1;function Pa(e,t,n){for(n=n.child;n!==null;)T6(e,t,n),n=n.sibling}function T6(e,t,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:ar||Jl(n,t);case 6:var r=Jn,i=ui;Jn=null,Pa(e,t,n),Jn=r,ui=i,Jn!==null&&(ui?(e=Jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(ui?(e=Jn,n=n.stateNode,e.nodeType===8?J1(e.parentNode,n):e.nodeType===1&&J1(e,n),ac(e)):J1(Jn,n.stateNode));break;case 4:r=Jn,i=ui,Jn=n.stateNode.containerInfo,ui=!0,Pa(e,t,n),Jn=r,ui=i;break;case 0:case 11:case 14:case 15:if(!ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&xm(n,t,o),i=i.next}while(i!==r)}Pa(e,t,n);break;case 1:if(!ar&&(Jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Rn(n,t,l)}Pa(e,t,n);break;case 21:Pa(e,t,n);break;case 22:n.mode&1?(ar=(r=ar)||n.memoizedState!==null,Pa(e,t,n),ar=r):Pa(e,t,n);break;default:Pa(e,t,n)}}function ny(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ix),t.forEach(function(r){var i=px.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ai(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,ui=!1;break e;case 3:Jn=l.stateNode.containerInfo,ui=!0;break e;case 4:Jn=l.stateNode.containerInfo,ui=!0;break e}l=l.return}if(Jn===null)throw Error(Oe(160));T6(a,o,i),Jn=null,ui=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Rn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A6(t,e),t=t.sibling}function A6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ai(t,e),Ri(e),r&4){try{Yu(3,e,e.return),Zd(3,e)}catch(R){Rn(e,e.return,R)}try{Yu(5,e,e.return)}catch(R){Rn(e,e.return,R)}}break;case 1:ai(t,e),Ri(e),r&512&&n!==null&&Jl(n,n.return);break;case 5:if(ai(t,e),Ri(e),r&512&&n!==null&&Jl(n,n.return),e.flags&32){var i=e.stateNode;try{tc(i,"")}catch(R){Rn(e,e.return,R)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&W3(i,a),Wp(l,o);var u=Wp(l,a);for(o=0;o<s.length;o+=2){var d=s[o],p=s[o+1];d==="style"?Z3(i,p):d==="dangerouslySetInnerHTML"?q3(i,p):d==="children"?tc(i,p):av(i,d,p,u)}switch(l){case"input":Gp(i,a);break;case"textarea":X3(i,a);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?rs(i,!!a.multiple,v,!1):c!==!!a.multiple&&(a.defaultValue!=null?rs(i,!!a.multiple,a.defaultValue,!0):rs(i,!!a.multiple,a.multiple?[]:"",!1))}i[cc]=a}catch(R){Rn(e,e.return,R)}}break;case 6:if(ai(t,e),Ri(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(R){Rn(e,e.return,R)}}break;case 3:if(ai(t,e),Ri(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(R){Rn(e,e.return,R)}break;case 4:ai(t,e),Ri(e);break;case 13:ai(t,e),Ri(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Bv=In())),r&4&&ny(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ar=(u=ar)||d,ai(t,e),ar=u):ai(t,e),Ri(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(tt=e,d=e.child;d!==null;){for(p=tt=d;tt!==null;){switch(c=tt,v=c.child,c.tag){case 0:case 11:case 14:case 15:Yu(4,c,c.return);break;case 1:Jl(c,c.return);var x=c.stateNode;if(typeof x.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(R){Rn(r,n,R)}}break;case 5:Jl(c,c.return);break;case 22:if(c.memoizedState!==null){iy(p);continue}}v!==null?(v.return=c,tt=v):iy(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,s=p.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=Q3("display",o))}catch(R){Rn(e,e.return,R)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(R){Rn(e,e.return,R)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ai(t,e),Ri(e),r&4&&ny(e);break;case 21:break;default:ai(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(S6(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tc(i,""),r.flags&=-33);var a=ty(e);Em(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ty(e);wm(e,l,o);break;default:throw Error(Oe(161))}}catch(s){Rn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ox(e,t,n){tt=e,C6(e)}function C6(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var i=tt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||v0;if(!o){var l=i.alternate,s=l!==null&&l.memoizedState!==null||ar;l=v0;var u=ar;if(v0=o,(ar=s)&&!u)for(tt=i;tt!==null;)o=tt,s=o.child,o.tag===22&&o.memoizedState!==null?ay(i):s!==null?(s.return=o,tt=s):ay(i);for(;a!==null;)tt=a,C6(a),a=a.sibling;tt=i,v0=l,ar=u}ry(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,tt=a):ry(e)}}function ry(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||Zd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ar)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:si(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zg(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zg(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ac(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}ar||t.flags&512&&_m(t)}catch(c){Rn(t,t.return,c)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function iy(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function ay(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zd(4,t)}catch(s){Rn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Rn(t,i,s)}}var a=t.return;try{_m(t)}catch(s){Rn(t,a,s)}break;case 5:var o=t.return;try{_m(t)}catch(s){Rn(t,o,s)}}}catch(s){Rn(t,t.return,s)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var lx=Math.ceil,vd=ua.ReactCurrentDispatcher,Dv=ua.ReactCurrentOwner,Zr=ua.ReactCurrentBatchConfig,Wt=0,Kn=null,Gn=null,er=0,Nr=0,es=to(0),Wn=0,vc=null,Wo=0,Kd=0,Fv=0,qu=null,_r=null,Bv=0,gs=1/0,Ji=null,gd=!1,Sm=null,Xa=null,g0=!1,$a=null,yd=0,Qu=0,Tm=null,z0=-1,G0=0;function dr(){return Wt&6?In():z0!==-1?z0:z0=In()}function Ya(e){return e.mode&1?Wt&2&&er!==0?er&-er:V7.transition!==null?(G0===0&&(G0=u4()),G0):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:v4(e.type)),e):1}function pi(e,t,n,r){if(50<Qu)throw Qu=0,Tm=null,Error(Oe(185));Lc(e,n,r),(!(Wt&2)||e!==Kn)&&(e===Kn&&(!(Wt&2)&&(Kd|=n),Wn===4&&Fa(e,er)),Tr(e,r),n===1&&Wt===0&&!(t.mode&1)&&(gs=In()+500,Yd&&no()))}function Tr(e,t){var n=e.callbackNode;V9(e,t);var r=td(e,e===Kn?er:0);if(r===0)n!==null&&pg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pg(n),t===1)e.tag===0?U7(oy.bind(null,e)):I4(oy.bind(null,e)),$7(function(){!(Wt&6)&&no()}),n=null;else{switch(c4(r)){case 1:n=cv;break;case 4:n=l4;break;case 16:n=ed;break;case 536870912:n=s4;break;default:n=ed}n=N6(n,b6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function b6(e,t){if(z0=-1,G0=0,Wt&6)throw Error(Oe(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=td(e,e===Kn?er:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xd(e,r);else{t=r;var i=Wt;Wt|=2;var a=R6();(Kn!==e||er!==t)&&(Ji=null,gs=In()+500,$o(e,t));do try{cx();break}catch(l){L6(e,l)}while(!0);Sv(),vd.current=a,Wt=i,Gn!==null?t=0:(Kn=null,er=0,t=Wn)}if(t!==0){if(t===2&&(i=Zp(e),i!==0&&(r=i,t=Am(e,i))),t===1)throw n=vc,$o(e,0),Fa(e,r),Tr(e,In()),n;if(t===6)Fa(e,r);else{if(i=e.current.alternate,!(r&30)&&!sx(i)&&(t=xd(e,r),t===2&&(a=Zp(e),a!==0&&(r=a,t=Am(e,a))),t===1))throw n=vc,$o(e,0),Fa(e,r),Tr(e,In()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Mo(e,_r,Ji);break;case 3:if(Fa(e,r),(r&130023424)===r&&(t=Bv+500-In(),10<t)){if(td(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){dr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=am(Mo.bind(null,e,_r,Ji),t);break}Mo(e,_r,Ji);break;case 4:if(Fa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-hi(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lx(r/1960))-r,10<r){e.timeoutHandle=am(Mo.bind(null,e,_r,Ji),r);break}Mo(e,_r,Ji);break;case 5:Mo(e,_r,Ji);break;default:throw Error(Oe(329))}}}return Tr(e,In()),e.callbackNode===n?b6.bind(null,e):null}function Am(e,t){var n=qu;return e.current.memoizedState.isDehydrated&&($o(e,t).flags|=256),e=xd(e,t),e!==2&&(t=_r,_r=n,t!==null&&Cm(t)),e}function Cm(e){_r===null?_r=e:_r.push.apply(_r,e)}function sx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t){for(t&=~Fv,t&=~Kd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hi(t),r=1<<n;e[n]=-1,t&=~r}}function oy(e){if(Wt&6)throw Error(Oe(327));ss();var t=td(e,0);if(!(t&1))return Tr(e,In()),null;var n=xd(e,t);if(e.tag!==0&&n===2){var r=Zp(e);r!==0&&(t=r,n=Am(e,r))}if(n===1)throw n=vc,$o(e,0),Fa(e,t),Tr(e,In()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mo(e,_r,Ji),Tr(e,In()),null}function $v(e,t){var n=Wt;Wt|=1;try{return e(t)}finally{Wt=n,Wt===0&&(gs=In()+500,Yd&&no())}}function Xo(e){$a!==null&&$a.tag===0&&!(Wt&6)&&ss();var t=Wt;Wt|=1;var n=Zr.transition,r=Zt;try{if(Zr.transition=null,Zt=1,e)return e()}finally{Zt=r,Zr.transition=n,Wt=t,!(Wt&6)&&no()}}function zv(){Nr=es.current,un(es)}function $o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,B7(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(_v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:ms(),un(Er),un(lr),Rv();break;case 5:Lv(r);break;case 4:ms();break;case 13:un(yn);break;case 19:un(yn);break;case 10:Tv(r.type._context);break;case 22:case 23:zv()}n=n.return}if(Kn=e,Gn=e=qa(e.current,null),er=Nr=t,Wn=0,vc=null,Fv=Kd=Wo=0,_r=qu=null,Do!==null){for(t=0;t<Do.length;t++)if(n=Do[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Do=null}return e}function L6(e,t){do{var n=Gn;try{if(Sv(),F0.current=md,pd){for(var r=wn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pd=!1}if(Ho=0,Zn=Hn=wn=null,Xu=!1,hc=0,Dv.current=null,n===null||n.return===null){Wn=1,vc=t,Gn=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=er,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xg(o);if(v!==null){v.flags&=-257,Yg(v,o,l,a,t),v.mode&1&&Wg(a,u,t),t=v,s=u;var x=t.updateQueue;if(x===null){var R=new Set;R.add(s),t.updateQueue=R}else x.add(s);break e}else{if(!(t&1)){Wg(a,u,t),Gv();break e}s=Error(Oe(426))}}else if(hn&&l.mode&1){var M=Xg(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Yg(M,o,l,a,t),wv(vs(s,l));break e}}a=s=vs(s,l),Wn!==4&&(Wn=2),qu===null?qu=[a]:qu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=f6(a,s,t);$g(a,g);break e;case 1:l=s;var T=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Xa===null||!Xa.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var O=d6(a,l,t);$g(a,O);break e}}a=a.return}while(a!==null)}O6(n)}catch(G){t=G,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function R6(){var e=vd.current;return vd.current=md,e===null?md:e}function Gv(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),Kn===null||!(Wo&268435455)&&!(Kd&268435455)||Fa(Kn,er)}function xd(e,t){var n=Wt;Wt|=2;var r=R6();(Kn!==e||er!==t)&&(Ji=null,$o(e,t));do try{ux();break}catch(i){L6(e,i)}while(!0);if(Sv(),Wt=n,vd.current=r,Gn!==null)throw Error(Oe(261));return Kn=null,er=0,Wn}function ux(){for(;Gn!==null;)P6(Gn)}function cx(){for(;Gn!==null&&!I9();)P6(Gn)}function P6(e){var t=M6(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?O6(e):Gn=t,Dv.current=null}function O6(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rx(n,t),n!==null){n.flags&=32767,Gn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,Gn=null;return}}else if(n=nx(n,t,Nr),n!==null){Gn=n;return}if(t=t.sibling,t!==null){Gn=t;return}Gn=t=e}while(t!==null);Wn===0&&(Wn=5)}function Mo(e,t,n){var r=Zt,i=Zr.transition;try{Zr.transition=null,Zt=1,fx(e,t,n,r)}finally{Zr.transition=i,Zt=r}return null}function fx(e,t,n,r){do ss();while($a!==null);if(Wt&6)throw Error(Oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(H9(e,a),e===Kn&&(Gn=Kn=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||g0||(g0=!0,N6(ed,function(){return ss(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Zr.transition,Zr.transition=null;var o=Zt;Zt=1;var l=Wt;Wt|=4,Dv.current=null,ax(e,n),A6(n,e),O7(rm),nd=!!nm,rm=nm=null,e.current=n,ox(n),D9(),Wt=l,Zt=o,Zr.transition=a}else e.current=n;if(g0&&(g0=!1,$a=e,yd=i),a=e.pendingLanes,a===0&&(Xa=null),$9(n.stateNode),Tr(e,In()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gd)throw gd=!1,e=Sm,Sm=null,e;return yd&1&&e.tag!==0&&ss(),a=e.pendingLanes,a&1?e===Tm?Qu++:(Qu=0,Tm=e):Qu=0,no(),null}function ss(){if($a!==null){var e=c4(yd),t=Zr.transition,n=Zt;try{if(Zr.transition=null,Zt=16>e?16:e,$a===null)var r=!1;else{if(e=$a,$a=null,yd=0,Wt&6)throw Error(Oe(331));var i=Wt;for(Wt|=4,tt=e.current;tt!==null;){var a=tt,o=a.child;if(tt.flags&16){var l=a.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(tt=u;tt!==null;){var d=tt;switch(d.tag){case 0:case 11:case 15:Yu(8,d,a)}var p=d.child;if(p!==null)p.return=d,tt=p;else for(;tt!==null;){d=tt;var c=d.sibling,v=d.return;if(E6(d),d===u){tt=null;break}if(c!==null){c.return=v,tt=c;break}tt=v}}}var x=a.alternate;if(x!==null){var R=x.child;if(R!==null){x.child=null;do{var M=R.sibling;R.sibling=null,R=M}while(R!==null)}}tt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,tt=o;else e:for(;tt!==null;){if(a=tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yu(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,tt=g;break e}tt=a.return}}var T=e.current;for(tt=T;tt!==null;){o=tt;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,tt=E;else e:for(o=T;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zd(9,l)}}catch(G){Rn(l,l.return,G)}if(l===o){tt=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,tt=O;break e}tt=l.return}}if(Wt=i,no(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Ud,e)}catch{}r=!0}return r}finally{Zt=n,Zr.transition=t}}return!1}function ly(e,t,n){t=vs(n,t),t=f6(e,t,1),e=Wa(e,t,1),t=dr(),e!==null&&(Lc(e,1,t),Tr(e,t))}function Rn(e,t,n){if(e.tag===3)ly(e,e,n);else for(;t!==null;){if(t.tag===3){ly(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){e=vs(n,e),e=d6(t,e,1),t=Wa(t,e,1),e=dr(),t!==null&&(Lc(t,1,e),Tr(t,e));break}}t=t.return}}function dx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&n,Kn===e&&(er&n)===n&&(Wn===4||Wn===3&&(er&130023424)===er&&500>In()-Bv?$o(e,0):Fv|=n),Tr(e,t)}function k6(e,t){t===0&&(e.mode&1?(t=l0,l0<<=1,!(l0&130023424)&&(l0=4194304)):t=1);var n=dr();e=oa(e,t),e!==null&&(Lc(e,t,n),Tr(e,n))}function hx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k6(e,n)}function px(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),k6(e,n)}var M6;M6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)wr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wr=!1,tx(e,t,n);wr=!!(e.flags&131072)}else wr=!1,hn&&t.flags&1048576&&D4(t,ud,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$0(e,t),e=t.pendingProps;var i=ds(t,lr.current);ls(t,n),i=Ov(null,t,r,e,i,n);var a=kv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(r)?(a=!0,ld(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cv(t),i.updater=qd,t.stateNode=i,i._reactInternals=t,dm(t,r,e,n),t=mm(null,t,r,!0,a,n)):(t.tag=0,hn&&a&&xv(t),cr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vx(r),e=si(r,e),i){case 0:t=pm(null,t,r,e,n);break e;case 1:t=Zg(null,t,r,e,n);break e;case 11:t=qg(null,t,r,e,n);break e;case 14:t=Qg(null,t,r,si(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),pm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),Zg(e,t,r,i,n);case 3:e:{if(v6(t),e===null)throw Error(Oe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,z4(e,t),dd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=vs(Error(Oe(423)),t),t=Kg(e,t,r,n,i);break e}else if(r!==i){i=vs(Error(Oe(424)),t),t=Kg(e,t,r,n,i);break e}else for(Ir=Ha(t.stateNode.containerInfo.firstChild),Dr=t,hn=!0,ci=null,n=V4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),r===i){t=la(e,t,n);break e}cr(e,t,r,n)}t=t.child}return t;case 5:return H4(t),e===null&&um(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,im(r,i)?o=null:a!==null&&im(r,a)&&(t.flags|=32),m6(e,t),cr(e,t,o,n),t.child;case 6:return e===null&&um(t),null;case 13:return g6(e,t,n);case 4:return bv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ps(t,null,r,n):cr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),qg(e,t,r,i,n);case 7:return cr(e,t,t.pendingProps,n),t.child;case 8:return cr(e,t,t.pendingProps.children,n),t.child;case 12:return cr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,rn(cd,r._currentValue),r._currentValue=o,a!==null)if(mi(a.value,o)){if(a.children===i.children&&!Er.current){t=la(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=ra(-1,n&-n),s.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),cm(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cm(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}cr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ls(t,n),i=Kr(i),r=r(i),t.flags|=1,cr(e,t,r,n),t.child;case 14:return r=t.type,i=si(r,t.pendingProps),i=si(r.type,i),Qg(e,t,r,i,n);case 15:return h6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),$0(e,t),t.tag=1,Sr(r)?(e=!0,ld(t)):e=!1,ls(t,n),j4(t,r,i),dm(t,r,i,n),mm(null,t,r,!0,e,n);case 19:return y6(e,t,n);case 22:return p6(e,t,n)}throw Error(Oe(156,t.tag))};function N6(e,t){return o4(e,t)}function mx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,n,r){return new mx(e,t,n,r)}function jv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vx(e){if(typeof e=="function")return jv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lv)return 11;if(e===sv)return 14}return 2}function qa(e,t){var n=e.alternate;return n===null?(n=Qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function j0(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")jv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vl:return zo(n.children,i,a,t);case ov:o=8,i|=8;break;case Dp:return e=Qr(12,n,t,i|2),e.elementType=Dp,e.lanes=a,e;case Fp:return e=Qr(13,n,t,i),e.elementType=Fp,e.lanes=a,e;case Bp:return e=Qr(19,n,t,i),e.elementType=Bp,e.lanes=a,e;case U3:return Jd(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G3:o=10;break e;case j3:o=9;break e;case lv:o=11;break e;case sv:o=14;break e;case Na:o=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Qr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function zo(e,t,n,r){return e=Qr(7,e,r,t),e.lanes=n,e}function Jd(e,t,n,r){return e=Qr(22,e,r,t),e.elementType=U3,e.lanes=n,e.stateNode={isHidden:!1},e}function lp(e,t,n){return e=Qr(6,e,null,t),e.lanes=n,e}function sp(e,t,n){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j1(0),this.expirationTimes=j1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uv(e,t,n,r,i,a,o,l,s){return e=new gx(e,t,n,l,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cv(a),e}function yx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function I6(e){if(!e)return Ka;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(Sr(n))return N4(e,n,t)}return t}function D6(e,t,n,r,i,a,o,l,s){return e=Uv(n,r,!0,e,i,a,o,l,s),e.context=I6(null),n=e.current,r=dr(),i=Ya(n),a=ra(r,i),a.callback=t??null,Wa(n,a,i),e.current.lanes=i,Lc(e,i,r),Tr(e,r),e}function eh(e,t,n,r){var i=t.current,a=dr(),o=Ya(i);return n=I6(n),t.context===null?t.context=n:t.pendingContext=n,t=ra(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wa(i,t,o),e!==null&&(pi(e,i,o,a),D0(e,i,o)),o}function _d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vv(e,t){sy(e,t),(e=e.alternate)&&sy(e,t)}function xx(){return null}var F6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hv(e){this._internalRoot=e}th.prototype.render=Hv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));eh(e,t,null,null)};th.prototype.unmount=Hv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xo(function(){eh(null,e,null,null)}),t[aa]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var t=h4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&m4(e)}};function Wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uy(){}function _x(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=_d(o);a.call(u)}}var o=D6(t,r,e,0,null,!1,!1,"",uy);return e._reactRootContainer=o,e[aa]=o.current,sc(e.nodeType===8?e.parentNode:e),Xo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=_d(s);l.call(u)}}var s=Uv(e,0,!1,null,null,!1,!1,"",uy);return e._reactRootContainer=s,e[aa]=s.current,sc(e.nodeType===8?e.parentNode:e),Xo(function(){eh(t,s,n,r)}),s}function rh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var s=_d(o);l.call(s)}}eh(t,o,e,i)}else o=_x(n,t,e,i,r);return _d(o)}f4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fu(t.pendingLanes);n!==0&&(fv(t,n|1),Tr(t,In()),!(Wt&6)&&(gs=In()+500,no()))}break;case 13:Xo(function(){var r=oa(e,1);if(r!==null){var i=dr();pi(r,e,1,i)}}),Vv(e,1)}};dv=function(e){if(e.tag===13){var t=oa(e,134217728);if(t!==null){var n=dr();pi(t,e,134217728,n)}Vv(e,134217728)}};d4=function(e){if(e.tag===13){var t=Ya(e),n=oa(e,t);if(n!==null){var r=dr();pi(n,e,t,r)}Vv(e,t)}};h4=function(){return Zt};p4=function(e,t){var n=Zt;try{return Zt=e,t()}finally{Zt=n}};Yp=function(e,t,n){switch(t){case"input":if(Gp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Xd(r);if(!i)throw Error(Oe(90));H3(r),Gp(r,i)}}}break;case"textarea":X3(e,n);break;case"select":t=n.value,t!=null&&rs(e,!!n.multiple,t,!1)}};e4=$v;t4=Xo;var wx={usingClientEntryPoint:!1,Events:[Pc,Yl,Xd,K3,J3,$v]},Ru={findFiberByHostInstance:Io,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ex={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{Ud=y0.inject(Ex),Ni=y0}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wx;$r.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(t))throw Error(Oe(200));return yx(e,t,null,n)};$r.createRoot=function(e,t){if(!Wv(e))throw Error(Oe(299));var n=!1,r="",i=F6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Uv(e,1,!1,null,null,n,!1,r,i),e[aa]=t.current,sc(e.nodeType===8?e.parentNode:e),new Hv(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=i4(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return Xo(e)};$r.hydrate=function(e,t,n){if(!nh(t))throw Error(Oe(200));return rh(null,e,t,!0,n)};$r.hydrateRoot=function(e,t,n){if(!Wv(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=F6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=D6(t,null,e,1,n??null,i,!1,a,o),e[aa]=t.current,sc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new th(t)};$r.render=function(e,t,n){if(!nh(t))throw Error(Oe(200));return rh(null,e,t,!1,n)};$r.unmountComponentAtNode=function(e){if(!nh(e))throw Error(Oe(40));return e._reactRootContainer?(Xo(function(){rh(null,null,e,!1,function(){e._reactRootContainer=null,e[aa]=null})}),!0):!1};$r.unstable_batchedUpdates=$v;$r.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nh(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return rh(e,t,n,!1,r)};$r.version="18.2.0-next-9e3b772b8-20220608";function B6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B6)}catch(e){console.error(e)}}B6(),D3.exports=$r;var Sx=D3.exports,cy=Sx;Np.createRoot=cy.createRoot,Np.hydrateRoot=cy.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(this,arguments)}var za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(za||(za={}));const fy="popstate";function Tx(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:l="",hash:s=""}=tl(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bm("",{pathname:o,search:l,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof a=="string"?a:wd(a))}function r(i,a){ih(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Cx(t,n,r,e)}function jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ih(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ax(){return Math.random().toString(36).substr(2,8)}function dy(e,t){return{usr:e.state,key:e.key,idx:t}}function bm(e,t,n,r){return n===void 0&&(n=null),gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tl(t):t,{state:n,key:t&&t.key||r||Ax()})}function wd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Cx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=za.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(gc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=za.Pop;let M=d(),g=M==null?null:M-u;u=M,s&&s({action:l,location:R.location,delta:g})}function c(M,g){l=za.Push;let T=bm(R.location,M,g);n&&n(T,M),u=d()+1;let E=dy(T,u),O=R.createHref(T);try{o.pushState(E,"",O)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(O)}a&&s&&s({action:l,location:R.location,delta:1})}function v(M,g){l=za.Replace;let T=bm(R.location,M,g);n&&n(T,M),u=d();let E=dy(T,u),O=R.createHref(T);o.replaceState(E,"",O),a&&s&&s({action:l,location:R.location,delta:0})}function x(M){let g=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof M=="string"?M:wd(M);return jn(g,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,g)}let R={get action(){return l},get location(){return e(i,o)},listen(M){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(fy,p),s=M,()=>{i.removeEventListener(fy,p),s=null}},createHref(M){return t(i,M)},createURL:x,encodeLocation(M){let g=x(M);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:c,replace:v,go(M){return o.go(M)}};return R}var hy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hy||(hy={}));function bx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?tl(t):t,i=Xv(r.pathname||"/",n);if(i==null)return null;let a=$6(e);Lx(a);let o=null;for(let l=0;o==null&&l<a.length;++l)o=Fx(a[l],zx(i));return o}function $6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let s={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};s.relativePath.startsWith("/")&&(jn(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=Qa([r,s.relativePath]),d=n.concat(s);a.children&&a.children.length>0&&(jn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Ix(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let s of z6(a.path))i(a,o,s)}),t}function z6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=z6(r.join("/")),l=[];return l.push(...o.map(s=>s===""?a:[a,s].join("/"))),i&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function Lx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rx=/^:\w+$/,Px=3,Ox=2,kx=1,Mx=10,Nx=-2,py=e=>e==="*";function Ix(e,t){let n=e.split("/"),r=n.length;return n.some(py)&&(r+=Nx),t&&(r+=Ox),n.filter(i=>!py(i)).reduce((i,a)=>i+(Rx.test(a)?Px:a===""?kx:Mx),r)}function Dx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Fx(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],s=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Bx({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!d)return null;Object.assign(r,d.params);let p=l.route;a.push({params:r,pathname:Qa([i,d.pathname]),pathnameBase:Vx(Qa([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Qa([i,d.pathnameBase]))}return a}function Bx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$x(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:c,isOptional:v}=d;if(c==="*"){let R=l[p]||"";o=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const x=l[p];return v&&!x?u[c]=void 0:u[c]=Gx(x||"",c),u},{}),pathname:a,pathnameBase:o,pattern:e}}function $x(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ih(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function zx(e){try{return decodeURI(e)}catch(t){return ih(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gx(e,t){try{return decodeURIComponent(e)}catch(n){return ih(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Xv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tl(e):e;return{pathname:n?n.startsWith("/")?n:Ux(n,t):t,search:Hx(r),hash:Wx(i)}}function Ux(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function j6(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tl(e):(i=gc({},e),jn(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else if(r){let p=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p.pop();i.pathname=c.join("/")}l="/"+p.join("/")}else{let p=t.length-1;if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p-=1;i.pathname=c.join("/")}l=p>=0?t[p]:"/"}let s=jx(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const Qa=e=>e.join("/").replace(/\/\/+/g,"/"),Vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U6=["post","put","patch","delete"];new Set(U6);const Yx=["get",...U6];new Set(Yx);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}const Yv=K.createContext(null),qx=K.createContext(null),As=K.createContext(null),ah=K.createContext(null),ro=K.createContext({outlet:null,matches:[],isDataRoute:!1}),V6=K.createContext(null);function Qx(e,t){let{relative:n}=t===void 0?{}:t;kc()||jn(!1);let{basename:r,navigator:i}=K.useContext(As),{hash:a,pathname:o,search:l}=W6(e,{relative:n}),s=o;return r!=="/"&&(s=o==="/"?r:Qa([r,o])),i.createHref({pathname:s,search:l,hash:a})}function kc(){return K.useContext(ah)!=null}function oh(){return kc()||jn(!1),K.useContext(ah).location}function H6(e){K.useContext(As).static||K.useLayoutEffect(e)}function qv(){let{isDataRoute:e}=K.useContext(ro);return e?c_():Zx()}function Zx(){kc()||jn(!1);let e=K.useContext(Yv),{basename:t,navigator:n}=K.useContext(As),{matches:r}=K.useContext(ro),{pathname:i}=oh(),a=JSON.stringify(G6(r).map(s=>s.pathnameBase)),o=K.useRef(!1);return H6(()=>{o.current=!0}),K.useCallback(function(s,u){if(u===void 0&&(u={}),!o.current)return;if(typeof s=="number"){n.go(s);return}let d=j6(s,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qa([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,i,e])}function Kx(){let{matches:e}=K.useContext(ro),t=e[e.length-1];return t?t.params:{}}function W6(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=K.useContext(ro),{pathname:i}=oh(),a=JSON.stringify(G6(r).map(o=>o.pathnameBase));return K.useMemo(()=>j6(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Jx(e,t){return e_(e,t)}function e_(e,t,n){kc()||jn(!1);let{navigator:r}=K.useContext(As),{matches:i}=K.useContext(ro),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let s=oh(),u;if(t){var d;let R=typeof t=="string"?tl(t):t;l==="/"||(d=R.pathname)!=null&&d.startsWith(l)||jn(!1),u=R}else u=s;let p=u.pathname||"/",c=l==="/"?p:p.slice(l.length)||"/",v=bx(e,{pathname:c}),x=a_(v&&v.map(R=>Object.assign({},R,{params:Object.assign({},o,R.params),pathname:Qa([l,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Qa([l,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,n);return t&&x?K.createElement(ah.Provider,{value:{location:Ed({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:za.Pop}},x):x}function t_(){let e=u_(),t=Xx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:i},n):null,a)}const n_=K.createElement(t_,null);class r_ extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?K.createElement(ro.Provider,{value:this.props.routeContext},K.createElement(V6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i_(e){let{routeContext:t,match:n,children:r}=e,i=K.useContext(Yv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(ro.Provider,{value:t},r)}function a_(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=a.findIndex(s=>s.route.id&&(o==null?void 0:o[s.route.id]));l>=0||jn(!1),a=a.slice(0,Math.min(a.length,l+1))}return a.reduceRight((l,s,u)=>{let d=s.route.id?o==null?void 0:o[s.route.id]:null,p=null;n&&(p=s.route.errorElement||n_);let c=t.concat(a.slice(0,u+1)),v=()=>{let x;return d?x=p:s.route.Component?x=K.createElement(s.route.Component,null):s.route.element?x=s.route.element:x=l,K.createElement(i_,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:x})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?K.createElement(r_,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:v(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):v()},null)}var X6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X6||{}),Sd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sd||{});function o_(e){let t=K.useContext(Yv);return t||jn(!1),t}function l_(e){let t=K.useContext(qx);return t||jn(!1),t}function s_(e){let t=K.useContext(ro);return t||jn(!1),t}function Y6(e){let t=s_(),n=t.matches[t.matches.length-1];return n.route.id||jn(!1),n.route.id}function u_(){var e;let t=K.useContext(V6),n=l_(Sd.UseRouteError),r=Y6(Sd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function c_(){let{router:e}=o_(X6.UseNavigateStable),t=Y6(Sd.UseNavigateStable),n=K.useRef(!1);return H6(()=>{n.current=!0}),K.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ed({fromRouteId:t},a)))},[e,t])}function Lm(e){jn(!1)}function f_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=za.Pop,navigator:a,static:o=!1}=e;kc()&&jn(!1);let l=t.replace(/^\/*/,"/"),s=K.useMemo(()=>({basename:l,navigator:a,static:o}),[l,a,o]);typeof r=="string"&&(r=tl(r));let{pathname:u="/",search:d="",hash:p="",state:c=null,key:v="default"}=r,x=K.useMemo(()=>{let R=Xv(u,l);return R==null?null:{location:{pathname:R,search:d,hash:p,state:c,key:v},navigationType:i}},[l,u,d,p,c,v,i]);return x==null?null:K.createElement(As.Provider,{value:s},K.createElement(ah.Provider,{children:n,value:x}))}function d_(e){let{children:t,location:n}=e;return Jx(Rm(t),n)}new Promise(()=>{});function Rm(e,t){t===void 0&&(t=[]);let n=[];return K.Children.forEach(e,(r,i)=>{if(!K.isValidElement(r))return;let a=[...t,i];if(r.type===K.Fragment){n.push.apply(n,Rm(r.props.children,a));return}r.type!==Lm&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rm(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(this,arguments)}function h_(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function p_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m_(e,t){return e.button===0&&(!t||t==="_self")&&!p_(e)}const v_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],g_="startTransition",my=h9[g_];function y_(e){let{basename:t,children:n,future:r,window:i}=e,a=K.useRef();a.current==null&&(a.current=Tx({window:i,v5Compat:!0}));let o=a.current,[l,s]=K.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=K.useCallback(p=>{u&&my?my(()=>s(p)):s(p)},[s,u]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.createElement(f_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",__=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q6=K.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:s,to:u,preventScrollReset:d,unstable_viewTransition:p}=t,c=h_(t,v_),{basename:v}=K.useContext(As),x,R=!1;if(typeof u=="string"&&__.test(u)&&(x=u,x_))try{let E=new URL(window.location.href),O=u.startsWith("//")?new URL(E.protocol+u):new URL(u),G=Xv(O.pathname,v);O.origin===E.origin&&G!=null?u=G+O.search+O.hash:R=!0}catch{}let M=Qx(u,{relative:i}),g=w_(u,{replace:o,state:l,target:s,preventScrollReset:d,relative:i,unstable_viewTransition:p});function T(E){r&&r(E),E.defaultPrevented||g(E)}return K.createElement("a",Pm({},c,{href:x||M,onClick:R||a?r:T,ref:n,target:s}))});var vy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vy||(vy={}));var gy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gy||(gy={}));function w_(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,s=qv(),u=oh(),d=W6(e,{relative:o});return K.useCallback(p=>{if(m_(p,n)){p.preventDefault();let c=r!==void 0?r:wd(u)===wd(d);s(e,{replace:c,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l})}},[u,s,d,r,i,n,e,a,o,l])}var Q6={exports:{}},E_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S_=E_,T_=S_;function Z6(){}function K6(){}K6.resetWarningCache=Z6;var A_=function(){function e(r,i,a,o,l,s){if(s!==T_){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K6,resetWarningCache:Z6};return n.PropTypes=n,n};Q6.exports=A_();var C_=Q6.exports;const qe=Gd(C_);qe.object,qe.bool,qe.func,qe.func,qe.func;const x0="https://api.latentscope.com/api";function b_(){const[e,t]=K.useState([]);K.useEffect(()=>{fetch(`${x0}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=K.useState({});K.useEffect(()=>{e.forEach(l=>{fetch(`${x0}/datasets/${l.id}/scopes`).then(s=>s.json()).then(s=>r(u=>{const d={...u};return d[l.id]=s,d}))})},[e]),K.useEffect(()=>{console.log("scopes",n)},[n]);const[i,a]=K.useState(null),o=qv();return K.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){o(`/datasets/${i.dataset}/setup`)},1e3)},[i,o]),ue.jsxs("div",{className:"home",children:[null,ue.jsxs("div",{className:"section datasets",children:[ue.jsx("h3",{children:"Datasets"}),ue.jsx("div",{className:"datasets-content",children:e.map(l=>{var s;return ue.jsxs("div",{className:"dataset",children:[ue.jsxs("h3",{children:[" ",l.id," ",null]}),ue.jsxs("span",{children:[l.length," rows"]}),ue.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((s=n[l.id])==null?void 0:s.map((u,d)=>ue.jsxs("div",{className:"scope-link",children:[ue.jsxs(q6,{to:`/datasets/${l.id}/explore/${u.id}`,children:[u.label||u.id,ue.jsx("br",{}),u.ignore_hulls?ue.jsx("img",{src:`${x0}/files/${l.id}/umaps/${u.umap_id}.png`}):ue.jsx("img",{src:`${x0}/files/${l.id}/clusters/${u.cluster_id}.png`})]}),ue.jsx("br",{}),ue.jsx("span",{className:"scope-description",children:u.description}),ue.jsx("br",{}),null]},d)))})]},l.id)})})]})]})}const yy="https://api.latentscope.com/api";J6.propTypes={data:qe.array.isRequired,tagset:qe.object,datasetId:qe.string,maxRows:qe.number,onTagset:qe.func,onHover:qe.func,onClick:qe.func};function J6({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:a,onClick:o}){if(!e.length)return ue.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(p,c){console.log("tag",p),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[p]),t[p].includes(c)?(console.log("removing"),fetch(`${yy}/tags/remove?dataset=${n}&tag=${p}&index=${c}`).then(v=>v.json()).then(v=>{console.log("removed",v),i(v)})):(console.log("adding"),fetch(`${yy}/tags/add?dataset=${n}&tag=${p}&index=${c}`).then(v=>v.json()).then(v=>{console.log("added",v),i(v)}))}t&&(s=Object.keys(t));const d=r?e.slice(0,r):e;return ue.jsxs(ue.Fragment,{children:[ue.jsxs("table",{className:"datatable",children:[ue.jsx("thead",{children:ue.jsxs("tr",{children:[l.map((p,c)=>ue.jsx("th",{children:p},c)),s?ue.jsx("th",{children:"tags"}):null]})}),ue.jsx("tbody",{children:d.map((p,c)=>ue.jsxs("tr",{onMouseEnter:()=>a&&a(p.index),onMouseLeave:()=>a&&a(),onClick:()=>o&&o(p.index),children:[l.map((v,x)=>ue.jsx("td",{children:v=="url"?ue.jsx("a",{href:p[v],children:"url"}):p[v]},x)),s?ue.jsx("td",{children:s.map((v,x)=>ue.jsx("button",{onClick:R=>{u(v,p.index),R.preventDefault(),R.stopPropagation()},className:t[v].includes(p.index)?"tag-active":"tag-inactive",children:v},x))}):null]},c))})]}),r&&e.length>r?ue.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const L_="https://api.latentscope.com/api";$u.propTypes={dataset:qe.object.isRequired,indices:qe.array.isRequired,distances:qe.array,clusterIndices:qe.array,clusterLabels:qe.array,maxRows:qe.number,tagset:qe.object,onHover:qe.func,onClick:qe.func,onTagset:qe.func};function $u({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:a,tagset:o,onHover:l,onClick:s,onTagset:u}){const[d,p]=K.useState([]),c=K.useCallback(v=>{e&&fetch(`${L_}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:v})}).then(x=>x.json()).then(x=>{let R=x.map((M,g)=>{let T=v[g],E={index:T,...M};return n&&n.length&&(E.distance=n[g]),r&&r.length&&i&&i.length&&(E.cluster=i[r[T].cluster].label),E});p(R)})},[e,n,r,i]);return K.useEffect(()=>{t&&t.length&&c(t)},[t]),ue.jsx("div",{children:ue.jsx(J6,{data:d,tagset:o,datasetId:e==null?void 0:e.id,maxRows:a,onTagset:u,onHover:l,onClick:s})})}const e5=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Qv=(e,t)=>t?e.toLowerCase():e,t5=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const a=Qv(n,t);return e[a]||(e[a]=[],e.__times__[a]=[]),e[a].push(r),e.__times__[a].push(+i||1/0),{event:a,handler:r}},Zv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Qv(n,t);if(!e[i])return;const a=e[i].indexOf(r);a===-1||a>=e[i].length||(e[i].splice(a,1),e.__times__[i].splice(a,1))},xy=(e,t)=>()=>{e.forEach(n=>n(t))},n5=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Zv(e);return(a,o,l={})=>{const s=Qv(a,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((d,p)=>{--e.__times__[s][p]<1&&i(s,d)}),r||l.async?setTimeout(xy(u,o),0):xy(u,o)(),t&&!l.isNoGlobalBroadcast)try{e5.postMessage({event:s,news:o})}catch(d){if(d instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw d}}},R_=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},r5=()=>({__times__:{}}),P_=({async:e=!1,caseInsensitive:t=!1,stack:n=r5()}={})=>(n.__times__||(n.__times__={}),{publish:n5(n,{async:e,caseInsensitive:t}),subscribe:t5(n,{caseInsensitive:t}),unsubscribe:Zv(n,{caseInsensitive:t}),clear:R_(n),stack:n}),_0=r5(),O_={publish:n5(_0,{isGlobal:!0}),subscribe:t5(_0),unsubscribe:Zv(_0),stack:_0};e5.onmessage=({data:{event:e,news:t}})=>O_.publish(e,t,{isNoGlobalBroadcast:!0});var i5={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Z8,function(){var n=function(h){return h instanceof Uint8Array||h instanceof Uint16Array||h instanceof Uint32Array||h instanceof Int8Array||h instanceof Int16Array||h instanceof Int32Array||h instanceof Float32Array||h instanceof Float64Array||h instanceof Uint8ClampedArray},r=function(h,y){for(var L=Object.keys(y),W=0;W<L.length;++W)h[L[W]]=y[L[W]];return h},i=`
`;function a(h){return typeof atob<"u"?atob(h):"base64:"+h}function o(h){var y=new Error("(regl) "+h);throw console.error(y),y}function l(h,y){h||o(y)}function s(h){return h?": "+h:""}function u(h,y,L){h in y||o("unknown parameter ("+h+")"+s(L)+". possible values: "+Object.keys(y).join())}function d(h,y){n(h)||o("invalid parameter type"+s(y)+". must be a typed array")}function p(h,y){switch(y){case"number":return typeof h=="number";case"object":return typeof h=="object";case"string":return typeof h=="string";case"boolean":return typeof h=="boolean";case"function":return typeof h=="function";case"undefined":return typeof h>"u";case"symbol":return typeof h=="symbol"}}function c(h,y,L){p(h,y)||o("invalid parameter type"+s(L)+". expected "+y+", got "+typeof h)}function v(h,y){h>=0&&(h|0)===h||o("invalid parameter type, ("+h+")"+s(y)+". must be a nonnegative integer")}function x(h,y,L){y.indexOf(h)<0&&o("invalid value"+s(L)+". must be one of: "+y)}var R=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function M(h){Object.keys(h).forEach(function(y){R.indexOf(y)<0&&o('invalid regl constructor argument "'+y+'". must be one of '+R)})}function g(h,y){for(h=h+"";h.length<y;)h=" "+h;return h}function T(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function E(h,y){this.number=h,this.line=y,this.errors=[]}function O(h,y,L){this.file=h,this.line=y,this.message=L}function G(){var h=new Error,y=(h.stack||h).toString(),L=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(y);if(L)return L[1];var W=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(y);return W?W[1]:"unknown"}function q(){var h=new Error,y=(h.stack||h).toString(),L=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(y);if(L)return L[1];var W=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(y);return W?W[1]:"unknown"}function de(h,y){var L=h.split(`
`),W=1,ne=0,H={unknown:new T,0:new T};H.unknown.name=H[0].name=y||G(),H.unknown.lines.push(new E(0,""));for(var Q=0;Q<L.length;++Q){var fe=L[Q],ce=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(fe);if(ce)switch(ce[1]){case"line":var ge=/(\d+)(\s+\d+)?/.exec(ce[2]);ge&&(W=ge[1]|0,ge[2]&&(ne=ge[2]|0,ne in H||(H[ne]=new T)));break;case"define":var xe=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ce[2]);xe&&(H[ne].name=xe[1]?a(xe[2]):xe[2]);break}H[ne].lines.push(new E(W++,fe))}return Object.keys(H).forEach(function(ye){var Se=H[ye];Se.lines.forEach(function(he){Se.index[he.number]=he})}),H}function J(h){var y=[];return h.split(`
`).forEach(function(L){if(!(L.length<5)){var W=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(L);W?y.push(new O(W[1]|0,W[2]|0,W[3].trim())):L.length>0&&y.push(new O("unknown",0,L))}}),y}function Ze(h,y){y.forEach(function(L){var W=h[L.file];if(W){var ne=W.index[L.line];if(ne){ne.errors.push(L),W.hasErrors=!0;return}}h.unknown.hasErrors=!0,h.unknown.lines[0].errors.push(L)})}function ke(h,y,L,W,ne){if(!h.getShaderParameter(y,h.COMPILE_STATUS)){var H=h.getShaderInfoLog(y),Q=W===h.FRAGMENT_SHADER?"fragment":"vertex";pt(L,"string",Q+" shader source must be a string",ne);var fe=de(L,ne),ce=J(H);Ze(fe,ce),Object.keys(fe).forEach(function(ge){var xe=fe[ge];if(!xe.hasErrors)return;var ye=[""],Se=[""];function he(ve,B){ye.push(ve),Se.push(B||"")}he("file number "+ge+": "+xe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),xe.lines.forEach(function(ve){if(ve.errors.length>0){he(g(ve.number,4)+"|  ","background-color:yellow; font-weight:bold"),he(ve.line+i,"color:red; background-color:yellow; font-weight:bold");var B=0;ve.errors.forEach(function(Y){var me=Y.message,De=/^\s*'(.*)'\s*:\s*(.*)$/.exec(me);if(De){var se=De[1];switch(me=De[2],se){case"assign":se="=";break}B=Math.max(ve.line.indexOf(se,B),0)}else B=0;he(g("| ",6)),he(g("^^^",B+3)+i,"font-weight:bold"),he(g("| ",6)),he(me+i,"font-weight:bold")}),he(g("| ",6)+i)}else he(g(ve.number,4)+"|  "),he(ve.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Se[0]=ye.join("%c"),console.log.apply(console,Se)):console.log(ye.join(""))}),l.raise("Error compiling "+Q+" shader, "+fe[0].name)}}function je(h,y,L,W,ne){if(!h.getProgramParameter(y,h.LINK_STATUS)){var H=h.getProgramInfoLog(y),Q=de(L,ne),fe=de(W,ne),ce='Error linking program with vertex shader, "'+fe[0].name+'", and fragment shader "'+Q[0].name+'"';typeof document<"u"?console.log("%c"+ce+i+"%c"+H,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ce+i+H),l.raise(ce)}}function We(h){h._commandRef=G()}function nt(h,y,L,W){We(h);function ne(ce){return ce?W.id(ce):0}h._fragId=ne(h.static.frag),h._vertId=ne(h.static.vert);function H(ce,ge){Object.keys(ge).forEach(function(xe){ce[W.id(xe)]=!0})}var Q=h._uniformSet={};H(Q,y.static),H(Q,y.dynamic);var fe=h._attributeSet={};H(fe,L.static),H(fe,L.dynamic),h._hasCount="count"in h.static||"count"in h.dynamic||"elements"in h.static||"elements"in h.dynamic}function Qe(h,y){var L=q();o(h+" in command "+(y||G())+(L==="unknown"?"":" called from "+L))}function Ht(h,y,L){h||Qe(y,L||G())}function gt(h,y,L,W){h in y||Qe("unknown parameter ("+h+")"+s(L)+". possible values: "+Object.keys(y).join(),W||G())}function pt(h,y,L,W){p(h,y)||Qe("invalid parameter type"+s(L)+". expected "+y+", got "+typeof h,W||G())}function we(h){h()}function Xe(h,y,L){h.texture?x(h.texture._texture.internalformat,y,"unsupported texture format for attachment"):x(h.renderbuffer._renderbuffer.format,L,"unsupported renderbuffer format for attachment")}var _e=33071,be=9728,Je=9984,wt=9985,Lt=9986,Xt=9987,qt=5120,Nt=5121,Ot=5122,pn=5123,cn=5124,Dn=5125,Bt=5126,an=32819,ft=32820,vt=33635,Mt=34042,At=36193,ct={};ct[qt]=ct[Nt]=1,ct[Ot]=ct[pn]=ct[At]=ct[vt]=ct[an]=ct[ft]=2,ct[cn]=ct[Dn]=ct[Bt]=ct[Mt]=4;function Ft(h,y){return h===ft||h===an||h===vt?2:h===Mt?4:ct[h]*y}function fn(h){return!(h&h-1)&&!!h}function tn(h,y,L){var W,ne=y.width,H=y.height,Q=y.channels;l(ne>0&&ne<=L.maxTextureSize&&H>0&&H<=L.maxTextureSize,"invalid texture shape"),(h.wrapS!==_e||h.wrapT!==_e)&&l(fn(ne)&&fn(H),"incompatible wrap mode for texture, both width and height must be power of 2"),y.mipmask===1?ne!==1&&H!==1&&l(h.minFilter!==Je&&h.minFilter!==Lt&&h.minFilter!==wt&&h.minFilter!==Xt,"min filter requires mipmap"):(l(fn(ne)&&fn(H),"texture must be a square power of 2 to support mipmapping"),l(y.mipmask===(ne<<1)-1,"missing or incomplete mipmap data")),y.type===Bt&&(L.extensions.indexOf("oes_texture_float_linear")<0&&l(h.minFilter===be&&h.magFilter===be,"filter not supported, must enable oes_texture_float_linear"),l(!h.genMipmaps,"mipmap generation not supported with float textures"));var fe=y.images;for(W=0;W<16;++W)if(fe[W]){var ce=ne>>W,ge=H>>W;l(y.mipmask&1<<W,"missing mipmap data");var xe=fe[W];if(l(xe.width===ce&&xe.height===ge,"invalid shape for mip images"),l(xe.format===y.format&&xe.internalformat===y.internalformat&&xe.type===y.type,"incompatible type for mip image"),!xe.compressed)if(xe.data){var ye=Math.ceil(Ft(xe.type,Q)*ce/xe.unpackAlignment)*xe.unpackAlignment;l(xe.data.byteLength===ye*ge,"invalid data for image, buffer size is inconsistent with image format")}else xe.element||xe.copy}else h.genMipmaps||l((y.mipmask&1<<W)===0,"extra mipmap data");y.compressed&&l(!h.genMipmaps,"mipmap generation for compressed images not supported")}function Gr(h,y,L,W){var ne=h.width,H=h.height,Q=h.channels;l(ne>0&&ne<=W.maxTextureSize&&H>0&&H<=W.maxTextureSize,"invalid texture shape"),l(ne===H,"cube map must be square"),l(y.wrapS===_e&&y.wrapT===_e,"wrap mode not supported by cube map");for(var fe=0;fe<L.length;++fe){var ce=L[fe];l(ce.width===ne&&ce.height===H,"inconsistent cube map face shape"),y.genMipmaps&&(l(!ce.compressed,"can not generate mipmap for compressed textures"),l(ce.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ge=ce.images,xe=0;xe<16;++xe){var ye=ge[xe];if(ye){var Se=ne>>xe,he=H>>xe;l(ce.mipmask&1<<xe,"missing mipmap data"),l(ye.width===Se&&ye.height===he,"invalid shape for mip images"),l(ye.format===h.format&&ye.internalformat===h.internalformat&&ye.type===h.type,"incompatible type for mip image"),ye.compressed||(ye.data?l(ye.data.byteLength===Se*he*Math.max(Ft(ye.type,Q),ye.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ye.element||ye.copy)}}}}var _=r(l,{optional:we,raise:o,commandRaise:Qe,command:Ht,parameter:u,commandParameter:gt,constructor:M,type:c,commandType:pt,isTypedArray:d,nni:v,oneOf:x,shaderError:ke,linkError:je,callSite:q,saveCommandRef:We,saveDrawInfo:nt,framebufferFormat:Xe,guessCommand:G,texture2D:tn,textureCube:Gr}),Et=0,bt=0,Me=5,Qt=6;function yt(h,y){this.id=Et++,this.type=h,this.data=y}function Fe(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Pt(h){if(h.length===0)return[];var y=h.charAt(0),L=h.charAt(h.length-1);if(h.length>1&&y===L&&(y==='"'||y==="'"))return['"'+Fe(h.substr(1,h.length-2))+'"'];var W=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(h);if(W)return Pt(h.substr(0,W.index)).concat(Pt(W[1])).concat(Pt(h.substr(W.index+W[0].length)));var ne=h.split(".");if(ne.length===1)return['"'+Fe(h)+'"'];for(var H=[],Q=0;Q<ne.length;++Q)H=H.concat(Pt(ne[Q]));return H}function jt(h){return"["+Pt(h).join("][")+"]"}function ze(h,y){return new yt(h,jt(y+""))}function Kt(h){return typeof h=="function"&&!h._reglType||h instanceof yt}function on(h,y){if(typeof h=="function")return new yt(bt,h);if(typeof h=="number"||typeof h=="boolean")return new yt(Me,h);if(Array.isArray(h))return new yt(Qt,h.map(function(L,W){return on(L,y+"["+W+"]")}));if(h instanceof yt)return h;_(!1,"invalid option type in uniform "+y)}var Rt={DynamicVariable:yt,define:ze,isDynamic:Kt,unbox:on,accessor:jt},mn={next:typeof requestAnimationFrame=="function"?function(h){return requestAnimationFrame(h)}:function(h){return setTimeout(h,16)},cancel:typeof cancelAnimationFrame=="function"?function(h){return cancelAnimationFrame(h)}:clearTimeout},Sn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function nr(){var h={"":0},y=[""];return{id:function(L){var W=h[L];return W||(W=h[L]=y.length,y.push(L),W)},str:function(L){return y[L]}}}function Xn(h,y,L){var W=document.createElement("canvas");r(W.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),h.appendChild(W),h===document.body&&(W.style.position="absolute",r(h.style,{margin:0,padding:0}));function ne(){var fe=window.innerWidth,ce=window.innerHeight;if(h!==document.body){var ge=W.getBoundingClientRect();fe=ge.right-ge.left,ce=ge.bottom-ge.top}W.width=L*fe,W.height=L*ce}var H;h!==document.body&&typeof ResizeObserver=="function"?(H=new ResizeObserver(function(){setTimeout(ne)}),H.observe(h)):window.addEventListener("resize",ne,!1);function Q(){H?H.disconnect():window.removeEventListener("resize",ne),h.removeChild(W)}return ne(),{canvas:W,onDestroy:Q}}function ei(h,y){function L(W){try{return h.getContext(W,y)}catch{return null}}return L("webgl")||L("experimental-webgl")||L("webgl-experimental")}function Fn(h){return typeof h.nodeName=="string"&&typeof h.appendChild=="function"&&typeof h.getBoundingClientRect=="function"}function ti(h){return typeof h.drawArrays=="function"||typeof h.drawElements=="function"}function ae(h){return typeof h=="string"?h.split():(_(Array.isArray(h),"invalid extension array"),h)}function xt(h){return typeof h=="string"?(_(typeof document<"u","not supported outside of DOM"),document.querySelector(h)):h}function dn(h){var y=h||{},L,W,ne,H,Q={},fe=[],ce=[],ge=typeof window>"u"?1:window.devicePixelRatio,xe=!1,ye=function(ve){ve&&_.raise(ve)},Se=function(){};if(typeof y=="string"?(_(typeof document<"u","selector queries only supported in DOM enviroments"),L=document.querySelector(y),_(L,"invalid query string for element")):typeof y=="object"?Fn(y)?L=y:ti(y)?(H=y,ne=H.canvas):(_.constructor(y),"gl"in y?H=y.gl:"canvas"in y?ne=xt(y.canvas):"container"in y&&(W=xt(y.container)),"attributes"in y&&(Q=y.attributes,_.type(Q,"object","invalid context attributes")),"extensions"in y&&(fe=ae(y.extensions)),"optionalExtensions"in y&&(ce=ae(y.optionalExtensions)),"onDone"in y&&(_.type(y.onDone,"function","invalid or missing onDone callback"),ye=y.onDone),"profile"in y&&(xe=!!y.profile),"pixelRatio"in y&&(ge=+y.pixelRatio,_(ge>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),L&&(L.nodeName.toLowerCase()==="canvas"?ne=L:W=L),!H){if(!ne){_(typeof document<"u","must manually specify webgl context outside of DOM environments");var he=Xn(W||document.body,ye,ge);if(!he)return null;ne=he.canvas,Se=he.onDestroy}Q.premultipliedAlpha===void 0&&(Q.premultipliedAlpha=!0),H=ei(ne,Q)}return H?{gl:H,canvas:ne,container:W,extensions:fe,optionalExtensions:ce,pixelRatio:ge,profile:xe,onDone:ye,onDestroy:Se}:(Se(),ye("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Tn(h,y){var L={};function W(Q){_.type(Q,"string","extension name must be string");var fe=Q.toLowerCase(),ce;try{ce=L[fe]=h.getExtension(fe)}catch{}return!!ce}for(var ne=0;ne<y.extensions.length;++ne){var H=y.extensions[ne];if(!W(H))return y.onDestroy(),y.onDone('"'+H+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return y.optionalExtensions.forEach(W),{extensions:L,restore:function(){Object.keys(L).forEach(function(Q){if(L[Q]&&!W(Q))throw new Error("(regl): error restoring extension "+Q)})}}}function Yt(h,y){for(var L=Array(h),W=0;W<h;++W)L[W]=y(W);return L}var Bn=5120,Ar=5121,Bi=5122,ao=5123,bs=5124,nl=5125,ca=5126;function oo(h){for(var y=16;y<=1<<28;y*=16)if(h<=y)return y;return 0}function fa(h){var y,L;return y=(h>65535)<<4,h>>>=y,L=(h>255)<<3,h>>>=L,y|=L,L=(h>15)<<2,h>>>=L,y|=L,L=(h>3)<<1,h>>>=L,y|=L,y|h>>1}function rl(){var h=Yt(8,function(){return[]});function y(H){var Q=oo(H),fe=h[fa(Q)>>2];return fe.length>0?fe.pop():new ArrayBuffer(Q)}function L(H){h[fa(H.byteLength)>>2].push(H)}function W(H,Q){var fe=null;switch(H){case Bn:fe=new Int8Array(y(Q),0,Q);break;case Ar:fe=new Uint8Array(y(Q),0,Q);break;case Bi:fe=new Int16Array(y(2*Q),0,Q);break;case ao:fe=new Uint16Array(y(2*Q),0,Q);break;case bs:fe=new Int32Array(y(4*Q),0,Q);break;case nl:fe=new Uint32Array(y(4*Q),0,Q);break;case ca:fe=new Float32Array(y(4*Q),0,Q);break;default:return null}return fe.length!==Q?fe.subarray(0,Q):fe}function ne(H){L(H.buffer)}return{alloc:y,free:L,allocType:W,freeType:ne}}var mt=rl();mt.zero=rl();var $i=3408,il=3410,Ic=3411,yi=3412,xi=3413,_i=3414,Dc=3415,Cr=33901,Ls=33902,lo=3379,Rs=3386,so=34921,al=36347,ol=36348,ll=35661,sl=35660,zi=34930,uo=36349,Ps=34076,Os=34024,Fc=7936,da=7937,ha=7938,ul=35724,pa=34047,ks=36063,mr=34852,wi=3553,Ei=34067,Gi=34069,$n=33984,jr=6408,Un=5126,An=5121,ma=36160,cl=36053,fl=36064,dl=16384,Bc=function(h,y){var L=1;y.ext_texture_filter_anisotropic&&(L=h.getParameter(pa));var W=1,ne=1;y.webgl_draw_buffers&&(W=h.getParameter(mr),ne=h.getParameter(ks));var H=!!y.oes_texture_float;if(H){var Q=h.createTexture();h.bindTexture(wi,Q),h.texImage2D(wi,0,jr,1,1,0,jr,Un,null);var fe=h.createFramebuffer();if(h.bindFramebuffer(ma,fe),h.framebufferTexture2D(ma,fl,wi,Q,0),h.bindTexture(wi,null),h.checkFramebufferStatus(ma)!==cl)H=!1;else{h.viewport(0,0,1,1),h.clearColor(1,0,0,1),h.clear(dl);var ce=mt.allocType(Un,4);h.readPixels(0,0,1,1,jr,Un,ce),h.getError()?H=!1:(h.deleteFramebuffer(fe),h.deleteTexture(Q),H=ce[0]===1),mt.freeType(ce)}}var ge=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),xe=!0;if(!ge){var ye=h.createTexture(),Se=mt.allocType(An,36);h.activeTexture($n),h.bindTexture(Ei,ye),h.texImage2D(Gi,0,jr,3,3,0,jr,An,Se),mt.freeType(Se),h.bindTexture(Ei,null),h.deleteTexture(ye),xe=!h.getError()}return{colorBits:[h.getParameter(il),h.getParameter(Ic),h.getParameter(yi),h.getParameter(xi)],depthBits:h.getParameter(_i),stencilBits:h.getParameter(Dc),subpixelBits:h.getParameter($i),extensions:Object.keys(y).filter(function(he){return!!y[he]}),maxAnisotropic:L,maxDrawbuffers:W,maxColorAttachments:ne,pointSizeDims:h.getParameter(Cr),lineWidthDims:h.getParameter(Ls),maxViewportDims:h.getParameter(Rs),maxCombinedTextureUnits:h.getParameter(ll),maxCubeMapSize:h.getParameter(Ps),maxRenderbufferSize:h.getParameter(Os),maxTextureUnits:h.getParameter(zi),maxTextureSize:h.getParameter(lo),maxAttributes:h.getParameter(so),maxVertexUniforms:h.getParameter(al),maxVertexTextureUnits:h.getParameter(sl),maxVaryingVectors:h.getParameter(ol),maxFragmentUniforms:h.getParameter(uo),glsl:h.getParameter(ul),renderer:h.getParameter(da),vendor:h.getParameter(Fc),version:h.getParameter(ha),readFloat:H,npotTextureCube:xe}};function vr(h){return!!h&&typeof h=="object"&&Array.isArray(h.shape)&&Array.isArray(h.stride)&&typeof h.offset=="number"&&h.shape.length===h.stride.length&&(Array.isArray(h.data)||n(h.data))}var sr=function(h){return Object.keys(h).map(function(y){return h[y]})},br={shape:yh,flatten:gh};function $c(h,y,L){for(var W=0;W<y;++W)L[W]=h[W]}function Ms(h,y,L,W){for(var ne=0,H=0;H<y;++H)for(var Q=h[H],fe=0;fe<L;++fe)W[ne++]=Q[fe]}function hl(h,y,L,W,ne,H){for(var Q=H,fe=0;fe<y;++fe)for(var ce=h[fe],ge=0;ge<L;++ge)for(var xe=ce[ge],ye=0;ye<W;++ye)ne[Q++]=xe[ye]}function Ns(h,y,L,W,ne){for(var H=1,Q=L+1;Q<y.length;++Q)H*=y[Q];var fe=y[L];if(y.length-L===4){var ce=y[L+1],ge=y[L+2],xe=y[L+3];for(Q=0;Q<fe;++Q)hl(h[Q],ce,ge,xe,W,ne),ne+=H}else for(Q=0;Q<fe;++Q)Ns(h[Q],y,L+1,W,ne),ne+=H}function gh(h,y,L,W){var ne=1;if(y.length)for(var H=0;H<y.length;++H)ne*=y[H];else ne=0;var Q=W||mt.allocType(L,ne);switch(y.length){case 0:break;case 1:$c(h,y[0],Q);break;case 2:Ms(h,y[0],y[1],Q);break;case 3:hl(h,y[0],y[1],y[2],Q,0);break;default:Ns(h,y,0,Q,0)}return Q}function yh(h){for(var y=[],L=h;L.length;L=L[0])y.push(L.length);return y}var va={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},co=5120,ji=5122,pl=5124,xh=5121,ml=5123,ga=5125,fo=5126,Is=5126,ya={int8:co,int16:ji,int32:pl,uint8:xh,uint16:ml,uint32:ga,float:fo,float32:Is},g2=35048,Pn=35040,vl={dynamic:g2,stream:Pn,static:35044},ho=br.flatten,zc=br.shape,Ds=35044,Fs=35040,gl=5121,yl=5126,ni=[];ni[5120]=1,ni[5122]=2,ni[5124]=4,ni[5121]=1,ni[5123]=2,ni[5125]=4,ni[5126]=4;function po(h){return va[Object.prototype.toString.call(h)]|0}function xl(h,y){for(var L=0;L<y.length;++L)h[L]=y[L]}function Bs(h,y,L,W,ne,H,Q){for(var fe=0,ce=0;ce<L;++ce)for(var ge=0;ge<W;++ge)h[fe++]=y[ne*ce+H*ge+Q]}function $s(h,y,L,W){var ne=0,H={};function Q(B){this.id=ne++,this.buffer=h.createBuffer(),this.type=B,this.usage=Ds,this.byteLength=0,this.dimension=1,this.dtype=gl,this.persistentData=null,L.profile&&(this.stats={size:0})}Q.prototype.bind=function(){h.bindBuffer(this.type,this.buffer)},Q.prototype.destroy=function(){Se(this)};var fe=[];function ce(B,Y){var me=fe.pop();return me||(me=new Q(B)),me.bind(),ye(me,Y,Fs,0,1,!1),me}function ge(B){fe.push(B)}function xe(B,Y,me){B.byteLength=Y.byteLength,h.bufferData(B.type,Y,me)}function ye(B,Y,me,De,se,Ne){var Re;if(B.usage=me,Array.isArray(Y)){if(B.dtype=De||yl,Y.length>0){var et;if(Array.isArray(Y[0])){Re=zc(Y);for(var re=1,te=1;te<Re.length;++te)re*=Re[te];B.dimension=re,et=ho(Y,Re,B.dtype),xe(B,et,me),Ne?B.persistentData=et:mt.freeType(et)}else if(typeof Y[0]=="number"){B.dimension=se;var Ue=mt.allocType(B.dtype,Y.length);xl(Ue,Y),xe(B,Ue,me),Ne?B.persistentData=Ue:mt.freeType(Ue)}else n(Y[0])?(B.dimension=Y[0].length,B.dtype=De||po(Y[0])||yl,et=ho(Y,[Y.length,Y[0].length],B.dtype),xe(B,et,me),Ne?B.persistentData=et:mt.freeType(et)):_.raise("invalid buffer data")}}else if(n(Y))B.dtype=De||po(Y),B.dimension=se,xe(B,Y,me),Ne&&(B.persistentData=new Uint8Array(new Uint8Array(Y.buffer)));else if(vr(Y)){Re=Y.shape;var Ae=Y.stride,pe=Y.offset,Ce=0,Le=0,st=0,lt=0;Re.length===1?(Ce=Re[0],Le=1,st=Ae[0],lt=0):Re.length===2?(Ce=Re[0],Le=Re[1],st=Ae[0],lt=Ae[1]):_.raise("invalid shape"),B.dtype=De||po(Y.data)||yl,B.dimension=Le;var Pe=mt.allocType(B.dtype,Ce*Le);Bs(Pe,Y.data,Ce,Le,st,lt,pe),xe(B,Pe,me),Ne?B.persistentData=Pe:mt.freeType(Pe)}else Y instanceof ArrayBuffer?(B.dtype=gl,B.dimension=se,xe(B,Y,me),Ne&&(B.persistentData=new Uint8Array(new Uint8Array(Y)))):_.raise("invalid buffer data")}function Se(B){y.bufferCount--,W(B);var Y=B.buffer;_(Y,"buffer must not be deleted already"),h.deleteBuffer(Y),B.buffer=null,delete H[B.id]}function he(B,Y,me,De){y.bufferCount++;var se=new Q(Y);H[se.id]=se;function Ne(re){var te=Ds,Ue=null,Ae=0,pe=0,Ce=1;return Array.isArray(re)||n(re)||vr(re)||re instanceof ArrayBuffer?Ue=re:typeof re=="number"?Ae=re|0:re&&(_.type(re,"object","buffer arguments must be an object, a number or an array"),"data"in re&&(_(Ue===null||Array.isArray(Ue)||n(Ue)||vr(Ue),"invalid data for buffer"),Ue=re.data),"usage"in re&&(_.parameter(re.usage,vl,"invalid buffer usage"),te=vl[re.usage]),"type"in re&&(_.parameter(re.type,ya,"invalid buffer type"),pe=ya[re.type]),"dimension"in re&&(_.type(re.dimension,"number","invalid dimension"),Ce=re.dimension|0),"length"in re&&(_.nni(Ae,"buffer length must be a nonnegative integer"),Ae=re.length|0)),se.bind(),Ue?ye(se,Ue,te,pe,Ce,De):(Ae&&h.bufferData(se.type,Ae,te),se.dtype=pe||gl,se.usage=te,se.dimension=Ce,se.byteLength=Ae),L.profile&&(se.stats.size=se.byteLength*ni[se.dtype]),Ne}function Re(re,te){_(te+re.byteLength<=se.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+re.byteLength+" starting from offset "+te+" to a buffer of size "+se.byteLength),h.bufferSubData(se.type,te,re)}function et(re,te){var Ue=(te||0)|0,Ae;if(se.bind(),n(re)||re instanceof ArrayBuffer)Re(re,Ue);else if(Array.isArray(re)){if(re.length>0)if(typeof re[0]=="number"){var pe=mt.allocType(se.dtype,re.length);xl(pe,re),Re(pe,Ue),mt.freeType(pe)}else if(Array.isArray(re[0])||n(re[0])){Ae=zc(re);var Ce=ho(re,Ae,se.dtype);Re(Ce,Ue),mt.freeType(Ce)}else _.raise("invalid buffer data")}else if(vr(re)){Ae=re.shape;var Le=re.stride,st=0,lt=0,Pe=0,Ie=0;Ae.length===1?(st=Ae[0],lt=1,Pe=Le[0],Ie=0):Ae.length===2?(st=Ae[0],lt=Ae[1],Pe=Le[0],Ie=Le[1]):_.raise("invalid shape");var it=Array.isArray(re.data)?se.dtype:po(re.data),ut=mt.allocType(it,st*lt);Bs(ut,re.data,st,lt,Pe,Ie,re.offset),Re(ut,Ue),mt.freeType(ut)}else _.raise("invalid data for buffer subdata");return Ne}return me||Ne(B),Ne._reglType="buffer",Ne._buffer=se,Ne.subdata=et,L.profile&&(Ne.stats=se.stats),Ne.destroy=function(){Se(se)},Ne}function ve(){sr(H).forEach(function(B){B.buffer=h.createBuffer(),h.bindBuffer(B.type,B.buffer),h.bufferData(B.type,B.persistentData||B.byteLength,B.usage)})}return L.profile&&(y.getTotalBufferSize=function(){var B=0;return Object.keys(H).forEach(function(Y){B+=H[Y].stats.size}),B}),{create:he,createStream:ce,destroyStream:ge,clear:function(){sr(H).forEach(Se),fe.forEach(Se)},getBuffer:function(B){return B&&B._buffer instanceof Q?B._buffer:null},restore:ve,_initBuffer:ye}}var _h=0,zs=0,wh=1,Gs=1,Eh=4,Sh=4,Si={points:_h,point:zs,lines:wh,line:Gs,triangles:Eh,triangle:Sh,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Th=0,Ui=1,Vi=4,Ah=5120,Ti=5121,Gc=5122,xa=5123,jc=5124,ri=5125,js=34963,Ch=35040,Us=35044;function Vs(h,y,L,W){var ne={},H=0,Q={uint8:Ti,uint16:xa};y.oes_element_index_uint&&(Q.uint32=ri);function fe(ve){this.id=H++,ne[this.id]=this,this.buffer=ve,this.primType=Vi,this.vertCount=0,this.type=0}fe.prototype.bind=function(){this.buffer.bind()};var ce=[];function ge(ve){var B=ce.pop();return B||(B=new fe(L.create(null,js,!0,!1)._buffer)),ye(B,ve,Ch,-1,-1,0,0),B}function xe(ve){ce.push(ve)}function ye(ve,B,Y,me,De,se,Ne){ve.buffer.bind();var Re;if(B){var et=Ne;!Ne&&(!n(B)||vr(B)&&!n(B.data))&&(et=y.oes_element_index_uint?ri:xa),L._initBuffer(ve.buffer,B,Y,et,3)}else h.bufferData(js,se,Y),ve.buffer.dtype=Re||Ti,ve.buffer.usage=Y,ve.buffer.dimension=3,ve.buffer.byteLength=se;if(Re=Ne,!Ne){switch(ve.buffer.dtype){case Ti:case Ah:Re=Ti;break;case xa:case Gc:Re=xa;break;case ri:case jc:Re=ri;break;default:_.raise("unsupported type for element array")}ve.buffer.dtype=Re}ve.type=Re,_(Re!==ri||!!y.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var re=De;re<0&&(re=ve.buffer.byteLength,Re===xa?re>>=1:Re===ri&&(re>>=2)),ve.vertCount=re;var te=me;if(me<0){te=Vi;var Ue=ve.buffer.dimension;Ue===1&&(te=Th),Ue===2&&(te=Ui),Ue===3&&(te=Vi)}ve.primType=te}function Se(ve){W.elementsCount--,_(ve.buffer!==null,"must not double destroy elements"),delete ne[ve.id],ve.buffer.destroy(),ve.buffer=null}function he(ve,B){var Y=L.create(null,js,!0),me=new fe(Y._buffer);W.elementsCount++;function De(se){if(!se)Y(),me.primType=Vi,me.vertCount=0,me.type=Ti;else if(typeof se=="number")Y(se),me.primType=Vi,me.vertCount=se|0,me.type=Ti;else{var Ne=null,Re=Us,et=-1,re=-1,te=0,Ue=0;Array.isArray(se)||n(se)||vr(se)?Ne=se:(_.type(se,"object","invalid arguments for elements"),"data"in se&&(Ne=se.data,_(Array.isArray(Ne)||n(Ne)||vr(Ne),"invalid data for element buffer")),"usage"in se&&(_.parameter(se.usage,vl,"invalid element buffer usage"),Re=vl[se.usage]),"primitive"in se&&(_.parameter(se.primitive,Si,"invalid element buffer primitive"),et=Si[se.primitive]),"count"in se&&(_(typeof se.count=="number"&&se.count>=0,"invalid vertex count for elements"),re=se.count|0),"type"in se&&(_.parameter(se.type,Q,"invalid buffer type"),Ue=Q[se.type]),"length"in se?te=se.length|0:(te=re,Ue===xa||Ue===Gc?te*=2:(Ue===ri||Ue===jc)&&(te*=4))),ye(me,Ne,Re,et,re,te,Ue)}return De}return De(ve),De._reglType="elements",De._elements=me,De.subdata=function(se,Ne){return Y.subdata(se,Ne),De},De.destroy=function(){Se(me)},De}return{create:he,createStream:ge,destroyStream:xe,getElements:function(ve){return typeof ve=="function"&&ve._elements instanceof fe?ve._elements:null},clear:function(){sr(ne).forEach(Se)}}}var Uc=new Float32Array(1),bh=new Uint32Array(Uc.buffer),Lh=5123;function Vc(h){for(var y=mt.allocType(Lh,h.length),L=0;L<h.length;++L)if(isNaN(h[L]))y[L]=65535;else if(h[L]===1/0)y[L]=31744;else if(h[L]===-1/0)y[L]=64512;else{Uc[0]=h[L];var W=bh[0],ne=W>>>31<<15,H=(W<<1>>>24)-127,Q=W>>13&1023;if(H<-24)y[L]=ne;else if(H<-14){var fe=-14-H;y[L]=ne+(Q+1024>>fe)}else H>15?y[L]=ne+31744:y[L]=ne+(H+15<<10)+Q}return y}function Jt(h){return Array.isArray(h)||n(h)}var Hc=function(h){return!(h&h-1)&&!!h},Rh=34467,Ur=3553,Hs=34067,_l=34069,Hi=6408,Ws=6406,wl=6407,Wi=6409,El=6410,Wc=32854,Xs=32855,Ys=36194,Ph=32819,Oh=32820,kh=33635,Xc=34042,Sl=6402,mo=34041,vo=35904,go=35906,_a=36193,Xi=33776,qs=33777,Qs=33778,Zs=33779,Yc=35986,qc=35987,Qc=34798,Zc=35840,Kc=35841,Jc=35842,ef=35843,tf=36196,wa=5121,Ks=5123,Js=5125,Lr=5126,Mh=10242,Nh=10243,Ih=10497,eu=33071,Dh=33648,Fh=10240,Bh=10241,tu=9728,$h=9729,Tl=9984,nu=9985,nf=9986,ru=9987,zh=33170,yo=4352,rf=4353,Gh=4354,jh=34046,Uh=3317,Vh=37440,Hh=37441,Wh=37443,Ea=37444,xo=33984,af=[Tl,nf,nu,ru],_o=[0,Wi,El,wl,Hi],Rr={};Rr[Wi]=Rr[Ws]=Rr[Sl]=1,Rr[mo]=Rr[El]=2,Rr[wl]=Rr[vo]=3,Rr[Hi]=Rr[go]=4;function Sa(h){return"[object "+h+"]"}var of=Sa("HTMLCanvasElement"),lf=Sa("OffscreenCanvas"),sf=Sa("CanvasRenderingContext2D"),uf=Sa("ImageBitmap"),cf=Sa("HTMLImageElement"),Al=Sa("HTMLVideoElement"),Xh=Object.keys(va).concat([of,lf,sf,uf,cf,Al]),Ta=[];Ta[wa]=1,Ta[Lr]=4,Ta[_a]=2,Ta[Ks]=2,Ta[Js]=4;var On=[];On[Wc]=2,On[Xs]=2,On[Ys]=2,On[mo]=4,On[Xi]=.5,On[qs]=.5,On[Qs]=1,On[Zs]=1,On[Yc]=.5,On[qc]=1,On[Qc]=1,On[Zc]=.5,On[Kc]=.25,On[Jc]=.5,On[ef]=.25,On[tf]=.5;function ff(h){return Array.isArray(h)&&(h.length===0||typeof h[0]=="number")}function iu(h){if(!Array.isArray(h))return!1;var y=h.length;return!(y===0||!Jt(h[0]))}function Yi(h){return Object.prototype.toString.call(h)}function au(h){return Yi(h)===of}function df(h){return Yi(h)===lf}function Yh(h){return Yi(h)===sf}function ou(h){return Yi(h)===uf}function hf(h){return Yi(h)===cf}function pf(h){return Yi(h)===Al}function lu(h){if(!h)return!1;var y=Yi(h);return Xh.indexOf(y)>=0?!0:ff(h)||iu(h)||vr(h)}function mf(h){return va[Object.prototype.toString.call(h)]|0}function qh(h,y){var L=y.length;switch(h.type){case wa:case Ks:case Js:case Lr:var W=mt.allocType(h.type,L);W.set(y),h.data=W;break;case _a:h.data=Vc(y);break;default:_.raise("unsupported texture type, must specify a typed array")}}function vf(h,y){return mt.allocType(h.type===_a?Lr:h.type,y)}function gf(h,y){h.type===_a?(h.data=Vc(y),mt.freeType(y)):h.data=y}function yf(h,y,L,W,ne,H){for(var Q=h.width,fe=h.height,ce=h.channels,ge=Q*fe*ce,xe=vf(h,ge),ye=0,Se=0;Se<fe;++Se)for(var he=0;he<Q;++he)for(var ve=0;ve<ce;++ve)xe[ye++]=y[L*he+W*Se+ne*ve+H];gf(h,xe)}function Cl(h,y,L,W,ne,H){var Q;if(typeof On[h]<"u"?Q=On[h]:Q=Rr[h]*Ta[y],H&&(Q*=6),ne){for(var fe=0,ce=L;ce>=1;)fe+=Q*ce*ce,ce/=2;return fe}else return Q*L*W}function Qh(h,y,L,W,ne,H,Q){var fe={"don't care":yo,"dont care":yo,nice:Gh,fast:rf},ce={repeat:Ih,clamp:eu,mirror:Dh},ge={nearest:tu,linear:$h},xe=r({mipmap:ru,"nearest mipmap nearest":Tl,"linear mipmap nearest":nu,"nearest mipmap linear":nf,"linear mipmap linear":ru},ge),ye={none:0,browser:Ea},Se={uint8:wa,rgba4:Ph,rgb565:kh,"rgb5 a1":Oh},he={alpha:Ws,luminance:Wi,"luminance alpha":El,rgb:wl,rgba:Hi,rgba4:Wc,"rgb5 a1":Xs,rgb565:Ys},ve={};y.ext_srgb&&(he.srgb=vo,he.srgba=go),y.oes_texture_float&&(Se.float32=Se.float=Lr),y.oes_texture_half_float&&(Se.float16=Se["half float"]=_a),y.webgl_depth_texture&&(r(he,{depth:Sl,"depth stencil":mo}),r(Se,{uint16:Ks,uint32:Js,"depth stencil":Xc})),y.webgl_compressed_texture_s3tc&&r(ve,{"rgb s3tc dxt1":Xi,"rgba s3tc dxt1":qs,"rgba s3tc dxt3":Qs,"rgba s3tc dxt5":Zs}),y.webgl_compressed_texture_atc&&r(ve,{"rgb atc":Yc,"rgba atc explicit alpha":qc,"rgba atc interpolated alpha":Qc}),y.webgl_compressed_texture_pvrtc&&r(ve,{"rgb pvrtc 4bppv1":Zc,"rgb pvrtc 2bppv1":Kc,"rgba pvrtc 4bppv1":Jc,"rgba pvrtc 2bppv1":ef}),y.webgl_compressed_texture_etc1&&(ve["rgb etc1"]=tf);var B=Array.prototype.slice.call(h.getParameter(Rh));Object.keys(ve).forEach(function(C){var X=ve[C];B.indexOf(X)>=0&&(he[C]=X)});var Y=Object.keys(he);L.textureFormats=Y;var me=[];Object.keys(he).forEach(function(C){var X=he[C];me[X]=C});var De=[];Object.keys(Se).forEach(function(C){var X=Se[C];De[X]=C});var se=[];Object.keys(ge).forEach(function(C){var X=ge[C];se[X]=C});var Ne=[];Object.keys(xe).forEach(function(C){var X=xe[C];Ne[X]=C});var Re=[];Object.keys(ce).forEach(function(C){var X=ce[C];Re[X]=C});var et=Y.reduce(function(C,X){var V=he[X];return V===Wi||V===Ws||V===Wi||V===El||V===Sl||V===mo||y.ext_srgb&&(V===vo||V===go)?C[V]=V:V===Xs||X.indexOf("rgba")>=0?C[V]=Hi:C[V]=wl,C},{});function re(){this.internalformat=Hi,this.format=Hi,this.type=wa,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ea,this.width=0,this.height=0,this.channels=0}function te(C,X){C.internalformat=X.internalformat,C.format=X.format,C.type=X.type,C.compressed=X.compressed,C.premultiplyAlpha=X.premultiplyAlpha,C.flipY=X.flipY,C.unpackAlignment=X.unpackAlignment,C.colorSpace=X.colorSpace,C.width=X.width,C.height=X.height,C.channels=X.channels}function Ue(C,X){if(!(typeof X!="object"||!X)){if("premultiplyAlpha"in X&&(_.type(X.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),C.premultiplyAlpha=X.premultiplyAlpha),"flipY"in X&&(_.type(X.flipY,"boolean","invalid texture flip"),C.flipY=X.flipY),"alignment"in X&&(_.oneOf(X.alignment,[1,2,4,8],"invalid texture unpack alignment"),C.unpackAlignment=X.alignment),"colorSpace"in X&&(_.parameter(X.colorSpace,ye,"invalid colorSpace"),C.colorSpace=ye[X.colorSpace]),"type"in X){var V=X.type;_(y.oes_texture_float||!(V==="float"||V==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),_(y.oes_texture_half_float||!(V==="half float"||V==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(y.webgl_depth_texture||!(V==="uint16"||V==="uint32"||V==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(V,Se,"invalid texture type"),C.type=Se[V]}var Ge=C.width,_t=C.height,w=C.channels,m=!1;"shape"in X?(_(Array.isArray(X.shape)&&X.shape.length>=2,"shape must be an array"),Ge=X.shape[0],_t=X.shape[1],X.shape.length===3&&(w=X.shape[2],_(w>0&&w<=4,"invalid number of channels"),m=!0),_(Ge>=0&&Ge<=L.maxTextureSize,"invalid width"),_(_t>=0&&_t<=L.maxTextureSize,"invalid height")):("radius"in X&&(Ge=_t=X.radius,_(Ge>=0&&Ge<=L.maxTextureSize,"invalid radius")),"width"in X&&(Ge=X.width,_(Ge>=0&&Ge<=L.maxTextureSize,"invalid width")),"height"in X&&(_t=X.height,_(_t>=0&&_t<=L.maxTextureSize,"invalid height")),"channels"in X&&(w=X.channels,_(w>0&&w<=4,"invalid number of channels"),m=!0)),C.width=Ge|0,C.height=_t|0,C.channels=w|0;var P=!1;if("format"in X){var F=X.format;_(y.webgl_depth_texture||!(F==="depth"||F==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(F,he,"invalid texture format");var $=C.internalformat=he[F];C.format=et[$],F in Se&&("type"in X||(C.type=Se[F])),F in ve&&(C.compressed=!0),P=!0}!m&&P?C.channels=Rr[C.format]:m&&!P?C.channels!==_o[C.format]&&(C.format=C.internalformat=_o[C.channels]):P&&m&&_(C.channels===Rr[C.format],"number of channels inconsistent with specified format")}}function Ae(C){h.pixelStorei(Vh,C.flipY),h.pixelStorei(Hh,C.premultiplyAlpha),h.pixelStorei(Wh,C.colorSpace),h.pixelStorei(Uh,C.unpackAlignment)}function pe(){re.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ce(C,X){var V=null;if(lu(X)?V=X:X&&(_.type(X,"object","invalid pixel data type"),Ue(C,X),"x"in X&&(C.xOffset=X.x|0),"y"in X&&(C.yOffset=X.y|0),lu(X.data)&&(V=X.data)),_(!C.compressed||V instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),X.copy){_(!V,"can not specify copy and data field for the same texture");var Ge=ne.viewportWidth,_t=ne.viewportHeight;C.width=C.width||Ge-C.xOffset,C.height=C.height||_t-C.yOffset,C.needsCopy=!0,_(C.xOffset>=0&&C.xOffset<Ge&&C.yOffset>=0&&C.yOffset<_t&&C.width>0&&C.width<=Ge&&C.height>0&&C.height<=_t,"copy texture read out of bounds")}else if(!V)C.width=C.width||1,C.height=C.height||1,C.channels=C.channels||4;else if(n(V))C.channels=C.channels||4,C.data=V,!("type"in X)&&C.type===wa&&(C.type=mf(V));else if(ff(V))C.channels=C.channels||4,qh(C,V),C.alignment=1,C.needsFree=!0;else if(vr(V)){var w=V.data;!Array.isArray(w)&&C.type===wa&&(C.type=mf(w));var m=V.shape,P=V.stride,F,$,N,k,D,S;m.length===3?(N=m[2],S=P[2]):(_(m.length===2,"invalid ndarray pixel data, must be 2 or 3D"),N=1,S=1),F=m[0],$=m[1],k=P[0],D=P[1],C.alignment=1,C.width=F,C.height=$,C.channels=N,C.format=C.internalformat=_o[N],C.needsFree=!0,yf(C,w,k,D,S,V.offset)}else if(au(V)||df(V)||Yh(V))au(V)||df(V)?C.element=V:C.element=V.canvas,C.width=C.element.width,C.height=C.element.height,C.channels=4;else if(ou(V))C.element=V,C.width=V.width,C.height=V.height,C.channels=4;else if(hf(V))C.element=V,C.width=V.naturalWidth,C.height=V.naturalHeight,C.channels=4;else if(pf(V))C.element=V,C.width=V.videoWidth,C.height=V.videoHeight,C.channels=4;else if(iu(V)){var b=C.width||V[0].length,A=C.height||V.length,U=C.channels;Jt(V[0][0])?U=U||V[0][0].length:U=U||1;for(var z=br.shape(V),ee=1,ie=0;ie<z.length;++ie)ee*=z[ie];var Ee=vf(C,ee);br.flatten(V,z,"",Ee),gf(C,Ee),C.alignment=1,C.width=b,C.height=A,C.channels=U,C.format=C.internalformat=_o[U],C.needsFree=!0}C.type===Lr?_(L.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):C.type===_a&&_(L.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Le(C,X,V){var Ge=C.element,_t=C.data,w=C.internalformat,m=C.format,P=C.type,F=C.width,$=C.height;Ae(C),Ge?h.texImage2D(X,V,m,m,P,Ge):C.compressed?h.compressedTexImage2D(X,V,w,F,$,0,_t):C.needsCopy?(W(),h.copyTexImage2D(X,V,m,C.xOffset,C.yOffset,F,$,0)):h.texImage2D(X,V,m,F,$,0,m,P,_t||null)}function st(C,X,V,Ge,_t){var w=C.element,m=C.data,P=C.internalformat,F=C.format,$=C.type,N=C.width,k=C.height;Ae(C),w?h.texSubImage2D(X,_t,V,Ge,F,$,w):C.compressed?h.compressedTexSubImage2D(X,_t,V,Ge,P,N,k,m):C.needsCopy?(W(),h.copyTexSubImage2D(X,_t,V,Ge,C.xOffset,C.yOffset,N,k)):h.texSubImage2D(X,_t,V,Ge,N,k,F,$,m)}var lt=[];function Pe(){return lt.pop()||new pe}function Ie(C){C.needsFree&&mt.freeType(C.data),pe.call(C),lt.push(C)}function it(){re.call(this),this.genMipmaps=!1,this.mipmapHint=yo,this.mipmask=0,this.images=Array(16)}function ut(C,X,V){var Ge=C.images[0]=Pe();C.mipmask=1,Ge.width=C.width=X,Ge.height=C.height=V,Ge.channels=C.channels=4}function St(C,X){var V=null;if(lu(X))V=C.images[0]=Pe(),te(V,C),Ce(V,X),C.mipmask=1;else if(Ue(C,X),Array.isArray(X.mipmap))for(var Ge=X.mipmap,_t=0;_t<Ge.length;++_t)V=C.images[_t]=Pe(),te(V,C),V.width>>=_t,V.height>>=_t,Ce(V,Ge[_t]),C.mipmask|=1<<_t;else V=C.images[0]=Pe(),te(V,C),Ce(V,X),C.mipmask=1;te(C,C.images[0]),C.compressed&&(C.internalformat===Xi||C.internalformat===qs||C.internalformat===Qs||C.internalformat===Zs)&&_(C.width%4===0&&C.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function nn(C,X){for(var V=C.images,Ge=0;Ge<V.length;++Ge){if(!V[Ge])return;Le(V[Ge],X,Ge)}}var ln=[];function Ct(){var C=ln.pop()||new it;re.call(C),C.mipmask=0;for(var X=0;X<16;++X)C.images[X]=null;return C}function kn(C){for(var X=C.images,V=0;V<X.length;++V)X[V]&&Ie(X[V]),X[V]=null;ln.push(C)}function en(){this.minFilter=tu,this.magFilter=tu,this.wrapS=eu,this.wrapT=eu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=yo}function Ln(C,X){if("min"in X){var V=X.min;_.parameter(V,xe),C.minFilter=xe[V],af.indexOf(C.minFilter)>=0&&!("faces"in X)&&(C.genMipmaps=!0)}if("mag"in X){var Ge=X.mag;_.parameter(Ge,ge),C.magFilter=ge[Ge]}var _t=C.wrapS,w=C.wrapT;if("wrap"in X){var m=X.wrap;typeof m=="string"?(_.parameter(m,ce),_t=w=ce[m]):Array.isArray(m)&&(_.parameter(m[0],ce),_.parameter(m[1],ce),_t=ce[m[0]],w=ce[m[1]])}else{if("wrapS"in X){var P=X.wrapS;_.parameter(P,ce),_t=ce[P]}if("wrapT"in X){var F=X.wrapT;_.parameter(F,ce),w=ce[F]}}if(C.wrapS=_t,C.wrapT=w,"anisotropic"in X){var $=X.anisotropic;_(typeof $=="number"&&$>=1&&$<=L.maxAnisotropic,"aniso samples must be between 1 and "),C.anisotropic=X.anisotropic}if("mipmap"in X){var N=!1;switch(typeof X.mipmap){case"string":_.parameter(X.mipmap,fe,"invalid mipmap hint"),C.mipmapHint=fe[X.mipmap],C.genMipmaps=!0,N=!0;break;case"boolean":N=C.genMipmaps=X.mipmap;break;case"object":_(Array.isArray(X.mipmap),"invalid mipmap type"),C.genMipmaps=!1,N=!0;break;default:_.raise("invalid mipmap type")}N&&!("min"in X)&&(C.minFilter=Tl)}}function Mn(C,X){h.texParameteri(X,Bh,C.minFilter),h.texParameteri(X,Fh,C.magFilter),h.texParameteri(X,Mh,C.wrapS),h.texParameteri(X,Nh,C.wrapT),y.ext_texture_filter_anisotropic&&h.texParameteri(X,jh,C.anisotropic),C.genMipmaps&&(h.hint(zh,C.mipmapHint),h.generateMipmap(X))}var Nn=0,Vn={},Yn=L.maxTextureUnits,vn=Array(Yn).map(function(){return null});function ht(C){re.call(this),this.mipmask=0,this.internalformat=Hi,this.id=Nn++,this.refCount=1,this.target=C,this.texture=h.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new en,Q.profile&&(this.stats={size:0})}function qn(C){h.activeTexture(xo),h.bindTexture(C.target,C.texture)}function zt(){var C=vn[0];C?h.bindTexture(C.target,C.texture):h.bindTexture(Ur,null)}function rt(C){var X=C.texture;_(X,"must not double destroy texture");var V=C.unit,Ge=C.target;V>=0&&(h.activeTexture(xo+V),h.bindTexture(Ge,null),vn[V]=null),h.deleteTexture(X),C.texture=null,C.params=null,C.pixels=null,C.refCount=0,delete Vn[C.id],H.textureCount--}r(ht.prototype,{bind:function(){var C=this;C.bindCount+=1;var X=C.unit;if(X<0){for(var V=0;V<Yn;++V){var Ge=vn[V];if(Ge){if(Ge.bindCount>0)continue;Ge.unit=-1}vn[V]=C,X=V;break}X>=Yn&&_.raise("insufficient number of texture units"),Q.profile&&H.maxTextureUnits<X+1&&(H.maxTextureUnits=X+1),C.unit=X,h.activeTexture(xo+X),h.bindTexture(C.target,C.texture)}return X},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&rt(this)}});function Tt(C,X){var V=new ht(Ur);Vn[V.id]=V,H.textureCount++;function Ge(m,P){var F=V.texInfo;en.call(F);var $=Ct();return typeof m=="number"?typeof P=="number"?ut($,m|0,P|0):ut($,m|0,m|0):m?(_.type(m,"object","invalid arguments to regl.texture"),Ln(F,m),St($,m)):ut($,1,1),F.genMipmaps&&($.mipmask=($.width<<1)-1),V.mipmask=$.mipmask,te(V,$),_.texture2D(F,$,L),V.internalformat=$.internalformat,Ge.width=$.width,Ge.height=$.height,qn(V),nn($,Ur),Mn(F,Ur),zt(),kn($),Q.profile&&(V.stats.size=Cl(V.internalformat,V.type,$.width,$.height,F.genMipmaps,!1)),Ge.format=me[V.internalformat],Ge.type=De[V.type],Ge.mag=se[F.magFilter],Ge.min=Ne[F.minFilter],Ge.wrapS=Re[F.wrapS],Ge.wrapT=Re[F.wrapT],Ge}function _t(m,P,F,$){_(!!m,"must specify image data");var N=P|0,k=F|0,D=$|0,S=Pe();return te(S,V),S.width=0,S.height=0,Ce(S,m),S.width=S.width||(V.width>>D)-N,S.height=S.height||(V.height>>D)-k,_(V.type===S.type&&V.format===S.format&&V.internalformat===S.internalformat,"incompatible format for texture.subimage"),_(N>=0&&k>=0&&N+S.width<=V.width&&k+S.height<=V.height,"texture.subimage write out of bounds"),_(V.mipmask&1<<D,"missing mipmap data"),_(S.data||S.element||S.needsCopy,"missing image data"),qn(V),st(S,Ur,N,k,D),zt(),Ie(S),Ge}function w(m,P){var F=m|0,$=P|0||F;if(F===V.width&&$===V.height)return Ge;Ge.width=V.width=F,Ge.height=V.height=$,qn(V);for(var N=0;V.mipmask>>N;++N){var k=F>>N,D=$>>N;if(!k||!D)break;h.texImage2D(Ur,N,V.format,k,D,0,V.format,V.type,null)}return zt(),Q.profile&&(V.stats.size=Cl(V.internalformat,V.type,F,$,!1,!1)),Ge}return Ge(C,X),Ge.subimage=_t,Ge.resize=w,Ge._reglType="texture2d",Ge._texture=V,Q.profile&&(Ge.stats=V.stats),Ge.destroy=function(){V.decRef()},Ge}function kt(C,X,V,Ge,_t,w){var m=new ht(Hs);Vn[m.id]=m,H.cubeCount++;var P=new Array(6);function F(k,D,S,b,A,U){var z,ee=m.texInfo;for(en.call(ee),z=0;z<6;++z)P[z]=Ct();if(typeof k=="number"||!k){var ie=k|0||1;for(z=0;z<6;++z)ut(P[z],ie,ie)}else if(typeof k=="object")if(D)St(P[0],k),St(P[1],D),St(P[2],S),St(P[3],b),St(P[4],A),St(P[5],U);else if(Ln(ee,k),Ue(m,k),"faces"in k){var Ee=k.faces;for(_(Array.isArray(Ee)&&Ee.length===6,"cube faces must be a length 6 array"),z=0;z<6;++z)_(typeof Ee[z]=="object"&&!!Ee[z],"invalid input for cube map face"),te(P[z],m),St(P[z],Ee[z])}else for(z=0;z<6;++z)St(P[z],k);else _.raise("invalid arguments to cube map");for(te(m,P[0]),_.optional(function(){L.npotTextureCube||_(Hc(m.width)&&Hc(m.height),"your browser does not support non power or two texture dimensions")}),ee.genMipmaps?m.mipmask=(P[0].width<<1)-1:m.mipmask=P[0].mipmask,_.textureCube(m,ee,P,L),m.internalformat=P[0].internalformat,F.width=P[0].width,F.height=P[0].height,qn(m),z=0;z<6;++z)nn(P[z],_l+z);for(Mn(ee,Hs),zt(),Q.profile&&(m.stats.size=Cl(m.internalformat,m.type,F.width,F.height,ee.genMipmaps,!0)),F.format=me[m.internalformat],F.type=De[m.type],F.mag=se[ee.magFilter],F.min=Ne[ee.minFilter],F.wrapS=Re[ee.wrapS],F.wrapT=Re[ee.wrapT],z=0;z<6;++z)kn(P[z]);return F}function $(k,D,S,b,A){_(!!D,"must specify image data"),_(typeof k=="number"&&k===(k|0)&&k>=0&&k<6,"invalid face");var U=S|0,z=b|0,ee=A|0,ie=Pe();return te(ie,m),ie.width=0,ie.height=0,Ce(ie,D),ie.width=ie.width||(m.width>>ee)-U,ie.height=ie.height||(m.height>>ee)-z,_(m.type===ie.type&&m.format===ie.format&&m.internalformat===ie.internalformat,"incompatible format for texture.subimage"),_(U>=0&&z>=0&&U+ie.width<=m.width&&z+ie.height<=m.height,"texture.subimage write out of bounds"),_(m.mipmask&1<<ee,"missing mipmap data"),_(ie.data||ie.element||ie.needsCopy,"missing image data"),qn(m),st(ie,_l+k,U,z,ee),zt(),Ie(ie),F}function N(k){var D=k|0;if(D!==m.width){F.width=m.width=D,F.height=m.height=D,qn(m);for(var S=0;S<6;++S)for(var b=0;m.mipmask>>b;++b)h.texImage2D(_l+S,b,m.format,D>>b,D>>b,0,m.format,m.type,null);return zt(),Q.profile&&(m.stats.size=Cl(m.internalformat,m.type,F.width,F.height,!1,!0)),F}}return F(C,X,V,Ge,_t,w),F.subimage=$,F.resize=N,F._reglType="textureCube",F._texture=m,Q.profile&&(F.stats=m.stats),F.destroy=function(){m.decRef()},F}function gn(){for(var C=0;C<Yn;++C)h.activeTexture(xo+C),h.bindTexture(Ur,null),vn[C]=null;sr(Vn).forEach(rt),H.cubeCount=0,H.textureCount=0}Q.profile&&(H.getTotalTextureSize=function(){var C=0;return Object.keys(Vn).forEach(function(X){C+=Vn[X].stats.size}),C});function bi(){for(var C=0;C<Yn;++C){var X=vn[C];X&&(X.bindCount=0,X.unit=-1,vn[C]=null)}sr(Vn).forEach(function(V){V.texture=h.createTexture(),h.bindTexture(V.target,V.texture);for(var Ge=0;Ge<32;++Ge)if(V.mipmask&1<<Ge)if(V.target===Ur)h.texImage2D(Ur,Ge,V.internalformat,V.width>>Ge,V.height>>Ge,0,V.internalformat,V.type,null);else for(var _t=0;_t<6;++_t)h.texImage2D(_l+_t,Ge,V.internalformat,V.width>>Ge,V.height>>Ge,0,V.internalformat,V.type,null);Mn(V.texInfo,V.target)})}function Lo(){for(var C=0;C<Yn;++C){var X=vn[C];X&&(X.bindCount=0,X.unit=-1,vn[C]=null),h.activeTexture(xo+C),h.bindTexture(Ur,null),h.bindTexture(Hs,null)}}return{create2D:Tt,createCube:kt,clear:gn,getTexture:function(C){return null},restore:bi,refresh:Lo}}var Ai=36161,bl=32854,xf=32855,_f=36194,wf=33189,Ef=36168,Sf=34041,Tf=35907,Af=34836,Cf=34842,bf=34843,Pr=[];Pr[bl]=2,Pr[xf]=2,Pr[_f]=2,Pr[wf]=2,Pr[Ef]=1,Pr[Sf]=4,Pr[Tf]=4,Pr[Af]=16,Pr[Cf]=8,Pr[bf]=6;function Lf(h,y,L){return Pr[h]*y*L}var Zh=function(h,y,L,W,ne){var H={rgba4:bl,rgb565:_f,"rgb5 a1":xf,depth:wf,stencil:Ef,"depth stencil":Sf};y.ext_srgb&&(H.srgba=Tf),y.ext_color_buffer_half_float&&(H.rgba16f=Cf,H.rgb16f=bf),y.webgl_color_buffer_float&&(H.rgba32f=Af);var Q=[];Object.keys(H).forEach(function(he){var ve=H[he];Q[ve]=he});var fe=0,ce={};function ge(he){this.id=fe++,this.refCount=1,this.renderbuffer=he,this.format=bl,this.width=0,this.height=0,ne.profile&&(this.stats={size:0})}ge.prototype.decRef=function(){--this.refCount<=0&&xe(this)};function xe(he){var ve=he.renderbuffer;_(ve,"must not double destroy renderbuffer"),h.bindRenderbuffer(Ai,null),h.deleteRenderbuffer(ve),he.renderbuffer=null,he.refCount=0,delete ce[he.id],W.renderbufferCount--}function ye(he,ve){var B=new ge(h.createRenderbuffer());ce[B.id]=B,W.renderbufferCount++;function Y(De,se){var Ne=0,Re=0,et=bl;if(typeof De=="object"&&De){var re=De;if("shape"in re){var te=re.shape;_(Array.isArray(te)&&te.length>=2,"invalid renderbuffer shape"),Ne=te[0]|0,Re=te[1]|0}else"radius"in re&&(Ne=Re=re.radius|0),"width"in re&&(Ne=re.width|0),"height"in re&&(Re=re.height|0);"format"in re&&(_.parameter(re.format,H,"invalid renderbuffer format"),et=H[re.format])}else typeof De=="number"?(Ne=De|0,typeof se=="number"?Re=se|0:Re=Ne):De?_.raise("invalid arguments to renderbuffer constructor"):Ne=Re=1;if(_(Ne>0&&Re>0&&Ne<=L.maxRenderbufferSize&&Re<=L.maxRenderbufferSize,"invalid renderbuffer size"),!(Ne===B.width&&Re===B.height&&et===B.format))return Y.width=B.width=Ne,Y.height=B.height=Re,B.format=et,h.bindRenderbuffer(Ai,B.renderbuffer),h.renderbufferStorage(Ai,et,Ne,Re),_(h.getError()===0,"invalid render buffer format"),ne.profile&&(B.stats.size=Lf(B.format,B.width,B.height)),Y.format=Q[B.format],Y}function me(De,se){var Ne=De|0,Re=se|0||Ne;return Ne===B.width&&Re===B.height||(_(Ne>0&&Re>0&&Ne<=L.maxRenderbufferSize&&Re<=L.maxRenderbufferSize,"invalid renderbuffer size"),Y.width=B.width=Ne,Y.height=B.height=Re,h.bindRenderbuffer(Ai,B.renderbuffer),h.renderbufferStorage(Ai,B.format,Ne,Re),_(h.getError()===0,"invalid render buffer format"),ne.profile&&(B.stats.size=Lf(B.format,B.width,B.height))),Y}return Y(he,ve),Y.resize=me,Y._reglType="renderbuffer",Y._renderbuffer=B,ne.profile&&(Y.stats=B.stats),Y.destroy=function(){B.decRef()},Y}ne.profile&&(W.getTotalRenderbufferSize=function(){var he=0;return Object.keys(ce).forEach(function(ve){he+=ce[ve].stats.size}),he});function Se(){sr(ce).forEach(function(he){he.renderbuffer=h.createRenderbuffer(),h.bindRenderbuffer(Ai,he.renderbuffer),h.renderbufferStorage(Ai,he.format,he.width,he.height)}),h.bindRenderbuffer(Ai,null)}return{create:ye,clear:function(){sr(ce).forEach(xe)},restore:Se}},ii=36160,su=36161,qi=3553,Ll=34069,Rf=36064,Rl=36096,Pf=36128,Of=33306,kf=36053,Kh=36054,Jh=36055,e1=36057,t1=36061,n1=36193,r1=5121,i1=5126,Mf=6407,Nf=6408,a1=6402,o1=[Mf,Nf],uu=[];uu[Nf]=4,uu[Mf]=3;var wo=[];wo[r1]=1,wo[i1]=4,wo[n1]=2;var l1=32854,If=32855,s1=36194,Df=33189,Ff=36168,cu=34041,Bf=35907,u1=34836,Eo=34842,c1=34843,f1=[l1,If,s1,Bf,Eo,c1,u1],Aa={};Aa[kf]="complete",Aa[Kh]="incomplete attachment",Aa[e1]="incomplete dimensions",Aa[Jh]="incomplete, missing attachment",Aa[t1]="unsupported";function d1(h,y,L,W,ne,H){var Q={cur:null,next:null,dirty:!1,setFBO:null},fe=["rgba"],ce=["rgba4","rgb565","rgb5 a1"];y.ext_srgb&&ce.push("srgba"),y.ext_color_buffer_half_float&&ce.push("rgba16f","rgb16f"),y.webgl_color_buffer_float&&ce.push("rgba32f");var ge=["uint8"];y.oes_texture_half_float&&ge.push("half float","float16"),y.oes_texture_float&&ge.push("float","float32");function xe(pe,Ce,Le){this.target=pe,this.texture=Ce,this.renderbuffer=Le;var st=0,lt=0;Ce?(st=Ce.width,lt=Ce.height):Le&&(st=Le.width,lt=Le.height),this.width=st,this.height=lt}function ye(pe){pe&&(pe.texture&&pe.texture._texture.decRef(),pe.renderbuffer&&pe.renderbuffer._renderbuffer.decRef())}function Se(pe,Ce,Le){if(pe)if(pe.texture){var st=pe.texture._texture,lt=Math.max(1,st.width),Pe=Math.max(1,st.height);_(lt===Ce&&Pe===Le,"inconsistent width/height for supplied texture"),st.refCount+=1}else{var Ie=pe.renderbuffer._renderbuffer;_(Ie.width===Ce&&Ie.height===Le,"inconsistent width/height for renderbuffer"),Ie.refCount+=1}}function he(pe,Ce){Ce&&(Ce.texture?h.framebufferTexture2D(ii,pe,Ce.target,Ce.texture._texture.texture,0):h.framebufferRenderbuffer(ii,pe,su,Ce.renderbuffer._renderbuffer.renderbuffer))}function ve(pe){var Ce=qi,Le=null,st=null,lt=pe;typeof pe=="object"&&(lt=pe.data,"target"in pe&&(Ce=pe.target|0)),_.type(lt,"function","invalid attachment data");var Pe=lt._reglType;return Pe==="texture2d"?(Le=lt,_(Ce===qi)):Pe==="textureCube"?(Le=lt,_(Ce>=Ll&&Ce<Ll+6,"invalid cube map target")):Pe==="renderbuffer"?(st=lt,Ce=su):_.raise("invalid regl object for attachment"),new xe(Ce,Le,st)}function B(pe,Ce,Le,st,lt){if(Le){var Pe=W.create2D({width:pe,height:Ce,format:st,type:lt});return Pe._texture.refCount=0,new xe(qi,Pe,null)}else{var Ie=ne.create({width:pe,height:Ce,format:st});return Ie._renderbuffer.refCount=0,new xe(su,null,Ie)}}function Y(pe){return pe&&(pe.texture||pe.renderbuffer)}function me(pe,Ce,Le){pe&&(pe.texture?pe.texture.resize(Ce,Le):pe.renderbuffer&&pe.renderbuffer.resize(Ce,Le),pe.width=Ce,pe.height=Le)}var De=0,se={};function Ne(){this.id=De++,se[this.id]=this,this.framebuffer=h.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Re(pe){pe.colorAttachments.forEach(ye),ye(pe.depthAttachment),ye(pe.stencilAttachment),ye(pe.depthStencilAttachment)}function et(pe){var Ce=pe.framebuffer;_(Ce,"must not double destroy framebuffer"),h.deleteFramebuffer(Ce),pe.framebuffer=null,H.framebufferCount--,delete se[pe.id]}function re(pe){var Ce;h.bindFramebuffer(ii,pe.framebuffer);var Le=pe.colorAttachments;for(Ce=0;Ce<Le.length;++Ce)he(Rf+Ce,Le[Ce]);for(Ce=Le.length;Ce<L.maxColorAttachments;++Ce)h.framebufferTexture2D(ii,Rf+Ce,qi,null,0);h.framebufferTexture2D(ii,Of,qi,null,0),h.framebufferTexture2D(ii,Rl,qi,null,0),h.framebufferTexture2D(ii,Pf,qi,null,0),he(Rl,pe.depthAttachment),he(Pf,pe.stencilAttachment),he(Of,pe.depthStencilAttachment);var st=h.checkFramebufferStatus(ii);!h.isContextLost()&&st!==kf&&_.raise("framebuffer configuration not supported, status = "+Aa[st]),h.bindFramebuffer(ii,Q.next?Q.next.framebuffer:null),Q.cur=Q.next,h.getError()}function te(pe,Ce){var Le=new Ne;H.framebufferCount++;function st(Pe,Ie){var it;_(Q.next!==Le,"can not update framebuffer which is currently in use");var ut=0,St=0,nn=!0,ln=!0,Ct=null,kn=!0,en="rgba",Ln="uint8",Mn=1,Nn=null,Vn=null,Yn=null,vn=!1;if(typeof Pe=="number")ut=Pe|0,St=Ie|0||ut;else if(!Pe)ut=St=1;else{_.type(Pe,"object","invalid arguments for framebuffer");var ht=Pe;if("shape"in ht){var qn=ht.shape;_(Array.isArray(qn)&&qn.length>=2,"invalid shape for framebuffer"),ut=qn[0],St=qn[1]}else"radius"in ht&&(ut=St=ht.radius),"width"in ht&&(ut=ht.width),"height"in ht&&(St=ht.height);("color"in ht||"colors"in ht)&&(Ct=ht.color||ht.colors,Array.isArray(Ct)&&_(Ct.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),Ct||("colorCount"in ht&&(Mn=ht.colorCount|0,_(Mn>0,"invalid color buffer count")),"colorTexture"in ht&&(kn=!!ht.colorTexture,en="rgba4"),"colorType"in ht&&(Ln=ht.colorType,kn?(_(y.oes_texture_float||!(Ln==="float"||Ln==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(y.oes_texture_half_float||!(Ln==="half float"||Ln==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ln==="half float"||Ln==="float16"?(_(y.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),en="rgba16f"):(Ln==="float"||Ln==="float32")&&(_(y.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),en="rgba32f"),_.oneOf(Ln,ge,"invalid color type")),"colorFormat"in ht&&(en=ht.colorFormat,fe.indexOf(en)>=0?kn=!0:ce.indexOf(en)>=0?kn=!1:_.optional(function(){kn?_.oneOf(ht.colorFormat,fe,"invalid color format for texture"):_.oneOf(ht.colorFormat,ce,"invalid color format for renderbuffer")}))),("depthTexture"in ht||"depthStencilTexture"in ht)&&(vn=!!(ht.depthTexture||ht.depthStencilTexture),_(!vn||y.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ht&&(typeof ht.depth=="boolean"?nn=ht.depth:(Nn=ht.depth,ln=!1)),"stencil"in ht&&(typeof ht.stencil=="boolean"?ln=ht.stencil:(Vn=ht.stencil,nn=!1)),"depthStencil"in ht&&(typeof ht.depthStencil=="boolean"?nn=ln=ht.depthStencil:(Yn=ht.depthStencil,nn=!1,ln=!1))}var zt=null,rt=null,Tt=null,kt=null;if(Array.isArray(Ct))zt=Ct.map(ve);else if(Ct)zt=[ve(Ct)];else for(zt=new Array(Mn),it=0;it<Mn;++it)zt[it]=B(ut,St,kn,en,Ln);_(y.webgl_draw_buffers||zt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(zt.length<=L.maxColorAttachments,"too many color attachments, not supported"),ut=ut||zt[0].width,St=St||zt[0].height,Nn?rt=ve(Nn):nn&&!ln&&(rt=B(ut,St,vn,"depth","uint32")),Vn?Tt=ve(Vn):ln&&!nn&&(Tt=B(ut,St,!1,"stencil","uint8")),Yn?kt=ve(Yn):!Nn&&!Vn&&ln&&nn&&(kt=B(ut,St,vn,"depth stencil","depth stencil")),_(!!Nn+!!Vn+!!Yn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var gn=null;for(it=0;it<zt.length;++it)if(Se(zt[it],ut,St),_(!zt[it]||zt[it].texture&&o1.indexOf(zt[it].texture._texture.format)>=0||zt[it].renderbuffer&&f1.indexOf(zt[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),zt[it]&&zt[it].texture){var bi=uu[zt[it].texture._texture.format]*wo[zt[it].texture._texture.type];gn===null?gn=bi:_(gn===bi,"all color attachments much have the same number of bits per pixel.")}return Se(rt,ut,St),_(!rt||rt.texture&&rt.texture._texture.format===a1||rt.renderbuffer&&rt.renderbuffer._renderbuffer.format===Df,"invalid depth attachment for framebuffer object"),Se(Tt,ut,St),_(!Tt||Tt.renderbuffer&&Tt.renderbuffer._renderbuffer.format===Ff,"invalid stencil attachment for framebuffer object"),Se(kt,ut,St),_(!kt||kt.texture&&kt.texture._texture.format===cu||kt.renderbuffer&&kt.renderbuffer._renderbuffer.format===cu,"invalid depth-stencil attachment for framebuffer object"),Re(Le),Le.width=ut,Le.height=St,Le.colorAttachments=zt,Le.depthAttachment=rt,Le.stencilAttachment=Tt,Le.depthStencilAttachment=kt,st.color=zt.map(Y),st.depth=Y(rt),st.stencil=Y(Tt),st.depthStencil=Y(kt),st.width=Le.width,st.height=Le.height,re(Le),st}function lt(Pe,Ie){_(Q.next!==Le,"can not resize a framebuffer which is currently in use");var it=Math.max(Pe|0,1),ut=Math.max(Ie|0||it,1);if(it===Le.width&&ut===Le.height)return st;for(var St=Le.colorAttachments,nn=0;nn<St.length;++nn)me(St[nn],it,ut);return me(Le.depthAttachment,it,ut),me(Le.stencilAttachment,it,ut),me(Le.depthStencilAttachment,it,ut),Le.width=st.width=it,Le.height=st.height=ut,re(Le),st}return st(pe,Ce),r(st,{resize:lt,_reglType:"framebuffer",_framebuffer:Le,destroy:function(){et(Le),Re(Le)},use:function(Pe){Q.setFBO({framebuffer:st},Pe)}})}function Ue(pe){var Ce=Array(6);function Le(lt){var Pe;_(Ce.indexOf(Q.next)<0,"can not update framebuffer which is currently in use");var Ie={color:null},it=0,ut=null,St="rgba",nn="uint8",ln=1;if(typeof lt=="number")it=lt|0;else if(!lt)it=1;else{_.type(lt,"object","invalid arguments for framebuffer");var Ct=lt;if("shape"in Ct){var kn=Ct.shape;_(Array.isArray(kn)&&kn.length>=2,"invalid shape for framebuffer"),_(kn[0]===kn[1],"cube framebuffer must be square"),it=kn[0]}else"radius"in Ct&&(it=Ct.radius|0),"width"in Ct?(it=Ct.width|0,"height"in Ct&&_(Ct.height===it,"must be square")):"height"in Ct&&(it=Ct.height|0);("color"in Ct||"colors"in Ct)&&(ut=Ct.color||Ct.colors,Array.isArray(ut)&&_(ut.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),ut||("colorCount"in Ct&&(ln=Ct.colorCount|0,_(ln>0,"invalid color buffer count")),"colorType"in Ct&&(_.oneOf(Ct.colorType,ge,"invalid color type"),nn=Ct.colorType),"colorFormat"in Ct&&(St=Ct.colorFormat,_.oneOf(Ct.colorFormat,fe,"invalid color format for texture"))),"depth"in Ct&&(Ie.depth=Ct.depth),"stencil"in Ct&&(Ie.stencil=Ct.stencil),"depthStencil"in Ct&&(Ie.depthStencil=Ct.depthStencil)}var en;if(ut)if(Array.isArray(ut))for(en=[],Pe=0;Pe<ut.length;++Pe)en[Pe]=ut[Pe];else en=[ut];else{en=Array(ln);var Ln={radius:it,format:St,type:nn};for(Pe=0;Pe<ln;++Pe)en[Pe]=W.createCube(Ln)}for(Ie.color=Array(en.length),Pe=0;Pe<en.length;++Pe){var Mn=en[Pe];_(typeof Mn=="function"&&Mn._reglType==="textureCube","invalid cube map"),it=it||Mn.width,_(Mn.width===it&&Mn.height===it,"invalid cube map shape"),Ie.color[Pe]={target:Ll,data:en[Pe]}}for(Pe=0;Pe<6;++Pe){for(var Nn=0;Nn<en.length;++Nn)Ie.color[Nn].target=Ll+Pe;Pe>0&&(Ie.depth=Ce[0].depth,Ie.stencil=Ce[0].stencil,Ie.depthStencil=Ce[0].depthStencil),Ce[Pe]?Ce[Pe](Ie):Ce[Pe]=te(Ie)}return r(Le,{width:it,height:it,color:en})}function st(lt){var Pe,Ie=lt|0;if(_(Ie>0&&Ie<=L.maxCubeMapSize,"invalid radius for cube fbo"),Ie===Le.width)return Le;var it=Le.color;for(Pe=0;Pe<it.length;++Pe)it[Pe].resize(Ie);for(Pe=0;Pe<6;++Pe)Ce[Pe].resize(Ie);return Le.width=Le.height=Ie,Le}return Le(pe),r(Le,{faces:Ce,resize:st,_reglType:"framebufferCube",destroy:function(){Ce.forEach(function(lt){lt.destroy()})}})}function Ae(){Q.cur=null,Q.next=null,Q.dirty=!0,sr(se).forEach(function(pe){pe.framebuffer=h.createFramebuffer(),re(pe)})}return r(Q,{getFramebuffer:function(pe){if(typeof pe=="function"&&pe._reglType==="framebuffer"){var Ce=pe._framebuffer;if(Ce instanceof Ne)return Ce}return null},create:te,createCube:Ue,clear:function(){sr(se).forEach(et)},restore:Ae})}var h1=5126,f=34962,I=34963,j=["attributes","elements","offset","count","primitive","instances"];function oe(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=h1,this.offset=0,this.stride=0,this.divisor=0}function Te(h,y,L,W,ne,H,Q){for(var fe=L.maxAttributes,ce=new Array(fe),ge=0;ge<fe;++ge)ce[ge]=new oe;var xe=0,ye={},Se={Record:oe,scope:{},state:ce,currentVAO:null,targetVAO:null,restore:ve()?Re:function(){},createVAO:et,getVAO:Y,destroyBuffer:he,setVAO:ve()?me:De,clear:ve()?se:function(){}};function he(re){for(var te=0;te<ce.length;++te){var Ue=ce[te];Ue.buffer===re&&(h.disableVertexAttribArray(te),Ue.buffer=null)}}function ve(){return y.oes_vertex_array_object}function B(){return y.angle_instanced_arrays}function Y(re){return typeof re=="function"&&re._vao?re._vao:null}function me(re){if(re!==Se.currentVAO){var te=ve();re?te.bindVertexArrayOES(re.vao):te.bindVertexArrayOES(null),Se.currentVAO=re}}function De(re){if(re!==Se.currentVAO){if(re)re.bindAttrs();else{for(var te=B(),Ue=0;Ue<ce.length;++Ue){var Ae=ce[Ue];Ae.buffer?(h.enableVertexAttribArray(Ue),Ae.buffer.bind(),h.vertexAttribPointer(Ue,Ae.size,Ae.type,Ae.normalized,Ae.stride,Ae.offfset),te&&Ae.divisor&&te.vertexAttribDivisorANGLE(Ue,Ae.divisor)):(h.disableVertexAttribArray(Ue),h.vertexAttrib4f(Ue,Ae.x,Ae.y,Ae.z,Ae.w))}Q.elements?h.bindBuffer(I,Q.elements.buffer.buffer):h.bindBuffer(I,null)}Se.currentVAO=re}}function se(){sr(ye).forEach(function(re){re.destroy()})}function Ne(){this.id=++xe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var re=ve();re?this.vao=re.createVertexArrayOES():this.vao=null,ye[this.id]=this,this.buffers=[]}Ne.prototype.bindAttrs=function(){for(var re=B(),te=this.attributes,Ue=0;Ue<te.length;++Ue){var Ae=te[Ue];Ae.buffer?(h.enableVertexAttribArray(Ue),h.bindBuffer(f,Ae.buffer.buffer),h.vertexAttribPointer(Ue,Ae.size,Ae.type,Ae.normalized,Ae.stride,Ae.offset),re&&Ae.divisor&&re.vertexAttribDivisorANGLE(Ue,Ae.divisor)):(h.disableVertexAttribArray(Ue),h.vertexAttrib4f(Ue,Ae.x,Ae.y,Ae.z,Ae.w))}for(var pe=te.length;pe<fe;++pe)h.disableVertexAttribArray(pe);var Ce=H.getElements(this.elements);Ce?h.bindBuffer(I,Ce.buffer.buffer):h.bindBuffer(I,null)},Ne.prototype.refresh=function(){var re=ve();re&&(re.bindVertexArrayOES(this.vao),this.bindAttrs(),Se.currentVAO=null,re.bindVertexArrayOES(null))},Ne.prototype.destroy=function(){if(this.vao){var re=ve();this===Se.currentVAO&&(Se.currentVAO=null,re.bindVertexArrayOES(null)),re.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ye[this.id]&&(delete ye[this.id],W.vaoCount-=1)};function Re(){var re=ve();re&&sr(ye).forEach(function(te){te.refresh()})}function et(re){var te=new Ne;W.vaoCount+=1;function Ue(Ae){var pe;if(Array.isArray(Ae))pe=Ae,te.elements&&te.ownsElements&&te.elements.destroy(),te.elements=null,te.ownsElements=!1,te.offset=0,te.count=0,te.instances=-1,te.primitive=4;else{if(_(typeof Ae=="object","invalid arguments for create vao"),_("attributes"in Ae,"must specify attributes for vao"),Ae.elements){var Ce=Ae.elements;te.ownsElements?typeof Ce=="function"&&Ce._reglType==="elements"?(te.elements.destroy(),te.ownsElements=!1):(te.elements(Ce),te.ownsElements=!1):H.getElements(Ae.elements)?(te.elements=Ae.elements,te.ownsElements=!1):(te.elements=H.create(Ae.elements),te.ownsElements=!0)}else te.elements=null,te.ownsElements=!1;pe=Ae.attributes,te.offset=0,te.count=-1,te.instances=-1,te.primitive=4,te.elements&&(te.count=te.elements._elements.vertCount,te.primitive=te.elements._elements.primType),"offset"in Ae&&(te.offset=Ae.offset|0),"count"in Ae&&(te.count=Ae.count|0),"instances"in Ae&&(te.instances=Ae.instances|0),"primitive"in Ae&&(_(Ae.primitive in Si,"bad primitive type: "+Ae.primitive),te.primitive=Si[Ae.primitive]),_.optional(()=>{for(var nn=Object.keys(Ae),ln=0;ln<nn.length;++ln)_(j.indexOf(nn[ln])>=0,'invalid option for vao: "'+nn[ln]+'" valid options are '+j)}),_(Array.isArray(pe),"attributes must be an array")}_(pe.length<fe,"too many attributes"),_(pe.length>0,"must specify at least one attribute");var Le={},st=te.attributes;st.length=pe.length;for(var lt=0;lt<pe.length;++lt){var Pe=pe[lt],Ie=st[lt]=new oe,it=Pe.data||Pe;if(Array.isArray(it)||n(it)||vr(it)){var ut;te.buffers[lt]&&(ut=te.buffers[lt],n(it)&&ut._buffer.byteLength>=it.byteLength?ut.subdata(it):(ut.destroy(),te.buffers[lt]=null)),te.buffers[lt]||(ut=te.buffers[lt]=ne.create(Pe,f,!1,!0)),Ie.buffer=ne.getBuffer(ut),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1,Le[lt]=1}else ne.getBuffer(Pe)?(Ie.buffer=ne.getBuffer(Pe),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1):ne.getBuffer(Pe.buffer)?(Ie.buffer=ne.getBuffer(Pe.buffer),Ie.size=(+Pe.size||Ie.buffer.dimension)|0,Ie.normalized=!!Pe.normalized||!1,"type"in Pe?(_.parameter(Pe.type,ya,"invalid buffer type"),Ie.type=ya[Pe.type]):Ie.type=Ie.buffer.dtype,Ie.offset=(Pe.offset||0)|0,Ie.stride=(Pe.stride||0)|0,Ie.divisor=(Pe.divisor||0)|0,Ie.state=1,_(Ie.size>=1&&Ie.size<=4,"size must be between 1 and 4"),_(Ie.offset>=0,"invalid offset"),_(Ie.stride>=0&&Ie.stride<=255,"stride must be between 0 and 255"),_(Ie.divisor>=0,"divisor must be positive"),_(!Ie.divisor||!!y.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Pe?(_(lt>0,"first attribute must not be a constant"),Ie.x=+Pe.x||0,Ie.y=+Pe.y||0,Ie.z=+Pe.z||0,Ie.w=+Pe.w||0,Ie.state=2):_(!1,"invalid attribute spec for location "+lt)}for(var St=0;St<te.buffers.length;++St)!Le[St]&&te.buffers[St]&&(te.buffers[St].destroy(),te.buffers[St]=null);return te.refresh(),Ue}return Ue.destroy=function(){for(var Ae=0;Ae<te.buffers.length;++Ae)te.buffers[Ae]&&te.buffers[Ae].destroy();te.buffers.length=0,te.ownsElements&&(te.elements.destroy(),te.elements=null,te.ownsElements=!1),te.destroy()},Ue._vao=te,Ue._reglType="vao",Ue(re)}return Se}var Be=35632,He=35633,dt=35718,$t=35721;function It(h,y,L,W){var ne={},H={};function Q(B,Y,me,De){this.name=B,this.id=Y,this.location=me,this.info=De}function fe(B,Y){for(var me=0;me<B.length;++me)if(B[me].id===Y.id){B[me].location=Y.location;return}B.push(Y)}function ce(B,Y,me){var De=B===Be?ne:H,se=De[Y];if(!se){var Ne=y.str(Y);se=h.createShader(B),h.shaderSource(se,Ne),h.compileShader(se),_.shaderError(h,se,Ne,B,me),De[Y]=se}return se}var ge={},xe=[],ye=0;function Se(B,Y){this.id=ye++,this.fragId=B,this.vertId=Y,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,W.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function he(B,Y,me){var De,se,Ne=ce(Be,B.fragId),Re=ce(He,B.vertId),et=B.program=h.createProgram();if(h.attachShader(et,Ne),h.attachShader(et,Re),me)for(De=0;De<me.length;++De){var re=me[De];h.bindAttribLocation(et,re[0],re[1])}h.linkProgram(et),_.linkError(h,et,y.str(B.fragId),y.str(B.vertId),Y);var te=h.getProgramParameter(et,dt);W.profile&&(B.stats.uniformsCount=te);var Ue=B.uniforms;for(De=0;De<te;++De)if(se=h.getActiveUniform(et,De),se){if(se.size>1)for(var Ae=0;Ae<se.size;++Ae){var pe=se.name.replace("[0]","["+Ae+"]");fe(Ue,new Q(pe,y.id(pe),h.getUniformLocation(et,pe),se))}var Ce=se.name;se.size>1&&(Ce=Ce.replace("[0]","")),fe(Ue,new Q(Ce,y.id(Ce),h.getUniformLocation(et,Ce),se))}var Le=h.getProgramParameter(et,$t);W.profile&&(B.stats.attributesCount=Le);var st=B.attributes;for(De=0;De<Le;++De)se=h.getActiveAttrib(et,De),se&&fe(st,new Q(se.name,y.id(se.name),h.getAttribLocation(et,se.name),se))}W.profile&&(L.getMaxUniformsCount=function(){var B=0;return xe.forEach(function(Y){Y.stats.uniformsCount>B&&(B=Y.stats.uniformsCount)}),B},L.getMaxAttributesCount=function(){var B=0;return xe.forEach(function(Y){Y.stats.attributesCount>B&&(B=Y.stats.attributesCount)}),B});function ve(){ne={},H={};for(var B=0;B<xe.length;++B)he(xe[B],null,xe[B].attributes.map(function(Y){return[Y.location,Y.name]}))}return{clear:function(){var B=h.deleteShader.bind(h);sr(ne).forEach(B),ne={},sr(H).forEach(B),H={},xe.forEach(function(Y){h.deleteProgram(Y.program)}),xe.length=0,ge={},L.shaderCount=0},program:function(B,Y,me,De){_.command(B>=0,"missing vertex shader",me),_.command(Y>=0,"missing fragment shader",me);var se=ge[Y];se||(se=ge[Y]={});var Ne=se[B];if(Ne&&(Ne.refCount++,!De))return Ne;var Re=new Se(Y,B);return L.shaderCount++,he(Re,me,De),Ne||(se[B]=Re),xe.push(Re),r(Re,{destroy:function(){if(Re.refCount--,Re.refCount<=0){h.deleteProgram(Re.program);var et=xe.indexOf(Re);xe.splice(et,1),L.shaderCount--}se[Re.vertId].refCount<=0&&(h.deleteShader(H[Re.vertId]),delete H[Re.vertId],delete ge[Re.fragId][Re.vertId]),Object.keys(ge[Re.fragId]).length||(h.deleteShader(ne[Re.fragId]),delete ne[Re.fragId],delete ge[Re.fragId])}})},restore:ve,shader:ce,frag:-1,vert:-1}}var Cn=6408,Vt=5121,Dt=3333,$f=5126;function v8(h,y,L,W,ne,H,Q){function fe(xe){var ye;y.next===null?(_(ne.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ye=Vt):(_(y.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ye=y.next.colorAttachments[0].texture._texture.type,_.optional(function(){H.oes_texture_float?(_(ye===Vt||ye===$f,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ye===$f&&_(Q.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(ye===Vt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Se=0,he=0,ve=W.framebufferWidth,B=W.framebufferHeight,Y=null;n(xe)?Y=xe:xe&&(_.type(xe,"object","invalid arguments to regl.read()"),Se=xe.x|0,he=xe.y|0,_(Se>=0&&Se<W.framebufferWidth,"invalid x offset for regl.read"),_(he>=0&&he<W.framebufferHeight,"invalid y offset for regl.read"),ve=(xe.width||W.framebufferWidth-Se)|0,B=(xe.height||W.framebufferHeight-he)|0,Y=xe.data||null),Y&&(ye===Vt?_(Y instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ye===$f&&_(Y instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(ve>0&&ve+Se<=W.framebufferWidth,"invalid width for read pixels"),_(B>0&&B+he<=W.framebufferHeight,"invalid height for read pixels"),L();var me=ve*B*4;return Y||(ye===Vt?Y=new Uint8Array(me):ye===$f&&(Y=Y||new Float32Array(me))),_.isTypedArray(Y,"data buffer for regl.read() must be a typedarray"),_(Y.byteLength>=me,"data buffer for regl.read() too small"),h.pixelStorei(Dt,4),h.readPixels(Se,he,ve,B,Cn,ye,Y),Y}function ce(xe){var ye;return y.setFBO({framebuffer:xe.framebuffer},function(){ye=fe(xe)}),ye}function ge(xe){return!xe||!("framebuffer"in xe)?fe(xe):ce(xe)}return ge}function Pl(h){return Array.prototype.slice.call(h)}function Ol(h){return Pl(h).join("")}function g8(){var h=0,y=[],L=[];function W(ye){for(var Se=0;Se<L.length;++Se)if(L[Se]===ye)return y[Se];var he="g"+h++;return y.push(he),L.push(ye),he}function ne(){var ye=[];function Se(){ye.push.apply(ye,Pl(arguments))}var he=[];function ve(){var B="v"+h++;return he.push(B),arguments.length>0&&(ye.push(B,"="),ye.push.apply(ye,Pl(arguments)),ye.push(";")),B}return r(Se,{def:ve,toString:function(){return Ol([he.length>0?"var "+he.join(",")+";":"",Ol(ye)])}})}function H(){var ye=ne(),Se=ne(),he=ye.toString,ve=Se.toString;function B(Y,me){Se(Y,me,"=",ye.def(Y,me),";")}return r(function(){ye.apply(ye,Pl(arguments))},{def:ye.def,entry:ye,exit:Se,save:B,set:function(Y,me,De){B(Y,me),ye(Y,me,"=",De,";")},toString:function(){return he()+ve()}})}function Q(){var ye=Ol(arguments),Se=H(),he=H(),ve=Se.toString,B=he.toString;return r(Se,{then:function(){return Se.apply(Se,Pl(arguments)),this},else:function(){return he.apply(he,Pl(arguments)),this},toString:function(){var Y=B();return Y&&(Y="else{"+Y+"}"),Ol(["if(",ye,"){",ve(),"}",Y])}})}var fe=ne(),ce={};function ge(ye,Se){var he=[];function ve(){var se="a"+he.length;return he.push(se),se}Se=Se||0;for(var B=0;B<Se;++B)ve();var Y=H(),me=Y.toString,De=ce[ye]=r(Y,{arg:ve,toString:function(){return Ol(["function(",he.join(),"){",me(),"}"])}});return De}function xe(){var ye=['"use strict";',fe,"return {"];Object.keys(ce).forEach(function(ve){ye.push('"',ve,'":',ce[ve].toString(),",")}),ye.push("}");var Se=Ol(ye).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),he=Function.apply(null,y.concat(Se));return he.apply(null,L)}return{global:fe,link:W,block:ne,proc:ge,scope:H,cond:Q,compile:xe}}var kl="xyzw".split(""),y2=5121,Ml=1,p1=2,m1=0,v1=1,g1=2,y1=3,zf=4,x2=5,_2=6,w2="dither",E2="blend.enable",S2="blend.color",x1="blend.equation",_1="blend.func",T2="depth.enable",A2="depth.func",C2="depth.range",b2="depth.mask",w1="colorMask",L2="cull.enable",R2="cull.face",E1="frontFace",S1="lineWidth",P2="polygonOffset.enable",T1="polygonOffset.offset",O2="sample.alpha",k2="sample.enable",A1="sample.coverage",M2="stencil.enable",N2="stencil.mask",C1="stencil.func",b1="stencil.opFront",fu="stencil.opBack",I2="scissor.enable",Gf="scissor.box",Qi="viewport",du="profile",So="framebuffer",hu="vert",pu="frag",To="elements",Ao="primitive",Co="count",jf="offset",Uf="instances",mu="vao",L1="Width",R1="Height",Nl=So+L1,Il=So+R1,y8=Qi+L1,x8=Qi+R1,D2="drawingBuffer",F2=D2+L1,B2=D2+R1,_8=[_1,x1,C1,b1,fu,A1,Qi,Gf,T1],Dl=34962,P1=34963,w8=35632,E8=35633,$2=3553,S8=34067,T8=2884,A8=3042,C8=3024,b8=2960,L8=2929,R8=3089,P8=32823,O8=32926,k8=32928,O1=5126,Vf=35664,Hf=35665,Wf=35666,k1=5124,Xf=35667,Yf=35668,qf=35669,M1=35670,Qf=35671,Zf=35672,Kf=35673,vu=35674,gu=35675,yu=35676,xu=35678,_u=35680,N1=4,wu=1028,bo=1029,z2=2304,I1=2305,M8=32775,N8=32776,I8=519,Ca=7680,G2=0,j2=1,U2=32774,D8=513,V2=36160,F8=36064,Ci={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},H2=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Fl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ba={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},W2={frag:w8,vert:E8},D1={cw:z2,ccw:I1};function Jf(h){return Array.isArray(h)||n(h)||vr(h)}function X2(h){return h.sort(function(y,L){return y===Qi?-1:L===Qi?1:y<L?-1:1})}function zn(h,y,L,W){this.thisDep=h,this.contextDep=y,this.propDep=L,this.append=W}function La(h){return h&&!(h.thisDep||h.contextDep||h.propDep)}function bn(h){return new zn(!1,!1,!1,h)}function gr(h,y){var L=h.type;if(L===m1){var W=h.data.length;return new zn(!0,W>=1,W>=2,y)}else if(L===zf){var ne=h.data;return new zn(ne.thisDep,ne.contextDep,ne.propDep,y)}else{if(L===x2)return new zn(!1,!1,!1,y);if(L===_2){for(var H=!1,Q=!1,fe=!1,ce=0;ce<h.data.length;++ce){var ge=h.data[ce];if(ge.type===v1)fe=!0;else if(ge.type===g1)Q=!0;else if(ge.type===y1)H=!0;else if(ge.type===m1){H=!0;var xe=ge.data;xe>=1&&(Q=!0),xe>=2&&(fe=!0)}else ge.type===zf&&(H=H||ge.data.thisDep,Q=Q||ge.data.contextDep,fe=fe||ge.data.propDep)}return new zn(H,Q,fe,y)}else return new zn(L===y1,L===g1,L===v1,y)}}var Y2=new zn(!1,!1,!1,function(){});function B8(h,y,L,W,ne,H,Q,fe,ce,ge,xe,ye,Se,he,ve){var B=ge.Record,Y={add:32774,subtract:32778,"reverse subtract":32779};L.ext_blend_minmax&&(Y.min=M8,Y.max=N8);var me=L.angle_instanced_arrays,De=L.webgl_draw_buffers,se=L.oes_vertex_array_object,Ne={dirty:!0,profile:ve.profile},Re={},et=[],re={},te={};function Ue(w){return w.replace(".","_")}function Ae(w,m,P){var F=Ue(w);et.push(w),Re[F]=Ne[F]=!!P,re[F]=m}function pe(w,m,P){var F=Ue(w);et.push(w),Array.isArray(P)?(Ne[F]=P.slice(),Re[F]=P.slice()):Ne[F]=Re[F]=P,te[F]=m}Ae(w2,C8),Ae(E2,A8),pe(S2,"blendColor",[0,0,0,0]),pe(x1,"blendEquationSeparate",[U2,U2]),pe(_1,"blendFuncSeparate",[j2,G2,j2,G2]),Ae(T2,L8,!0),pe(A2,"depthFunc",D8),pe(C2,"depthRange",[0,1]),pe(b2,"depthMask",!0),pe(w1,w1,[!0,!0,!0,!0]),Ae(L2,T8),pe(R2,"cullFace",bo),pe(E1,E1,I1),pe(S1,S1,1),Ae(P2,P8),pe(T1,"polygonOffset",[0,0]),Ae(O2,O8),Ae(k2,k8),pe(A1,"sampleCoverage",[1,!1]),Ae(M2,b8),pe(N2,"stencilMask",-1),pe(C1,"stencilFunc",[I8,0,-1]),pe(b1,"stencilOpSeparate",[wu,Ca,Ca,Ca]),pe(fu,"stencilOpSeparate",[bo,Ca,Ca,Ca]),Ae(I2,R8),pe(Gf,"scissor",[0,0,h.drawingBufferWidth,h.drawingBufferHeight]),pe(Qi,Qi,[0,0,h.drawingBufferWidth,h.drawingBufferHeight]);var Ce={gl:h,context:Se,strings:y,next:Re,current:Ne,draw:ye,elements:H,buffer:ne,shader:xe,attributes:ge.state,vao:ge,uniforms:ce,framebuffer:fe,extensions:L,timer:he,isBufferArgs:Jf},Le={primTypes:Si,compareFuncs:Fl,blendFuncs:Ci,blendEquations:Y,stencilOps:ba,glTypes:ya,orientationType:D1};_.optional(function(){Ce.isArrayLike=Jt}),De&&(Le.backBuffer=[bo],Le.drawBuffer=Yt(W.maxDrawbuffers,function(w){return w===0?[0]:Yt(w,function(m){return F8+m})}));var st=0;function lt(){var w=g8(),m=w.link,P=w.global;w.id=st++,w.batchId="0";var F=m(Ce),$=w.shared={props:"a0"};Object.keys(Ce).forEach(function(b){$[b]=P.def(F,".",b)}),_.optional(function(){w.CHECK=m(_),w.commandStr=_.guessCommand(),w.command=m(w.commandStr),w.assert=function(b,A,U){b("if(!(",A,"))",this.CHECK,".commandRaise(",m(U),",",this.command,");")},Le.invalidBlendCombinations=H2});var N=w.next={},k=w.current={};Object.keys(te).forEach(function(b){Array.isArray(Ne[b])&&(N[b]=P.def($.next,".",b),k[b]=P.def($.current,".",b))});var D=w.constants={};Object.keys(Le).forEach(function(b){D[b]=P.def(JSON.stringify(Le[b]))}),w.invoke=function(b,A){switch(A.type){case m1:var U=["this",$.context,$.props,w.batchId];return b.def(m(A.data),".call(",U.slice(0,Math.max(A.data.length+1,4)),")");case v1:return b.def($.props,A.data);case g1:return b.def($.context,A.data);case y1:return b.def("this",A.data);case zf:return A.data.append(w,b),A.data.ref;case x2:return A.data.toString();case _2:return A.data.map(function(z){return w.invoke(b,z)})}},w.attribCache={};var S={};return w.scopeAttrib=function(b){var A=y.id(b);if(A in S)return S[A];var U=ge.scope[A];U||(U=ge.scope[A]=new B);var z=S[A]=m(U);return z},w}function Pe(w){var m=w.static,P=w.dynamic,F;if(du in m){var $=!!m[du];F=bn(function(k,D){return $}),F.enable=$}else if(du in P){var N=P[du];F=gr(N,function(k,D){return k.invoke(D,N)})}return F}function Ie(w,m){var P=w.static,F=w.dynamic;if(So in P){var $=P[So];return $?($=fe.getFramebuffer($),_.command($,"invalid framebuffer object"),bn(function(k,D){var S=k.link($),b=k.shared;D.set(b.framebuffer,".next",S);var A=b.context;return D.set(A,"."+Nl,S+".width"),D.set(A,"."+Il,S+".height"),S})):bn(function(k,D){var S=k.shared;D.set(S.framebuffer,".next","null");var b=S.context;return D.set(b,"."+Nl,b+"."+F2),D.set(b,"."+Il,b+"."+B2),"null"})}else if(So in F){var N=F[So];return gr(N,function(k,D){var S=k.invoke(D,N),b=k.shared,A=b.framebuffer,U=D.def(A,".getFramebuffer(",S,")");_.optional(function(){k.assert(D,"!"+S+"||"+U,"invalid framebuffer object")}),D.set(A,".next",U);var z=b.context;return D.set(z,"."+Nl,U+"?"+U+".width:"+z+"."+F2),D.set(z,"."+Il,U+"?"+U+".height:"+z+"."+B2),U})}else return null}function it(w,m,P){var F=w.static,$=w.dynamic;function N(S){if(S in F){var b=F[S];_.commandType(b,"object","invalid "+S,P.commandStr);var A=!0,U=b.x|0,z=b.y|0,ee,ie;return"width"in b?(ee=b.width|0,_.command(ee>=0,"invalid "+S,P.commandStr)):A=!1,"height"in b?(ie=b.height|0,_.command(ie>=0,"invalid "+S,P.commandStr)):A=!1,new zn(!A&&m&&m.thisDep,!A&&m&&m.contextDep,!A&&m&&m.propDep,function(Ke,$e){var le=Ke.shared.context,Z=ee;"width"in b||(Z=$e.def(le,".",Nl,"-",U));var Ye=ie;return"height"in b||(Ye=$e.def(le,".",Il,"-",z)),[U,z,Z,Ye]})}else if(S in $){var Ee=$[S],ot=gr(Ee,function(Ke,$e){var le=Ke.invoke($e,Ee);_.optional(function(){Ke.assert($e,le+"&&typeof "+le+'==="object"',"invalid "+S)});var Z=Ke.shared.context,Ye=$e.def(le,".x|0"),Ve=$e.def(le,".y|0"),at=$e.def('"width" in ',le,"?",le,".width|0:","(",Z,".",Nl,"-",Ye,")"),Ut=$e.def('"height" in ',le,"?",le,".height|0:","(",Z,".",Il,"-",Ve,")");return _.optional(function(){Ke.assert($e,at+">=0&&"+Ut+">=0","invalid "+S)}),[Ye,Ve,at,Ut]});return m&&(ot.thisDep=ot.thisDep||m.thisDep,ot.contextDep=ot.contextDep||m.contextDep,ot.propDep=ot.propDep||m.propDep),ot}else return m?new zn(m.thisDep,m.contextDep,m.propDep,function(Ke,$e){var le=Ke.shared.context;return[0,0,$e.def(le,".",Nl),$e.def(le,".",Il)]}):null}var k=N(Qi);if(k){var D=k;k=new zn(k.thisDep,k.contextDep,k.propDep,function(S,b){var A=D.append(S,b),U=S.shared.context;return b.set(U,"."+y8,A[2]),b.set(U,"."+x8,A[3]),A})}return{viewport:k,scissor_box:N(Gf)}}function ut(w,m){var P=w.static,F=typeof P[pu]=="string"&&typeof P[hu]=="string";if(F){if(Object.keys(m.dynamic).length>0)return null;var $=m.static,N=Object.keys($);if(N.length>0&&typeof $[N[0]]=="number"){for(var k=[],D=0;D<N.length;++D)_(typeof $[N[D]]=="number","must specify all vertex attribute locations when using vaos"),k.push([$[N[D]]|0,N[D]]);return k}}return null}function St(w,m,P){var F=w.static,$=w.dynamic;function N(A){if(A in F){var U=y.id(F[A]);_.optional(function(){xe.shader(W2[A],U,_.guessCommand())});var z=bn(function(){return U});return z.id=U,z}else if(A in $){var ee=$[A];return gr(ee,function(ie,Ee){var ot=ie.invoke(Ee,ee),Ke=Ee.def(ie.shared.strings,".id(",ot,")");return _.optional(function(){Ee(ie.shared.shader,".shader(",W2[A],",",Ke,",",ie.command,");")}),Ke})}return null}var k=N(pu),D=N(hu),S=null,b;return La(k)&&La(D)?(S=xe.program(D.id,k.id,null,P),b=bn(function(A,U){return A.link(S)})):b=new zn(k&&k.thisDep||D&&D.thisDep,k&&k.contextDep||D&&D.contextDep,k&&k.propDep||D&&D.propDep,function(A,U){var z=A.shared.shader,ee;k?ee=k.append(A,U):ee=U.def(z,".",pu);var ie;D?ie=D.append(A,U):ie=U.def(z,".",hu);var Ee=z+".program("+ie+","+ee;return _.optional(function(){Ee+=","+A.command}),U.def(Ee+")")}),{frag:k,vert:D,progVar:b,program:S}}function nn(w,m){var P=w.static,F=w.dynamic,$={},N=!1;function k(){if(mu in P){var $e=P[mu];return $e!==null&&ge.getVAO($e)===null&&($e=ge.createVAO($e)),N=!0,$.vao=$e,bn(function(Z){var Ye=ge.getVAO($e);return Ye?Z.link(Ye):"null"})}else if(mu in F){N=!0;var le=F[mu];return gr(le,function(Z,Ye){var Ve=Z.invoke(Ye,le);return Ye.def(Z.shared.vao+".getVAO("+Ve+")")})}return null}var D=k(),S=!1;function b(){if(To in P){var $e=P[To];if($.elements=$e,Jf($e)){var le=$.elements=H.create($e,!0);$e=H.getElements(le),S=!0}else $e&&($e=H.getElements($e),S=!0,_.command($e,"invalid elements",m.commandStr));var Z=bn(function(Ve,at){if($e){var Ut=Ve.link($e);return Ve.ELEMENTS=Ut,Ut}return Ve.ELEMENTS=null,null});return Z.value=$e,Z}else if(To in F){S=!0;var Ye=F[To];return gr(Ye,function(Ve,at){var Ut=Ve.shared,Qn=Ut.isBufferArgs,Ro=Ut.elements,Zi=Ve.invoke(at,Ye),Li=at.def("null"),Ra=at.def(Qn,"(",Zi,")"),Po=Ve.cond(Ra).then(Li,"=",Ro,".createStream(",Zi,");").else(Li,"=",Ro,".getElements(",Zi,");");return _.optional(function(){Ve.assert(Po.else,"!"+Zi+"||"+Li,"invalid elements")}),at.entry(Po),at.exit(Ve.cond(Ra).then(Ro,".destroyStream(",Li,");")),Ve.ELEMENTS=Li,Li})}else if(N)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ve,at){return at.def(Ve.shared.vao+".currentVAO?"+Ve.shared.elements+".getElements("+Ve.shared.vao+".currentVAO.elements):null")});return null}var A=b();function U(){if(Ao in P){var $e=P[Ao];return $.primitive=$e,_.commandParameter($e,Si,"invalid primitve",m.commandStr),bn(function(Z,Ye){return Si[$e]})}else if(Ao in F){var le=F[Ao];return gr(le,function(Z,Ye){var Ve=Z.constants.primTypes,at=Z.invoke(Ye,le);return _.optional(function(){Z.assert(Ye,at+" in "+Ve,"invalid primitive, must be one of "+Object.keys(Si))}),Ye.def(Ve,"[",at,"]")})}else{if(S)return La(A)?A.value?bn(function(Z,Ye){return Ye.def(Z.ELEMENTS,".primType")}):bn(function(){return N1}):new zn(A.thisDep,A.contextDep,A.propDep,function(Z,Ye){var Ve=Z.ELEMENTS;return Ye.def(Ve,"?",Ve,".primType:",N1)});if(N)return new zn(D.thisDep,D.contextDep,D.propDep,function(Z,Ye){return Ye.def(Z.shared.vao+".currentVAO?"+Z.shared.vao+".currentVAO.primitive:"+N1)})}return null}function z($e,le){if($e in P){var Z=P[$e]|0;return le?$.offset=Z:$.instances=Z,_.command(!le||Z>=0,"invalid "+$e,m.commandStr),bn(function(Ve,at){return le&&(Ve.OFFSET=Z),Z})}else if($e in F){var Ye=F[$e];return gr(Ye,function(Ve,at){var Ut=Ve.invoke(at,Ye);return le&&(Ve.OFFSET=Ut,_.optional(function(){Ve.assert(at,Ut+">=0","invalid "+$e)})),Ut})}else if(le){if(S)return bn(function(Ve,at){return Ve.OFFSET=0,0});if(N)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ve,at){return at.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.offset:0")})}else if(N)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ve,at){return at.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.instances:-1")});return null}var ee=z(jf,!0);function ie(){if(Co in P){var $e=P[Co]|0;return $.count=$e,_.command(typeof $e=="number"&&$e>=0,"invalid vertex count",m.commandStr),bn(function(){return $e})}else if(Co in F){var le=F[Co];return gr(le,function(at,Ut){var Qn=at.invoke(Ut,le);return _.optional(function(){at.assert(Ut,"typeof "+Qn+'==="number"&&'+Qn+">=0&&"+Qn+"===("+Qn+"|0)","invalid vertex count")}),Qn})}else if(S)if(La(A)){if(A)return ee?new zn(ee.thisDep,ee.contextDep,ee.propDep,function(at,Ut){var Qn=Ut.def(at.ELEMENTS,".vertCount-",at.OFFSET);return _.optional(function(){at.assert(Ut,Qn+">=0","invalid vertex offset/element buffer too small")}),Qn}):bn(function(at,Ut){return Ut.def(at.ELEMENTS,".vertCount")});var Z=bn(function(){return-1});return _.optional(function(){Z.MISSING=!0}),Z}else{var Ye=new zn(A.thisDep||ee.thisDep,A.contextDep||ee.contextDep,A.propDep||ee.propDep,function(at,Ut){var Qn=at.ELEMENTS;return at.OFFSET?Ut.def(Qn,"?",Qn,".vertCount-",at.OFFSET,":-1"):Ut.def(Qn,"?",Qn,".vertCount:-1")});return _.optional(function(){Ye.DYNAMIC=!0}),Ye}else if(N){var Ve=new zn(D.thisDep,D.contextDep,D.propDep,function(at,Ut){return Ut.def(at.shared.vao,".currentVAO?",at.shared.vao,".currentVAO.count:-1")});return Ve}return null}var Ee=U(),ot=ie(),Ke=z(Uf,!1);return{elements:A,primitive:Ee,count:ot,instances:Ke,offset:ee,vao:D,vaoActive:N,elementsActive:S,static:$}}function ln(w,m){var P=w.static,F=w.dynamic,$={};return et.forEach(function(N){var k=Ue(N);function D(S,b){if(N in P){var A=S(P[N]);$[k]=bn(function(){return A})}else if(N in F){var U=F[N];$[k]=gr(U,function(z,ee){return b(z,ee,z.invoke(ee,U))})}}switch(N){case L2:case E2:case w2:case M2:case T2:case I2:case P2:case O2:case k2:case b2:return D(function(S){return _.commandType(S,"boolean",N,m.commandStr),S},function(S,b,A){return _.optional(function(){S.assert(b,"typeof "+A+'==="boolean"',"invalid flag "+N,S.commandStr)}),A});case A2:return D(function(S){return _.commandParameter(S,Fl,"invalid "+N,m.commandStr),Fl[S]},function(S,b,A){var U=S.constants.compareFuncs;return _.optional(function(){S.assert(b,A+" in "+U,"invalid "+N+", must be one of "+Object.keys(Fl))}),b.def(U,"[",A,"]")});case C2:return D(function(S){return _.command(Jt(S)&&S.length===2&&typeof S[0]=="number"&&typeof S[1]=="number"&&S[0]<=S[1],"depth range is 2d array",m.commandStr),S},function(S,b,A){_.optional(function(){S.assert(b,S.shared.isArrayLike+"("+A+")&&"+A+".length===2&&typeof "+A+'[0]==="number"&&typeof '+A+'[1]==="number"&&'+A+"[0]<="+A+"[1]","depth range must be a 2d array")});var U=b.def("+",A,"[0]"),z=b.def("+",A,"[1]");return[U,z]});case _1:return D(function(S){_.commandType(S,"object","blend.func",m.commandStr);var b="srcRGB"in S?S.srcRGB:S.src,A="srcAlpha"in S?S.srcAlpha:S.src,U="dstRGB"in S?S.dstRGB:S.dst,z="dstAlpha"in S?S.dstAlpha:S.dst;return _.commandParameter(b,Ci,k+".srcRGB",m.commandStr),_.commandParameter(A,Ci,k+".srcAlpha",m.commandStr),_.commandParameter(U,Ci,k+".dstRGB",m.commandStr),_.commandParameter(z,Ci,k+".dstAlpha",m.commandStr),_.command(H2.indexOf(b+", "+U)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+b+", "+U+")",m.commandStr),[Ci[b],Ci[U],Ci[A],Ci[z]]},function(S,b,A){var U=S.constants.blendFuncs;_.optional(function(){S.assert(b,A+"&&typeof "+A+'==="object"',"invalid blend func, must be an object")});function z(le,Z){var Ye=b.def('"',le,Z,'" in ',A,"?",A,".",le,Z,":",A,".",le);return _.optional(function(){S.assert(b,Ye+" in "+U,"invalid "+N+"."+le+Z+", must be one of "+Object.keys(Ci))}),Ye}var ee=z("src","RGB"),ie=z("dst","RGB");_.optional(function(){var le=S.constants.invalidBlendCombinations;S.assert(b,le+".indexOf("+ee+'+", "+'+ie+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ee=b.def(U,"[",ee,"]"),ot=b.def(U,"[",z("src","Alpha"),"]"),Ke=b.def(U,"[",ie,"]"),$e=b.def(U,"[",z("dst","Alpha"),"]");return[Ee,Ke,ot,$e]});case x1:return D(function(S){if(typeof S=="string")return _.commandParameter(S,Y,"invalid "+N,m.commandStr),[Y[S],Y[S]];if(typeof S=="object")return _.commandParameter(S.rgb,Y,N+".rgb",m.commandStr),_.commandParameter(S.alpha,Y,N+".alpha",m.commandStr),[Y[S.rgb],Y[S.alpha]];_.commandRaise("invalid blend.equation",m.commandStr)},function(S,b,A){var U=S.constants.blendEquations,z=b.def(),ee=b.def(),ie=S.cond("typeof ",A,'==="string"');return _.optional(function(){function Ee(ot,Ke,$e){S.assert(ot,$e+" in "+U,"invalid "+Ke+", must be one of "+Object.keys(Y))}Ee(ie.then,N,A),S.assert(ie.else,A+"&&typeof "+A+'==="object"',"invalid "+N),Ee(ie.else,N+".rgb",A+".rgb"),Ee(ie.else,N+".alpha",A+".alpha")}),ie.then(z,"=",ee,"=",U,"[",A,"];"),ie.else(z,"=",U,"[",A,".rgb];",ee,"=",U,"[",A,".alpha];"),b(ie),[z,ee]});case S2:return D(function(S){return _.command(Jt(S)&&S.length===4,"blend.color must be a 4d array",m.commandStr),Yt(4,function(b){return+S[b]})},function(S,b,A){return _.optional(function(){S.assert(b,S.shared.isArrayLike+"("+A+")&&"+A+".length===4","blend.color must be a 4d array")}),Yt(4,function(U){return b.def("+",A,"[",U,"]")})});case N2:return D(function(S){return _.commandType(S,"number",k,m.commandStr),S|0},function(S,b,A){return _.optional(function(){S.assert(b,"typeof "+A+'==="number"',"invalid stencil.mask")}),b.def(A,"|0")});case C1:return D(function(S){_.commandType(S,"object",k,m.commandStr);var b=S.cmp||"keep",A=S.ref||0,U="mask"in S?S.mask:-1;return _.commandParameter(b,Fl,N+".cmp",m.commandStr),_.commandType(A,"number",N+".ref",m.commandStr),_.commandType(U,"number",N+".mask",m.commandStr),[Fl[b],A,U]},function(S,b,A){var U=S.constants.compareFuncs;_.optional(function(){function Ee(){S.assert(b,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ee(A+"&&typeof ",A,'==="object"'),Ee('!("cmp" in ',A,")||(",A,".cmp in ",U,")")});var z=b.def('"cmp" in ',A,"?",U,"[",A,".cmp]",":",Ca),ee=b.def(A,".ref|0"),ie=b.def('"mask" in ',A,"?",A,".mask|0:-1");return[z,ee,ie]});case b1:case fu:return D(function(S){_.commandType(S,"object",k,m.commandStr);var b=S.fail||"keep",A=S.zfail||"keep",U=S.zpass||"keep";return _.commandParameter(b,ba,N+".fail",m.commandStr),_.commandParameter(A,ba,N+".zfail",m.commandStr),_.commandParameter(U,ba,N+".zpass",m.commandStr),[N===fu?bo:wu,ba[b],ba[A],ba[U]]},function(S,b,A){var U=S.constants.stencilOps;_.optional(function(){S.assert(b,A+"&&typeof "+A+'==="object"',"invalid "+N)});function z(ee){return _.optional(function(){S.assert(b,'!("'+ee+'" in '+A+")||("+A+"."+ee+" in "+U+")","invalid "+N+"."+ee+", must be one of "+Object.keys(ba))}),b.def('"',ee,'" in ',A,"?",U,"[",A,".",ee,"]:",Ca)}return[N===fu?bo:wu,z("fail"),z("zfail"),z("zpass")]});case T1:return D(function(S){_.commandType(S,"object",k,m.commandStr);var b=S.factor|0,A=S.units|0;return _.commandType(b,"number",k+".factor",m.commandStr),_.commandType(A,"number",k+".units",m.commandStr),[b,A]},function(S,b,A){_.optional(function(){S.assert(b,A+"&&typeof "+A+'==="object"',"invalid "+N)});var U=b.def(A,".factor|0"),z=b.def(A,".units|0");return[U,z]});case R2:return D(function(S){var b=0;return S==="front"?b=wu:S==="back"&&(b=bo),_.command(!!b,k,m.commandStr),b},function(S,b,A){return _.optional(function(){S.assert(b,A+'==="front"||'+A+'==="back"',"invalid cull.face")}),b.def(A,'==="front"?',wu,":",bo)});case S1:return D(function(S){return _.command(typeof S=="number"&&S>=W.lineWidthDims[0]&&S<=W.lineWidthDims[1],"invalid line width, must be a positive number between "+W.lineWidthDims[0]+" and "+W.lineWidthDims[1],m.commandStr),S},function(S,b,A){return _.optional(function(){S.assert(b,"typeof "+A+'==="number"&&'+A+">="+W.lineWidthDims[0]+"&&"+A+"<="+W.lineWidthDims[1],"invalid line width")}),A});case E1:return D(function(S){return _.commandParameter(S,D1,k,m.commandStr),D1[S]},function(S,b,A){return _.optional(function(){S.assert(b,A+'==="cw"||'+A+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),b.def(A+'==="cw"?'+z2+":"+I1)});case w1:return D(function(S){return _.command(Jt(S)&&S.length===4,"color.mask must be length 4 array",m.commandStr),S.map(function(b){return!!b})},function(S,b,A){return _.optional(function(){S.assert(b,S.shared.isArrayLike+"("+A+")&&"+A+".length===4","invalid color.mask")}),Yt(4,function(U){return"!!"+A+"["+U+"]"})});case A1:return D(function(S){_.command(typeof S=="object"&&S,k,m.commandStr);var b="value"in S?S.value:1,A=!!S.invert;return _.command(typeof b=="number"&&b>=0&&b<=1,"sample.coverage.value must be a number between 0 and 1",m.commandStr),[b,A]},function(S,b,A){_.optional(function(){S.assert(b,A+"&&typeof "+A+'==="object"',"invalid sample.coverage")});var U=b.def('"value" in ',A,"?+",A,".value:1"),z=b.def("!!",A,".invert");return[U,z]})}}),$}function Ct(w,m){var P=w.static,F=w.dynamic,$={};return Object.keys(P).forEach(function(N){var k=P[N],D;if(typeof k=="number"||typeof k=="boolean")D=bn(function(){return k});else if(typeof k=="function"){var S=k._reglType;S==="texture2d"||S==="textureCube"?D=bn(function(b){return b.link(k)}):S==="framebuffer"||S==="framebufferCube"?(_.command(k.color.length>0,'missing color attachment for framebuffer sent to uniform "'+N+'"',m.commandStr),D=bn(function(b){return b.link(k.color[0])})):_.commandRaise('invalid data for uniform "'+N+'"',m.commandStr)}else Jt(k)?D=bn(function(b){var A=b.global.def("[",Yt(k.length,function(U){return _.command(typeof k[U]=="number"||typeof k[U]=="boolean","invalid uniform "+N,b.commandStr),k[U]}),"]");return A}):_.commandRaise('invalid or missing data for uniform "'+N+'"',m.commandStr);D.value=k,$[N]=D}),Object.keys(F).forEach(function(N){var k=F[N];$[N]=gr(k,function(D,S){return D.invoke(S,k)})}),$}function kn(w,m){var P=w.static,F=w.dynamic,$={};return Object.keys(P).forEach(function(N){var k=P[N],D=y.id(N),S=new B;if(Jf(k))S.state=Ml,S.buffer=ne.getBuffer(ne.create(k,Dl,!1,!0)),S.type=0;else{var b=ne.getBuffer(k);if(b)S.state=Ml,S.buffer=b,S.type=0;else if(_.command(typeof k=="object"&&k,"invalid data for attribute "+N,m.commandStr),"constant"in k){var A=k.constant;S.buffer="null",S.state=p1,typeof A=="number"?S.x=A:(_.command(Jt(A)&&A.length>0&&A.length<=4,"invalid constant for attribute "+N,m.commandStr),kl.forEach(function(Ke,$e){$e<A.length&&(S[Ke]=A[$e])}))}else{Jf(k.buffer)?b=ne.getBuffer(ne.create(k.buffer,Dl,!1,!0)):b=ne.getBuffer(k.buffer),_.command(!!b,'missing buffer for attribute "'+N+'"',m.commandStr);var U=k.offset|0;_.command(U>=0,'invalid offset for attribute "'+N+'"',m.commandStr);var z=k.stride|0;_.command(z>=0&&z<256,'invalid stride for attribute "'+N+'", must be integer betweeen [0, 255]',m.commandStr);var ee=k.size|0;_.command(!("size"in k)||ee>0&&ee<=4,'invalid size for attribute "'+N+'", must be 1,2,3,4',m.commandStr);var ie=!!k.normalized,Ee=0;"type"in k&&(_.commandParameter(k.type,ya,"invalid type for attribute "+N,m.commandStr),Ee=ya[k.type]);var ot=k.divisor|0;_.optional(function(){"divisor"in k&&(_.command(ot===0||me,'cannot specify divisor for attribute "'+N+'", instancing not supported',m.commandStr),_.command(ot>=0,'invalid divisor for attribute "'+N+'"',m.commandStr));var Ke=m.commandStr,$e=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(k).forEach(function(le){_.command($e.indexOf(le)>=0,'unknown parameter "'+le+'" for attribute pointer "'+N+'" (valid parameters are '+$e+")",Ke)})}),S.buffer=b,S.state=Ml,S.size=ee,S.normalized=ie,S.type=Ee||b.dtype,S.offset=U,S.stride=z,S.divisor=ot}}$[N]=bn(function(Ke,$e){var le=Ke.attribCache;if(D in le)return le[D];var Z={isStream:!1};return Object.keys(S).forEach(function(Ye){Z[Ye]=S[Ye]}),S.buffer&&(Z.buffer=Ke.link(S.buffer),Z.type=Z.type||Z.buffer+".dtype"),le[D]=Z,Z})}),Object.keys(F).forEach(function(N){var k=F[N];function D(S,b){var A=S.invoke(b,k),U=S.shared,z=S.constants,ee=U.isBufferArgs,ie=U.buffer;_.optional(function(){S.assert(b,A+"&&(typeof "+A+'==="object"||typeof '+A+'==="function")&&('+ee+"("+A+")||"+ie+".getBuffer("+A+")||"+ie+".getBuffer("+A+".buffer)||"+ee+"("+A+'.buffer)||("constant" in '+A+"&&(typeof "+A+'.constant==="number"||'+U.isArrayLike+"("+A+".constant))))",'invalid dynamic attribute "'+N+'"')});var Ee={isStream:b.def(!1)},ot=new B;ot.state=Ml,Object.keys(ot).forEach(function(Z){Ee[Z]=b.def(""+ot[Z])});var Ke=Ee.buffer,$e=Ee.type;b("if(",ee,"(",A,")){",Ee.isStream,"=true;",Ke,"=",ie,".createStream(",Dl,",",A,");",$e,"=",Ke,".dtype;","}else{",Ke,"=",ie,".getBuffer(",A,");","if(",Ke,"){",$e,"=",Ke,".dtype;",'}else if("constant" in ',A,"){",Ee.state,"=",p1,";","if(typeof "+A+'.constant === "number"){',Ee[kl[0]],"=",A,".constant;",kl.slice(1).map(function(Z){return Ee[Z]}).join("="),"=0;","}else{",kl.map(function(Z,Ye){return Ee[Z]+"="+A+".constant.length>"+Ye+"?"+A+".constant["+Ye+"]:0;"}).join(""),"}}else{","if(",ee,"(",A,".buffer)){",Ke,"=",ie,".createStream(",Dl,",",A,".buffer);","}else{",Ke,"=",ie,".getBuffer(",A,".buffer);","}",$e,'="type" in ',A,"?",z.glTypes,"[",A,".type]:",Ke,".dtype;",Ee.normalized,"=!!",A,".normalized;");function le(Z){b(Ee[Z],"=",A,".",Z,"|0;")}return le("size"),le("offset"),le("stride"),le("divisor"),b("}}"),b.exit("if(",Ee.isStream,"){",ie,".destroyStream(",Ke,");","}"),Ee}$[N]=gr(k,D)}),$}function en(w){var m=w.static,P=w.dynamic,F={};return Object.keys(m).forEach(function($){var N=m[$];F[$]=bn(function(k,D){return typeof N=="number"||typeof N=="boolean"?""+N:k.link(N)})}),Object.keys(P).forEach(function($){var N=P[$];F[$]=gr(N,function(k,D){return k.invoke(D,N)})}),F}function Ln(w,m,P,F,$){var N=w.static,k=w.dynamic;_.optional(function(){var le=[So,hu,pu,To,Ao,jf,Co,Uf,du,mu].concat(et);function Z(Ye){Object.keys(Ye).forEach(function(Ve){_.command(le.indexOf(Ve)>=0,'unknown parameter "'+Ve+'"',$.commandStr)})}Z(N),Z(k)});var D=ut(w,m),S=Ie(w),b=it(w,S,$),A=nn(w,$),U=ln(w,$),z=St(w,$,D);function ee(le){var Z=b[le];Z&&(U[le]=Z)}ee(Qi),ee(Ue(Gf));var ie=Object.keys(U).length>0,Ee={framebuffer:S,draw:A,shader:z,state:U,dirty:ie,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ee.profile=Pe(w),Ee.uniforms=Ct(P,$),Ee.drawVAO=Ee.scopeVAO=A.vao,!Ee.drawVAO&&z.program&&!D&&L.angle_instanced_arrays&&A.static.elements){var ot=!0,Ke=z.program.attributes.map(function(le){var Z=m.static[le];return ot=ot&&!!Z,Z});if(ot&&Ke.length>0){var $e=ge.getVAO(ge.createVAO({attributes:Ke,elements:A.static.elements}));Ee.drawVAO=new zn(null,null,null,function(le,Z){return le.link($e)}),Ee.useVAO=!0}}return D?Ee.useVAO=!0:Ee.attributes=kn(m,$),Ee.context=en(F),Ee}function Mn(w,m,P){var F=w.shared,$=F.context,N=w.scope();Object.keys(P).forEach(function(k){m.save($,"."+k);var D=P[k],S=D.append(w,m);Array.isArray(S)?N($,".",k,"=[",S.join(),"];"):N($,".",k,"=",S,";")}),m(N)}function Nn(w,m,P,F){var $=w.shared,N=$.gl,k=$.framebuffer,D;De&&(D=m.def($.extensions,".webgl_draw_buffers"));var S=w.constants,b=S.drawBuffer,A=S.backBuffer,U;P?U=P.append(w,m):U=m.def(k,".next"),F||m("if(",U,"!==",k,".cur){"),m("if(",U,"){",N,".bindFramebuffer(",V2,",",U,".framebuffer);"),De&&m(D,".drawBuffersWEBGL(",b,"[",U,".colorAttachments.length]);"),m("}else{",N,".bindFramebuffer(",V2,",null);"),De&&m(D,".drawBuffersWEBGL(",A,");"),m("}",k,".cur=",U,";"),F||m("}")}function Vn(w,m,P){var F=w.shared,$=F.gl,N=w.current,k=w.next,D=F.current,S=F.next,b=w.cond(D,".dirty");et.forEach(function(A){var U=Ue(A);if(!(U in P.state)){var z,ee;if(U in k){z=k[U],ee=N[U];var ie=Yt(Ne[U].length,function(ot){return b.def(z,"[",ot,"]")});b(w.cond(ie.map(function(ot,Ke){return ot+"!=="+ee+"["+Ke+"]"}).join("||")).then($,".",te[U],"(",ie,");",ie.map(function(ot,Ke){return ee+"["+Ke+"]="+ot}).join(";"),";"))}else{z=b.def(S,".",U);var Ee=w.cond(z,"!==",D,".",U);b(Ee),U in re?Ee(w.cond(z).then($,".enable(",re[U],");").else($,".disable(",re[U],");"),D,".",U,"=",z,";"):Ee($,".",te[U],"(",z,");",D,".",U,"=",z,";")}}}),Object.keys(P.state).length===0&&b(D,".dirty=false;"),m(b)}function Yn(w,m,P,F){var $=w.shared,N=w.current,k=$.current,D=$.gl;X2(Object.keys(P)).forEach(function(S){var b=P[S];if(!(F&&!F(b))){var A=b.append(w,m);if(re[S]){var U=re[S];La(b)?A?m(D,".enable(",U,");"):m(D,".disable(",U,");"):m(w.cond(A).then(D,".enable(",U,");").else(D,".disable(",U,");")),m(k,".",S,"=",A,";")}else if(Jt(A)){var z=N[S];m(D,".",te[S],"(",A,");",A.map(function(ee,ie){return z+"["+ie+"]="+ee}).join(";"),";")}else m(D,".",te[S],"(",A,");",k,".",S,"=",A,";")}})}function vn(w,m){me&&(w.instancing=m.def(w.shared.extensions,".angle_instanced_arrays"))}function ht(w,m,P,F,$){var N=w.shared,k=w.stats,D=N.current,S=N.timer,b=P.profile;function A(){return typeof performance>"u"?"Date.now()":"performance.now()"}var U,z;function ee(le){U=m.def(),le(U,"=",A(),";"),typeof $=="string"?le(k,".count+=",$,";"):le(k,".count++;"),he&&(F?(z=m.def(),le(z,"=",S,".getNumPendingQueries();")):le(S,".beginQuery(",k,");"))}function ie(le){le(k,".cpuTime+=",A(),"-",U,";"),he&&(F?le(S,".pushScopeStats(",z,",",S,".getNumPendingQueries(),",k,");"):le(S,".endQuery();"))}function Ee(le){var Z=m.def(D,".profile");m(D,".profile=",le,";"),m.exit(D,".profile=",Z,";")}var ot;if(b){if(La(b)){b.enable?(ee(m),ie(m.exit),Ee("true")):Ee("false");return}ot=b.append(w,m),Ee(ot)}else ot=m.def(D,".profile");var Ke=w.block();ee(Ke),m("if(",ot,"){",Ke,"}");var $e=w.block();ie($e),m.exit("if(",ot,"){",$e,"}")}function qn(w,m,P,F,$){var N=w.shared;function k(S){switch(S){case Vf:case Xf:case Qf:return 2;case Hf:case Yf:case Zf:return 3;case Wf:case qf:case Kf:return 4;default:return 1}}function D(S,b,A){var U=N.gl,z=m.def(S,".location"),ee=m.def(N.attributes,"[",z,"]"),ie=A.state,Ee=A.buffer,ot=[A.x,A.y,A.z,A.w],Ke=["buffer","normalized","offset","stride"];function $e(){m("if(!",ee,".buffer){",U,".enableVertexAttribArray(",z,");}");var Z=A.type,Ye;if(A.size?Ye=m.def(A.size,"||",b):Ye=b,m("if(",ee,".type!==",Z,"||",ee,".size!==",Ye,"||",Ke.map(function(at){return ee+"."+at+"!=="+A[at]}).join("||"),"){",U,".bindBuffer(",Dl,",",Ee,".buffer);",U,".vertexAttribPointer(",[z,Ye,Z,A.normalized,A.stride,A.offset],");",ee,".type=",Z,";",ee,".size=",Ye,";",Ke.map(function(at){return ee+"."+at+"="+A[at]+";"}).join(""),"}"),me){var Ve=A.divisor;m("if(",ee,".divisor!==",Ve,"){",w.instancing,".vertexAttribDivisorANGLE(",[z,Ve],");",ee,".divisor=",Ve,";}")}}function le(){m("if(",ee,".buffer){",U,".disableVertexAttribArray(",z,");",ee,".buffer=null;","}if(",kl.map(function(Z,Ye){return ee+"."+Z+"!=="+ot[Ye]}).join("||"),"){",U,".vertexAttrib4f(",z,",",ot,");",kl.map(function(Z,Ye){return ee+"."+Z+"="+ot[Ye]+";"}).join(""),"}")}ie===Ml?$e():ie===p1?le():(m("if(",ie,"===",Ml,"){"),$e(),m("}else{"),le(),m("}"))}F.forEach(function(S){var b=S.name,A=P.attributes[b],U;if(A){if(!$(A))return;U=A.append(w,m)}else{if(!$(Y2))return;var z=w.scopeAttrib(b);_.optional(function(){w.assert(m,z+".state","missing attribute "+b)}),U={},Object.keys(new B).forEach(function(ee){U[ee]=m.def(z,".",ee)})}D(w.link(S),k(S.info.type),U)})}function zt(w,m,P,F,$,N){for(var k=w.shared,D=k.gl,S={},b,A=0;A<F.length;++A){var U=F[A],z=U.name,ee=U.info.type,ie=U.info.size,Ee=P.uniforms[z];if(ie>1){if(!Ee)continue;var ot=z.replace("[0]","");if(S[ot])continue;S[ot]=1}var Ke=w.link(U),$e=Ke+".location",le;if(Ee){if(!$(Ee))continue;if(La(Ee)){var Z=Ee.value;if(_.command(Z!==null&&typeof Z<"u",'missing uniform "'+z+'"',w.commandStr),ee===xu||ee===_u){_.command(typeof Z=="function"&&(ee===xu&&(Z._reglType==="texture2d"||Z._reglType==="framebuffer")||ee===_u&&(Z._reglType==="textureCube"||Z._reglType==="framebufferCube")),"invalid texture for uniform "+z,w.commandStr);var Ye=w.link(Z._texture||Z.color[0]._texture);m(D,".uniform1i(",$e,",",Ye+".bind());"),m.exit(Ye,".unbind();")}else if(ee===vu||ee===gu||ee===yu){_.optional(function(){_.command(Jt(Z),"invalid matrix for uniform "+z,w.commandStr),_.command(ee===vu&&Z.length===4||ee===gu&&Z.length===9||ee===yu&&Z.length===16,"invalid length for matrix uniform "+z,w.commandStr)});var Ve=w.global.def("new Float32Array(["+Array.prototype.slice.call(Z)+"])"),at=2;ee===gu?at=3:ee===yu&&(at=4),m(D,".uniformMatrix",at,"fv(",$e,",false,",Ve,");")}else{switch(ee){case O1:ie===1?_.commandType(Z,"number","uniform "+z,w.commandStr):_.command(Jt(Z)&&Z.length===ie,"uniform "+z,w.commandStr),b="1f";break;case Vf:_.command(Jt(Z)&&Z.length&&Z.length%2===0&&Z.length<=ie*2,"uniform "+z,w.commandStr),b="2f";break;case Hf:_.command(Jt(Z)&&Z.length&&Z.length%3===0&&Z.length<=ie*3,"uniform "+z,w.commandStr),b="3f";break;case Wf:_.command(Jt(Z)&&Z.length&&Z.length%4===0&&Z.length<=ie*4,"uniform "+z,w.commandStr),b="4f";break;case M1:ie===1?_.commandType(Z,"boolean","uniform "+z,w.commandStr):_.command(Jt(Z)&&Z.length===ie,"uniform "+z,w.commandStr),b="1i";break;case k1:ie===1?_.commandType(Z,"number","uniform "+z,w.commandStr):_.command(Jt(Z)&&Z.length===ie,"uniform "+z,w.commandStr),b="1i";break;case Qf:_.command(Jt(Z)&&Z.length&&Z.length%2===0&&Z.length<=ie*2,"uniform "+z,w.commandStr),b="2i";break;case Xf:_.command(Jt(Z)&&Z.length&&Z.length%2===0&&Z.length<=ie*2,"uniform "+z,w.commandStr),b="2i";break;case Zf:_.command(Jt(Z)&&Z.length&&Z.length%3===0&&Z.length<=ie*3,"uniform "+z,w.commandStr),b="3i";break;case Yf:_.command(Jt(Z)&&Z.length&&Z.length%3===0&&Z.length<=ie*3,"uniform "+z,w.commandStr),b="3i";break;case Kf:_.command(Jt(Z)&&Z.length&&Z.length%4===0&&Z.length<=ie*4,"uniform "+z,w.commandStr),b="4i";break;case qf:_.command(Jt(Z)&&Z.length&&Z.length%4===0&&Z.length<=ie*4,"uniform "+z,w.commandStr),b="4i";break}ie>1?(b+="v",Z=w.global.def("["+Array.prototype.slice.call(Z)+"]")):Z=Jt(Z)?Array.prototype.slice.call(Z):Z,m(D,".uniform",b,"(",$e,",",Z,");")}continue}else le=Ee.append(w,m)}else{if(!$(Y2))continue;le=m.def(k.uniforms,"[",y.id(z),"]")}ee===xu?(_(!Array.isArray(le),"must specify a scalar prop for textures"),m("if(",le,"&&",le,'._reglType==="framebuffer"){',le,"=",le,".color[0];","}")):ee===_u&&(_(!Array.isArray(le),"must specify a scalar prop for cube maps"),m("if(",le,"&&",le,'._reglType==="framebufferCube"){',le,"=",le,".color[0];","}")),_.optional(function(){function Or(yr,e0){w.assert(m,yr,'bad data or missing for uniform "'+z+'".  '+e0)}function Oo(yr,e0){e0===1&&_(!Array.isArray(le),"must not specify an array type for uniform"),Or("Array.isArray("+le+") && typeof "+le+'[0]===" '+yr+'" || typeof '+le+'==="'+yr+'"',"invalid type, expected "+yr)}function Vr(yr,e0,t0){Array.isArray(le)?_(le.length&&le.length%yr===0&&le.length<=yr*t0,"must have length of "+(t0===1?"":"n * ")+yr):Or(k.isArrayLike+"("+le+")&&"+le+".length && "+le+".length % "+yr+" === 0 && "+le+".length<="+yr*t0,"invalid vector, should have length of "+(t0===1?"":"n * ")+yr,w.commandStr)}function tg(yr){_(!Array.isArray(le),"must not specify a value type"),Or("typeof "+le+'==="function"&&'+le+'._reglType==="texture'+(yr===$2?"2d":"Cube")+'"',"invalid texture type",w.commandStr)}switch(ee){case k1:Oo("number",ie);break;case Xf:Vr(2,"number",ie);break;case Yf:Vr(3,"number",ie);break;case qf:Vr(4,"number",ie);break;case O1:Oo("number",ie);break;case Vf:Vr(2,"number",ie);break;case Hf:Vr(3,"number",ie);break;case Wf:Vr(4,"number",ie);break;case M1:Oo("boolean",ie);break;case Qf:Vr(2,"boolean",ie);break;case Zf:Vr(3,"boolean",ie);break;case Kf:Vr(4,"boolean",ie);break;case vu:Vr(4,"number",ie);break;case gu:Vr(9,"number",ie);break;case yu:Vr(16,"number",ie);break;case xu:tg($2);break;case _u:tg(S8);break}});var Ut=1;switch(ee){case xu:case _u:var Qn=m.def(le,"._texture");m(D,".uniform1i(",$e,",",Qn,".bind());"),m.exit(Qn,".unbind();");continue;case k1:case M1:b="1i";break;case Xf:case Qf:b="2i",Ut=2;break;case Yf:case Zf:b="3i",Ut=3;break;case qf:case Kf:b="4i",Ut=4;break;case O1:b="1f";break;case Vf:b="2f",Ut=2;break;case Hf:b="3f",Ut=3;break;case Wf:b="4f",Ut=4;break;case vu:b="Matrix2fv";break;case gu:b="Matrix3fv";break;case yu:b="Matrix4fv";break}if(b.indexOf("Matrix")===-1&&ie>1&&(b+="v",Ut=1),b.charAt(0)==="M"){m(D,".uniform",b,"(",$e,",");var Ro=Math.pow(ee-vu+2,2),Zi=w.global.def("new Float32Array(",Ro,")");Array.isArray(le)?m("false,(",Yt(Ro,function(Or){return Zi+"["+Or+"]="+le[Or]}),",",Zi,")"):m("false,(Array.isArray(",le,")||",le," instanceof Float32Array)?",le,":(",Yt(Ro,function(Or){return Zi+"["+Or+"]="+le+"["+Or+"]"}),",",Zi,")"),m(");")}else if(Ut>1){for(var Li=[],Ra=[],Po=0;Po<Ut;++Po)Array.isArray(le)?Ra.push(le[Po]):Ra.push(m.def(le+"["+Po+"]")),N&&Li.push(m.def());N&&m("if(!",w.batchId,"||",Li.map(function(Or,Oo){return Or+"!=="+Ra[Oo]}).join("||"),"){",Li.map(function(Or,Oo){return Or+"="+Ra[Oo]+";"}).join("")),m(D,".uniform",b,"(",$e,",",Ra.join(","),");"),N&&m("}")}else{if(_(!Array.isArray(le),"uniform value must not be an array"),N){var eg=m.def();m("if(!",w.batchId,"||",eg,"!==",le,"){",eg,"=",le,";")}m(D,".uniform",b,"(",$e,",",le,");"),N&&m("}")}}}function rt(w,m,P,F){var $=w.shared,N=$.gl,k=$.draw,D=F.draw;function S(){var Ye=D.elements,Ve,at=m;return Ye?((Ye.contextDep&&F.contextDynamic||Ye.propDep)&&(at=P),Ve=Ye.append(w,at),D.elementsActive&&at("if("+Ve+")"+N+".bindBuffer("+P1+","+Ve+".buffer.buffer);")):(Ve=at.def(),at(Ve,"=",k,".",To,";","if(",Ve,"){",N,".bindBuffer(",P1,",",Ve,".buffer.buffer);}","else if(",$.vao,".currentVAO){",Ve,"=",w.shared.elements+".getElements("+$.vao,".currentVAO.elements);",se?"":"if("+Ve+")"+N+".bindBuffer("+P1+","+Ve+".buffer.buffer);","}")),Ve}function b(){var Ye=D.count,Ve,at=m;return Ye?((Ye.contextDep&&F.contextDynamic||Ye.propDep)&&(at=P),Ve=Ye.append(w,at),_.optional(function(){Ye.MISSING&&w.assert(m,"false","missing vertex count"),Ye.DYNAMIC&&w.assert(at,Ve+">=0","missing vertex count")})):(Ve=at.def(k,".",Co),_.optional(function(){w.assert(at,Ve+">=0","missing vertex count")})),Ve}var A=S();function U(Ye){var Ve=D[Ye];return Ve?Ve.contextDep&&F.contextDynamic||Ve.propDep?Ve.append(w,P):Ve.append(w,m):m.def(k,".",Ye)}var z=U(Ao),ee=U(jf),ie=b();if(typeof ie=="number"){if(ie===0)return}else P("if(",ie,"){"),P.exit("}");var Ee,ot;me&&(Ee=U(Uf),ot=w.instancing);var Ke=A+".type",$e=D.elements&&La(D.elements)&&!D.vaoActive;function le(){function Ye(){P(ot,".drawElementsInstancedANGLE(",[z,ie,Ke,ee+"<<(("+Ke+"-"+y2+")>>1)",Ee],");")}function Ve(){P(ot,".drawArraysInstancedANGLE(",[z,ee,ie,Ee],");")}A&&A!=="null"?$e?Ye():(P("if(",A,"){"),Ye(),P("}else{"),Ve(),P("}")):Ve()}function Z(){function Ye(){P(N+".drawElements("+[z,ie,Ke,ee+"<<(("+Ke+"-"+y2+")>>1)"]+");")}function Ve(){P(N+".drawArrays("+[z,ee,ie]+");")}A&&A!=="null"?$e?Ye():(P("if(",A,"){"),Ye(),P("}else{"),Ve(),P("}")):Ve()}me&&(typeof Ee!="number"||Ee>=0)?typeof Ee=="string"?(P("if(",Ee,">0){"),le(),P("}else if(",Ee,"<0){"),Z(),P("}")):le():Z()}function Tt(w,m,P,F,$){var N=lt(),k=N.proc("body",$);return _.optional(function(){N.commandStr=m.commandStr,N.command=N.link(m.commandStr)}),me&&(N.instancing=k.def(N.shared.extensions,".angle_instanced_arrays")),w(N,k,P,F),N.compile().body}function kt(w,m,P,F){vn(w,m),P.useVAO?P.drawVAO?m(w.shared.vao,".setVAO(",P.drawVAO.append(w,m),");"):m(w.shared.vao,".setVAO(",w.shared.vao,".targetVAO);"):(m(w.shared.vao,".setVAO(null);"),qn(w,m,P,F.attributes,function(){return!0})),zt(w,m,P,F.uniforms,function(){return!0},!1),rt(w,m,m,P)}function gn(w,m){var P=w.proc("draw",1);vn(w,P),Mn(w,P,m.context),Nn(w,P,m.framebuffer),Vn(w,P,m),Yn(w,P,m.state),ht(w,P,m,!1,!0);var F=m.shader.progVar.append(w,P);if(P(w.shared.gl,".useProgram(",F,".program);"),m.shader.program)kt(w,P,m,m.shader.program);else{P(w.shared.vao,".setVAO(null);");var $=w.global.def("{}"),N=P.def(F,".id"),k=P.def($,"[",N,"]");P(w.cond(k).then(k,".call(this,a0);").else(k,"=",$,"[",N,"]=",w.link(function(D){return Tt(kt,w,m,D,1)}),"(",F,");",k,".call(this,a0);"))}Object.keys(m.state).length>0&&P(w.shared.current,".dirty=true;"),w.shared.vao&&P(w.shared.vao,".setVAO(null);")}function bi(w,m,P,F){w.batchId="a1",vn(w,m);function $(){return!0}qn(w,m,P,F.attributes,$),zt(w,m,P,F.uniforms,$,!1),rt(w,m,m,P)}function Lo(w,m,P,F){vn(w,m);var $=P.contextDep,N=m.def(),k="a0",D="a1",S=m.def();w.shared.props=S,w.batchId=N;var b=w.scope(),A=w.scope();m(b.entry,"for(",N,"=0;",N,"<",D,";++",N,"){",S,"=",k,"[",N,"];",A,"}",b.exit);function U(Ke){return Ke.contextDep&&$||Ke.propDep}function z(Ke){return!U(Ke)}if(P.needsContext&&Mn(w,A,P.context),P.needsFramebuffer&&Nn(w,A,P.framebuffer),Yn(w,A,P.state,U),P.profile&&U(P.profile)&&ht(w,A,P,!1,!0),F)P.useVAO?P.drawVAO?U(P.drawVAO)?A(w.shared.vao,".setVAO(",P.drawVAO.append(w,A),");"):b(w.shared.vao,".setVAO(",P.drawVAO.append(w,b),");"):b(w.shared.vao,".setVAO(",w.shared.vao,".targetVAO);"):(b(w.shared.vao,".setVAO(null);"),qn(w,b,P,F.attributes,z),qn(w,A,P,F.attributes,U)),zt(w,b,P,F.uniforms,z,!1),zt(w,A,P,F.uniforms,U,!0),rt(w,b,A,P);else{var ee=w.global.def("{}"),ie=P.shader.progVar.append(w,A),Ee=A.def(ie,".id"),ot=A.def(ee,"[",Ee,"]");A(w.shared.gl,".useProgram(",ie,".program);","if(!",ot,"){",ot,"=",ee,"[",Ee,"]=",w.link(function(Ke){return Tt(bi,w,P,Ke,2)}),"(",ie,");}",ot,".call(this,a0[",N,"],",N,");")}}function C(w,m){var P=w.proc("batch",2);w.batchId="0",vn(w,P);var F=!1,$=!0;Object.keys(m.context).forEach(function(ee){F=F||m.context[ee].propDep}),F||(Mn(w,P,m.context),$=!1);var N=m.framebuffer,k=!1;N?(N.propDep?F=k=!0:N.contextDep&&F&&(k=!0),k||Nn(w,P,N)):Nn(w,P,null),m.state.viewport&&m.state.viewport.propDep&&(F=!0);function D(ee){return ee.contextDep&&F||ee.propDep}Vn(w,P,m),Yn(w,P,m.state,function(ee){return!D(ee)}),(!m.profile||!D(m.profile))&&ht(w,P,m,!1,"a1"),m.contextDep=F,m.needsContext=$,m.needsFramebuffer=k;var S=m.shader.progVar;if(S.contextDep&&F||S.propDep)Lo(w,P,m,null);else{var b=S.append(w,P);if(P(w.shared.gl,".useProgram(",b,".program);"),m.shader.program)Lo(w,P,m,m.shader.program);else{P(w.shared.vao,".setVAO(null);");var A=w.global.def("{}"),U=P.def(b,".id"),z=P.def(A,"[",U,"]");P(w.cond(z).then(z,".call(this,a0,a1);").else(z,"=",A,"[",U,"]=",w.link(function(ee){return Tt(Lo,w,m,ee,2)}),"(",b,");",z,".call(this,a0,a1);"))}}Object.keys(m.state).length>0&&P(w.shared.current,".dirty=true;"),w.shared.vao&&P(w.shared.vao,".setVAO(null);")}function X(w,m){var P=w.proc("scope",3);w.batchId="a2";var F=w.shared,$=F.current;Mn(w,P,m.context),m.framebuffer&&m.framebuffer.append(w,P),X2(Object.keys(m.state)).forEach(function(k){var D=m.state[k],S=D.append(w,P);Jt(S)?S.forEach(function(b,A){P.set(w.next[k],"["+A+"]",b)}):P.set(F.next,"."+k,S)}),ht(w,P,m,!0,!0),[To,jf,Co,Uf,Ao].forEach(function(k){var D=m.draw[k];D&&P.set(F.draw,"."+k,""+D.append(w,P))}),Object.keys(m.uniforms).forEach(function(k){var D=m.uniforms[k].append(w,P);Array.isArray(D)&&(D="["+D.join()+"]"),P.set(F.uniforms,"["+y.id(k)+"]",D)}),Object.keys(m.attributes).forEach(function(k){var D=m.attributes[k].append(w,P),S=w.scopeAttrib(k);Object.keys(new B).forEach(function(b){P.set(S,"."+b,D[b])})}),m.scopeVAO&&P.set(F.vao,".targetVAO",m.scopeVAO.append(w,P));function N(k){var D=m.shader[k];D&&P.set(F.shader,"."+k,D.append(w,P))}N(hu),N(pu),Object.keys(m.state).length>0&&(P($,".dirty=true;"),P.exit($,".dirty=true;")),P("a1(",w.shared.context,",a0,",w.batchId,");")}function V(w){if(!(typeof w!="object"||Jt(w))){for(var m=Object.keys(w),P=0;P<m.length;++P)if(Rt.isDynamic(w[m[P]]))return!0;return!1}}function Ge(w,m,P){var F=m.static[P];if(!F||!V(F))return;var $=w.global,N=Object.keys(F),k=!1,D=!1,S=!1,b=w.global.def("{}");N.forEach(function(U){var z=F[U];if(Rt.isDynamic(z)){typeof z=="function"&&(z=F[U]=Rt.unbox(z));var ee=gr(z,null);k=k||ee.thisDep,S=S||ee.propDep,D=D||ee.contextDep}else{switch($(b,".",U,"="),typeof z){case"number":$(z);break;case"string":$('"',z,'"');break;case"object":Array.isArray(z)&&$("[",z.join(),"]");break;default:$(w.link(z));break}$(";")}});function A(U,z){N.forEach(function(ee){var ie=F[ee];if(Rt.isDynamic(ie)){var Ee=U.invoke(z,ie);z(b,".",ee,"=",Ee,";")}})}m.dynamic[P]=new Rt.DynamicVariable(zf,{thisDep:k,contextDep:D,propDep:S,ref:b,append:A}),delete m.static[P]}function _t(w,m,P,F,$){var N=lt();N.stats=N.link($),Object.keys(m.static).forEach(function(D){Ge(N,m,D)}),_8.forEach(function(D){Ge(N,w,D)});var k=Ln(w,m,P,F,N);return gn(N,k),X(N,k),C(N,k),r(N.compile(),{destroy:function(){k.shader.program.destroy()}})}return{next:Re,current:Ne,procs:function(){var w=lt(),m=w.proc("poll"),P=w.proc("refresh"),F=w.block();m(F),P(F);var $=w.shared,N=$.gl,k=$.next,D=$.current;F(D,".dirty=false;"),Nn(w,m),Nn(w,P,null,!0);var S;me&&(S=w.link(me)),L.oes_vertex_array_object&&P(w.link(L.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var b=0;b<W.maxAttributes;++b){var A=P.def($.attributes,"[",b,"]"),U=w.cond(A,".buffer");U.then(N,".enableVertexAttribArray(",b,");",N,".bindBuffer(",Dl,",",A,".buffer.buffer);",N,".vertexAttribPointer(",b,",",A,".size,",A,".type,",A,".normalized,",A,".stride,",A,".offset);").else(N,".disableVertexAttribArray(",b,");",N,".vertexAttrib4f(",b,",",A,".x,",A,".y,",A,".z,",A,".w);",A,".buffer=null;"),P(U),me&&P(S,".vertexAttribDivisorANGLE(",b,",",A,".divisor);")}return P(w.shared.vao,".currentVAO=null;",w.shared.vao,".setVAO(",w.shared.vao,".targetVAO);"),Object.keys(re).forEach(function(z){var ee=re[z],ie=F.def(k,".",z),Ee=w.block();Ee("if(",ie,"){",N,".enable(",ee,")}else{",N,".disable(",ee,")}",D,".",z,"=",ie,";"),P(Ee),m("if(",ie,"!==",D,".",z,"){",Ee,"}")}),Object.keys(te).forEach(function(z){var ee=te[z],ie=Ne[z],Ee,ot,Ke=w.block();if(Ke(N,".",ee,"("),Jt(ie)){var $e=ie.length;Ee=w.global.def(k,".",z),ot=w.global.def(D,".",z),Ke(Yt($e,function(le){return Ee+"["+le+"]"}),");",Yt($e,function(le){return ot+"["+le+"]="+Ee+"["+le+"];"}).join("")),m("if(",Yt($e,function(le){return Ee+"["+le+"]!=="+ot+"["+le+"]"}).join("||"),"){",Ke,"}")}else Ee=F.def(k,".",z),ot=F.def(D,".",z),Ke(Ee,");",D,".",z,"=",Ee,";"),m("if(",Ee,"!==",ot,"){",Ke,"}");P(Ke)}),w.compile()}(),compile:_t}}function $8(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var z8=34918,G8=34919,q2=35007,j8=function(h,y){if(!y.ext_disjoint_timer_query)return null;var L=[];function W(){return L.pop()||y.ext_disjoint_timer_query.createQueryEXT()}function ne(me){L.push(me)}var H=[];function Q(me){var De=W();y.ext_disjoint_timer_query.beginQueryEXT(q2,De),H.push(De),he(H.length-1,H.length,me)}function fe(){y.ext_disjoint_timer_query.endQueryEXT(q2)}function ce(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ge=[];function xe(){return ge.pop()||new ce}function ye(me){ge.push(me)}var Se=[];function he(me,De,se){var Ne=xe();Ne.startQueryIndex=me,Ne.endQueryIndex=De,Ne.sum=0,Ne.stats=se,Se.push(Ne)}var ve=[],B=[];function Y(){var me,De,se=H.length;if(se!==0){B.length=Math.max(B.length,se+1),ve.length=Math.max(ve.length,se+1),ve[0]=0,B[0]=0;var Ne=0;for(me=0,De=0;De<H.length;++De){var Re=H[De];y.ext_disjoint_timer_query.getQueryObjectEXT(Re,G8)?(Ne+=y.ext_disjoint_timer_query.getQueryObjectEXT(Re,z8),ne(Re)):H[me++]=Re,ve[De+1]=Ne,B[De+1]=me}for(H.length=me,me=0,De=0;De<Se.length;++De){var et=Se[De],re=et.startQueryIndex,te=et.endQueryIndex;et.sum+=ve[te]-ve[re];var Ue=B[re],Ae=B[te];Ae===Ue?(et.stats.gpuTime+=et.sum/1e6,ye(et)):(et.startQueryIndex=Ue,et.endQueryIndex=Ae,Se[me++]=et)}Se.length=me}}return{beginQuery:Q,endQuery:fe,pushScopeStats:he,update:Y,getNumPendingQueries:function(){return H.length},clear:function(){L.push.apply(L,H);for(var me=0;me<L.length;me++)y.ext_disjoint_timer_query.deleteQueryEXT(L[me]);H.length=0,L.length=0},restore:function(){H.length=0,L.length=0}}},U8=16384,V8=256,H8=1024,W8=34962,Q2="webglcontextlost",Z2="webglcontextrestored",K2=1,X8=2,Y8=3;function J2(h,y){for(var L=0;L<h.length;++L)if(h[L]===y)return L;return-1}function q8(h){var y=dn(h);if(!y)return null;var L=y.gl,W=L.getContextAttributes(),ne=L.isContextLost(),H=Tn(L,y);if(!H)return null;var Q=nr(),fe=$8(),ce=H.extensions,ge=j8(L,ce),xe=Sn(),ye=L.drawingBufferWidth,Se=L.drawingBufferHeight,he={tick:0,time:0,viewportWidth:ye,viewportHeight:Se,framebufferWidth:ye,framebufferHeight:Se,drawingBufferWidth:ye,drawingBufferHeight:Se,pixelRatio:y.pixelRatio},ve={},B={elements:null,primitive:4,count:-1,offset:0,instances:-1},Y=Bc(L,ce),me=$s(L,fe,y,Ne),De=Vs(L,ce,me,fe),se=Te(L,ce,Y,fe,me,De,B);function Ne(rt){return se.destroyBuffer(rt)}var Re=It(L,Q,fe,y),et=Qh(L,ce,Y,function(){Ue.procs.poll()},he,fe,y),re=Zh(L,ce,Y,fe,y),te=d1(L,ce,Y,et,re,fe),Ue=B8(L,Q,ce,Y,me,De,et,te,ve,se,Re,B,he,ge,y),Ae=v8(L,te,Ue.procs.poll,he,W,ce,Y),pe=Ue.next,Ce=L.canvas,Le=[],st=[],lt=[],Pe=[y.onDestroy],Ie=null;function it(){if(Le.length===0){ge&&ge.update(),Ie=null;return}Ie=mn.next(it),Yn();for(var rt=Le.length-1;rt>=0;--rt){var Tt=Le[rt];Tt&&Tt(he,null,0)}L.flush(),ge&&ge.update()}function ut(){!Ie&&Le.length>0&&(Ie=mn.next(it))}function St(){Ie&&(mn.cancel(it),Ie=null)}function nn(rt){rt.preventDefault(),ne=!0,St(),st.forEach(function(Tt){Tt()})}function ln(rt){L.getError(),ne=!1,H.restore(),Re.restore(),me.restore(),et.restore(),re.restore(),te.restore(),se.restore(),ge&&ge.restore(),Ue.procs.refresh(),ut(),lt.forEach(function(Tt){Tt()})}Ce&&(Ce.addEventListener(Q2,nn,!1),Ce.addEventListener(Z2,ln,!1));function Ct(){Le.length=0,St(),Ce&&(Ce.removeEventListener(Q2,nn),Ce.removeEventListener(Z2,ln)),Re.clear(),te.clear(),re.clear(),se.clear(),et.clear(),De.clear(),me.clear(),ge&&ge.clear(),Pe.forEach(function(rt){rt()})}function kn(rt){_(!!rt,"invalid args to regl({...})"),_.type(rt,"object","invalid args to regl({...})");function Tt($){var N=r({},$);delete N.uniforms,delete N.attributes,delete N.context,delete N.vao,"stencil"in N&&N.stencil.op&&(N.stencil.opBack=N.stencil.opFront=N.stencil.op,delete N.stencil.op);function k(D){if(D in N){var S=N[D];delete N[D],Object.keys(S).forEach(function(b){N[D+"."+b]=S[b]})}}return k("blend"),k("depth"),k("cull"),k("stencil"),k("polygonOffset"),k("scissor"),k("sample"),"vao"in $&&(N.vao=$.vao),N}function kt($,N){var k={},D={};return Object.keys($).forEach(function(S){var b=$[S];if(Rt.isDynamic(b)){D[S]=Rt.unbox(b,S);return}else if(N&&Array.isArray(b)){for(var A=0;A<b.length;++A)if(Rt.isDynamic(b[A])){D[S]=Rt.unbox(b,S);return}}k[S]=b}),{dynamic:D,static:k}}var gn=kt(rt.context||{},!0),bi=kt(rt.uniforms||{},!0),Lo=kt(rt.attributes||{},!1),C=kt(Tt(rt),!1),X={gpuTime:0,cpuTime:0,count:0},V=Ue.compile(C,Lo,bi,gn,X),Ge=V.draw,_t=V.batch,w=V.scope,m=[];function P($){for(;m.length<$;)m.push(null);return m}function F($,N){var k;if(ne&&_.raise("context lost"),typeof $=="function")return w.call(this,null,$,0);if(typeof N=="function")if(typeof $=="number")for(k=0;k<$;++k)w.call(this,null,N,k);else if(Array.isArray($))for(k=0;k<$.length;++k)w.call(this,$[k],N,k);else return w.call(this,$,N,0);else if(typeof $=="number"){if($>0)return _t.call(this,P($|0),$|0)}else if(Array.isArray($)){if($.length)return _t.call(this,$,$.length)}else return Ge.call(this,$)}return r(F,{stats:X,destroy:function(){V.destroy()}})}var en=te.setFBO=kn({framebuffer:Rt.define.call(null,K2,"framebuffer")});function Ln(rt,Tt){var kt=0;Ue.procs.poll();var gn=Tt.color;gn&&(L.clearColor(+gn[0]||0,+gn[1]||0,+gn[2]||0,+gn[3]||0),kt|=U8),"depth"in Tt&&(L.clearDepth(+Tt.depth),kt|=V8),"stencil"in Tt&&(L.clearStencil(Tt.stencil|0),kt|=H8),_(!!kt,"called regl.clear with no buffer specified"),L.clear(kt)}function Mn(rt){if(_(typeof rt=="object"&&rt,"regl.clear() takes an object as input"),"framebuffer"in rt)if(rt.framebuffer&&rt.framebuffer_reglType==="framebufferCube")for(var Tt=0;Tt<6;++Tt)en(r({framebuffer:rt.framebuffer.faces[Tt]},rt),Ln);else en(rt,Ln);else Ln(null,rt)}function Nn(rt){_.type(rt,"function","regl.frame() callback must be a function"),Le.push(rt);function Tt(){var kt=J2(Le,rt);_(kt>=0,"cannot cancel a frame twice");function gn(){var bi=J2(Le,gn);Le[bi]=Le[Le.length-1],Le.length-=1,Le.length<=0&&St()}Le[kt]=gn}return ut(),{cancel:Tt}}function Vn(){var rt=pe.viewport,Tt=pe.scissor_box;rt[0]=rt[1]=Tt[0]=Tt[1]=0,he.viewportWidth=he.framebufferWidth=he.drawingBufferWidth=rt[2]=Tt[2]=L.drawingBufferWidth,he.viewportHeight=he.framebufferHeight=he.drawingBufferHeight=rt[3]=Tt[3]=L.drawingBufferHeight}function Yn(){he.tick+=1,he.time=ht(),Vn(),Ue.procs.poll()}function vn(){et.refresh(),Vn(),Ue.procs.refresh(),ge&&ge.update()}function ht(){return(Sn()-xe)/1e3}vn();function qn(rt,Tt){_.type(Tt,"function","listener callback must be a function");var kt;switch(rt){case"frame":return Nn(Tt);case"lost":kt=st;break;case"restore":kt=lt;break;case"destroy":kt=Pe;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return kt.push(Tt),{cancel:function(){for(var gn=0;gn<kt.length;++gn)if(kt[gn]===Tt){kt[gn]=kt[kt.length-1],kt.pop();return}}}}var zt=r(kn,{clear:Mn,prop:Rt.define.bind(null,K2),context:Rt.define.bind(null,X8),this:Rt.define.bind(null,Y8),draw:kn({}),buffer:function(rt){return me.create(rt,W8,!1,!1)},elements:function(rt){return De.create(rt,!1)},texture:et.create2D,cube:et.createCube,renderbuffer:re.create,framebuffer:te.create,framebufferCube:te.createCube,vao:se.createVAO,attributes:W,frame:Nn,on:qn,limits:Y,hasExtension:function(rt){return Y.extensions.indexOf(rt.toLowerCase())>=0},read:Ae,destroy:Ct,_gl:L,_refresh:vn,poll:function(){Yn(),ge&&ge.update()},now:ht,stats:fe});return y.onDone(null,zt),zt}return q8})})(i5);var k_=i5.exports;const M_=Gd(k_);var N_=1e-6,Yo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function cp(){var e=new Yo(16);return Yo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function _y(e){var t=new Yo(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Om(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],d=t[8],p=t[9],c=t[10],v=t[11],x=t[12],R=t[13],M=t[14],g=t[15],T=n*l-r*o,E=n*s-i*o,O=n*u-a*o,G=r*s-i*l,q=r*u-a*l,de=i*u-a*s,J=d*R-p*x,Ze=d*M-c*x,ke=d*g-v*x,je=p*M-c*R,We=p*g-v*R,nt=c*g-v*M,Qe=T*nt-E*We+O*je+G*ke-q*Ze+de*J;return Qe?(Qe=1/Qe,e[0]=(l*nt-s*We+u*je)*Qe,e[1]=(i*We-r*nt-a*je)*Qe,e[2]=(R*de-M*q+g*G)*Qe,e[3]=(c*q-p*de-v*G)*Qe,e[4]=(s*ke-o*nt-u*Ze)*Qe,e[5]=(n*nt-i*ke+a*Ze)*Qe,e[6]=(M*O-x*de-g*E)*Qe,e[7]=(d*de-c*O+v*E)*Qe,e[8]=(o*We-l*ke+u*J)*Qe,e[9]=(r*ke-n*We-a*J)*Qe,e[10]=(x*q-R*O+g*T)*Qe,e[11]=(p*O-d*q-v*T)*Qe,e[12]=(l*Ze-o*je-s*J)*Qe,e[13]=(n*je-r*Ze+i*J)*Qe,e[14]=(R*E-x*G-M*T)*Qe,e[15]=(d*G-p*E+c*T)*Qe,e):null}function fr(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],d=t[7],p=t[8],c=t[9],v=t[10],x=t[11],R=t[12],M=t[13],g=t[14],T=t[15],E=n[0],O=n[1],G=n[2],q=n[3];return e[0]=E*r+O*l+G*p+q*R,e[1]=E*i+O*s+G*c+q*M,e[2]=E*a+O*u+G*v+q*g,e[3]=E*o+O*d+G*x+q*T,E=n[4],O=n[5],G=n[6],q=n[7],e[4]=E*r+O*l+G*p+q*R,e[5]=E*i+O*s+G*c+q*M,e[6]=E*a+O*u+G*v+q*g,e[7]=E*o+O*d+G*x+q*T,E=n[8],O=n[9],G=n[10],q=n[11],e[8]=E*r+O*l+G*p+q*R,e[9]=E*i+O*s+G*c+q*M,e[10]=E*a+O*u+G*v+q*g,e[11]=E*o+O*d+G*x+q*T,E=n[12],O=n[13],G=n[14],q=n[15],e[12]=E*r+O*l+G*p+q*R,e[13]=E*i+O*s+G*c+q*M,e[14]=E*a+O*u+G*v+q*g,e[15]=E*o+O*d+G*x+q*T,e}function wy(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function U0(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I_(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),l,s,u;return o<N_?null:(o=1/o,r*=o,i*=o,a*=o,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+a*l,e[2]=a*r*u-i*l,e[3]=0,e[4]=r*i*u-a*l,e[5]=i*i*u+s,e[6]=a*i*u+r*l,e[7]=0,e[8]=r*a*u+i*l,e[9]=i*a*u-r*l,e[10]=a*a*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function D_(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function F_(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],l=t[6],s=t[8],u=t[9],d=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,l),e[2]=Math.hypot(s,u,d),e}function B_(){var e=new Yo(4);return Yo!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function V0(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=B_();return function(t,n,r,i,a,o){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],a(e,e,o),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function $_(){var e=new Yo(2);return Yo!=Float32Array&&(e[0]=0,e[1]=0),e}function z_(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),l=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=$_();return function(t,n,r,i,a,o){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],a(e,e,o),t[l]=e[0],t[l+1]=e[1];return t}})();const G_=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],a=[[-1/0,1/0],[-1/0,1/0]])=>{const o=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=cp(),d=[...r.slice(0,2),0,1];const p=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],v=Array.isArray(a[0])?[...a[0]]:[...a],x=Array.isArray(a[0])?[...a[1]]:[...a],R=()=>F_(o,u).slice(0,2),M=()=>{const be=R();return Math.min(be[0],be[1])},g=()=>{const be=R();return Math.max(be[0],be[1])},T=()=>Math.acos(u[0]/g()),E=()=>[[...p],[...c]],O=()=>[[...v],[...x]],G=()=>{const be=R();return[1/be[0],1/be[1]]},q=()=>1/M(),de=()=>1/g(),J=()=>D_(o,u).slice(0,2),Ze=()=>V0(o,d,Om(s,u)).slice(0,2),ke=()=>u,je=()=>d.slice(0,2),We=([be=0,Je=0]=[],wt=1,Lt=0)=>{u=cp(),nt([-be,-Je]),Ht(Lt),Qe(1/wt)},nt=([be=0,Je=0]=[])=>{o[0]=be,o[1]=Je,o[2]=0;const wt=wy(l,o);fr(u,wt,u)},Qe=(be,Je)=>{const wt=Array.isArray(be);let Lt=wt?be[0]:be,Xt=wt?be[1]:be;if(Lt<=0||Xt<=0||Lt===1&&Xt===1)return;const qt=R(),Nt=qt[0]*Lt,Ot=qt[1]*Xt;if(Lt=Math.max(p[0],Math.min(Nt,p[1]))/qt[0],Xt=Math.max(c[0],Math.min(Ot,c[1]))/qt[1],Lt===1&&Xt===1)return;o[0]=Lt,o[1]=Xt,o[2]=1;const pn=U0(l,o),cn=Je?[...Je,0]:d,Dn=wy(o,cn);fr(u,Dn,fr(u,pn,fr(u,Om(s,Dn),u)))},Ht=be=>{const Je=cp();I_(Je,be,[0,0,1]),fr(u,Je,u)},gt=be=>{const Je=Array.isArray(be[0]);p[0]=Je?be[0][0]:be[0],p[1]=Je?be[0][1]:be[1],c[0]=Je?be[1][0]:be[0],c[1]=Je?be[1][1]:be[1]},pt=be=>{const Je=Array.isArray(be[0]);v[0]=Je?be[0][0]:be[0],v[1]=Je?be[0][1]:be[1],x[0]=Je?be[1][0]:be[0],x[1]=Je?be[1][1]:be[1]},we=be=>{!be||be.length<16||(u=be)},Xe=be=>{d=[...be.slice(0,2),0,1]},_e=()=>{We(e,t,n)};return We(e,t,n),{get translation(){return J()},get target(){return Ze()},get scaling(){return R()},get minScaling(){return M()},get maxScaling(){return g()},get scaleBounds(){return E()},get translationBounds(){return O()},get distance(){return G()},get minDistance(){return q()},get maxDistance(){return de()},get rotation(){return T()},get view(){return ke()},get viewCenter(){return je()},lookAt:We,translate:nt,pan:nt,rotate:Ht,scale:Qe,zoom:Qe,reset:_e,set:(...be)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),we(...be)),setScaleBounds:gt,setTranslationBounds:pt,setView:we,setViewCenter:Xe}},j_=["pan","rotate"],Ey={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},U_=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:o=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:d=1,defaultMouseDownMoveAction:p="pan",mouseDownMoveModKey:c="alt",isZoom:v=!0,zoomSpeed:x=1,viewCenter:R,scaleBounds:M,translationBounds:g,onKeyDown:T=()=>{},onKeyUp:E=()=>{},onMouseDown:O=()=>{},onMouseUp:G=()=>{},onMouseMove:q=()=>{},onWheel:de=()=>{}}={})=>{let J=G_(n,t,r,R,M,g),Ze=0,ke=0,je=0,We=0,nt=0,Qe=0,Ht=!1,gt=0,pt=1,we=1,Xe=1,_e=!1,be=!1,Je=!1,wt=p==="pan",Lt=o,Xt=o,qt=l,Nt=l,Ot=v,pn=v;const cn=()=>{Lt=Array.isArray(o)?!!o[0]:o,Xt=Array.isArray(o)?!!o[1]:o,qt=Array.isArray(l)?!!l[0]:l,Nt=Array.isArray(l)?!!l[1]:l,Ot=Array.isArray(v)?!!v[0]:v,pn=Array.isArray(v)?!!v[1]:v};cn();const Dn=i?Fe=>Fe/pt*2*Xe:Fe=>Fe,Bt=i?Fe=>Fe/we*2:Fe=>-Fe,an=i?Fe=>(-1+Fe/pt*2)*Xe:Fe=>Fe,ft=i?Fe=>1-Fe/we*2:Fe=>Fe,vt=()=>{if(a){const ze=be;return be=!1,ze}_e=!1;const Fe=Ze,Pt=ke;if((Lt||Xt)&&Ht&&(wt&&!Je||!wt&&Je)){const ze=qt?nt-Fe:Fe-nt,Kt=Lt?Dn(s*ze):0,on=Nt?Qe-Pt:Pt-Qe,Rt=Xt?Bt(s*on):0;(Kt!==0||Rt!==0)&&(J.pan([Kt,Rt]),_e=!0)}if((Ot||pn)&&gt){const ze=x*Math.exp(gt/we),Kt=an(je),on=ft(We);J.scale([Ot?1/ze:1,pn?1/ze:1],[Kt,on]),_e=!0}if(u&&Ht&&(wt&&Je||!wt&&!Je)&&Math.abs(nt-Fe)+Math.abs(Qe-Pt)>0){const ze=pt/2,Kt=we/2,on=nt-ze,Rt=Kt-Qe,mn=Fe-ze,Sn=Kt-Pt,nr=z_([on,Rt],[mn,Sn]),Xn=on*Sn-mn*Rt;J.rotate(d*nr*Math.sign(Xn)),_e=!0}gt=0,nt=Fe,Qe=Pt;const jt=_e||be;return be=!1,jt},Mt=({defaultMouseDownMoveAction:Fe=null,isFixed:Pt=null,isPan:jt=null,isPanInverted:ze=null,isRotate:Kt=null,isZoom:on=null,panSpeed:Rt=null,rotateSpeed:mn=null,zoomSpeed:Sn=null,mouseDownMoveModKey:nr=null}={})=>{p=Fe!==null&&j_.includes(Fe)?Fe:p,wt=p==="pan",a=Pt!==null?Pt:a,o=jt!==null?jt:o,l=ze!==null?ze:l,u=Kt!==null?Kt:u,v=on!==null?on:v,s=+Rt>0?Rt:s,d=+mn>0?mn:d,x=+Sn>0?Sn:x,cn(),c=nr!==null&&Object.keys(Ey).includes(nr)?nr:c},At=()=>{const Fe=e.getBoundingClientRect();pt=Fe.width,we=Fe.height,Xe=pt/we},ct=Fe=>{Je=!1,E(Fe)},Ft=Fe=>{Je=Fe[Ey[c]],T(Fe)},fn=Fe=>{Ht=!1,G(Fe)},tn=Fe=>{Ht=Fe.buttons===1,O(Fe)},_=document.createEvent("MouseEvent").offsetX!==void 0?Fe=>{je=Fe.offsetX,We=Fe.offsetY}:Fe=>{const Pt=e.getBoundingClientRect();je=Fe.clientX-Pt.left,We=Fe.clientY-Pt.top},Et=Fe=>{Ze=Fe.clientX,ke=Fe.clientY},bt=Fe=>{Et(Fe),q(Fe)},Me=Fe=>{if(Ot||pn){Fe.preventDefault(),Et(Fe),_(Fe);const Pt=Fe.deltaMode===1?12:1;gt+=Pt*(Fe.deltaY||Fe.deltaX||0)}de(Fe)},Qt=()=>{J=void 0,window.removeEventListener("keydown",Ft),window.removeEventListener("keyup",ct),e.removeEventListener("mousedown",tn),window.removeEventListener("mouseup",fn),window.removeEventListener("mousemove",bt),e.removeEventListener("wheel",Me)};window.addEventListener("keydown",Ft,{passive:!0}),window.addEventListener("keyup",ct,{passive:!0}),e.addEventListener("mousedown",tn,{passive:!0}),window.addEventListener("mouseup",fn,{passive:!0}),window.addEventListener("mousemove",bt,{passive:!0}),e.addEventListener("wheel",Me,{passive:!1}),J.config=Mt,J.dispose=Qt,J.refresh=At,J.tick=vt;const yt=Fe=>function(){Fe.apply(null,arguments),be=!0};return J.lookAt=yt(J.lookAt),J.translate=yt(J.translate),J.pan=yt(J.pan),J.rotate=yt(J.rotate),J.scale=yt(J.scale),J.zoom=yt(J.zoom),J.reset=yt(J.reset),J.set=yt(J.set),J.setScaleBounds=yt(J.setScaleBounds),J.setTranslationBounds=yt(J.setTranslationBounds),J.setView=yt(J.setView),J.setViewCenter=yt(J.setViewCenter),At(),J};function km(e,t,n,r,i,a){if(i-r<=n)return;const o=r+i>>1;a5(e,t,o,r,i,a%2),km(e,t,n,r,o-1,a+1),km(e,t,n,o+1,i,a+1)}function a5(e,t,n,r,i,a){for(;i>r;){if(i-r>600){const u=i-r+1,d=n-r+1,p=Math.log(u),c=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*c*(u-c)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(n-d*c/u+v)),R=Math.min(i,Math.floor(n+(u-d)*c/u+v));a5(e,t,n,x,R,a)}const o=t[2*n+a];let l=r,s=i;for(Pu(e,t,r,n),t[2*i+a]>o&&Pu(e,t,r,i);l<s;){for(Pu(e,t,l,s),l++,s--;t[2*l+a]<o;)l++;for(;t[2*s+a]>o;)s--}t[2*r+a]===o?Pu(e,t,r,s):(s++,Pu(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function Pu(e,t,n,r){fp(e,n,r),fp(t,2*n,2*r),fp(t,2*n+1,2*r+1)}function fp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function V_(e,t,n,r,i,a,o){const l=[0,e.length-1,0],s=[];let u,d;for(;l.length;){const p=l.pop(),c=l.pop(),v=l.pop();if(c-v<=o){for(let M=v;M<=c;M++)u=t[2*M],d=t[2*M+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[M]);continue}const x=Math.floor((v+c)/2);u=t[2*x],d=t[2*x+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[x]);const R=(p+1)%2;(p===0?n<=u:r<=d)&&(l.push(v),l.push(x-1),l.push(R)),(p===0?i>=u:a>=d)&&(l.push(x+1),l.push(c),l.push(R))}return s}function H_(e,t,n,r,i,a){const o=[0,e.length-1,0],l=[],s=i*i;for(;o.length;){const u=o.pop(),d=o.pop(),p=o.pop();if(d-p<=a){for(let M=p;M<=d;M++)Sy(t[2*M],t[2*M+1],n,r)<=s&&l.push(e[M]);continue}const c=Math.floor((p+d)/2),v=t[2*c],x=t[2*c+1];Sy(v,x,n,r)<=s&&l.push(e[c]);const R=(u+1)%2;(u===0?n-i<=v:r-i<=x)&&(o.push(p),o.push(c-1),o.push(R)),(u===0?n+i>=v:r+i>=x)&&(o.push(c+1),o.push(d),o.push(R))}return l}function Sy(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}const W_=e=>e[0],X_=e=>e[1];class Y_{constructor(t,n=W_,r=X_,i=64,a=Float64Array){this.nodeSize=i,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new o(t.length),s=this.coords=new a(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);km(l,s,i,0,l.length-1,0)}range(t,n,r,i){return V_(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return H_(this.ids,this.coords,t,n,r,this.nodeSize)}}const q_=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var Q_=q_;const Z_=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var K_=Z_;const{push:Ty,splice:J_}=Array.prototype,dp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ur=Float32Array.BYTES_PER_ELEMENT,ew=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const a=n+i*2,o=a+1,l=a+2,s=a+3;t.push(a,o,l,l,o,s)}n+=(r+2)*2}),t},kr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let a=0,o=e.length/t;a<o;a++){const l=a*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}Ty.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,a=e.length/n;i<a;i++){const o=t+i*n;e[o]=r(e[o],o,i)}return e},copyElement(e,t,n,r){const i=new Array(r),a=t*r;for(let o=0;o<r;o++)i[o]=e[a+o];return J_.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],a=new Array(n).fill(r);for(let o=0,l=e.length/t;o<l;o++){const s=o*t;for(let u=0;u<t;u++)a[u]=e[s+u];Ty.apply(i,a)}return i}},tw=(e,{projection:t=dp,model:n=dp,view:r=dp,points:i=[],colorIndices:a=[],color:o=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:d=[],miter:p=1,is2d:c=!1,zPos2d:v=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const x=new Float32Array(16);let R,M,g,T,E,O,G,q,de,J,Ze,ke,je,We,nt,Qe,Ht,gt,pt=c?2:3;const we=()=>+(s.length===M||l!==null),Xe=()=>{J=e.buffer(),Ze=e.buffer(),ke=e.buffer(),nt=e.buffer(),Qe={prevPosition:{buffer:()=>J,offset:0,stride:ur*3},currPosition:{buffer:()=>J,offset:ur*3*2,stride:ur*3},nextPosition:{buffer:()=>J,offset:ur*3*4,stride:ur*3},opacity:{buffer:()=>Ze,offset:ur*2,stride:ur},offsetScale:{buffer:()=>ke,offset:ur*2,stride:ur},colorIndex:{buffer:()=>nt,offset:ur*2,stride:ur}},Ht=e.elements(),gt=e({attributes:Qe,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(ft,vt)=>{const Mt=ft.projection||vt.projection,At=ft.model||vt.model,ct=ft.view||vt.view;return fr(x,Mt,fr(x,ct,At))},aspectRatio:({viewportWidth:ft,viewportHeight:vt})=>ft/vt,colorTex:()=>je,colorTexRes:()=>We,colorTexEps:()=>.5/We,pixelRatio:({pixelRatio:ft})=>ft,width:({pixelRatio:ft,viewportHeight:vt})=>u/vt*ft,useOpacity:we,useColorOpacity:()=>+!we(),miter:p},elements:()=>Ht,vert:K_,frag:Q_})},_e=()=>{R===1&&i.length%pt>0&&console.warn(`The length of points (${M}) does not match the dimensions (${pt}). Incomplete points are ignored.`),T=i.flat().slice(0,M*pt),c&&(T=kr.increaseStride(T,2,3,v)),a.length!==M&&(a=new Array(M).fill(0)),d.length!==M&&(d=new Array(M).fill(1));let ft=a.slice(),vt=s.length===M?s.slice():new Array(M).fill(+l),Mt=d.slice(),At=0;g.forEach(ct=>{const Ft=At+ct-1;kr.copyElement(T,Ft,Ft,3),kr.copyElement(T,At,At,3),kr.copyElement(ft,Ft,Ft,1),kr.copyElement(ft,At,At,1),kr.copyElement(vt,Ft,Ft,1),kr.copyElement(vt,At,At,1),kr.copyElement(Mt,Ft,Ft,1),kr.copyElement(Mt,At,At,1),At+=ct+2}),E=new Float32Array(kr.duplicate(T,3)),O=kr.duplicate(ft),G=kr.duplicate(vt),q=kr.duplicate(Mt,1,-1),de=ew(g),J({usage:"dynamic",type:"float",length:E.length*ur,data:E}),Ze({usage:"dynamic",type:"float",length:G.length*ur,data:G}),ke({usage:"dynamic",type:"float",length:q.length*ur,data:q}),nt({usage:"dynamic",type:"float",length:O.length*ur,data:O}),Ht({primitive:"triangles",usage:"dynamic",type:de.length>2**16?"uint32":"uint16",data:de})},be=()=>{Je(),Xe()},Je=()=>{i=null,T=null,E=null,q=null,de=null,J.destroy(),ke.destroy(),Ht.destroy()},wt=({projection:ft,model:vt,view:Mt}={})=>{ft&&(t=ft),vt&&(n=vt),Mt&&(r=Mt),i&&i.length>1&&gt({projection:t,model:n,view:r})},Lt=(ft,vt)=>{const Mt=vt.flat(2);return Mt.length===M?Mt:Mt.length===R?g.map((At,ct)=>Array(At).fill(Mt[ct])).flat():ft},Xt=()=>i,qt=(ft=[],{colorIndices:vt=a,opacities:Mt=s,widths:At=d,is2d:ct=c}={})=>{i=ft,c=ct,pt=c?2:3,R=Array.isArray(i[0])?i.length:1,g=R>1?i.map(Ft=>Math.floor(Ft.length/pt)):[Math.floor(i.length/pt)],M=g.reduce((Ft,fn)=>Ft+fn,0),a=Lt(a,vt),s=Lt(s,Mt),d=Lt(d,At),i&&M>1?_e():be()},Nt=(ft,vt=-1)=>Array.isArray(ft)?ft.length&&!Array.isArray(ft[0])?vt+1:Nt(ft[0],++vt):vt,Ot=()=>{const ft=Nt(o)===0?[o]:o;We=Math.max(2,Math.ceil(Math.sqrt(ft.length)));const vt=new Uint8Array(We**2*4);ft.forEach((Mt,At)=>{vt[At*4]=Math.min(255,Math.max(0,Math.round(Mt[0]*255))),vt[At*4+1]=Math.min(255,Math.max(0,Math.round(Mt[1]*255))),vt[At*4+2]=Math.min(255,Math.max(0,Math.round(Mt[2]*255))),vt[At*4+3]=Number.isNaN(+Mt[3])?255:Math.min(255,Math.max(0,Math.round(Mt[3]*255)))}),je=e.texture({data:vt,shape:[We,We,4]})},pn=(ft,vt=l)=>{o=ft,l=vt,je&&je.destroy(),Ot()},cn=()=>({color:o,miter:p,width:u}),Dn=({color:ft,opacity:vt,miter:Mt,width:At}={})=>{ft&&pn(ft,vt),Mt&&(p=Mt),+At>0&&(u=At)},Bt=()=>({points:J,widths:ke,opacities:Ze,colorIndices:nt}),an=()=>({points:E,widths:q,opacities:G,colorIndices:O});return Xe(),Ot(),i&&i.length>1&&qt(i),{clear:be,destroy:Je,draw:wt,getPoints:Xt,setPoints:qt,getData:an,getBuffer:Bt,getStyle:cn,setStyle:Dn}};var w0=tw;const nw=e=>e*e*e,o5=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,rw=e=>--e*e*e+1,iw=e=>e,aw=e=>e*e,ow=e=>e<.5?2*e*e:-1+(4-2*e)*e,lw=e=>e*(2-e),ts=e=>e,sw=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},uw=e=>e.reduce((t,n)=>n>t?n:t,-1/0),Ay=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},cw=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,a)=>(i&&r.push(a),r),[])},Kv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,a)=>(i[a]=Object.getOwnPropertyDescriptor(n,a),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const a=Object.getOwnPropertyDescriptor(n,i);a.enumerable&&(r[i]=a)}),Object.defineProperties(e,r)}),e),fw=(...e)=>t=>e.reduce((n,r)=>r(n),t),dw=e=>t=>Kv({__proto__:{constructor:e}},t),Cy=(e,t)=>n=>Kv(n,{get[e](){return t}}),hw=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),pw=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),$l=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),l5=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const a=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let o=!1;const l=(...s)=>{o?(i++,a(...s)):(e(...s),a(...s),o=!0,i=0,setTimeout(()=>{o=!1},t))};return l.reset=()=>{o=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},ki="auto",mw=0,hp=1,vw=2,by=3,gw=4,yw=Float32Array.BYTES_PER_ELEMENT,s5=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],Ly={color:[0,0,0,0],depth:1},Jv="panZoom",u5="lasso",c5="rotate",xw=[Jv,u5,c5],_w=Jv,ww={cubicIn:nw,cubicInOut:o5,cubicOut:rw,linear:iw,quadIn:aw,quadInOut:ow,quadOut:lw},Ry=o5,Pi="continuous",jl="categorical",Py=[Pi,jl],Mm="deselect",e2="lassoEnd",Ew=[Mm,e2],Sw=[0,.666666667,1,1],Tw=2,Aw=!1,Cw=10,bw=3,Lw=e2,Rw=!1,Td=750,Ad=500,Cd=100,bd=250,t2="lasso",Ld="rotate",Rd="merge",Pw=[t2,Ld,Rd],n2="alt",r2="cmd",f5="ctrl",d5="meta",i2="shift",Ow=[n2,r2,f5,d5,i2],kw={[n2]:Ld,[i2]:t2,[r2]:Rd},Mw=1,Nw=ki,Iw=ki,Dw=1,pp=1,Fw=6,Bw=2,$w=2,mp=null,zw=2,Gw=2,vp=null,jw=null,gp=null,Uw=.66,Vw=1,yp=null,Hw=.15,Ww=25,Xw=1,Yw=1,Ou=null,qw=[.66,.66,.66,Vw],Qw=[0,.55,1,1],Zw=[1,1,1,1],Kw=[0,0,0,1],xp=null,Jw=[.66,.66,.66,.2],eE=[0,.55,1,1],tE=[1,1,1,1],nE=[0,0],rE=1,iE=0,aE=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),oE="IMAGE_LOAD_ERROR",lE=null,sE=!1,uE=[1,1,1,.5],cE=!0,fE=!0,dE=!1,hE=100,pE=1/500,mE="auto",vE=!1,gE=200,yE=500,h5=new Set(["z","valueZ","valueA","value1","category"]),p5=new Set(["w","valueW","valueB","value2","value"]),a2=15e3,Oy="Points have not been drawn",xE=(e,t)=>e?s5.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,_E=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return s5.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),M_({gl:t,extensions:n})},_p=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),wE=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let a=0;a<e.length;a+=2)t=e[a]<t?e[a]:t,n=e[a]>n?e[a]:n,r=e[a+1]<r?e[a+1]:r,i=e[a+1]>i?e[a+1]:i;return[t,r,n,i]},EE=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,SE=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,a)=>`#${r}${r}${i}${i}${a}${a}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),Oa=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),ka=e=>!Number.isNaN(+e)&&+e>=0,E0=e=>!Number.isNaN(+e)&&+e>0,ky=(e,t)=>n=>e.indexOf(n)>=0?n:t,TE=(e,t=!1,n=a2)=>new Promise((r,i)=>{const a=new Image;t&&(a.crossOrigin="anonymous"),a.src=e,a.onload=()=>{r(a)};const o=()=>{i(new Error(oE))};a.onerror=o,setTimeout(o,n)}),My=(e,t,n=a2)=>new Promise((r,i)=>{TE(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(a=>{r(e.texture(a))}).catch(a=>{i(a)})}),AE=(e,t=!1)=>[...SE(e,t),255**!t],CE=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),bE=e=>e>=0&&e<=1,Pd=e=>Array.isArray(e)&&e.every(bE),LE=(e,[t,n]=[])=>{let r,i,a,o,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],a=e[u],o=e[u+1],i>n!=o>n&&t<(a-r)*(n-i)/(o-i)+r&&(l=!l),u=s;return l},Nm=e=>typeof e=="string"||e instanceof String,RE=e=>Number.isInteger(e)&&e>=0&&e<=255,m5=e=>Array.isArray(e)&&e.every(RE),PE=e=>e.length===3&&(Pd(e)||m5(e)),OE=e=>e.length===4&&(Pd(e)||m5(e)),Ma=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||Nm(e[0])),S0=(e,t)=>e>t?e:t,Ny=(e,t)=>e<t?e:t,xr=(e,t)=>{if(OE(e)){const n=Pd(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(PE(e)){const n=255**!t,r=Pd(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return CE(e)?AE(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},Iy=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),Dy=e=>.21*e[0]+.72*e[1]+.07*e[2],kE=(e,t,n)=>Math.min(n,Math.max(t,e)),ME=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=Dw}=e;t||(t=_E(n));const i=xE(t),a=[n.width,n.height],o=t.framebuffer({width:a[0],height:a[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>o,srcRes:()=>a,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=M=>{const g=M.getContext("2d");g.clearRect(0,0,M.width,M.height),g.drawImage(n,(n.width-M.width)/2,(n.height-M.height)/2,M.width,M.height,0,0,M.width,M.height)},u=(M,g)=>{t.clear(Ly),o.use(()=>{t.clear(Ly),M()}),l(),s(g)},d=()=>{t.poll()},p=new Set,c=M=>(p.add(M),()=>{p.delete(M)}),v=t.frame(()=>{const M=p.values();let g=M.next();for(;!g.done;)g.value(),g=M.next()}),x=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,a[0]=n.width,a[1]=n.height,o.resize(...a)};return e.canvas||(window.addEventListener("resize",x),window.addEventListener("orientationchange",x),x()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(M){r=+M},get isSupported(){return i},render:u,onFrame:c,refresh:d,destroy:()=>{v.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",x),window.removeEventListener("orientationchange",x)}}},NE=!0,wp=8,Fy=2,IE=2500,DE=250,FE=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const a=document.createElement("div");return a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.width="1.25rem",a.style.height="1.25rem",a.style.borderRadius="1.25rem",a.style.background="currentcolor",a.style.transform="scale(0)",a.style.opacity=0,e.appendChild(a),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:a}},BE=(e,t,n)=>(1-e)*t+n,$E=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,zE=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,GE=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,jE=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,UE=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,VE=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,HE=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,WE=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,XE=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,YE=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,qE=({time:e=Td,extraTime:t=Ad,delay:n=Cd,currentColor:r,targetColor:i,effectOpacity:a,effectScale:o,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:d})=>{const p=l/360,c=BE(p,e,t),v=Math.round((1-p)*e/c*100),x=Math.round(v/2),R=v+(100-v)/4;return{rules:{main:VE(v,r,i),effect:HE(v,R,a,o),circleRight:YE(x,s),circleLeft:XE(v,l),circle:WE(x,u,d)},names:{main:$E(c,n),effect:zE(c,n),circleLeft:GE(c,n),circleRight:jE(c,n),circle:UE(c,n)}}},QE=e=>`${e}ms linear mainOut 0s 1 normal forwards`,ZE=e=>`${e}ms linear effectOut 0s 1 normal forwards`,KE=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,JE=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,eS=e=>`${e}ms linear circleOut 0s 1 normal forwards`,tS=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,nS=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,rS=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,iS=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,aS=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,oS=({time:e=bd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:a,circleRightRotation:o,circleClipPath:l,circleOpacity:s})=>{const u=a/360,d=u*e,p=Math.min(100,u*100),c=p>50?Math.round((1-50/p)*100):0;return{rules:{main:tS(t,n),effect:nS(r,i),circleRight:rS(c,o),circleLeft:iS(a),circle:aS(c,l,s)},names:{main:QE(d),effect:ZE(d),circleRight:KE(d),circleLeft:JE(d),circle:eS(d)}}},ku=(e,t=null)=>e===null?t:e;let Ep;const v5=()=>{if(!Ep){const e=document.createElement("style");document.head.appendChild(e),Ep=e.sheet}return Ep},Hr=e=>{const t=v5(),n=t.rules.length;return t.insertRule(e,n),n},Wr=e=>{v5().deleteRule(e)},lS=`${IE}ms ease scaleInFadeOut 0s 1 normal backwards`,sS=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let Sp=null;const uS=`${DE}ms ease fadeScaleOut 0s 1 normal backwards`,cS=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Tp=null;const g5=(e,{onDraw:t=ts,onStart:n=ts,onEnd:r=ts,enableInitiator:i=NE,initiatorParentElement:a=document.body,longPressIndicatorParentElement:o=document.body,minDelay:l=wp,minDist:s=Fy,pointNorm:u=ts}={})=>{let d=i,p=a,c=o,v=t,x=n,R=r,M=u;const g=document.createElement("div"),T=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);g.id=`lasso-initiator-${T}`,g.style.position="fixed",g.style.display="flex",g.style.justifyContent="center",g.style.alignItems="center",g.style.zIndex=99,g.style.width="4rem",g.style.height="4rem",g.style.borderRadius="4rem",g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:E,longPressCircle:O,longPressCircleLeft:G,longPressCircleRight:q,longPressEffect:de}=FE();let J=!1,Ze=!1,ke=[],je=[],We,nt=!1,Qe=null,Ht=null,gt=null,pt=null,we=null,Xe=null,_e=null,be=null,Je=null,wt=null;const Lt=()=>{J=!1},Xt=Et=>{const{left:bt,top:Me}=e.getBoundingClientRect();return[Et.clientX-bt,Et.clientY-Me]};window.addEventListener("mouseup",Lt);const qt=()=>{g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Nt=(Et,bt)=>{const Me=getComputedStyle(Et),Qt=+Me.opacity,yt=Me.transform.match(/([0-9.-]+)+/g),Fe=+yt[0],Pt=+yt[1],jt=Math.sqrt(Fe*Fe+Pt*Pt);let ze=Math.atan2(Pt,Fe)*(180/Math.PI);return ze=bt&&ze<=0?360+ze:ze,{opacity:Qt,scale:jt,rotate:ze}},Ot=Et=>{if(!d||J)return;const bt=Et.clientX,Me=Et.clientY;g.style.top=`${Me}px`,g.style.left=`${bt}px`;const Qt=Nt(g),yt=Qt.opacity,Fe=Qt.scale,Pt=Qt.rotate;g.style.opacity=yt,g.style.transform=`translate(-50%,-50%) scale(${Fe}) rotate(${Pt}deg)`,g.style.animation="none",$l().then(()=>{Sp!==null&&Wr(Sp),Sp=Hr(sS(yt,Fe,Pt)),g.style.animation=lS,$l().then(()=>{qt()})})},pn=()=>{const{opacity:Et,scale:bt,rotate:Me}=Nt(g);g.style.opacity=Et,g.style.transform=`translate(-50%,-50%) scale(${bt}) rotate(${Me}deg)`,g.style.animation="none",$l(2).then(()=>{Tp!==null&&Wr(Tp),Tp=Hr(cS(Et,bt,Me)),g.style.animation=uS,$l().then(()=>{qt()})})},cn=(Et,bt,{time:Me=Td,extraTime:Qt=Ad,delay:yt=Cd}={time:Td,extraTime:Ad,delay:Cd})=>{nt=!0;const Fe=getComputedStyle(E);E.style.color=Fe.color,E.style.top=`${bt}px`,E.style.left=`${Et}px`,E.style.animation="none";const Pt=getComputedStyle(O);O.style.clipPath=Pt.clipPath,O.style.opacity=Pt.opacity,O.style.animation="none";const jt=Nt(de);de.style.opacity=jt.opacity,de.style.transform=`scale(${jt.scale})`,de.style.animation="none";const ze=Nt(G);G.style.transform=`rotate(${ze.rotate}deg)`,G.style.animation="none";const Kt=Nt(q);q.style.transform=`rotate(${Kt.rotate}deg)`,q.style.animation="none",$l().then(()=>{if(!nt)return;we!==null&&Wr(we),pt!==null&&Wr(pt),gt!==null&&Wr(gt),Ht!==null&&Wr(Ht),Qe!==null&&Wr(Qe);const{rules:on,names:Rt}=qE({time:Me,extraTime:Qt,delay:yt,currentColor:Fe.color||"currentcolor",targetColor:E.dataset.activeColor,effectOpacity:jt.opacity||0,effectScale:jt.scale||0,circleLeftRotation:ze.rotate||0,circleRightRotation:Kt.rotate||0,circleClipPath:Pt.clipPath||"inset(0 0 0 50%)",circleOpacity:Pt.opacity||0});Qe=Hr(on.main),Ht=Hr(on.effect),gt=Hr(on.circleLeft),pt=Hr(on.circleRight),we=Hr(on.circle),E.style.animation=Rt.main,de.style.animation=Rt.effect,G.style.animation=Rt.circleLeft,q.style.animation=Rt.circleRight,O.style.animation=Rt.circle})},Dn=({time:Et=bd}={time:bd})=>{if(!nt)return;nt=!1;const bt=getComputedStyle(E);E.style.color=bt.color,E.style.animation="none";const Me=getComputedStyle(O);O.style.clipPath=Me.clipPath,O.style.opacity=Me.opacity,O.style.animation="none";const Qt=Nt(de);de.style.opacity=Qt.opacity,de.style.transform=`scale(${Qt.scale})`,de.style.animation="none";const yt=Me.clipPath.slice(-2,-1)==="x",Fe=Nt(G,yt);G.style.transform=`rotate(${Fe.rotate}deg)`,G.style.animation="none";const Pt=Nt(q);q.style.transform=`rotate(${Pt.rotate}deg)`,q.style.animation="none",$l().then(()=>{wt!==null&&Wr(wt),Je!==null&&Wr(Je),be!==null&&Wr(be),_e!==null&&Wr(_e),Xe!==null&&Wr(Xe);const{rules:jt,names:ze}=oS({time:Et,currentColor:bt.color||"currentcolor",targetColor:E.dataset.color,effectOpacity:Qt.opacity||0,effectScale:Qt.scale||0,circleLeftRotation:Fe.rotate||0,circleRightRotation:Pt.rotate||0,circleClipPath:Me.clipPath||"inset(0px)",circleOpacity:Me.opacity||1});Xe=Hr(jt.main),_e=Hr(jt.effect),be=Hr(jt.circleLeft),Je=Hr(jt.circleRight),wt=Hr(jt.circle),E.style.animation=ze.main,de.style.animation=ze.effect,G.style.animation=ze.circleLeft,q.style.animation=ze.circleRight,O.style.animation=ze.circle})},Bt=()=>{v(ke,je)},an=Et=>{if(We){if(hw(Et[0],Et[1],We[0],We[1])>Fy){We=Et;const Me=M(Et);ke.push(Me),je.push(Me[0],Me[1]),ke.length>1&&Bt()}}else{Ze||(Ze=!0,x()),We=Et;const bt=M(Et);ke=[bt],je=[bt[0],bt[1]]}},ft=l5(an,wp,wp),vt=(Et,bt)=>{const Me=Xt(Et);return bt?ft(Me):an(Me)},Mt=()=>{ke=[],je=[],We=void 0,Bt()},At=Et=>{Ot(Et)},ct=()=>{J=!0,Ze=!0,Mt(),x()},Ft=()=>{pn()},fn=({merge:Et=!1}={})=>{Ze=!1;const bt=[...ke],Me=[...je];return ft.cancel(),Mt(),bt.length&&R(bt,Me,{merge:Et}),bt},tn=({onDraw:Et=null,onStart:bt=null,onEnd:Me=null,enableInitiator:Qt=null,initiatorParentElement:yt=null,longPressIndicatorParentElement:Fe=null,minDelay:Pt=null,minDist:jt=null,pointNorm:ze=null}={})=>{v=ku(Et,v),x=ku(bt,x),R=ku(Me,R),d=ku(Qt,d),M=ku(ze,M),yt!==null&&yt!==p&&(p.removeChild(g),yt.appendChild(g),p=yt),Fe!==null&&Fe!==c&&(c.removeChild(E),Fe.appendChild(E),c=Fe),d?(g.addEventListener("click",At),g.addEventListener("mousedown",ct),g.addEventListener("mouseleave",Ft)):(g.removeEventListener("mousedown",ct),g.removeEventListener("mouseleave",Ft))},Gr=()=>{p.removeChild(g),c.removeChild(E),window.removeEventListener("mouseup",Lt),g.removeEventListener("click",At),g.removeEventListener("mousedown",ct),g.removeEventListener("mouseleave",Ft)},_=()=>Et=>Kv(Et,{clear:Mt,destroy:Gr,end:fn,extend:vt,set:tn,showInitiator:Ot,hideInitiator:pn,showLongPressIndicator:cn,hideLongPressIndicator:Dn});return p.appendChild(g),c.appendChild(E),tn({onDraw:v,onStart:x,onEnd:R,enableInitiator:d,initiatorParentElement:p}),fw(Cy("initiator",g),Cy("longPressIndicator",E),_(),dw(g5))({})},fS=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,dS=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,hS=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,pS=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,mS=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,vS=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,gS=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,yS=function(){const t=(u,d,p,c,v)=>{const x=(c-d)*.5,R=(v-p)*.5;return(2*p-2*c+x+R)*u*u*u+(-3*p+3*c-2*x-R)*u*u+x*u+p},n=(u,d,p)=>{const c=p*u,v=Math.floor(c),x=c-v,R=d[Math.max(0,v-1)],M=d[v],g=d[Math.min(p,v+1)],T=d[Math.min(p,v+2)];return[t(x,R[0],M[0],g[0],T[0]),t(x,R[1],M[1],g[1],T[1])]},r=(u,d,p,c)=>(u-p)**2+(d-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,d,p)=>{let c=d[0],v=d[1],x=p[0]-c,R=p[1]-v;if(x!==0||R!==0){const M=((u[0]-c)*x+(u[1]-v)*R)/(x*x+R*R);M>1?(c=p[0],v=p[1]):M>0&&(c+=x*M,v+=R*M)}return x=u[0]-c,R=u[1]-v,x*x+R*R};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const a=(u,d,p,c,v)=>{let x=c,R;for(let M=d+1;M<p;M++){const g=i(u[M],u[d],u[p]);g>x&&(R=M,x=g)}x>c&&(R-d>1&&a(u,d,R,c,v),v.push(u[R]),p-R>1&&a(u,R,p,c,v))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const o=(u,d)=>{const p=u.length-1,c=[u[0]];return a(u,0,p,d,c),c.push(u[p]),c},l=(u,{maxIntPointsPerSegment:d=100,tolerance:p=.002}={})=>{const c=u.length,v=c-1,x=v*d+1,R=p**2;let M=[],g;for(let T=0;T<c-1;T++){let E=[u[T].slice(0,2)];g=u[T];for(let O=1;O<d;O++){const G=(T*d+O)/x,q=n(G,u,v);r(g[0],g[1],q[0],q[1])>R&&(E.push(q),g=q)}E.push(u[T+1]),E=o(E,R),M=M.concat(E.slice(0,E.length-1))}return M.push(u[u.length-1].slice(0,2)),M.flat()},s=u=>{const d={},p=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const v=c[4];d[v]||(d[v]=[]),p?d[v][c[5]]=c:d[v].push(c)}),Object.entries(d).forEach(c=>{d[c[0]]=c[1].filter(v=>v),d[c[0]].reference=c[1][0]}),d};self.onmessage=function(d){(d.data.points?+d.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),d.data.points;const c=s(d.data.points);self.postMessage({points:Object.entries(c).reduce((v,x)=>(v[x[0]]=l(x[1],d.data.options),v[x[0]].reference=x[1].reference,v),{})})}},xS=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=pw(yS);i.onmessage=a=>{a.data.error?r(a.data.error):n(a.data.points),i.terminate()},i.postMessage({points:e,options:t})});var _S="1.8.5";const Ap={showRecticle:"showReticle",recticleColor:"reticleColor"},Cp=e=>{Object.keys(e).filter(t=>Ap[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${Ap[t]}" instead.`),e[Ap[t]]=e[t],delete e[t]})},Xr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>h5.has(e)?"valueZ":p5.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,bp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},wS=(e={})=>{const t=P_({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Cp(e);let{renderer:a,backgroundColor:o=Kw,backgroundImage:l=lE,canvas:s=document.createElement("canvas"),colorBy:u=Ou,deselectOnDblClick:d=cE,deselectOnEscape:p=fE,lassoColor:c=Sw,lassoLineWidth:v=Tw,lassoMinDelay:x=Cw,lassoMinDist:R=bw,lassoClearEvent:M=Lw,lassoInitiator:g=Aw,lassoInitiatorParentElement:T=document.body,lassoOnLongPress:E=Rw,lassoLongPressTime:O=Td,lassoLongPressAfterEffectTime:G=Ad,lassoLongPressEffectDelay:q=Cd,lassoLongPressRevertEffectTime:de=bd,keyMap:J=kw,mouseMode:Ze=_w,showReticle:ke=sE,reticleColor:je=uE,pointColor:We=qw,pointColorActive:nt=Qw,pointColorHover:Qe=Zw,showPointConnections:Ht=dE,pointConnectionColor:gt=Jw,pointConnectionColorActive:pt=eE,pointConnectionColorHover:we=tE,pointConnectionColorBy:Xe=xp,pointConnectionOpacity:_e=jw,pointConnectionOpacityBy:be=gp,pointConnectionOpacityActive:Je=Uw,pointConnectionSize:wt=zw,pointConnectionSizeActive:Lt=Gw,pointConnectionSizeBy:Xt=vp,pointConnectionMaxIntPointsPerSegment:qt=hE,pointConnectionTolerance:Nt=pE,pointSize:Ot=Fw,pointSizeSelected:pn=Bw,pointSizeMouseDetection:cn=mE,pointOutlineWidth:Dn=$w,opacity:Bt=ki,opacityBy:an=yp,opacityByDensityFill:ft=Hw,opacityInactiveMax:vt=Xw,opacityInactiveScale:Mt=Yw,sizeBy:At=mp,height:ct=Iw,width:Ft=Nw}=e,fn=Ft===ki?1:Ft,tn=ct===ki?1:ct;const{performanceMode:Gr=vE,opacityByDensityDebounceTime:_=Ww}=e;a||(a=ME({regl:e.regl,gamma:e.gamma})),o=xr(o,!0),c=xr(c,!0),je=xr(je,!0);let Et=!1,bt=Dy(o),Me,Qt,yt=!1,Fe=null,Pt=[0,0],jt=-1,ze=[];const Kt=new Set,on=new Set;let Rt=!1;const mn=new Set;let Sn=0,nr=0,Xn=!1,ei=[],Fn,ti,ae=e.aspectRatio||Mw,xt,dn,Tn,Yt,Bn,Ar,Bi,ao,bs,nl=Iy(J),ca,oo,fa,rl=!1,mt=!0,$i=!1,il;We=Ma(We)?[...We]:[We],nt=Ma(nt)?[...nt]:[nt],Qe=Ma(Qe)?[...Qe]:[Qe],We=We.map(f=>xr(f,!0)),nt=nt.map(f=>xr(f,!0)),Qe=Qe.map(f=>xr(f,!0)),Bt=!Array.isArray(Bt)&&Number.isNaN(+Bt)?We[0][3]:Bt,Bt=Oa(Bt,ka,{minLength:1})?[...Bt]:[Bt],Ot=Oa(Ot,ka,{minLength:1})?[...Ot]:[Ot];let Ic=pp/Ot[0];gt==="inherit"?gt=[...We]:(gt=Ma(gt)?[...gt]:[gt],gt=gt.map(f=>xr(f,!0))),pt==="inherit"?pt=[...nt]:(pt=Ma(pt)?[...pt]:[pt],pt=pt.map(f=>xr(f,!0))),we==="inherit"?we=[...Qe]:(we=Ma(we)?[...we]:[we],we=we.map(f=>xr(f,!0))),_e==="inherit"?_e=[...Bt]:_e=Oa(_e,ka,{minLength:1})?[..._e]:[_e],wt==="inherit"?wt=[...Ot]:wt=Oa(wt,ka,{minLength:1})?[...wt]:[wt],u=Xr(u,Ou),an=Xr(an,yp,{allowDensity:!0}),At=Xr(At,mp),Xe=Xr(Xe,xp,{allowSegment:!0}),be=Xr(be,gp,{allowSegment:!0}),Xt=Xr(Xt,vp,{allowSegment:!0});let yi,xi,_i,Dc,Cr=0,Ls=0,lo,Rs,so,al,ol,ll,sl,zi=!1,uo=null,Ps,Os,Fc=ke,da,ha=0,ul,pa=0,ks=!1,mr=!1,wi=!1,Ei=jl,Gi=jl,$n,jr=!1,Un=e.xScale||null,An=e.yScale||null,ma=0,cl=0,fl=0,dl=0;Un&&(ma=Un.domain()[0],cl=Un.domain()[1]-Un.domain()[0],Un.range([0,fn])),An&&(fl=An.domain()[0],dl=An.domain()[1]-An.domain()[0],An.range([tn,0]));const Bc=f=>-1+f/fn*2,vr=f=>1+f/tn*-2,sr=()=>[Bc(i[0]),vr(i[1])],br=(f,I)=>{const j=[f,I,1,1],oe=Om(n,fr(n,xt,fr(n,Me.view,Tn)));return V0(j,j,oe),j.slice(0,2)},$c=(f=0)=>{const I=go(),oe=(oo[1]-fa[1])/s.height;return(bs*I+f)*oe},Ms=()=>Rt?Fn.points.filter((f,I)=>mn.has(I)):Fn.points,hl=(f,I,j,oe)=>{const Te=Fn.range(f,I,j,oe);return Rt?Te.filter(Be=>mn.has(Be)):Te},Ns=()=>{const[f,I]=sr(),[j,oe]=br(f,I),Te=$c(4),Be=hl(j-Te,oe-Te,j+Te,oe+Te);let He=Te,dt=-1;return Be.forEach($t=>{const[It,Cn]=Fn.points[$t],Vt=_p(It,Cn,j,oe);Vt<He&&(He=Vt,dt=$t)}),dt},gh=(f,I)=>{ei=f,Qt.setPoints(I),t.publish("lassoExtend",{coordinates:f})},yh=f=>{const I=wE(f);if(!EE(I))return[];const j=hl(...I),oe=[];return j.forEach(Te=>{LE(f,Fn.points[Te])&&oe.push(Te)}),oe},va=()=>{ei=[],Qt&&Qt.clear()},co=f=>f&&f.length>4,ji=(f,I)=>{if(Ar||!Ht||!co(Fn.points[f[0]]))return;const j=I===0,oe=I===1?He=>on.add(He):ts,Te=Object.keys(f.reduce((He,dt)=>{const $t=Fn.points[dt],Cn=Array.isArray($t[4])?$t[4][0]:$t[4];return He[Cn]=!0,He},{})),Be=Yt.getData().opacities;Te.filter(He=>!on.has(+He)).forEach(He=>{const dt=Bn[He][0],$t=Bn[He][2],It=Bn[He][3],Cn=dt*4+It*2,Vt=Cn+$t*2+4;Be.__original__===void 0&&(Be.__original__=Be.slice());for(let Dt=Cn;Dt<Vt;Dt++)Be[Dt]=j?Be.__original__[Dt]:Je;oe(He)}),Yt.getBuffer().opacities.subdata(Be,0)},pl=f=>[f%Cr/Cr+Ls,Math.floor(f/Cr)/Cr+Ls],xh=f=>Rt&&!mn.has(f),ml=({preventEvent:f=!1}={})=>{M===Mm&&va(),ze.length&&(f||t.publish("deselect"),on.clear(),ji(ze,0),ze=[],Kt.clear(),mt=!0)},ga=(f,{merge:I=!1,preventEvent:j=!1}={})=>{const oe=Array.isArray(f)?f:[f],Te=[...ze];if(I){if(ze=cw(ze,oe),Te.length===ze.length){mt=!0;return}}else{if(ze&&ze.length&&ji(ze,0),Te.length>0&&oe.length===0){ml({preventEvent:j});return}ze=oe}if(sw(Te,ze)){mt=!0;return}const Be=[];Kt.clear(),on.clear();for(let He=ze.length-1;He>=0;He--){const dt=ze[He];if(dt<0||dt>=Sn||xh(dt)){ze.splice(He,1);continue}Kt.add(dt),Be.push.apply(Be,pl(dt))}Rs({usage:"dynamic",type:"float",data:Be}),ji(ze,1),j||t.publish("select",{points:ze}),mt=!0},fo=(f,{showReticleOnce:I=!1,preventEvent:j=!1}={})=>{let oe=!1;if(f>=0&&f<Sn){oe=!0;const Te=$n,Be=f!==$n;+Te>=0&&Be&&!Kt.has(Te)&&ji([Te],0),$n=f,so.subdata(pl(f)),Kt.has(f)||ji([f],2),Be&&!j&&t.publish("pointover",$n)}else oe=+$n>=0,oe&&(Kt.has($n)||ji([$n],0),j||t.publish("pointout",$n)),$n=void 0;oe&&(mt=!0,$i=I)},Is=f=>{const I=s.getBoundingClientRect();return i[0]=f.clientX-I.left,i[1]=f.clientY-I.top,[...i]},Pn=g5(s,{onStart:()=>{Me.config({isFixed:!0}),yt=!0,Xn=!0,va(),jt>=0&&(clearTimeout(jt),jt=-1),t.publish("lassoStart")},onDraw:gh,onEnd:(f,I,{merge:j=!1}={})=>{Me.config({isFixed:!1}),ei=[...f];const oe=yh(I);ga(oe,{merge:j}),t.publish("lassoEnd",{coordinates:ei}),M===e2&&va()},enableInitiator:g,initiatorParentElement:T,pointNorm:([f,I])=>br(Bc(f),vr(I))}),vl=()=>Ze===u5,ho=(f,I)=>{switch(nl[I]){case n2:return f.altKey;case r2:return f.metaKey;case f5:return f.ctrlKey;case d5:return f.metaKey;case i2:return f.shiftKey;default:return!1}},zc=f=>document.elementsFromPoint(f.clientX,f.clientY).some(I=>I===s),Ds=f=>{!mr||f.buttons!==1||(yt=!0,Fe=performance.now(),Pt=Is(f),Xn=vl()||ho(f,t2),!Xn&&E&&(Pn.showLongPressIndicator(f.clientX,f.clientY,{time:O,extraTime:G,delay:q}),jt=setTimeout(()=>{jt=-1,Xn=!0},O)))},Fs=f=>{mr&&(yt=!1,jt>=0&&(clearTimeout(jt),jt=-1),Xn&&(f.preventDefault(),Xn=!1,Pn.end({merge:ho(f,Rd)})),E&&Pn.hideLongPressIndicator({time:de}))},gl=f=>{if(!mr)return;f.preventDefault();const I=Is(f);if(_p(...I,...Pt)>=R)return;const j=performance.now()-Fe;if(!g||j<yE){const oe=Ns();oe>=0?(ze.length&&M===Mm&&va(),ga([oe],{merge:ho(f,Rd)})):ca||(ca=setTimeout(()=>{ca=null,Pn.showInitiator(f)},gE))}},yl=f=>{Pn.hideInitiator(),ca&&(clearTimeout(ca),ca=null),d&&(f.preventDefault(),ml())},ni=f=>{if(wi||(jr=zc(f),wi=!0),!mr||!jr&&!yt)return;const I=Is(f),oe=_p(...I,...Pt)>=R;jr&&!Xn&&fo(Ns()),Xn?(f.preventDefault(),Pn.extend(f,!0)):yt&&E&&oe&&Pn.hideLongPressIndicator({time:de}),jt>=0&&oe&&(clearTimeout(jt),jt=-1),yt&&(mt=!0)},po=()=>{$n=void 0,jr=!1,wi=!1,mr&&(+$n>=0&&!Kt.has($n)&&ji([$n],0),Fs(),mt=!0)},xl=()=>{const f=Math.max(Ot.length,Bt.length);pa=Math.max(2,Math.ceil(Math.sqrt(f)));const I=new Float32Array(pa**2*4);for(let j=0;j<f;j++){I[j*4]=Ot[j]||0,I[j*4+1]=Math.min(1,Bt[j]||0);const oe=Number((nt[j]||nt[0])[3]);I[j*4+2]=Math.min(1,Number.isNaN(oe)?1:oe);const Te=Number((Qe[j]||Qe[0])[3]);I[j*4+3]=Math.min(1,Number.isNaN(Te)?1:Te)}return a.regl.texture({data:I,shape:[pa,pa,4],type:"float"})},Bs=(f=We,I=nt,j=Qe)=>{const oe=f.length,Te=I.length,Be=j.length,He=[];if(oe===Te&&Te===Be)for(let dt=0;dt<oe;dt++)He.push(f[dt],I[dt],j[dt],o);else for(let dt=0;dt<oe;dt++){const $t=[f[dt][0],f[dt][1],f[dt][2],1],It=u===Ou?I[0]:$t,Cn=u===Ou?j[0]:$t;He.push(f[dt],It,Cn,o)}return He},$s=()=>{const f=Bs(),I=f.length;ha=Math.max(2,Math.ceil(Math.sqrt(I)));const j=new Float32Array(ha**2*4);return f.forEach((oe,Te)=>{j[Te*4]=oe[0],j[Te*4+1]=oe[1],j[Te*4+2]=oe[2],j[Te*4+3]=oe[3]}),a.regl.texture({data:j,shape:[ha,ha,4],type:"float"})},_h=(f,I)=>{dn[0]=f/ti,dn[5]=I},zs=()=>{ti=fn/tn,xt=U0([],[1/ti,1,1]),dn=U0([],[1/ti,1,1]),Tn=U0([],[ae,1,1])},wh=f=>{+f<=0||(ae=f)},Gs=(f,I)=>j=>{if(!j||!j.length)return;const Te=[...f()];let Be=Ma(j)?j:[j];Be=Be.map(He=>xr(He,!0)),da&&da.destroy();try{I(Be),da=$s()}catch{console.error("Invalid colors. Switching back to default colors."),I(Te),da=$s()}},Eh=Gs(()=>We,f=>{We=f}),Sh=Gs(()=>nt,f=>{nt=f}),Si=Gs(()=>Qe,f=>{Qe=f}),Th=()=>{const f=br(-1,-1),I=br(1,1),j=(f[0]+1)/2,oe=(I[0]+1)/2,Te=(f[1]+1)/2,Be=(I[1]+1)/2,He=[ma+j*cl,ma+oe*cl],dt=[fl+Te*dl,fl+Be*dl];return[He,dt]},Ui=()=>{if(!Un&&!An)return;const[f,I]=Th();Un&&Un.domain(f),An&&An.domain(I)},Vi=f=>{tn=Math.max(1,f),s.height=Math.floor(tn*window.devicePixelRatio),An&&(An.range([tn,0]),Ui())},Ah=f=>{if(f===ki){ct=f,s.style.height="100%",window.requestAnimationFrame(()=>{s&&Vi(s.getBoundingClientRect().height)});return}!+f||+f<=0||(ct=+f,Vi(ct),s.style.height=`${ct}px`)},Ti=()=>{bs=cn,cn===ki&&(bs=Array.isArray(Ot)?uw(Ot):Ot)},Gc=f=>{Oa(f,ka,{minLength:1})&&(Ot=[...f]),E0(+f)&&(Ot=[+f]),Ic=pp/Ot[0],ul=xl(),Ti()},xa=f=>{!+f||+f<0||(pn=+f)},jc=f=>{!+f||+f<0||(Dn=+f)},ri=f=>{fn=Math.max(1,f),s.width=Math.floor(fn*window.devicePixelRatio),Un&&(Un.range([0,fn]),Ui())},js=f=>{if(f===ki){Ft=f,s.style.width="100%",window.requestAnimationFrame(()=>{s&&ri(s.getBoundingClientRect().width)});return}!+f||+f<=0||(Ft=+f,ri(Ft),s.style.width=`${fn}px`)},Ch=f=>{Oa(f,ka,{minLength:1})&&(Bt=[...f]),E0(+f)&&(Bt=[+f]),ul=xl()},Us=f=>{switch(f){case"valueZ":return Ei;case"valueW":return Gi;default:return null}},Vs=(f,I)=>{switch(f){case Pi:return j=>Math.round(j*(I.length-1));case jl:default:return ts}},Uc=f=>{u=Xr(f,Ou)},bh=f=>{an=Xr(f,yp,{allowDensity:!0})},Lh=f=>{At=Xr(f,mp)},Vc=f=>{Xe=Xr(f,xp,{allowSegment:!0})},Jt=f=>{be=Xr(f,gp,{allowSegment:!0})},Hc=f=>{Xt=Xr(f,vp,{allowSegment:!0})},Rh=()=>[s.width,s.height],Ur=()=>l,Hs=()=>da,_l=()=>ha,Hi=()=>.5/ha,Ws=()=>window.devicePixelRatio,wl=()=>lo,Wi=()=>Rs,El=()=>ul,Wc=()=>pa,Xs=()=>.5/pa,Ys=()=>0,Ph=()=>_i||yi,Oh=()=>Cr,kh=()=>.5/Cr,Xc=()=>dn,Sl=()=>Me.view,mo=()=>Tn,vo=()=>fr(r,dn,fr(r,Me.view,Tn)),go=()=>Me.scaling[0]>1?Math.asinh(S0(1,Me.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:S0(Ic,Me.scaling[0])*window.devicePixelRatio,_a=()=>Rt?mn.size:Sn,Xi=()=>ze.length,qs=()=>Xi()>0?vt:1,Qs=()=>Xi()>0?Mt:1,Zs=()=>+(u==="valueZ"),Yc=()=>+(u==="valueW"),qc=()=>+(an==="valueZ"),Qc=()=>+(an==="valueW"),Zc=()=>+(an==="density"),Kc=()=>+(At==="valueZ"),Jc=()=>+(At==="valueW"),ef=()=>u==="valueZ"?Ei===Pi?We.length-1:1:Gi===Pi?We.length-1:1,tf=()=>an==="valueZ"?Ei===Pi?Bt.length-1:1:Gi===Pi?Bt.length-1:1,wa=()=>At==="valueZ"?Ei===Pi?Ot.length-1:1:Gi===Pi?Ot.length-1:1,Ks=f=>{if(an!=="density")return 1;const I=go(),j=Ot[0]*I,oe=2/(2/Me.view[0])*(2/(2/Me.view[5])),Te=f.viewportHeight,Be=f.viewportWidth;let He=ft*Be*Te/(nr*j*j)*Ny(1,oe);He*=Gr?1:1/(.25*Math.PI);const dt=S0(pp,j)+.5;return He*=(j/dt)**2,Ny(1,S0(0,He))},Js=a.regl({framebuffer:()=>Dc,vert:gS,frag:vS,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>xi,endStateTex:()=>yi,t:(f,I)=>I.t},count:3}),Lr=(f,I,j,oe=mw,Te=qs,Be=Qs)=>a.regl({frag:Gr?pS:hS,vert:mS(oe),blend:{enable:!Gr,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:j,size:2}},uniforms:{resolution:Rh,modelViewProjection:vo,devicePixelRatio:Ws,pointScale:go,encodingTex:El,encodingTexRes:Wc,encodingTexEps:Xs,pointOpacityMax:Te,pointOpacityScale:Be,pointSizeExtra:f,globalState:oe,colorTex:Hs,colorTexRes:_l,colorTexEps:Hi,stateTex:Ph,stateTexRes:Oh,stateTexEps:kh,isColoredByZ:Zs,isColoredByW:Yc,isOpacityByZ:qc,isOpacityByW:Qc,isOpacityByDensity:Zc,isSizedByZ:Kc,isSizedByW:Jc,colorMultiplicator:ef,opacityMultiplicator:tf,opacityDensity:Ks,sizeMultiplicator:wa,numColorStates:gw},count:I,primitive:"points"}),Mh=Lr(Ys,_a,wl),Nh=Lr(Ys,()=>1,()=>so,vw,()=>1,()=>1),Ih=Lr(()=>(pn+Dn*2)*window.devicePixelRatio,Xi,Wi,hp,()=>1,()=>1),eu=Lr(()=>(pn+Dn)*window.devicePixelRatio,Xi,Wi,by,()=>1,()=>1),Dh=Lr(()=>pn*window.devicePixelRatio,Xi,Wi,hp,()=>1,()=>1),Fh=()=>{Ih(),eu(),Dh()},Bh=a.regl({frag:fS,vert:dS,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:vo,texture:Ur},count:6}),tu=a.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>ei},uniforms:{modelViewProjection:vo,color:()=>c},elements:()=>Array.from({length:ei.length-2},(f,I)=>[0,I+1,I+2])}),$h=()=>{if(!($n>=0))return;const[f,I]=Fn.points[$n].slice(0,2),j=[f,I,0,1];fr(n,dn,fr(n,Me.view,Tn)),V0(j,j,n),Bi.setPoints([-1,j[1],1,j[1]]),ao.setPoints([j[0],1,j[0],-1]),Bi.draw(),ao.draw(),Lr(()=>(pn+Dn*2)*window.devicePixelRatio,()=>1,so,hp)(),Lr(()=>(pn+Dn)*window.devicePixelRatio,()=>1,so,by)()},Tl=f=>{const I=new Float32Array(f*2);let j=0;for(let oe=0;oe<f;++oe){const Te=pl(oe);I[j]=Te[0],I[j+1]=Te[1],j+=2}return I},nu=(f,I={})=>{const j=f.length;Cr=Math.max(2,Math.ceil(Math.sqrt(j))),Ls=.5/Cr;const oe=new Float32Array(Cr**2*4);let Te=!0,Be=!0,He=0,dt=0,$t=0;for(let It=0;It<j;++It)He=It*4,oe[He]=f[It][0],oe[He+1]=f[It][1],dt=f[It][2]||0,$t=f[It][3]||0,oe[He+2]=dt,oe[He+3]=$t,Te&&(Te=Number.isInteger(dt)),Be&&(Be=Number.isInteger($t));return I.z&&Py.includes(I.z)?Ei=I.z:Ei=Te?jl:Pi,I.w&&Py.includes(I.w)?Gi=I.w:Gi=Be?jl:Pi,a.regl.texture({data:oe,shape:[Cr,Cr,4],type:"float"})},nf=(f,I={})=>{if(!yi)return!1;if(zi){const j=xi;xi=_i,j.destroy()}else xi=yi;return _i=nu(f,I),Dc=a.regl.framebuffer({color:_i,depth:!1,stencil:!1}),yi=void 0,!0},ru=()=>!!(xi&&_i),zh=()=>{xi&&(xi.destroy(),xi=void 0),_i&&(_i.destroy(),_i=void 0)},yo=(f,I={})=>{mr=!1,Sn=f.length,nr=Sn,yi&&yi.destroy(),yi=nu(f,I),lo({usage:"static",type:"float",data:Tl(Sn)}),Fn=new Y_(f,j=>j[0],j=>j[1],16),mr=!0},rf=(f,I)=>{al=Me.target,ol=f,ll=Me.distance[0],sl=I},Gh=()=>al!==void 0&&ol!==void 0&&ll!==void 0&&sl!==void 0,jh=()=>{al=void 0,ol=void 0,ll=void 0,sl=void 0},Uh=f=>{const I=Xe==="inherit"?u:Xe;if(I==="segment"){const j=gt.length-1;return j<1?[]:f.reduce((oe,Te,Be)=>{let He=0;const dt=[];for(let It=2;It<Te.length;It+=2){const Cn=Math.sqrt((Te[It-2]-Te[It])**2+(Te[It-1]-Te[It+1])**2);dt.push(Cn),He+=Cn}oe[Be]=[0];let $t=0;for(let It=0;It<Te.length/2-1;It++)$t+=dt[It],oe[Be].push(Math.floor($t/He*j)*4);return oe},[])}if(I){const j=bp(I),oe=Vs(Us(I),Xe==="inherit"?We:gt);return Bn.reduce((Te,[Be,He])=>(Te[Be]=oe(He[j])*4,Te),[])}return Array(Bn.length).fill(0)},Vh=()=>{const f=be==="inherit"?an:be;if(f==="segment"){const I=_e.length-1;return I<1?[]:Bn.reduce((j,[oe,Te,Be])=>(j[oe]=Ay(Be,He=>_e[Math.floor(He/(Be-1)*I)]),j),[])}if(f){const I=bp(f),j=be==="inherit"?Bt:_e,oe=Vs(Us(f),j);return Bn.reduce((Te,[Be,He])=>(Te[Be]=j[oe(He[I])],Te),[])}},Hh=()=>{const f=Xt==="inherit"?At:Xt;if(f==="segment"){const I=wt.length-1;return I<1?[]:Bn.reduce((j,[oe,Te,Be])=>(j[oe]=Ay(Be,He=>wt[Math.floor(He/(Be-1)*I)]),j),[])}if(f){const I=bp(f),j=Xt==="inherit"?Ot:wt,oe=Vs(Us(f),j);return Bn.reduce((Te,[Be,He])=>(Te[Be]=j[oe(He[I])],Te),[])}},Wh=f=>{Bn=[];let I=0;Object.keys(f).forEach((j,oe)=>{Bn[j]=[oe,f[j].reference,f[j].length/2,I],I+=f[j].length/2})},Ea=f=>new Promise(I=>{Yt.setPoints([]),!f||!f.length?I():(Ar=!0,xS(f,{maxIntPointsPerSegment:qt,tolerance:Nt}).then(j=>{Wh(j);const oe=Object.values(j);Yt.setPoints(oe.length===1?oe[0]:oe,{colorIndices:Uh(oe),opacities:Vh(),widths:Hh()}),Ar=!1,I()}))}),xo=({preventEvent:f=!1}={})=>(Rt=!1,mn.clear(),lo.subdata(Tl(Sn)),new Promise(I=>{const j=()=>{t.subscribe("draw",()=>{f||t.publish("unfilter"),I()},1),mt=!0};Ht||co(Fn.points[0])?Ea(Ms()).then(()=>{f||t.publish("pointConnectionsDraw"),j()}):j()})),af=(f,{preventEvent:I=!1}={})=>{const j=Array.isArray(f)?f:[f];Rt=!0,mn.clear();const oe=[],Te=[];for(let Be=j.length-1;Be>=0;Be--){const He=j[Be];if(He<0||He>=Sn){j.splice(Be,1);continue}mn.add(He),oe.push.apply(oe,pl(He)),Kt.has(He)&&Te.push(He)}return lo.subdata(oe),ga(Te,{preventEvent:I}),mn.has($n)||fo(-1,{preventEvent:I}),new Promise(Be=>{const He=()=>{t.subscribe("draw",()=>{I||t.publish("filter",{points:j}),Be()},1),mt=!0};Ht||co(Fn.points[0])?Ea(Ms()).then(()=>{I||t.publish("pointConnectionsDraw"),ga(Te,{preventEvent:I}),He()}):He()})},_o=()=>hl(fa[0],fa[1],oo[0],oo[1]),Sa=l5(()=>{nr=_o().length},_),of=f=>{const[I,j]=al,[oe,Te]=ol,Be=1-f,He=I*Be+oe*f,dt=j*Be+Te*f,$t=ll*Be+sl*f;Me.lookAt([He,dt],$t)},lf=()=>ru(),sf=()=>Gh(),uf=(f,I)=>{uo||(uo=performance.now());const j=performance.now()-uo,oe=kE(I(j/f),0,1);return lf()&&Js({t:oe}),sf()&&of(oe),j<f},cf=()=>{zi=!1,uo=null,Ps=void 0,Os=void 0,ke=Fc,zh(),jh(),t.publish("transitionEnd")},Al=({duration:f=500,easing:I=Ry})=>{zi&&t.publish("transitionEnd"),zi=!0,uo=null,Ps=f,Os=Nm(I)?ww[I]||Ry:I,Fc=ke,ke=!1,t.publish("transitionStart")},Xh=f=>new Promise((I,j)=>{if(!f||Array.isArray(f))I(f);else{const oe=Array.isArray(f.x)||ArrayBuffer.isView(f.x)?f.x.length:0,Te=(Array.isArray(f.x)||ArrayBuffer.isView(f.x))&&(Vt=>f.x[Vt]),Be=(Array.isArray(f.y)||ArrayBuffer.isView(f.y))&&(Vt=>f.y[Vt]),He=(Array.isArray(f.line)||ArrayBuffer.isView(f.line))&&(Vt=>f.line[Vt]),dt=(Array.isArray(f.lineOrder)||ArrayBuffer.isView(f.lineOrder))&&(Vt=>f.lineOrder[Vt]),$t=Object.keys(f),It=(()=>{const Vt=$t.find(Dt=>h5.has(Dt));return Vt&&(Array.isArray(f[Vt])||ArrayBuffer.isView(f[Vt]))&&(Dt=>f[Vt][Dt])})(),Cn=(()=>{const Vt=$t.find(Dt=>p5.has(Dt));return Vt&&(Array.isArray(f[Vt])||ArrayBuffer.isView(f[Vt]))&&(Dt=>f[Vt][Dt])})();Te&&Be&&It&&Cn&&He&&dt?I(f.x.map((Vt,Dt)=>[Vt,Be(Dt),It(Dt),Cn(Dt),He(Dt),dt(Dt)])):Te&&Be&&It&&Cn&&He?I(Array.from({length:oe},(Vt,Dt)=>[Te(Dt),Be(Dt),It(Dt),Cn(Dt),He(Dt)])):Te&&Be&&It&&Cn?I(Array.from({length:oe},(Vt,Dt)=>[Te(Dt),Be(Dt),It(Dt),Cn(Dt)])):Te&&Be&&It?I(Array.from({length:oe},(Vt,Dt)=>[Te(Dt),Be(Dt),It(Dt)])):Te&&Be?I(Array.from({length:oe},(Vt,Dt)=>[Te(Dt),Be(Dt)])):j(new Error("You need to specify at least x and y"))}}),Ta=(f,I={})=>Et?Promise.reject(new Error("The instance was already destroyed")):Xh(f).then(j=>new Promise(oe=>{if(Et){oe();return}let Te=!1;(!I.preventFilterReset||(j==null?void 0:j.length)!==Sn)&&(Rt=!1,mn.clear());const Be=j&&co(j[0])&&(Ht||I.showPointConnectionsOnce),{zDataType:He,wDataType:dt}=I;j&&(I.transition&&(j.length===Sn?Te=nf(j,{z:He,w:dt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),yo(j,{z:He,w:dt}),I.hover!==void 0&&fo(I.hover,{preventEvent:!0}),I.select!==void 0&&ga(I.select,{preventEvent:!0}),I.filter!==void 0&&af(I.filter,{preventEvent:!0}),Be&&Ea(j).then(()=>{t.publish("pointConnectionsDraw"),mt=!0,$i=I.showReticleOnce})),I.transition&&Te?(Be?Promise.all([new Promise($t=>{t.subscribe("transitionEnd",()=>{mt=!0,$i=I.showReticleOnce,$t()},1)}),new Promise($t=>{t.subscribe("pointConnectionsDraw",$t,1)})]).then(oe):t.subscribe("transitionEnd",()=>{mt=!0,$i=I.showReticleOnce,oe()},1),Al({duration:I.transitionDuration,easing:I.transitionEasing})):(Be?Promise.all([new Promise($t=>{t.subscribe("draw",$t,1)}),new Promise($t=>{t.subscribe("pointConnectionsDraw",$t,1)})]).then(oe):t.subscribe("draw",oe,1),mt=!0,$i=I.showReticleOnce)})),On=f=>(...I)=>{const j=f(...I);return mt=!0,j},ff=f=>{let I=1/0,j=-1/0,oe=1/0,Te=-1/0;for(let Be=0;Be<f.length;Be++){const[He,dt]=Fn.points[f[Be]];I=Math.min(I,He),j=Math.max(j,He),oe=Math.min(oe,dt),Te=Math.max(Te,dt)}return{x:I,y:oe,width:j-I,height:Te-oe}},iu=(f,I={})=>new Promise(j=>{const oe=[f.x+f.width/2,f.y+f.height/2],Te=2*Math.atan(1),Be=f.height*ti>f.width?f.height/2/Math.tan(Te/2):f.width/2/Math.tan(Te*ti/2);I.transition?(Me.config({isFixed:!0}),rf(oe,Be),t.subscribe("transitionEnd",()=>{j(),Me.config({isFixed:!1})},1),Al({duration:I.transitionDuration,easing:I.transitionEasing})):(Me.lookAt(oe,Be),t.subscribe("draw",j,1),mt=!0)}),Yi=(f,I={})=>{if(!mr)return Promise.reject(new Error(Oy));const j=ff(f),oe=j.x+j.width/2,Te=j.y+j.height/2,Be=$c(),He=1+(I.padding||0),dt=Math.max(j.width,Be)*He,$t=Math.max(j.height,Be)*He,It=oe-dt/2,Cn=Te-$t/2;return iu({x:It,y:Cn,width:dt,height:$t},I)},au=(f,I,j={})=>new Promise(oe=>{j.transition?(Me.config({isFixed:!0}),rf(f,I),t.subscribe("transitionEnd",()=>{oe(),Me.config({isFixed:!1})},1),Al({duration:j.transitionDuration,easing:j.transitionEasing})):(Me.lookAt(f,I),t.subscribe("draw",oe,1),mt=!0)}),df=(f={})=>au([0,0],1,f),Yh=f=>{if(!mr)throw new Error(Oy);const I=Fn.points[f];if(!I)return;const j=[I[0],I[1],0,1];fr(n,xt,fr(n,Me.view,Tn)),V0(j,j,n);const oe=fn*(j[0]+1)/2,Te=tn*(.5-j[1]/2);return[oe,Te]},ou=()=>{Yt.setStyle({color:Bs(gt,pt,we),opacity:_e===null?null:_e[0],width:wt[0]})},hf=()=>{const f=Math.round(bt)>.5?0:255;Pn.initiator.style.border=`1px dashed rgba(${f}, ${f}, ${f}, 0.33)`,Pn.initiator.style.background=`rgba(${f}, ${f}, ${f}, 0.1)`},pf=()=>{const f=Math.round(bt)>.5?0:255;Pn.longPressIndicator.style.color=`rgb(${f}, ${f}, ${f})`,Pn.longPressIndicator.dataset.color=`rgb(${f}, ${f}, ${f})`;const I=c.map(j=>Math.round(j*255));Pn.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},lu=f=>{f&&(o=xr(f,!0),bt=Dy(o),hf(),pf())},mf=f=>{f?Nm(f)?My(a.regl,f).then(I=>{l=I,mt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${f}`),l=null}):f._reglType==="texture2d"?l=f:l=null:l=null},qh=f=>{f>0&&Me.lookAt(Me.target,f,Me.rotation)},vf=f=>{f!==null&&Me.lookAt(Me.target,Me.distance[0],f)},gf=f=>{f&&Me.lookAt(f,Me.distance[0],Me.rotation)},yf=f=>{f&&Me.setView(f)},Cl=f=>{if(!f)return;c=xr(f,!0),Qt.setStyle({color:c});const I=c.map(j=>Math.round(j*255));Pn.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},Qh=f=>{Number.isNaN(+f)||+f<1||(v=+f,Qt.setStyle({width:v}))},Ai=f=>{+f&&(x=+f,Pn.set({minDelay:x}))},bl=f=>{+f&&(R=+f,Pn.set({minDist:R}))},xf=f=>{M=ky(Ew,M)(f)},_f=f=>{g=!!f,Pn.set({enableInitiator:g})},wf=f=>{T=f,Pn.set({startInitiatorParentElement:T})},Ef=f=>{E=!!f},Sf=f=>{O=Number(f)},Tf=f=>{G=Number(f)},Af=f=>{q=Number(f)},Cf=f=>{de=Number(f)},bf=f=>{J=Object.entries(f).reduce((I,[j,oe])=>(Ow.includes(j)&&Pw.includes(oe)&&(I[j]=oe),I),{}),nl=Iy(J),nl[Ld]?Me.config({isRotate:!0,mouseDownMoveModKey:nl[Ld]}):Me.config({isRotate:!1})},Pr=f=>{Ze=ky(xw,Jv)(f),Me.config({defaultMouseDownMoveAction:Ze===c5?"rotate":"pan"})},Lf=f=>{f!==null&&(ke=f)},Zh=f=>{f&&(je=xr(f,!0),Bi.setStyle({color:je}),ao.setStyle({color:je}))},ii=f=>{f&&(Un=f,ma=f.domain()[0],cl=f?f.domain()[1]-f.domain()[0]:0,Un.range([0,fn]),Ui())},su=f=>{f&&(An=f,fl=An.domain()[0],dl=An?An.domain()[1]-An.domain()[0]:0,An.range([tn,0]),Ui())},qi=f=>{d=!!f},Ll=f=>{p=!!f},Rf=f=>{Ht=!!f,Ht?co(Fn.points[0])&&Ea(Ms()).then(()=>{t.publish("pointConnectionsDraw"),mt=!0}):Ea()},Rl=(f,I)=>j=>{if(j==="inherit")f([...I()]);else{const oe=Ma(j)?j:[j];f(oe.map(Te=>xr(Te,!0)))}ou()},Pf=Rl(f=>{gt=f},()=>We),Of=Rl(f=>{pt=f},()=>nt),kf=Rl(f=>{we=f},()=>Qe),Kh=f=>{Oa(f,ka,{minLength:1})&&(_e=[...f]),E0(+f)&&(_e=[+f]),gt=gt.map(I=>(I[3]=Number.isNaN(+_e[0])?I[3]:+_e[0],I)),ou()},Jh=f=>{!Number.isNaN(+f)&&+f&&(Je=+f)},e1=f=>{Oa(f,ka,{minLength:1})&&(wt=[...f]),E0(+f)&&(wt=[+f]),ou()},t1=f=>{!Number.isNaN(+f)&&+f&&(Lt=Math.max(0,f))},n1=f=>{qt=Math.max(0,f)},r1=f=>{Nt=Math.max(0,f)},i1=f=>{cn=f,Ti()},Mf=f=>{ft=+f},Nf=f=>{vt=+f},a1=f=>{Mt=+f},o1=f=>{a.gamma=f},uu=f=>{if(Cp({property:!0}),f==="aspectRatio")return ae;if(f==="background"||f==="backgroundColor")return o;if(f==="backgroundImage")return l;if(f==="camera")return Me;if(f==="cameraTarget")return Me.target;if(f==="cameraDistance")return Me.distance[0];if(f==="cameraRotation")return Me.rotation;if(f==="cameraView")return Me.view;if(f==="canvas")return s;if(f==="colorBy")return u;if(f==="sizeBy")return At;if(f==="deselectOnDblClick")return d;if(f==="deselectOnEscape")return p;if(f==="height")return ct;if(f==="lassoColor")return c;if(f==="lassoLineWidth")return v;if(f==="lassoMinDelay")return x;if(f==="lassoMinDist")return R;if(f==="lassoClearEvent")return M;if(f==="lassoInitiator")return g;if(f==="lassoInitiatorElement")return Pn.initiator;if(f==="lassoInitiatorParentElement")return T;if(f==="keyMap")return{...J};if(f==="mouseMode")return Ze;if(f==="opacity")return Bt.length===1?Bt[0]:Bt;if(f==="opacityBy")return an;if(f==="opacityByDensityFill")return ft;if(f==="opacityByDensityDebounceTime")return _;if(f==="opacityInactiveMax")return vt;if(f==="opacityInactiveScale")return Mt;if(f==="points")return Fn.points;if(f==="hoveredPoint")return $n;if(f==="selectedPoints")return[...ze];if(f==="filteredPoints")return Rt?Array.from(mn):Array.from({length:Fn.points.length},(I,j)=>j);if(f==="pointsInView")return _o();if(f==="pointColor")return We.length===1?We[0]:We;if(f==="pointColorActive")return nt.length===1?nt[0]:nt;if(f==="pointColorHover")return Qe.length===1?Qe[0]:Qe;if(f==="pointOutlineWidth")return Dn;if(f==="pointSize")return Ot.length===1?Ot[0]:Ot;if(f==="pointSizeSelected")return pn;if(f==="pointSizeMouseDetection")return cn;if(f==="showPointConnections")return Ht;if(f==="pointConnectionColor")return gt.length===1?gt[0]:gt;if(f==="pointConnectionColorActive")return pt.length===1?pt[0]:pt;if(f==="pointConnectionColorHover")return we.length===1?we[0]:we;if(f==="pointConnectionColorBy")return Xe;if(f==="pointConnectionOpacity")return _e.length===1?_e[0]:_e;if(f==="pointConnectionOpacityBy")return be;if(f==="pointConnectionOpacityActive")return Je;if(f==="pointConnectionSize")return wt.length===1?wt[0]:wt;if(f==="pointConnectionSizeActive")return Lt;if(f==="pointConnectionSizeBy")return Xt;if(f==="pointConnectionMaxIntPointsPerSegment")return qt;if(f==="pointConnectionTolerance")return Nt;if(f==="reticleColor")return je;if(f==="regl")return a.regl;if(f==="showReticle")return ke;if(f==="version")return _S;if(f==="width")return Ft;if(f==="xScale")return Un;if(f==="yScale")return An;if(f==="performanceMode")return Gr;if(f==="gamma")return a.gamma;if(f==="renderer")return a;if(f==="isDestroyed")return Et;if(f==="isPointsDrawn")return mr;if(f==="isPointsFiltered")return Rt;if(f==="zDataType")return Ei;if(f==="wDataType")return Gi},wo=(f={})=>(Cp(f),(f.backgroundColor!==void 0||f.background!==void 0)&&lu(f.backgroundColor||f.background),f.backgroundImage!==void 0&&mf(f.backgroundImage),f.cameraTarget!==void 0&&gf(f.cameraTarget),f.cameraDistance!==void 0&&qh(f.cameraDistance),f.cameraRotation!==void 0&&vf(f.cameraRotation),f.cameraView!==void 0&&yf(f.cameraView),f.colorBy!==void 0&&Uc(f.colorBy),f.pointColor!==void 0&&Eh(f.pointColor),f.pointColorActive!==void 0&&Sh(f.pointColorActive),f.pointColorHover!==void 0&&Si(f.pointColorHover),f.pointSize!==void 0&&Gc(f.pointSize),f.pointSizeSelected!==void 0&&xa(f.pointSizeSelected),f.pointSizeMouseDetection!==void 0&&i1(f.pointSizeMouseDetection),f.sizeBy!==void 0&&Lh(f.sizeBy),f.opacity!==void 0&&Ch(f.opacity),f.showPointConnections!==void 0&&Rf(f.showPointConnections),f.pointConnectionColor!==void 0&&Pf(f.pointConnectionColor),f.pointConnectionColorActive!==void 0&&Of(f.pointConnectionColorActive),f.pointConnectionColorHover!==void 0&&kf(f.pointConnectionColorHover),f.pointConnectionColorBy!==void 0&&Vc(f.pointConnectionColorBy),f.pointConnectionOpacityBy!==void 0&&Jt(f.pointConnectionOpacityBy),f.pointConnectionOpacity!==void 0&&Kh(f.pointConnectionOpacity),f.pointConnectionOpacityActive!==void 0&&Jh(f.pointConnectionOpacityActive),f.pointConnectionSize!==void 0&&e1(f.pointConnectionSize),f.pointConnectionSizeActive!==void 0&&t1(f.pointConnectionSizeActive),f.pointConnectionSizeBy!==void 0&&Hc(f.pointConnectionSizeBy),f.pointConnectionMaxIntPointsPerSegment!==void 0&&n1(f.pointConnectionMaxIntPointsPerSegment),f.pointConnectionTolerance!==void 0&&r1(f.pointConnectionTolerance),f.opacityBy!==void 0&&bh(f.opacityBy),f.lassoColor!==void 0&&Cl(f.lassoColor),f.lassoLineWidth!==void 0&&Qh(f.lassoLineWidth),f.lassoMinDelay!==void 0&&Ai(f.lassoMinDelay),f.lassoMinDist!==void 0&&bl(f.lassoMinDist),f.lassoClearEvent!==void 0&&xf(f.lassoClearEvent),f.lassoInitiator!==void 0&&_f(f.lassoInitiator),f.lassoInitiatorParentElement!==void 0&&wf(f.lassoInitiatorParentElement),f.lassoOnLongPress!==void 0&&Ef(f.lassoOnLongPress),f.lassoLongPressTime!==void 0&&Sf(f.lassoLongPressTime),f.lassoLongPressAfterEffectTime!==void 0&&Tf(f.lassoLongPressAfterEffectTime),f.lassoLongPressEffectDelay!==void 0&&Af(f.lassoLongPressEffectDelay),f.lassoLongPressRevertEffectTime!==void 0&&Cf(f.lassoLongPressRevertEffectTime),f.keyMap!==void 0&&bf(f.keyMap),f.mouseMode!==void 0&&Pr(f.mouseMode),f.showReticle!==void 0&&Lf(f.showReticle),f.reticleColor!==void 0&&Zh(f.reticleColor),f.pointOutlineWidth!==void 0&&jc(f.pointOutlineWidth),f.height!==void 0&&Ah(f.height),f.width!==void 0&&js(f.width),f.aspectRatio!==void 0&&wh(f.aspectRatio),f.xScale!==void 0&&ii(f.xScale),f.yScale!==void 0&&su(f.yScale),f.deselectOnDblClick!==void 0&&qi(f.deselectOnDblClick),f.deselectOnEscape!==void 0&&Ll(f.deselectOnEscape),f.opacityByDensityFill!==void 0&&Mf(f.opacityByDensityFill),f.opacityInactiveMax!==void 0&&Nf(f.opacityInactiveMax),f.opacityInactiveScale!==void 0&&a1(f.opacityInactiveScale),f.gamma!==void 0&&o1(f.gamma),new Promise(I=>{window.requestAnimationFrame(()=>{s&&(zs(),Me.refresh(),a.refresh(),mt=!0,I())})})),l1=(f,{preventEvent:I=!1}={})=>{yf(f),mt=!0,rl=I},If=()=>{Me||(Me=U_(s,{isPanInverted:[!1,!0]})),e.cameraView?Me.setView(_y(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Me.lookAt([...e.cameraTarget||nE],e.cameraDistance||rE,e.cameraRotation||iE):Me.setView(_y(aE)),oo=br(1,1),fa=br(-1,-1)},s1=({preventEvent:f=!1}={})=>{If(),Ui(),!f&&t.publish("view",{view:Me.view,camera:Me,xScale:Un,yScale:An})},Df=({key:f})=>{switch(f){case"Escape":p&&ml();break}},Ff=()=>{jr=!0,wi=!0},cu=()=>{fo(),jr=!1,wi=!0,mt=!0},Bf=()=>{mt=!0},u1=()=>{yo([]),Yt.clear()},Eo=()=>{Me.refresh();const f=Ft===ki,I=ct===ki;if(f||I){const{width:j,height:oe}=s.getBoundingClientRect();f&&ri(j),I&&Vi(oe),zs(),mt=!0}},c1=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),f1=()=>{zs(),If(),Ui(),Qt=w0(a.regl,{color:c,width:v,is2d:!0}),Yt=w0(a.regl,{color:gt,colorHover:we,colorActive:pt,opacity:_e===null?null:_e[0],width:wt[0],widthActive:Lt,is2d:!0}),Bi=w0(a.regl,{color:je,width:1,is2d:!0}),ao=w0(a.regl,{color:je,width:1,is2d:!0}),Ti(),s.addEventListener("wheel",Bf),lo=a.regl.buffer(),Rs=a.regl.buffer(),so=a.regl.buffer({usage:"dynamic",type:"float",length:yw*2}),da=$s(),ul=xl();const f=wo({backgroundImage:l,width:Ft,height:ct,keyMap:J});hf(),pf(),window.addEventListener("keyup",Df,!1),window.addEventListener("blur",po,!1),window.addEventListener("mouseup",Fs,!1),window.addEventListener("mousemove",ni,!1),s.addEventListener("mousedown",Ds,!1),s.addEventListener("mouseenter",Ff,!1),s.addEventListener("mouseleave",cu,!1),s.addEventListener("click",gl,!1),s.addEventListener("dblclick",yl,!1),"ResizeObserver"in window?(il=new ResizeObserver(Eo),il.observe(s)):(window.addEventListener("resize",Eo),window.addEventListener("orientationchange",Eo)),f.then(()=>{t.publish("init")})},Aa=a.onFrame(()=>{ks=Me.tick(),!(!mr||!(mt||zi))&&(zi&&!uf(Ps,Os)&&cf(),ks&&(oo=br(1,1),fa=br(-1,-1),an==="density"&&Sa()),a.render(()=>{const f=s.width/a.canvas.width,I=s.height/a.canvas.height;_h(f,I),l&&l._reglType&&Bh(),ei.length>2&&tu(),zi||Yt.draw({projection:Xc(),model:mo(),view:Sl()}),Mh(),!yt&&(ke||$i)&&$h(),$n>=0&&Nh(),ze.length&&Fh(),Qt.draw({projection:Xc(),model:mo(),view:Sl()})},s),ks&&(Ui(),rl?rl=!1:t.publish("view",{view:Me.view,camera:Me,xScale:Un,yScale:An})),mt=!1,$i=!1,t.publish("draw"))}),d1=()=>{mt=!0},h1=()=>{mr=!1,Et=!0,Aa(),window.removeEventListener("keyup",Df,!1),window.removeEventListener("blur",po,!1),window.removeEventListener("mouseup",Fs,!1),window.removeEventListener("mousemove",ni,!1),s.removeEventListener("mousedown",Ds,!1),s.removeEventListener("mouseenter",Ff,!1),s.removeEventListener("mouseleave",cu,!1),s.removeEventListener("click",gl,!1),s.removeEventListener("dblclick",yl,!1),s.removeEventListener("wheel",Bf,!1),il?il.disconnect():(window.removeEventListener("resize",Eo),window.removeEventListener("orientationchange",Eo)),s=void 0,Me.dispose(),Me=void 0,Qt.destroy(),Pn.destroy(),Yt.destroy(),Bi.destroy(),ao.destroy(),e.renderer||a.destroy(),t.publish("destroy"),t.clear()};return f1(),{get isSupported(){return a.isSupported},clear:On(u1),createTextureFromUrl:(f,I=a2)=>My(a.regl,f,I),deselect:ml,destroy:h1,draw:Ta,filter:af,get:uu,getScreenPosition:Yh,hover:fo,redraw:d1,refresh:a.refresh,reset:On(s1),select:ga,set:wo,export:c1,subscribe:t.subscribe,unfilter:xo,unsubscribe:t.unsubscribe,view:l1,zoomToLocation:au,zoomToArea:iu,zoomToPoints:Yi,zoomToOrigin:df}};function H0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ES(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function y5(e){let t,n,r;e.length!==2?(t=H0,n=(l,s)=>H0(e(l),s),r=(l,s)=>e(l)-s):(t=e===H0||e===ES?e:SS,n=e,r=e);function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<0?u=p+1:d=p}while(u<d)}return u}function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,s,u=0,d=l.length){const p=i(l,s,u,d-1);return p>u&&r(l[p-1],s)>-r(l[p],s)?p-1:p}return{left:i,center:o,right:a}}function SS(){return 0}function TS(e){return e===null?NaN:+e}const AS=y5(H0),CS=AS.right;y5(TS).center;const bS=CS;function LS(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class RS extends Map{constructor(t,n=kS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(By(this,t))}has(t){return super.has(By(this,t))}set(t,n){return super.set(PS(this,t),n)}delete(t){return super.delete(OS(this,t))}}function By({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function PS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function OS({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function kS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MS(e){return e}function NS(e,...t){return IS(e,Array.from,MS,t)}function IS(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const l=new RS,s=r[o++];let u=-1;for(const d of a){const p=s(d,++u,a),c=l.get(p);c?c.push(d):l.set(p,[d])}for(const[d,p]of l)l.set(d,i(p,o));return t(l)}(e,0)}const DS=Math.sqrt(50),FS=Math.sqrt(10),BS=Math.sqrt(2);function Od(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=DS?10:a>=FS?5:a>=BS?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Od(e,t,n*2):[l,s,u]}function Im(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Od(t,e,n):Od(e,t,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)s[u]=(a-u)/-o;else for(let u=0;u<l;++u)s[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(i+u)/-o;else for(let u=0;u<l;++u)s[u]=(i+u)*o;return s}function Dm(e,t,n){return t=+t,e=+e,n=+n,Od(e,t,n)[2]}function $S(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Dm(t,e,n):Dm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function x5(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zS(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function lh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cs(){}var qo=.7,ys=1/qo,us="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GS=/^#([0-9a-f]{3,8})$/,jS=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),US=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),VS=new RegExp(`^rgba\\(${us},${us},${us},${yc}\\)$`),HS=new RegExp(`^rgba\\(${Di},${Di},${Di},${yc}\\)$`),WS=new RegExp(`^hsl\\(${yc},${Di},${Di}\\)$`),XS=new RegExp(`^hsla\\(${yc},${Di},${Di},${yc}\\)$`),$y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lh(Cs,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zy,formatHex:zy,formatHex8:YS,formatHsl:qS,formatRgb:Gy,toString:Gy});function zy(){return this.rgb().formatHex()}function YS(){return this.rgb().formatHex8()}function qS(){return w5(this).formatHsl()}function Gy(){return this.rgb().formatRgb()}function Qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?jy(t):n===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?T0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?T0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jS.exec(e))?new or(t[1],t[2],t[3],1):(t=US.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VS.exec(e))?T0(t[1],t[2],t[3],t[4]):(t=HS.exec(e))?T0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WS.exec(e))?Hy(t[1],t[2]/100,t[3]/100,1):(t=XS.exec(e))?Hy(t[1],t[2]/100,t[3]/100,t[4]):$y.hasOwnProperty(e)?jy($y[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function jy(e){return new or(e>>16&255,e>>8&255,e&255,1)}function T0(e,t,n,r){return r<=0&&(e=t=n=NaN),new or(e,t,n,r)}function _5(e){return e instanceof Cs||(e=Qo(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function kd(e,t,n,r){return arguments.length===1?_5(e):new or(e,t,n,r??1)}function or(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lh(or,kd,o2(Cs,{brighter(e){return e=e==null?ys:Math.pow(ys,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(Go(this.r),Go(this.g),Go(this.b),Md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uy,formatHex:Uy,formatHex8:QS,formatRgb:Vy,toString:Vy}));function Uy(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}`}function QS(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}${Bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vy(){const e=Md(this.opacity);return`${e===1?"rgb(":"rgba("}${Go(this.r)}, ${Go(this.g)}, ${Go(this.b)}${e===1?")":`, ${e})`}`}function Md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Go(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bo(e){return e=Go(e),(e<16?"0":"")+e.toString(16)}function Hy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new di(e,t,n,r)}function w5(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);if(e instanceof Cs||(e=Qo(e)),!e)return new di;if(e instanceof di)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new di(o,l,s,e.opacity)}function ZS(e,t,n,r){return arguments.length===1?w5(e):new di(e,t,n,r??1)}function di(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lh(di,ZS,o2(Cs,{brighter(e){return e=e==null?ys:Math.pow(ys,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new or(Lp(e>=240?e-240:e+120,i,r),Lp(e,i,r),Lp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new di(Wy(this.h),A0(this.s),A0(this.l),Md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Md(this.opacity);return`${e===1?"hsl(":"hsla("}${Wy(this.h)}, ${A0(this.s)*100}%, ${A0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wy(e){return e=(e||0)%360,e<0?e+360:e}function A0(e){return Math.max(0,Math.min(1,e||0))}function Lp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const KS=Math.PI/180,JS=180/Math.PI;var E5=-.14861,l2=1.78277,s2=-.29227,sh=-.90649,xc=1.97294,Xy=xc*sh,Yy=xc*l2,qy=l2*s2-sh*E5;function eT(e){if(e instanceof jo)return new jo(e.h,e.s,e.l,e.opacity);e instanceof or||(e=_5(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(qy*r+Xy*t-Yy*n)/(qy+Xy-Yy),a=r-i,o=(xc*(n-i)-s2*a)/sh,l=Math.sqrt(o*o+a*a)/(xc*i*(1-i)),s=l?Math.atan2(o,a)*JS-120:NaN;return new jo(s<0?s+360:s,l,i,e.opacity)}function Ja(e,t,n,r){return arguments.length===1?eT(e):new jo(e,t,n,r??1)}function jo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lh(jo,Ja,o2(Cs,{brighter(e){return e=e==null?ys:Math.pow(ys,e),new jo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new jo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*KS,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new or(255*(t+n*(E5*r+l2*i)),255*(t+n*(s2*r+sh*i)),255*(t+n*(xc*r)),this.opacity)}}));const uh=e=>()=>e;function S5(e,t){return function(n){return e+n*t}}function tT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nT(e,t){var n=t-e;return n?S5(e,n>180||n<-180?n-360*Math.round(n/360):n):uh(isNaN(e)?t:e)}function rT(e){return(e=+e)==1?cs:function(t,n){return n-t?tT(t,n,e):uh(isNaN(t)?n:t)}}function cs(e,t){var n=t-e;return n?S5(e,n):uh(isNaN(e)?t:e)}const Nd=function e(t){var n=rT(t);function r(i,a){var o=n((i=kd(i)).r,(a=kd(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),u=cs(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function iT(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function aT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oT(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ch(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function lT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sT(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ch(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Fm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rp=new RegExp(Fm.source,"g");function uT(e){return function(){return e}}function cT(e){return function(t){return e(t)+""}}function T5(e,t){var n=Fm.lastIndex=Rp.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Fm.exec(e))&&(i=Rp.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:fi(r,i)})),n=Rp.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?cT(s[0].x):uT(t):(t=s.length,function(u){for(var d=0,p;d<t;++d)l[(p=s[d]).i]=p.x(u);return l.join("")})}function ch(e,t){var n=typeof t,r;return t==null||n==="boolean"?uh(t):(n==="number"?fi:n==="string"?(r=Qo(t))?(t=r,Nd):T5:t instanceof Qo?Nd:t instanceof Date?lT:aT(t)?iT:Array.isArray(t)?oT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sT:fi)(e,t)}function A5(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Qy=180/Math.PI,Bm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C5(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Qy,skewX:Math.atan(s)*Qy,scaleX:o,scaleY:l}}var C0;function fT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bm:C5(t.a,t.b,t.c,t.d,t.e,t.f)}function dT(e){return e==null||(C0||(C0=document.createElementNS("http://www.w3.org/2000/svg","g")),C0.setAttribute("transform",e),!(e=C0.transform.baseVal.consolidate()))?Bm:(e=e.matrix,C5(e.a,e.b,e.c,e.d,e.e,e.f))}function b5(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,d,p,c,v,x){if(u!==p||d!==c){var R=v.push("translate(",null,t,null,n);x.push({i:R-4,x:fi(u,p)},{i:R-2,x:fi(d,c)})}else(p||c)&&v.push("translate("+p+t+c+n)}function o(u,d,p,c){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),c.push({i:p.push(i(p)+"rotate(",null,r)-2,x:fi(u,d)})):d&&p.push(i(p)+"rotate("+d+r)}function l(u,d,p,c){u!==d?c.push({i:p.push(i(p)+"skewX(",null,r)-2,x:fi(u,d)}):d&&p.push(i(p)+"skewX("+d+r)}function s(u,d,p,c,v,x){if(u!==p||d!==c){var R=v.push(i(v)+"scale(",null,",",null,")");x.push({i:R-4,x:fi(u,p)},{i:R-2,x:fi(d,c)})}else(p!==1||c!==1)&&v.push(i(v)+"scale("+p+","+c+")")}return function(u,d){var p=[],c=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,p,c),o(u.rotate,d.rotate,p,c),l(u.skewX,d.skewX,p,c),s(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,c),u=d=null,function(v){for(var x=-1,R=c.length,M;++x<R;)p[(M=c[x]).i]=M.x(v);return p.join("")}}}var hT=b5(fT,"px, ","px)","deg)"),pT=b5(dT,", ",")",")");function L5(e){return function t(n){n=+n;function r(i,a){var o=e((i=Ja(i)).h,(a=Ja(a)).h),l=cs(i.s,a.s),s=cs(i.l,a.l),u=cs(i.opacity,a.opacity);return function(d){return i.h=o(d),i.s=l(d),i.l=s(Math.pow(d,n)),i.opacity=u(d),i+""}}return r.gamma=t,r}(1)}L5(nT);var R5=L5(cs);function mT(e){return function(){return e}}function vT(e){return+e}var Zy=[0,1];function Ga(e){return e}function $m(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mT(isNaN(t)?NaN:.5)}function gT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yT(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=$m(i,r),a=n(o,a)):(r=$m(r,i),a=n(a,o)),function(l){return a(r(l))}}function xT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=$m(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var s=bS(e,l,1,r)-1;return a[s](i[s](l))}}function P5(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function O5(){var e=Zy,t=Zy,n=ch,r,i,a,o=Ga,l,s,u;function d(){var c=Math.min(e.length,t.length);return o!==Ga&&(o=gT(e[0],e[c-1])),l=c>2?xT:yT,s=u=null,p}function p(c){return c==null||isNaN(c=+c)?a:(s||(s=l(e.map(r),t,n)))(r(o(c)))}return p.invert=function(c){return o(i((u||(u=l(t,e.map(r),fi)))(c)))},p.domain=function(c){return arguments.length?(e=Array.from(c,vT),d()):e.slice()},p.range=function(c){return arguments.length?(t=Array.from(c),d()):t.slice()},p.rangeRound=function(c){return t=Array.from(c),n=A5,d()},p.clamp=function(c){return arguments.length?(o=c?!0:Ga,d()):o!==Ga},p.interpolate=function(c){return arguments.length?(n=c,d()):n},p.unknown=function(c){return arguments.length?(a=c,p):a},function(c,v){return r=c,i=v,d()}}function _T(){return O5()(Ga,Ga)}function wT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Id(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xs(e){return e=Id(Math.abs(e)),e?e[1]:NaN}function ET(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ST(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var TT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=TT.exec(e)))throw new Error("invalid format: "+e);var t;return new u2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=u2.prototype;function u2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var k5;function CT(e,t){var n=Id(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(k5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Id(e,Math.max(0,t+a-1))[0]}function Ky(e,t){var n=Id(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jy={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ky(e*100,t),r:Ky,s:CT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function e3(e){return e}var t3=Array.prototype.map,n3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bT(e){var t=e.grouping===void 0||e.thousands===void 0?e3:ET(t3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?e3:ST(t3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(p){p=_c(p);var c=p.fill,v=p.align,x=p.sign,R=p.symbol,M=p.zero,g=p.width,T=p.comma,E=p.precision,O=p.trim,G=p.type;G==="n"?(T=!0,G="g"):Jy[G]||(E===void 0&&(E=12),O=!0,G="g"),(M||c==="0"&&v==="=")&&(M=!0,c="0",v="=");var q=R==="$"?n:R==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",de=R==="$"?r:/[%p]/.test(G)?o:"",J=Jy[G],Ze=/[defgprs%]/.test(G);E=E===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function ke(je){var We=q,nt=de,Qe,Ht,gt;if(G==="c")nt=J(je)+nt,je="";else{je=+je;var pt=je<0||1/je<0;if(je=isNaN(je)?s:J(Math.abs(je),E),O&&(je=AT(je)),pt&&+je==0&&x!=="+"&&(pt=!1),We=(pt?x==="("?x:l:x==="-"||x==="("?"":x)+We,nt=(G==="s"?n3[8+k5/3]:"")+nt+(pt&&x==="("?")":""),Ze){for(Qe=-1,Ht=je.length;++Qe<Ht;)if(gt=je.charCodeAt(Qe),48>gt||gt>57){nt=(gt===46?i+je.slice(Qe+1):je.slice(Qe))+nt,je=je.slice(0,Qe);break}}}T&&!M&&(je=t(je,1/0));var we=We.length+je.length+nt.length,Xe=we<g?new Array(g-we+1).join(c):"";switch(T&&M&&(je=t(Xe+je,Xe.length?g-nt.length:1/0),Xe=""),v){case"<":je=We+je+nt+Xe;break;case"=":je=We+Xe+je+nt;break;case"^":je=Xe.slice(0,we=Xe.length>>1)+We+je+nt+Xe.slice(we);break;default:je=Xe+We+je+nt;break}return a(je)}return ke.toString=function(){return p+""},ke}function d(p,c){var v=u((p=_c(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(xs(c)/3)))*3,R=Math.pow(10,-x),M=n3[8+x/3];return function(g){return v(R*g)+M}}return{format:u,formatPrefix:d}}var b0,c2,M5;LT({thousands:",",grouping:[3],currency:["$",""]});function LT(e){return b0=bT(e),c2=b0.format,M5=b0.formatPrefix,b0}function RT(e){return Math.max(0,-xs(Math.abs(e)))}function PT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xs(t)/3)))*3-xs(Math.abs(e)))}function OT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xs(t)-xs(e))+1}function kT(e,t,n,r){var i=$S(e,t,n),a;switch(r=_c(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=PT(i,o))&&(r.precision=a),M5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=OT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=RT(i))&&(r.precision=a-(r.type==="%")*2);break}}return c2(r)}function N5(e){var t=e.domain;return e.ticks=function(n){var r=t();return Im(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return kT(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=Dm(o,l,n),u===s)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function wc(){var e=_T();return e.copy=function(){return P5(e,wc())},x5.apply(e,arguments),N5(e)}function MT(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function r3(e){return Math.log(e)}function i3(e){return Math.exp(e)}function NT(e){return-Math.log(-e)}function IT(e){return-Math.exp(-e)}function DT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function FT(e){return e===10?DT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function a3(e){return(t,n)=>-e(-t,n)}function $T(e){const t=e(r3,i3),n=t.domain;let r=10,i,a;function o(){return i=BT(r),a=FT(r),n()[0]<0?(i=a3(i),a=a3(a),e(NT,IT)):e(r3,i3),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let u=s[0],d=s[s.length-1];const p=d<u;p&&([u,d]=[d,u]);let c=i(u),v=i(d),x,R;const M=l==null?10:+l;let g=[];if(!(r%1)&&v-c<M){if(c=Math.floor(c),v=Math.ceil(v),u>0){for(;c<=v;++c)for(x=1;x<r;++x)if(R=c<0?x/a(-c):x*a(c),!(R<u)){if(R>d)break;g.push(R)}}else for(;c<=v;++c)for(x=r-1;x>=1;--x)if(R=c>0?x/a(-c):x*a(c),!(R<u)){if(R>d)break;g.push(R)}g.length*2<M&&(g=Im(u,d,M))}else g=Im(c,v,Math.min(v-c,M)).map(a);return p?g.reverse():g},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=_c(s)).precision==null&&(s.trim=!0),s=c2(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=u?s(d):""}},t.nice=()=>n(MT(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function f2(){const e=$T(O5()).domain([1,10]);return e.copy=()=>P5(e,f2()).base(e.base()),x5.apply(e,arguments),e}function zT(){var e=0,t=1,n,r,i,a,o=Ga,l=!1,s;function u(p){return p==null||isNaN(p=+p)?s:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(c){var v,x;return arguments.length?([v,x]=c,o=p(v,x),u):[o(0),o(1)]}}return u.range=d(ch),u.rangeRound=d(A5),u.unknown=function(p){return arguments.length?(s=p,u):s},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),u}}function GT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I5(){var e=N5(zT()(Ga));return e.copy=function(){return GT(e,I5())},zS.apply(e,arguments)}R5(Ja(-100,.75,.35),Ja(80,1.5,.8));var jT=R5(Ja(260,.75,.35),Ja(80,1.5,.8));Ja();const UT="_scatter_lrznx_2",VT={scatter:UT};D5.propTypes={points:qe.array.isRequired,colors:qe.array,width:qe.number.isRequired,height:qe.number.isRequired,duration:qe.number,onScatter:qe.func,onView:qe.func,onSelect:qe.func,onHover:qe.func};const HT=e=>f2().domain([100,1e6]).range([6,1]).clamp(!0)(e),WT=e=>f2().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function D5({points:e,categories:t,width:n,height:r,duration:i=0,onScatter:a,onView:o,onSelect:l,onHover:s}){const u=K.useRef(),d=K.useRef([-1,1]),p=K.useRef([-1,1]),c=wc().domain(d.current),v=wc().domain(p.current),x=K.useRef(null);K.useEffect(()=>{const M={canvas:u.current,width:n,height:r,pointColorHover:[.1,.1,.1,.5],xScale:c,yScale:v},g=wS(M);return x.current=g,o&&o(c,v),g.subscribe("view",({camera:T,view:E,xScale:O,yScale:G})=>{d.current=O.domain(),p.current=G.domain(),o&&o(d.current,p.current)}),g.subscribe("select",({points:T})=>{l&&l(T)}),g.subscribe("deselect",()=>{l&&l([])}),g.subscribe("pointOver",T=>{s&&s(T)}),g.subscribe("pointOut",()=>{s&&s(null)}),a&&a(g),()=>{x.current=null,g.destroy()}},[n,r,a,o,l,s]);const R=K.useRef();return K.useEffect(()=>{const M=x.current,g=R.current;if(M&&e&&e.length){const T=HT(e.length),E=WT(e.length);let O=[250/255,128/255,114/255,1],G=e[0].length===3;if(G){const q=NS(e.map(J=>J[2]),J=>J).map(J=>J[0]).sort((J,Ze)=>J-Ze),de=I5(jT).domain(LS(q).reverse());O=q.map(J=>kd(de(J)).hex())}M.set({opacity:E,pointSize:T}),G&&M.set({colorBy:"valueA"}),g&&g.length===e.length?M.draw(e,{transition:!0,transitionDuration:i}).then(()=>{M.set({pointColor:O}),M.draw(e,{transition:!1})}):(M.set({pointColor:O}),M.draw(e,{transition:!1})),R.current=e}},[e,t,n,r]),ue.jsx("canvas",{className:VT.scatter,ref:u})}const Mu=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:a,yDomain:o,width:l,height:s})=>{const u=K.useRef();return K.useEffect(()=>{if(a&&o){const d=wc().domain(a).range([0,l]),p=wc().domain(o).range([s,0]),c=M=>M/(.1+a[1]-a[0]),x=u.current.getContext("2d");x.clearRect(0,0,l,s),x.fillStyle=t,x.strokeStyle=n,x.font=`${c(r)}px monospace`,x.globalAlpha=.75;let R=c(r);if(!e.length)return;e.map(M=>{M&&(t&&x.fillRect(d(M[0])-R/2,p(M[1])-R/2,R,R),n&&x.strokeRect(d(M[0])-R/2,p(M[1])-R/2,R,R),i&&x.fillText(i,d(M[0])-R/3.2,p(M[1])+R/3.2))})}},[e,t,n,r,a,o,l,s]),ue.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function zl(e){return function(){return e}}const zm=Math.PI,Gm=2*zm,No=1e-6,XT=Gm-No;function F5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function YT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F5;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let qT=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F5:YT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,u=i-n,d=o-t,p=l-n,c=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>No)if(!(Math.abs(p*s-u*d)>No)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,x=i-l,R=s*s+u*u,M=v*v+x*x,g=Math.sqrt(R),T=Math.sqrt(c),E=a*Math.tan((zm-Math.acos((R+c-M)/(2*g*T)))/2),O=E/T,G=E/g;Math.abs(O-1)>No&&this._append`L${t+O*d},${n+O*p}`,this._append`A${a},${a},0,0,${+(p*v>d*x)},${this._x1=t+G*s},${this._y1=n+G*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,d=n+s,p=1^o,c=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>No||Math.abs(this._y1-d)>No)&&this._append`L${u},${d}`,r&&(c<0&&(c=c%Gm+Gm),c>XT?this._append`A${r},${r},0,1,${p},${t-l},${n-s}A${r},${r},0,1,${p},${this._x1=u},${this._y1=d}`:c>No&&this._append`A${r},${r},0,${+(c>=zm)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function QT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qT(t)}function ZT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B5(e){this._context=e}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function KT(e){return new B5(e)}function JT(e){return e[0]}function eA(e){return e[1]}function o3(e,t){var n=zl(!0),r=null,i=KT,a=null,o=QT(l);e=typeof e=="function"?e:e===void 0?JT:zl(e),t=typeof t=="function"?t:t===void 0?eA:zl(t);function l(s){var u,d=(s=ZT(s)).length,p,c=!1,v;for(r==null&&(a=i(v=o())),u=0;u<=d;++u)!(u<d&&n(p=s[u],u,s))===c&&((c=!c)?a.lineStart():a.lineEnd()),c&&a.point(+e(p,u,s),+t(p,u,s));if(v)return a=null,v+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:zl(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:zl(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:zl(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}function l3(){}function $5(e){this._context=e}$5.prototype={areaStart:l3,areaEnd:l3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s3(e){return new $5(e)}var jm="http://www.w3.org/1999/xhtml";const u3={svg:"http://www.w3.org/2000/svg",xhtml:jm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),u3.hasOwnProperty(t)?{space:u3[t],local:e}:e}function tA(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===jm&&t.documentElement.namespaceURI===jm?t.createElement(e):t.createElementNS(n,e)}}function nA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function z5(e){var t=fh(e);return(t.local?nA:tA)(t)}function rA(){}function d2(e){return e==null?rA:function(){return this.querySelector(e)}}function iA(e){typeof e!="function"&&(e=d2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,u,d=0;d<o;++d)(s=a[d])&&(u=e.call(s,s.__data__,d,a))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u);return new Br(r,this._parents)}function aA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function oA(){return[]}function G5(e){return e==null?oA:function(){return this.querySelectorAll(e)}}function lA(e){return function(){return aA(e.apply(this,arguments))}}function sA(e){typeof e=="function"?e=lA(e):e=G5(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&(r.push(e.call(s,s.__data__,u,o)),i.push(s));return new Br(r,i)}function j5(e){return function(){return this.matches(e)}}function U5(e){return function(t){return t.matches(e)}}var uA=Array.prototype.find;function cA(e){return function(){return uA.call(this.children,e)}}function fA(){return this.firstElementChild}function dA(e){return this.select(e==null?fA:cA(typeof e=="function"?e:U5(e)))}var hA=Array.prototype.filter;function pA(){return Array.from(this.children)}function mA(e){return function(){return hA.call(this.children,e)}}function vA(e){return this.selectAll(e==null?pA:mA(typeof e=="function"?e:U5(e)))}function gA(e){typeof e!="function"&&(e=j5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new Br(r,this._parents)}function V5(e){return new Array(e.length)}function yA(){return new Br(this._enter||this._groups.map(V5),this._parents)}function Dd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dd.prototype={constructor:Dd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xA(e){return function(){return e}}function _A(e,t,n,r,i,a){for(var o=0,l,s=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new Dd(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function wA(e,t,n,r,i,a,o){var l,s,u=new Map,d=t.length,p=a.length,c=new Array(d),v;for(l=0;l<d;++l)(s=t[l])&&(c[l]=v=o.call(s,s.__data__,l,t)+"",u.has(v)?i[l]=s:u.set(v,s));for(l=0;l<p;++l)v=o.call(e,a[l],l,a)+"",(s=u.get(v))?(r[l]=s,s.__data__=a[l],u.delete(v)):n[l]=new Dd(e,a[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function EA(e){return e.__data__}function SA(e,t){if(!arguments.length)return Array.from(this,EA);var n=t?wA:_A,r=this._parents,i=this._groups;typeof e!="function"&&(e=xA(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),u=0;u<a;++u){var d=r[u],p=i[u],c=p.length,v=TA(e.call(d,d&&d.__data__,u,r)),x=v.length,R=l[u]=new Array(x),M=o[u]=new Array(x),g=s[u]=new Array(c);n(d,p,R,M,g,v,t);for(var T=0,E=0,O,G;T<x;++T)if(O=R[T]){for(T>=E&&(E=T+1);!(G=M[E])&&++E<x;);O._next=G||null}}return o=new Br(o,r),o._enter=l,o._exit=s,o}function TA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AA(){return new Br(this._exit||this._groups.map(V5),this._parents)}function CA(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function bA(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u=n[s],d=r[s],p=u.length,c=l[s]=new Array(p),v,x=0;x<p;++x)(v=u[x]||d[x])&&(c[x]=v);for(;s<i;++s)l[s]=n[s];return new Br(l,this._parents)}function LA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function RA(e){e||(e=PA);function t(p,c){return p&&c?e(p.__data__,c.__data__):!p-!c}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(s[d]=u);s.sort(t)}return new Br(i,this._parents).order()}function PA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function OA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kA(){return Array.from(this)}function MA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function NA(){let e=0;for(const t of this)++e;return e}function IA(){return!this.node()}function DA(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function FA(e){return function(){this.removeAttribute(e)}}function BA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $A(e,t){return function(){this.setAttribute(e,t)}}function zA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function UA(e,t){var n=fh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?BA:FA:typeof t=="function"?n.local?jA:GA:n.local?zA:$A)(n,t))}function H5(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function VA(e){return function(){this.style.removeProperty(e)}}function HA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function WA(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function XA(e,t,n){return arguments.length>1?this.each((t==null?VA:typeof t=="function"?WA:HA)(e,t,n??"")):_s(this.node(),e)}function _s(e,t){return e.style.getPropertyValue(t)||H5(e).getComputedStyle(e,null).getPropertyValue(t)}function YA(e){return function(){delete this[e]}}function qA(e,t){return function(){this[e]=t}}function QA(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ZA(e,t){return arguments.length>1?this.each((t==null?YA:typeof t=="function"?QA:qA)(e,t)):this.node()[e]}function W5(e){return e.trim().split(/^|\s+/)}function h2(e){return e.classList||new X5(e)}function X5(e){this._node=e,this._names=W5(e.getAttribute("class")||"")}X5.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Y5(e,t){for(var n=h2(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function q5(e,t){for(var n=h2(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function KA(e){return function(){Y5(this,e)}}function JA(e){return function(){q5(this,e)}}function eC(e,t){return function(){(t.apply(this,arguments)?Y5:q5)(this,e)}}function tC(e,t){var n=W5(e+"");if(arguments.length<2){for(var r=h2(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?eC:t?KA:JA)(n,t))}function nC(){this.textContent=""}function rC(e){return function(){this.textContent=e}}function iC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function aC(e){return arguments.length?this.each(e==null?nC:(typeof e=="function"?iC:rC)(e)):this.node().textContent}function oC(){this.innerHTML=""}function lC(e){return function(){this.innerHTML=e}}function sC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function uC(e){return arguments.length?this.each(e==null?oC:(typeof e=="function"?sC:lC)(e)):this.node().innerHTML}function cC(){this.nextSibling&&this.parentNode.appendChild(this)}function fC(){return this.each(cC)}function dC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hC(){return this.each(dC)}function pC(e){var t=typeof e=="function"?e:z5(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mC(){return null}function vC(e,t){var n=typeof e=="function"?e:z5(e),r=t==null?mC:typeof t=="function"?t:d2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function gC(){var e=this.parentNode;e&&e.removeChild(this)}function yC(){return this.each(gC)}function xC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _C(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wC(e){return this.select(e?_C:xC)}function EC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function SC(e){return function(t){e.call(this,t,this.__data__)}}function TC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function AC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function CC(e,t,n){return function(){var r=this.__on,i,a=SC(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function bC(e,t,n){var r=TC(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,d;s<u;++s)for(i=0,d=l[s];i<a;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?CC:AC,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function Q5(e,t,n){var r=H5(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function LC(e,t){return function(){return Q5(this,e,t)}}function RC(e,t){return function(){return Q5(this,e,t.apply(this,arguments))}}function PC(e,t){return this.each((typeof t=="function"?RC:LC)(e,t))}function*OC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Z5=[null];function Br(e,t){this._groups=e,this._parents=t}function Mc(){return new Br([[document.documentElement]],Z5)}function kC(){return this}Br.prototype=Mc.prototype={constructor:Br,select:iA,selectAll:sA,selectChild:dA,selectChildren:vA,filter:gA,data:SA,enter:yA,exit:AA,join:CA,merge:bA,selection:kC,order:LA,sort:RA,call:OA,nodes:kA,node:MA,size:NA,empty:IA,each:DA,attr:UA,style:XA,property:ZA,classed:tC,text:aC,html:uC,raise:fC,lower:hC,append:pC,insert:vC,remove:yC,clone:wC,datum:EC,on:bC,dispatch:PC,[Symbol.iterator]:OC};function c3(e){return typeof e=="string"?new Br([[document.querySelector(e)]],[document.documentElement]):new Br([[e]],Z5)}var MC={value:()=>{}};function K5(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new W0(n)}function W0(e){this._=e}function NC(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}W0.prototype=K5.prototype={constructor:W0,on:function(e,t){var n=this._,r=NC(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=IC(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=f3(n[i],e.name,t);else if(t==null)for(i in n)n[i]=f3(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new W0(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function IC(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function f3(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=MC,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ws=0,zu=0,Nu=0,J5=1e3,Fd,Gu,Bd=0,Zo=0,dh=0,Ec=typeof performance=="object"&&performance.now?performance:Date,e8=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p2(){return Zo||(e8(DC),Zo=Ec.now()+dh)}function DC(){Zo=0}function $d(){this._call=this._time=this._next=null}$d.prototype=t8.prototype={constructor:$d,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?p2():+n)+(t==null?0:+t),!this._next&&Gu!==this&&(Gu?Gu._next=this:Fd=this,Gu=this),this._call=e,this._time=n,Um()},stop:function(){this._call&&(this._call=null,this._time=1/0,Um())}};function t8(e,t,n){var r=new $d;return r.restart(e,t,n),r}function FC(){p2(),++ws;for(var e=Fd,t;e;)(t=Zo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ws}function d3(){Zo=(Bd=Ec.now())+dh,ws=zu=0;try{FC()}finally{ws=0,$C(),Zo=0}}function BC(){var e=Ec.now(),t=e-Bd;t>J5&&(dh-=t,Bd=e)}function $C(){for(var e,t=Fd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fd=n);Gu=e,Um(r)}function Um(e){if(!ws){zu&&(zu=clearTimeout(zu));var t=e-Zo;t>24?(e<1/0&&(zu=setTimeout(d3,e-Ec.now()-dh)),Nu&&(Nu=clearInterval(Nu))):(Nu||(Bd=Ec.now(),Nu=setInterval(BC,J5)),ws=1,e8(d3))}}function h3(e,t,n){var r=new $d;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var zC=K5("start","end","cancel","interrupt"),GC=[],n8=0,p3=1,Vm=2,X0=3,m3=4,Hm=5,Y0=6;function hh(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;jC(e,n,{name:t,index:r,group:i,on:zC,tween:GC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:n8})}function m2(e,t){var n=gi(e,t);if(n.state>n8)throw new Error("too late; already scheduled");return n}function Fi(e,t){var n=gi(e,t);if(n.state>X0)throw new Error("too late; already running");return n}function gi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jC(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=t8(a,0,n.time);function a(u){n.state=p3,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,p,c,v;if(n.state!==p3)return s();for(d in r)if(v=r[d],v.name===n.name){if(v.state===X0)return h3(o);v.state===m3?(v.state=Y0,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=Y0,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(h3(function(){n.state===X0&&(n.state=m3,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Vm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Vm){for(n.state=X0,i=new Array(c=n.tween.length),d=0,p=-1;d<c;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=v);i.length=p+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Hm,1),p=-1,c=i.length;++p<c;)i[p].call(e,d);n.state===Hm&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Y0,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function UC(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Vm&&r.state<Hm,r.state=Y0,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function VC(e){return this.each(function(){UC(this,e)})}function HC(e,t){var n,r;return function(){var i=Fi(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function WC(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Fi(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function XC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=gi(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?HC:WC)(n,e,t))}function v2(e,t,n){var r=e._id;return e.each(function(){var i=Fi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return gi(i,r).value[t]}}function r8(e,t){var n;return(typeof t=="number"?fi:t instanceof Qo?Nd:(n=Qo(t))?(t=n,Nd):T5)(e,t)}function YC(e){return function(){this.removeAttribute(e)}}function qC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function ZC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function KC(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function JC(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function eb(e,t){var n=fh(e),r=n==="transform"?pT:r8;return this.attrTween(e,typeof t=="function"?(n.local?JC:KC)(n,r,v2(this,"attr."+e,t)):t==null?(n.local?qC:YC)(n):(n.local?ZC:QC)(n,r,t))}function tb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function nb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rb(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&nb(e,a)),n}return i._value=t,i}function ib(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&tb(e,a)),n}return i._value=t,i}function ab(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fh(e);return this.tween(n,(r.local?rb:ib)(r,t))}function ob(e,t){return function(){m2(this,e).delay=+t.apply(this,arguments)}}function lb(e,t){return t=+t,function(){m2(this,e).delay=t}}function sb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ob:lb)(t,e)):gi(this.node(),t).delay}function ub(e,t){return function(){Fi(this,e).duration=+t.apply(this,arguments)}}function cb(e,t){return t=+t,function(){Fi(this,e).duration=t}}function fb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ub:cb)(t,e)):gi(this.node(),t).duration}function db(e,t){if(typeof t!="function")throw new Error;return function(){Fi(this,e).ease=t}}function hb(e){var t=this._id;return arguments.length?this.each(db(t,e)):gi(this.node(),t).ease}function pb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Fi(this,e).ease=n}}function mb(e){if(typeof e!="function")throw new Error;return this.each(pb(this._id,e))}function vb(e){typeof e!="function"&&(e=j5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new sa(r,this._parents,this._name,this._id)}function gb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],u=n[l],d=s.length,p=o[l]=new Array(d),c,v=0;v<d;++v)(c=s[v]||u[v])&&(p[v]=c);for(;l<r;++l)o[l]=t[l];return new sa(o,this._parents,this._name,this._id)}function yb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xb(e,t,n){var r,i,a=yb(t)?m2:Fi;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function _b(e,t){var n=this._id;return arguments.length<2?gi(this.node(),n).on.on(e):this.each(xb(n,e,t))}function wb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Eb(){return this.on("end.remove",wb(this._id))}function Sb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=d2(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,u=a[o]=new Array(s),d,p,c=0;c<s;++c)(d=l[c])&&(p=e.call(d,d.__data__,c,l))&&("__data__"in d&&(p.__data__=d.__data__),u[c]=p,hh(u[c],t,n,c,u,gi(d,n)));return new sa(a,this._parents,t,n)}function Tb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=G5(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],u=s.length,d,p=0;p<u;++p)if(d=s[p]){for(var c=e.call(d,d.__data__,p,s),v,x=gi(d,n),R=0,M=c.length;R<M;++R)(v=c[R])&&hh(v,t,n,R,c,x);a.push(c),o.push(d)}return new sa(a,o,t,n)}var Ab=Mc.prototype.constructor;function Cb(){return new Ab(this._groups,this._parents)}function bb(e,t){var n,r,i;return function(){var a=_s(this,e),o=(this.style.removeProperty(e),_s(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function i8(e){return function(){this.style.removeProperty(e)}}function Lb(e,t,n){var r,i=n+"",a;return function(){var o=_s(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function Rb(e,t,n){var r,i,a;return function(){var o=_s(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),_s(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function Pb(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=Fi(this,e),u=s.on,d=s.value[a]==null?l||(l=i8(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(o,i=d),s.on=r}}function Ob(e,t,n){var r=(e+="")=="transform"?hT:r8;return t==null?this.styleTween(e,bb(e,r)).on("end.style."+e,i8(e)):typeof t=="function"?this.styleTween(e,Rb(e,r,v2(this,"style."+e,t))).each(Pb(this._id,e)):this.styleTween(e,Lb(e,r,t),n).on("end.style."+e,null)}function kb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mb(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&kb(e,o,n)),r}return a._value=t,a}function Nb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Mb(e,t,n??""))}function Ib(e){return function(){this.textContent=e}}function Db(e){return function(){var t=e(this);this.textContent=t??""}}function Fb(e){return this.tween("text",typeof e=="function"?Db(v2(this,"text",e)):Ib(e==null?"":e+""))}function Bb(e){return function(t){this.textContent=e.call(this,t)}}function $b(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Bb(i)),t}return r._value=e,r}function zb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$b(e))}function Gb(){for(var e=this._name,t=this._id,n=a8(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)if(s=o[u]){var d=gi(s,t);hh(s,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new sa(r,this._parents,e,n)}function jb(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var u=Fi(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&a()})}var Ub=0;function sa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function a8(){return++Ub}var Ki=Mc.prototype;sa.prototype={constructor:sa,select:Sb,selectAll:Tb,selectChild:Ki.selectChild,selectChildren:Ki.selectChildren,filter:vb,merge:gb,selection:Cb,transition:Gb,call:Ki.call,nodes:Ki.nodes,node:Ki.node,size:Ki.size,empty:Ki.empty,each:Ki.each,on:_b,attr:eb,attrTween:ab,style:Ob,styleTween:Nb,text:Fb,textTween:zb,remove:Eb,tween:XC,delay:sb,duration:fb,ease:hb,easeVarying:mb,end:jb,[Symbol.iterator]:Ki[Symbol.iterator]};function o8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function Vb(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function v3(e){return 1-Vb(e)}var Hb={time:null,delay:0,duration:250,ease:o8};function Wb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xb(e){var t,n;e instanceof sa?(t=e._id,e=e._name):(t=a8(),(n=Hb).time=p2(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&hh(s,e,t,u,o,n||Wb(s,t));return new sa(r,this._parents,e,t)}Mc.prototype.interrupt=VC;Mc.prototype.transition=Xb;function Yb(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function qb(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],l=r[1],s=0;++t<n;)i=o,a=l,r=e[t],o=r[0],l=r[1],i-=o,a-=l,s+=Math.sqrt(i*i+a*a);return s}var q0={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Qb=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Zb(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&Qb.indexOf(e)>=0}function Kb(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function Jb(e){return(e|32)===97}function Gl(e){return e>=48&&e<=57}function eL(e){return e>=48&&e<=57||e===43||e===45||e===46}function tL(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function Q0(e){for(;e.index<e.max&&Zb(e.path.charCodeAt(e.index));)e.index++}function nL(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function rL(e){var t=e.index,n=t,r=e.max,i=!1,a=!1,o=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!Gl(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&Gl(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&Gl(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;Gl(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!a&&!o){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&Gl(e.path.charCodeAt(n)))for(;n<r&&Gl(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function Pp(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=q0[n]&&(e.result.push([t].concat(r.splice(0,q0[n]))),!!q0[n]););}function iL(e){var t=e.max,n,r,i,a,o;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=Jb(n),!Kb(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(a=q0[e.path[e.index].toLowerCase()],e.index++,Q0(e),e.data=[],!a){Pp(e);return}for(i=!1;;){for(o=a;o>0;o--){if(r&&(o===3||o===4)?nL(e):rL(e),e.err.length){Pp(e);return}e.data.push(e.param),Q0(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,Q0(e),i=!0)}if(!i&&(e.index>=e.max||!eL(e.path.charCodeAt(e.index))))break}Pp(e)}var aL=function(t){var n=new tL(t),r=n.max;for(Q0(n);n.index<r&&!n.err.length;)iL(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function oL(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function vi(){if(!(this instanceof vi))return new vi;this.queue=[],this.cache=null}vi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};vi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};vi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};vi.prototype.rotate=function(e,t,n){var r,i,a;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),a=Math.sin(r),this.queue.push([i,a,-a,i,0,0]),this.cache=null,this.translate(-t,-n)),this};vi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};vi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};vi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=oL(this.cache,this.queue[e]);return this.cache};vi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var l8=vi,lL=l8,sL={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},uL=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,cL=/[\s,]+/,fL=function(t){var n=new lL,r,i;return t.split(uL).forEach(function(a){if(a.length){if(typeof sL[a]<"u"){r=a;return}switch(i=a.split(cL).map(function(o){return+o||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},Zu=Math.PI*2;function g3(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function dL(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,v=l*l,x=d*d,R=p*p,M=c*v-c*R-v*x;M<0&&(M=0),M/=c*R+v*x,M=Math.sqrt(M)*(i===a?-1:1);var g=M*o/l*p,T=M*-l/o*d,E=u*g-s*T+(e+n)/2,O=s*g+u*T+(t+r)/2,G=(d-g)/o,q=(p-T)/l,de=(-d-g)/o,J=(-p-T)/l,Ze=g3(1,0,G,q),ke=g3(G,q,de,J);return a===0&&ke>0&&(ke-=Zu),a===1&&ke<0&&(ke+=Zu),[E,O,Ze,ke]}function hL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}var pL=function(t,n,r,i,a,o,l,s,u){var d=Math.sin(u*Zu/360),p=Math.cos(u*Zu/360),c=p*(t-r)/2+d*(n-i)/2,v=-d*(t-r)/2+p*(n-i)/2;if(c===0&&v===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var x=c*c/(l*l)+v*v/(s*s);x>1&&(l*=Math.sqrt(x),s*=Math.sqrt(x));var R=dL(t,n,r,i,a,o,l,s,d,p),M=[],g=R[2],T=R[3],E=Math.max(Math.ceil(Math.abs(T)/(Zu/4)),1);T/=E;for(var O=0;O<E;O++)M.push(hL(g,T)),g+=T;return M.map(function(G){for(var q=0;q<G.length;q+=2){var de=G[q+0],J=G[q+1];de*=l,J*=s;var Ze=p*de-d*J,ke=d*de+p*J;G[q+0]=Ze+R[0],G[q+1]=ke+R[1]}return G})},Ku=1e-10,y3=Math.PI/180;function Sc(e,t,n){if(!(this instanceof Sc))return new Sc(e,t,n);this.rx=e,this.ry=t,this.ax=n}Sc.prototype.transform=function(e){var t=Math.cos(this.ax*y3),n=Math.sin(this.ax*y3),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],a=r[1]*r[1]+r[3]*r[3],o=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+a)/2;if(o<Ku*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];o=Math.sqrt(o);var u=l+o/2,d=l-o/2;return this.ax=Math.abs(s)<Ku&&Math.abs(u-a)<Ku?90:Math.atan(Math.abs(s)>Math.abs(u-a)?(u-i)/s:s/(u-a))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(d)):(this.ax+=90,this.rx=Math.sqrt(d),this.ry=Math.sqrt(u)),this};Sc.prototype.isDegenerate=function(){return this.rx<Ku*this.ry||this.ry<Ku*this.rx};var mL=Sc,vL=aL,gL=fL,io=l8,yL=pL,xL=mL;function _n(e){if(!(this instanceof _n))return new _n(e);var t=vL(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}_n.from=function(e){if(typeof e=="string")return new _n(e);if(e instanceof _n){var t=new _n("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return io().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};_n.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,a,o){var l,s,u,d;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(a,r[1],!1),s=l[0]===e.calc(a,o,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],o,!1),s=l[1]===e.calc(a,o,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var p=e.toArray(),c=xL(r[1],r[2],r[3]).transform(p);if(p[0]*p[3]-p[1]*p[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===a&&r[7]===o||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":d=i>0,l=e.calc(r[1],r[2],d),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],d=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],d),s.push(l[0],l[1])}t.segments[i]=s},!0)};_n.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=io(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};_n.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var a=this.segments[r],o=a[0];o!==t||o==="m"||o==="M"?(o==="m"&&t==="z"&&(e+=" "),e+=o,n=!1):n=!0;for(var l=1;l<a.length;l++){var s=a[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=o}return e};_n.prototype.translate=function(e,t){return this.__stack.push(io().translate(e,t||0)),this};_n.prototype.scale=function(e,t){return this.__stack.push(io().scale(e,!t&&t!==0?e:t)),this};_n.prototype.rotate=function(e,t,n){return this.__stack.push(io().rotate(e,t||0,n||0)),this};_n.prototype.skewX=function(e){return this.__stack.push(io().skewX(e)),this};_n.prototype.skewY=function(e){return this.__stack.push(io().skewY(e)),this};_n.prototype.matrix=function(e){return this.__stack.push(io().matrix(e)),this};_n.prototype.transform=function(e){return e.trim()?(this.__stack.push(gL(e)),this):this};_n.prototype.round=function(e){var t=0,n=0,r=0,i=0,a;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(o){var l=o[0].toLowerCase()===o[0];switch(o[0]){case"H":case"h":l&&(o[1]+=r),r=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"V":case"v":l&&(o[1]+=i),i=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(o[1]+=r,o[2]+=i),r=o[1]-o[1].toFixed(e),i=o[2]-o[2].toFixed(e),t=r,n=i,o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e);return;case"A":case"a":l&&(o[6]+=r,o[7]+=i),r=o[6]-o[6].toFixed(e),i=o[7]-o[7].toFixed(e),o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e),o[3]=+o[3].toFixed(e+2),o[6]=+o[6].toFixed(e),o[7]=+o[7].toFixed(e);return;default:a=o.length,l&&(o[a-2]+=r,o[a-1]+=i),r=o[a-2]-o[a-2].toFixed(e),i=o[a-1]-o[a-1].toFixed(e),o.forEach(function(s,u){u&&(o[u]=+o[u].toFixed(e))});return}}),this};_n.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,a=0,o=0,l=0,s=0,u,d,p;if(t||this.__evaluateStack(),n.forEach(function(c,v){var x=e(c,v,a,o);Array.isArray(x)&&(r[v]=x,i=!0);var R=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":a=c[1]+(R?a:0),o=c[2]+(R?o:0),l=a,s=o;return;case"h":case"H":a=c[1]+(R?a:0);return;case"v":case"V":o=c[1]+(R?o:0);return;case"z":case"Z":a=l,o=s;return;default:a=c[c.length-2]+(R?a:0),o=c[c.length-1]+(R?o:0)}}),!i)return this;for(p=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(d=0;d<r[u].length;d++)p.push(r[u][d]);else p.push(n[u]);return this.segments=p,this};_n.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toUpperCase(),o;if(i!==a)switch(e[0]=a,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(o=1;o<e.length;o++)e[o]+=o%2?n:r}},!0),this};_n.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toLowerCase(),o;if(i!==a&&!(t===0&&i==="M"))switch(e[0]=a,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(o=1;o<e.length;o++)e[o]-=o%2?n:r}},!0),this};_n.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,a,o,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(a=n+e[6],o=r+e[7]):(a=e[6],o=e[7]),i=yL(n,r,a,o,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};_n.prototype.unshort=function(){var e=this.segments,t,n,r,i,a;return this.iterate(function(o,l,s,u){var d=o[0],p=d.toUpperCase(),c;l&&(p==="T"?(c=d==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"q":"Q",i,a,o[1],o[2]]):p==="S"&&(c=d==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"c":"C",i,a,o[1],o[2],o[3],o[4]]))}),this};var _L=_n,wL=_L;const EL=Gd(wL);var Op={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},SL=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function TL(e){var t=[];return e.replace(SL,function(n,r,i){var a=r.toLowerCase();for(i=CL(i),a==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),a="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===Op[a])return i.unshift(r),t.push(i);if(i.length<Op[a])throw new Error("malformed path data");t.push([r].concat(i.splice(0,Op[a])))}}),t}var AL=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function CL(e){var t=e.match(AL);return t?t.map(Number):[]}function li(e,t,n,r,i,a,o,l){return new Wm(e,t,n,r,i,a,o,l)}function Wm(e,t,n,r,i,a,o,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:a},this.d={x:o,y:l},o!=null&&l!==null&&l!==void 0?(this.getArcLength=DL,this.getPoint=RL,this.getDerivative=LL):(this.getArcLength=PL,this.getPoint=s8,this.getDerivative=bL),this.init()}Wm.prototype={constructor:Wm,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=kp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=kp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=kp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var a=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:a.x,y:a.y,tangentX:i.x,tangentY:i.y}}};function bL(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function LL(e,t,n){var r=s8([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function kp(e,t,n,r,i){for(var a=1,o=e/t,l=(e-n(r,i,o))/t;a>.001;){var s=n(r,i,o+l),u=n(r,i,o-l),d=Math.abs(e-s)/t,p=Math.abs(e-u)/t;d<a?(a=d,o+=l):p<a?(a=p,o-=l):l/=2}return o}function s8(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function RL(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function PL(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],a=2*e[1]-2*e[0],o=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*a+i*o),u=a*a+o*o;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var d=s/(2*l),p=u/l,c=n+d,v=p-d*d;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+v)-d*Math.sqrt(d*d+v)+v*Math.log(Math.abs((c+Math.sqrt(c*c+v))/(d+Math.sqrt(d*d+v)))))}var OL=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],kL=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],ML=[[1],[1,1],[1,2,1],[1,3,3,1]];function NL(e,t){return ML[e][t]}function Xm(e,t,n){var r=n.length-1,i,a,o;if(r===0)return 0;if(e===0){for(a=0,o=0;o<=r;o++)a+=NL(r,o)*Math.pow(1-t,r-o)*Math.pow(t,o)*n[o];return a}else{for(i=new Array(r),o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return Xm(e-1,t,i)}}function IL(e,t,n){var r=Xm(1,n,e),i=Xm(1,n,t),a=r*r+i*i;return Math.sqrt(a)}function DL(e,t,n){var r,i,a,o;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,a=0;a<l;a++)o=r*OL[l][a]+r,i+=kL[l][a]*IL(e,t,o);return r*i}var Ju=Math.PI*2;function x3(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function FL(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,v=l*l,x=d*d,R=p*p,M=c*v-c*R-v*x;M<0&&(M=0),M/=c*R+v*x,M=Math.sqrt(M)*(i===a?-1:1);var g=M*o/l*p,T=M*-l/o*d,E=u*g-s*T+(e+n)/2,O=s*g+u*T+(t+r)/2,G=(d-g)/o,q=(p-T)/l,de=(-d-g)/o,J=(-p-T)/l,Ze=x3(1,0,G,q),ke=x3(G,q,de,J);return a===0&&ke>0&&(ke-=Ju),a===1&&ke<0&&(ke+=Ju),[E,O,Ze,ke]}function BL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}function $L(e,t,n,r,i,a,o,l,s){var u=Math.sin(i*Ju/360),d=Math.cos(i*Ju/360),p=d*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+d*(t-s)/2;if(p===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var v=p*p/(n*n)+c*c/(r*r);v>1&&(n*=Math.sqrt(v),r*=Math.sqrt(v));var x=FL(e,t,l,s,a,o,n,r,u,d),R=[],M=x[2],g=x[3],T=Math.max(Math.ceil(Math.abs(g)/(Ju/4)),1);g/=T;for(var E=0;E<T;E++)R.push(BL(M,g)),M+=g;return R.map(function(O){for(var G=0;G<O.length;G+=2){var q=O[G+0],de=O[G+1];q*=n,de*=r;var J=d*q-u*de,Ze=u*q+d*de;O[G+0]=J+x[0],O[G+1]=Ze+x[1]}return O})}function _3(e,t,n,r,i,a,o,l,s){return new Ym(e,t,n,r,i,a,o,l,s)}function Ym(e,t,n,r,i,a,o,l,s){var u=0,d=[],p=[],c=$L(e,t,n,r,i,a,o,l,s);c.forEach(function(v){var x=new li(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]),R=x.getTotalLength();u+=R,d.push(R),p.push(x)}),this.length=u,this.partialLengths=d,this.curves=p}Ym.prototype={constructor:Ym,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function oi(e,t,n,r){return new Nc(e,t,n,r)}function Nc(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}Nc.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};Nc.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};Nc.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};Nc.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function zL(e){var t=0,n=[],r=[];function i(o){if(!o)return null;for(var l=TL(o),s=[0,0],u=[0,0],d,p,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],p=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],p=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new oi(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new oi(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new oi(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new oi(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new oi(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new oi(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(p[0]-s[0],2)+Math.pow(p[1]-s[1],2)),r.push(new oi(s[0],p[0],s[1],p[1])),s=[p[0],p[1]]):l[c][0]==="C"?(d=new li(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+d.getTotalLength(),s=[l[c][5],l[c][6]],r.push(d)):l[c][0]==="c"?(d=new li(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+d.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(d)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new li(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):d=new li(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+d.getTotalLength(),s=[l[c][3],l[c][4]],r.push(d)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new li(s[0],s[1],s[0]+d.d.x-d.c.x,s[1]+d.d.y-d.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):d=new li(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?d=new li(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):d=new oi(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+d.getTotalLength(),r.push(d),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?d=new oi(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):d=new li(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new li(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):d=new oi(s[0],l[c][1],s[1],l[c][2]),r.push(d),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new li(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):d=new oi(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(d)):l[c][0]==="A"?(d=new _3(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+d.getTotalLength(),s=[l[c][6],l[c][7]],r.push(d)):l[c][0]==="a"&&(d=new _3(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+d.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(d)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(o){var l=a(o);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(o){var l=a(o);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(o){var l=a(o);return r[l.i].getPropertiesAtLength(l.fraction)};var a=function(o){o<0?o=0:o>t&&(o=t);for(var l=n.length-1;n[l]>=o&&n[l]>0;)l--;return l++,{fraction:o-n[l-1],i:l}};return i(e)}function ph(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function u8(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function GL(e,t){return ph(e,t)<1e-9}function jL(e,t,n){let r=e.map((i,a)=>UL(i,t[a]));return function(i){let a=r.map(o=>o(i));return n?WL(a):a}}function UL(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function zd(e){return typeof e=="number"&&isFinite(e)}const qm=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function VL(e){return new EL(e).abs()}function HL(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function WL(e){return"M"+e.join("L")+"Z"}function XL(e,t){let n=VL(e);return YL(n)||qL(n,t)}function YL(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,a,o]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([a,o]);else if(i==="H")n.push([a,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],a]);else return!1}return n.length?{ring:n}:!1}function qL(e,t){let n=HL(e)[0],r=[],i,a,o=3;if(!n)throw new TypeError(qm);a=QL(n),i=a.getTotalLength(),t&&zd(t)&&t>0&&(o=Math.max(o,Math.ceil(i/t)));for(let l=0;l<o;l++){let s=a.getPointAtLength(i*l/o);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function QL(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return zL(e)}function w3(e,t){const n=e.length+t,r=qb(e)/t;let i=0,a=0,o=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=ph(l,s);if(o<=a+u){e.splice(i+1,0,u?u8(l,s,(o-a)/u):l.slice(0)),o+=r;continue}a+=u,i++}}function ZL(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;ph(r,i)>t;)i=u8(r,i,.5),e.splice(n+1,0,i)}}function E3(e,t){let n,r,i;if(typeof e=="string"){let a=XL(e,t);e=a.ring,i=a.skipBisect}else if(!Array.isArray(e))throw new TypeError(qm);if(n=e.slice(0),!KL(n))throw new TypeError(qm);return n.length>1&&GL(n[0],n[n.length-1])&&n.pop(),r=Yb(n),r>0&&n.reverse(),!i&&t&&zd(t)&&t>0&&ZL(n,t),n}function KL(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&zd(t[0])&&zd(t[1])})}function JL(e,t){let n=e.length,r=1/0,i,a,o;for(let l=0;l<n;l++)a=0,t.forEach(function(s,u){let d=ph(e[(l+u)%n],s);a+=d*d}),a<r&&(r=a,i=l);i&&(o=e.splice(0,i),e.splice(e.length,0,...o))}function eR(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=E3(e,n),a=E3(t,n),o=tR(i,a,r);return!r||typeof e!="string"&&typeof t!="string"?o:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:o(l)}function tR(e,t,n){let r;return r=e.length-t.length,w3(e,r<0?r*-1:0),w3(t,r>0?r:0),JL(e,t),jL(e,t,n)}var c8={exports:{}};c8.exports=mh;c8.exports.default=mh;function mh(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=f8(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var l,s,u,d,p,c,v;if(r&&(a=oR(e,t,a,n)),e.length>80*n){l=u=e[0],s=d=e[1];for(var x=n;x<i;x+=n)p=e[x],c=e[x+1],p<l&&(l=p),c<s&&(s=c),p>u&&(u=p),c>d&&(d=c);v=Math.max(u-l,d-s),v=v!==0?32767/v:0}return Tc(a,o,n,l,s,v,0),o}function f8(e,t,n,r,i){var a,o;if(i===Km(e,t,n,r)>0)for(a=t;a<n;a+=r)o=S3(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=S3(a,e[a],e[a+1],o);return o&&vh(o,o.next)&&(Cc(o),o=o.next),o}function Ko(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(vh(n,n.next)||xn(n.prev,n,n.next)===0)){if(Cc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Tc(e,t,n,r,i,a,o){if(e){!o&&a&&fR(e,r,i,a);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,a?rR(e,r,i,a):nR(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Cc(e),e=u.next,l=u.next;continue}if(e=u,e===l){o?o===1?(e=iR(Ko(e),t,n),Tc(e,t,n,r,i,a,2)):o===2&&aR(e,t,n,r,i,a):Tc(Ko(e),t,n,r,i,a,1);break}}}}function nR(e){var t=e.prev,n=e,r=e.next;if(xn(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,l=t.y,s=n.y,u=r.y,d=i<a?i<o?i:o:a<o?a:o,p=l<s?l<u?l:u:s<u?s:u,c=i>a?i>o?i:o:a>o?a:o,v=l>s?l>u?l:u:s>u?s:u,x=r.next;x!==t;){if(x.x>=d&&x.x<=c&&x.y>=p&&x.y<=v&&ns(i,l,a,s,o,u,x.x,x.y)&&xn(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function rR(e,t,n,r){var i=e.prev,a=e,o=e.next;if(xn(i,a,o)>=0)return!1;for(var l=i.x,s=a.x,u=o.x,d=i.y,p=a.y,c=o.y,v=l<s?l<u?l:u:s<u?s:u,x=d<p?d<c?d:c:p<c?p:c,R=l>s?l>u?l:u:s>u?s:u,M=d>p?d>c?d:c:p>c?p:c,g=Qm(v,x,t,n,r),T=Qm(R,M,t,n,r),E=e.prevZ,O=e.nextZ;E&&E.z>=g&&O&&O.z<=T;){if(E.x>=v&&E.x<=R&&E.y>=x&&E.y<=M&&E!==i&&E!==o&&ns(l,d,s,p,u,c,E.x,E.y)&&xn(E.prev,E,E.next)>=0||(E=E.prevZ,O.x>=v&&O.x<=R&&O.y>=x&&O.y<=M&&O!==i&&O!==o&&ns(l,d,s,p,u,c,O.x,O.y)&&xn(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;E&&E.z>=g;){if(E.x>=v&&E.x<=R&&E.y>=x&&E.y<=M&&E!==i&&E!==o&&ns(l,d,s,p,u,c,E.x,E.y)&&xn(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;O&&O.z<=T;){if(O.x>=v&&O.x<=R&&O.y>=x&&O.y<=M&&O!==i&&O!==o&&ns(l,d,s,p,u,c,O.x,O.y)&&xn(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function iR(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!vh(i,a)&&d8(i,r,r.next,a)&&Ac(i,a)&&Ac(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Cc(r),Cc(r.next),r=e=a),r=r.next}while(r!==e);return Ko(r)}function aR(e,t,n,r,i,a){var o=e;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&pR(o,l)){var s=h8(o,l);o=Ko(o,o.next),s=Ko(s,s.next),Tc(o,t,n,r,i,a,0),Tc(s,t,n,r,i,a,0);return}l=l.next}o=o.next}while(o!==e)}function oR(e,t,n,r){var i=[],a,o,l,s,u;for(a=0,o=t.length;a<o;a++)l=t[a]*r,s=a<o-1?t[a+1]*r:e.length,u=f8(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push(hR(u));for(i.sort(lR),a=0;a<i.length;a++)n=sR(i[a],n);return n}function lR(e,t){return e.x-t.x}function sR(e,t){var n=uR(e,t);if(!n)return t;var r=h8(n,e);return Ko(r,r.next),Ko(n,n.next)}function uR(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>a&&(a=l,o=n.x<n.next.x?n:n.next,l===r))return o}n=n.next}while(n!==t);if(!o)return null;var s=o,u=o.x,d=o.y,p=1/0,c;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&ns(i<d?r:a,i,u,d,i<d?a:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),Ac(n,e)&&(c<p||c===p&&(n.x>o.x||n.x===o.x&&cR(o,n)))&&(o=n,p=c)),n=n.next;while(n!==s);return o}function cR(e,t){return xn(e.prev,e,t.prev)<0&&xn(t.next,e,e.next)<0}function fR(e,t,n,r){var i=e;do i.z===0&&(i.z=Qm(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,dR(i)}function dR(e){var t,n,r,i,a,o,l,s,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return e}function Qm(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function hR(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function ns(e,t,n,r,i,a,o,l){return(i-o)*(t-l)>=(e-o)*(a-l)&&(e-o)*(r-l)>=(n-o)*(t-l)&&(n-o)*(a-l)>=(i-o)*(r-l)}function pR(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!mR(e,t)&&(Ac(e,t)&&Ac(t,e)&&vR(e,t)&&(xn(e.prev,e,t.prev)||xn(e,t.prev,t))||vh(e,t)&&xn(e.prev,e,e.next)>0&&xn(t.prev,t,t.next)>0)}function xn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function vh(e,t){return e.x===t.x&&e.y===t.y}function d8(e,t,n,r){var i=R0(xn(e,t,n)),a=R0(xn(e,t,r)),o=R0(xn(n,r,e)),l=R0(xn(n,r,t));return!!(i!==a&&o!==l||i===0&&L0(e,n,t)||a===0&&L0(e,r,t)||o===0&&L0(n,e,r)||l===0&&L0(n,t,r))}function L0(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function R0(e){return e>0?1:e<0?-1:0}function mR(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&d8(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Ac(e,t){return xn(e.prev,e,e.next)<0?xn(e,t,e.next)>=0&&xn(e,e.prev,t)>=0:xn(e,t,e.prev)<0||xn(e,e.next,t)<0}function vR(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function h8(e,t){var n=new Zm(e.i,e.x,e.y),r=new Zm(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function S3(e,t,n,r){var i=new Zm(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Cc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Zm(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}mh.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(Km(e,0,a,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,d=l<s-1?t[l+1]*n:e.length;o-=Math.abs(Km(e,u,d,n))}var p=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,v=r[l+1]*n,x=r[l+2]*n;p+=Math.abs((e[c]-e[x])*(e[v+1]-e[c+1])-(e[c]-e[v])*(e[x+1]-e[c+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Km(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}mh.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function p8(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function gR(e){return e.length===1&&(e=yR(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function yR(e){return function(t,n){return p8(e(t),n)}}gR(p8);const Mp=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:a,symbol:o,xDomain:l,yDomain:s,width:u,height:d})=>{const p=K.useRef();K.useRef();const c=K.useRef();return K.useRef(),K.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const x=c3(p.current),R=u/(l[1]-l[0]),M=d/(s[1]-s[0]),g=u/2-R*(l[1]+l[0])/2,T=d/2+M*(s[1]+s[0])/2,E=a/Math.sqrt(R*M),O=x.select("g.hull-container");O.attr("transform",`translate(${g}, ${T}) scale(${R}, ${M})`);const G=o3().x(de=>de[0]).y(de=>-de[1]).curve(s3);let q=O.selectAll("path.hull").data(e);q.exit().transition().duration(i).delay(r).ease(v3).style("opacity",0).remove(),q.enter().append("path").classed("hull",!0).attr("d",G).style("fill",t).style("stroke",n).style("stroke-width",E).style("opacity",0).transition().delay(r+100).duration(i-100).ease(v3).style("opacity",.75),q.transition().duration(i).delay(r).ease(o8).style("opacity",.75).attrTween("d",function(de,J){const Ze=c.current?c.current[J]:null;if(!Ze)return()=>G(de);const ke=eR(G(Ze),G(de));return function(je){return ke(je)}}),setTimeout(()=>{c.current=e},i)},[e]),K.useEffect(()=>{if(!l||!s||!e.length)return;const v=c3(p.current),x=u/(l[1]-l[0]),R=d/(s[1]-s[0]),M=u/2-x*(l[1]+l[0])/2,g=d/2+R*(s[1]+s[0])/2,T=a/Math.sqrt(x*R),E=v.select("g.hull-container");E.attr("transform",`translate(${M}, ${g}) scale(${x}, ${R})`);const O=o3().x(q=>q[0]).y(q=>-q[1]).curve(s3);let G=E.selectAll("path.hull").data(e);G.enter().append("path").classed("hull",!0).attr("d",O).style("fill",t).style("stroke",n).attr("stroke-width",T).style("opacity",.75),G.exit().remove(),G.attr("d",O)},[t,n,a,l,s,u,d]),ue.jsx("svg",{ref:p,className:"hull-plot",width:u,height:d,children:ue.jsx("g",{className:"hull-container"})})},Mr="https://api.latentscope.com/api",xR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),T3=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function P0(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function _R(){var ti;const[e,t]=K.useState(null),{dataset:n,scope:r}=Kx(),i=qv(),a=K.useRef(null),[o,l]=s();function s(){const[ae,xt]=K.useState([500,500]);return K.useEffect(()=>{function dn(){if(!a.current)return;const{height:Tn,width:Yt}=a.current.getBoundingClientRect();let Bn=Yt>500?500:Yt-50;xt([Bn,Bn])}return window.addEventListener("resize",dn),dn(),setTimeout(dn,100),()=>window.removeEventListener("resize",dn)},[]),ae}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[d,p]=K.useState(2);K.useEffect(()=>{fetch(`${Mr}/datasets/${n}/meta`).then(ae=>ae.json()).then(ae=>{console.log("dataset",ae),t(ae)})},[n,t]);const[c,v]=K.useState([]);K.useEffect(()=>{fetch(`${Mr}/datasets/${n}/scopes`).then(ae=>ae.json()).then(ae=>{v(ae)})},[n,v]);const[x,R]=K.useState(null);K.useEffect(()=>{fetch(`${Mr}/datasets/${n}/scopes/${r}`).then(ae=>ae.json()).then(ae=>{console.log("scope",ae),R(ae)})},[n,r,R]);const[M,g]=K.useState(null),[T,E]=K.useState(null),[O,G]=K.useState([]),[q,de]=K.useState([]),[J,Ze]=K.useState(M==null?void 0:M.id),[ke,je]=K.useState([]);K.useEffect(()=>{fetch(`${Mr}/datasets/${n}/embeddings`).then(ae=>ae.json()).then(ae=>{je(ae)})},[n,je]);const[We,nt]=K.useState([]),[Qe,Ht]=K.useState([]),[gt,pt]=K.useState([]);K.useEffect(()=>{x&&(g(ke.find(ae=>ae.id==x.embedding_id)),Promise.all([fetch(`${Mr}/datasets/${n}/umaps/${x.umap_id}`).then(ae=>ae.json()),fetch(`${Mr}/datasets/${n}/umaps/${x.umap_id}/points`).then(ae=>ae.json()),fetch(`${Mr}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id.split("-")[3]||x.cluster_labels_id}`).then(ae=>ae.json()),fetch(`${Mr}/datasets/${n}/clusters/${x.cluster_id}/indices`).then(ae=>ae.json())]).then(([ae,xt,dn,Tn])=>{E(ae);const Yt=xt.map(Ar=>[Ar.x,Ar.y]);nt(Yt);const Bn=xt.map((Ar,Bi)=>[Ar.x,Ar.y,Tn[Bi].cluster]);Ht(Bn),pt([]),de(dn),G(Tn),setTimeout(()=>{pt(P0(dn,Yt))},100)}).catch(ae=>console.error("Fetching data failed",ae)))},[n,x,ke,E,de,g,Ze]),K.useMemo(()=>O.map(ae=>ae.cluster),[O]),K.useEffect(()=>{M&&Ze(M.id)},[M,Ze]);const we=ae=>{console.log("selected",ae),Ze(ae)},Xe=K.useCallback((ae,xt,dn=[])=>{fetch(`${Mr}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:ae})}).then(Tn=>Tn.json()).then(Tn=>{if(!e)return;let Yt=Tn.map((Bn,Ar)=>({index:ae[Ar],...Bn}));xt(Yt)})},[e,n]),[_e,be]=K.useState({}),[Je,wt]=K.useState([-1,1]),[Lt,Xt]=K.useState([-1,1]),qt=K.useCallback((ae,xt)=>{wt(ae),Xt(xt)},[wt,Xt]),[Nt,Ot]=K.useState([]),pn=K.useCallback(ae=>{console.log("handle selected",ae),Ot(ae),p(0)},[Ot,p]),[cn,Dn]=K.useState(null),[Bt,an]=K.useState(null);K.useEffect(()=>{cn!=null?Xe([cn],ae=>{an(ae[0])}):an(null)},[cn,an,Xe]);const[ft,vt]=K.useState(null);K.useEffect(()=>{if(Bt&&O.length&&q.length){const ae=Bt.index,xt=O[ae],dn=q[xt==null?void 0:xt.cluster];vt({cluster:xt.cluster,...dn})}else vt(null)},[Bt,O,q,vt]);const[Mt,At]=K.useState([]);K.useEffect(()=>{cn!=null?At([We[cn]]):At([])},[cn,We]);const[ct,Ft]=K.useState({});K.useEffect(()=>{fetch(`${Mr}/tags?dataset=${n}`).then(ae=>ae.json()).then(ae=>Ft(ae))},[n]);const fn=K.useMemo(()=>{const ae=[];for(const xt in ct)ae.push(xt);return ae},[ct]),[tn,Gr]=K.useState(fn[0]),[_,Et]=K.useState([]);K.useEffect(()=>{if(ct[tn]){const ae=ct[tn].map(xt=>We[xt]);Et(ae)}else Et([]),_e&&_e.config&&(_e==null||_e.zoomToOrigin({transition:!0,transitionDuration:1500}))},[ct,tn,We,_e,Et]);const[bt,Me]=K.useState([]),[Qt,yt]=K.useState([]),Fe=K.useCallback(ae=>{fetch(`${Mr}/search/nn?dataset=${n}&query=${ae}&embedding_id=${J}`).then(xt=>xt.json()).then(xt=>{yt(xt.distances),Me(xt.indices),_e==null||_e.zoomToPoints(xt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[J,n,_e,yt,Me]),[Pt,jt]=K.useState([]);K.useEffect(()=>{const ae=bt.map(xt=>We[xt]);jt(ae)},[bt,We]);const[ze,Kt]=K.useState(null),[on,Rt]=K.useState([]);K.useEffect(()=>{if(ze){const ae=ze.indices.map(xt=>We[xt]);Rt(ae)}else Rt([]),_e&&_e.config&&(_e==null||_e.zoomToOrigin({transition:!0,transitionDuration:1500}))},[ze,We,_e,Rt]);const[mn,Sn]=K.useState((ze==null?void 0:ze.label)||"");K.useEffect(()=>{Sn((ze==null?void 0:ze.label)||"")},[ze]);const nr=K.useCallback(ae=>{_e==null||_e.zoomToPoints([ae],{transition:!0,padding:.9,transitionDuration:1500})},[_e]),Xn=K.useCallback(ae=>{Dn(ae)},[Dn]),ei=K.useCallback((ae,xt)=>{console.log("update label",ae,xt),fetch(`${Mr}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id}/label/${ae}?label=${xt}`).then(dn=>dn.json()).then(dn=>{fetch(`${Mr}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id}`).then(Tn=>Tn.json()).then(Tn=>{console.log("got new labels",Tn),de(Tn),pt(P0(Tn,We))}).catch(console.error)}).catch(console.error)},[n,x]),Fn=K.useCallback(()=>{Kt(null)},[]);return e?ue.jsxs("div",{ref:a,className:"container",children:[ue.jsxs("div",{className:"cluster",children:[ue.jsxs("div",{className:"summary",children:[ue.jsxs("div",{className:"scope-card",children:[T3()?ue.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,ue.jsxs("div",{className:"heading",children:[n,": ",ue.jsx("select",{className:"scope-selector",onChange:ae=>{Fn(),i(`/datasets/${e==null?void 0:e.id}/explore/${ae.target.value}`)},children:c.map((ae,xt)=>ue.jsx("option",{value:ae.id,selected:ae.id===(x==null?void 0:x.id),children:ae.label||ae.id},xt))}),null]}),ue.jsx("span",{children:x==null?void 0:x.description}),ue.jsxs("span",{children:["Embeddings: ",M==null?void 0:M.model_id]}),ue.jsxs("span",{children:[q==null?void 0:q.length," clusters"]})]}),ue.jsx("div",{className:"dataset-card",children:ue.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),ue.jsxs("div",{className:"umap-container",children:[ue.jsx("div",{className:"scatters",style:{width:o,height:l},children:We.length?ue.jsxs(ue.Fragment,{children:[xR()?ue.jsx(Mu,{points:We,fill:"gray",size:"8",xDomain:Je,yDomain:Lt,width:o,height:l}):ue.jsx(D5,{points:Qe,duration:2e3,width:o,height:l,onScatter:be,onView:qt,onSelect:pn,onHover:Xn}),ft&&ft.hull&&!x.ignore_hulls?ue.jsx(Mp,{hulls:P0([ft],We),fill:"lightgray",duration:0,xDomain:Je,yDomain:Lt,width:o,height:l}):null,ze&&ze.hull&&!x.ignore_hulls?ue.jsx(Mp,{hulls:P0([ze],We),fill:"darkgray",strokeWidth:2,duration:0,xDomain:Je,yDomain:Lt,width:o,height:l}):null,gt.length&&!x.ignore_hulls?ue.jsx(Mp,{hulls:gt,stroke:"black",fill:"none",delay:2e3,duration:200,strokeWidth:1,xDomain:Je,yDomain:Lt,width:o,height:l}):null,ue.jsx(Mu,{points:Pt,stroke:"black",fill:"steelblue",size:"8",xDomain:Je,yDomain:Lt,width:o,height:l}),ue.jsx(Mu,{points:on,fill:"darkred",size:"8",xDomain:Je,yDomain:Lt,width:o,height:l}),ue.jsx(Mu,{points:_,symbol:tn,size:"20",xDomain:Je,yDomain:Lt,width:o,height:l}),ue.jsx(Mu,{points:Mt,stroke:"black",fill:"orange",size:"16",xDomain:Je,yDomain:Lt,width:o,height:l})]}):null}),T3()?null:ue.jsxs("div",{className:"hovered-point",children:[Bt&&Object.keys(Bt).map(ae=>ue.jsxs("span",{children:[ue.jsxs("span",{className:"key",children:[ae,":"]}),ue.jsx("span",{className:"value",children:Bt[ae]})]},ae)),ft?ue.jsxs("span",{children:[ue.jsxs("span",{className:"key",children:["Cluster ",ft.index,":"]}),ue.jsx("span",{className:"value",children:ft.label})]}):null]})]})]}),ue.jsxs("div",{className:"data",children:[ue.jsx("div",{className:"tab-header",children:u.map(ae=>ue.jsx("button",{onClick:()=>p(ae.id),className:ae.id===d?"tab-active":"tab-inactive",children:ae.name},ae.id))}),d===0?ue.jsxs("div",{className:"tab-content",children:[ue.jsxs("span",{children:["Selected: ",Nt==null?void 0:Nt.length,(Nt==null?void 0:Nt.length)>0?ue.jsx("button",{className:"deselect",onClick:()=>{Ot([]),_e==null||_e.select([]),_e==null||_e.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Nt==null?void 0:Nt.length)>0?ue.jsx($u,{indices:Nt,clusterIndices:O,clusterLabels:q,tagset:ct,dataset:e,maxRows:150,onTagset:ae=>Ft(ae),onHover:Xn,onClick:nr}):null]}):null,d===1?ue.jsxs("div",{className:"tab-content",children:[ue.jsx("div",{className:"search-box",children:ue.jsxs("form",{onSubmit:ae=>{ae.preventDefault(),Fe(ae.target.elements.searchBox.value),p(1)},children:[ue.jsx("input",{type:"text",id:"searchBox"}),ue.jsx("button",{type:"submit",children:"Similarity Search"}),ue.jsx("br",{}),ue.jsx("label",{htmlFor:"embeddingModel"}),ue.jsx("select",{id:"embeddingModel",onChange:ae=>we(ae.target.value),value:J,children:ke.map((ae,xt)=>ue.jsxs("option",{value:ae.id,children:[ae.id," - ",ae.model_id]},xt))})]})}),ue.jsxs("span",{children:[bt.length?ue.jsxs("span",{children:["Nearest Neighbors: ",bt.length," (capped at 150) "]}):null,bt.length>0?ue.jsx("button",{className:"deselect",onClick:()=>{Me([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),bt.length>0?ue.jsx($u,{indices:bt,distances:Qt,clusterIndices:O,clusterLabels:q,tagset:ct,dataset:e,onTagset:ae=>Ft(ae),onHover:Xn,onClick:nr}):null]}):null,d===2?ue.jsxs("div",{className:"tab-content",children:[ue.jsx("div",{className:"clusters-select",children:ue.jsxs("select",{onChange:ae=>{const xt=q.find(dn=>dn.index===+ae.target.value);xt&&Kt(xt)},value:ze==null?void 0:ze.index,children:[ue.jsx("option",{value:"",children:"Select a cluster"}),q.map((ae,xt)=>ue.jsxs("option",{value:ae.index,children:[ae.index,": ",ae.label]},xt))]})}),ue.jsxs("div",{className:"cluster-selected",children:[ze?ue.jsxs("form",{onSubmit:ae=>{ae.preventDefault(),ei(ze.index,mn)},children:[ue.jsx("input",{type:"text",id:"new-label",value:mn,onChange:ae=>Sn(ae.target.value)}),ue.jsx("button",{type:"submit",children:"Update Label"})]}):null,ue.jsxs("span",{children:[ze==null?void 0:ze.indices.length," ",ze!=null&&ze.indices.length?"Rows":"",ze?ue.jsx("button",{className:"deselect",onClick:()=>{Kt(null)},children:"X"}):null]})]}),ue.jsx("div",{className:"cluster-table",children:ze!=null&&ze.indices?ue.jsx($u,{indices:ze==null?void 0:ze.indices,clusterIndices:O,clusterLabels:q,dataset:e,tagset:ct,onTagset:ae=>Ft(ae),onHover:Xn,onClick:nr}):null})]}):null,d===3?ue.jsxs("div",{className:"tab-content",children:[ue.jsxs("div",{className:"tags-box",children:[ue.jsxs("div",{className:"tags-select",children:["Tags: ",fn.map(ae=>ue.jsxs("button",{className:"dataset--tag-link",onClick:()=>{Gr(ae),p(3),_e==null||_e.zoomToPoints(ct[ae],{transition:!0,padding:.2,transitionDuration:1500})},children:[ae,"(",ct[ae].length,")"]},ae))]}),null]}),ue.jsxs("span",{children:[tn," ",(ti=ct[tn])==null?void 0:ti.length,tn?ue.jsx("button",{className:"deselect",onClick:()=>{Gr(null)},children:"X"}):null]}),ct[tn]?ue.jsx($u,{indices:ct[tn],clusterIndices:O,clusterLabels:q,tagset:ct,dataset:e,onTagset:ae=>Ft(ae),onHover:Xn,onClick:nr}):null]}):null]})]}):ue.jsx("div",{children:"Loading..."})}qe.shape({id:qe.string.isRequired}).isRequired,qe.string.isRequired,qe.object,qe.array,qe.array,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.array.isRequired,qe.array.isRequired,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.array,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.string,qe.func.isRequired,qe.func,qe.func,qe.func,qe.func;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.object,qe.object,qe.string,qe.func.isRequired,qe.func.isRequired;const wR=()=>ue.jsx("nav",{children:ue.jsx("ul",{children:ue.jsx("li",{children:ue.jsx(q6,{to:"/",children:"Latent Scope"})})})});var ER={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const m8=ER;console.log("ENV",m8);function SR(){return ue.jsxs(y_,{basename:m8.BASE_NAME,children:[ue.jsx(wR,{}),ue.jsx("div",{className:"page",children:ue.jsxs(d_,{children:[ue.jsx(Lm,{path:"/",element:ue.jsx(b_,{})}),ue.jsx(Lm,{path:"/datasets/:dataset/explore/:scope",element:ue.jsx(_R,{})}),null,null,null,null]})})]})}Np.createRoot(document.getElementById("root")).render(ue.jsx(N3.StrictMode,{children:ue.jsx(SR,{})}));
