function OS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var PS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $1={exports:{}},Yd={},G1={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=Symbol.for("react.element"),kS=Symbol.for("react.portal"),NS=Symbol.for("react.fragment"),IS=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),FS=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),jS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),GS=Symbol.for("react.lazy"),Mg=Symbol.iterator;function zS(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,V1={};function ts(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||z1}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H1(){}H1.prototype=ts.prototype;function F0(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||z1}var B0=F0.prototype=new H1;B0.constructor=F0;U1(B0,ts.prototype);B0.isPureReactComponent=!0;var Dg=Array.isArray,W1=Object.prototype.hasOwnProperty,j0={current:null},X1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)W1.call(t,r)&&!X1.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ku,type:e,key:o,ref:a,props:i,_owner:j0.current}}function US(e,t){return{$$typeof:Ku,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ku}function VS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fg=/\/+/g;function Fm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VS(""+e.key):t.toString(36)}function Yf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ku:case kS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Fm(a,0):r,Dg(i)?(n="",e!=null&&(n=e.replace(Fg,"$&/")+"/"),Yf(i,t,n,"",function(f){return f})):i!=null&&($0(i)&&(i=US(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fg,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Dg(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+Fm(o,l);a+=Yf(o,t,n,u,i)}else if(u=zS(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+Fm(o,l++),a+=Yf(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wf(e,t,n){if(e==null)return e;var r=[],i=0;return Yf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function HS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cr={current:null},Qf={transition:null},WS={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:j0};$t.Children={map:wf,forEach:function(e,t,n){wf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wf(e,function(){t++}),t},toArray:function(e){return wf(e,function(t){return t})||[]},only:function(e){if(!$0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$t.Component=ts;$t.Fragment=NS;$t.Profiler=MS;$t.PureComponent=F0;$t.StrictMode=IS;$t.Suspense=jS;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS;$t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=U1({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=j0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)W1.call(t,u)&&!X1.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Ku,type:e.type,key:i,ref:o,props:r,_owner:a}};$t.createContext=function(e){return e={$$typeof:FS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DS,_context:e},e.Consumer=e};$t.createElement=Y1;$t.createFactory=function(e){var t=Y1.bind(null,e);return t.type=e,t};$t.createRef=function(){return{current:null}};$t.forwardRef=function(e){return{$$typeof:BS,render:e}};$t.isValidElement=$0;$t.lazy=function(e){return{$$typeof:GS,_payload:{_status:-1,_result:e},_init:HS}};$t.memo=function(e,t){return{$$typeof:$S,type:e,compare:t===void 0?null:t}};$t.startTransition=function(e){var t=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=t}};$t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$t.useCallback=function(e,t){return cr.current.useCallback(e,t)};$t.useContext=function(e){return cr.current.useContext(e)};$t.useDebugValue=function(){};$t.useDeferredValue=function(e){return cr.current.useDeferredValue(e)};$t.useEffect=function(e,t){return cr.current.useEffect(e,t)};$t.useId=function(){return cr.current.useId()};$t.useImperativeHandle=function(e,t,n){return cr.current.useImperativeHandle(e,t,n)};$t.useInsertionEffect=function(e,t){return cr.current.useInsertionEffect(e,t)};$t.useLayoutEffect=function(e,t){return cr.current.useLayoutEffect(e,t)};$t.useMemo=function(e,t){return cr.current.useMemo(e,t)};$t.useReducer=function(e,t,n){return cr.current.useReducer(e,t,n)};$t.useRef=function(e){return cr.current.useRef(e)};$t.useState=function(e){return cr.current.useState(e)};$t.useSyncExternalStore=function(e,t,n){return cr.current.useSyncExternalStore(e,t,n)};$t.useTransition=function(){return cr.current.useTransition()};$t.version="18.2.0";G1.exports=$t;var te=G1.exports;const Q1=D0(te),XS=OS({__proto__:null,default:Q1},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=te,QS=Symbol.for("react.element"),KS=Symbol.for("react.fragment"),qS=Object.prototype.hasOwnProperty,ZS=YS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JS={key:!0,ref:!0,__self:!0,__source:!0};function K1(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)qS.call(t,r)&&!JS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:QS,type:e,key:o,ref:a,props:i,_owner:ZS.current}}Yd.Fragment=KS;Yd.jsx=K1;Yd.jsxs=K1;$1.exports=Yd;var se=$1.exports,Pp={},q1={exports:{}},Dr={},Z1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,Ee){var Ue=xe.length;xe.push(Ee);e:for(;0<Ue;){var _e=Ue-1>>>1,nt=xe[_e];if(0<i(nt,Ee))xe[_e]=Ee,xe[Ue]=nt,Ue=_e;else break e}}function n(xe){return xe.length===0?null:xe[0]}function r(xe){if(xe.length===0)return null;var Ee=xe[0],Ue=xe.pop();if(Ue!==Ee){xe[0]=Ue;e:for(var _e=0,nt=xe.length,ht=nt>>>1;_e<ht;){var Ft=2*(_e+1)-1,Qt=xe[Ft],Nt=Ft+1,Xt=xe[Nt];if(0>i(Qt,Ue))Nt<nt&&0>i(Xt,Qt)?(xe[_e]=Xt,xe[Nt]=Ue,_e=Nt):(xe[_e]=Qt,xe[Ft]=Ue,_e=Ft);else if(Nt<nt&&0>i(Xt,Ue))xe[_e]=Xt,xe[Nt]=Ue,_e=Nt;else break e}}return Ee}function i(xe,Ee){var Ue=xe.sortIndex-Ee.sortIndex;return Ue!==0?Ue:xe.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],m=1,h=null,p=3,O=!1,b=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(xe){for(var Ee=n(f);Ee!==null;){if(Ee.callback===null)r(f);else if(Ee.startTime<=xe)r(f),Ee.sortIndex=Ee.expirationTime,t(u,Ee);else break;Ee=n(f)}}function U(xe){if(k=!1,C(xe),!b)if(n(u)!==null)b=!0,_t(Y);else{var Ee=n(f);Ee!==null&&yt(U,Ee.startTime-xe)}}function Y(xe,Ee){b=!1,k&&(k=!1,x(ue),ue=-1),O=!0;var Ue=p;try{for(C(Ee),h=n(u);h!==null&&(!(h.expirationTime>Ee)||xe&&!ze());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,p=h.priorityLevel;var nt=_e(h.expirationTime<=Ee);Ee=e.unstable_now(),typeof nt=="function"?h.callback=nt:h===n(u)&&r(u),C(Ee)}else r(u);h=n(u)}if(h!==null)var ht=!0;else{var Ft=n(f);Ft!==null&&yt(U,Ft.startTime-Ee),ht=!1}return ht}finally{h=null,p=Ue,O=!1}}var ne=!1,Te=null,ue=-1,st=5,We=-1;function ze(){return!(e.unstable_now()-We<st)}function Je(){if(Te!==null){var xe=e.unstable_now();We=xe;var Ee=!0;try{Ee=Te(!0,xe)}finally{Ee?et():(ne=!1,Te=null)}}else ne=!1}var et;if(typeof T=="function")et=function(){T(Je)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,zt=$e.port2;$e.port1.onmessage=Je,et=function(){zt.postMessage(null)}}else et=function(){B(Je,0)};function _t(xe){Te=xe,ne||(ne=!0,et())}function yt(xe,Ee){ue=B(function(){xe(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){b||O||(b=!0,_t(Y))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(xe){switch(p){case 1:case 2:case 3:var Ee=3;break;default:Ee=p}var Ue=p;p=Ee;try{return xe()}finally{p=Ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Ee){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Ue=p;p=xe;try{return Ee()}finally{p=Ue}},e.unstable_scheduleCallback=function(xe,Ee,Ue){var _e=e.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?_e+Ue:_e):Ue=_e,xe){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Ue+nt,xe={id:m++,callback:Ee,priorityLevel:xe,startTime:Ue,expirationTime:nt,sortIndex:-1},Ue>_e?(xe.sortIndex=Ue,t(f,xe),n(u)===null&&xe===n(f)&&(k?(x(ue),ue=-1):k=!0,yt(U,Ue-_e))):(xe.sortIndex=nt,t(u,xe),b||O||(b=!0,_t(Y))),xe},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(xe){var Ee=p;return function(){var Ue=p;p=Ee;try{return xe.apply(this,arguments)}finally{p=Ue}}}})(J1);Z1.exports=J1;var ew=Z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=te,Mr=ew;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tx=new Set,Lu={};function Fa(e,t){Wl(e,t),Wl(e+"Capture",t)}function Wl(e,t){for(Lu[e]=t,e=0;e<t.length;e++)tx.add(t[e])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},jg={};function nw(e){return kp.call(jg,e)?!0:kp.call(Bg,e)?!1:tw.test(e)?jg[e]=!0:(Bg[e]=!0,!1)}function rw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iw(e,t,n,r){if(t===null||typeof t>"u"||rw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zn[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zn[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zn[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zn[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zn[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zn[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zn[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zn[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zn[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var G0=/[\-:]([a-z])/g;function z0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G0,z0);Zn[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G0,z0);Zn[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G0,z0);Zn[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zn[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zn[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function U0(e,t,n,r){var i=Zn.hasOwnProperty(t)?Zn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iw(t,n,i,r)&&(n=null),r||i===null?nw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ki=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tf=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),$g=Symbol.iterator;function nu(e){return e===null||typeof e!="object"?null:(e=$g&&e[$g]||e["@@iterator"],typeof e=="function"?e:null)}var xn=Object.assign,Bm;function mu(e){if(Bm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bm=t&&t[1]||""}return`
`+Bm+e}var jm=!1;function $m(e,t){if(!e||jm)return"";jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{jm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mu(e):""}function ow(e){switch(e.tag){case 5:return mu(e.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return e=$m(e.type,!1),e;case 11:return e=$m(e.type.render,!1),e;case 1:return e=$m(e.type,!0),e;default:return""}}function Dp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cl:return"Fragment";case Al:return"Portal";case Np:return"Profiler";case V0:return"StrictMode";case Ip:return"Suspense";case Mp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rx:return(e.displayName||"Context")+".Consumer";case nx:return(e._context.displayName||"Context")+".Provider";case H0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W0:return t=e.displayName||null,t!==null?t:Dp(e.type)||"Memo";case So:t=e._payload,e=e._init;try{return Dp(e(t))}catch{}}return null}function aw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dp(t);case 8:return t===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lw(e){var t=ox(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Af(e){e._valueTracker||(e._valueTracker=lw(e))}function ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ox(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fp(e,t){var n=t.checked;return xn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lx(e,t){t=t.checked,t!=null&&U0(e,"checked",t,!1)}function Bp(e,t){lx(e,t);var n=jo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jp(e,t.type,n):t.hasOwnProperty("defaultValue")&&jp(e,t.type,jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jp(e,t,n){(t!=="number"||ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pu=Array.isArray;function Bl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $p(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return xn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pe(92));if(pu(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jo(n)}}function sx(e,t){var n=jo(t.value),r=jo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ux(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ux(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cf,cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cf=Cf||document.createElement("div"),Cf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ru(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sw=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(e){sw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xu[t]=xu[e]})});function fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xu.hasOwnProperty(e)&&xu[e]?(""+t).trim():t+"px"}function dx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var uw=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(e,t){if(t){if(uw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function X0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hp=null,jl=null,$l=null;function Hg(e){if(e=Ju(e)){if(typeof Hp!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=Jd(t),Hp(e.stateNode,e.type,t))}}function hx(e){jl?$l?$l.push(e):$l=[e]:jl=e}function mx(){if(jl){var e=jl,t=$l;if($l=jl=null,Hg(e),t)for(e=0;e<t.length;e++)Hg(t[e])}}function px(e,t){return e(t)}function vx(){}var Gm=!1;function gx(e,t,n){if(Gm)return e(t,n);Gm=!0;try{return px(e,t,n)}finally{Gm=!1,(jl!==null||$l!==null)&&(vx(),mx())}}function Ou(e,t){var n=e.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pe(231,t,typeof n));return n}var Wp=!1;if(Wi)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Wp=!1}function cw(e,t,n,r,i,o,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var Eu=!1,cd=null,fd=!1,Xp=null,fw={onError:function(e){Eu=!0,cd=e}};function dw(e,t,n,r,i,o,a,l,u){Eu=!1,cd=null,cw.apply(fw,arguments)}function hw(e,t,n,r,i,o,a,l,u){if(dw.apply(this,arguments),Eu){if(Eu){var f=cd;Eu=!1,cd=null}else throw Error(Pe(198));fd||(fd=!0,Xp=f)}}function Ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(Ba(e)!==e)throw Error(Pe(188))}function mw(e){var t=e.alternate;if(!t){if(t=Ba(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wg(i),e;if(o===r)return Wg(i),t;o=o.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?e:t}function xx(e){return e=mw(e),e!==null?Ex(e):null}function Ex(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ex(e);if(t!==null)return t;e=e.sibling}return null}var _x=Mr.unstable_scheduleCallback,Xg=Mr.unstable_cancelCallback,pw=Mr.unstable_shouldYield,vw=Mr.unstable_requestPaint,Pn=Mr.unstable_now,gw=Mr.unstable_getCurrentPriorityLevel,Y0=Mr.unstable_ImmediatePriority,Sx=Mr.unstable_UserBlockingPriority,dd=Mr.unstable_NormalPriority,yw=Mr.unstable_LowPriority,wx=Mr.unstable_IdlePriority,Qd=null,Ai=null;function xw(e){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Qd,e,void 0,(e.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:Sw,Ew=Math.log,_w=Math.LN2;function Sw(e){return e>>>=0,e===0?32:31-(Ew(e)/_w|0)|0}var bf=64,Lf=4194304;function vu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=vu(l):(o&=a,o!==0&&(r=vu(o)))}else a=n&~i,a!==0?r=vu(a):o!==0&&(r=vu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ai(t),i=1<<n,r|=e[n],t&=~i;return r}function ww(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ai(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=ww(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=bf;return bf<<=1,!(bf&4194240)&&(bf=64),e}function zm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ai(t),e[t]=n}function Aw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ai(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ai(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Jt=0;function Ax(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cx,K0,bx,Lx,Rx,Qp=!1,Rf=[],Oo=null,Po=null,ko=null,Pu=new Map,ku=new Map,To=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Pu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(t.pointerId)}}function iu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ju(t),t!==null&&K0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bw(e,t,n,r,i){switch(t){case"focusin":return Oo=iu(Oo,e,t,n,r,i),!0;case"dragenter":return Po=iu(Po,e,t,n,r,i),!0;case"mouseover":return ko=iu(ko,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pu.set(o,iu(Pu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ku.set(o,iu(ku.get(o)||null,e,t,n,r,i)),!0}return!1}function Ox(e){var t=_a(e.target);if(t!==null){var n=Ba(t);if(n!==null){if(t=n.tag,t===13){if(t=yx(n),t!==null){e.blockedOn=t,Rx(e.priority,function(){bx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return t=Ju(n),t!==null&&K0(t),e.blockedOn=n,!1;t.shift()}return!0}function Qg(e,t,n){Kf(e)&&n.delete(t)}function Lw(){Qp=!1,Oo!==null&&Kf(Oo)&&(Oo=null),Po!==null&&Kf(Po)&&(Po=null),ko!==null&&Kf(ko)&&(ko=null),Pu.forEach(Qg),ku.forEach(Qg)}function ou(e,t){e.blockedOn===t&&(e.blockedOn=null,Qp||(Qp=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,Lw)))}function Nu(e){function t(i){return ou(i,e)}if(0<Rf.length){ou(Rf[0],e);for(var n=1;n<Rf.length;n++){var r=Rf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Oo!==null&&ou(Oo,e),Po!==null&&ou(Po,e),ko!==null&&ou(ko,e),Pu.forEach(t),ku.forEach(t),n=0;n<To.length;n++)r=To[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)Ox(n),n.blockedOn===null&&To.shift()}var Gl=Ki.ReactCurrentBatchConfig,md=!0;function Rw(e,t,n,r){var i=Jt,o=Gl.transition;Gl.transition=null;try{Jt=1,q0(e,t,n,r)}finally{Jt=i,Gl.transition=o}}function Ow(e,t,n,r){var i=Jt,o=Gl.transition;Gl.transition=null;try{Jt=4,q0(e,t,n,r)}finally{Jt=i,Gl.transition=o}}function q0(e,t,n,r){if(md){var i=Kp(e,t,n,r);if(i===null)Zm(e,t,r,pd,n),Yg(e,r);else if(bw(i,e,t,n,r))r.stopPropagation();else if(Yg(e,r),t&4&&-1<Cw.indexOf(e)){for(;i!==null;){var o=Ju(i);if(o!==null&&Cx(o),o=Kp(e,t,n,r),o===null&&Zm(e,t,r,pd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zm(e,t,r,null,n)}}var pd=null;function Kp(e,t,n,r){if(pd=null,e=X0(r),e=_a(e),e!==null)if(t=Ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pd=e,null}function Px(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case Y0:return 1;case Sx:return 4;case dd:case yw:return 16;case wx:return 536870912;default:return 16}default:return 16}}var Co=null,Z0=null,qf=null;function kx(){if(qf)return qf;var e,t=Z0,n=t.length,r,i="value"in Co?Co.value:Co.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return qf=i.slice(e,1<r?1-r:void 0)}function Zf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Of(){return!0}function Kg(){return!1}function Fr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Of:Kg,this.isPropagationStopped=Kg,this}return xn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J0=Fr(ns),Zu=xn({},ns,{view:0,detail:0}),Pw=Fr(Zu),Um,Vm,au,Kd=xn({},Zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==au&&(au&&e.type==="mousemove"?(Um=e.screenX-au.screenX,Vm=e.screenY-au.screenY):Vm=Um=0,au=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:Vm}}),qg=Fr(Kd),kw=xn({},Kd,{dataTransfer:0}),Nw=Fr(kw),Iw=xn({},Zu,{relatedTarget:0}),Hm=Fr(Iw),Mw=xn({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=Fr(Mw),Fw=xn({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bw=Fr(Fw),jw=xn({},ns,{data:0}),Zg=Fr(jw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zw[e])?!!t[e]:!1}function ev(){return Uw}var Vw=xn({},Zu,{key:function(e){if(e.key){var t=$w[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(e){return e.type==="keypress"?Zf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hw=Fr(Vw),Ww=xn({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Fr(Ww),Xw=xn({},Zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),Yw=Fr(Xw),Qw=xn({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kw=Fr(Qw),qw=xn({},Kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zw=Fr(qw),Jw=[9,13,27,32],tv=Wi&&"CompositionEvent"in window,_u=null;Wi&&"documentMode"in document&&(_u=document.documentMode);var eT=Wi&&"TextEvent"in window&&!_u,Nx=Wi&&(!tv||_u&&8<_u&&11>=_u),ey=" ",ty=!1;function Ix(e,t){switch(e){case"keyup":return Jw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function tT(e,t){switch(e){case"compositionend":return Mx(t);case"keypress":return t.which!==32?null:(ty=!0,ey);case"textInput":return e=t.data,e===ey&&ty?null:e;default:return null}}function nT(e,t){if(bl)return e==="compositionend"||!tv&&Ix(e,t)?(e=kx(),qf=Z0=Co=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rT[e.type]:t==="textarea"}function Dx(e,t,n,r){hx(r),t=vd(t,"onChange"),0<t.length&&(n=new J0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Su=null,Iu=null;function iT(e){Xx(e,0)}function qd(e){var t=Ol(e);if(ax(t))return e}function oT(e,t){if(e==="change")return t}var Fx=!1;if(Wi){var Wm;if(Wi){var Xm="oninput"in document;if(!Xm){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Xm=typeof ry.oninput=="function"}Wm=Xm}else Wm=!1;Fx=Wm&&(!document.documentMode||9<document.documentMode)}function iy(){Su&&(Su.detachEvent("onpropertychange",Bx),Iu=Su=null)}function Bx(e){if(e.propertyName==="value"&&qd(Iu)){var t=[];Dx(t,Iu,e,X0(e)),gx(iT,t)}}function aT(e,t,n){e==="focusin"?(iy(),Su=t,Iu=n,Su.attachEvent("onpropertychange",Bx)):e==="focusout"&&iy()}function lT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(Iu)}function sT(e,t){if(e==="click")return qd(t)}function uT(e,t){if(e==="input"||e==="change")return qd(t)}function cT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var si=typeof Object.is=="function"?Object.is:cT;function Mu(e,t){if(si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kp.call(t,i)||!si(e[i],t[i]))return!1}return!0}function oy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ay(e,t){var n=oy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function jx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $x(){for(var e=window,t=ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ud(e.document)}return t}function nv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fT(e){var t=$x(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ay(n,o);var a=ay(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dT=Wi&&"documentMode"in document&&11>=document.documentMode,Ll=null,qp=null,wu=null,Zp=!1;function ly(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zp||Ll==null||Ll!==ud(r)||(r=Ll,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wu&&Mu(wu,r)||(wu=r,r=vd(qp,"onSelect"),0<r.length&&(t=new J0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ll)))}function Pf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rl={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Ym={},Gx={};Wi&&(Gx=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Zd(e){if(Ym[e])return Ym[e];if(!Rl[e])return e;var t=Rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gx)return Ym[e]=t[n];return e}var zx=Zd("animationend"),Ux=Zd("animationiteration"),Vx=Zd("animationstart"),Hx=Zd("transitionend"),Wx=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){Wx.set(e,t),Fa(t,[e])}for(var Qm=0;Qm<sy.length;Qm++){var Km=sy[Qm],hT=Km.toLowerCase(),mT=Km[0].toUpperCase()+Km.slice(1);zo(hT,"on"+mT)}zo(zx,"onAnimationEnd");zo(Ux,"onAnimationIteration");zo(Vx,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(Hx,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function uy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hw(r,t,void 0,e),e.currentTarget=null}function Xx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;uy(i,l,f),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;uy(i,l,f),o=u}}}if(fd)throw e=Xp,fd=!1,Xp=null,e}function un(e,t){var n=t[r0];n===void 0&&(n=t[r0]=new Set);var r=e+"__bubble";n.has(r)||(Yx(t,e,2,!1),n.add(r))}function qm(e,t,n){var r=0;t&&(r|=4),Yx(n,e,r,t)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[kf]){e[kf]=!0,tx.forEach(function(n){n!=="selectionchange"&&(pT.has(n)||qm(n,!1,e),qm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kf]||(t[kf]=!0,qm("selectionchange",!1,t))}}function Yx(e,t,n,r){switch(Px(t)){case 1:var i=Rw;break;case 4:i=Ow;break;default:i=q0}n=i.bind(null,t,n,e),i=void 0,!Wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=_a(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}gx(function(){var f=o,m=X0(n),h=[];e:{var p=Wx.get(e);if(p!==void 0){var O=J0,b=e;switch(e){case"keypress":if(Zf(n)===0)break e;case"keydown":case"keyup":O=Hw;break;case"focusin":b="focus",O=Hm;break;case"focusout":b="blur",O=Hm;break;case"beforeblur":case"afterblur":O=Hm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Yw;break;case zx:case Ux:case Vx:O=Dw;break;case Hx:O=Kw;break;case"scroll":O=Pw;break;case"wheel":O=Zw;break;case"copy":case"cut":case"paste":O=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Jg}var k=(t&4)!==0,B=!k&&e==="scroll",x=k?p!==null?p+"Capture":null:p;k=[];for(var T=f,C;T!==null;){C=T;var U=C.stateNode;if(C.tag===5&&U!==null&&(C=U,x!==null&&(U=Ou(T,x),U!=null&&k.push(Fu(T,U,C)))),B)break;T=T.return}0<k.length&&(p=new O(p,b,null,n,m),h.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",p&&n!==Vp&&(b=n.relatedTarget||n.fromElement)&&(_a(b)||b[Xi]))break e;if((O||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,O?(b=n.relatedTarget||n.toElement,O=f,b=b?_a(b):null,b!==null&&(B=Ba(b),b!==B||b.tag!==5&&b.tag!==6)&&(b=null)):(O=null,b=f),O!==b)){if(k=qg,U="onMouseLeave",x="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(k=Jg,U="onPointerLeave",x="onPointerEnter",T="pointer"),B=O==null?p:Ol(O),C=b==null?p:Ol(b),p=new k(U,T+"leave",O,n,m),p.target=B,p.relatedTarget=C,U=null,_a(m)===f&&(k=new k(x,T+"enter",b,n,m),k.target=C,k.relatedTarget=B,U=k),B=U,O&&b)t:{for(k=O,x=b,T=0,C=k;C;C=Sl(C))T++;for(C=0,U=x;U;U=Sl(U))C++;for(;0<T-C;)k=Sl(k),T--;for(;0<C-T;)x=Sl(x),C--;for(;T--;){if(k===x||x!==null&&k===x.alternate)break t;k=Sl(k),x=Sl(x)}k=null}else k=null;O!==null&&cy(h,p,O,k,!1),b!==null&&B!==null&&cy(h,B,b,k,!0)}}e:{if(p=f?Ol(f):window,O=p.nodeName&&p.nodeName.toLowerCase(),O==="select"||O==="input"&&p.type==="file")var Y=oT;else if(ny(p))if(Fx)Y=uT;else{Y=lT;var ne=aT}else(O=p.nodeName)&&O.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(Y=sT);if(Y&&(Y=Y(e,f))){Dx(h,Y,n,m);break e}ne&&ne(e,p,f),e==="focusout"&&(ne=p._wrapperState)&&ne.controlled&&p.type==="number"&&jp(p,"number",p.value)}switch(ne=f?Ol(f):window,e){case"focusin":(ny(ne)||ne.contentEditable==="true")&&(Ll=ne,qp=f,wu=null);break;case"focusout":wu=qp=Ll=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,ly(h,n,m);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":ly(h,n,m)}var Te;if(tv)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else bl?Ix(e,n)&&(ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ue="onCompositionStart");ue&&(Nx&&n.locale!=="ko"&&(bl||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&bl&&(Te=kx()):(Co=m,Z0="value"in Co?Co.value:Co.textContent,bl=!0)),ne=vd(f,ue),0<ne.length&&(ue=new Zg(ue,e,null,n,m),h.push({event:ue,listeners:ne}),Te?ue.data=Te:(Te=Mx(n),Te!==null&&(ue.data=Te)))),(Te=eT?tT(e,n):nT(e,n))&&(f=vd(f,"onBeforeInput"),0<f.length&&(m=new Zg("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:f}),m.data=Te))}Xx(h,t)})}function Fu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ou(e,n),o!=null&&r.unshift(Fu(e,o,i)),o=Ou(e,t),o!=null&&r.push(Fu(e,o,i))),e=e.return}return r}function Sl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cy(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=Ou(n,o),u!=null&&a.unshift(Fu(n,u,l))):i||(u=Ou(n,o),u!=null&&a.push(Fu(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(vT,`
`).replace(gT,"")}function Nf(e,t,n){if(t=fy(t),fy(e)!==t&&n)throw Error(Pe(425))}function gd(){}var Jp=null,e0=null;function t0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var n0=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(e){return dy.resolve(null).then(e).catch(ET)}:n0;function ET(e){setTimeout(function(){throw e})}function Jm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Nu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nu(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Ti="__reactFiber$"+rs,Bu="__reactProps$"+rs,Xi="__reactContainer$"+rs,r0="__reactEvents$"+rs,_T="__reactListeners$"+rs,ST="__reactHandles$"+rs;function _a(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xi]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hy(e);e!==null;){if(n=e[Ti])return n;e=hy(e)}return t}e=n,n=e.parentNode}return null}function Ju(e){return e=e[Ti]||e[Xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function Jd(e){return e[Bu]||null}var i0=[],Pl=-1;function Uo(e){return{current:e}}function cn(e){0>Pl||(e.current=i0[Pl],i0[Pl]=null,Pl--)}function ln(e,t){Pl++,i0[Pl]=e.current,e.current=t}var $o={},rr=Uo($o),Er=Uo(!1),Ra=$o;function Xl(e,t){var n=e.type.contextTypes;if(!n)return $o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function yd(){cn(Er),cn(rr)}function my(e,t,n){if(rr.current!==$o)throw Error(Pe(168));ln(rr,t),ln(Er,n)}function Qx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,aw(e)||"Unknown",i));return xn({},n,r)}function xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Ra=rr.current,ln(rr,e),ln(Er,Er.current),!0}function py(e,t,n){var r=e.stateNode;if(!r)throw Error(Pe(169));n?(e=Qx(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,cn(Er),cn(rr),ln(rr,e)):cn(Er),ln(Er,n)}var zi=null,eh=!1,ep=!1;function Kx(e){zi===null?zi=[e]:zi.push(e)}function wT(e){eh=!0,Kx(e)}function Vo(){if(!ep&&zi!==null){ep=!0;var e=0,t=Jt;try{var n=zi;for(Jt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zi=null,eh=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),_x(Y0,Vo),i}finally{Jt=t,ep=!1}}return null}var kl=[],Nl=0,Ed=null,_d=0,Vr=[],Hr=0,Oa=null,Ui=1,Vi="";function xa(e,t){kl[Nl++]=_d,kl[Nl++]=Ed,Ed=e,_d=t}function qx(e,t,n){Vr[Hr++]=Ui,Vr[Hr++]=Vi,Vr[Hr++]=Oa,Oa=e;var r=Ui;e=Vi;var i=32-ai(r)-1;r&=~(1<<i),n+=1;var o=32-ai(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ui=1<<32-ai(t)+i|n<<i|r,Vi=o+e}else Ui=1<<o|n<<i|r,Vi=e}function rv(e){e.return!==null&&(xa(e,1),qx(e,1,0))}function iv(e){for(;e===Ed;)Ed=kl[--Nl],kl[Nl]=null,_d=kl[--Nl],kl[Nl]=null;for(;e===Oa;)Oa=Vr[--Hr],Vr[Hr]=null,Vi=Vr[--Hr],Vr[Hr]=null,Ui=Vr[--Hr],Vr[Hr]=null}var Ir=null,Nr=null,hn=!1,ii=null;function Zx(e,t){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Nr=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Oa!==null?{id:Ui,overflow:Vi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ir=e,Nr=null,!0):!1;default:return!1}}function o0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a0(e){if(hn){var t=Nr;if(t){var n=t;if(!vy(e,t)){if(o0(e))throw Error(Pe(418));t=No(n.nextSibling);var r=Ir;t&&vy(e,t)?Zx(r,n):(e.flags=e.flags&-4097|2,hn=!1,Ir=e)}}else{if(o0(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,hn=!1,Ir=e}}}function gy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function If(e){if(e!==Ir)return!1;if(!hn)return gy(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!t0(e.type,e.memoizedProps)),t&&(t=Nr)){if(o0(e))throw Jx(),Error(Pe(418));for(;t;)Zx(e,t),t=No(t.nextSibling)}if(gy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nr=No(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nr=null}}else Nr=Ir?No(e.stateNode.nextSibling):null;return!0}function Jx(){for(var e=Nr;e;)e=No(e.nextSibling)}function Yl(){Nr=Ir=null,hn=!1}function ov(e){ii===null?ii=[e]:ii.push(e)}var TT=Ki.ReactCurrentBatchConfig;function ni(e,t){if(e&&e.defaultProps){t=xn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Sd=Uo(null),wd=null,Il=null,av=null;function lv(){av=Il=wd=null}function sv(e){var t=Sd.current;cn(Sd),e._currentValue=t}function l0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zl(e,t){wd=e,av=Il=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(av!==e)if(e={context:e,memoizedValue:t,next:null},Il===null){if(wd===null)throw Error(Pe(308));Il=e,wd.dependencies={lanes:0,firstContext:e}}else Il=Il.next=e;return t}var Sa=null;function uv(e){Sa===null?Sa=[e]:Sa.push(e)}function eE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,uv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yi(e,r)}function Yi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wo=!1;function cv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yi(e,n)}return i=r.interleaved,i===null?(t.next=t,uv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yi(e,n)}function Jf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q0(e,n)}}function yy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;wo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?o=f:a.next=f,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=f:l.next=f,m.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,m=f=u=null,l=o;do{var p=l.lane,O=l.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:O,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,k=l;switch(p=t,O=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){h=b.call(O,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,p=typeof b=="function"?b.call(O,h,p):b,p==null)break e;h=xn({},h,p);break e;case 2:wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else O={eventTime:O,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(f=m=O,u=h):m=m.next=O,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(m===null&&(u=h),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ka|=a,e.lanes=a,e.memoizedState=h}}function xy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var nE=new ex.Component().refs;function s0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var th={isMounted:function(e){return(e=e._reactInternals)?Ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ur(),i=Do(e),o=Hi(r,i);o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(li(t,e,i,r),Jf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ur(),i=Do(e),o=Hi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(li(t,e,i,r),Jf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ur(),r=Do(e),i=Hi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Io(e,i,r),t!==null&&(li(t,e,r,n),Jf(t,e,r))}};function Ey(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Mu(n,r)||!Mu(i,o):!0}function rE(e,t,n){var r=!1,i=$o,o=t.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(i=_r(t)?Ra:rr.current,r=t.contextTypes,o=(r=r!=null)?Xl(e,i):$o),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _y(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function u0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nE,cv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yr(o):(o=_r(t)?Ra:rr.current,i.context=Xl(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(s0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&th.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function lu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===nE&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,e))}return e}function Mf(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sy(e){var t=e._init;return t(e._payload)}function iE(e){function t(x,T){if(e){var C=x.deletions;C===null?(x.deletions=[T],x.flags|=16):C.push(T)}}function n(x,T){if(!e)return null;for(;T!==null;)t(x,T),T=T.sibling;return null}function r(x,T){for(x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function i(x,T){return x=Fo(x,T),x.index=0,x.sibling=null,x}function o(x,T,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<T?(x.flags|=2,T):C):(x.flags|=2,T)):(x.flags|=1048576,T)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,T,C,U){return T===null||T.tag!==6?(T=lp(C,x.mode,U),T.return=x,T):(T=i(T,C),T.return=x,T)}function u(x,T,C,U){var Y=C.type;return Y===Cl?m(x,T,C.props.children,U,C.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===So&&Sy(Y)===T.type)?(U=i(T,C.props),U.ref=lu(x,T,C),U.return=x,U):(U=od(C.type,C.key,C.props,null,x.mode,U),U.ref=lu(x,T,C),U.return=x,U)}function f(x,T,C,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=sp(C,x.mode,U),T.return=x,T):(T=i(T,C.children||[]),T.return=x,T)}function m(x,T,C,U,Y){return T===null||T.tag!==7?(T=Ca(C,x.mode,U,Y),T.return=x,T):(T=i(T,C),T.return=x,T)}function h(x,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=lp(""+T,x.mode,C),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tf:return C=od(T.type,T.key,T.props,null,x.mode,C),C.ref=lu(x,null,T),C.return=x,C;case Al:return T=sp(T,x.mode,C),T.return=x,T;case So:var U=T._init;return h(x,U(T._payload),C)}if(pu(T)||nu(T))return T=Ca(T,x.mode,C,null),T.return=x,T;Mf(x,T)}return null}function p(x,T,C,U){var Y=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Y!==null?null:l(x,T,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Tf:return C.key===Y?u(x,T,C,U):null;case Al:return C.key===Y?f(x,T,C,U):null;case So:return Y=C._init,p(x,T,Y(C._payload),U)}if(pu(C)||nu(C))return Y!==null?null:m(x,T,C,U,null);Mf(x,C)}return null}function O(x,T,C,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(C)||null,l(T,x,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Tf:return x=x.get(U.key===null?C:U.key)||null,u(T,x,U,Y);case Al:return x=x.get(U.key===null?C:U.key)||null,f(T,x,U,Y);case So:var ne=U._init;return O(x,T,C,ne(U._payload),Y)}if(pu(U)||nu(U))return x=x.get(C)||null,m(T,x,U,Y,null);Mf(T,U)}return null}function b(x,T,C,U){for(var Y=null,ne=null,Te=T,ue=T=0,st=null;Te!==null&&ue<C.length;ue++){Te.index>ue?(st=Te,Te=null):st=Te.sibling;var We=p(x,Te,C[ue],U);if(We===null){Te===null&&(Te=st);break}e&&Te&&We.alternate===null&&t(x,Te),T=o(We,T,ue),ne===null?Y=We:ne.sibling=We,ne=We,Te=st}if(ue===C.length)return n(x,Te),hn&&xa(x,ue),Y;if(Te===null){for(;ue<C.length;ue++)Te=h(x,C[ue],U),Te!==null&&(T=o(Te,T,ue),ne===null?Y=Te:ne.sibling=Te,ne=Te);return hn&&xa(x,ue),Y}for(Te=r(x,Te);ue<C.length;ue++)st=O(Te,x,ue,C[ue],U),st!==null&&(e&&st.alternate!==null&&Te.delete(st.key===null?ue:st.key),T=o(st,T,ue),ne===null?Y=st:ne.sibling=st,ne=st);return e&&Te.forEach(function(ze){return t(x,ze)}),hn&&xa(x,ue),Y}function k(x,T,C,U){var Y=nu(C);if(typeof Y!="function")throw Error(Pe(150));if(C=Y.call(C),C==null)throw Error(Pe(151));for(var ne=Y=null,Te=T,ue=T=0,st=null,We=C.next();Te!==null&&!We.done;ue++,We=C.next()){Te.index>ue?(st=Te,Te=null):st=Te.sibling;var ze=p(x,Te,We.value,U);if(ze===null){Te===null&&(Te=st);break}e&&Te&&ze.alternate===null&&t(x,Te),T=o(ze,T,ue),ne===null?Y=ze:ne.sibling=ze,ne=ze,Te=st}if(We.done)return n(x,Te),hn&&xa(x,ue),Y;if(Te===null){for(;!We.done;ue++,We=C.next())We=h(x,We.value,U),We!==null&&(T=o(We,T,ue),ne===null?Y=We:ne.sibling=We,ne=We);return hn&&xa(x,ue),Y}for(Te=r(x,Te);!We.done;ue++,We=C.next())We=O(Te,x,ue,We.value,U),We!==null&&(e&&We.alternate!==null&&Te.delete(We.key===null?ue:We.key),T=o(We,T,ue),ne===null?Y=We:ne.sibling=We,ne=We);return e&&Te.forEach(function(Je){return t(x,Je)}),hn&&xa(x,ue),Y}function B(x,T,C,U){if(typeof C=="object"&&C!==null&&C.type===Cl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Tf:e:{for(var Y=C.key,ne=T;ne!==null;){if(ne.key===Y){if(Y=C.type,Y===Cl){if(ne.tag===7){n(x,ne.sibling),T=i(ne,C.props.children),T.return=x,x=T;break e}}else if(ne.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===So&&Sy(Y)===ne.type){n(x,ne.sibling),T=i(ne,C.props),T.ref=lu(x,ne,C),T.return=x,x=T;break e}n(x,ne);break}else t(x,ne);ne=ne.sibling}C.type===Cl?(T=Ca(C.props.children,x.mode,U,C.key),T.return=x,x=T):(U=od(C.type,C.key,C.props,null,x.mode,U),U.ref=lu(x,T,C),U.return=x,x=U)}return a(x);case Al:e:{for(ne=C.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(x,T.sibling),T=i(T,C.children||[]),T.return=x,x=T;break e}else{n(x,T);break}else t(x,T);T=T.sibling}T=sp(C,x.mode,U),T.return=x,x=T}return a(x);case So:return ne=C._init,B(x,T,ne(C._payload),U)}if(pu(C))return b(x,T,C,U);if(nu(C))return k(x,T,C,U);Mf(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(x,T.sibling),T=i(T,C),T.return=x,x=T):(n(x,T),T=lp(C,x.mode,U),T.return=x,x=T),a(x)):n(x,T)}return B}var Ql=iE(!0),oE=iE(!1),ec={},Ci=Uo(ec),ju=Uo(ec),$u=Uo(ec);function wa(e){if(e===ec)throw Error(Pe(174));return e}function fv(e,t){switch(ln($u,t),ln(ju,e),ln(Ci,ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gp(t,e)}cn(Ci),ln(Ci,t)}function Kl(){cn(Ci),cn(ju),cn($u)}function aE(e){wa($u.current);var t=wa(Ci.current),n=Gp(t,e.type);t!==n&&(ln(ju,e),ln(Ci,n))}function dv(e){ju.current===e&&(cn(Ci),cn(ju))}var gn=Uo(0);function Ad(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tp=[];function hv(){for(var e=0;e<tp.length;e++)tp[e]._workInProgressVersionPrimary=null;tp.length=0}var ed=Ki.ReactCurrentDispatcher,np=Ki.ReactCurrentBatchConfig,Pa=0,yn=null,$n=null,Xn=null,Cd=!1,Tu=!1,Gu=0,AT=0;function Jn(){throw Error(Pe(321))}function mv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function pv(e,t,n,r,i,o){if(Pa=o,yn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ed.current=e===null||e.memoizedState===null?RT:OT,e=n(r,i),Tu){o=0;do{if(Tu=!1,Gu=0,25<=o)throw Error(Pe(301));o+=1,Xn=$n=null,t.updateQueue=null,ed.current=PT,e=n(r,i)}while(Tu)}if(ed.current=bd,t=$n!==null&&$n.next!==null,Pa=0,Xn=$n=yn=null,Cd=!1,t)throw Error(Pe(300));return e}function vv(){var e=Gu!==0;return Gu=0,e}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?yn.memoizedState=Xn=e:Xn=Xn.next=e,Xn}function Qr(){if($n===null){var e=yn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Xn===null?yn.memoizedState:Xn.next;if(t!==null)Xn=t,$n=e;else{if(e===null)throw Error(Pe(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Xn===null?yn.memoizedState=Xn=e:Xn=Xn.next=e}return Xn}function zu(e,t){return typeof t=="function"?t(e):t}function rp(e){var t=Qr(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=$n,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,f=o;do{var m=f.lane;if((Pa&m)===m)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=h,a=r):u=u.next=h,yn.lanes|=m,ka|=m}f=f.next}while(f!==null&&f!==o);u===null?a=r:u.next=l,si(r,t.memoizedState)||(xr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,yn.lanes|=o,ka|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ip(e){var t=Qr(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);si(o,t.memoizedState)||(xr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function lE(){}function sE(e,t){var n=yn,r=Qr(),i=t(),o=!si(r.memoizedState,i);if(o&&(r.memoizedState=i,xr=!0),r=r.queue,gv(fE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Uu(9,cE.bind(null,n,r,i,t),void 0,null),Yn===null)throw Error(Pe(349));Pa&30||uE(n,t,i)}return i}function uE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yn.updateQueue,t===null?(t={lastEffect:null,stores:null},yn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cE(e,t,n,r){t.value=n,t.getSnapshot=r,dE(t)&&hE(e)}function fE(e,t,n){return n(function(){dE(t)&&hE(e)})}function dE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch{return!0}}function hE(e){var t=Yi(e,1);t!==null&&li(t,e,1,-1)}function wy(e){var t=Si();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:e},t.queue=e,e=e.dispatch=LT.bind(null,yn,e),[t.memoizedState,e]}function Uu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yn.updateQueue,t===null?(t={lastEffect:null,stores:null},yn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mE(){return Qr().memoizedState}function td(e,t,n,r){var i=Si();yn.flags|=e,i.memoizedState=Uu(1|t,n,void 0,r===void 0?null:r)}function nh(e,t,n,r){var i=Qr();r=r===void 0?null:r;var o=void 0;if($n!==null){var a=$n.memoizedState;if(o=a.destroy,r!==null&&mv(r,a.deps)){i.memoizedState=Uu(t,n,o,r);return}}yn.flags|=e,i.memoizedState=Uu(1|t,n,o,r)}function Ty(e,t){return td(8390656,8,e,t)}function gv(e,t){return nh(2048,8,e,t)}function pE(e,t){return nh(4,2,e,t)}function vE(e,t){return nh(4,4,e,t)}function gE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yE(e,t,n){return n=n!=null?n.concat([e]):null,nh(4,4,gE.bind(null,t,e),n)}function yv(){}function xE(e,t){var n=Qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EE(e,t){var n=Qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _E(e,t,n){return Pa&21?(si(n,t)||(n=Tx(),yn.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=n)}function CT(e,t){var n=Jt;Jt=n!==0&&4>n?n:4,e(!0);var r=np.transition;np.transition={};try{e(!1),t()}finally{Jt=n,np.transition=r}}function SE(){return Qr().memoizedState}function bT(e,t,n){var r=Do(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wE(e))TE(t,n);else if(n=eE(e,t,n,r),n!==null){var i=ur();li(n,e,r,i),AE(n,t,r)}}function LT(e,t,n){var r=Do(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wE(e))TE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,si(l,a)){var u=t.interleaved;u===null?(i.next=i,uv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=eE(e,t,i,r),n!==null&&(i=ur(),li(n,e,r,i),AE(n,t,r))}}function wE(e){var t=e.alternate;return e===yn||t!==null&&t===yn}function TE(e,t){Tu=Cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q0(e,n)}}var bd={readContext:Yr,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},RT={readContext:Yr,useCallback:function(e,t){return Si().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:Ty,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,td(4194308,4,gE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return td(4194308,4,e,t)},useInsertionEffect:function(e,t){return td(4,2,e,t)},useMemo:function(e,t){var n=Si();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Si();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bT.bind(null,yn,e),[r.memoizedState,e]},useRef:function(e){var t=Si();return e={current:e},t.memoizedState=e},useState:wy,useDebugValue:yv,useDeferredValue:function(e){return Si().memoizedState=e},useTransition:function(){var e=wy(!1),t=e[0];return e=CT.bind(null,e[1]),Si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yn,i=Si();if(hn){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=t(),Yn===null)throw Error(Pe(349));Pa&30||uE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ty(fE.bind(null,r,o,e),[e]),r.flags|=2048,Uu(9,cE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Si(),t=Yn.identifierPrefix;if(hn){var n=Vi,r=Ui;n=(r&~(1<<32-ai(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OT={readContext:Yr,useCallback:xE,useContext:Yr,useEffect:gv,useImperativeHandle:yE,useInsertionEffect:pE,useLayoutEffect:vE,useMemo:EE,useReducer:rp,useRef:mE,useState:function(){return rp(zu)},useDebugValue:yv,useDeferredValue:function(e){var t=Qr();return _E(t,$n.memoizedState,e)},useTransition:function(){var e=rp(zu)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:sE,useId:SE,unstable_isNewReconciler:!1},PT={readContext:Yr,useCallback:xE,useContext:Yr,useEffect:gv,useImperativeHandle:yE,useInsertionEffect:pE,useLayoutEffect:vE,useMemo:EE,useReducer:ip,useRef:mE,useState:function(){return ip(zu)},useDebugValue:yv,useDeferredValue:function(e){var t=Qr();return $n===null?t.memoizedState=e:_E(t,$n.memoizedState,e)},useTransition:function(){var e=ip(zu)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:sE,useId:SE,unstable_isNewReconciler:!1};function ql(e,t){try{var n="",r=t;do n+=ow(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function op(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function c0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function CE(e,t,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,E0=r),c0(e,t)},n}function bE(e,t,n){n=Hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){c0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){c0(e,t),typeof r!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ay(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=WT.bind(null,e,t,n),t.then(e,e))}function Cy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function by(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hi(-1,1),t.tag=2,Io(n,t,1))),n.lanes|=1),e)}var NT=Ki.ReactCurrentOwner,xr=!1;function lr(e,t,n,r){t.child=e===null?oE(t,null,n,r):Ql(t,e.child,n,r)}function Ly(e,t,n,r,i){n=n.render;var o=t.ref;return zl(t,i),r=pv(e,t,n,r,o,i),n=vv(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(hn&&n&&rv(t),t.flags|=1,lr(e,t,r,i),t.child)}function Ry(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Cv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,LE(e,t,o,r,i)):(e=od(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(a,r)&&e.ref===t.ref)return Qi(e,t,i)}return t.flags|=1,e=Fo(o,r),e.ref=t.ref,e.return=t,t.child=e}function LE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Mu(o,r)&&e.ref===t.ref)if(xr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,Qi(e,t,i)}return f0(e,t,n,r,i)}function RE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Dl,kr),kr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ln(Dl,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(Dl,kr),kr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ln(Dl,kr),kr|=r;return lr(e,t,i,n),t.child}function OE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function f0(e,t,n,r,i){var o=_r(n)?Ra:rr.current;return o=Xl(t,o),zl(t,i),n=pv(e,t,n,r,o,i),r=vv(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(hn&&r&&rv(t),t.flags|=1,lr(e,t,n,i),t.child)}function Oy(e,t,n,r,i){if(_r(n)){var o=!0;xd(t)}else o=!1;if(zl(t,i),t.stateNode===null)nd(e,t),rE(t,n,r),u0(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Yr(f):(f=_r(n)?Ra:rr.current,f=Xl(t,f));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&_y(t,a,r,f),wo=!1;var p=t.memoizedState;a.state=p,Td(t,r,a,i),u=t.memoizedState,l!==r||p!==u||Er.current||wo?(typeof m=="function"&&(s0(t,n,m,r),u=t.memoizedState),(l=wo||Ey(t,n,l,r,p,u,f))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,tE(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:ni(t.type,l),a.props=f,h=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Yr(u):(u=_r(n)?Ra:rr.current,u=Xl(t,u));var O=n.getDerivedStateFromProps;(m=typeof O=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==u)&&_y(t,a,r,u),wo=!1,p=t.memoizedState,a.state=p,Td(t,r,a,i);var b=t.memoizedState;l!==h||p!==b||Er.current||wo?(typeof O=="function"&&(s0(t,n,O,r),b=t.memoizedState),(f=wo||Ey(t,n,f,r,p,b,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return d0(e,t,n,r,o,i)}function d0(e,t,n,r,i,o){OE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&py(t,n,!1),Qi(e,t,o);r=t.stateNode,NT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ql(t,e.child,null,o),t.child=Ql(t,null,l,o)):lr(e,t,l,o),t.memoizedState=r.state,i&&py(t,n,!0),t.child}function PE(e){var t=e.stateNode;t.pendingContext?my(e,t.pendingContext,t.pendingContext!==t.context):t.context&&my(e,t.context,!1),fv(e,t.containerInfo)}function Py(e,t,n,r,i){return Yl(),ov(i),t.flags|=256,lr(e,t,n,r),t.child}var h0={dehydrated:null,treeContext:null,retryLane:0};function m0(e){return{baseLanes:e,cachePool:null,transitions:null}}function kE(e,t,n){var r=t.pendingProps,i=gn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ln(gn,i&1),e===null)return a0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=oh(a,r,0,null),e=Ca(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=m0(n),t.memoizedState=h0,e):xv(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return IT(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Fo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Fo(l,o):(o=Ca(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?m0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=h0,r}return o=e.child,e=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xv(e,t){return t=oh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Df(e,t,n,r){return r!==null&&ov(r),Ql(t,e.child,null,n),e=xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IT(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=op(Error(Pe(422))),Df(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=oh({mode:"visible",children:r.children},i,0,null),o=Ca(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ql(t,e.child,null,a),t.child.memoizedState=m0(a),t.memoizedState=h0,o);if(!(t.mode&1))return Df(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Pe(419)),r=op(o,r,void 0),Df(e,t,a,r)}if(l=(a&e.childLanes)!==0,xr||l){if(r=Yn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yi(e,i),li(r,e,i,-1))}return Av(),r=op(Error(Pe(421))),Df(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Nr=No(i.nextSibling),Ir=t,hn=!0,ii=null,e!==null&&(Vr[Hr++]=Ui,Vr[Hr++]=Vi,Vr[Hr++]=Oa,Ui=e.id,Vi=e.overflow,Oa=t),t=xv(t,r.children),t.flags|=4096,t)}function ky(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),l0(e.return,t,n)}function ap(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function NE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(lr(e,t,r.children,n),r=gn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ky(e,n,t);else if(e.tag===19)ky(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ln(gn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ad(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ap(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ad(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ap(t,!0,n,null,o);break;case"together":ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MT(e,t,n){switch(t.tag){case 3:PE(t),Yl();break;case 5:aE(t);break;case 1:_r(t.type)&&xd(t);break;case 4:fv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ln(Sd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ln(gn,gn.current&1),t.flags|=128,null):n&t.child.childLanes?kE(e,t,n):(ln(gn,gn.current&1),e=Qi(e,t,n),e!==null?e.sibling:null);ln(gn,gn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(gn,gn.current),r)break;return null;case 22:case 23:return t.lanes=0,RE(e,t,n)}return Qi(e,t,n)}var IE,p0,ME,DE;IE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};p0=function(){};ME=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(Ci.current);var o=null;switch(n){case"input":i=Fp(e,i),r=Fp(e,r),o=[];break;case"select":i=xn({},i,{value:void 0}),r=xn({},r,{value:void 0}),o=[];break;case"textarea":i=$p(e,i),r=$p(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gd)}zp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Lu.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&un("scroll",e),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};DE=function(e,t,n,r){n!==r&&(t.flags|=4)};function su(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function DT(e,t,n){var r=t.pendingProps;switch(iv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return _r(t.type)&&yd(),er(t),null;case 3:return r=t.stateNode,Kl(),cn(Er),cn(rr),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(If(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ii!==null&&(w0(ii),ii=null))),p0(e,t),er(t),null;case 5:dv(t);var i=wa($u.current);if(n=t.type,e!==null&&t.stateNode!=null)ME(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return er(t),null}if(e=wa(Ci.current),If(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ti]=t,r[Bu]=o,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)un(gu[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":Gg(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":Ug(r,o),un("invalid",r)}zp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Nf(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Nf(r.textContent,l,e),i=["children",""+l]):Lu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&un("scroll",r)}switch(n){case"input":Af(r),zg(r,o,!0);break;case"textarea":Af(r),Vg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ux(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ti]=t,e[Bu]=r,IE(e,t,!1,!1),t.stateNode=e;e:{switch(a=Up(n,r),n){case"dialog":un("cancel",e),un("close",e),i=r;break;case"iframe":case"object":case"embed":un("load",e),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)un(gu[i],e);i=r;break;case"source":un("error",e),i=r;break;case"img":case"image":case"link":un("error",e),un("load",e),i=r;break;case"details":un("toggle",e),i=r;break;case"input":Gg(e,r),i=Fp(e,r),un("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xn({},r,{value:void 0}),un("invalid",e);break;case"textarea":Ug(e,r),i=$p(e,r),un("invalid",e);break;default:i=r}zp(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?dx(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cx(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ru(e,u):typeof u=="number"&&Ru(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&un("scroll",e):u!=null&&U0(e,o,u,a))}switch(n){case"input":Af(e),zg(e,r,!1);break;case"textarea":Af(e),Vg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)DE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(n=wa($u.current),wa(Ci.current),If(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(o=r.nodeValue!==n)&&(e=Ir,e!==null))switch(e.tag){case 3:Nf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nf(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=t,t.stateNode=r}return er(t),null;case 13:if(cn(gn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&Nr!==null&&t.mode&1&&!(t.flags&128))Jx(),Yl(),t.flags|=98560,o=!1;else if(o=If(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Pe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Pe(317));o[Ti]=t}else Yl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),o=!1}else ii!==null&&(w0(ii),ii=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gn.current&1?Gn===0&&(Gn=3):Av())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return Kl(),p0(e,t),e===null&&Du(t.stateNode.containerInfo),er(t),null;case 10:return sv(t.type._context),er(t),null;case 17:return _r(t.type)&&yd(),er(t),null;case 19:if(cn(gn),o=t.memoizedState,o===null)return er(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)su(o,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ad(e),a!==null){for(t.flags|=128,su(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ln(gn,gn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pn()>Zl&&(t.flags|=128,r=!0,su(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ad(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!hn)return er(t),null}else 2*Pn()-o.renderingStartTime>Zl&&n!==1073741824&&(t.flags|=128,r=!0,su(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pn(),t.sibling=null,n=gn.current,ln(gn,r?n&1|2:n&1),t):(er(t),null);case 22:case 23:return Tv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kr&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function FT(e,t){switch(iv(t),t.tag){case 1:return _r(t.type)&&yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kl(),cn(Er),cn(rr),hv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dv(t),null;case 13:if(cn(gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(gn),null;case 4:return Kl(),null;case 10:return sv(t.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var Ff=!1,tr=!1,BT=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ml(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(e,t,r)}else n.current=null}function v0(e,t,n){try{n()}catch(r){Tn(e,t,r)}}var Ny=!1;function jT(e,t){if(Jp=md,e=$x(),nv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,m=0,h=e,p=null;t:for(;;){for(var O;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(O=h.firstChild)!==null;)p=h,h=O;for(;;){if(h===e)break t;if(p===n&&++f===i&&(l=a),p===o&&++m===r&&(u=a),(O=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=O}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(e0={focusedElem:e,selectionRange:n},md=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,B=b.memoizedState,x=t.stateNode,T=x.getSnapshotBeforeUpdate(t.elementType===t.type?k:ni(t.type,k),B);x.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(U){Tn(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return b=Ny,Ny=!1,b}function Au(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&v0(t,n,o)}i=i.next}while(i!==r)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function g0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FE(e){var t=e.alternate;t!==null&&(e.alternate=null,FE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Bu],delete t[r0],delete t[_T],delete t[ST])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BE(e){return e.tag===5||e.tag===3||e.tag===4}function Iy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function y0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(r!==4&&(e=e.child,e!==null))for(y0(e,t,n),e=e.sibling;e!==null;)y0(e,t,n),e=e.sibling}function x0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(x0(e,t,n),e=e.sibling;e!==null;)x0(e,t,n),e=e.sibling}var Kn=null,ri=!1;function yo(e,t,n){for(n=n.child;n!==null;)jE(e,t,n),n=n.sibling}function jE(e,t,n){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:tr||Ml(n,t);case 6:var r=Kn,i=ri;Kn=null,yo(e,t,n),Kn=r,ri=i,Kn!==null&&(ri?(e=Kn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kn.removeChild(n.stateNode));break;case 18:Kn!==null&&(ri?(e=Kn,n=n.stateNode,e.nodeType===8?Jm(e.parentNode,n):e.nodeType===1&&Jm(e,n),Nu(e)):Jm(Kn,n.stateNode));break;case 4:r=Kn,i=ri,Kn=n.stateNode.containerInfo,ri=!0,yo(e,t,n),Kn=r,ri=i;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&v0(n,t,a),i=i.next}while(i!==r)}yo(e,t,n);break;case 1:if(!tr&&(Ml(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tn(n,t,l)}yo(e,t,n);break;case 21:yo(e,t,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,yo(e,t,n),tr=r):yo(e,t,n);break;default:yo(e,t,n)}}function My(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BT),t.forEach(function(r){var i=YT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ti(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Kn=l.stateNode,ri=!1;break e;case 3:Kn=l.stateNode.containerInfo,ri=!0;break e;case 4:Kn=l.stateNode.containerInfo,ri=!0;break e}l=l.return}if(Kn===null)throw Error(Pe(160));jE(o,a,i),Kn=null,ri=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){Tn(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$E(t,e),t=t.sibling}function $E(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),Ei(e),r&4){try{Au(3,e,e.return),rh(3,e)}catch(k){Tn(e,e.return,k)}try{Au(5,e,e.return)}catch(k){Tn(e,e.return,k)}}break;case 1:ti(t,e),Ei(e),r&512&&n!==null&&Ml(n,n.return);break;case 5:if(ti(t,e),Ei(e),r&512&&n!==null&&Ml(n,n.return),e.flags&32){var i=e.stateNode;try{Ru(i,"")}catch(k){Tn(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&lx(i,o),Up(l,a);var f=Up(l,o);for(a=0;a<u.length;a+=2){var m=u[a],h=u[a+1];m==="style"?dx(i,h):m==="dangerouslySetInnerHTML"?cx(i,h):m==="children"?Ru(i,h):U0(i,m,h,f)}switch(l){case"input":Bp(i,o);break;case"textarea":sx(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var O=o.value;O!=null?Bl(i,!!o.multiple,O,!1):p!==!!o.multiple&&(o.defaultValue!=null?Bl(i,!!o.multiple,o.defaultValue,!0):Bl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bu]=o}catch(k){Tn(e,e.return,k)}}break;case 6:if(ti(t,e),Ei(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){Tn(e,e.return,k)}}break;case 3:if(ti(t,e),Ei(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nu(t.containerInfo)}catch(k){Tn(e,e.return,k)}break;case 4:ti(t,e),Ei(e);break;case 13:ti(t,e),Ei(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sv=Pn())),r&4&&My(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(tr=(f=tr)||m,ti(t,e),tr=f):ti(t,e),Ei(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(Ze=e,m=e.child;m!==null;){for(h=Ze=m;Ze!==null;){switch(p=Ze,O=p.child,p.tag){case 0:case 11:case 14:case 15:Au(4,p,p.return);break;case 1:Ml(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(k){Tn(r,n,k)}}break;case 5:Ml(p,p.return);break;case 22:if(p.memoizedState!==null){Fy(h);continue}}O!==null?(O.return=p,Ze=O):Fy(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fx("display",a))}catch(k){Tn(e,e.return,k)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(k){Tn(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ti(t,e),Ei(e),r&4&&My(e);break;case 21:break;default:ti(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BE(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ru(i,""),r.flags&=-33);var o=Iy(e);x0(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Iy(e);y0(e,l,a);break;default:throw Error(Pe(161))}}catch(u){Tn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $T(e,t,n){Ze=e,GE(e)}function GE(e,t,n){for(var r=(e.mode&1)!==0;Ze!==null;){var i=Ze,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ff;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||tr;l=Ff;var f=tr;if(Ff=a,(tr=u)&&!f)for(Ze=i;Ze!==null;)a=Ze,u=a.child,a.tag===22&&a.memoizedState!==null?By(i):u!==null?(u.return=a,Ze=u):By(i);for(;o!==null;)Ze=o,GE(o),o=o.sibling;Ze=i,Ff=l,tr=f}Dy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ze=o):Dy(e)}}function Dy(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||rh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xy(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xy(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}tr||t.flags&512&&g0(t)}catch(p){Tn(t,t.return,p)}}if(t===e){Ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function Fy(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function By(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rh(4,t)}catch(u){Tn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Tn(t,i,u)}}var o=t.return;try{g0(t)}catch(u){Tn(t,o,u)}break;case 5:var a=t.return;try{g0(t)}catch(u){Tn(t,a,u)}}}catch(u){Tn(t,t.return,u)}if(t===e){Ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ze=l;break}Ze=t.return}}var GT=Math.ceil,Ld=Ki.ReactCurrentDispatcher,Ev=Ki.ReactCurrentOwner,Xr=Ki.ReactCurrentBatchConfig,Wt=0,Yn=null,In=null,qn=0,kr=0,Dl=Uo(0),Gn=0,Vu=null,ka=0,ih=0,_v=0,Cu=null,yr=null,Sv=0,Zl=1/0,Gi=null,Rd=!1,E0=null,Mo=null,Bf=!1,bo=null,Od=0,bu=0,_0=null,rd=-1,id=0;function ur(){return Wt&6?Pn():rd!==-1?rd:rd=Pn()}function Do(e){return e.mode&1?Wt&2&&qn!==0?qn&-qn:TT.transition!==null?(id===0&&(id=Tx()),id):(e=Jt,e!==0||(e=window.event,e=e===void 0?16:Px(e.type)),e):1}function li(e,t,n,r){if(50<bu)throw bu=0,_0=null,Error(Pe(185));qu(e,n,r),(!(Wt&2)||e!==Yn)&&(e===Yn&&(!(Wt&2)&&(ih|=n),Gn===4&&Ao(e,qn)),Sr(e,r),n===1&&Wt===0&&!(t.mode&1)&&(Zl=Pn()+500,eh&&Vo()))}function Sr(e,t){var n=e.callbackNode;Tw(e,t);var r=hd(e,e===Yn?qn:0);if(r===0)n!==null&&Xg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xg(n),t===1)e.tag===0?wT(jy.bind(null,e)):Kx(jy.bind(null,e)),xT(function(){!(Wt&6)&&Vo()}),n=null;else{switch(Ax(r)){case 1:n=Y0;break;case 4:n=Sx;break;case 16:n=dd;break;case 536870912:n=wx;break;default:n=dd}n=QE(n,zE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zE(e,t){if(rd=-1,id=0,Wt&6)throw Error(Pe(327));var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var r=hd(e,e===Yn?qn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pd(e,r);else{t=r;var i=Wt;Wt|=2;var o=VE();(Yn!==e||qn!==t)&&(Gi=null,Zl=Pn()+500,Aa(e,t));do try{VT();break}catch(l){UE(e,l)}while(!0);lv(),Ld.current=o,Wt=i,In!==null?t=0:(Yn=null,qn=0,t=Gn)}if(t!==0){if(t===2&&(i=Yp(e),i!==0&&(r=i,t=S0(e,i))),t===1)throw n=Vu,Aa(e,0),Ao(e,r),Sr(e,Pn()),n;if(t===6)Ao(e,r);else{if(i=e.current.alternate,!(r&30)&&!zT(i)&&(t=Pd(e,r),t===2&&(o=Yp(e),o!==0&&(r=o,t=S0(e,o))),t===1))throw n=Vu,Aa(e,0),Ao(e,r),Sr(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:Ea(e,yr,Gi);break;case 3:if(Ao(e,r),(r&130023424)===r&&(t=Sv+500-Pn(),10<t)){if(hd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=n0(Ea.bind(null,e,yr,Gi),t);break}Ea(e,yr,Gi);break;case 4:if(Ao(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ai(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GT(r/1960))-r,10<r){e.timeoutHandle=n0(Ea.bind(null,e,yr,Gi),r);break}Ea(e,yr,Gi);break;case 5:Ea(e,yr,Gi);break;default:throw Error(Pe(329))}}}return Sr(e,Pn()),e.callbackNode===n?zE.bind(null,e):null}function S0(e,t){var n=Cu;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=Pd(e,t),e!==2&&(t=yr,yr=n,t!==null&&w0(t)),e}function w0(e){yr===null?yr=e:yr.push.apply(yr,e)}function zT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!si(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~_v,t&=~ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ai(t),r=1<<n;e[n]=-1,t&=~r}}function jy(e){if(Wt&6)throw Error(Pe(327));Ul();var t=hd(e,0);if(!(t&1))return Sr(e,Pn()),null;var n=Pd(e,t);if(e.tag!==0&&n===2){var r=Yp(e);r!==0&&(t=r,n=S0(e,r))}if(n===1)throw n=Vu,Aa(e,0),Ao(e,t),Sr(e,Pn()),n;if(n===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,yr,Gi),Sr(e,Pn()),null}function wv(e,t){var n=Wt;Wt|=1;try{return e(t)}finally{Wt=n,Wt===0&&(Zl=Pn()+500,eh&&Vo())}}function Na(e){bo!==null&&bo.tag===0&&!(Wt&6)&&Ul();var t=Wt;Wt|=1;var n=Xr.transition,r=Jt;try{if(Xr.transition=null,Jt=1,e)return e()}finally{Jt=r,Xr.transition=n,Wt=t,!(Wt&6)&&Vo()}}function Tv(){kr=Dl.current,cn(Dl)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yT(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:Kl(),cn(Er),cn(rr),hv();break;case 5:dv(r);break;case 4:Kl();break;case 13:cn(gn);break;case 19:cn(gn);break;case 10:sv(r.type._context);break;case 22:case 23:Tv()}n=n.return}if(Yn=e,In=e=Fo(e.current,null),qn=kr=t,Gn=0,Vu=null,_v=ih=ka=0,yr=Cu=null,Sa!==null){for(t=0;t<Sa.length;t++)if(n=Sa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Sa=null}return e}function UE(e,t){do{var n=In;try{if(lv(),ed.current=bd,Cd){for(var r=yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(Pa=0,Xn=$n=yn=null,Tu=!1,Gu=0,Ev.current=null,n===null||n.return===null){Gn=1,Vu=t,In=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=qn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var O=Cy(a);if(O!==null){O.flags&=-257,by(O,a,l,o,t),O.mode&1&&Ay(o,f,t),t=O,u=f;var b=t.updateQueue;if(b===null){var k=new Set;k.add(u),t.updateQueue=k}else b.add(u);break e}else{if(!(t&1)){Ay(o,f,t),Av();break e}u=Error(Pe(426))}}else if(hn&&l.mode&1){var B=Cy(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),by(B,a,l,o,t),ov(ql(u,l));break e}}o=u=ql(u,l),Gn!==4&&(Gn=2),Cu===null?Cu=[o]:Cu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=CE(o,u,t);yy(o,x);break e;case 1:l=u;var T=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mo===null||!Mo.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var U=bE(o,l,t);yy(o,U);break e}}o=o.return}while(o!==null)}WE(n)}catch(Y){t=Y,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function VE(){var e=Ld.current;return Ld.current=bd,e===null?bd:e}function Av(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),Yn===null||!(ka&268435455)&&!(ih&268435455)||Ao(Yn,qn)}function Pd(e,t){var n=Wt;Wt|=2;var r=VE();(Yn!==e||qn!==t)&&(Gi=null,Aa(e,t));do try{UT();break}catch(i){UE(e,i)}while(!0);if(lv(),Wt=n,Ld.current=r,In!==null)throw Error(Pe(261));return Yn=null,qn=0,Gn}function UT(){for(;In!==null;)HE(In)}function VT(){for(;In!==null&&!pw();)HE(In)}function HE(e){var t=YE(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?WE(e):In=t,Ev.current=null}function WE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=FT(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,In=null;return}}else if(n=DT(n,t,kr),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);Gn===0&&(Gn=5)}function Ea(e,t,n){var r=Jt,i=Xr.transition;try{Xr.transition=null,Jt=1,HT(e,t,n,r)}finally{Xr.transition=i,Jt=r}return null}function HT(e,t,n,r){do Ul();while(bo!==null);if(Wt&6)throw Error(Pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Aw(e,o),e===Yn&&(In=Yn=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bf||(Bf=!0,QE(dd,function(){return Ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xr.transition,Xr.transition=null;var a=Jt;Jt=1;var l=Wt;Wt|=4,Ev.current=null,jT(e,n),$E(n,e),fT(e0),md=!!Jp,e0=Jp=null,e.current=n,$T(n),vw(),Wt=l,Jt=a,Xr.transition=o}else e.current=n;if(Bf&&(Bf=!1,bo=e,Od=i),o=e.pendingLanes,o===0&&(Mo=null),xw(n.stateNode),Sr(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=E0,E0=null,e;return Od&1&&e.tag!==0&&Ul(),o=e.pendingLanes,o&1?e===_0?bu++:(bu=0,_0=e):bu=0,Vo(),null}function Ul(){if(bo!==null){var e=Ax(Od),t=Xr.transition,n=Jt;try{if(Xr.transition=null,Jt=16>e?16:e,bo===null)var r=!1;else{if(e=bo,bo=null,Od=0,Wt&6)throw Error(Pe(331));var i=Wt;for(Wt|=4,Ze=e.current;Ze!==null;){var o=Ze,a=o.child;if(Ze.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Ze=f;Ze!==null;){var m=Ze;switch(m.tag){case 0:case 11:case 15:Au(8,m,o)}var h=m.child;if(h!==null)h.return=m,Ze=h;else for(;Ze!==null;){m=Ze;var p=m.sibling,O=m.return;if(FE(m),m===f){Ze=null;break}if(p!==null){p.return=O,Ze=p;break}Ze=O}}}var b=o.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var B=k.sibling;k.sibling=null,k=B}while(k!==null)}}Ze=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ze=a;else e:for(;Ze!==null;){if(o=Ze,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Au(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Ze=x;break e}Ze=o.return}}var T=e.current;for(Ze=T;Ze!==null;){a=Ze;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Ze=C;else e:for(a=T;Ze!==null;){if(l=Ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(Y){Tn(l,l.return,Y)}if(l===a){Ze=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,Ze=U;break e}Ze=l.return}}if(Wt=i,Vo(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Qd,e)}catch{}r=!0}return r}finally{Jt=n,Xr.transition=t}}return!1}function $y(e,t,n){t=ql(n,t),t=CE(e,t,1),e=Io(e,t,1),t=ur(),e!==null&&(qu(e,1,t),Sr(e,t))}function Tn(e,t,n){if(e.tag===3)$y(e,e,n);else for(;t!==null;){if(t.tag===3){$y(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mo===null||!Mo.has(r))){e=ql(n,e),e=bE(t,e,1),t=Io(t,e,1),e=ur(),t!==null&&(qu(t,1,e),Sr(t,e));break}}t=t.return}}function WT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&n,Yn===e&&(qn&n)===n&&(Gn===4||Gn===3&&(qn&130023424)===qn&&500>Pn()-Sv?Aa(e,0):_v|=n),Sr(e,t)}function XE(e,t){t===0&&(e.mode&1?(t=Lf,Lf<<=1,!(Lf&130023424)&&(Lf=4194304)):t=1);var n=ur();e=Yi(e,t),e!==null&&(qu(e,t,n),Sr(e,n))}function XT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XE(e,n)}function YT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),XE(e,n)}var YE;YE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xr=!1,MT(e,t,n);xr=!!(e.flags&131072)}else xr=!1,hn&&t.flags&1048576&&qx(t,_d,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nd(e,t),e=t.pendingProps;var i=Xl(t,rr.current);zl(t,n),i=pv(null,t,r,e,i,n);var o=vv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(o=!0,xd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(t),i.updater=th,t.stateNode=i,i._reactInternals=t,u0(t,r,e,n),t=d0(null,t,r,!0,o,n)):(t.tag=0,hn&&o&&rv(t),lr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=KT(r),e=ni(r,e),i){case 0:t=f0(null,t,r,e,n);break e;case 1:t=Oy(null,t,r,e,n);break e;case 11:t=Ly(null,t,r,e,n);break e;case 14:t=Ry(null,t,r,ni(r.type,e),n);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ni(r,i),f0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ni(r,i),Oy(e,t,r,i,n);case 3:e:{if(PE(t),e===null)throw Error(Pe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,tE(e,t),Td(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ql(Error(Pe(423)),t),t=Py(e,t,r,n,i);break e}else if(r!==i){i=ql(Error(Pe(424)),t),t=Py(e,t,r,n,i);break e}else for(Nr=No(t.stateNode.containerInfo.firstChild),Ir=t,hn=!0,ii=null,n=oE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yl(),r===i){t=Qi(e,t,n);break e}lr(e,t,r,n)}t=t.child}return t;case 5:return aE(t),e===null&&a0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,t0(r,i)?a=null:o!==null&&t0(r,o)&&(t.flags|=32),OE(e,t),lr(e,t,a,n),t.child;case 6:return e===null&&a0(t),null;case 13:return kE(e,t,n);case 4:return fv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ql(t,null,r,n):lr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ni(r,i),Ly(e,t,r,i,n);case 7:return lr(e,t,t.pendingProps,n),t.child;case 8:return lr(e,t,t.pendingProps.children,n),t.child;case 12:return lr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ln(Sd,r._currentValue),r._currentValue=a,o!==null)if(si(o.value,a)){if(o.children===i.children&&!Er.current){t=Qi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Hi(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?u.next=u:(u.next=m.next,m.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),l0(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Pe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),l0(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}lr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zl(t,n),i=Yr(i),r=r(i),t.flags|=1,lr(e,t,r,n),t.child;case 14:return r=t.type,i=ni(r,t.pendingProps),i=ni(r.type,i),Ry(e,t,r,i,n);case 15:return LE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ni(r,i),nd(e,t),t.tag=1,_r(r)?(e=!0,xd(t)):e=!1,zl(t,n),rE(t,r,i),u0(t,r,i,n),d0(null,t,r,!0,e,n);case 19:return NE(e,t,n);case 22:return RE(e,t,n)}throw Error(Pe(156,t.tag))};function QE(e,t){return _x(e,t)}function QT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,t,n,r){return new QT(e,t,n,r)}function Cv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KT(e){if(typeof e=="function")return Cv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H0)return 11;if(e===W0)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=Wr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function od(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Cv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cl:return Ca(n.children,i,o,t);case V0:a=8,i|=8;break;case Np:return e=Wr(12,n,t,i|2),e.elementType=Np,e.lanes=o,e;case Ip:return e=Wr(13,n,t,i),e.elementType=Ip,e.lanes=o,e;case Mp:return e=Wr(19,n,t,i),e.elementType=Mp,e.lanes=o,e;case ix:return oh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nx:a=10;break e;case rx:a=9;break e;case H0:a=11;break e;case W0:a=14;break e;case So:a=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=Wr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ca(e,t,n,r){return e=Wr(7,e,r,t),e.lanes=n,e}function oh(e,t,n,r){return e=Wr(22,e,r,t),e.elementType=ix,e.lanes=n,e.stateNode={isHidden:!1},e}function lp(e,t,n){return e=Wr(6,e,null,t),e.lanes=n,e}function sp(e,t,n){return t=Wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zm(0),this.expirationTimes=zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bv(e,t,n,r,i,o,a,l,u){return e=new qT(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(o),e}function ZT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KE(e){if(!e)return $o;e=e._reactInternals;e:{if(Ba(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var n=e.type;if(_r(n))return Qx(e,n,t)}return t}function qE(e,t,n,r,i,o,a,l,u){return e=bv(n,r,!0,e,i,o,a,l,u),e.context=KE(null),n=e.current,r=ur(),i=Do(n),o=Hi(r,i),o.callback=t??null,Io(n,o,i),e.current.lanes=i,qu(e,i,r),Sr(e,r),e}function ah(e,t,n,r){var i=t.current,o=ur(),a=Do(i);return n=KE(n),t.context===null?t.context=n:t.pendingContext=n,t=Hi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Io(i,t,a),e!==null&&(li(e,i,a,o),Jf(e,i,a)),a}function kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lv(e,t){Gy(e,t),(e=e.alternate)&&Gy(e,t)}function JT(){return null}var ZE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rv(e){this._internalRoot=e}lh.prototype.render=Rv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));ah(e,t,null,null)};lh.prototype.unmount=Rv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){ah(null,e,null,null)}),t[Xi]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<To.length&&t!==0&&t<To[n].priority;n++);To.splice(n,0,e),n===0&&Ox(e)}};function Ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zy(){}function eA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=kd(a);o.call(f)}}var a=qE(t,r,e,0,null,!1,!1,"",zy);return e._reactRootContainer=a,e[Xi]=a.current,Du(e.nodeType===8?e.parentNode:e),Na(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=kd(u);l.call(f)}}var u=bv(e,0,!1,null,null,!1,!1,"",zy);return e._reactRootContainer=u,e[Xi]=u.current,Du(e.nodeType===8?e.parentNode:e),Na(function(){ah(t,u,n,r)}),u}function uh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=kd(a);l.call(u)}}ah(t,a,e,i)}else a=eA(n,t,e,i,r);return kd(a)}Cx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vu(t.pendingLanes);n!==0&&(Q0(t,n|1),Sr(t,Pn()),!(Wt&6)&&(Zl=Pn()+500,Vo()))}break;case 13:Na(function(){var r=Yi(e,1);if(r!==null){var i=ur();li(r,e,1,i)}}),Lv(e,1)}};K0=function(e){if(e.tag===13){var t=Yi(e,134217728);if(t!==null){var n=ur();li(t,e,134217728,n)}Lv(e,134217728)}};bx=function(e){if(e.tag===13){var t=Do(e),n=Yi(e,t);if(n!==null){var r=ur();li(n,e,t,r)}Lv(e,t)}};Lx=function(){return Jt};Rx=function(e,t){var n=Jt;try{return Jt=e,t()}finally{Jt=n}};Hp=function(e,t,n){switch(t){case"input":if(Bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Jd(r);if(!i)throw Error(Pe(90));ax(r),Bp(r,i)}}}break;case"textarea":sx(e,n);break;case"select":t=n.value,t!=null&&Bl(e,!!n.multiple,t,!1)}};px=wv;vx=Na;var tA={usingClientEntryPoint:!1,Events:[Ju,Ol,Jd,hx,mx,wv]},uu={findFiberByHostInstance:_a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nA={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xx(e),e===null?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||JT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Qd=jf.inject(nA),Ai=jf}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tA;Dr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(t))throw Error(Pe(200));return ZT(e,t,null,n)};Dr.createRoot=function(e,t){if(!Ov(e))throw Error(Pe(299));var n=!1,r="",i=ZE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bv(e,1,!1,null,null,n,!1,r,i),e[Xi]=t.current,Du(e.nodeType===8?e.parentNode:e),new Rv(t)};Dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=xx(t),e=e===null?null:e.stateNode,e};Dr.flushSync=function(e){return Na(e)};Dr.hydrate=function(e,t,n){if(!sh(t))throw Error(Pe(200));return uh(null,e,t,!0,n)};Dr.hydrateRoot=function(e,t,n){if(!Ov(e))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=qE(t,null,e,1,n??null,i,!1,o,a),e[Xi]=t.current,Du(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lh(t)};Dr.render=function(e,t,n){if(!sh(t))throw Error(Pe(200));return uh(null,e,t,!1,n)};Dr.unmountComponentAtNode=function(e){if(!sh(e))throw Error(Pe(40));return e._reactRootContainer?(Na(function(){uh(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0):!1};Dr.unstable_batchedUpdates=wv;Dr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sh(n))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return uh(e,t,n,!1,r)};Dr.version="18.2.0-next-9e3b772b8-20220608";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(e){console.error(e)}}JE(),q1.exports=Dr;var rA=q1.exports,Uy=rA;Pp.createRoot=Uy.createRoot,Pp.hydrateRoot=Uy.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}var Lo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lo||(Lo={}));const Vy="popstate";function iA(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:u=""}=ja(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),T0("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof o=="string"?o:Nd(o))}function r(i,o){ch(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return aA(t,n,r,e)}function Mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ch(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oA(){return Math.random().toString(36).substr(2,8)}function Hy(e,t){return{usr:e.state,key:e.key,idx:t}}function T0(e,t,n,r){return n===void 0&&(n=null),Hu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ja(t):t,{state:n,key:t&&t.key||r||oA()})}function Nd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Lo.Pop,u=null,f=m();f==null&&(f=0,a.replaceState(Hu({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function h(){l=Lo.Pop;let B=m(),x=B==null?null:B-f;f=B,u&&u({action:l,location:k.location,delta:x})}function p(B,x){l=Lo.Push;let T=T0(k.location,B,x);n&&n(T,B),f=m()+1;let C=Hy(T,f),U=k.createHref(T);try{a.pushState(C,"",U)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(U)}o&&u&&u({action:l,location:k.location,delta:1})}function O(B,x){l=Lo.Replace;let T=T0(k.location,B,x);n&&n(T,B),f=m();let C=Hy(T,f),U=k.createHref(T);a.replaceState(C,"",U),o&&u&&u({action:l,location:k.location,delta:0})}function b(B){let x=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof B=="string"?B:Nd(B);return Mn(x,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,x)}let k={get action(){return l},get location(){return e(i,a)},listen(B){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Vy,h),u=B,()=>{i.removeEventListener(Vy,h),u=null}},createHref(B){return t(i,B)},createURL:b,encodeLocation(B){let x=b(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:O,go(B){return a.go(B)}};return k}var Wy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wy||(Wy={}));function lA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ja(t):t,i=Pv(r.pathname||"/",n);if(i==null)return null;let o=e_(e);sA(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=gA(o[l],EA(i));return a}function e_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Mn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Bo([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(Mn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),e_(o.children,t,m,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:pA(f,o.index),routesMeta:m})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of t_(o.path))i(o,a,u)}),t}function t_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=t_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function sA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uA=/^:\w+$/,cA=3,fA=2,dA=1,hA=10,mA=-2,Xy=e=>e==="*";function pA(e,t){let n=e.split("/"),r=n.length;return n.some(Xy)&&(r+=mA),t&&(r+=fA),n.filter(i=>!Xy(i)).reduce((i,o)=>i+(uA.test(o)?cA:o===""?dA:hA),r)}function vA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gA(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=yA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!m)return null;Object.assign(r,m.params);let h=l.route;o.push({params:r,pathname:Bo([i,m.pathname]),pathnameBase:TA(Bo([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Bo([i,m.pathnameBase]))}return o}function yA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,m,h)=>{let{paramName:p,isOptional:O}=m;if(p==="*"){let k=l[h]||"";a=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const b=l[h];return O&&!b?f[p]=void 0:f[p]=_A(b||"",p),f},{}),pathname:o,pathnameBase:a,pattern:e}}function xA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ch(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function EA(e){try{return decodeURI(e)}catch(t){return ch(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _A(e,t){try{return decodeURIComponent(e)}catch(n){return ch(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Pv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ja(e):e;return{pathname:n?n.startsWith("/")?n:wA(n,t):t,search:AA(r),hash:CA(i)}}function wA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ja(e):(i=Hu({},e),Mn(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),Mn(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),Mn(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h.pop();i.pathname=p.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=SA(i,l),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}const Bo=e=>e.join("/").replace(/\/\/+/g,"/"),TA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const i_=["post","put","patch","delete"];new Set(i_);const LA=["get",...i_];new Set(LA);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}const kv=te.createContext(null),RA=te.createContext(null),is=te.createContext(null),fh=te.createContext(null),Ho=te.createContext({outlet:null,matches:[],isDataRoute:!1}),o_=te.createContext(null);function OA(e,t){let{relative:n}=t===void 0?{}:t;tc()||Mn(!1);let{basename:r,navigator:i}=te.useContext(is),{hash:o,pathname:a,search:l}=l_(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Bo([r,a])),i.createHref({pathname:u,search:l,hash:o})}function tc(){return te.useContext(fh)!=null}function dh(){return tc()||Mn(!1),te.useContext(fh).location}function a_(e){te.useContext(is).static||te.useLayoutEffect(e)}function Nv(){let{isDataRoute:e}=te.useContext(Ho);return e?VA():PA()}function PA(){tc()||Mn(!1);let e=te.useContext(kv),{basename:t,navigator:n}=te.useContext(is),{matches:r}=te.useContext(Ho),{pathname:i}=dh(),o=JSON.stringify(n_(r).map(u=>u.pathnameBase)),a=te.useRef(!1);return a_(()=>{a.current=!0}),te.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let m=r_(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Bo([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,o,i,e])}function kA(){let{matches:e}=te.useContext(Ho),t=e[e.length-1];return t?t.params:{}}function l_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=te.useContext(Ho),{pathname:i}=dh(),o=JSON.stringify(n_(r).map(a=>a.pathnameBase));return te.useMemo(()=>r_(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function NA(e,t){return IA(e,t)}function IA(e,t,n){tc()||Mn(!1);let{navigator:r}=te.useContext(is),{matches:i}=te.useContext(Ho),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=dh(),f;if(t){var m;let k=typeof t=="string"?ja(t):t;l==="/"||(m=k.pathname)!=null&&m.startsWith(l)||Mn(!1),f=k}else f=u;let h=f.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",O=lA(e,{pathname:p}),b=jA(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Bo([l,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Bo([l,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n);return t&&b?te.createElement(fh.Provider,{value:{location:Id({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lo.Pop}},b):b}function MA(){let e=UA(),t=bA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),n?te.createElement("pre",{style:i},n):null,o)}const DA=te.createElement(MA,null);class FA extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?te.createElement(Ho.Provider,{value:this.props.routeContext},te.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BA(e){let{routeContext:t,match:n,children:r}=e,i=te.useContext(kv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Ho.Provider,{value:t},r)}function jA(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));l>=0||Mn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,u,f)=>{let m=u.route.id?a==null?void 0:a[u.route.id]:null,h=null;n&&(h=u.route.errorElement||DA);let p=t.concat(o.slice(0,f+1)),O=()=>{let b;return m?b=h:u.route.Component?b=te.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=l,te.createElement(BA,{match:u,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?te.createElement(FA,{location:n.location,revalidation:n.revalidation,component:h,error:m,children:O(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):O()},null)}var s_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s_||{}),Md=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Md||{});function $A(e){let t=te.useContext(kv);return t||Mn(!1),t}function GA(e){let t=te.useContext(RA);return t||Mn(!1),t}function zA(e){let t=te.useContext(Ho);return t||Mn(!1),t}function u_(e){let t=zA(),n=t.matches[t.matches.length-1];return n.route.id||Mn(!1),n.route.id}function UA(){var e;let t=te.useContext(o_),n=GA(Md.UseRouteError),r=u_(Md.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function VA(){let{router:e}=$A(s_.UseNavigateStable),t=u_(Md.UseNavigateStable),n=te.useRef(!1);return a_(()=>{n.current=!0}),te.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Id({fromRouteId:t},o)))},[e,t])}function A0(e){Mn(!1)}function HA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Lo.Pop,navigator:o,static:a=!1}=e;tc()&&Mn(!1);let l=t.replace(/^\/*/,"/"),u=te.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=ja(r));let{pathname:f="/",search:m="",hash:h="",state:p=null,key:O="default"}=r,b=te.useMemo(()=>{let k=Pv(f,l);return k==null?null:{location:{pathname:k,search:m,hash:h,state:p,key:O},navigationType:i}},[l,f,m,h,p,O,i]);return b==null?null:te.createElement(is.Provider,{value:u},te.createElement(fh.Provider,{children:n,value:b}))}function WA(e){let{children:t,location:n}=e;return NA(C0(t),n)}new Promise(()=>{});function C0(e,t){t===void 0&&(t=[]);let n=[];return te.Children.forEach(e,(r,i)=>{if(!te.isValidElement(r))return;let o=[...t,i];if(r.type===te.Fragment){n.push.apply(n,C0(r.props.children,o));return}r.type!==A0&&Mn(!1),!r.props.index||!r.props.children||Mn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=C0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(this,arguments)}function XA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function YA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QA(e,t){return e.button===0&&(!t||t==="_self")&&!YA(e)}const KA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qA="startTransition",Yy=XS[qA];function ZA(e){let{basename:t,children:n,future:r,window:i}=e,o=te.useRef();o.current==null&&(o.current=iA({window:i,v5Compat:!0}));let a=o.current,[l,u]=te.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=te.useCallback(h=>{f&&Yy?Yy(()=>u(h)):u(h)},[u,f]);return te.useLayoutEffect(()=>a.listen(m),[a,m]),te.createElement(HA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c_=te.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:f,preventScrollReset:m,unstable_viewTransition:h}=t,p=XA(t,KA),{basename:O}=te.useContext(is),b,k=!1;if(typeof f=="string"&&e2.test(f)&&(b=f,JA))try{let C=new URL(window.location.href),U=f.startsWith("//")?new URL(C.protocol+f):new URL(f),Y=Pv(U.pathname,O);U.origin===C.origin&&Y!=null?f=Y+U.search+U.hash:k=!0}catch{}let B=OA(f,{relative:i}),x=t2(f,{replace:a,state:l,target:u,preventScrollReset:m,relative:i,unstable_viewTransition:h});function T(C){r&&r(C),C.defaultPrevented||x(C)}return te.createElement("a",b0({},p,{href:b||B,onClick:k||o?r:T,ref:n,target:u}))});var Qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qy||(Qy={}));var Ky;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function t2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,u=Nv(),f=dh(),m=l_(e,{relative:a});return te.useCallback(h=>{if(QA(h,n)){h.preventDefault();let p=r!==void 0?r:Nd(f)===Nd(m);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[f,u,m,r,i,n,e,o,a,l])}var f_={exports:{}},n2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r2=n2,i2=r2;function d_(){}function h_(){}h_.resetWarningCache=d_;var o2=function(){function e(r,i,o,a,l,u){if(u!==i2){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h_,resetWarningCache:d_};return n.PropTypes=n,n};f_.exports=o2();var a2=f_.exports;const Ye=D0(a2);Ye.object,Ye.bool,Ye.func,Ye.func,Ye.func;const $f="https://api.latentscope.com/api";function l2(){const[e,t]=te.useState([]);te.useEffect(()=>{fetch(`${$f}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=te.useState({});te.useEffect(()=>{e.forEach(l=>{fetch(`${$f}/datasets/${l.id}/scopes`).then(u=>u.json()).then(u=>r(f=>{const m={...f};return m[l.id]=u,m}))})},[e]),te.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=te.useState(null),a=Nv();return te.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),se.jsxs("div",{className:"home",children:[null,se.jsxs("div",{className:"section datasets",children:[se.jsx("h3",{children:"Datasets"}),se.jsx("div",{className:"datasets-content",children:e.map(l=>{var u;return se.jsxs("div",{className:"dataset",children:[se.jsxs("h3",{children:[" ",l.id," ",null]}),se.jsxs("span",{children:[l.length," rows"]}),se.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((u=n[l.id])==null?void 0:u.map((f,m)=>se.jsxs("div",{className:"scope-link",children:[se.jsxs(c_,{to:`/datasets/${l.id}/explore/${f.id}`,children:[f.label||f.id,se.jsx("br",{}),f.ignore_hulls?se.jsx("img",{src:`${$f}/files/${l.id}/umaps/${f.umap_id}.png`}):se.jsx("img",{src:`${$f}/files/${l.id}/clusters/${f.cluster_id}.png`})]}),se.jsx("br",{}),se.jsx("span",{className:"scope-description",children:f.description}),se.jsx("br",{}),null]},m)))})]},l.id)})})]})]})}const qy="https://api.latentscope.com/api";m_.propTypes={data:Ye.array.isRequired,tagset:Ye.object,datasetId:Ye.string,maxRows:Ye.number,onTagset:Ye.func,onHover:Ye.func,onClick:Ye.func};function m_({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return se.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let u;function f(h,p){console.log("tag",h),console.log("index",p),console.log("tagset",t),console.log("tagset[tag]",t[h]),t[h].includes(p)?(console.log("removing"),fetch(`${qy}/tags/remove?dataset=${n}&tag=${h}&index=${p}`).then(O=>O.json()).then(O=>{console.log("removed",O),i(O)})):(console.log("adding"),fetch(`${qy}/tags/add?dataset=${n}&tag=${h}&index=${p}`).then(O=>O.json()).then(O=>{console.log("added",O),i(O)}))}t&&(u=Object.keys(t));const m=r?e.slice(0,r):e;return se.jsxs(se.Fragment,{children:[se.jsxs("table",{className:"datatable",children:[se.jsx("thead",{children:se.jsxs("tr",{children:[l.map((h,p)=>se.jsx("th",{children:h},p)),u?se.jsx("th",{children:"tags"}):null]})}),se.jsx("tbody",{children:m.map((h,p)=>se.jsxs("tr",{onMouseEnter:()=>o&&o(h.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(h.index),children:[l.map((O,b)=>se.jsx("td",{children:O=="url"?se.jsx("a",{href:h[O],children:"url"}):h[O]},b)),u?se.jsx("td",{children:u.map((O,b)=>se.jsx("button",{onClick:k=>{f(O,h.index),k.preventDefault(),k.stopPropagation()},className:t[O].includes(h.index)?"tag-active":"tag-inactive",children:O},b))}):null]},p))})]}),r&&e.length>r?se.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const s2="https://api.latentscope.com/api";yu.propTypes={dataset:Ye.object.isRequired,indices:Ye.array.isRequired,distances:Ye.array,clusterIndices:Ye.array,clusterLabels:Ye.array,maxRows:Ye.number,tagset:Ye.object,onHover:Ye.func,onClick:Ye.func,onTagset:Ye.func};function yu({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:u,onTagset:f}){const[m,h]=te.useState([]),p=te.useCallback(O=>{e&&fetch(`${s2}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:O})}).then(b=>b.json()).then(b=>{let k=b.map((B,x)=>{let T=O[x],C={index:T,...B};return n&&n.length&&(C.distance=n[x]),r&&r.length&&i&&i.length&&(C.cluster=i[r[T].cluster].label),C});h(k)})},[e,n,r,i]);return te.useEffect(()=>{t&&t.length&&(console.log("refetching hydrate"),p(t))},[t]),se.jsx("div",{children:se.jsx(m_,{data:m,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:f,onHover:l,onClick:u})})}const p_=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Iv=(e,t)=>t?e.toLowerCase():e,v_=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=Iv(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},Mv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Iv(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},Zy=(e,t)=>()=>{e.forEach(n=>n(t))},g_=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Mv(e);return(o,a,l={})=>{const u=Iv(o,n);if(!e[u])return;const f=[...e[u]];if(f.forEach((m,h)=>{--e.__times__[u][h]<1&&i(u,m)}),r||l.async?setTimeout(Zy(f,a),0):Zy(f,a)(),t&&!l.isNoGlobalBroadcast)try{p_.postMessage({event:u,news:a})}catch(m){if(m instanceof DOMException)console.warn(`Could not broadcast '${u}' globally. Payload is not clonable.`);else throw m}}},u2=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},y_=()=>({__times__:{}}),c2=({async:e=!1,caseInsensitive:t=!1,stack:n=y_()}={})=>(n.__times__||(n.__times__={}),{publish:g_(n,{async:e,caseInsensitive:t}),subscribe:v_(n,{caseInsensitive:t}),unsubscribe:Mv(n,{caseInsensitive:t}),clear:u2(n),stack:n}),Gf=y_(),f2={publish:g_(Gf,{isGlobal:!0}),subscribe:v_(Gf),unsubscribe:Mv(Gf),stack:Gf};p_.onmessage=({data:{event:e,news:t}})=>f2.publish(e,t,{isNoGlobalBroadcast:!0});var x_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(PS,function(){var n=function(c){return c instanceof Uint8Array||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Float32Array||c instanceof Float64Array||c instanceof Uint8ClampedArray},r=function(c,v){for(var A=Object.keys(v),H=0;H<A.length;++H)c[A[H]]=v[A[H]];return c},i=`
`;function o(c){return typeof atob<"u"?atob(c):"base64:"+c}function a(c){var v=new Error("(regl) "+c);throw console.error(v),v}function l(c,v){c||a(v)}function u(c){return c?": "+c:""}function f(c,v,A){c in v||a("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join())}function m(c,v){n(c)||a("invalid parameter type"+u(v)+". must be a typed array")}function h(c,v){switch(v){case"number":return typeof c=="number";case"object":return typeof c=="object";case"string":return typeof c=="string";case"boolean":return typeof c=="boolean";case"function":return typeof c=="function";case"undefined":return typeof c>"u";case"symbol":return typeof c=="symbol"}}function p(c,v,A){h(c,v)||a("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c)}function O(c,v){c>=0&&(c|0)===c||a("invalid parameter type, ("+c+")"+u(v)+". must be a nonnegative integer")}function b(c,v,A){v.indexOf(c)<0&&a("invalid value"+u(A)+". must be one of: "+v)}var k=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function B(c){Object.keys(c).forEach(function(v){k.indexOf(v)<0&&a('invalid regl constructor argument "'+v+'". must be one of '+k)})}function x(c,v){for(c=c+"";c.length<v;)c=" "+c;return c}function T(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function C(c,v){this.number=c,this.line=v,this.errors=[]}function U(c,v,A){this.file=c,this.line=v,this.message=A}function Y(){var c=new Error,v=(c.stack||c).toString(),A=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(v);return H?H[1]:"unknown"}function ne(){var c=new Error,v=(c.stack||c).toString(),A=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(v);return H?H[1]:"unknown"}function Te(c,v){var A=c.split(`
`),H=1,ee=0,V={unknown:new T,0:new T};V.unknown.name=V[0].name=v||Y(),V.unknown.lines.push(new C(0,""));for(var Q=0;Q<A.length;++Q){var fe=A[Q],ce=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(fe);if(ce)switch(ce[1]){case"line":var ve=/(\d+)(\s+\d+)?/.exec(ce[2]);ve&&(H=ve[1]|0,ve[2]&&(ee=ve[2]|0,ee in V||(V[ee]=new T)));break;case"define":var ye=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ce[2]);ye&&(V[ee].name=ye[1]?o(ye[2]):ye[2]);break}V[ee].lines.push(new C(H++,fe))}return Object.keys(V).forEach(function(ge){var we=V[ge];we.lines.forEach(function(de){we.index[de.number]=de})}),V}function ue(c){var v=[];return c.split(`
`).forEach(function(A){if(!(A.length<5)){var H=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(A);H?v.push(new U(H[1]|0,H[2]|0,H[3].trim())):A.length>0&&v.push(new U("unknown",0,A))}}),v}function st(c,v){v.forEach(function(A){var H=c[A.file];if(H){var ee=H.index[A.line];if(ee){ee.errors.push(A),H.hasErrors=!0;return}}c.unknown.hasErrors=!0,c.unknown.lines[0].errors.push(A)})}function We(c,v,A,H,ee){if(!c.getShaderParameter(v,c.COMPILE_STATUS)){var V=c.getShaderInfoLog(v),Q=H===c.FRAGMENT_SHADER?"fragment":"vertex";yt(A,"string",Q+" shader source must be a string",ee);var fe=Te(A,ee),ce=ue(V);st(fe,ce),Object.keys(fe).forEach(function(ve){var ye=fe[ve];if(!ye.hasErrors)return;var ge=[""],we=[""];function de(pe,D){ge.push(pe),we.push(D||"")}de("file number "+ve+": "+ye.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ye.lines.forEach(function(pe){if(pe.errors.length>0){de(x(pe.number,4)+"|  ","background-color:yellow; font-weight:bold"),de(pe.line+i,"color:red; background-color:yellow; font-weight:bold");var D=0;pe.errors.forEach(function(X){var me=X.message,Me=/^\s*'(.*)'\s*:\s*(.*)$/.exec(me);if(Me){var le=Me[1];switch(me=Me[2],le){case"assign":le="=";break}D=Math.max(pe.line.indexOf(le,D),0)}else D=0;de(x("| ",6)),de(x("^^^",D+3)+i,"font-weight:bold"),de(x("| ",6)),de(me+i,"font-weight:bold")}),de(x("| ",6)+i)}else de(x(pe.number,4)+"|  "),de(pe.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(we[0]=ge.join("%c"),console.log.apply(console,we)):console.log(ge.join(""))}),l.raise("Error compiling "+Q+" shader, "+fe[0].name)}}function ze(c,v,A,H,ee){if(!c.getProgramParameter(v,c.LINK_STATUS)){var V=c.getProgramInfoLog(v),Q=Te(A,ee),fe=Te(H,ee),ce='Error linking program with vertex shader, "'+fe[0].name+'", and fragment shader "'+Q[0].name+'"';typeof document<"u"?console.log("%c"+ce+i+"%c"+V,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ce+i+V),l.raise(ce)}}function Je(c){c._commandRef=Y()}function et(c,v,A,H){Je(c);function ee(ce){return ce?H.id(ce):0}c._fragId=ee(c.static.frag),c._vertId=ee(c.static.vert);function V(ce,ve){Object.keys(ve).forEach(function(ye){ce[H.id(ye)]=!0})}var Q=c._uniformSet={};V(Q,v.static),V(Q,v.dynamic);var fe=c._attributeSet={};V(fe,A.static),V(fe,A.dynamic),c._hasCount="count"in c.static||"count"in c.dynamic||"elements"in c.static||"elements"in c.dynamic}function $e(c,v){var A=ne();a(c+" in command "+(v||Y())+(A==="unknown"?"":" called from "+A))}function zt(c,v,A){c||$e(v,A||Y())}function _t(c,v,A,H){c in v||$e("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join(),H||Y())}function yt(c,v,A,H){h(c,v)||$e("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c,H||Y())}function xe(c){c()}function Ee(c,v,A){c.texture?b(c.texture._texture.internalformat,v,"unsupported texture format for attachment"):b(c.renderbuffer._renderbuffer.format,A,"unsupported renderbuffer format for attachment")}var Ue=33071,_e=9728,nt=9984,ht=9985,Ft=9986,Qt=9987,Nt=5120,Xt=5121,It=5122,Kt=5123,zn=5124,fn=5125,Ht=5126,qt=32819,pt=32820,St=33635,Ot=34042,ut=36193,wt={};wt[Nt]=wt[Xt]=1,wt[It]=wt[Kt]=wt[ut]=wt[St]=wt[qt]=wt[pt]=2,wt[zn]=wt[fn]=wt[Ht]=wt[Ot]=4;function Ut(c,v){return c===pt||c===qt||c===St?2:c===Ot?4:wt[c]*v}function Yt(c){return!(c&c-1)&&!!c}function Dn(c,v,A){var H,ee=v.width,V=v.height,Q=v.channels;l(ee>0&&ee<=A.maxTextureSize&&V>0&&V<=A.maxTextureSize,"invalid texture shape"),(c.wrapS!==Ue||c.wrapT!==Ue)&&l(Yt(ee)&&Yt(V),"incompatible wrap mode for texture, both width and height must be power of 2"),v.mipmask===1?ee!==1&&V!==1&&l(c.minFilter!==nt&&c.minFilter!==Ft&&c.minFilter!==ht&&c.minFilter!==Qt,"min filter requires mipmap"):(l(Yt(ee)&&Yt(V),"texture must be a square power of 2 to support mipmapping"),l(v.mipmask===(ee<<1)-1,"missing or incomplete mipmap data")),v.type===Ht&&(A.extensions.indexOf("oes_texture_float_linear")<0&&l(c.minFilter===_e&&c.magFilter===_e,"filter not supported, must enable oes_texture_float_linear"),l(!c.genMipmaps,"mipmap generation not supported with float textures"));var fe=v.images;for(H=0;H<16;++H)if(fe[H]){var ce=ee>>H,ve=V>>H;l(v.mipmask&1<<H,"missing mipmap data");var ye=fe[H];if(l(ye.width===ce&&ye.height===ve,"invalid shape for mip images"),l(ye.format===v.format&&ye.internalformat===v.internalformat&&ye.type===v.type,"incompatible type for mip image"),!ye.compressed)if(ye.data){var ge=Math.ceil(Ut(ye.type,Q)*ce/ye.unpackAlignment)*ye.unpackAlignment;l(ye.data.byteLength===ge*ve,"invalid data for image, buffer size is inconsistent with image format")}else ye.element||ye.copy}else c.genMipmaps||l((v.mipmask&1<<H)===0,"extra mipmap data");v.compressed&&l(!c.genMipmaps,"mipmap generation for compressed images not supported")}function Kr(c,v,A,H){var ee=c.width,V=c.height,Q=c.channels;l(ee>0&&ee<=H.maxTextureSize&&V>0&&V<=H.maxTextureSize,"invalid texture shape"),l(ee===V,"cube map must be square"),l(v.wrapS===Ue&&v.wrapT===Ue,"wrap mode not supported by cube map");for(var fe=0;fe<A.length;++fe){var ce=A[fe];l(ce.width===ee&&ce.height===V,"inconsistent cube map face shape"),v.genMipmaps&&(l(!ce.compressed,"can not generate mipmap for compressed textures"),l(ce.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ve=ce.images,ye=0;ye<16;++ye){var ge=ve[ye];if(ge){var we=ee>>ye,de=V>>ye;l(ce.mipmask&1<<ye,"missing mipmap data"),l(ge.width===we&&ge.height===de,"invalid shape for mip images"),l(ge.format===c.format&&ge.internalformat===c.internalformat&&ge.type===c.type,"incompatible type for mip image"),ge.compressed||(ge.data?l(ge.data.byteLength===we*de*Math.max(Ut(ge.type,Q),ge.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ge.element||ge.copy)}}}}var g=r(l,{optional:xe,raise:a,commandRaise:$e,command:zt,parameter:f,commandParameter:_t,constructor:B,type:p,commandType:yt,isTypedArray:m,nni:O,oneOf:b,shaderError:We,linkError:ze,callSite:ne,saveCommandRef:Je,saveDrawInfo:et,framebufferFormat:Ee,guessCommand:Y,texture2D:Dn,textureCube:Kr}),vt=0,kt=0,Ie=5,Zt=6;function Tt(c,v){this.id=vt++,this.type=c,this.data=v}function De(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Lt(c){if(c.length===0)return[];var v=c.charAt(0),A=c.charAt(c.length-1);if(c.length>1&&v===A&&(v==='"'||v==="'"))return['"'+De(c.substr(1,c.length-2))+'"'];var H=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(c);if(H)return Lt(c.substr(0,H.index)).concat(Lt(H[1])).concat(Lt(c.substr(H.index+H[0].length)));var ee=c.split(".");if(ee.length===1)return['"'+De(c)+'"'];for(var V=[],Q=0;Q<ee.length;++Q)V=V.concat(Lt(ee[Q]));return V}function Ke(c){return"["+Lt(c).join("][")+"]"}function lt(c,v){return new Tt(c,Ke(v+""))}function on(c){return typeof c=="function"&&!c._reglType||c instanceof Tt}function rn(c,v){if(typeof c=="function")return new Tt(kt,c);if(typeof c=="number"||typeof c=="boolean")return new Tt(Ie,c);if(Array.isArray(c))return new Tt(Zt,c.map(function(A,H){return rn(A,v+"["+H+"]")}));if(c instanceof Tt)return c;g(!1,"invalid option type in uniform "+v)}var Rt={DynamicVariable:Tt,define:lt,isDynamic:on,unbox:rn,accessor:Ke},mn={next:typeof requestAnimationFrame=="function"?function(c){return requestAnimationFrame(c)}:function(c){return setTimeout(c,16)},cancel:typeof cancelAnimationFrame=="function"?function(c){return cancelAnimationFrame(c)}:clearTimeout},dn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Qn(){var c={"":0},v=[""];return{id:function(A){var H=c[A];return H||(H=c[A]=v.length,v.push(A),H)},str:function(A){return v[A]}}}function dr(c,v,A){var H=document.createElement("canvas");r(H.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),c.appendChild(H),c===document.body&&(H.style.position="absolute",r(c.style,{margin:0,padding:0}));function ee(){var fe=window.innerWidth,ce=window.innerHeight;if(c!==document.body){var ve=H.getBoundingClientRect();fe=ve.right-ve.left,ce=ve.bottom-ve.top}H.width=A*fe,H.height=A*ce}var V;c!==document.body&&typeof ResizeObserver=="function"?(V=new ResizeObserver(function(){setTimeout(ee)}),V.observe(c)):window.addEventListener("resize",ee,!1);function Q(){V?V.disconnect():window.removeEventListener("resize",ee),c.removeChild(H)}return ee(),{canvas:H,onDestroy:Q}}function qr(c,v){function A(H){try{return c.getContext(H,v)}catch{return null}}return A("webgl")||A("experimental-webgl")||A("webgl-experimental")}function An(c){return typeof c.nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"}function Z(c){return typeof c.drawArrays=="function"||typeof c.drawElements=="function"}function xt(c){return typeof c=="string"?c.split():(g(Array.isArray(c),"invalid extension array"),c)}function Fn(c){return typeof c=="string"?(g(typeof document<"u","not supported outside of DOM"),document.querySelector(c)):c}function Un(c){var v=c||{},A,H,ee,V,Q={},fe=[],ce=[],ve=typeof window>"u"?1:window.devicePixelRatio,ye=!1,ge=function(pe){pe&&g.raise(pe)},we=function(){};if(typeof v=="string"?(g(typeof document<"u","selector queries only supported in DOM enviroments"),A=document.querySelector(v),g(A,"invalid query string for element")):typeof v=="object"?An(v)?A=v:Z(v)?(V=v,ee=V.canvas):(g.constructor(v),"gl"in v?V=v.gl:"canvas"in v?ee=Fn(v.canvas):"container"in v&&(H=Fn(v.container)),"attributes"in v&&(Q=v.attributes,g.type(Q,"object","invalid context attributes")),"extensions"in v&&(fe=xt(v.extensions)),"optionalExtensions"in v&&(ce=xt(v.optionalExtensions)),"onDone"in v&&(g.type(v.onDone,"function","invalid or missing onDone callback"),ge=v.onDone),"profile"in v&&(ye=!!v.profile),"pixelRatio"in v&&(ve=+v.pixelRatio,g(ve>0,"invalid pixel ratio"))):g.raise("invalid arguments to regl"),A&&(A.nodeName.toLowerCase()==="canvas"?ee=A:H=A),!V){if(!ee){g(typeof document<"u","must manually specify webgl context outside of DOM environments");var de=dr(H||document.body,ge,ve);if(!de)return null;ee=de.canvas,we=de.onDestroy}Q.premultipliedAlpha===void 0&&(Q.premultipliedAlpha=!0),V=qr(ee,Q)}return V?{gl:V,canvas:ee,container:H,extensions:fe,optionalExtensions:ce,pixelRatio:ve,profile:ye,onDone:ge,onDestroy:we}:(we(),ge("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function wr(c,v){var A={};function H(Q){g.type(Q,"string","extension name must be string");var fe=Q.toLowerCase(),ce;try{ce=A[fe]=c.getExtension(fe)}catch{}return!!ce}for(var ee=0;ee<v.extensions.length;++ee){var V=v.extensions[ee];if(!H(V))return v.onDestroy(),v.onDone('"'+V+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return v.optionalExtensions.forEach(H),{extensions:A,restore:function(){Object.keys(A).forEach(function(Q){if(A[Q]&&!H(Q))throw new Error("(regl): error restoring extension "+Q)})}}}function en(c,v){for(var A=Array(c),H=0;H<c;++H)A[H]=v(H);return A}var ir=5120,as=5121,Wo=5122,Xo=5123,ls=5124,$a=5125,qi=5126;function Yo(c){for(var v=16;v<=1<<28;v*=16)if(c<=v)return v;return 0}function Zi(c){var v,A;return v=(c>65535)<<4,c>>>=v,A=(c>255)<<3,c>>>=A,v|=A,A=(c>15)<<2,c>>>=A,v|=A,A=(c>3)<<1,c>>>=A,v|=A,v|c>>1}function Ga(){var c=en(8,function(){return[]});function v(V){var Q=Yo(V),fe=c[Zi(Q)>>2];return fe.length>0?fe.pop():new ArrayBuffer(Q)}function A(V){c[Zi(V.byteLength)>>2].push(V)}function H(V,Q){var fe=null;switch(V){case ir:fe=new Int8Array(v(Q),0,Q);break;case as:fe=new Uint8Array(v(Q),0,Q);break;case Wo:fe=new Int16Array(v(2*Q),0,Q);break;case Xo:fe=new Uint16Array(v(2*Q),0,Q);break;case ls:fe=new Int32Array(v(4*Q),0,Q);break;case $a:fe=new Uint32Array(v(4*Q),0,Q);break;case qi:fe=new Float32Array(v(4*Q),0,Q);break;default:return null}return fe.length!==Q?fe.subarray(0,Q):fe}function ee(V){A(V.buffer)}return{alloc:v,free:A,allocType:H,freeType:ee}}var gt=Ga();gt.zero=Ga();var Li=3408,za=3410,nc=3411,ui=3412,ci=3413,fi=3414,rc=3415,Tr=33901,ss=33902,Qo=3379,us=3386,Ko=34921,Ua=36347,Va=36348,Ha=35661,Wa=35660,Ri=34930,qo=36349,cs=34076,fs=34024,ic=7936,Ji=7937,eo=7938,Xa=35724,to=34047,ds=36063,hr=34852,di=3553,hi=34067,Oi=34069,kn=33984,Br=6408,Bn=5126,En=5121,no=36160,Ya=36053,Qa=36064,Ka=16384,oc=function(c,v){var A=1;v.ext_texture_filter_anisotropic&&(A=c.getParameter(to));var H=1,ee=1;v.webgl_draw_buffers&&(H=c.getParameter(hr),ee=c.getParameter(ds));var V=!!v.oes_texture_float;if(V){var Q=c.createTexture();c.bindTexture(di,Q),c.texImage2D(di,0,Br,1,1,0,Br,Bn,null);var fe=c.createFramebuffer();if(c.bindFramebuffer(no,fe),c.framebufferTexture2D(no,Qa,di,Q,0),c.bindTexture(di,null),c.checkFramebufferStatus(no)!==Ya)V=!1;else{c.viewport(0,0,1,1),c.clearColor(1,0,0,1),c.clear(Ka);var ce=gt.allocType(Bn,4);c.readPixels(0,0,1,1,Br,Bn,ce),c.getError()?V=!1:(c.deleteFramebuffer(fe),c.deleteTexture(Q),V=ce[0]===1),gt.freeType(ce)}}var ve=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ye=!0;if(!ve){var ge=c.createTexture(),we=gt.allocType(En,36);c.activeTexture(kn),c.bindTexture(hi,ge),c.texImage2D(Oi,0,Br,3,3,0,Br,En,we),gt.freeType(we),c.bindTexture(hi,null),c.deleteTexture(ge),ye=!c.getError()}return{colorBits:[c.getParameter(za),c.getParameter(nc),c.getParameter(ui),c.getParameter(ci)],depthBits:c.getParameter(fi),stencilBits:c.getParameter(rc),subpixelBits:c.getParameter(Li),extensions:Object.keys(v).filter(function(de){return!!v[de]}),maxAnisotropic:A,maxDrawbuffers:H,maxColorAttachments:ee,pointSizeDims:c.getParameter(Tr),lineWidthDims:c.getParameter(ss),maxViewportDims:c.getParameter(us),maxCombinedTextureUnits:c.getParameter(Ha),maxCubeMapSize:c.getParameter(cs),maxRenderbufferSize:c.getParameter(fs),maxTextureUnits:c.getParameter(Ri),maxTextureSize:c.getParameter(Qo),maxAttributes:c.getParameter(Ko),maxVertexUniforms:c.getParameter(Ua),maxVertexTextureUnits:c.getParameter(Wa),maxVaryingVectors:c.getParameter(Va),maxFragmentUniforms:c.getParameter(qo),glsl:c.getParameter(Xa),renderer:c.getParameter(Ji),vendor:c.getParameter(ic),version:c.getParameter(eo),readFloat:V,npotTextureCube:ye}};function mr(c){return!!c&&typeof c=="object"&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&typeof c.offset=="number"&&c.shape.length===c.stride.length&&(Array.isArray(c.data)||n(c.data))}var or=function(c){return Object.keys(c).map(function(v){return c[v]})},Ar={shape:yh,flatten:gh};function ac(c,v,A){for(var H=0;H<v;++H)A[H]=c[H]}function hs(c,v,A,H){for(var ee=0,V=0;V<v;++V)for(var Q=c[V],fe=0;fe<A;++fe)H[ee++]=Q[fe]}function qa(c,v,A,H,ee,V){for(var Q=V,fe=0;fe<v;++fe)for(var ce=c[fe],ve=0;ve<A;++ve)for(var ye=ce[ve],ge=0;ge<H;++ge)ee[Q++]=ye[ge]}function ms(c,v,A,H,ee){for(var V=1,Q=A+1;Q<v.length;++Q)V*=v[Q];var fe=v[A];if(v.length-A===4){var ce=v[A+1],ve=v[A+2],ye=v[A+3];for(Q=0;Q<fe;++Q)qa(c[Q],ce,ve,ye,H,ee),ee+=V}else for(Q=0;Q<fe;++Q)ms(c[Q],v,A+1,H,ee),ee+=V}function gh(c,v,A,H){var ee=1;if(v.length)for(var V=0;V<v.length;++V)ee*=v[V];else ee=0;var Q=H||gt.allocType(A,ee);switch(v.length){case 0:break;case 1:ac(c,v[0],Q);break;case 2:hs(c,v[0],v[1],Q);break;case 3:qa(c,v[0],v[1],v[2],Q,0);break;default:ms(c,v,0,Q,0)}return Q}function yh(c){for(var v=[],A=c;A.length;A=A[0])v.push(A.length);return v}var ro={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Zo=5120,Pi=5122,Za=5124,xh=5121,Ja=5123,io=5125,Jo=5126,ps=5126,oo={int8:Zo,int16:Pi,int32:Za,uint8:xh,uint16:Ja,uint32:io,float:Jo,float32:ps},Kv=35048,Cn=35040,el={dynamic:Kv,stream:Cn,static:35044},ea=Ar.flatten,lc=Ar.shape,vs=35044,gs=35040,tl=5121,nl=5126,Zr=[];Zr[5120]=1,Zr[5122]=2,Zr[5124]=4,Zr[5121]=1,Zr[5123]=2,Zr[5125]=4,Zr[5126]=4;function ta(c){return ro[Object.prototype.toString.call(c)]|0}function rl(c,v){for(var A=0;A<v.length;++A)c[A]=v[A]}function ys(c,v,A,H,ee,V,Q){for(var fe=0,ce=0;ce<A;++ce)for(var ve=0;ve<H;++ve)c[fe++]=v[ee*ce+V*ve+Q]}function xs(c,v,A,H){var ee=0,V={};function Q(D){this.id=ee++,this.buffer=c.createBuffer(),this.type=D,this.usage=vs,this.byteLength=0,this.dimension=1,this.dtype=tl,this.persistentData=null,A.profile&&(this.stats={size:0})}Q.prototype.bind=function(){c.bindBuffer(this.type,this.buffer)},Q.prototype.destroy=function(){we(this)};var fe=[];function ce(D,X){var me=fe.pop();return me||(me=new Q(D)),me.bind(),ge(me,X,gs,0,1,!1),me}function ve(D){fe.push(D)}function ye(D,X,me){D.byteLength=X.byteLength,c.bufferData(D.type,X,me)}function ge(D,X,me,Me,le,ke){var Re;if(D.usage=me,Array.isArray(X)){if(D.dtype=Me||nl,X.length>0){var qe;if(Array.isArray(X[0])){Re=lc(X);for(var re=1,J=1;J<Re.length;++J)re*=Re[J];D.dimension=re,qe=ea(X,Re,D.dtype),ye(D,qe,me),ke?D.persistentData=qe:gt.freeType(qe)}else if(typeof X[0]=="number"){D.dimension=le;var Ge=gt.allocType(D.dtype,X.length);rl(Ge,X),ye(D,Ge,me),ke?D.persistentData=Ge:gt.freeType(Ge)}else n(X[0])?(D.dimension=X[0].length,D.dtype=Me||ta(X[0])||nl,qe=ea(X,[X.length,X[0].length],D.dtype),ye(D,qe,me),ke?D.persistentData=qe:gt.freeType(qe)):g.raise("invalid buffer data")}}else if(n(X))D.dtype=Me||ta(X),D.dimension=le,ye(D,X,me),ke&&(D.persistentData=new Uint8Array(new Uint8Array(X.buffer)));else if(mr(X)){Re=X.shape;var Ce=X.stride,he=X.offset,be=0,Le=0,ct=0,at=0;Re.length===1?(be=Re[0],Le=1,ct=Ce[0],at=0):Re.length===2?(be=Re[0],Le=Re[1],ct=Ce[0],at=Ce[1]):g.raise("invalid shape"),D.dtype=Me||ta(X.data)||nl,D.dimension=Le;var Oe=gt.allocType(D.dtype,be*Le);ys(Oe,X.data,be,Le,ct,at,he),ye(D,Oe,me),ke?D.persistentData=Oe:gt.freeType(Oe)}else X instanceof ArrayBuffer?(D.dtype=tl,D.dimension=le,ye(D,X,me),ke&&(D.persistentData=new Uint8Array(new Uint8Array(X)))):g.raise("invalid buffer data")}function we(D){v.bufferCount--,H(D);var X=D.buffer;g(X,"buffer must not be deleted already"),c.deleteBuffer(X),D.buffer=null,delete V[D.id]}function de(D,X,me,Me){v.bufferCount++;var le=new Q(X);V[le.id]=le;function ke(re){var J=vs,Ge=null,Ce=0,he=0,be=1;return Array.isArray(re)||n(re)||mr(re)||re instanceof ArrayBuffer?Ge=re:typeof re=="number"?Ce=re|0:re&&(g.type(re,"object","buffer arguments must be an object, a number or an array"),"data"in re&&(g(Ge===null||Array.isArray(Ge)||n(Ge)||mr(Ge),"invalid data for buffer"),Ge=re.data),"usage"in re&&(g.parameter(re.usage,el,"invalid buffer usage"),J=el[re.usage]),"type"in re&&(g.parameter(re.type,oo,"invalid buffer type"),he=oo[re.type]),"dimension"in re&&(g.type(re.dimension,"number","invalid dimension"),be=re.dimension|0),"length"in re&&(g.nni(Ce,"buffer length must be a nonnegative integer"),Ce=re.length|0)),le.bind(),Ge?ge(le,Ge,J,he,be,Me):(Ce&&c.bufferData(le.type,Ce,J),le.dtype=he||tl,le.usage=J,le.dimension=be,le.byteLength=Ce),A.profile&&(le.stats.size=le.byteLength*Zr[le.dtype]),ke}function Re(re,J){g(J+re.byteLength<=le.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+re.byteLength+" starting from offset "+J+" to a buffer of size "+le.byteLength),c.bufferSubData(le.type,J,re)}function qe(re,J){var Ge=(J||0)|0,Ce;if(le.bind(),n(re)||re instanceof ArrayBuffer)Re(re,Ge);else if(Array.isArray(re)){if(re.length>0)if(typeof re[0]=="number"){var he=gt.allocType(le.dtype,re.length);rl(he,re),Re(he,Ge),gt.freeType(he)}else if(Array.isArray(re[0])||n(re[0])){Ce=lc(re);var be=ea(re,Ce,le.dtype);Re(be,Ge),gt.freeType(be)}else g.raise("invalid buffer data")}else if(mr(re)){Ce=re.shape;var Le=re.stride,ct=0,at=0,Oe=0,Ne=0;Ce.length===1?(ct=Ce[0],at=1,Oe=Le[0],Ne=0):Ce.length===2?(ct=Ce[0],at=Ce[1],Oe=Le[0],Ne=Le[1]):g.raise("invalid shape");var rt=Array.isArray(re.data)?le.dtype:ta(re.data),ft=gt.allocType(rt,ct*at);ys(ft,re.data,ct,at,Oe,Ne,re.offset),Re(ft,Ge),gt.freeType(ft)}else g.raise("invalid data for buffer subdata");return ke}return me||ke(D),ke._reglType="buffer",ke._buffer=le,ke.subdata=qe,A.profile&&(ke.stats=le.stats),ke.destroy=function(){we(le)},ke}function pe(){or(V).forEach(function(D){D.buffer=c.createBuffer(),c.bindBuffer(D.type,D.buffer),c.bufferData(D.type,D.persistentData||D.byteLength,D.usage)})}return A.profile&&(v.getTotalBufferSize=function(){var D=0;return Object.keys(V).forEach(function(X){D+=V[X].stats.size}),D}),{create:de,createStream:ce,destroyStream:ve,clear:function(){or(V).forEach(we),fe.forEach(we)},getBuffer:function(D){return D&&D._buffer instanceof Q?D._buffer:null},restore:pe,_initBuffer:ge}}var Eh=0,Es=0,_h=1,_s=1,Sh=4,wh=4,mi={points:Eh,point:Es,lines:_h,line:_s,triangles:Sh,triangle:wh,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Th=0,ki=1,Ni=4,Ah=5120,pi=5121,sc=5122,ao=5123,uc=5124,Jr=5125,Ss=34963,Ch=35040,ws=35044;function Ts(c,v,A,H){var ee={},V=0,Q={uint8:pi,uint16:ao};v.oes_element_index_uint&&(Q.uint32=Jr);function fe(pe){this.id=V++,ee[this.id]=this,this.buffer=pe,this.primType=Ni,this.vertCount=0,this.type=0}fe.prototype.bind=function(){this.buffer.bind()};var ce=[];function ve(pe){var D=ce.pop();return D||(D=new fe(A.create(null,Ss,!0,!1)._buffer)),ge(D,pe,Ch,-1,-1,0,0),D}function ye(pe){ce.push(pe)}function ge(pe,D,X,me,Me,le,ke){pe.buffer.bind();var Re;if(D){var qe=ke;!ke&&(!n(D)||mr(D)&&!n(D.data))&&(qe=v.oes_element_index_uint?Jr:ao),A._initBuffer(pe.buffer,D,X,qe,3)}else c.bufferData(Ss,le,X),pe.buffer.dtype=Re||pi,pe.buffer.usage=X,pe.buffer.dimension=3,pe.buffer.byteLength=le;if(Re=ke,!ke){switch(pe.buffer.dtype){case pi:case Ah:Re=pi;break;case ao:case sc:Re=ao;break;case Jr:case uc:Re=Jr;break;default:g.raise("unsupported type for element array")}pe.buffer.dtype=Re}pe.type=Re,g(Re!==Jr||!!v.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var re=Me;re<0&&(re=pe.buffer.byteLength,Re===ao?re>>=1:Re===Jr&&(re>>=2)),pe.vertCount=re;var J=me;if(me<0){J=Ni;var Ge=pe.buffer.dimension;Ge===1&&(J=Th),Ge===2&&(J=ki),Ge===3&&(J=Ni)}pe.primType=J}function we(pe){H.elementsCount--,g(pe.buffer!==null,"must not double destroy elements"),delete ee[pe.id],pe.buffer.destroy(),pe.buffer=null}function de(pe,D){var X=A.create(null,Ss,!0),me=new fe(X._buffer);H.elementsCount++;function Me(le){if(!le)X(),me.primType=Ni,me.vertCount=0,me.type=pi;else if(typeof le=="number")X(le),me.primType=Ni,me.vertCount=le|0,me.type=pi;else{var ke=null,Re=ws,qe=-1,re=-1,J=0,Ge=0;Array.isArray(le)||n(le)||mr(le)?ke=le:(g.type(le,"object","invalid arguments for elements"),"data"in le&&(ke=le.data,g(Array.isArray(ke)||n(ke)||mr(ke),"invalid data for element buffer")),"usage"in le&&(g.parameter(le.usage,el,"invalid element buffer usage"),Re=el[le.usage]),"primitive"in le&&(g.parameter(le.primitive,mi,"invalid element buffer primitive"),qe=mi[le.primitive]),"count"in le&&(g(typeof le.count=="number"&&le.count>=0,"invalid vertex count for elements"),re=le.count|0),"type"in le&&(g.parameter(le.type,Q,"invalid buffer type"),Ge=Q[le.type]),"length"in le?J=le.length|0:(J=re,Ge===ao||Ge===sc?J*=2:(Ge===Jr||Ge===uc)&&(J*=4))),ge(me,ke,Re,qe,re,J,Ge)}return Me}return Me(pe),Me._reglType="elements",Me._elements=me,Me.subdata=function(le,ke){return X.subdata(le,ke),Me},Me.destroy=function(){we(me)},Me}return{create:de,createStream:ve,destroyStream:ye,getElements:function(pe){return typeof pe=="function"&&pe._elements instanceof fe?pe._elements:null},clear:function(){or(ee).forEach(we)}}}var cc=new Float32Array(1),bh=new Uint32Array(cc.buffer),Lh=5123;function fc(c){for(var v=gt.allocType(Lh,c.length),A=0;A<c.length;++A)if(isNaN(c[A]))v[A]=65535;else if(c[A]===1/0)v[A]=31744;else if(c[A]===-1/0)v[A]=64512;else{cc[0]=c[A];var H=bh[0],ee=H>>>31<<15,V=(H<<1>>>24)-127,Q=H>>13&1023;if(V<-24)v[A]=ee;else if(V<-14){var fe=-14-V;v[A]=ee+(Q+1024>>fe)}else V>15?v[A]=ee+31744:v[A]=ee+(V+15<<10)+Q}return v}function tn(c){return Array.isArray(c)||n(c)}var dc=function(c){return!(c&c-1)&&!!c},Rh=34467,jr=3553,As=34067,il=34069,Ii=6408,Cs=6406,ol=6407,Mi=6409,al=6410,hc=32854,bs=32855,Ls=36194,Oh=32819,Ph=32820,kh=33635,mc=34042,ll=6402,na=34041,ra=35904,ia=35906,lo=36193,Di=33776,Rs=33777,Os=33778,Ps=33779,pc=35986,vc=35987,gc=34798,yc=35840,xc=35841,Ec=35842,_c=35843,Sc=36196,so=5121,ks=5123,Ns=5125,Cr=5126,Nh=10242,Ih=10243,Mh=10497,Is=33071,Dh=33648,Fh=10240,Bh=10241,Ms=9728,jh=9729,sl=9984,Ds=9985,wc=9986,Fs=9987,$h=33170,oa=4352,Tc=4353,Gh=4354,zh=34046,Uh=3317,Vh=37440,Hh=37441,Wh=37443,uo=37444,aa=33984,Ac=[sl,wc,Ds,Fs],la=[0,Mi,al,ol,Ii],br={};br[Mi]=br[Cs]=br[ll]=1,br[na]=br[al]=2,br[ol]=br[ra]=3,br[Ii]=br[ia]=4;function co(c){return"[object "+c+"]"}var Cc=co("HTMLCanvasElement"),bc=co("OffscreenCanvas"),Lc=co("CanvasRenderingContext2D"),Rc=co("ImageBitmap"),Oc=co("HTMLImageElement"),ul=co("HTMLVideoElement"),Xh=Object.keys(ro).concat([Cc,bc,Lc,Rc,Oc,ul]),fo=[];fo[so]=1,fo[Cr]=4,fo[lo]=2,fo[ks]=2,fo[Ns]=4;var bn=[];bn[hc]=2,bn[bs]=2,bn[Ls]=2,bn[na]=4,bn[Di]=.5,bn[Rs]=.5,bn[Os]=1,bn[Ps]=1,bn[pc]=.5,bn[vc]=1,bn[gc]=1,bn[yc]=.5,bn[xc]=.25,bn[Ec]=.5,bn[_c]=.25,bn[Sc]=.5;function Pc(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="number")}function Bs(c){if(!Array.isArray(c))return!1;var v=c.length;return!(v===0||!tn(c[0]))}function Fi(c){return Object.prototype.toString.call(c)}function js(c){return Fi(c)===Cc}function kc(c){return Fi(c)===bc}function Yh(c){return Fi(c)===Lc}function $s(c){return Fi(c)===Rc}function Nc(c){return Fi(c)===Oc}function Ic(c){return Fi(c)===ul}function Gs(c){if(!c)return!1;var v=Fi(c);return Xh.indexOf(v)>=0?!0:Pc(c)||Bs(c)||mr(c)}function Mc(c){return ro[Object.prototype.toString.call(c)]|0}function Qh(c,v){var A=v.length;switch(c.type){case so:case ks:case Ns:case Cr:var H=gt.allocType(c.type,A);H.set(v),c.data=H;break;case lo:c.data=fc(v);break;default:g.raise("unsupported texture type, must specify a typed array")}}function Dc(c,v){return gt.allocType(c.type===lo?Cr:c.type,v)}function Fc(c,v){c.type===lo?(c.data=fc(v),gt.freeType(v)):c.data=v}function Bc(c,v,A,H,ee,V){for(var Q=c.width,fe=c.height,ce=c.channels,ve=Q*fe*ce,ye=Dc(c,ve),ge=0,we=0;we<fe;++we)for(var de=0;de<Q;++de)for(var pe=0;pe<ce;++pe)ye[ge++]=v[A*de+H*we+ee*pe+V];Fc(c,ye)}function cl(c,v,A,H,ee,V){var Q;if(typeof bn[c]<"u"?Q=bn[c]:Q=br[c]*fo[v],V&&(Q*=6),ee){for(var fe=0,ce=A;ce>=1;)fe+=Q*ce*ce,ce/=2;return fe}else return Q*A*H}function Kh(c,v,A,H,ee,V,Q){var fe={"don't care":oa,"dont care":oa,nice:Gh,fast:Tc},ce={repeat:Mh,clamp:Is,mirror:Dh},ve={nearest:Ms,linear:jh},ye=r({mipmap:Fs,"nearest mipmap nearest":sl,"linear mipmap nearest":Ds,"nearest mipmap linear":wc,"linear mipmap linear":Fs},ve),ge={none:0,browser:uo},we={uint8:so,rgba4:Oh,rgb565:kh,"rgb5 a1":Ph},de={alpha:Cs,luminance:Mi,"luminance alpha":al,rgb:ol,rgba:Ii,rgba4:hc,"rgb5 a1":bs,rgb565:Ls},pe={};v.ext_srgb&&(de.srgb=ra,de.srgba=ia),v.oes_texture_float&&(we.float32=we.float=Cr),v.oes_texture_half_float&&(we.float16=we["half float"]=lo),v.webgl_depth_texture&&(r(de,{depth:ll,"depth stencil":na}),r(we,{uint16:ks,uint32:Ns,"depth stencil":mc})),v.webgl_compressed_texture_s3tc&&r(pe,{"rgb s3tc dxt1":Di,"rgba s3tc dxt1":Rs,"rgba s3tc dxt3":Os,"rgba s3tc dxt5":Ps}),v.webgl_compressed_texture_atc&&r(pe,{"rgb atc":pc,"rgba atc explicit alpha":vc,"rgba atc interpolated alpha":gc}),v.webgl_compressed_texture_pvrtc&&r(pe,{"rgb pvrtc 4bppv1":yc,"rgb pvrtc 2bppv1":xc,"rgba pvrtc 4bppv1":Ec,"rgba pvrtc 2bppv1":_c}),v.webgl_compressed_texture_etc1&&(pe["rgb etc1"]=Sc);var D=Array.prototype.slice.call(c.getParameter(Rh));Object.keys(pe).forEach(function(S){var W=pe[S];D.indexOf(W)>=0&&(de[S]=W)});var X=Object.keys(de);A.textureFormats=X;var me=[];Object.keys(de).forEach(function(S){var W=de[S];me[W]=S});var Me=[];Object.keys(we).forEach(function(S){var W=we[S];Me[W]=S});var le=[];Object.keys(ve).forEach(function(S){var W=ve[S];le[W]=S});var ke=[];Object.keys(ye).forEach(function(S){var W=ye[S];ke[W]=S});var Re=[];Object.keys(ce).forEach(function(S){var W=ce[S];Re[W]=S});var qe=X.reduce(function(S,W){var z=de[W];return z===Mi||z===Cs||z===Mi||z===al||z===ll||z===na||v.ext_srgb&&(z===ra||z===ia)?S[z]=z:z===bs||W.indexOf("rgba")>=0?S[z]=Ii:S[z]=ol,S},{});function re(){this.internalformat=Ii,this.format=Ii,this.type=so,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=uo,this.width=0,this.height=0,this.channels=0}function J(S,W){S.internalformat=W.internalformat,S.format=W.format,S.type=W.type,S.compressed=W.compressed,S.premultiplyAlpha=W.premultiplyAlpha,S.flipY=W.flipY,S.unpackAlignment=W.unpackAlignment,S.colorSpace=W.colorSpace,S.width=W.width,S.height=W.height,S.channels=W.channels}function Ge(S,W){if(!(typeof W!="object"||!W)){if("premultiplyAlpha"in W&&(g.type(W.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),S.premultiplyAlpha=W.premultiplyAlpha),"flipY"in W&&(g.type(W.flipY,"boolean","invalid texture flip"),S.flipY=W.flipY),"alignment"in W&&(g.oneOf(W.alignment,[1,2,4,8],"invalid texture unpack alignment"),S.unpackAlignment=W.alignment),"colorSpace"in W&&(g.parameter(W.colorSpace,ge,"invalid colorSpace"),S.colorSpace=ge[W.colorSpace]),"type"in W){var z=W.type;g(v.oes_texture_float||!(z==="float"||z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),g(v.oes_texture_half_float||!(z==="half float"||z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),g(v.webgl_depth_texture||!(z==="uint16"||z==="uint32"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(z,we,"invalid texture type"),S.type=we[z]}var je=S.width,Et=S.height,y=S.channels,d=!1;"shape"in W?(g(Array.isArray(W.shape)&&W.shape.length>=2,"shape must be an array"),je=W.shape[0],Et=W.shape[1],W.shape.length===3&&(y=W.shape[2],g(y>0&&y<=4,"invalid number of channels"),d=!0),g(je>=0&&je<=A.maxTextureSize,"invalid width"),g(Et>=0&&Et<=A.maxTextureSize,"invalid height")):("radius"in W&&(je=Et=W.radius,g(je>=0&&je<=A.maxTextureSize,"invalid radius")),"width"in W&&(je=W.width,g(je>=0&&je<=A.maxTextureSize,"invalid width")),"height"in W&&(Et=W.height,g(Et>=0&&Et<=A.maxTextureSize,"invalid height")),"channels"in W&&(y=W.channels,g(y>0&&y<=4,"invalid number of channels"),d=!0)),S.width=je|0,S.height=Et|0,S.channels=y|0;var L=!1;if("format"in W){var M=W.format;g(v.webgl_depth_texture||!(M==="depth"||M==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(M,de,"invalid texture format");var F=S.internalformat=de[M];S.format=qe[F],M in we&&("type"in W||(S.type=we[M])),M in pe&&(S.compressed=!0),L=!0}!d&&L?S.channels=br[S.format]:d&&!L?S.channels!==la[S.format]&&(S.format=S.internalformat=la[S.channels]):L&&d&&g(S.channels===br[S.format],"number of channels inconsistent with specified format")}}function Ce(S){c.pixelStorei(Vh,S.flipY),c.pixelStorei(Hh,S.premultiplyAlpha),c.pixelStorei(Wh,S.colorSpace),c.pixelStorei(Uh,S.unpackAlignment)}function he(){re.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function be(S,W){var z=null;if(Gs(W)?z=W:W&&(g.type(W,"object","invalid pixel data type"),Ge(S,W),"x"in W&&(S.xOffset=W.x|0),"y"in W&&(S.yOffset=W.y|0),Gs(W.data)&&(z=W.data)),g(!S.compressed||z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),W.copy){g(!z,"can not specify copy and data field for the same texture");var je=ee.viewportWidth,Et=ee.viewportHeight;S.width=S.width||je-S.xOffset,S.height=S.height||Et-S.yOffset,S.needsCopy=!0,g(S.xOffset>=0&&S.xOffset<je&&S.yOffset>=0&&S.yOffset<Et&&S.width>0&&S.width<=je&&S.height>0&&S.height<=Et,"copy texture read out of bounds")}else if(!z)S.width=S.width||1,S.height=S.height||1,S.channels=S.channels||4;else if(n(z))S.channels=S.channels||4,S.data=z,!("type"in W)&&S.type===so&&(S.type=Mc(z));else if(Pc(z))S.channels=S.channels||4,Qh(S,z),S.alignment=1,S.needsFree=!0;else if(mr(z)){var y=z.data;!Array.isArray(y)&&S.type===so&&(S.type=Mc(y));var d=z.shape,L=z.stride,M,F,P,R,I,E;d.length===3?(P=d[2],E=L[2]):(g(d.length===2,"invalid ndarray pixel data, must be 2 or 3D"),P=1,E=1),M=d[0],F=d[1],R=L[0],I=L[1],S.alignment=1,S.width=M,S.height=F,S.channels=P,S.format=S.internalformat=la[P],S.needsFree=!0,Bc(S,y,R,I,E,z.offset)}else if(js(z)||kc(z)||Yh(z))js(z)||kc(z)?S.element=z:S.element=z.canvas,S.width=S.element.width,S.height=S.element.height,S.channels=4;else if($s(z))S.element=z,S.width=z.width,S.height=z.height,S.channels=4;else if(Nc(z))S.element=z,S.width=z.naturalWidth,S.height=z.naturalHeight,S.channels=4;else if(Ic(z))S.element=z,S.width=z.videoWidth,S.height=z.videoHeight,S.channels=4;else if(Bs(z)){var w=S.width||z[0].length,_=S.height||z.length,G=S.channels;tn(z[0][0])?G=G||z[0][0].length:G=G||1;for(var j=Ar.shape(z),q=1,ie=0;ie<j.length;++ie)q*=j[ie];var Se=Dc(S,q);Ar.flatten(z,j,"",Se),Fc(S,Se),S.alignment=1,S.width=w,S.height=_,S.channels=G,S.format=S.internalformat=la[G],S.needsFree=!0}S.type===Cr?g(A.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):S.type===lo&&g(A.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Le(S,W,z){var je=S.element,Et=S.data,y=S.internalformat,d=S.format,L=S.type,M=S.width,F=S.height;Ce(S),je?c.texImage2D(W,z,d,d,L,je):S.compressed?c.compressedTexImage2D(W,z,y,M,F,0,Et):S.needsCopy?(H(),c.copyTexImage2D(W,z,d,S.xOffset,S.yOffset,M,F,0)):c.texImage2D(W,z,d,M,F,0,d,L,Et||null)}function ct(S,W,z,je,Et){var y=S.element,d=S.data,L=S.internalformat,M=S.format,F=S.type,P=S.width,R=S.height;Ce(S),y?c.texSubImage2D(W,Et,z,je,M,F,y):S.compressed?c.compressedTexSubImage2D(W,Et,z,je,L,P,R,d):S.needsCopy?(H(),c.copyTexSubImage2D(W,Et,z,je,S.xOffset,S.yOffset,P,R)):c.texSubImage2D(W,Et,z,je,P,R,M,F,d)}var at=[];function Oe(){return at.pop()||new he}function Ne(S){S.needsFree&&gt.freeType(S.data),he.call(S),at.push(S)}function rt(){re.call(this),this.genMipmaps=!1,this.mipmapHint=oa,this.mipmask=0,this.images=Array(16)}function ft(S,W,z){var je=S.images[0]=Oe();S.mipmask=1,je.width=S.width=W,je.height=S.height=z,je.channels=S.channels=4}function At(S,W){var z=null;if(Gs(W))z=S.images[0]=Oe(),J(z,S),be(z,W),S.mipmask=1;else if(Ge(S,W),Array.isArray(W.mipmap))for(var je=W.mipmap,Et=0;Et<je.length;++Et)z=S.images[Et]=Oe(),J(z,S),z.width>>=Et,z.height>>=Et,be(z,je[Et]),S.mipmask|=1<<Et;else z=S.images[0]=Oe(),J(z,S),be(z,W),S.mipmask=1;J(S,S.images[0]),S.compressed&&(S.internalformat===Di||S.internalformat===Rs||S.internalformat===Os||S.internalformat===Ps)&&g(S.width%4===0&&S.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function an(S,W){for(var z=S.images,je=0;je<z.length;++je){if(!z[je])return;Le(z[je],W,je)}}var sn=[];function bt(){var S=sn.pop()||new rt;re.call(S),S.mipmask=0;for(var W=0;W<16;++W)S.images[W]=null;return S}function Ln(S){for(var W=S.images,z=0;z<W.length;++z)W[z]&&Ne(W[z]),W[z]=null;sn.push(S)}function nn(){this.minFilter=Ms,this.magFilter=Ms,this.wrapS=Is,this.wrapT=Is,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=oa}function wn(S,W){if("min"in W){var z=W.min;g.parameter(z,ye),S.minFilter=ye[z],Ac.indexOf(S.minFilter)>=0&&!("faces"in W)&&(S.genMipmaps=!0)}if("mag"in W){var je=W.mag;g.parameter(je,ve),S.magFilter=ve[je]}var Et=S.wrapS,y=S.wrapT;if("wrap"in W){var d=W.wrap;typeof d=="string"?(g.parameter(d,ce),Et=y=ce[d]):Array.isArray(d)&&(g.parameter(d[0],ce),g.parameter(d[1],ce),Et=ce[d[0]],y=ce[d[1]])}else{if("wrapS"in W){var L=W.wrapS;g.parameter(L,ce),Et=ce[L]}if("wrapT"in W){var M=W.wrapT;g.parameter(M,ce),y=ce[M]}}if(S.wrapS=Et,S.wrapT=y,"anisotropic"in W){var F=W.anisotropic;g(typeof F=="number"&&F>=1&&F<=A.maxAnisotropic,"aniso samples must be between 1 and "),S.anisotropic=W.anisotropic}if("mipmap"in W){var P=!1;switch(typeof W.mipmap){case"string":g.parameter(W.mipmap,fe,"invalid mipmap hint"),S.mipmapHint=fe[W.mipmap],S.genMipmaps=!0,P=!0;break;case"boolean":P=S.genMipmaps=W.mipmap;break;case"object":g(Array.isArray(W.mipmap),"invalid mipmap type"),S.genMipmaps=!1,P=!0;break;default:g.raise("invalid mipmap type")}P&&!("min"in W)&&(S.minFilter=sl)}}function Rn(S,W){c.texParameteri(W,Bh,S.minFilter),c.texParameteri(W,Fh,S.magFilter),c.texParameteri(W,Nh,S.wrapS),c.texParameteri(W,Ih,S.wrapT),v.ext_texture_filter_anisotropic&&c.texParameteri(W,zh,S.anisotropic),S.genMipmaps&&(c.hint($h,S.mipmapHint),c.generateMipmap(W))}var On=0,jn={},Vn=A.maxTextureUnits,pn=Array(Vn).map(function(){return null});function mt(S){re.call(this),this.mipmask=0,this.internalformat=Ii,this.id=On++,this.refCount=1,this.target=S,this.texture=c.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nn,Q.profile&&(this.stats={size:0})}function Hn(S){c.activeTexture(aa),c.bindTexture(S.target,S.texture)}function jt(){var S=pn[0];S?c.bindTexture(S.target,S.texture):c.bindTexture(jr,null)}function tt(S){var W=S.texture;g(W,"must not double destroy texture");var z=S.unit,je=S.target;z>=0&&(c.activeTexture(aa+z),c.bindTexture(je,null),pn[z]=null),c.deleteTexture(W),S.texture=null,S.params=null,S.pixels=null,S.refCount=0,delete jn[S.id],V.textureCount--}r(mt.prototype,{bind:function(){var S=this;S.bindCount+=1;var W=S.unit;if(W<0){for(var z=0;z<Vn;++z){var je=pn[z];if(je){if(je.bindCount>0)continue;je.unit=-1}pn[z]=S,W=z;break}W>=Vn&&g.raise("insufficient number of texture units"),Q.profile&&V.maxTextureUnits<W+1&&(V.maxTextureUnits=W+1),S.unit=W,c.activeTexture(aa+W),c.bindTexture(S.target,S.texture)}return W},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&tt(this)}});function Ct(S,W){var z=new mt(jr);jn[z.id]=z,V.textureCount++;function je(d,L){var M=z.texInfo;nn.call(M);var F=bt();return typeof d=="number"?typeof L=="number"?ft(F,d|0,L|0):ft(F,d|0,d|0):d?(g.type(d,"object","invalid arguments to regl.texture"),wn(M,d),At(F,d)):ft(F,1,1),M.genMipmaps&&(F.mipmask=(F.width<<1)-1),z.mipmask=F.mipmask,J(z,F),g.texture2D(M,F,A),z.internalformat=F.internalformat,je.width=F.width,je.height=F.height,Hn(z),an(F,jr),Rn(M,jr),jt(),Ln(F),Q.profile&&(z.stats.size=cl(z.internalformat,z.type,F.width,F.height,M.genMipmaps,!1)),je.format=me[z.internalformat],je.type=Me[z.type],je.mag=le[M.magFilter],je.min=ke[M.minFilter],je.wrapS=Re[M.wrapS],je.wrapT=Re[M.wrapT],je}function Et(d,L,M,F){g(!!d,"must specify image data");var P=L|0,R=M|0,I=F|0,E=Oe();return J(E,z),E.width=0,E.height=0,be(E,d),E.width=E.width||(z.width>>I)-P,E.height=E.height||(z.height>>I)-R,g(z.type===E.type&&z.format===E.format&&z.internalformat===E.internalformat,"incompatible format for texture.subimage"),g(P>=0&&R>=0&&P+E.width<=z.width&&R+E.height<=z.height,"texture.subimage write out of bounds"),g(z.mipmask&1<<I,"missing mipmap data"),g(E.data||E.element||E.needsCopy,"missing image data"),Hn(z),ct(E,jr,P,R,I),jt(),Ne(E),je}function y(d,L){var M=d|0,F=L|0||M;if(M===z.width&&F===z.height)return je;je.width=z.width=M,je.height=z.height=F,Hn(z);for(var P=0;z.mipmask>>P;++P){var R=M>>P,I=F>>P;if(!R||!I)break;c.texImage2D(jr,P,z.format,R,I,0,z.format,z.type,null)}return jt(),Q.profile&&(z.stats.size=cl(z.internalformat,z.type,M,F,!1,!1)),je}return je(S,W),je.subimage=Et,je.resize=y,je._reglType="texture2d",je._texture=z,Q.profile&&(je.stats=z.stats),je.destroy=function(){z.decRef()},je}function Pt(S,W,z,je,Et,y){var d=new mt(As);jn[d.id]=d,V.cubeCount++;var L=new Array(6);function M(R,I,E,w,_,G){var j,q=d.texInfo;for(nn.call(q),j=0;j<6;++j)L[j]=bt();if(typeof R=="number"||!R){var ie=R|0||1;for(j=0;j<6;++j)ft(L[j],ie,ie)}else if(typeof R=="object")if(I)At(L[0],R),At(L[1],I),At(L[2],E),At(L[3],w),At(L[4],_),At(L[5],G);else if(wn(q,R),Ge(d,R),"faces"in R){var Se=R.faces;for(g(Array.isArray(Se)&&Se.length===6,"cube faces must be a length 6 array"),j=0;j<6;++j)g(typeof Se[j]=="object"&&!!Se[j],"invalid input for cube map face"),J(L[j],d),At(L[j],Se[j])}else for(j=0;j<6;++j)At(L[j],R);else g.raise("invalid arguments to cube map");for(J(d,L[0]),g.optional(function(){A.npotTextureCube||g(dc(d.width)&&dc(d.height),"your browser does not support non power or two texture dimensions")}),q.genMipmaps?d.mipmask=(L[0].width<<1)-1:d.mipmask=L[0].mipmask,g.textureCube(d,q,L,A),d.internalformat=L[0].internalformat,M.width=L[0].width,M.height=L[0].height,Hn(d),j=0;j<6;++j)an(L[j],il+j);for(Rn(q,As),jt(),Q.profile&&(d.stats.size=cl(d.internalformat,d.type,M.width,M.height,q.genMipmaps,!0)),M.format=me[d.internalformat],M.type=Me[d.type],M.mag=le[q.magFilter],M.min=ke[q.minFilter],M.wrapS=Re[q.wrapS],M.wrapT=Re[q.wrapT],j=0;j<6;++j)Ln(L[j]);return M}function F(R,I,E,w,_){g(!!I,"must specify image data"),g(typeof R=="number"&&R===(R|0)&&R>=0&&R<6,"invalid face");var G=E|0,j=w|0,q=_|0,ie=Oe();return J(ie,d),ie.width=0,ie.height=0,be(ie,I),ie.width=ie.width||(d.width>>q)-G,ie.height=ie.height||(d.height>>q)-j,g(d.type===ie.type&&d.format===ie.format&&d.internalformat===ie.internalformat,"incompatible format for texture.subimage"),g(G>=0&&j>=0&&G+ie.width<=d.width&&j+ie.height<=d.height,"texture.subimage write out of bounds"),g(d.mipmask&1<<q,"missing mipmap data"),g(ie.data||ie.element||ie.needsCopy,"missing image data"),Hn(d),ct(ie,il+R,G,j,q),jt(),Ne(ie),M}function P(R){var I=R|0;if(I!==d.width){M.width=d.width=I,M.height=d.height=I,Hn(d);for(var E=0;E<6;++E)for(var w=0;d.mipmask>>w;++w)c.texImage2D(il+E,w,d.format,I>>w,I>>w,0,d.format,d.type,null);return jt(),Q.profile&&(d.stats.size=cl(d.internalformat,d.type,M.width,M.height,!1,!0)),M}}return M(S,W,z,je,Et,y),M.subimage=F,M.resize=P,M._reglType="textureCube",M._texture=d,Q.profile&&(M.stats=d.stats),M.destroy=function(){d.decRef()},M}function vn(){for(var S=0;S<Vn;++S)c.activeTexture(aa+S),c.bindTexture(jr,null),pn[S]=null;or(jn).forEach(tt),V.cubeCount=0,V.textureCount=0}Q.profile&&(V.getTotalTextureSize=function(){var S=0;return Object.keys(jn).forEach(function(W){S+=jn[W].stats.size}),S});function yi(){for(var S=0;S<Vn;++S){var W=pn[S];W&&(W.bindCount=0,W.unit=-1,pn[S]=null)}or(jn).forEach(function(z){z.texture=c.createTexture(),c.bindTexture(z.target,z.texture);for(var je=0;je<32;++je)if(z.mipmask&1<<je)if(z.target===jr)c.texImage2D(jr,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);else for(var Et=0;Et<6;++Et)c.texImage2D(il+Et,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);Rn(z.texInfo,z.target)})}function pa(){for(var S=0;S<Vn;++S){var W=pn[S];W&&(W.bindCount=0,W.unit=-1,pn[S]=null),c.activeTexture(aa+S),c.bindTexture(jr,null),c.bindTexture(As,null)}}return{create2D:Ct,createCube:Pt,clear:vn,getTexture:function(S){return null},restore:yi,refresh:pa}}var vi=36161,fl=32854,jc=32855,$c=36194,Gc=33189,zc=36168,Uc=34041,Vc=35907,Hc=34836,Wc=34842,Xc=34843,Lr=[];Lr[fl]=2,Lr[jc]=2,Lr[$c]=2,Lr[Gc]=2,Lr[zc]=1,Lr[Uc]=4,Lr[Vc]=4,Lr[Hc]=16,Lr[Wc]=8,Lr[Xc]=6;function Yc(c,v,A){return Lr[c]*v*A}var qh=function(c,v,A,H,ee){var V={rgba4:fl,rgb565:$c,"rgb5 a1":jc,depth:Gc,stencil:zc,"depth stencil":Uc};v.ext_srgb&&(V.srgba=Vc),v.ext_color_buffer_half_float&&(V.rgba16f=Wc,V.rgb16f=Xc),v.webgl_color_buffer_float&&(V.rgba32f=Hc);var Q=[];Object.keys(V).forEach(function(de){var pe=V[de];Q[pe]=de});var fe=0,ce={};function ve(de){this.id=fe++,this.refCount=1,this.renderbuffer=de,this.format=fl,this.width=0,this.height=0,ee.profile&&(this.stats={size:0})}ve.prototype.decRef=function(){--this.refCount<=0&&ye(this)};function ye(de){var pe=de.renderbuffer;g(pe,"must not double destroy renderbuffer"),c.bindRenderbuffer(vi,null),c.deleteRenderbuffer(pe),de.renderbuffer=null,de.refCount=0,delete ce[de.id],H.renderbufferCount--}function ge(de,pe){var D=new ve(c.createRenderbuffer());ce[D.id]=D,H.renderbufferCount++;function X(Me,le){var ke=0,Re=0,qe=fl;if(typeof Me=="object"&&Me){var re=Me;if("shape"in re){var J=re.shape;g(Array.isArray(J)&&J.length>=2,"invalid renderbuffer shape"),ke=J[0]|0,Re=J[1]|0}else"radius"in re&&(ke=Re=re.radius|0),"width"in re&&(ke=re.width|0),"height"in re&&(Re=re.height|0);"format"in re&&(g.parameter(re.format,V,"invalid renderbuffer format"),qe=V[re.format])}else typeof Me=="number"?(ke=Me|0,typeof le=="number"?Re=le|0:Re=ke):Me?g.raise("invalid arguments to renderbuffer constructor"):ke=Re=1;if(g(ke>0&&Re>0&&ke<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),!(ke===D.width&&Re===D.height&&qe===D.format))return X.width=D.width=ke,X.height=D.height=Re,D.format=qe,c.bindRenderbuffer(vi,D.renderbuffer),c.renderbufferStorage(vi,qe,ke,Re),g(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Yc(D.format,D.width,D.height)),X.format=Q[D.format],X}function me(Me,le){var ke=Me|0,Re=le|0||ke;return ke===D.width&&Re===D.height||(g(ke>0&&Re>0&&ke<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),X.width=D.width=ke,X.height=D.height=Re,c.bindRenderbuffer(vi,D.renderbuffer),c.renderbufferStorage(vi,D.format,ke,Re),g(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Yc(D.format,D.width,D.height))),X}return X(de,pe),X.resize=me,X._reglType="renderbuffer",X._renderbuffer=D,ee.profile&&(X.stats=D.stats),X.destroy=function(){D.decRef()},X}ee.profile&&(H.getTotalRenderbufferSize=function(){var de=0;return Object.keys(ce).forEach(function(pe){de+=ce[pe].stats.size}),de});function we(){or(ce).forEach(function(de){de.renderbuffer=c.createRenderbuffer(),c.bindRenderbuffer(vi,de.renderbuffer),c.renderbufferStorage(vi,de.format,de.width,de.height)}),c.bindRenderbuffer(vi,null)}return{create:ge,clear:function(){or(ce).forEach(ye)},restore:we}},ei=36160,zs=36161,Bi=3553,dl=34069,Qc=36064,hl=36096,Kc=36128,qc=33306,Zc=36053,Zh=36054,Jh=36055,em=36057,tm=36061,nm=36193,rm=5121,im=5126,Jc=6407,ef=6408,om=6402,am=[Jc,ef],Us=[];Us[ef]=4,Us[Jc]=3;var sa=[];sa[rm]=1,sa[im]=4,sa[nm]=2;var lm=32854,tf=32855,sm=36194,nf=33189,rf=36168,Vs=34041,of=35907,um=34836,ua=34842,cm=34843,fm=[lm,tf,sm,of,ua,cm,um],ho={};ho[Zc]="complete",ho[Zh]="incomplete attachment",ho[em]="incomplete dimensions",ho[Jh]="incomplete, missing attachment",ho[tm]="unsupported";function dm(c,v,A,H,ee,V){var Q={cur:null,next:null,dirty:!1,setFBO:null},fe=["rgba"],ce=["rgba4","rgb565","rgb5 a1"];v.ext_srgb&&ce.push("srgba"),v.ext_color_buffer_half_float&&ce.push("rgba16f","rgb16f"),v.webgl_color_buffer_float&&ce.push("rgba32f");var ve=["uint8"];v.oes_texture_half_float&&ve.push("half float","float16"),v.oes_texture_float&&ve.push("float","float32");function ye(he,be,Le){this.target=he,this.texture=be,this.renderbuffer=Le;var ct=0,at=0;be?(ct=be.width,at=be.height):Le&&(ct=Le.width,at=Le.height),this.width=ct,this.height=at}function ge(he){he&&(he.texture&&he.texture._texture.decRef(),he.renderbuffer&&he.renderbuffer._renderbuffer.decRef())}function we(he,be,Le){if(he)if(he.texture){var ct=he.texture._texture,at=Math.max(1,ct.width),Oe=Math.max(1,ct.height);g(at===be&&Oe===Le,"inconsistent width/height for supplied texture"),ct.refCount+=1}else{var Ne=he.renderbuffer._renderbuffer;g(Ne.width===be&&Ne.height===Le,"inconsistent width/height for renderbuffer"),Ne.refCount+=1}}function de(he,be){be&&(be.texture?c.framebufferTexture2D(ei,he,be.target,be.texture._texture.texture,0):c.framebufferRenderbuffer(ei,he,zs,be.renderbuffer._renderbuffer.renderbuffer))}function pe(he){var be=Bi,Le=null,ct=null,at=he;typeof he=="object"&&(at=he.data,"target"in he&&(be=he.target|0)),g.type(at,"function","invalid attachment data");var Oe=at._reglType;return Oe==="texture2d"?(Le=at,g(be===Bi)):Oe==="textureCube"?(Le=at,g(be>=dl&&be<dl+6,"invalid cube map target")):Oe==="renderbuffer"?(ct=at,be=zs):g.raise("invalid regl object for attachment"),new ye(be,Le,ct)}function D(he,be,Le,ct,at){if(Le){var Oe=H.create2D({width:he,height:be,format:ct,type:at});return Oe._texture.refCount=0,new ye(Bi,Oe,null)}else{var Ne=ee.create({width:he,height:be,format:ct});return Ne._renderbuffer.refCount=0,new ye(zs,null,Ne)}}function X(he){return he&&(he.texture||he.renderbuffer)}function me(he,be,Le){he&&(he.texture?he.texture.resize(be,Le):he.renderbuffer&&he.renderbuffer.resize(be,Le),he.width=be,he.height=Le)}var Me=0,le={};function ke(){this.id=Me++,le[this.id]=this,this.framebuffer=c.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Re(he){he.colorAttachments.forEach(ge),ge(he.depthAttachment),ge(he.stencilAttachment),ge(he.depthStencilAttachment)}function qe(he){var be=he.framebuffer;g(be,"must not double destroy framebuffer"),c.deleteFramebuffer(be),he.framebuffer=null,V.framebufferCount--,delete le[he.id]}function re(he){var be;c.bindFramebuffer(ei,he.framebuffer);var Le=he.colorAttachments;for(be=0;be<Le.length;++be)de(Qc+be,Le[be]);for(be=Le.length;be<A.maxColorAttachments;++be)c.framebufferTexture2D(ei,Qc+be,Bi,null,0);c.framebufferTexture2D(ei,qc,Bi,null,0),c.framebufferTexture2D(ei,hl,Bi,null,0),c.framebufferTexture2D(ei,Kc,Bi,null,0),de(hl,he.depthAttachment),de(Kc,he.stencilAttachment),de(qc,he.depthStencilAttachment);var ct=c.checkFramebufferStatus(ei);!c.isContextLost()&&ct!==Zc&&g.raise("framebuffer configuration not supported, status = "+ho[ct]),c.bindFramebuffer(ei,Q.next?Q.next.framebuffer:null),Q.cur=Q.next,c.getError()}function J(he,be){var Le=new ke;V.framebufferCount++;function ct(Oe,Ne){var rt;g(Q.next!==Le,"can not update framebuffer which is currently in use");var ft=0,At=0,an=!0,sn=!0,bt=null,Ln=!0,nn="rgba",wn="uint8",Rn=1,On=null,jn=null,Vn=null,pn=!1;if(typeof Oe=="number")ft=Oe|0,At=Ne|0||ft;else if(!Oe)ft=At=1;else{g.type(Oe,"object","invalid arguments for framebuffer");var mt=Oe;if("shape"in mt){var Hn=mt.shape;g(Array.isArray(Hn)&&Hn.length>=2,"invalid shape for framebuffer"),ft=Hn[0],At=Hn[1]}else"radius"in mt&&(ft=At=mt.radius),"width"in mt&&(ft=mt.width),"height"in mt&&(At=mt.height);("color"in mt||"colors"in mt)&&(bt=mt.color||mt.colors,Array.isArray(bt)&&g(bt.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),bt||("colorCount"in mt&&(Rn=mt.colorCount|0,g(Rn>0,"invalid color buffer count")),"colorTexture"in mt&&(Ln=!!mt.colorTexture,nn="rgba4"),"colorType"in mt&&(wn=mt.colorType,Ln?(g(v.oes_texture_float||!(wn==="float"||wn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),g(v.oes_texture_half_float||!(wn==="half float"||wn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):wn==="half float"||wn==="float16"?(g(v.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),nn="rgba16f"):(wn==="float"||wn==="float32")&&(g(v.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),nn="rgba32f"),g.oneOf(wn,ve,"invalid color type")),"colorFormat"in mt&&(nn=mt.colorFormat,fe.indexOf(nn)>=0?Ln=!0:ce.indexOf(nn)>=0?Ln=!1:g.optional(function(){Ln?g.oneOf(mt.colorFormat,fe,"invalid color format for texture"):g.oneOf(mt.colorFormat,ce,"invalid color format for renderbuffer")}))),("depthTexture"in mt||"depthStencilTexture"in mt)&&(pn=!!(mt.depthTexture||mt.depthStencilTexture),g(!pn||v.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in mt&&(typeof mt.depth=="boolean"?an=mt.depth:(On=mt.depth,sn=!1)),"stencil"in mt&&(typeof mt.stencil=="boolean"?sn=mt.stencil:(jn=mt.stencil,an=!1)),"depthStencil"in mt&&(typeof mt.depthStencil=="boolean"?an=sn=mt.depthStencil:(Vn=mt.depthStencil,an=!1,sn=!1))}var jt=null,tt=null,Ct=null,Pt=null;if(Array.isArray(bt))jt=bt.map(pe);else if(bt)jt=[pe(bt)];else for(jt=new Array(Rn),rt=0;rt<Rn;++rt)jt[rt]=D(ft,At,Ln,nn,wn);g(v.webgl_draw_buffers||jt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),g(jt.length<=A.maxColorAttachments,"too many color attachments, not supported"),ft=ft||jt[0].width,At=At||jt[0].height,On?tt=pe(On):an&&!sn&&(tt=D(ft,At,pn,"depth","uint32")),jn?Ct=pe(jn):sn&&!an&&(Ct=D(ft,At,!1,"stencil","uint8")),Vn?Pt=pe(Vn):!On&&!jn&&sn&&an&&(Pt=D(ft,At,pn,"depth stencil","depth stencil")),g(!!On+!!jn+!!Vn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var vn=null;for(rt=0;rt<jt.length;++rt)if(we(jt[rt],ft,At),g(!jt[rt]||jt[rt].texture&&am.indexOf(jt[rt].texture._texture.format)>=0||jt[rt].renderbuffer&&fm.indexOf(jt[rt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+rt+" is invalid"),jt[rt]&&jt[rt].texture){var yi=Us[jt[rt].texture._texture.format]*sa[jt[rt].texture._texture.type];vn===null?vn=yi:g(vn===yi,"all color attachments much have the same number of bits per pixel.")}return we(tt,ft,At),g(!tt||tt.texture&&tt.texture._texture.format===om||tt.renderbuffer&&tt.renderbuffer._renderbuffer.format===nf,"invalid depth attachment for framebuffer object"),we(Ct,ft,At),g(!Ct||Ct.renderbuffer&&Ct.renderbuffer._renderbuffer.format===rf,"invalid stencil attachment for framebuffer object"),we(Pt,ft,At),g(!Pt||Pt.texture&&Pt.texture._texture.format===Vs||Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.format===Vs,"invalid depth-stencil attachment for framebuffer object"),Re(Le),Le.width=ft,Le.height=At,Le.colorAttachments=jt,Le.depthAttachment=tt,Le.stencilAttachment=Ct,Le.depthStencilAttachment=Pt,ct.color=jt.map(X),ct.depth=X(tt),ct.stencil=X(Ct),ct.depthStencil=X(Pt),ct.width=Le.width,ct.height=Le.height,re(Le),ct}function at(Oe,Ne){g(Q.next!==Le,"can not resize a framebuffer which is currently in use");var rt=Math.max(Oe|0,1),ft=Math.max(Ne|0||rt,1);if(rt===Le.width&&ft===Le.height)return ct;for(var At=Le.colorAttachments,an=0;an<At.length;++an)me(At[an],rt,ft);return me(Le.depthAttachment,rt,ft),me(Le.stencilAttachment,rt,ft),me(Le.depthStencilAttachment,rt,ft),Le.width=ct.width=rt,Le.height=ct.height=ft,re(Le),ct}return ct(he,be),r(ct,{resize:at,_reglType:"framebuffer",_framebuffer:Le,destroy:function(){qe(Le),Re(Le)},use:function(Oe){Q.setFBO({framebuffer:ct},Oe)}})}function Ge(he){var be=Array(6);function Le(at){var Oe;g(be.indexOf(Q.next)<0,"can not update framebuffer which is currently in use");var Ne={color:null},rt=0,ft=null,At="rgba",an="uint8",sn=1;if(typeof at=="number")rt=at|0;else if(!at)rt=1;else{g.type(at,"object","invalid arguments for framebuffer");var bt=at;if("shape"in bt){var Ln=bt.shape;g(Array.isArray(Ln)&&Ln.length>=2,"invalid shape for framebuffer"),g(Ln[0]===Ln[1],"cube framebuffer must be square"),rt=Ln[0]}else"radius"in bt&&(rt=bt.radius|0),"width"in bt?(rt=bt.width|0,"height"in bt&&g(bt.height===rt,"must be square")):"height"in bt&&(rt=bt.height|0);("color"in bt||"colors"in bt)&&(ft=bt.color||bt.colors,Array.isArray(ft)&&g(ft.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),ft||("colorCount"in bt&&(sn=bt.colorCount|0,g(sn>0,"invalid color buffer count")),"colorType"in bt&&(g.oneOf(bt.colorType,ve,"invalid color type"),an=bt.colorType),"colorFormat"in bt&&(At=bt.colorFormat,g.oneOf(bt.colorFormat,fe,"invalid color format for texture"))),"depth"in bt&&(Ne.depth=bt.depth),"stencil"in bt&&(Ne.stencil=bt.stencil),"depthStencil"in bt&&(Ne.depthStencil=bt.depthStencil)}var nn;if(ft)if(Array.isArray(ft))for(nn=[],Oe=0;Oe<ft.length;++Oe)nn[Oe]=ft[Oe];else nn=[ft];else{nn=Array(sn);var wn={radius:rt,format:At,type:an};for(Oe=0;Oe<sn;++Oe)nn[Oe]=H.createCube(wn)}for(Ne.color=Array(nn.length),Oe=0;Oe<nn.length;++Oe){var Rn=nn[Oe];g(typeof Rn=="function"&&Rn._reglType==="textureCube","invalid cube map"),rt=rt||Rn.width,g(Rn.width===rt&&Rn.height===rt,"invalid cube map shape"),Ne.color[Oe]={target:dl,data:nn[Oe]}}for(Oe=0;Oe<6;++Oe){for(var On=0;On<nn.length;++On)Ne.color[On].target=dl+Oe;Oe>0&&(Ne.depth=be[0].depth,Ne.stencil=be[0].stencil,Ne.depthStencil=be[0].depthStencil),be[Oe]?be[Oe](Ne):be[Oe]=J(Ne)}return r(Le,{width:rt,height:rt,color:nn})}function ct(at){var Oe,Ne=at|0;if(g(Ne>0&&Ne<=A.maxCubeMapSize,"invalid radius for cube fbo"),Ne===Le.width)return Le;var rt=Le.color;for(Oe=0;Oe<rt.length;++Oe)rt[Oe].resize(Ne);for(Oe=0;Oe<6;++Oe)be[Oe].resize(Ne);return Le.width=Le.height=Ne,Le}return Le(he),r(Le,{faces:be,resize:ct,_reglType:"framebufferCube",destroy:function(){be.forEach(function(at){at.destroy()})}})}function Ce(){Q.cur=null,Q.next=null,Q.dirty=!0,or(le).forEach(function(he){he.framebuffer=c.createFramebuffer(),re(he)})}return r(Q,{getFramebuffer:function(he){if(typeof he=="function"&&he._reglType==="framebuffer"){var be=he._framebuffer;if(be instanceof ke)return be}return null},create:J,createCube:Ge,clear:function(){or(le).forEach(qe)},restore:Ce})}var hm=5126,s=34962,N=34963,$=["attributes","elements","offset","count","primitive","instances"];function oe(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=hm,this.offset=0,this.stride=0,this.divisor=0}function Ae(c,v,A,H,ee,V,Q){for(var fe=A.maxAttributes,ce=new Array(fe),ve=0;ve<fe;++ve)ce[ve]=new oe;var ye=0,ge={},we={Record:oe,scope:{},state:ce,currentVAO:null,targetVAO:null,restore:pe()?Re:function(){},createVAO:qe,getVAO:X,destroyBuffer:de,setVAO:pe()?me:Me,clear:pe()?le:function(){}};function de(re){for(var J=0;J<ce.length;++J){var Ge=ce[J];Ge.buffer===re&&(c.disableVertexAttribArray(J),Ge.buffer=null)}}function pe(){return v.oes_vertex_array_object}function D(){return v.angle_instanced_arrays}function X(re){return typeof re=="function"&&re._vao?re._vao:null}function me(re){if(re!==we.currentVAO){var J=pe();re?J.bindVertexArrayOES(re.vao):J.bindVertexArrayOES(null),we.currentVAO=re}}function Me(re){if(re!==we.currentVAO){if(re)re.bindAttrs();else{for(var J=D(),Ge=0;Ge<ce.length;++Ge){var Ce=ce[Ge];Ce.buffer?(c.enableVertexAttribArray(Ge),Ce.buffer.bind(),c.vertexAttribPointer(Ge,Ce.size,Ce.type,Ce.normalized,Ce.stride,Ce.offfset),J&&Ce.divisor&&J.vertexAttribDivisorANGLE(Ge,Ce.divisor)):(c.disableVertexAttribArray(Ge),c.vertexAttrib4f(Ge,Ce.x,Ce.y,Ce.z,Ce.w))}Q.elements?c.bindBuffer(N,Q.elements.buffer.buffer):c.bindBuffer(N,null)}we.currentVAO=re}}function le(){or(ge).forEach(function(re){re.destroy()})}function ke(){this.id=++ye,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var re=pe();re?this.vao=re.createVertexArrayOES():this.vao=null,ge[this.id]=this,this.buffers=[]}ke.prototype.bindAttrs=function(){for(var re=D(),J=this.attributes,Ge=0;Ge<J.length;++Ge){var Ce=J[Ge];Ce.buffer?(c.enableVertexAttribArray(Ge),c.bindBuffer(s,Ce.buffer.buffer),c.vertexAttribPointer(Ge,Ce.size,Ce.type,Ce.normalized,Ce.stride,Ce.offset),re&&Ce.divisor&&re.vertexAttribDivisorANGLE(Ge,Ce.divisor)):(c.disableVertexAttribArray(Ge),c.vertexAttrib4f(Ge,Ce.x,Ce.y,Ce.z,Ce.w))}for(var he=J.length;he<fe;++he)c.disableVertexAttribArray(he);var be=V.getElements(this.elements);be?c.bindBuffer(N,be.buffer.buffer):c.bindBuffer(N,null)},ke.prototype.refresh=function(){var re=pe();re&&(re.bindVertexArrayOES(this.vao),this.bindAttrs(),we.currentVAO=null,re.bindVertexArrayOES(null))},ke.prototype.destroy=function(){if(this.vao){var re=pe();this===we.currentVAO&&(we.currentVAO=null,re.bindVertexArrayOES(null)),re.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ge[this.id]&&(delete ge[this.id],H.vaoCount-=1)};function Re(){var re=pe();re&&or(ge).forEach(function(J){J.refresh()})}function qe(re){var J=new ke;H.vaoCount+=1;function Ge(Ce){var he;if(Array.isArray(Ce))he=Ce,J.elements&&J.ownsElements&&J.elements.destroy(),J.elements=null,J.ownsElements=!1,J.offset=0,J.count=0,J.instances=-1,J.primitive=4;else{if(g(typeof Ce=="object","invalid arguments for create vao"),g("attributes"in Ce,"must specify attributes for vao"),Ce.elements){var be=Ce.elements;J.ownsElements?typeof be=="function"&&be._reglType==="elements"?(J.elements.destroy(),J.ownsElements=!1):(J.elements(be),J.ownsElements=!1):V.getElements(Ce.elements)?(J.elements=Ce.elements,J.ownsElements=!1):(J.elements=V.create(Ce.elements),J.ownsElements=!0)}else J.elements=null,J.ownsElements=!1;he=Ce.attributes,J.offset=0,J.count=-1,J.instances=-1,J.primitive=4,J.elements&&(J.count=J.elements._elements.vertCount,J.primitive=J.elements._elements.primType),"offset"in Ce&&(J.offset=Ce.offset|0),"count"in Ce&&(J.count=Ce.count|0),"instances"in Ce&&(J.instances=Ce.instances|0),"primitive"in Ce&&(g(Ce.primitive in mi,"bad primitive type: "+Ce.primitive),J.primitive=mi[Ce.primitive]),g.optional(()=>{for(var an=Object.keys(Ce),sn=0;sn<an.length;++sn)g($.indexOf(an[sn])>=0,'invalid option for vao: "'+an[sn]+'" valid options are '+$)}),g(Array.isArray(he),"attributes must be an array")}g(he.length<fe,"too many attributes"),g(he.length>0,"must specify at least one attribute");var Le={},ct=J.attributes;ct.length=he.length;for(var at=0;at<he.length;++at){var Oe=he[at],Ne=ct[at]=new oe,rt=Oe.data||Oe;if(Array.isArray(rt)||n(rt)||mr(rt)){var ft;J.buffers[at]&&(ft=J.buffers[at],n(rt)&&ft._buffer.byteLength>=rt.byteLength?ft.subdata(rt):(ft.destroy(),J.buffers[at]=null)),J.buffers[at]||(ft=J.buffers[at]=ee.create(Oe,s,!1,!0)),Ne.buffer=ee.getBuffer(ft),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1,Le[at]=1}else ee.getBuffer(Oe)?(Ne.buffer=ee.getBuffer(Oe),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1):ee.getBuffer(Oe.buffer)?(Ne.buffer=ee.getBuffer(Oe.buffer),Ne.size=(+Oe.size||Ne.buffer.dimension)|0,Ne.normalized=!!Oe.normalized||!1,"type"in Oe?(g.parameter(Oe.type,oo,"invalid buffer type"),Ne.type=oo[Oe.type]):Ne.type=Ne.buffer.dtype,Ne.offset=(Oe.offset||0)|0,Ne.stride=(Oe.stride||0)|0,Ne.divisor=(Oe.divisor||0)|0,Ne.state=1,g(Ne.size>=1&&Ne.size<=4,"size must be between 1 and 4"),g(Ne.offset>=0,"invalid offset"),g(Ne.stride>=0&&Ne.stride<=255,"stride must be between 0 and 255"),g(Ne.divisor>=0,"divisor must be positive"),g(!Ne.divisor||!!v.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Oe?(g(at>0,"first attribute must not be a constant"),Ne.x=+Oe.x||0,Ne.y=+Oe.y||0,Ne.z=+Oe.z||0,Ne.w=+Oe.w||0,Ne.state=2):g(!1,"invalid attribute spec for location "+at)}for(var At=0;At<J.buffers.length;++At)!Le[At]&&J.buffers[At]&&(J.buffers[At].destroy(),J.buffers[At]=null);return J.refresh(),Ge}return Ge.destroy=function(){for(var Ce=0;Ce<J.buffers.length;++Ce)J.buffers[Ce]&&J.buffers[Ce].destroy();J.buffers.length=0,J.ownsElements&&(J.elements.destroy(),J.elements=null,J.ownsElements=!1),J.destroy()},Ge._vao=J,Ge._reglType="vao",Ge(re)}return we}var Fe=35632,He=35633,dt=35718,Bt=35721;function Mt(c,v,A,H){var ee={},V={};function Q(D,X,me,Me){this.name=D,this.id=X,this.location=me,this.info=Me}function fe(D,X){for(var me=0;me<D.length;++me)if(D[me].id===X.id){D[me].location=X.location;return}D.push(X)}function ce(D,X,me){var Me=D===Fe?ee:V,le=Me[X];if(!le){var ke=v.str(X);le=c.createShader(D),c.shaderSource(le,ke),c.compileShader(le),g.shaderError(c,le,ke,D,me),Me[X]=le}return le}var ve={},ye=[],ge=0;function we(D,X){this.id=ge++,this.fragId=D,this.vertId=X,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,H.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function de(D,X,me){var Me,le,ke=ce(Fe,D.fragId),Re=ce(He,D.vertId),qe=D.program=c.createProgram();if(c.attachShader(qe,ke),c.attachShader(qe,Re),me)for(Me=0;Me<me.length;++Me){var re=me[Me];c.bindAttribLocation(qe,re[0],re[1])}c.linkProgram(qe),g.linkError(c,qe,v.str(D.fragId),v.str(D.vertId),X);var J=c.getProgramParameter(qe,dt);H.profile&&(D.stats.uniformsCount=J);var Ge=D.uniforms;for(Me=0;Me<J;++Me)if(le=c.getActiveUniform(qe,Me),le){if(le.size>1)for(var Ce=0;Ce<le.size;++Ce){var he=le.name.replace("[0]","["+Ce+"]");fe(Ge,new Q(he,v.id(he),c.getUniformLocation(qe,he),le))}var be=le.name;le.size>1&&(be=be.replace("[0]","")),fe(Ge,new Q(be,v.id(be),c.getUniformLocation(qe,be),le))}var Le=c.getProgramParameter(qe,Bt);H.profile&&(D.stats.attributesCount=Le);var ct=D.attributes;for(Me=0;Me<Le;++Me)le=c.getActiveAttrib(qe,Me),le&&fe(ct,new Q(le.name,v.id(le.name),c.getAttribLocation(qe,le.name),le))}H.profile&&(A.getMaxUniformsCount=function(){var D=0;return ye.forEach(function(X){X.stats.uniformsCount>D&&(D=X.stats.uniformsCount)}),D},A.getMaxAttributesCount=function(){var D=0;return ye.forEach(function(X){X.stats.attributesCount>D&&(D=X.stats.attributesCount)}),D});function pe(){ee={},V={};for(var D=0;D<ye.length;++D)de(ye[D],null,ye[D].attributes.map(function(X){return[X.location,X.name]}))}return{clear:function(){var D=c.deleteShader.bind(c);or(ee).forEach(D),ee={},or(V).forEach(D),V={},ye.forEach(function(X){c.deleteProgram(X.program)}),ye.length=0,ve={},A.shaderCount=0},program:function(D,X,me,Me){g.command(D>=0,"missing vertex shader",me),g.command(X>=0,"missing fragment shader",me);var le=ve[X];le||(le=ve[X]={});var ke=le[D];if(ke&&(ke.refCount++,!Me))return ke;var Re=new we(X,D);return A.shaderCount++,de(Re,me,Me),ke||(le[D]=Re),ye.push(Re),r(Re,{destroy:function(){if(Re.refCount--,Re.refCount<=0){c.deleteProgram(Re.program);var qe=ye.indexOf(Re);ye.splice(qe,1),A.shaderCount--}le[Re.vertId].refCount<=0&&(c.deleteShader(V[Re.vertId]),delete V[Re.vertId],delete ve[Re.fragId][Re.vertId]),Object.keys(ve[Re.fragId]).length||(c.deleteShader(ee[Re.fragId]),delete ee[Re.fragId],delete ve[Re.fragId])}})},restore:pe,shader:ce,frag:-1,vert:-1}}var _n=6408,Vt=5121,Dt=3333,af=5126;function K_(c,v,A,H,ee,V,Q){function fe(ye){var ge;v.next===null?(g(ee.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ge=Vt):(g(v.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ge=v.next.colorAttachments[0].texture._texture.type,g.optional(function(){V.oes_texture_float?(g(ge===Vt||ge===af,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ge===af&&g(Q.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):g(ge===Vt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var we=0,de=0,pe=H.framebufferWidth,D=H.framebufferHeight,X=null;n(ye)?X=ye:ye&&(g.type(ye,"object","invalid arguments to regl.read()"),we=ye.x|0,de=ye.y|0,g(we>=0&&we<H.framebufferWidth,"invalid x offset for regl.read"),g(de>=0&&de<H.framebufferHeight,"invalid y offset for regl.read"),pe=(ye.width||H.framebufferWidth-we)|0,D=(ye.height||H.framebufferHeight-de)|0,X=ye.data||null),X&&(ge===Vt?g(X instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ge===af&&g(X instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),g(pe>0&&pe+we<=H.framebufferWidth,"invalid width for read pixels"),g(D>0&&D+de<=H.framebufferHeight,"invalid height for read pixels"),A();var me=pe*D*4;return X||(ge===Vt?X=new Uint8Array(me):ge===af&&(X=X||new Float32Array(me))),g.isTypedArray(X,"data buffer for regl.read() must be a typedarray"),g(X.byteLength>=me,"data buffer for regl.read() too small"),c.pixelStorei(Dt,4),c.readPixels(we,de,pe,D,_n,ge,X),X}function ce(ye){var ge;return v.setFBO({framebuffer:ye.framebuffer},function(){ge=fe(ye)}),ge}function ve(ye){return!ye||!("framebuffer"in ye)?fe(ye):ce(ye)}return ve}function ml(c){return Array.prototype.slice.call(c)}function pl(c){return ml(c).join("")}function q_(){var c=0,v=[],A=[];function H(ge){for(var we=0;we<A.length;++we)if(A[we]===ge)return v[we];var de="g"+c++;return v.push(de),A.push(ge),de}function ee(){var ge=[];function we(){ge.push.apply(ge,ml(arguments))}var de=[];function pe(){var D="v"+c++;return de.push(D),arguments.length>0&&(ge.push(D,"="),ge.push.apply(ge,ml(arguments)),ge.push(";")),D}return r(we,{def:pe,toString:function(){return pl([de.length>0?"var "+de.join(",")+";":"",pl(ge)])}})}function V(){var ge=ee(),we=ee(),de=ge.toString,pe=we.toString;function D(X,me){we(X,me,"=",ge.def(X,me),";")}return r(function(){ge.apply(ge,ml(arguments))},{def:ge.def,entry:ge,exit:we,save:D,set:function(X,me,Me){D(X,me),ge(X,me,"=",Me,";")},toString:function(){return de()+pe()}})}function Q(){var ge=pl(arguments),we=V(),de=V(),pe=we.toString,D=de.toString;return r(we,{then:function(){return we.apply(we,ml(arguments)),this},else:function(){return de.apply(de,ml(arguments)),this},toString:function(){var X=D();return X&&(X="else{"+X+"}"),pl(["if(",ge,"){",pe(),"}",X])}})}var fe=ee(),ce={};function ve(ge,we){var de=[];function pe(){var le="a"+de.length;return de.push(le),le}we=we||0;for(var D=0;D<we;++D)pe();var X=V(),me=X.toString,Me=ce[ge]=r(X,{arg:pe,toString:function(){return pl(["function(",de.join(),"){",me(),"}"])}});return Me}function ye(){var ge=['"use strict";',fe,"return {"];Object.keys(ce).forEach(function(pe){ge.push('"',pe,'":',ce[pe].toString(),",")}),ge.push("}");var we=pl(ge).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),de=Function.apply(null,v.concat(we));return de.apply(null,A)}return{global:fe,link:H,block:ee,proc:ve,scope:V,cond:Q,compile:ye}}var vl="xyzw".split(""),qv=5121,gl=1,mm=2,pm=0,vm=1,gm=2,ym=3,lf=4,Zv=5,Jv=6,eg="dither",tg="blend.enable",ng="blend.color",xm="blend.equation",Em="blend.func",rg="depth.enable",ig="depth.func",og="depth.range",ag="depth.mask",_m="colorMask",lg="cull.enable",sg="cull.face",Sm="frontFace",wm="lineWidth",ug="polygonOffset.enable",Tm="polygonOffset.offset",cg="sample.alpha",fg="sample.enable",Am="sample.coverage",dg="stencil.enable",hg="stencil.mask",Cm="stencil.func",bm="stencil.opFront",Hs="stencil.opBack",mg="scissor.enable",sf="scissor.box",ji="viewport",Ws="profile",ca="framebuffer",Xs="vert",Ys="frag",fa="elements",da="primitive",ha="count",uf="offset",cf="instances",Qs="vao",Lm="Width",Rm="Height",yl=ca+Lm,xl=ca+Rm,Z_=ji+Lm,J_=ji+Rm,pg="drawingBuffer",vg=pg+Lm,gg=pg+Rm,eS=[Em,xm,Cm,bm,Hs,Am,ji,sf,Tm],El=34962,Om=34963,tS=35632,nS=35633,yg=3553,rS=34067,iS=2884,oS=3042,aS=3024,lS=2960,sS=2929,uS=3089,cS=32823,fS=32926,dS=32928,Pm=5126,ff=35664,df=35665,hf=35666,km=5124,mf=35667,pf=35668,vf=35669,Nm=35670,gf=35671,yf=35672,xf=35673,Ks=35674,qs=35675,Zs=35676,Js=35678,eu=35680,Im=4,tu=1028,ma=1029,xg=2304,Mm=2305,hS=32775,mS=32776,pS=519,mo=7680,Eg=0,_g=1,Sg=32774,vS=513,wg=36160,gS=36064,gi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Tg=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],_l={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},po={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ag={frag:tS,vert:nS},Dm={cw:xg,ccw:Mm};function Ef(c){return Array.isArray(c)||n(c)||mr(c)}function Cg(c){return c.sort(function(v,A){return v===ji?-1:A===ji?1:v<A?-1:1})}function Nn(c,v,A,H){this.thisDep=c,this.contextDep=v,this.propDep=A,this.append=H}function vo(c){return c&&!(c.thisDep||c.contextDep||c.propDep)}function Sn(c){return new Nn(!1,!1,!1,c)}function pr(c,v){var A=c.type;if(A===pm){var H=c.data.length;return new Nn(!0,H>=1,H>=2,v)}else if(A===lf){var ee=c.data;return new Nn(ee.thisDep,ee.contextDep,ee.propDep,v)}else{if(A===Zv)return new Nn(!1,!1,!1,v);if(A===Jv){for(var V=!1,Q=!1,fe=!1,ce=0;ce<c.data.length;++ce){var ve=c.data[ce];if(ve.type===vm)fe=!0;else if(ve.type===gm)Q=!0;else if(ve.type===ym)V=!0;else if(ve.type===pm){V=!0;var ye=ve.data;ye>=1&&(Q=!0),ye>=2&&(fe=!0)}else ve.type===lf&&(V=V||ve.data.thisDep,Q=Q||ve.data.contextDep,fe=fe||ve.data.propDep)}return new Nn(V,Q,fe,v)}else return new Nn(A===ym,A===gm,A===vm,v)}}var bg=new Nn(!1,!1,!1,function(){});function yS(c,v,A,H,ee,V,Q,fe,ce,ve,ye,ge,we,de,pe){var D=ve.Record,X={add:32774,subtract:32778,"reverse subtract":32779};A.ext_blend_minmax&&(X.min=hS,X.max=mS);var me=A.angle_instanced_arrays,Me=A.webgl_draw_buffers,le=A.oes_vertex_array_object,ke={dirty:!0,profile:pe.profile},Re={},qe=[],re={},J={};function Ge(y){return y.replace(".","_")}function Ce(y,d,L){var M=Ge(y);qe.push(y),Re[M]=ke[M]=!!L,re[M]=d}function he(y,d,L){var M=Ge(y);qe.push(y),Array.isArray(L)?(ke[M]=L.slice(),Re[M]=L.slice()):ke[M]=Re[M]=L,J[M]=d}Ce(eg,aS),Ce(tg,oS),he(ng,"blendColor",[0,0,0,0]),he(xm,"blendEquationSeparate",[Sg,Sg]),he(Em,"blendFuncSeparate",[_g,Eg,_g,Eg]),Ce(rg,sS,!0),he(ig,"depthFunc",vS),he(og,"depthRange",[0,1]),he(ag,"depthMask",!0),he(_m,_m,[!0,!0,!0,!0]),Ce(lg,iS),he(sg,"cullFace",ma),he(Sm,Sm,Mm),he(wm,wm,1),Ce(ug,cS),he(Tm,"polygonOffset",[0,0]),Ce(cg,fS),Ce(fg,dS),he(Am,"sampleCoverage",[1,!1]),Ce(dg,lS),he(hg,"stencilMask",-1),he(Cm,"stencilFunc",[pS,0,-1]),he(bm,"stencilOpSeparate",[tu,mo,mo,mo]),he(Hs,"stencilOpSeparate",[ma,mo,mo,mo]),Ce(mg,uS),he(sf,"scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]),he(ji,ji,[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var be={gl:c,context:we,strings:v,next:Re,current:ke,draw:ge,elements:V,buffer:ee,shader:ye,attributes:ve.state,vao:ve,uniforms:ce,framebuffer:fe,extensions:A,timer:de,isBufferArgs:Ef},Le={primTypes:mi,compareFuncs:_l,blendFuncs:gi,blendEquations:X,stencilOps:po,glTypes:oo,orientationType:Dm};g.optional(function(){be.isArrayLike=tn}),Me&&(Le.backBuffer=[ma],Le.drawBuffer=en(H.maxDrawbuffers,function(y){return y===0?[0]:en(y,function(d){return gS+d})}));var ct=0;function at(){var y=q_(),d=y.link,L=y.global;y.id=ct++,y.batchId="0";var M=d(be),F=y.shared={props:"a0"};Object.keys(be).forEach(function(w){F[w]=L.def(M,".",w)}),g.optional(function(){y.CHECK=d(g),y.commandStr=g.guessCommand(),y.command=d(y.commandStr),y.assert=function(w,_,G){w("if(!(",_,"))",this.CHECK,".commandRaise(",d(G),",",this.command,");")},Le.invalidBlendCombinations=Tg});var P=y.next={},R=y.current={};Object.keys(J).forEach(function(w){Array.isArray(ke[w])&&(P[w]=L.def(F.next,".",w),R[w]=L.def(F.current,".",w))});var I=y.constants={};Object.keys(Le).forEach(function(w){I[w]=L.def(JSON.stringify(Le[w]))}),y.invoke=function(w,_){switch(_.type){case pm:var G=["this",F.context,F.props,y.batchId];return w.def(d(_.data),".call(",G.slice(0,Math.max(_.data.length+1,4)),")");case vm:return w.def(F.props,_.data);case gm:return w.def(F.context,_.data);case ym:return w.def("this",_.data);case lf:return _.data.append(y,w),_.data.ref;case Zv:return _.data.toString();case Jv:return _.data.map(function(j){return y.invoke(w,j)})}},y.attribCache={};var E={};return y.scopeAttrib=function(w){var _=v.id(w);if(_ in E)return E[_];var G=ve.scope[_];G||(G=ve.scope[_]=new D);var j=E[_]=d(G);return j},y}function Oe(y){var d=y.static,L=y.dynamic,M;if(Ws in d){var F=!!d[Ws];M=Sn(function(R,I){return F}),M.enable=F}else if(Ws in L){var P=L[Ws];M=pr(P,function(R,I){return R.invoke(I,P)})}return M}function Ne(y,d){var L=y.static,M=y.dynamic;if(ca in L){var F=L[ca];return F?(F=fe.getFramebuffer(F),g.command(F,"invalid framebuffer object"),Sn(function(R,I){var E=R.link(F),w=R.shared;I.set(w.framebuffer,".next",E);var _=w.context;return I.set(_,"."+yl,E+".width"),I.set(_,"."+xl,E+".height"),E})):Sn(function(R,I){var E=R.shared;I.set(E.framebuffer,".next","null");var w=E.context;return I.set(w,"."+yl,w+"."+vg),I.set(w,"."+xl,w+"."+gg),"null"})}else if(ca in M){var P=M[ca];return pr(P,function(R,I){var E=R.invoke(I,P),w=R.shared,_=w.framebuffer,G=I.def(_,".getFramebuffer(",E,")");g.optional(function(){R.assert(I,"!"+E+"||"+G,"invalid framebuffer object")}),I.set(_,".next",G);var j=w.context;return I.set(j,"."+yl,G+"?"+G+".width:"+j+"."+vg),I.set(j,"."+xl,G+"?"+G+".height:"+j+"."+gg),G})}else return null}function rt(y,d,L){var M=y.static,F=y.dynamic;function P(E){if(E in M){var w=M[E];g.commandType(w,"object","invalid "+E,L.commandStr);var _=!0,G=w.x|0,j=w.y|0,q,ie;return"width"in w?(q=w.width|0,g.command(q>=0,"invalid "+E,L.commandStr)):_=!1,"height"in w?(ie=w.height|0,g.command(ie>=0,"invalid "+E,L.commandStr)):_=!1,new Nn(!_&&d&&d.thisDep,!_&&d&&d.contextDep,!_&&d&&d.propDep,function(Qe,Be){var ae=Qe.shared.context,K=q;"width"in w||(K=Be.def(ae,".",yl,"-",G));var Xe=ie;return"height"in w||(Xe=Be.def(ae,".",xl,"-",j)),[G,j,K,Xe]})}else if(E in F){var Se=F[E],ot=pr(Se,function(Qe,Be){var ae=Qe.invoke(Be,Se);g.optional(function(){Qe.assert(Be,ae+"&&typeof "+ae+'==="object"',"invalid "+E)});var K=Qe.shared.context,Xe=Be.def(ae,".x|0"),Ve=Be.def(ae,".y|0"),it=Be.def('"width" in ',ae,"?",ae,".width|0:","(",K,".",yl,"-",Xe,")"),Gt=Be.def('"height" in ',ae,"?",ae,".height|0:","(",K,".",xl,"-",Ve,")");return g.optional(function(){Qe.assert(Be,it+">=0&&"+Gt+">=0","invalid "+E)}),[Xe,Ve,it,Gt]});return d&&(ot.thisDep=ot.thisDep||d.thisDep,ot.contextDep=ot.contextDep||d.contextDep,ot.propDep=ot.propDep||d.propDep),ot}else return d?new Nn(d.thisDep,d.contextDep,d.propDep,function(Qe,Be){var ae=Qe.shared.context;return[0,0,Be.def(ae,".",yl),Be.def(ae,".",xl)]}):null}var R=P(ji);if(R){var I=R;R=new Nn(R.thisDep,R.contextDep,R.propDep,function(E,w){var _=I.append(E,w),G=E.shared.context;return w.set(G,"."+Z_,_[2]),w.set(G,"."+J_,_[3]),_})}return{viewport:R,scissor_box:P(sf)}}function ft(y,d){var L=y.static,M=typeof L[Ys]=="string"&&typeof L[Xs]=="string";if(M){if(Object.keys(d.dynamic).length>0)return null;var F=d.static,P=Object.keys(F);if(P.length>0&&typeof F[P[0]]=="number"){for(var R=[],I=0;I<P.length;++I)g(typeof F[P[I]]=="number","must specify all vertex attribute locations when using vaos"),R.push([F[P[I]]|0,P[I]]);return R}}return null}function At(y,d,L){var M=y.static,F=y.dynamic;function P(_){if(_ in M){var G=v.id(M[_]);g.optional(function(){ye.shader(Ag[_],G,g.guessCommand())});var j=Sn(function(){return G});return j.id=G,j}else if(_ in F){var q=F[_];return pr(q,function(ie,Se){var ot=ie.invoke(Se,q),Qe=Se.def(ie.shared.strings,".id(",ot,")");return g.optional(function(){Se(ie.shared.shader,".shader(",Ag[_],",",Qe,",",ie.command,");")}),Qe})}return null}var R=P(Ys),I=P(Xs),E=null,w;return vo(R)&&vo(I)?(E=ye.program(I.id,R.id,null,L),w=Sn(function(_,G){return _.link(E)})):w=new Nn(R&&R.thisDep||I&&I.thisDep,R&&R.contextDep||I&&I.contextDep,R&&R.propDep||I&&I.propDep,function(_,G){var j=_.shared.shader,q;R?q=R.append(_,G):q=G.def(j,".",Ys);var ie;I?ie=I.append(_,G):ie=G.def(j,".",Xs);var Se=j+".program("+ie+","+q;return g.optional(function(){Se+=","+_.command}),G.def(Se+")")}),{frag:R,vert:I,progVar:w,program:E}}function an(y,d){var L=y.static,M=y.dynamic,F={},P=!1;function R(){if(Qs in L){var Be=L[Qs];return Be!==null&&ve.getVAO(Be)===null&&(Be=ve.createVAO(Be)),P=!0,F.vao=Be,Sn(function(K){var Xe=ve.getVAO(Be);return Xe?K.link(Xe):"null"})}else if(Qs in M){P=!0;var ae=M[Qs];return pr(ae,function(K,Xe){var Ve=K.invoke(Xe,ae);return Xe.def(K.shared.vao+".getVAO("+Ve+")")})}return null}var I=R(),E=!1;function w(){if(fa in L){var Be=L[fa];if(F.elements=Be,Ef(Be)){var ae=F.elements=V.create(Be,!0);Be=V.getElements(ae),E=!0}else Be&&(Be=V.getElements(Be),E=!0,g.command(Be,"invalid elements",d.commandStr));var K=Sn(function(Ve,it){if(Be){var Gt=Ve.link(Be);return Ve.ELEMENTS=Gt,Gt}return Ve.ELEMENTS=null,null});return K.value=Be,K}else if(fa in M){E=!0;var Xe=M[fa];return pr(Xe,function(Ve,it){var Gt=Ve.shared,Wn=Gt.isBufferArgs,va=Gt.elements,$i=Ve.invoke(it,Xe),xi=it.def("null"),go=it.def(Wn,"(",$i,")"),ga=Ve.cond(go).then(xi,"=",va,".createStream(",$i,");").else(xi,"=",va,".getElements(",$i,");");return g.optional(function(){Ve.assert(ga.else,"!"+$i+"||"+xi,"invalid elements")}),it.entry(ga),it.exit(Ve.cond(go).then(va,".destroyStream(",xi,");")),Ve.ELEMENTS=xi,xi})}else if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,it){return it.def(Ve.shared.vao+".currentVAO?"+Ve.shared.elements+".getElements("+Ve.shared.vao+".currentVAO.elements):null")});return null}var _=w();function G(){if(da in L){var Be=L[da];return F.primitive=Be,g.commandParameter(Be,mi,"invalid primitve",d.commandStr),Sn(function(K,Xe){return mi[Be]})}else if(da in M){var ae=M[da];return pr(ae,function(K,Xe){var Ve=K.constants.primTypes,it=K.invoke(Xe,ae);return g.optional(function(){K.assert(Xe,it+" in "+Ve,"invalid primitive, must be one of "+Object.keys(mi))}),Xe.def(Ve,"[",it,"]")})}else{if(E)return vo(_)?_.value?Sn(function(K,Xe){return Xe.def(K.ELEMENTS,".primType")}):Sn(function(){return Im}):new Nn(_.thisDep,_.contextDep,_.propDep,function(K,Xe){var Ve=K.ELEMENTS;return Xe.def(Ve,"?",Ve,".primType:",Im)});if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(K,Xe){return Xe.def(K.shared.vao+".currentVAO?"+K.shared.vao+".currentVAO.primitive:"+Im)})}return null}function j(Be,ae){if(Be in L){var K=L[Be]|0;return ae?F.offset=K:F.instances=K,g.command(!ae||K>=0,"invalid "+Be,d.commandStr),Sn(function(Ve,it){return ae&&(Ve.OFFSET=K),K})}else if(Be in M){var Xe=M[Be];return pr(Xe,function(Ve,it){var Gt=Ve.invoke(it,Xe);return ae&&(Ve.OFFSET=Gt,g.optional(function(){Ve.assert(it,Gt+">=0","invalid "+Be)})),Gt})}else if(ae){if(E)return Sn(function(Ve,it){return Ve.OFFSET=0,0});if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,it){return it.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.offset:0")})}else if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,it){return it.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.instances:-1")});return null}var q=j(uf,!0);function ie(){if(ha in L){var Be=L[ha]|0;return F.count=Be,g.command(typeof Be=="number"&&Be>=0,"invalid vertex count",d.commandStr),Sn(function(){return Be})}else if(ha in M){var ae=M[ha];return pr(ae,function(it,Gt){var Wn=it.invoke(Gt,ae);return g.optional(function(){it.assert(Gt,"typeof "+Wn+'==="number"&&'+Wn+">=0&&"+Wn+"===("+Wn+"|0)","invalid vertex count")}),Wn})}else if(E)if(vo(_)){if(_)return q?new Nn(q.thisDep,q.contextDep,q.propDep,function(it,Gt){var Wn=Gt.def(it.ELEMENTS,".vertCount-",it.OFFSET);return g.optional(function(){it.assert(Gt,Wn+">=0","invalid vertex offset/element buffer too small")}),Wn}):Sn(function(it,Gt){return Gt.def(it.ELEMENTS,".vertCount")});var K=Sn(function(){return-1});return g.optional(function(){K.MISSING=!0}),K}else{var Xe=new Nn(_.thisDep||q.thisDep,_.contextDep||q.contextDep,_.propDep||q.propDep,function(it,Gt){var Wn=it.ELEMENTS;return it.OFFSET?Gt.def(Wn,"?",Wn,".vertCount-",it.OFFSET,":-1"):Gt.def(Wn,"?",Wn,".vertCount:-1")});return g.optional(function(){Xe.DYNAMIC=!0}),Xe}else if(P){var Ve=new Nn(I.thisDep,I.contextDep,I.propDep,function(it,Gt){return Gt.def(it.shared.vao,".currentVAO?",it.shared.vao,".currentVAO.count:-1")});return Ve}return null}var Se=G(),ot=ie(),Qe=j(cf,!1);return{elements:_,primitive:Se,count:ot,instances:Qe,offset:q,vao:I,vaoActive:P,elementsActive:E,static:F}}function sn(y,d){var L=y.static,M=y.dynamic,F={};return qe.forEach(function(P){var R=Ge(P);function I(E,w){if(P in L){var _=E(L[P]);F[R]=Sn(function(){return _})}else if(P in M){var G=M[P];F[R]=pr(G,function(j,q){return w(j,q,j.invoke(q,G))})}}switch(P){case lg:case tg:case eg:case dg:case rg:case mg:case ug:case cg:case fg:case ag:return I(function(E){return g.commandType(E,"boolean",P,d.commandStr),E},function(E,w,_){return g.optional(function(){E.assert(w,"typeof "+_+'==="boolean"',"invalid flag "+P,E.commandStr)}),_});case ig:return I(function(E){return g.commandParameter(E,_l,"invalid "+P,d.commandStr),_l[E]},function(E,w,_){var G=E.constants.compareFuncs;return g.optional(function(){E.assert(w,_+" in "+G,"invalid "+P+", must be one of "+Object.keys(_l))}),w.def(G,"[",_,"]")});case og:return I(function(E){return g.command(tn(E)&&E.length===2&&typeof E[0]=="number"&&typeof E[1]=="number"&&E[0]<=E[1],"depth range is 2d array",d.commandStr),E},function(E,w,_){g.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===2&&typeof "+_+'[0]==="number"&&typeof '+_+'[1]==="number"&&'+_+"[0]<="+_+"[1]","depth range must be a 2d array")});var G=w.def("+",_,"[0]"),j=w.def("+",_,"[1]");return[G,j]});case Em:return I(function(E){g.commandType(E,"object","blend.func",d.commandStr);var w="srcRGB"in E?E.srcRGB:E.src,_="srcAlpha"in E?E.srcAlpha:E.src,G="dstRGB"in E?E.dstRGB:E.dst,j="dstAlpha"in E?E.dstAlpha:E.dst;return g.commandParameter(w,gi,R+".srcRGB",d.commandStr),g.commandParameter(_,gi,R+".srcAlpha",d.commandStr),g.commandParameter(G,gi,R+".dstRGB",d.commandStr),g.commandParameter(j,gi,R+".dstAlpha",d.commandStr),g.command(Tg.indexOf(w+", "+G)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+w+", "+G+")",d.commandStr),[gi[w],gi[G],gi[_],gi[j]]},function(E,w,_){var G=E.constants.blendFuncs;g.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid blend func, must be an object")});function j(ae,K){var Xe=w.def('"',ae,K,'" in ',_,"?",_,".",ae,K,":",_,".",ae);return g.optional(function(){E.assert(w,Xe+" in "+G,"invalid "+P+"."+ae+K+", must be one of "+Object.keys(gi))}),Xe}var q=j("src","RGB"),ie=j("dst","RGB");g.optional(function(){var ae=E.constants.invalidBlendCombinations;E.assert(w,ae+".indexOf("+q+'+", "+'+ie+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Se=w.def(G,"[",q,"]"),ot=w.def(G,"[",j("src","Alpha"),"]"),Qe=w.def(G,"[",ie,"]"),Be=w.def(G,"[",j("dst","Alpha"),"]");return[Se,Qe,ot,Be]});case xm:return I(function(E){if(typeof E=="string")return g.commandParameter(E,X,"invalid "+P,d.commandStr),[X[E],X[E]];if(typeof E=="object")return g.commandParameter(E.rgb,X,P+".rgb",d.commandStr),g.commandParameter(E.alpha,X,P+".alpha",d.commandStr),[X[E.rgb],X[E.alpha]];g.commandRaise("invalid blend.equation",d.commandStr)},function(E,w,_){var G=E.constants.blendEquations,j=w.def(),q=w.def(),ie=E.cond("typeof ",_,'==="string"');return g.optional(function(){function Se(ot,Qe,Be){E.assert(ot,Be+" in "+G,"invalid "+Qe+", must be one of "+Object.keys(X))}Se(ie.then,P,_),E.assert(ie.else,_+"&&typeof "+_+'==="object"',"invalid "+P),Se(ie.else,P+".rgb",_+".rgb"),Se(ie.else,P+".alpha",_+".alpha")}),ie.then(j,"=",q,"=",G,"[",_,"];"),ie.else(j,"=",G,"[",_,".rgb];",q,"=",G,"[",_,".alpha];"),w(ie),[j,q]});case ng:return I(function(E){return g.command(tn(E)&&E.length===4,"blend.color must be a 4d array",d.commandStr),en(4,function(w){return+E[w]})},function(E,w,_){return g.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","blend.color must be a 4d array")}),en(4,function(G){return w.def("+",_,"[",G,"]")})});case hg:return I(function(E){return g.commandType(E,"number",R,d.commandStr),E|0},function(E,w,_){return g.optional(function(){E.assert(w,"typeof "+_+'==="number"',"invalid stencil.mask")}),w.def(_,"|0")});case Cm:return I(function(E){g.commandType(E,"object",R,d.commandStr);var w=E.cmp||"keep",_=E.ref||0,G="mask"in E?E.mask:-1;return g.commandParameter(w,_l,P+".cmp",d.commandStr),g.commandType(_,"number",P+".ref",d.commandStr),g.commandType(G,"number",P+".mask",d.commandStr),[_l[w],_,G]},function(E,w,_){var G=E.constants.compareFuncs;g.optional(function(){function Se(){E.assert(w,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Se(_+"&&typeof ",_,'==="object"'),Se('!("cmp" in ',_,")||(",_,".cmp in ",G,")")});var j=w.def('"cmp" in ',_,"?",G,"[",_,".cmp]",":",mo),q=w.def(_,".ref|0"),ie=w.def('"mask" in ',_,"?",_,".mask|0:-1");return[j,q,ie]});case bm:case Hs:return I(function(E){g.commandType(E,"object",R,d.commandStr);var w=E.fail||"keep",_=E.zfail||"keep",G=E.zpass||"keep";return g.commandParameter(w,po,P+".fail",d.commandStr),g.commandParameter(_,po,P+".zfail",d.commandStr),g.commandParameter(G,po,P+".zpass",d.commandStr),[P===Hs?ma:tu,po[w],po[_],po[G]]},function(E,w,_){var G=E.constants.stencilOps;g.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid "+P)});function j(q){return g.optional(function(){E.assert(w,'!("'+q+'" in '+_+")||("+_+"."+q+" in "+G+")","invalid "+P+"."+q+", must be one of "+Object.keys(po))}),w.def('"',q,'" in ',_,"?",G,"[",_,".",q,"]:",mo)}return[P===Hs?ma:tu,j("fail"),j("zfail"),j("zpass")]});case Tm:return I(function(E){g.commandType(E,"object",R,d.commandStr);var w=E.factor|0,_=E.units|0;return g.commandType(w,"number",R+".factor",d.commandStr),g.commandType(_,"number",R+".units",d.commandStr),[w,_]},function(E,w,_){g.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid "+P)});var G=w.def(_,".factor|0"),j=w.def(_,".units|0");return[G,j]});case sg:return I(function(E){var w=0;return E==="front"?w=tu:E==="back"&&(w=ma),g.command(!!w,R,d.commandStr),w},function(E,w,_){return g.optional(function(){E.assert(w,_+'==="front"||'+_+'==="back"',"invalid cull.face")}),w.def(_,'==="front"?',tu,":",ma)});case wm:return I(function(E){return g.command(typeof E=="number"&&E>=H.lineWidthDims[0]&&E<=H.lineWidthDims[1],"invalid line width, must be a positive number between "+H.lineWidthDims[0]+" and "+H.lineWidthDims[1],d.commandStr),E},function(E,w,_){return g.optional(function(){E.assert(w,"typeof "+_+'==="number"&&'+_+">="+H.lineWidthDims[0]+"&&"+_+"<="+H.lineWidthDims[1],"invalid line width")}),_});case Sm:return I(function(E){return g.commandParameter(E,Dm,R,d.commandStr),Dm[E]},function(E,w,_){return g.optional(function(){E.assert(w,_+'==="cw"||'+_+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),w.def(_+'==="cw"?'+xg+":"+Mm)});case _m:return I(function(E){return g.command(tn(E)&&E.length===4,"color.mask must be length 4 array",d.commandStr),E.map(function(w){return!!w})},function(E,w,_){return g.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","invalid color.mask")}),en(4,function(G){return"!!"+_+"["+G+"]"})});case Am:return I(function(E){g.command(typeof E=="object"&&E,R,d.commandStr);var w="value"in E?E.value:1,_=!!E.invert;return g.command(typeof w=="number"&&w>=0&&w<=1,"sample.coverage.value must be a number between 0 and 1",d.commandStr),[w,_]},function(E,w,_){g.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid sample.coverage")});var G=w.def('"value" in ',_,"?+",_,".value:1"),j=w.def("!!",_,".invert");return[G,j]})}}),F}function bt(y,d){var L=y.static,M=y.dynamic,F={};return Object.keys(L).forEach(function(P){var R=L[P],I;if(typeof R=="number"||typeof R=="boolean")I=Sn(function(){return R});else if(typeof R=="function"){var E=R._reglType;E==="texture2d"||E==="textureCube"?I=Sn(function(w){return w.link(R)}):E==="framebuffer"||E==="framebufferCube"?(g.command(R.color.length>0,'missing color attachment for framebuffer sent to uniform "'+P+'"',d.commandStr),I=Sn(function(w){return w.link(R.color[0])})):g.commandRaise('invalid data for uniform "'+P+'"',d.commandStr)}else tn(R)?I=Sn(function(w){var _=w.global.def("[",en(R.length,function(G){return g.command(typeof R[G]=="number"||typeof R[G]=="boolean","invalid uniform "+P,w.commandStr),R[G]}),"]");return _}):g.commandRaise('invalid or missing data for uniform "'+P+'"',d.commandStr);I.value=R,F[P]=I}),Object.keys(M).forEach(function(P){var R=M[P];F[P]=pr(R,function(I,E){return I.invoke(E,R)})}),F}function Ln(y,d){var L=y.static,M=y.dynamic,F={};return Object.keys(L).forEach(function(P){var R=L[P],I=v.id(P),E=new D;if(Ef(R))E.state=gl,E.buffer=ee.getBuffer(ee.create(R,El,!1,!0)),E.type=0;else{var w=ee.getBuffer(R);if(w)E.state=gl,E.buffer=w,E.type=0;else if(g.command(typeof R=="object"&&R,"invalid data for attribute "+P,d.commandStr),"constant"in R){var _=R.constant;E.buffer="null",E.state=mm,typeof _=="number"?E.x=_:(g.command(tn(_)&&_.length>0&&_.length<=4,"invalid constant for attribute "+P,d.commandStr),vl.forEach(function(Qe,Be){Be<_.length&&(E[Qe]=_[Be])}))}else{Ef(R.buffer)?w=ee.getBuffer(ee.create(R.buffer,El,!1,!0)):w=ee.getBuffer(R.buffer),g.command(!!w,'missing buffer for attribute "'+P+'"',d.commandStr);var G=R.offset|0;g.command(G>=0,'invalid offset for attribute "'+P+'"',d.commandStr);var j=R.stride|0;g.command(j>=0&&j<256,'invalid stride for attribute "'+P+'", must be integer betweeen [0, 255]',d.commandStr);var q=R.size|0;g.command(!("size"in R)||q>0&&q<=4,'invalid size for attribute "'+P+'", must be 1,2,3,4',d.commandStr);var ie=!!R.normalized,Se=0;"type"in R&&(g.commandParameter(R.type,oo,"invalid type for attribute "+P,d.commandStr),Se=oo[R.type]);var ot=R.divisor|0;g.optional(function(){"divisor"in R&&(g.command(ot===0||me,'cannot specify divisor for attribute "'+P+'", instancing not supported',d.commandStr),g.command(ot>=0,'invalid divisor for attribute "'+P+'"',d.commandStr));var Qe=d.commandStr,Be=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(R).forEach(function(ae){g.command(Be.indexOf(ae)>=0,'unknown parameter "'+ae+'" for attribute pointer "'+P+'" (valid parameters are '+Be+")",Qe)})}),E.buffer=w,E.state=gl,E.size=q,E.normalized=ie,E.type=Se||w.dtype,E.offset=G,E.stride=j,E.divisor=ot}}F[P]=Sn(function(Qe,Be){var ae=Qe.attribCache;if(I in ae)return ae[I];var K={isStream:!1};return Object.keys(E).forEach(function(Xe){K[Xe]=E[Xe]}),E.buffer&&(K.buffer=Qe.link(E.buffer),K.type=K.type||K.buffer+".dtype"),ae[I]=K,K})}),Object.keys(M).forEach(function(P){var R=M[P];function I(E,w){var _=E.invoke(w,R),G=E.shared,j=E.constants,q=G.isBufferArgs,ie=G.buffer;g.optional(function(){E.assert(w,_+"&&(typeof "+_+'==="object"||typeof '+_+'==="function")&&('+q+"("+_+")||"+ie+".getBuffer("+_+")||"+ie+".getBuffer("+_+".buffer)||"+q+"("+_+'.buffer)||("constant" in '+_+"&&(typeof "+_+'.constant==="number"||'+G.isArrayLike+"("+_+".constant))))",'invalid dynamic attribute "'+P+'"')});var Se={isStream:w.def(!1)},ot=new D;ot.state=gl,Object.keys(ot).forEach(function(K){Se[K]=w.def(""+ot[K])});var Qe=Se.buffer,Be=Se.type;w("if(",q,"(",_,")){",Se.isStream,"=true;",Qe,"=",ie,".createStream(",El,",",_,");",Be,"=",Qe,".dtype;","}else{",Qe,"=",ie,".getBuffer(",_,");","if(",Qe,"){",Be,"=",Qe,".dtype;",'}else if("constant" in ',_,"){",Se.state,"=",mm,";","if(typeof "+_+'.constant === "number"){',Se[vl[0]],"=",_,".constant;",vl.slice(1).map(function(K){return Se[K]}).join("="),"=0;","}else{",vl.map(function(K,Xe){return Se[K]+"="+_+".constant.length>"+Xe+"?"+_+".constant["+Xe+"]:0;"}).join(""),"}}else{","if(",q,"(",_,".buffer)){",Qe,"=",ie,".createStream(",El,",",_,".buffer);","}else{",Qe,"=",ie,".getBuffer(",_,".buffer);","}",Be,'="type" in ',_,"?",j.glTypes,"[",_,".type]:",Qe,".dtype;",Se.normalized,"=!!",_,".normalized;");function ae(K){w(Se[K],"=",_,".",K,"|0;")}return ae("size"),ae("offset"),ae("stride"),ae("divisor"),w("}}"),w.exit("if(",Se.isStream,"){",ie,".destroyStream(",Qe,");","}"),Se}F[P]=pr(R,I)}),F}function nn(y){var d=y.static,L=y.dynamic,M={};return Object.keys(d).forEach(function(F){var P=d[F];M[F]=Sn(function(R,I){return typeof P=="number"||typeof P=="boolean"?""+P:R.link(P)})}),Object.keys(L).forEach(function(F){var P=L[F];M[F]=pr(P,function(R,I){return R.invoke(I,P)})}),M}function wn(y,d,L,M,F){var P=y.static,R=y.dynamic;g.optional(function(){var ae=[ca,Xs,Ys,fa,da,uf,ha,cf,Ws,Qs].concat(qe);function K(Xe){Object.keys(Xe).forEach(function(Ve){g.command(ae.indexOf(Ve)>=0,'unknown parameter "'+Ve+'"',F.commandStr)})}K(P),K(R)});var I=ft(y,d),E=Ne(y),w=rt(y,E,F),_=an(y,F),G=sn(y,F),j=At(y,F,I);function q(ae){var K=w[ae];K&&(G[ae]=K)}q(ji),q(Ge(sf));var ie=Object.keys(G).length>0,Se={framebuffer:E,draw:_,shader:j,state:G,dirty:ie,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Se.profile=Oe(y),Se.uniforms=bt(L,F),Se.drawVAO=Se.scopeVAO=_.vao,!Se.drawVAO&&j.program&&!I&&A.angle_instanced_arrays&&_.static.elements){var ot=!0,Qe=j.program.attributes.map(function(ae){var K=d.static[ae];return ot=ot&&!!K,K});if(ot&&Qe.length>0){var Be=ve.getVAO(ve.createVAO({attributes:Qe,elements:_.static.elements}));Se.drawVAO=new Nn(null,null,null,function(ae,K){return ae.link(Be)}),Se.useVAO=!0}}return I?Se.useVAO=!0:Se.attributes=Ln(d,F),Se.context=nn(M),Se}function Rn(y,d,L){var M=y.shared,F=M.context,P=y.scope();Object.keys(L).forEach(function(R){d.save(F,"."+R);var I=L[R],E=I.append(y,d);Array.isArray(E)?P(F,".",R,"=[",E.join(),"];"):P(F,".",R,"=",E,";")}),d(P)}function On(y,d,L,M){var F=y.shared,P=F.gl,R=F.framebuffer,I;Me&&(I=d.def(F.extensions,".webgl_draw_buffers"));var E=y.constants,w=E.drawBuffer,_=E.backBuffer,G;L?G=L.append(y,d):G=d.def(R,".next"),M||d("if(",G,"!==",R,".cur){"),d("if(",G,"){",P,".bindFramebuffer(",wg,",",G,".framebuffer);"),Me&&d(I,".drawBuffersWEBGL(",w,"[",G,".colorAttachments.length]);"),d("}else{",P,".bindFramebuffer(",wg,",null);"),Me&&d(I,".drawBuffersWEBGL(",_,");"),d("}",R,".cur=",G,";"),M||d("}")}function jn(y,d,L){var M=y.shared,F=M.gl,P=y.current,R=y.next,I=M.current,E=M.next,w=y.cond(I,".dirty");qe.forEach(function(_){var G=Ge(_);if(!(G in L.state)){var j,q;if(G in R){j=R[G],q=P[G];var ie=en(ke[G].length,function(ot){return w.def(j,"[",ot,"]")});w(y.cond(ie.map(function(ot,Qe){return ot+"!=="+q+"["+Qe+"]"}).join("||")).then(F,".",J[G],"(",ie,");",ie.map(function(ot,Qe){return q+"["+Qe+"]="+ot}).join(";"),";"))}else{j=w.def(E,".",G);var Se=y.cond(j,"!==",I,".",G);w(Se),G in re?Se(y.cond(j).then(F,".enable(",re[G],");").else(F,".disable(",re[G],");"),I,".",G,"=",j,";"):Se(F,".",J[G],"(",j,");",I,".",G,"=",j,";")}}}),Object.keys(L.state).length===0&&w(I,".dirty=false;"),d(w)}function Vn(y,d,L,M){var F=y.shared,P=y.current,R=F.current,I=F.gl;Cg(Object.keys(L)).forEach(function(E){var w=L[E];if(!(M&&!M(w))){var _=w.append(y,d);if(re[E]){var G=re[E];vo(w)?_?d(I,".enable(",G,");"):d(I,".disable(",G,");"):d(y.cond(_).then(I,".enable(",G,");").else(I,".disable(",G,");")),d(R,".",E,"=",_,";")}else if(tn(_)){var j=P[E];d(I,".",J[E],"(",_,");",_.map(function(q,ie){return j+"["+ie+"]="+q}).join(";"),";")}else d(I,".",J[E],"(",_,");",R,".",E,"=",_,";")}})}function pn(y,d){me&&(y.instancing=d.def(y.shared.extensions,".angle_instanced_arrays"))}function mt(y,d,L,M,F){var P=y.shared,R=y.stats,I=P.current,E=P.timer,w=L.profile;function _(){return typeof performance>"u"?"Date.now()":"performance.now()"}var G,j;function q(ae){G=d.def(),ae(G,"=",_(),";"),typeof F=="string"?ae(R,".count+=",F,";"):ae(R,".count++;"),de&&(M?(j=d.def(),ae(j,"=",E,".getNumPendingQueries();")):ae(E,".beginQuery(",R,");"))}function ie(ae){ae(R,".cpuTime+=",_(),"-",G,";"),de&&(M?ae(E,".pushScopeStats(",j,",",E,".getNumPendingQueries(),",R,");"):ae(E,".endQuery();"))}function Se(ae){var K=d.def(I,".profile");d(I,".profile=",ae,";"),d.exit(I,".profile=",K,";")}var ot;if(w){if(vo(w)){w.enable?(q(d),ie(d.exit),Se("true")):Se("false");return}ot=w.append(y,d),Se(ot)}else ot=d.def(I,".profile");var Qe=y.block();q(Qe),d("if(",ot,"){",Qe,"}");var Be=y.block();ie(Be),d.exit("if(",ot,"){",Be,"}")}function Hn(y,d,L,M,F){var P=y.shared;function R(E){switch(E){case ff:case mf:case gf:return 2;case df:case pf:case yf:return 3;case hf:case vf:case xf:return 4;default:return 1}}function I(E,w,_){var G=P.gl,j=d.def(E,".location"),q=d.def(P.attributes,"[",j,"]"),ie=_.state,Se=_.buffer,ot=[_.x,_.y,_.z,_.w],Qe=["buffer","normalized","offset","stride"];function Be(){d("if(!",q,".buffer){",G,".enableVertexAttribArray(",j,");}");var K=_.type,Xe;if(_.size?Xe=d.def(_.size,"||",w):Xe=w,d("if(",q,".type!==",K,"||",q,".size!==",Xe,"||",Qe.map(function(it){return q+"."+it+"!=="+_[it]}).join("||"),"){",G,".bindBuffer(",El,",",Se,".buffer);",G,".vertexAttribPointer(",[j,Xe,K,_.normalized,_.stride,_.offset],");",q,".type=",K,";",q,".size=",Xe,";",Qe.map(function(it){return q+"."+it+"="+_[it]+";"}).join(""),"}"),me){var Ve=_.divisor;d("if(",q,".divisor!==",Ve,"){",y.instancing,".vertexAttribDivisorANGLE(",[j,Ve],");",q,".divisor=",Ve,";}")}}function ae(){d("if(",q,".buffer){",G,".disableVertexAttribArray(",j,");",q,".buffer=null;","}if(",vl.map(function(K,Xe){return q+"."+K+"!=="+ot[Xe]}).join("||"),"){",G,".vertexAttrib4f(",j,",",ot,");",vl.map(function(K,Xe){return q+"."+K+"="+ot[Xe]+";"}).join(""),"}")}ie===gl?Be():ie===mm?ae():(d("if(",ie,"===",gl,"){"),Be(),d("}else{"),ae(),d("}"))}M.forEach(function(E){var w=E.name,_=L.attributes[w],G;if(_){if(!F(_))return;G=_.append(y,d)}else{if(!F(bg))return;var j=y.scopeAttrib(w);g.optional(function(){y.assert(d,j+".state","missing attribute "+w)}),G={},Object.keys(new D).forEach(function(q){G[q]=d.def(j,".",q)})}I(y.link(E),R(E.info.type),G)})}function jt(y,d,L,M,F,P){for(var R=y.shared,I=R.gl,E={},w,_=0;_<M.length;++_){var G=M[_],j=G.name,q=G.info.type,ie=G.info.size,Se=L.uniforms[j];if(ie>1){if(!Se)continue;var ot=j.replace("[0]","");if(E[ot])continue;E[ot]=1}var Qe=y.link(G),Be=Qe+".location",ae;if(Se){if(!F(Se))continue;if(vo(Se)){var K=Se.value;if(g.command(K!==null&&typeof K<"u",'missing uniform "'+j+'"',y.commandStr),q===Js||q===eu){g.command(typeof K=="function"&&(q===Js&&(K._reglType==="texture2d"||K._reglType==="framebuffer")||q===eu&&(K._reglType==="textureCube"||K._reglType==="framebufferCube")),"invalid texture for uniform "+j,y.commandStr);var Xe=y.link(K._texture||K.color[0]._texture);d(I,".uniform1i(",Be,",",Xe+".bind());"),d.exit(Xe,".unbind();")}else if(q===Ks||q===qs||q===Zs){g.optional(function(){g.command(tn(K),"invalid matrix for uniform "+j,y.commandStr),g.command(q===Ks&&K.length===4||q===qs&&K.length===9||q===Zs&&K.length===16,"invalid length for matrix uniform "+j,y.commandStr)});var Ve=y.global.def("new Float32Array(["+Array.prototype.slice.call(K)+"])"),it=2;q===qs?it=3:q===Zs&&(it=4),d(I,".uniformMatrix",it,"fv(",Be,",false,",Ve,");")}else{switch(q){case Pm:ie===1?g.commandType(K,"number","uniform "+j,y.commandStr):g.command(tn(K)&&K.length===ie,"uniform "+j,y.commandStr),w="1f";break;case ff:g.command(tn(K)&&K.length&&K.length%2===0&&K.length<=ie*2,"uniform "+j,y.commandStr),w="2f";break;case df:g.command(tn(K)&&K.length&&K.length%3===0&&K.length<=ie*3,"uniform "+j,y.commandStr),w="3f";break;case hf:g.command(tn(K)&&K.length&&K.length%4===0&&K.length<=ie*4,"uniform "+j,y.commandStr),w="4f";break;case Nm:ie===1?g.commandType(K,"boolean","uniform "+j,y.commandStr):g.command(tn(K)&&K.length===ie,"uniform "+j,y.commandStr),w="1i";break;case km:ie===1?g.commandType(K,"number","uniform "+j,y.commandStr):g.command(tn(K)&&K.length===ie,"uniform "+j,y.commandStr),w="1i";break;case gf:g.command(tn(K)&&K.length&&K.length%2===0&&K.length<=ie*2,"uniform "+j,y.commandStr),w="2i";break;case mf:g.command(tn(K)&&K.length&&K.length%2===0&&K.length<=ie*2,"uniform "+j,y.commandStr),w="2i";break;case yf:g.command(tn(K)&&K.length&&K.length%3===0&&K.length<=ie*3,"uniform "+j,y.commandStr),w="3i";break;case pf:g.command(tn(K)&&K.length&&K.length%3===0&&K.length<=ie*3,"uniform "+j,y.commandStr),w="3i";break;case xf:g.command(tn(K)&&K.length&&K.length%4===0&&K.length<=ie*4,"uniform "+j,y.commandStr),w="4i";break;case vf:g.command(tn(K)&&K.length&&K.length%4===0&&K.length<=ie*4,"uniform "+j,y.commandStr),w="4i";break}ie>1?(w+="v",K=y.global.def("["+Array.prototype.slice.call(K)+"]")):K=tn(K)?Array.prototype.slice.call(K):K,d(I,".uniform",w,"(",Be,",",K,");")}continue}else ae=Se.append(y,d)}else{if(!F(bg))continue;ae=d.def(R.uniforms,"[",v.id(j),"]")}q===Js?(g(!Array.isArray(ae),"must specify a scalar prop for textures"),d("if(",ae,"&&",ae,'._reglType==="framebuffer"){',ae,"=",ae,".color[0];","}")):q===eu&&(g(!Array.isArray(ae),"must specify a scalar prop for cube maps"),d("if(",ae,"&&",ae,'._reglType==="framebufferCube"){',ae,"=",ae,".color[0];","}")),g.optional(function(){function Rr(vr,_f){y.assert(d,vr,'bad data or missing for uniform "'+j+'".  '+_f)}function ya(vr,_f){_f===1&&g(!Array.isArray(ae),"must not specify an array type for uniform"),Rr("Array.isArray("+ae+") && typeof "+ae+'[0]===" '+vr+'" || typeof '+ae+'==="'+vr+'"',"invalid type, expected "+vr)}function $r(vr,_f,Sf){Array.isArray(ae)?g(ae.length&&ae.length%vr===0&&ae.length<=vr*Sf,"must have length of "+(Sf===1?"":"n * ")+vr):Rr(R.isArrayLike+"("+ae+")&&"+ae+".length && "+ae+".length % "+vr+" === 0 && "+ae+".length<="+vr*Sf,"invalid vector, should have length of "+(Sf===1?"":"n * ")+vr,y.commandStr)}function Ig(vr){g(!Array.isArray(ae),"must not specify a value type"),Rr("typeof "+ae+'==="function"&&'+ae+'._reglType==="texture'+(vr===yg?"2d":"Cube")+'"',"invalid texture type",y.commandStr)}switch(q){case km:ya("number",ie);break;case mf:$r(2,"number",ie);break;case pf:$r(3,"number",ie);break;case vf:$r(4,"number",ie);break;case Pm:ya("number",ie);break;case ff:$r(2,"number",ie);break;case df:$r(3,"number",ie);break;case hf:$r(4,"number",ie);break;case Nm:ya("boolean",ie);break;case gf:$r(2,"boolean",ie);break;case yf:$r(3,"boolean",ie);break;case xf:$r(4,"boolean",ie);break;case Ks:$r(4,"number",ie);break;case qs:$r(9,"number",ie);break;case Zs:$r(16,"number",ie);break;case Js:Ig(yg);break;case eu:Ig(rS);break}});var Gt=1;switch(q){case Js:case eu:var Wn=d.def(ae,"._texture");d(I,".uniform1i(",Be,",",Wn,".bind());"),d.exit(Wn,".unbind();");continue;case km:case Nm:w="1i";break;case mf:case gf:w="2i",Gt=2;break;case pf:case yf:w="3i",Gt=3;break;case vf:case xf:w="4i",Gt=4;break;case Pm:w="1f";break;case ff:w="2f",Gt=2;break;case df:w="3f",Gt=3;break;case hf:w="4f",Gt=4;break;case Ks:w="Matrix2fv";break;case qs:w="Matrix3fv";break;case Zs:w="Matrix4fv";break}if(w.indexOf("Matrix")===-1&&ie>1&&(w+="v",Gt=1),w.charAt(0)==="M"){d(I,".uniform",w,"(",Be,",");var va=Math.pow(q-Ks+2,2),$i=y.global.def("new Float32Array(",va,")");Array.isArray(ae)?d("false,(",en(va,function(Rr){return $i+"["+Rr+"]="+ae[Rr]}),",",$i,")"):d("false,(Array.isArray(",ae,")||",ae," instanceof Float32Array)?",ae,":(",en(va,function(Rr){return $i+"["+Rr+"]="+ae+"["+Rr+"]"}),",",$i,")"),d(");")}else if(Gt>1){for(var xi=[],go=[],ga=0;ga<Gt;++ga)Array.isArray(ae)?go.push(ae[ga]):go.push(d.def(ae+"["+ga+"]")),P&&xi.push(d.def());P&&d("if(!",y.batchId,"||",xi.map(function(Rr,ya){return Rr+"!=="+go[ya]}).join("||"),"){",xi.map(function(Rr,ya){return Rr+"="+go[ya]+";"}).join("")),d(I,".uniform",w,"(",Be,",",go.join(","),");"),P&&d("}")}else{if(g(!Array.isArray(ae),"uniform value must not be an array"),P){var Ng=d.def();d("if(!",y.batchId,"||",Ng,"!==",ae,"){",Ng,"=",ae,";")}d(I,".uniform",w,"(",Be,",",ae,");"),P&&d("}")}}}function tt(y,d,L,M){var F=y.shared,P=F.gl,R=F.draw,I=M.draw;function E(){var Xe=I.elements,Ve,it=d;return Xe?((Xe.contextDep&&M.contextDynamic||Xe.propDep)&&(it=L),Ve=Xe.append(y,it),I.elementsActive&&it("if("+Ve+")"+P+".bindBuffer("+Om+","+Ve+".buffer.buffer);")):(Ve=it.def(),it(Ve,"=",R,".",fa,";","if(",Ve,"){",P,".bindBuffer(",Om,",",Ve,".buffer.buffer);}","else if(",F.vao,".currentVAO){",Ve,"=",y.shared.elements+".getElements("+F.vao,".currentVAO.elements);",le?"":"if("+Ve+")"+P+".bindBuffer("+Om+","+Ve+".buffer.buffer);","}")),Ve}function w(){var Xe=I.count,Ve,it=d;return Xe?((Xe.contextDep&&M.contextDynamic||Xe.propDep)&&(it=L),Ve=Xe.append(y,it),g.optional(function(){Xe.MISSING&&y.assert(d,"false","missing vertex count"),Xe.DYNAMIC&&y.assert(it,Ve+">=0","missing vertex count")})):(Ve=it.def(R,".",ha),g.optional(function(){y.assert(it,Ve+">=0","missing vertex count")})),Ve}var _=E();function G(Xe){var Ve=I[Xe];return Ve?Ve.contextDep&&M.contextDynamic||Ve.propDep?Ve.append(y,L):Ve.append(y,d):d.def(R,".",Xe)}var j=G(da),q=G(uf),ie=w();if(typeof ie=="number"){if(ie===0)return}else L("if(",ie,"){"),L.exit("}");var Se,ot;me&&(Se=G(cf),ot=y.instancing);var Qe=_+".type",Be=I.elements&&vo(I.elements)&&!I.vaoActive;function ae(){function Xe(){L(ot,".drawElementsInstancedANGLE(",[j,ie,Qe,q+"<<(("+Qe+"-"+qv+")>>1)",Se],");")}function Ve(){L(ot,".drawArraysInstancedANGLE(",[j,q,ie,Se],");")}_&&_!=="null"?Be?Xe():(L("if(",_,"){"),Xe(),L("}else{"),Ve(),L("}")):Ve()}function K(){function Xe(){L(P+".drawElements("+[j,ie,Qe,q+"<<(("+Qe+"-"+qv+")>>1)"]+");")}function Ve(){L(P+".drawArrays("+[j,q,ie]+");")}_&&_!=="null"?Be?Xe():(L("if(",_,"){"),Xe(),L("}else{"),Ve(),L("}")):Ve()}me&&(typeof Se!="number"||Se>=0)?typeof Se=="string"?(L("if(",Se,">0){"),ae(),L("}else if(",Se,"<0){"),K(),L("}")):ae():K()}function Ct(y,d,L,M,F){var P=at(),R=P.proc("body",F);return g.optional(function(){P.commandStr=d.commandStr,P.command=P.link(d.commandStr)}),me&&(P.instancing=R.def(P.shared.extensions,".angle_instanced_arrays")),y(P,R,L,M),P.compile().body}function Pt(y,d,L,M){pn(y,d),L.useVAO?L.drawVAO?d(y.shared.vao,".setVAO(",L.drawVAO.append(y,d),");"):d(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(d(y.shared.vao,".setVAO(null);"),Hn(y,d,L,M.attributes,function(){return!0})),jt(y,d,L,M.uniforms,function(){return!0},!1),tt(y,d,d,L)}function vn(y,d){var L=y.proc("draw",1);pn(y,L),Rn(y,L,d.context),On(y,L,d.framebuffer),jn(y,L,d),Vn(y,L,d.state),mt(y,L,d,!1,!0);var M=d.shader.progVar.append(y,L);if(L(y.shared.gl,".useProgram(",M,".program);"),d.shader.program)Pt(y,L,d,d.shader.program);else{L(y.shared.vao,".setVAO(null);");var F=y.global.def("{}"),P=L.def(M,".id"),R=L.def(F,"[",P,"]");L(y.cond(R).then(R,".call(this,a0);").else(R,"=",F,"[",P,"]=",y.link(function(I){return Ct(Pt,y,d,I,1)}),"(",M,");",R,".call(this,a0);"))}Object.keys(d.state).length>0&&L(y.shared.current,".dirty=true;"),y.shared.vao&&L(y.shared.vao,".setVAO(null);")}function yi(y,d,L,M){y.batchId="a1",pn(y,d);function F(){return!0}Hn(y,d,L,M.attributes,F),jt(y,d,L,M.uniforms,F,!1),tt(y,d,d,L)}function pa(y,d,L,M){pn(y,d);var F=L.contextDep,P=d.def(),R="a0",I="a1",E=d.def();y.shared.props=E,y.batchId=P;var w=y.scope(),_=y.scope();d(w.entry,"for(",P,"=0;",P,"<",I,";++",P,"){",E,"=",R,"[",P,"];",_,"}",w.exit);function G(Qe){return Qe.contextDep&&F||Qe.propDep}function j(Qe){return!G(Qe)}if(L.needsContext&&Rn(y,_,L.context),L.needsFramebuffer&&On(y,_,L.framebuffer),Vn(y,_,L.state,G),L.profile&&G(L.profile)&&mt(y,_,L,!1,!0),M)L.useVAO?L.drawVAO?G(L.drawVAO)?_(y.shared.vao,".setVAO(",L.drawVAO.append(y,_),");"):w(y.shared.vao,".setVAO(",L.drawVAO.append(y,w),");"):w(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(w(y.shared.vao,".setVAO(null);"),Hn(y,w,L,M.attributes,j),Hn(y,_,L,M.attributes,G)),jt(y,w,L,M.uniforms,j,!1),jt(y,_,L,M.uniforms,G,!0),tt(y,w,_,L);else{var q=y.global.def("{}"),ie=L.shader.progVar.append(y,_),Se=_.def(ie,".id"),ot=_.def(q,"[",Se,"]");_(y.shared.gl,".useProgram(",ie,".program);","if(!",ot,"){",ot,"=",q,"[",Se,"]=",y.link(function(Qe){return Ct(yi,y,L,Qe,2)}),"(",ie,");}",ot,".call(this,a0[",P,"],",P,");")}}function S(y,d){var L=y.proc("batch",2);y.batchId="0",pn(y,L);var M=!1,F=!0;Object.keys(d.context).forEach(function(q){M=M||d.context[q].propDep}),M||(Rn(y,L,d.context),F=!1);var P=d.framebuffer,R=!1;P?(P.propDep?M=R=!0:P.contextDep&&M&&(R=!0),R||On(y,L,P)):On(y,L,null),d.state.viewport&&d.state.viewport.propDep&&(M=!0);function I(q){return q.contextDep&&M||q.propDep}jn(y,L,d),Vn(y,L,d.state,function(q){return!I(q)}),(!d.profile||!I(d.profile))&&mt(y,L,d,!1,"a1"),d.contextDep=M,d.needsContext=F,d.needsFramebuffer=R;var E=d.shader.progVar;if(E.contextDep&&M||E.propDep)pa(y,L,d,null);else{var w=E.append(y,L);if(L(y.shared.gl,".useProgram(",w,".program);"),d.shader.program)pa(y,L,d,d.shader.program);else{L(y.shared.vao,".setVAO(null);");var _=y.global.def("{}"),G=L.def(w,".id"),j=L.def(_,"[",G,"]");L(y.cond(j).then(j,".call(this,a0,a1);").else(j,"=",_,"[",G,"]=",y.link(function(q){return Ct(pa,y,d,q,2)}),"(",w,");",j,".call(this,a0,a1);"))}}Object.keys(d.state).length>0&&L(y.shared.current,".dirty=true;"),y.shared.vao&&L(y.shared.vao,".setVAO(null);")}function W(y,d){var L=y.proc("scope",3);y.batchId="a2";var M=y.shared,F=M.current;Rn(y,L,d.context),d.framebuffer&&d.framebuffer.append(y,L),Cg(Object.keys(d.state)).forEach(function(R){var I=d.state[R],E=I.append(y,L);tn(E)?E.forEach(function(w,_){L.set(y.next[R],"["+_+"]",w)}):L.set(M.next,"."+R,E)}),mt(y,L,d,!0,!0),[fa,uf,ha,cf,da].forEach(function(R){var I=d.draw[R];I&&L.set(M.draw,"."+R,""+I.append(y,L))}),Object.keys(d.uniforms).forEach(function(R){var I=d.uniforms[R].append(y,L);Array.isArray(I)&&(I="["+I.join()+"]"),L.set(M.uniforms,"["+v.id(R)+"]",I)}),Object.keys(d.attributes).forEach(function(R){var I=d.attributes[R].append(y,L),E=y.scopeAttrib(R);Object.keys(new D).forEach(function(w){L.set(E,"."+w,I[w])})}),d.scopeVAO&&L.set(M.vao,".targetVAO",d.scopeVAO.append(y,L));function P(R){var I=d.shader[R];I&&L.set(M.shader,"."+R,I.append(y,L))}P(Xs),P(Ys),Object.keys(d.state).length>0&&(L(F,".dirty=true;"),L.exit(F,".dirty=true;")),L("a1(",y.shared.context,",a0,",y.batchId,");")}function z(y){if(!(typeof y!="object"||tn(y))){for(var d=Object.keys(y),L=0;L<d.length;++L)if(Rt.isDynamic(y[d[L]]))return!0;return!1}}function je(y,d,L){var M=d.static[L];if(!M||!z(M))return;var F=y.global,P=Object.keys(M),R=!1,I=!1,E=!1,w=y.global.def("{}");P.forEach(function(G){var j=M[G];if(Rt.isDynamic(j)){typeof j=="function"&&(j=M[G]=Rt.unbox(j));var q=pr(j,null);R=R||q.thisDep,E=E||q.propDep,I=I||q.contextDep}else{switch(F(w,".",G,"="),typeof j){case"number":F(j);break;case"string":F('"',j,'"');break;case"object":Array.isArray(j)&&F("[",j.join(),"]");break;default:F(y.link(j));break}F(";")}});function _(G,j){P.forEach(function(q){var ie=M[q];if(Rt.isDynamic(ie)){var Se=G.invoke(j,ie);j(w,".",q,"=",Se,";")}})}d.dynamic[L]=new Rt.DynamicVariable(lf,{thisDep:R,contextDep:I,propDep:E,ref:w,append:_}),delete d.static[L]}function Et(y,d,L,M,F){var P=at();P.stats=P.link(F),Object.keys(d.static).forEach(function(I){je(P,d,I)}),eS.forEach(function(I){je(P,y,I)});var R=wn(y,d,L,M,P);return vn(P,R),W(P,R),S(P,R),r(P.compile(),{destroy:function(){R.shader.program.destroy()}})}return{next:Re,current:ke,procs:function(){var y=at(),d=y.proc("poll"),L=y.proc("refresh"),M=y.block();d(M),L(M);var F=y.shared,P=F.gl,R=F.next,I=F.current;M(I,".dirty=false;"),On(y,d),On(y,L,null,!0);var E;me&&(E=y.link(me)),A.oes_vertex_array_object&&L(y.link(A.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var w=0;w<H.maxAttributes;++w){var _=L.def(F.attributes,"[",w,"]"),G=y.cond(_,".buffer");G.then(P,".enableVertexAttribArray(",w,");",P,".bindBuffer(",El,",",_,".buffer.buffer);",P,".vertexAttribPointer(",w,",",_,".size,",_,".type,",_,".normalized,",_,".stride,",_,".offset);").else(P,".disableVertexAttribArray(",w,");",P,".vertexAttrib4f(",w,",",_,".x,",_,".y,",_,".z,",_,".w);",_,".buffer=null;"),L(G),me&&L(E,".vertexAttribDivisorANGLE(",w,",",_,".divisor);")}return L(y.shared.vao,".currentVAO=null;",y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"),Object.keys(re).forEach(function(j){var q=re[j],ie=M.def(R,".",j),Se=y.block();Se("if(",ie,"){",P,".enable(",q,")}else{",P,".disable(",q,")}",I,".",j,"=",ie,";"),L(Se),d("if(",ie,"!==",I,".",j,"){",Se,"}")}),Object.keys(J).forEach(function(j){var q=J[j],ie=ke[j],Se,ot,Qe=y.block();if(Qe(P,".",q,"("),tn(ie)){var Be=ie.length;Se=y.global.def(R,".",j),ot=y.global.def(I,".",j),Qe(en(Be,function(ae){return Se+"["+ae+"]"}),");",en(Be,function(ae){return ot+"["+ae+"]="+Se+"["+ae+"];"}).join("")),d("if(",en(Be,function(ae){return Se+"["+ae+"]!=="+ot+"["+ae+"]"}).join("||"),"){",Qe,"}")}else Se=M.def(R,".",j),ot=M.def(I,".",j),Qe(Se,");",I,".",j,"=",Se,";"),d("if(",Se,"!==",ot,"){",Qe,"}");L(Qe)}),y.compile()}(),compile:Et}}function xS(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ES=34918,_S=34919,Lg=35007,SS=function(c,v){if(!v.ext_disjoint_timer_query)return null;var A=[];function H(){return A.pop()||v.ext_disjoint_timer_query.createQueryEXT()}function ee(me){A.push(me)}var V=[];function Q(me){var Me=H();v.ext_disjoint_timer_query.beginQueryEXT(Lg,Me),V.push(Me),de(V.length-1,V.length,me)}function fe(){v.ext_disjoint_timer_query.endQueryEXT(Lg)}function ce(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ve=[];function ye(){return ve.pop()||new ce}function ge(me){ve.push(me)}var we=[];function de(me,Me,le){var ke=ye();ke.startQueryIndex=me,ke.endQueryIndex=Me,ke.sum=0,ke.stats=le,we.push(ke)}var pe=[],D=[];function X(){var me,Me,le=V.length;if(le!==0){D.length=Math.max(D.length,le+1),pe.length=Math.max(pe.length,le+1),pe[0]=0,D[0]=0;var ke=0;for(me=0,Me=0;Me<V.length;++Me){var Re=V[Me];v.ext_disjoint_timer_query.getQueryObjectEXT(Re,_S)?(ke+=v.ext_disjoint_timer_query.getQueryObjectEXT(Re,ES),ee(Re)):V[me++]=Re,pe[Me+1]=ke,D[Me+1]=me}for(V.length=me,me=0,Me=0;Me<we.length;++Me){var qe=we[Me],re=qe.startQueryIndex,J=qe.endQueryIndex;qe.sum+=pe[J]-pe[re];var Ge=D[re],Ce=D[J];Ce===Ge?(qe.stats.gpuTime+=qe.sum/1e6,ge(qe)):(qe.startQueryIndex=Ge,qe.endQueryIndex=Ce,we[me++]=qe)}we.length=me}}return{beginQuery:Q,endQuery:fe,pushScopeStats:de,update:X,getNumPendingQueries:function(){return V.length},clear:function(){A.push.apply(A,V);for(var me=0;me<A.length;me++)v.ext_disjoint_timer_query.deleteQueryEXT(A[me]);V.length=0,A.length=0},restore:function(){V.length=0,A.length=0}}},wS=16384,TS=256,AS=1024,CS=34962,Rg="webglcontextlost",Og="webglcontextrestored",Pg=1,bS=2,LS=3;function kg(c,v){for(var A=0;A<c.length;++A)if(c[A]===v)return A;return-1}function RS(c){var v=Un(c);if(!v)return null;var A=v.gl,H=A.getContextAttributes(),ee=A.isContextLost(),V=wr(A,v);if(!V)return null;var Q=Qn(),fe=xS(),ce=V.extensions,ve=SS(A,ce),ye=dn(),ge=A.drawingBufferWidth,we=A.drawingBufferHeight,de={tick:0,time:0,viewportWidth:ge,viewportHeight:we,framebufferWidth:ge,framebufferHeight:we,drawingBufferWidth:ge,drawingBufferHeight:we,pixelRatio:v.pixelRatio},pe={},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},X=oc(A,ce),me=xs(A,fe,v,ke),Me=Ts(A,ce,me,fe),le=Ae(A,ce,X,fe,me,Me,D);function ke(tt){return le.destroyBuffer(tt)}var Re=Mt(A,Q,fe,v),qe=Kh(A,ce,X,function(){Ge.procs.poll()},de,fe,v),re=qh(A,ce,X,fe,v),J=dm(A,ce,X,qe,re,fe),Ge=yS(A,Q,ce,X,me,Me,qe,J,pe,le,Re,D,de,ve,v),Ce=K_(A,J,Ge.procs.poll,de,H,ce,X),he=Ge.next,be=A.canvas,Le=[],ct=[],at=[],Oe=[v.onDestroy],Ne=null;function rt(){if(Le.length===0){ve&&ve.update(),Ne=null;return}Ne=mn.next(rt),Vn();for(var tt=Le.length-1;tt>=0;--tt){var Ct=Le[tt];Ct&&Ct(de,null,0)}A.flush(),ve&&ve.update()}function ft(){!Ne&&Le.length>0&&(Ne=mn.next(rt))}function At(){Ne&&(mn.cancel(rt),Ne=null)}function an(tt){tt.preventDefault(),ee=!0,At(),ct.forEach(function(Ct){Ct()})}function sn(tt){A.getError(),ee=!1,V.restore(),Re.restore(),me.restore(),qe.restore(),re.restore(),J.restore(),le.restore(),ve&&ve.restore(),Ge.procs.refresh(),ft(),at.forEach(function(Ct){Ct()})}be&&(be.addEventListener(Rg,an,!1),be.addEventListener(Og,sn,!1));function bt(){Le.length=0,At(),be&&(be.removeEventListener(Rg,an),be.removeEventListener(Og,sn)),Re.clear(),J.clear(),re.clear(),le.clear(),qe.clear(),Me.clear(),me.clear(),ve&&ve.clear(),Oe.forEach(function(tt){tt()})}function Ln(tt){g(!!tt,"invalid args to regl({...})"),g.type(tt,"object","invalid args to regl({...})");function Ct(F){var P=r({},F);delete P.uniforms,delete P.attributes,delete P.context,delete P.vao,"stencil"in P&&P.stencil.op&&(P.stencil.opBack=P.stencil.opFront=P.stencil.op,delete P.stencil.op);function R(I){if(I in P){var E=P[I];delete P[I],Object.keys(E).forEach(function(w){P[I+"."+w]=E[w]})}}return R("blend"),R("depth"),R("cull"),R("stencil"),R("polygonOffset"),R("scissor"),R("sample"),"vao"in F&&(P.vao=F.vao),P}function Pt(F,P){var R={},I={};return Object.keys(F).forEach(function(E){var w=F[E];if(Rt.isDynamic(w)){I[E]=Rt.unbox(w,E);return}else if(P&&Array.isArray(w)){for(var _=0;_<w.length;++_)if(Rt.isDynamic(w[_])){I[E]=Rt.unbox(w,E);return}}R[E]=w}),{dynamic:I,static:R}}var vn=Pt(tt.context||{},!0),yi=Pt(tt.uniforms||{},!0),pa=Pt(tt.attributes||{},!1),S=Pt(Ct(tt),!1),W={gpuTime:0,cpuTime:0,count:0},z=Ge.compile(S,pa,yi,vn,W),je=z.draw,Et=z.batch,y=z.scope,d=[];function L(F){for(;d.length<F;)d.push(null);return d}function M(F,P){var R;if(ee&&g.raise("context lost"),typeof F=="function")return y.call(this,null,F,0);if(typeof P=="function")if(typeof F=="number")for(R=0;R<F;++R)y.call(this,null,P,R);else if(Array.isArray(F))for(R=0;R<F.length;++R)y.call(this,F[R],P,R);else return y.call(this,F,P,0);else if(typeof F=="number"){if(F>0)return Et.call(this,L(F|0),F|0)}else if(Array.isArray(F)){if(F.length)return Et.call(this,F,F.length)}else return je.call(this,F)}return r(M,{stats:W,destroy:function(){z.destroy()}})}var nn=J.setFBO=Ln({framebuffer:Rt.define.call(null,Pg,"framebuffer")});function wn(tt,Ct){var Pt=0;Ge.procs.poll();var vn=Ct.color;vn&&(A.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),Pt|=wS),"depth"in Ct&&(A.clearDepth(+Ct.depth),Pt|=TS),"stencil"in Ct&&(A.clearStencil(Ct.stencil|0),Pt|=AS),g(!!Pt,"called regl.clear with no buffer specified"),A.clear(Pt)}function Rn(tt){if(g(typeof tt=="object"&&tt,"regl.clear() takes an object as input"),"framebuffer"in tt)if(tt.framebuffer&&tt.framebuffer_reglType==="framebufferCube")for(var Ct=0;Ct<6;++Ct)nn(r({framebuffer:tt.framebuffer.faces[Ct]},tt),wn);else nn(tt,wn);else wn(null,tt)}function On(tt){g.type(tt,"function","regl.frame() callback must be a function"),Le.push(tt);function Ct(){var Pt=kg(Le,tt);g(Pt>=0,"cannot cancel a frame twice");function vn(){var yi=kg(Le,vn);Le[yi]=Le[Le.length-1],Le.length-=1,Le.length<=0&&At()}Le[Pt]=vn}return ft(),{cancel:Ct}}function jn(){var tt=he.viewport,Ct=he.scissor_box;tt[0]=tt[1]=Ct[0]=Ct[1]=0,de.viewportWidth=de.framebufferWidth=de.drawingBufferWidth=tt[2]=Ct[2]=A.drawingBufferWidth,de.viewportHeight=de.framebufferHeight=de.drawingBufferHeight=tt[3]=Ct[3]=A.drawingBufferHeight}function Vn(){de.tick+=1,de.time=mt(),jn(),Ge.procs.poll()}function pn(){qe.refresh(),jn(),Ge.procs.refresh(),ve&&ve.update()}function mt(){return(dn()-ye)/1e3}pn();function Hn(tt,Ct){g.type(Ct,"function","listener callback must be a function");var Pt;switch(tt){case"frame":return On(Ct);case"lost":Pt=ct;break;case"restore":Pt=at;break;case"destroy":Pt=Oe;break;default:g.raise("invalid event, must be one of frame,lost,restore,destroy")}return Pt.push(Ct),{cancel:function(){for(var vn=0;vn<Pt.length;++vn)if(Pt[vn]===Ct){Pt[vn]=Pt[Pt.length-1],Pt.pop();return}}}}var jt=r(Ln,{clear:Rn,prop:Rt.define.bind(null,Pg),context:Rt.define.bind(null,bS),this:Rt.define.bind(null,LS),draw:Ln({}),buffer:function(tt){return me.create(tt,CS,!1,!1)},elements:function(tt){return Me.create(tt,!1)},texture:qe.create2D,cube:qe.createCube,renderbuffer:re.create,framebuffer:J.create,framebufferCube:J.createCube,vao:le.createVAO,attributes:H,frame:On,on:Hn,limits:X,hasExtension:function(tt){return X.extensions.indexOf(tt.toLowerCase())>=0},read:Ce,destroy:bt,_gl:A,_refresh:pn,poll:function(){Vn(),ve&&ve.update()},now:mt,stats:fe});return v.onDone(null,jt),jt}return RS})})(x_);var d2=x_.exports;const h2=D0(d2);var m2=1e-6,Ia=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function cp(){var e=new Ia(16);return Ia!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Jy(e){var t=new Ia(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function L0(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],f=t[7],m=t[8],h=t[9],p=t[10],O=t[11],b=t[12],k=t[13],B=t[14],x=t[15],T=n*l-r*a,C=n*u-i*a,U=n*f-o*a,Y=r*u-i*l,ne=r*f-o*l,Te=i*f-o*u,ue=m*k-h*b,st=m*B-p*b,We=m*x-O*b,ze=h*B-p*k,Je=h*x-O*k,et=p*x-O*B,$e=T*et-C*Je+U*ze+Y*We-ne*st+Te*ue;return $e?($e=1/$e,e[0]=(l*et-u*Je+f*ze)*$e,e[1]=(i*Je-r*et-o*ze)*$e,e[2]=(k*Te-B*ne+x*Y)*$e,e[3]=(p*ne-h*Te-O*Y)*$e,e[4]=(u*We-a*et-f*st)*$e,e[5]=(n*et-i*We+o*st)*$e,e[6]=(B*U-b*Te-x*C)*$e,e[7]=(m*Te-p*U+O*C)*$e,e[8]=(a*Je-l*We+f*ue)*$e,e[9]=(r*We-n*Je-o*ue)*$e,e[10]=(b*ne-k*U+x*T)*$e,e[11]=(h*U-m*ne-O*T)*$e,e[12]=(l*st-a*ze-u*ue)*$e,e[13]=(n*ze-r*st+i*ue)*$e,e[14]=(k*C-b*Y-B*T)*$e,e[15]=(m*Y-h*C+p*T)*$e,e):null}function sr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],m=t[7],h=t[8],p=t[9],O=t[10],b=t[11],k=t[12],B=t[13],x=t[14],T=t[15],C=n[0],U=n[1],Y=n[2],ne=n[3];return e[0]=C*r+U*l+Y*h+ne*k,e[1]=C*i+U*u+Y*p+ne*B,e[2]=C*o+U*f+Y*O+ne*x,e[3]=C*a+U*m+Y*b+ne*T,C=n[4],U=n[5],Y=n[6],ne=n[7],e[4]=C*r+U*l+Y*h+ne*k,e[5]=C*i+U*u+Y*p+ne*B,e[6]=C*o+U*f+Y*O+ne*x,e[7]=C*a+U*m+Y*b+ne*T,C=n[8],U=n[9],Y=n[10],ne=n[11],e[8]=C*r+U*l+Y*h+ne*k,e[9]=C*i+U*u+Y*p+ne*B,e[10]=C*o+U*f+Y*O+ne*x,e[11]=C*a+U*m+Y*b+ne*T,C=n[12],U=n[13],Y=n[14],ne=n[15],e[12]=C*r+U*l+Y*h+ne*k,e[13]=C*i+U*u+Y*p+ne*B,e[14]=C*o+U*f+Y*O+ne*x,e[15]=C*a+U*m+Y*b+ne*T,e}function e1(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ad(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p2(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,u,f;return a<m2?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),u=Math.cos(t),f=1-u,e[0]=r*r*f+u,e[1]=i*r*f+o*l,e[2]=o*r*f-i*l,e[3]=0,e[4]=r*i*f-o*l,e[5]=i*i*f+u,e[6]=o*i*f+r*l,e[7]=0,e[8]=r*o*f+i*l,e[9]=i*o*f-r*l,e[10]=o*o*f+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function v2(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function g2(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],u=t[8],f=t[9],m=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(u,f,m),e}function y2(){var e=new Ia(4);return Ia!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ld(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=y2();return function(t,n,r,i,o,a){var l,u;for(n||(n=4),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function x2(){var e=new Ia(2);return Ia!=Float32Array&&(e[0]=0,e[1]=0),e}function E2(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=x2();return function(t,n,r,i,o,a){var l,u;for(n||(n=2),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const _2=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),u=new Float32Array(16);let f=cp(),m=[...r.slice(0,2),0,1];const h=Array.isArray(i[0])?[...i[0]]:[...i],p=Array.isArray(i[0])?[...i[1]]:[...i],O=Array.isArray(o[0])?[...o[0]]:[...o],b=Array.isArray(o[0])?[...o[1]]:[...o],k=()=>g2(a,f).slice(0,2),B=()=>{const _e=k();return Math.min(_e[0],_e[1])},x=()=>{const _e=k();return Math.max(_e[0],_e[1])},T=()=>Math.acos(f[0]/x()),C=()=>[[...h],[...p]],U=()=>[[...O],[...b]],Y=()=>{const _e=k();return[1/_e[0],1/_e[1]]},ne=()=>1/B(),Te=()=>1/x(),ue=()=>v2(a,f).slice(0,2),st=()=>ld(a,m,L0(u,f)).slice(0,2),We=()=>f,ze=()=>m.slice(0,2),Je=([_e=0,nt=0]=[],ht=1,Ft=0)=>{f=cp(),et([-_e,-nt]),zt(Ft),$e(1/ht)},et=([_e=0,nt=0]=[])=>{a[0]=_e,a[1]=nt,a[2]=0;const ht=e1(l,a);sr(f,ht,f)},$e=(_e,nt)=>{const ht=Array.isArray(_e);let Ft=ht?_e[0]:_e,Qt=ht?_e[1]:_e;if(Ft<=0||Qt<=0||Ft===1&&Qt===1)return;const Nt=k(),Xt=Nt[0]*Ft,It=Nt[1]*Qt;if(Ft=Math.max(h[0],Math.min(Xt,h[1]))/Nt[0],Qt=Math.max(p[0],Math.min(It,p[1]))/Nt[1],Ft===1&&Qt===1)return;a[0]=Ft,a[1]=Qt,a[2]=1;const Kt=ad(l,a),zn=nt?[...nt,0]:m,fn=e1(a,zn);sr(f,fn,sr(f,Kt,sr(f,L0(u,fn),f)))},zt=_e=>{const nt=cp();p2(nt,_e,[0,0,1]),sr(f,nt,f)},_t=_e=>{const nt=Array.isArray(_e[0]);h[0]=nt?_e[0][0]:_e[0],h[1]=nt?_e[0][1]:_e[1],p[0]=nt?_e[1][0]:_e[0],p[1]=nt?_e[1][1]:_e[1]},yt=_e=>{const nt=Array.isArray(_e[0]);O[0]=nt?_e[0][0]:_e[0],O[1]=nt?_e[0][1]:_e[1],b[0]=nt?_e[1][0]:_e[0],b[1]=nt?_e[1][1]:_e[1]},xe=_e=>{!_e||_e.length<16||(f=_e)},Ee=_e=>{m=[..._e.slice(0,2),0,1]},Ue=()=>{Je(e,t,n)};return Je(e,t,n),{get translation(){return ue()},get target(){return st()},get scaling(){return k()},get minScaling(){return B()},get maxScaling(){return x()},get scaleBounds(){return C()},get translationBounds(){return U()},get distance(){return Y()},get minDistance(){return ne()},get maxDistance(){return Te()},get rotation(){return T()},get view(){return We()},get viewCenter(){return ze()},lookAt:Je,translate:et,pan:et,rotate:zt,scale:$e,zoom:$e,reset:Ue,set:(..._e)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),xe(..._e)),setScaleBounds:_t,setTranslationBounds:yt,setView:xe,setViewCenter:Ee}},S2=["pan","rotate"],t1={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},w2=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:u=1,isRotate:f=!0,rotateSpeed:m=1,defaultMouseDownMoveAction:h="pan",mouseDownMoveModKey:p="alt",isZoom:O=!0,zoomSpeed:b=1,viewCenter:k,scaleBounds:B,translationBounds:x,onKeyDown:T=()=>{},onKeyUp:C=()=>{},onMouseDown:U=()=>{},onMouseUp:Y=()=>{},onMouseMove:ne=()=>{},onWheel:Te=()=>{}}={})=>{let ue=_2(n,t,r,k,B,x),st=0,We=0,ze=0,Je=0,et=0,$e=0,zt=!1,_t=0,yt=1,xe=1,Ee=1,Ue=!1,_e=!1,nt=!1,ht=h==="pan",Ft=a,Qt=a,Nt=l,Xt=l,It=O,Kt=O;const zn=()=>{Ft=Array.isArray(a)?!!a[0]:a,Qt=Array.isArray(a)?!!a[1]:a,Nt=Array.isArray(l)?!!l[0]:l,Xt=Array.isArray(l)?!!l[1]:l,It=Array.isArray(O)?!!O[0]:O,Kt=Array.isArray(O)?!!O[1]:O};zn();const fn=i?De=>De/yt*2*Ee:De=>De,Ht=i?De=>De/xe*2:De=>-De,qt=i?De=>(-1+De/yt*2)*Ee:De=>De,pt=i?De=>1-De/xe*2:De=>De,St=()=>{if(o){const lt=_e;return _e=!1,lt}Ue=!1;const De=st,Lt=We;if((Ft||Qt)&&zt&&(ht&&!nt||!ht&&nt)){const lt=Nt?et-De:De-et,on=Ft?fn(u*lt):0,rn=Xt?$e-Lt:Lt-$e,Rt=Qt?Ht(u*rn):0;(on!==0||Rt!==0)&&(ue.pan([on,Rt]),Ue=!0)}if((It||Kt)&&_t){const lt=b*Math.exp(_t/xe),on=qt(ze),rn=pt(Je);ue.scale([It?1/lt:1,Kt?1/lt:1],[on,rn]),Ue=!0}if(f&&zt&&(ht&&nt||!ht&&!nt)&&Math.abs(et-De)+Math.abs($e-Lt)>0){const lt=yt/2,on=xe/2,rn=et-lt,Rt=on-$e,mn=De-lt,dn=on-Lt,Qn=E2([rn,Rt],[mn,dn]),dr=rn*dn-mn*Rt;ue.rotate(m*Qn*Math.sign(dr)),Ue=!0}_t=0,et=De,$e=Lt;const Ke=Ue||_e;return _e=!1,Ke},Ot=({defaultMouseDownMoveAction:De=null,isFixed:Lt=null,isPan:Ke=null,isPanInverted:lt=null,isRotate:on=null,isZoom:rn=null,panSpeed:Rt=null,rotateSpeed:mn=null,zoomSpeed:dn=null,mouseDownMoveModKey:Qn=null}={})=>{h=De!==null&&S2.includes(De)?De:h,ht=h==="pan",o=Lt!==null?Lt:o,a=Ke!==null?Ke:a,l=lt!==null?lt:l,f=on!==null?on:f,O=rn!==null?rn:O,u=+Rt>0?Rt:u,m=+mn>0?mn:m,b=+dn>0?dn:b,zn(),p=Qn!==null&&Object.keys(t1).includes(Qn)?Qn:p},ut=()=>{const De=e.getBoundingClientRect();yt=De.width,xe=De.height,Ee=yt/xe},wt=De=>{nt=!1,C(De)},Ut=De=>{nt=De[t1[p]],T(De)},Yt=De=>{zt=!1,Y(De)},Dn=De=>{zt=De.buttons===1,U(De)},g=document.createEvent("MouseEvent").offsetX!==void 0?De=>{ze=De.offsetX,Je=De.offsetY}:De=>{const Lt=e.getBoundingClientRect();ze=De.clientX-Lt.left,Je=De.clientY-Lt.top},vt=De=>{st=De.clientX,We=De.clientY},kt=De=>{vt(De),ne(De)},Ie=De=>{if(It||Kt){De.preventDefault(),vt(De),g(De);const Lt=De.deltaMode===1?12:1;_t+=Lt*(De.deltaY||De.deltaX||0)}Te(De)},Zt=()=>{ue=void 0,window.removeEventListener("keydown",Ut),window.removeEventListener("keyup",wt),e.removeEventListener("mousedown",Dn),window.removeEventListener("mouseup",Yt),window.removeEventListener("mousemove",kt),e.removeEventListener("wheel",Ie)};window.addEventListener("keydown",Ut,{passive:!0}),window.addEventListener("keyup",wt,{passive:!0}),e.addEventListener("mousedown",Dn,{passive:!0}),window.addEventListener("mouseup",Yt,{passive:!0}),window.addEventListener("mousemove",kt,{passive:!0}),e.addEventListener("wheel",Ie,{passive:!1}),ue.config=Ot,ue.dispose=Zt,ue.refresh=ut,ue.tick=St;const Tt=De=>function(){De.apply(null,arguments),_e=!0};return ue.lookAt=Tt(ue.lookAt),ue.translate=Tt(ue.translate),ue.pan=Tt(ue.pan),ue.rotate=Tt(ue.rotate),ue.scale=Tt(ue.scale),ue.zoom=Tt(ue.zoom),ue.reset=Tt(ue.reset),ue.set=Tt(ue.set),ue.setScaleBounds=Tt(ue.setScaleBounds),ue.setTranslationBounds=Tt(ue.setTranslationBounds),ue.setView=Tt(ue.setView),ue.setViewCenter=Tt(ue.setViewCenter),ut(),ue};function R0(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;E_(e,t,a,r,i,o%2),R0(e,t,n,r,a-1,o+1),R0(e,t,n,a+1,i,o+1)}function E_(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const f=i-r+1,m=n-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),O=.5*Math.sqrt(h*p*(f-p)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(n-m*p/f+O)),k=Math.min(i,Math.floor(n+(f-m)*p/f+O));E_(e,t,n,b,k,o)}const a=t[2*n+o];let l=r,u=i;for(cu(e,t,r,n),t[2*i+o]>a&&cu(e,t,r,i);l<u;){for(cu(e,t,l,u),l++,u--;t[2*l+o]<a;)l++;for(;t[2*u+o]>a;)u--}t[2*r+o]===a?cu(e,t,r,u):(u++,cu(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function cu(e,t,n,r){fp(e,n,r),fp(t,2*n,2*r),fp(t,2*n+1,2*r+1)}function fp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function T2(e,t,n,r,i,o,a){const l=[0,e.length-1,0],u=[];let f,m;for(;l.length;){const h=l.pop(),p=l.pop(),O=l.pop();if(p-O<=a){for(let B=O;B<=p;B++)f=t[2*B],m=t[2*B+1],f>=n&&f<=i&&m>=r&&m<=o&&u.push(e[B]);continue}const b=Math.floor((O+p)/2);f=t[2*b],m=t[2*b+1],f>=n&&f<=i&&m>=r&&m<=o&&u.push(e[b]);const k=(h+1)%2;(h===0?n<=f:r<=m)&&(l.push(O),l.push(b-1),l.push(k)),(h===0?i>=f:o>=m)&&(l.push(b+1),l.push(p),l.push(k))}return u}function A2(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],u=i*i;for(;a.length;){const f=a.pop(),m=a.pop(),h=a.pop();if(m-h<=o){for(let B=h;B<=m;B++)n1(t[2*B],t[2*B+1],n,r)<=u&&l.push(e[B]);continue}const p=Math.floor((h+m)/2),O=t[2*p],b=t[2*p+1];n1(O,b,n,r)<=u&&l.push(e[p]);const k=(f+1)%2;(f===0?n-i<=O:r-i<=b)&&(a.push(h),a.push(p-1),a.push(k)),(f===0?n+i>=O:r+i>=b)&&(a.push(p+1),a.push(m),a.push(k))}return l}function n1(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const C2=e=>e[0],b2=e=>e[1];class L2{constructor(t,n=C2,r=b2,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),u=this.coords=new o(t.length*2);for(let f=0;f<t.length;f++)l[f]=f,u[2*f]=n(t[f]),u[2*f+1]=r(t[f]);R0(l,u,i,0,l.length-1,0)}range(t,n,r,i){return T2(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return A2(this.ids,this.coords,t,n,r,this.nodeSize)}}const R2=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var O2=R2;const P2=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var k2=P2;const{push:r1,splice:N2}=Array.prototype,dp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ar=Float32Array.BYTES_PER_ELEMENT,I2=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,u=o+3;t.push(o,a,l,l,a,u)}n+=(r+2)*2}),t},Or={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let u=0;u<t;u++){const f=e[l+u];i[u]=f,i[u+t]=f*n}r1.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return N2.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const u=a*t;for(let f=0;f<t;f++)o[f]=e[u+f];r1.apply(i,o)}return i}},M2=(e,{projection:t=dp,model:n=dp,view:r=dp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:u=[],width:f=1,widths:m=[],miter:h=1,is2d:p=!1,zPos2d:O=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const b=new Float32Array(16);let k,B,x,T,C,U,Y,ne,Te,ue,st,We,ze,Je,et,$e,zt,_t,yt=p?2:3;const xe=()=>+(u.length===B||l!==null),Ee=()=>{ue=e.buffer(),st=e.buffer(),We=e.buffer(),et=e.buffer(),$e={prevPosition:{buffer:()=>ue,offset:0,stride:ar*3},currPosition:{buffer:()=>ue,offset:ar*3*2,stride:ar*3},nextPosition:{buffer:()=>ue,offset:ar*3*4,stride:ar*3},opacity:{buffer:()=>st,offset:ar*2,stride:ar},offsetScale:{buffer:()=>We,offset:ar*2,stride:ar},colorIndex:{buffer:()=>et,offset:ar*2,stride:ar}},zt=e.elements(),_t=e({attributes:$e,depth:{enable:!p},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(pt,St)=>{const Ot=pt.projection||St.projection,ut=pt.model||St.model,wt=pt.view||St.view;return sr(b,Ot,sr(b,wt,ut))},aspectRatio:({viewportWidth:pt,viewportHeight:St})=>pt/St,colorTex:()=>ze,colorTexRes:()=>Je,colorTexEps:()=>.5/Je,pixelRatio:({pixelRatio:pt})=>pt,width:({pixelRatio:pt,viewportHeight:St})=>f/St*pt,useOpacity:xe,useColorOpacity:()=>+!xe(),miter:h},elements:()=>zt,vert:k2,frag:O2})},Ue=()=>{k===1&&i.length%yt>0&&console.warn(`The length of points (${B}) does not match the dimensions (${yt}). Incomplete points are ignored.`),T=i.flat().slice(0,B*yt),p&&(T=Or.increaseStride(T,2,3,O)),o.length!==B&&(o=new Array(B).fill(0)),m.length!==B&&(m=new Array(B).fill(1));let pt=o.slice(),St=u.length===B?u.slice():new Array(B).fill(+l),Ot=m.slice(),ut=0;x.forEach(wt=>{const Ut=ut+wt-1;Or.copyElement(T,Ut,Ut,3),Or.copyElement(T,ut,ut,3),Or.copyElement(pt,Ut,Ut,1),Or.copyElement(pt,ut,ut,1),Or.copyElement(St,Ut,Ut,1),Or.copyElement(St,ut,ut,1),Or.copyElement(Ot,Ut,Ut,1),Or.copyElement(Ot,ut,ut,1),ut+=wt+2}),C=new Float32Array(Or.duplicate(T,3)),U=Or.duplicate(pt),Y=Or.duplicate(St),ne=Or.duplicate(Ot,1,-1),Te=I2(x),ue({usage:"dynamic",type:"float",length:C.length*ar,data:C}),st({usage:"dynamic",type:"float",length:Y.length*ar,data:Y}),We({usage:"dynamic",type:"float",length:ne.length*ar,data:ne}),et({usage:"dynamic",type:"float",length:U.length*ar,data:U}),zt({primitive:"triangles",usage:"dynamic",type:Te.length>2**16?"uint32":"uint16",data:Te})},_e=()=>{nt(),Ee()},nt=()=>{i=null,T=null,C=null,ne=null,Te=null,ue.destroy(),We.destroy(),zt.destroy()},ht=({projection:pt,model:St,view:Ot}={})=>{pt&&(t=pt),St&&(n=St),Ot&&(r=Ot),i&&i.length>1&&_t({projection:t,model:n,view:r})},Ft=(pt,St)=>{const Ot=St.flat(2);return Ot.length===B?Ot:Ot.length===k?x.map((ut,wt)=>Array(ut).fill(Ot[wt])).flat():pt},Qt=()=>i,Nt=(pt=[],{colorIndices:St=o,opacities:Ot=u,widths:ut=m,is2d:wt=p}={})=>{i=pt,p=wt,yt=p?2:3,k=Array.isArray(i[0])?i.length:1,x=k>1?i.map(Ut=>Math.floor(Ut.length/yt)):[Math.floor(i.length/yt)],B=x.reduce((Ut,Yt)=>Ut+Yt,0),o=Ft(o,St),u=Ft(u,Ot),m=Ft(m,ut),i&&B>1?Ue():_e()},Xt=(pt,St=-1)=>Array.isArray(pt)?pt.length&&!Array.isArray(pt[0])?St+1:Xt(pt[0],++St):St,It=()=>{const pt=Xt(a)===0?[a]:a;Je=Math.max(2,Math.ceil(Math.sqrt(pt.length)));const St=new Uint8Array(Je**2*4);pt.forEach((Ot,ut)=>{St[ut*4]=Math.min(255,Math.max(0,Math.round(Ot[0]*255))),St[ut*4+1]=Math.min(255,Math.max(0,Math.round(Ot[1]*255))),St[ut*4+2]=Math.min(255,Math.max(0,Math.round(Ot[2]*255))),St[ut*4+3]=Number.isNaN(+Ot[3])?255:Math.min(255,Math.max(0,Math.round(Ot[3]*255)))}),ze=e.texture({data:St,shape:[Je,Je,4]})},Kt=(pt,St=l)=>{a=pt,l=St,ze&&ze.destroy(),It()},zn=()=>({color:a,miter:h,width:f}),fn=({color:pt,opacity:St,miter:Ot,width:ut}={})=>{pt&&Kt(pt,St),Ot&&(h=Ot),+ut>0&&(f=ut)},Ht=()=>({points:ue,widths:We,opacities:st,colorIndices:et}),qt=()=>({points:C,widths:ne,opacities:Y,colorIndices:U});return Ee(),It(),i&&i.length>1&&Nt(i),{clear:_e,destroy:nt,draw:ht,getPoints:Qt,setPoints:Nt,getData:qt,getBuffer:Ht,getStyle:zn,setStyle:fn}};var zf=M2;const D2=e=>e*e*e,__=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,F2=e=>--e*e*e+1,B2=e=>e,j2=e=>e*e,$2=e=>e<.5?2*e*e:-1+(4-2*e)*e,G2=e=>e*(2-e),Fl=e=>e,z2=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},U2=e=>e.reduce((t,n)=>n>t?n:t,-1/0),i1=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},V2=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},Dv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),H2=(...e)=>t=>e.reduce((n,r)=>r(n),t),W2=e=>t=>Dv({__proto__:{constructor:e}},t),o1=(e,t)=>n=>Dv(n,{get[e](){return t}}),X2=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Y2=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),wl=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),S_=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...u)=>{const f=()=>{i>0&&(e(...u),i=0)};clearTimeout(r),r=setTimeout(f,n)};let a=!1;const l=(...u)=>{a?(i++,o(...u)):(e(...u),o(...u),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...u)=>e(...u),l},wi="auto",Q2=0,hp=1,K2=2,a1=3,q2=4,Z2=Float32Array.BYTES_PER_ELEMENT,w_=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],l1={color:[0,0,0,0],depth:1},Fv="panZoom",T_="lasso",A_="rotate",J2=[Fv,T_,A_],eC=Fv,tC={cubicIn:D2,cubicInOut:__,cubicOut:F2,linear:B2,quadIn:j2,quadInOut:$2,quadOut:G2},s1=__,_i="continuous",Tl="categorical",u1=[_i,Tl],O0="deselect",Bv="lassoEnd",nC=[O0,Bv],rC=[0,.666666667,1,1],iC=2,oC=!1,aC=10,lC=3,sC=Bv,uC=!1,Dd=750,Fd=500,Bd=100,jd=250,jv="lasso",$d="rotate",Gd="merge",cC=[jv,$d,Gd],$v="alt",Gv="cmd",C_="ctrl",b_="meta",zv="shift",fC=[$v,Gv,C_,b_,zv],dC={[$v]:$d,[zv]:jv,[Gv]:Gd},hC=1,mC=wi,pC=wi,vC=1,mp=1,gC=6,yC=2,xC=2,pp=null,EC=2,_C=2,vp=null,SC=null,gp=null,wC=.66,TC=1,yp=null,AC=.15,CC=25,bC=1,LC=1,fu=null,RC=[.66,.66,.66,TC],OC=[0,.55,1,1],PC=[1,1,1,1],kC=[0,0,0,1],xp=null,NC=[.66,.66,.66,.2],IC=[0,.55,1,1],MC=[1,1,1,1],DC=[0,0],FC=1,BC=0,jC=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),$C="IMAGE_LOAD_ERROR",GC=null,zC=!1,UC=[1,1,1,.5],VC=!0,HC=!0,WC=!1,XC=100,YC=1/500,QC="auto",KC=!1,qC=200,ZC=500,L_=new Set(["z","valueZ","valueA","value1","category"]),R_=new Set(["w","valueW","valueB","value2","value"]),Uv=15e3,c1="Points have not been drawn",JC=(e,t)=>e?w_.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,eb=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return w_.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),h2({gl:t,extensions:n})},Ep=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),tb=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},nb=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,rb=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),xo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Eo=e=>!Number.isNaN(+e)&&+e>=0,Uf=e=>!Number.isNaN(+e)&&+e>0,f1=(e,t)=>n=>e.indexOf(n)>=0?n:t,ib=(e,t=!1,n=Uv)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error($C))};o.onerror=a,setTimeout(a,n)}),d1=(e,t,n=Uv)=>new Promise((r,i)=>{ib(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),ob=(e,t=!1)=>[...rb(e,t),255**!t],ab=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),lb=e=>e>=0&&e<=1,zd=e=>Array.isArray(e)&&e.every(lb),sb=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let u=0,f=e.length-2;u<e.length;u+=2)r=e[u],i=e[u+1],o=e[f],a=e[f+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),f=u;return l},P0=e=>typeof e=="string"||e instanceof String,ub=e=>Number.isInteger(e)&&e>=0&&e<=255,O_=e=>Array.isArray(e)&&e.every(ub),cb=e=>e.length===3&&(zd(e)||O_(e)),fb=e=>e.length===4&&(zd(e)||O_(e)),_o=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||P0(e[0])),Vf=(e,t)=>e>t?e:t,h1=(e,t)=>e<t?e:t,gr=(e,t)=>{if(fb(e)){const n=zd(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(cb(e)){const n=255**!t,r=zd(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return ab(e)?ob(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},m1=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),p1=e=>.21*e[0]+.72*e[1]+.07*e[2],db=(e,t,n)=>Math.min(n,Math.max(t,e)),hb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=vC}=e;t||(t=eb(n));const i=JC(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),u=B=>{const x=B.getContext("2d");x.clearRect(0,0,B.width,B.height),x.drawImage(n,(n.width-B.width)/2,(n.height-B.height)/2,B.width,B.height,0,0,B.width,B.height)},f=(B,x)=>{t.clear(l1),a.use(()=>{t.clear(l1),B()}),l(),u(x)},m=()=>{t.poll()},h=new Set,p=B=>(h.add(B),()=>{h.delete(B)}),O=t.frame(()=>{const B=h.values();let x=B.next();for(;!x.done;)x.value(),x=B.next()}),b=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",b),window.addEventListener("orientationchange",b),b()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(B){r=+B},get isSupported(){return i},render:f,onFrame:p,refresh:m,destroy:()=>{O.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",b),window.removeEventListener("orientationchange",b)}}},mb=!0,_p=8,v1=2,pb=2500,vb=250,gb=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},yb=(e,t,n)=>(1-e)*t+n,xb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,Eb=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,_b=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,Sb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,wb=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,Tb=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,Ab=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Cb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,bb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,Lb=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,Rb=({time:e=Dd,extraTime:t=Fd,delay:n=Bd,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:u,circleClipPath:f,circleOpacity:m})=>{const h=l/360,p=yb(h,e,t),O=Math.round((1-h)*e/p*100),b=Math.round(O/2),k=O+(100-O)/4;return{rules:{main:Tb(O,r,i),effect:Ab(O,k,o,a),circleRight:Lb(b,u),circleLeft:bb(O,l),circle:Cb(b,f,m)},names:{main:xb(p,n),effect:Eb(p,n),circleLeft:_b(p,n),circleRight:Sb(p,n),circle:wb(p,n)}}},Ob=e=>`${e}ms linear mainOut 0s 1 normal forwards`,Pb=e=>`${e}ms linear effectOut 0s 1 normal forwards`,kb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Nb=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Ib=e=>`${e}ms linear circleOut 0s 1 normal forwards`,Mb=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Db=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Fb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,Bb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,jb=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,$b=({time:e=jd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:u})=>{const f=o/360,m=f*e,h=Math.min(100,f*100),p=h>50?Math.round((1-50/h)*100):0;return{rules:{main:Mb(t,n),effect:Db(r,i),circleRight:Fb(p,a),circleLeft:Bb(o),circle:jb(p,l,u)},names:{main:Ob(m),effect:Pb(m),circleRight:kb(m),circleLeft:Nb(m),circle:Ib(m)}}},du=(e,t=null)=>e===null?t:e;let Sp;const P_=()=>{if(!Sp){const e=document.createElement("style");document.head.appendChild(e),Sp=e.sheet}return Sp},Gr=e=>{const t=P_(),n=t.rules.length;return t.insertRule(e,n),n},zr=e=>{P_().deleteRule(e)},Gb=`${pb}ms ease scaleInFadeOut 0s 1 normal backwards`,zb=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let wp=null;const Ub=`${vb}ms ease fadeScaleOut 0s 1 normal backwards`,Vb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Tp=null;const k_=(e,{onDraw:t=Fl,onStart:n=Fl,onEnd:r=Fl,enableInitiator:i=mb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=_p,minDist:u=v1,pointNorm:f=Fl}={})=>{let m=i,h=o,p=a,O=t,b=n,k=r,B=f;const x=document.createElement("div"),T=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);x.id=`lasso-initiator-${T}`,x.style.position="fixed",x.style.display="flex",x.style.justifyContent="center",x.style.alignItems="center",x.style.zIndex=99,x.style.width="4rem",x.style.height="4rem",x.style.borderRadius="4rem",x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:C,longPressCircle:U,longPressCircleLeft:Y,longPressCircleRight:ne,longPressEffect:Te}=gb();let ue=!1,st=!1,We=[],ze=[],Je,et=!1,$e=null,zt=null,_t=null,yt=null,xe=null,Ee=null,Ue=null,_e=null,nt=null,ht=null;const Ft=()=>{ue=!1},Qt=vt=>{const{left:kt,top:Ie}=e.getBoundingClientRect();return[vt.clientX-kt,vt.clientY-Ie]};window.addEventListener("mouseup",Ft);const Nt=()=>{x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Xt=(vt,kt)=>{const Ie=getComputedStyle(vt),Zt=+Ie.opacity,Tt=Ie.transform.match(/([0-9.-]+)+/g),De=+Tt[0],Lt=+Tt[1],Ke=Math.sqrt(De*De+Lt*Lt);let lt=Math.atan2(Lt,De)*(180/Math.PI);return lt=kt&&lt<=0?360+lt:lt,{opacity:Zt,scale:Ke,rotate:lt}},It=vt=>{if(!m||ue)return;const kt=vt.clientX,Ie=vt.clientY;x.style.top=`${Ie}px`,x.style.left=`${kt}px`;const Zt=Xt(x),Tt=Zt.opacity,De=Zt.scale,Lt=Zt.rotate;x.style.opacity=Tt,x.style.transform=`translate(-50%,-50%) scale(${De}) rotate(${Lt}deg)`,x.style.animation="none",wl().then(()=>{wp!==null&&zr(wp),wp=Gr(zb(Tt,De,Lt)),x.style.animation=Gb,wl().then(()=>{Nt()})})},Kt=()=>{const{opacity:vt,scale:kt,rotate:Ie}=Xt(x);x.style.opacity=vt,x.style.transform=`translate(-50%,-50%) scale(${kt}) rotate(${Ie}deg)`,x.style.animation="none",wl(2).then(()=>{Tp!==null&&zr(Tp),Tp=Gr(Vb(vt,kt,Ie)),x.style.animation=Ub,wl().then(()=>{Nt()})})},zn=(vt,kt,{time:Ie=Dd,extraTime:Zt=Fd,delay:Tt=Bd}={time:Dd,extraTime:Fd,delay:Bd})=>{et=!0;const De=getComputedStyle(C);C.style.color=De.color,C.style.top=`${kt}px`,C.style.left=`${vt}px`,C.style.animation="none";const Lt=getComputedStyle(U);U.style.clipPath=Lt.clipPath,U.style.opacity=Lt.opacity,U.style.animation="none";const Ke=Xt(Te);Te.style.opacity=Ke.opacity,Te.style.transform=`scale(${Ke.scale})`,Te.style.animation="none";const lt=Xt(Y);Y.style.transform=`rotate(${lt.rotate}deg)`,Y.style.animation="none";const on=Xt(ne);ne.style.transform=`rotate(${on.rotate}deg)`,ne.style.animation="none",wl().then(()=>{if(!et)return;xe!==null&&zr(xe),yt!==null&&zr(yt),_t!==null&&zr(_t),zt!==null&&zr(zt),$e!==null&&zr($e);const{rules:rn,names:Rt}=Rb({time:Ie,extraTime:Zt,delay:Tt,currentColor:De.color||"currentcolor",targetColor:C.dataset.activeColor,effectOpacity:Ke.opacity||0,effectScale:Ke.scale||0,circleLeftRotation:lt.rotate||0,circleRightRotation:on.rotate||0,circleClipPath:Lt.clipPath||"inset(0 0 0 50%)",circleOpacity:Lt.opacity||0});$e=Gr(rn.main),zt=Gr(rn.effect),_t=Gr(rn.circleLeft),yt=Gr(rn.circleRight),xe=Gr(rn.circle),C.style.animation=Rt.main,Te.style.animation=Rt.effect,Y.style.animation=Rt.circleLeft,ne.style.animation=Rt.circleRight,U.style.animation=Rt.circle})},fn=({time:vt=jd}={time:jd})=>{if(!et)return;et=!1;const kt=getComputedStyle(C);C.style.color=kt.color,C.style.animation="none";const Ie=getComputedStyle(U);U.style.clipPath=Ie.clipPath,U.style.opacity=Ie.opacity,U.style.animation="none";const Zt=Xt(Te);Te.style.opacity=Zt.opacity,Te.style.transform=`scale(${Zt.scale})`,Te.style.animation="none";const Tt=Ie.clipPath.slice(-2,-1)==="x",De=Xt(Y,Tt);Y.style.transform=`rotate(${De.rotate}deg)`,Y.style.animation="none";const Lt=Xt(ne);ne.style.transform=`rotate(${Lt.rotate}deg)`,ne.style.animation="none",wl().then(()=>{ht!==null&&zr(ht),nt!==null&&zr(nt),_e!==null&&zr(_e),Ue!==null&&zr(Ue),Ee!==null&&zr(Ee);const{rules:Ke,names:lt}=$b({time:vt,currentColor:kt.color||"currentcolor",targetColor:C.dataset.color,effectOpacity:Zt.opacity||0,effectScale:Zt.scale||0,circleLeftRotation:De.rotate||0,circleRightRotation:Lt.rotate||0,circleClipPath:Ie.clipPath||"inset(0px)",circleOpacity:Ie.opacity||1});Ee=Gr(Ke.main),Ue=Gr(Ke.effect),_e=Gr(Ke.circleLeft),nt=Gr(Ke.circleRight),ht=Gr(Ke.circle),C.style.animation=lt.main,Te.style.animation=lt.effect,Y.style.animation=lt.circleLeft,ne.style.animation=lt.circleRight,U.style.animation=lt.circle})},Ht=()=>{O(We,ze)},qt=vt=>{if(Je){if(X2(vt[0],vt[1],Je[0],Je[1])>v1){Je=vt;const Ie=B(vt);We.push(Ie),ze.push(Ie[0],Ie[1]),We.length>1&&Ht()}}else{st||(st=!0,b()),Je=vt;const kt=B(vt);We=[kt],ze=[kt[0],kt[1]]}},pt=S_(qt,_p,_p),St=(vt,kt)=>{const Ie=Qt(vt);return kt?pt(Ie):qt(Ie)},Ot=()=>{We=[],ze=[],Je=void 0,Ht()},ut=vt=>{It(vt)},wt=()=>{ue=!0,st=!0,Ot(),b()},Ut=()=>{Kt()},Yt=({merge:vt=!1}={})=>{st=!1;const kt=[...We],Ie=[...ze];return pt.cancel(),Ot(),kt.length&&k(kt,Ie,{merge:vt}),kt},Dn=({onDraw:vt=null,onStart:kt=null,onEnd:Ie=null,enableInitiator:Zt=null,initiatorParentElement:Tt=null,longPressIndicatorParentElement:De=null,minDelay:Lt=null,minDist:Ke=null,pointNorm:lt=null}={})=>{O=du(vt,O),b=du(kt,b),k=du(Ie,k),m=du(Zt,m),B=du(lt,B),Tt!==null&&Tt!==h&&(h.removeChild(x),Tt.appendChild(x),h=Tt),De!==null&&De!==p&&(p.removeChild(C),De.appendChild(C),p=De),m?(x.addEventListener("click",ut),x.addEventListener("mousedown",wt),x.addEventListener("mouseleave",Ut)):(x.removeEventListener("mousedown",wt),x.removeEventListener("mouseleave",Ut))},Kr=()=>{h.removeChild(x),p.removeChild(C),window.removeEventListener("mouseup",Ft),x.removeEventListener("click",ut),x.removeEventListener("mousedown",wt),x.removeEventListener("mouseleave",Ut)},g=()=>vt=>Dv(vt,{clear:Ot,destroy:Kr,end:Yt,extend:St,set:Dn,showInitiator:It,hideInitiator:Kt,showLongPressIndicator:zn,hideLongPressIndicator:fn});return h.appendChild(x),p.appendChild(C),Dn({onDraw:O,onStart:b,onEnd:k,enableInitiator:m,initiatorParentElement:h}),H2(o1("initiator",x),o1("longPressIndicator",C),g(),W2(k_))({})},Hb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Wb=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Xb=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Yb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,Qb=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,Kb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,qb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,Zb=function(){const t=(f,m,h,p,O)=>{const b=(p-m)*.5,k=(O-h)*.5;return(2*h-2*p+b+k)*f*f*f+(-3*h+3*p-2*b-k)*f*f+b*f+h},n=(f,m,h)=>{const p=h*f,O=Math.floor(p),b=p-O,k=m[Math.max(0,O-1)],B=m[O],x=m[Math.min(h,O+1)],T=m[Math.min(h,O+2)];return[t(b,k[0],B[0],x[0],T[0]),t(b,k[1],B[1],x[1],T[1])]},r=(f,m,h,p)=>(f-h)**2+(m-p)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(f,m,h)=>{let p=m[0],O=m[1],b=h[0]-p,k=h[1]-O;if(b!==0||k!==0){const B=((f[0]-p)*b+(f[1]-O)*k)/(b*b+k*k);B>1?(p=h[0],O=h[1]):B>0&&(p+=b*B,O+=k*B)}return b=f[0]-p,k=f[1]-O,b*b+k*k};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(f,m,h,p,O)=>{let b=p,k;for(let B=m+1;B<h;B++){const x=i(f[B],f[m],f[h]);x>b&&(k=B,b=x)}b>p&&(k-m>1&&o(f,m,k,p,O),O.push(f[k]),h-k>1&&o(f,k,h,p,O))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(f,m)=>{const h=f.length-1,p=[f[0]];return o(f,0,h,m,p),p.push(f[h]),p},l=(f,{maxIntPointsPerSegment:m=100,tolerance:h=.002}={})=>{const p=f.length,O=p-1,b=O*m+1,k=h**2;let B=[],x;for(let T=0;T<p-1;T++){let C=[f[T].slice(0,2)];x=f[T];for(let U=1;U<m;U++){const Y=(T*m+U)/b,ne=n(Y,f,O);r(x[0],x[1],ne[0],ne[1])>k&&(C.push(ne),x=ne)}C.push(f[T+1]),C=a(C,k),B=B.concat(C.slice(0,C.length-1))}return B.push(f[f.length-1].slice(0,2)),B.flat()},u=f=>{const m={},h=!Number.isNaN(+f[0][5]);return f.forEach(p=>{const O=p[4];m[O]||(m[O]=[]),h?m[O][p[5]]=p:m[O].push(p)}),Object.entries(m).forEach(p=>{m[p[0]]=p[1].filter(O=>O),m[p[0]].reference=p[1][0]}),m};self.onmessage=function(m){(m.data.points?+m.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),m.data.points;const p=u(m.data.points);self.postMessage({points:Object.entries(p).reduce((O,b)=>(O[b[0]]=l(b[1],m.data.options),O[b[0]].reference=b[1].reference,O),{})})}},Jb=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=Y2(Zb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var eL="1.8.5";const Ap={showRecticle:"showReticle",recticleColor:"reticleColor"},Cp=e=>{Object.keys(e).filter(t=>Ap[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${Ap[t]}" instead.`),e[Ap[t]]=e[t],delete e[t]})},Ur=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>L_.has(e)?"valueZ":R_.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,bp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},tL=(e={})=>{const t=c2({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Cp(e);let{renderer:o,backgroundColor:a=kC,backgroundImage:l=GC,canvas:u=document.createElement("canvas"),colorBy:f=fu,deselectOnDblClick:m=VC,deselectOnEscape:h=HC,lassoColor:p=rC,lassoLineWidth:O=iC,lassoMinDelay:b=aC,lassoMinDist:k=lC,lassoClearEvent:B=sC,lassoInitiator:x=oC,lassoInitiatorParentElement:T=document.body,lassoOnLongPress:C=uC,lassoLongPressTime:U=Dd,lassoLongPressAfterEffectTime:Y=Fd,lassoLongPressEffectDelay:ne=Bd,lassoLongPressRevertEffectTime:Te=jd,keyMap:ue=dC,mouseMode:st=eC,showReticle:We=zC,reticleColor:ze=UC,pointColor:Je=RC,pointColorActive:et=OC,pointColorHover:$e=PC,showPointConnections:zt=WC,pointConnectionColor:_t=NC,pointConnectionColorActive:yt=IC,pointConnectionColorHover:xe=MC,pointConnectionColorBy:Ee=xp,pointConnectionOpacity:Ue=SC,pointConnectionOpacityBy:_e=gp,pointConnectionOpacityActive:nt=wC,pointConnectionSize:ht=EC,pointConnectionSizeActive:Ft=_C,pointConnectionSizeBy:Qt=vp,pointConnectionMaxIntPointsPerSegment:Nt=XC,pointConnectionTolerance:Xt=YC,pointSize:It=gC,pointSizeSelected:Kt=yC,pointSizeMouseDetection:zn=QC,pointOutlineWidth:fn=xC,opacity:Ht=wi,opacityBy:qt=yp,opacityByDensityFill:pt=AC,opacityInactiveMax:St=bC,opacityInactiveScale:Ot=LC,sizeBy:ut=pp,height:wt=pC,width:Ut=mC}=e,Yt=Ut===wi?1:Ut,Dn=wt===wi?1:wt;const{performanceMode:Kr=KC,opacityByDensityDebounceTime:g=CC}=e;o||(o=hb({regl:e.regl,gamma:e.gamma})),a=gr(a,!0),p=gr(p,!0),ze=gr(ze,!0);let vt=!1,kt=p1(a),Ie,Zt,Tt=!1,De=null,Lt=[0,0],Ke=-1,lt=[];const on=new Set,rn=new Set;let Rt=!1;const mn=new Set;let dn=0,Qn=0,dr=!1,qr=[],An,Z,xt=e.aspectRatio||hC,Fn,Un,wr,en,ir,as,Wo,Xo,ls,$a=m1(ue),qi,Yo,Zi,Ga=!1,gt=!0,Li=!1,za;Je=_o(Je)?[...Je]:[Je],et=_o(et)?[...et]:[et],$e=_o($e)?[...$e]:[$e],Je=Je.map(s=>gr(s,!0)),et=et.map(s=>gr(s,!0)),$e=$e.map(s=>gr(s,!0)),Ht=!Array.isArray(Ht)&&Number.isNaN(+Ht)?Je[0][3]:Ht,Ht=xo(Ht,Eo,{minLength:1})?[...Ht]:[Ht],It=xo(It,Eo,{minLength:1})?[...It]:[It];let nc=mp/It[0];_t==="inherit"?_t=[...Je]:(_t=_o(_t)?[..._t]:[_t],_t=_t.map(s=>gr(s,!0))),yt==="inherit"?yt=[...et]:(yt=_o(yt)?[...yt]:[yt],yt=yt.map(s=>gr(s,!0))),xe==="inherit"?xe=[...$e]:(xe=_o(xe)?[...xe]:[xe],xe=xe.map(s=>gr(s,!0))),Ue==="inherit"?Ue=[...Ht]:Ue=xo(Ue,Eo,{minLength:1})?[...Ue]:[Ue],ht==="inherit"?ht=[...It]:ht=xo(ht,Eo,{minLength:1})?[...ht]:[ht],f=Ur(f,fu),qt=Ur(qt,yp,{allowDensity:!0}),ut=Ur(ut,pp),Ee=Ur(Ee,xp,{allowSegment:!0}),_e=Ur(_e,gp,{allowSegment:!0}),Qt=Ur(Qt,vp,{allowSegment:!0});let ui,ci,fi,rc,Tr=0,ss=0,Qo,us,Ko,Ua,Va,Ha,Wa,Ri=!1,qo=null,cs,fs,ic=We,Ji,eo=0,Xa,to=0,ds=!1,hr=!1,di=!1,hi=Tl,Oi=Tl,kn,Br=!1,Bn=e.xScale||null,En=e.yScale||null,no=0,Ya=0,Qa=0,Ka=0;Bn&&(no=Bn.domain()[0],Ya=Bn.domain()[1]-Bn.domain()[0],Bn.range([0,Yt])),En&&(Qa=En.domain()[0],Ka=En.domain()[1]-En.domain()[0],En.range([Dn,0]));const oc=s=>-1+s/Yt*2,mr=s=>1+s/Dn*-2,or=()=>[oc(i[0]),mr(i[1])],Ar=(s,N)=>{const $=[s,N,1,1],oe=L0(n,sr(n,Fn,sr(n,Ie.view,wr)));return ld($,$,oe),$.slice(0,2)},ac=(s=0)=>{const N=ia(),oe=(Yo[1]-Zi[1])/u.height;return(ls*N+s)*oe},hs=()=>Rt?An.points.filter((s,N)=>mn.has(N)):An.points,qa=(s,N,$,oe)=>{const Ae=An.range(s,N,$,oe);return Rt?Ae.filter(Fe=>mn.has(Fe)):Ae},ms=()=>{const[s,N]=or(),[$,oe]=Ar(s,N),Ae=ac(4),Fe=qa($-Ae,oe-Ae,$+Ae,oe+Ae);let He=Ae,dt=-1;return Fe.forEach(Bt=>{const[Mt,_n]=An.points[Bt],Vt=Ep(Mt,_n,$,oe);Vt<He&&(He=Vt,dt=Bt)}),dt},gh=(s,N)=>{qr=s,Zt.setPoints(N),t.publish("lassoExtend",{coordinates:s})},yh=s=>{const N=tb(s);if(!nb(N))return[];const $=qa(...N),oe=[];return $.forEach(Ae=>{sb(s,An.points[Ae])&&oe.push(Ae)}),oe},ro=()=>{qr=[],Zt&&Zt.clear()},Zo=s=>s&&s.length>4,Pi=(s,N)=>{if(as||!zt||!Zo(An.points[s[0]]))return;const $=N===0,oe=N===1?He=>rn.add(He):Fl,Ae=Object.keys(s.reduce((He,dt)=>{const Bt=An.points[dt],_n=Array.isArray(Bt[4])?Bt[4][0]:Bt[4];return He[_n]=!0,He},{})),Fe=en.getData().opacities;Ae.filter(He=>!rn.has(+He)).forEach(He=>{const dt=ir[He][0],Bt=ir[He][2],Mt=ir[He][3],_n=dt*4+Mt*2,Vt=_n+Bt*2+4;Fe.__original__===void 0&&(Fe.__original__=Fe.slice());for(let Dt=_n;Dt<Vt;Dt++)Fe[Dt]=$?Fe.__original__[Dt]:nt;oe(He)}),en.getBuffer().opacities.subdata(Fe,0)},Za=s=>[s%Tr/Tr+ss,Math.floor(s/Tr)/Tr+ss],xh=s=>Rt&&!mn.has(s),Ja=({preventEvent:s=!1}={})=>{B===O0&&ro(),lt.length&&(s||t.publish("deselect"),rn.clear(),Pi(lt,0),lt=[],on.clear(),gt=!0)},io=(s,{merge:N=!1,preventEvent:$=!1}={})=>{const oe=Array.isArray(s)?s:[s],Ae=[...lt];if(N){if(lt=V2(lt,oe),Ae.length===lt.length){gt=!0;return}}else{if(lt&&lt.length&&Pi(lt,0),Ae.length>0&&oe.length===0){Ja({preventEvent:$});return}lt=oe}if(z2(Ae,lt)){gt=!0;return}const Fe=[];on.clear(),rn.clear();for(let He=lt.length-1;He>=0;He--){const dt=lt[He];if(dt<0||dt>=dn||xh(dt)){lt.splice(He,1);continue}on.add(dt),Fe.push.apply(Fe,Za(dt))}us({usage:"dynamic",type:"float",data:Fe}),Pi(lt,1),$||t.publish("select",{points:lt}),gt=!0},Jo=(s,{showReticleOnce:N=!1,preventEvent:$=!1}={})=>{let oe=!1;if(s>=0&&s<dn){oe=!0;const Ae=kn,Fe=s!==kn;+Ae>=0&&Fe&&!on.has(Ae)&&Pi([Ae],0),kn=s,Ko.subdata(Za(s)),on.has(s)||Pi([s],2),Fe&&!$&&t.publish("pointover",kn)}else oe=+kn>=0,oe&&(on.has(kn)||Pi([kn],0),$||t.publish("pointout",kn)),kn=void 0;oe&&(gt=!0,Li=N)},ps=s=>{const N=u.getBoundingClientRect();return i[0]=s.clientX-N.left,i[1]=s.clientY-N.top,[...i]},Cn=k_(u,{onStart:()=>{Ie.config({isFixed:!0}),Tt=!0,dr=!0,ro(),Ke>=0&&(clearTimeout(Ke),Ke=-1),t.publish("lassoStart")},onDraw:gh,onEnd:(s,N,{merge:$=!1}={})=>{Ie.config({isFixed:!1}),qr=[...s];const oe=yh(N);io(oe,{merge:$}),t.publish("lassoEnd",{coordinates:qr}),B===Bv&&ro()},enableInitiator:x,initiatorParentElement:T,pointNorm:([s,N])=>Ar(oc(s),mr(N))}),el=()=>st===T_,ea=(s,N)=>{switch($a[N]){case $v:return s.altKey;case Gv:return s.metaKey;case C_:return s.ctrlKey;case b_:return s.metaKey;case zv:return s.shiftKey;default:return!1}},lc=s=>document.elementsFromPoint(s.clientX,s.clientY).some(N=>N===u),vs=s=>{!hr||s.buttons!==1||(Tt=!0,De=performance.now(),Lt=ps(s),dr=el()||ea(s,jv),!dr&&C&&(Cn.showLongPressIndicator(s.clientX,s.clientY,{time:U,extraTime:Y,delay:ne}),Ke=setTimeout(()=>{Ke=-1,dr=!0},U)))},gs=s=>{hr&&(Tt=!1,Ke>=0&&(clearTimeout(Ke),Ke=-1),dr&&(s.preventDefault(),dr=!1,Cn.end({merge:ea(s,Gd)})),C&&Cn.hideLongPressIndicator({time:Te}))},tl=s=>{if(!hr)return;s.preventDefault();const N=ps(s);if(Ep(...N,...Lt)>=k)return;const $=performance.now()-De;if(!x||$<ZC){const oe=ms();oe>=0?(lt.length&&B===O0&&ro(),io([oe],{merge:ea(s,Gd)})):qi||(qi=setTimeout(()=>{qi=null,Cn.showInitiator(s)},qC))}},nl=s=>{Cn.hideInitiator(),qi&&(clearTimeout(qi),qi=null),m&&(s.preventDefault(),Ja())},Zr=s=>{if(di||(Br=lc(s),di=!0),!hr||!Br&&!Tt)return;const N=ps(s),oe=Ep(...N,...Lt)>=k;Br&&!dr&&Jo(ms()),dr?(s.preventDefault(),Cn.extend(s,!0)):Tt&&C&&oe&&Cn.hideLongPressIndicator({time:Te}),Ke>=0&&oe&&(clearTimeout(Ke),Ke=-1),Tt&&(gt=!0)},ta=()=>{kn=void 0,Br=!1,di=!1,hr&&(+kn>=0&&!on.has(kn)&&Pi([kn],0),gs(),gt=!0)},rl=()=>{const s=Math.max(It.length,Ht.length);to=Math.max(2,Math.ceil(Math.sqrt(s)));const N=new Float32Array(to**2*4);for(let $=0;$<s;$++){N[$*4]=It[$]||0,N[$*4+1]=Math.min(1,Ht[$]||0);const oe=Number((et[$]||et[0])[3]);N[$*4+2]=Math.min(1,Number.isNaN(oe)?1:oe);const Ae=Number(($e[$]||$e[0])[3]);N[$*4+3]=Math.min(1,Number.isNaN(Ae)?1:Ae)}return o.regl.texture({data:N,shape:[to,to,4],type:"float"})},ys=(s=Je,N=et,$=$e)=>{const oe=s.length,Ae=N.length,Fe=$.length,He=[];if(oe===Ae&&Ae===Fe)for(let dt=0;dt<oe;dt++)He.push(s[dt],N[dt],$[dt],a);else for(let dt=0;dt<oe;dt++){const Bt=[s[dt][0],s[dt][1],s[dt][2],1],Mt=f===fu?N[0]:Bt,_n=f===fu?$[0]:Bt;He.push(s[dt],Mt,_n,a)}return He},xs=()=>{const s=ys(),N=s.length;eo=Math.max(2,Math.ceil(Math.sqrt(N)));const $=new Float32Array(eo**2*4);return s.forEach((oe,Ae)=>{$[Ae*4]=oe[0],$[Ae*4+1]=oe[1],$[Ae*4+2]=oe[2],$[Ae*4+3]=oe[3]}),o.regl.texture({data:$,shape:[eo,eo,4],type:"float"})},Eh=(s,N)=>{Un[0]=s/Z,Un[5]=N},Es=()=>{Z=Yt/Dn,Fn=ad([],[1/Z,1,1]),Un=ad([],[1/Z,1,1]),wr=ad([],[xt,1,1])},_h=s=>{+s<=0||(xt=s)},_s=(s,N)=>$=>{if(!$||!$.length)return;const Ae=[...s()];let Fe=_o($)?$:[$];Fe=Fe.map(He=>gr(He,!0)),Ji&&Ji.destroy();try{N(Fe),Ji=xs()}catch{console.error("Invalid colors. Switching back to default colors."),N(Ae),Ji=xs()}},Sh=_s(()=>Je,s=>{Je=s}),wh=_s(()=>et,s=>{et=s}),mi=_s(()=>$e,s=>{$e=s}),Th=()=>{const s=Ar(-1,-1),N=Ar(1,1),$=(s[0]+1)/2,oe=(N[0]+1)/2,Ae=(s[1]+1)/2,Fe=(N[1]+1)/2,He=[no+$*Ya,no+oe*Ya],dt=[Qa+Ae*Ka,Qa+Fe*Ka];return[He,dt]},ki=()=>{if(!Bn&&!En)return;const[s,N]=Th();Bn&&Bn.domain(s),En&&En.domain(N)},Ni=s=>{Dn=Math.max(1,s),u.height=Math.floor(Dn*window.devicePixelRatio),En&&(En.range([Dn,0]),ki())},Ah=s=>{if(s===wi){wt=s,u.style.height="100%",window.requestAnimationFrame(()=>{u&&Ni(u.getBoundingClientRect().height)});return}!+s||+s<=0||(wt=+s,Ni(wt),u.style.height=`${wt}px`)},pi=()=>{ls=zn,zn===wi&&(ls=Array.isArray(It)?U2(It):It)},sc=s=>{xo(s,Eo,{minLength:1})&&(It=[...s]),Uf(+s)&&(It=[+s]),nc=mp/It[0],Xa=rl(),pi()},ao=s=>{!+s||+s<0||(Kt=+s)},uc=s=>{!+s||+s<0||(fn=+s)},Jr=s=>{Yt=Math.max(1,s),u.width=Math.floor(Yt*window.devicePixelRatio),Bn&&(Bn.range([0,Yt]),ki())},Ss=s=>{if(s===wi){Ut=s,u.style.width="100%",window.requestAnimationFrame(()=>{u&&Jr(u.getBoundingClientRect().width)});return}!+s||+s<=0||(Ut=+s,Jr(Ut),u.style.width=`${Yt}px`)},Ch=s=>{xo(s,Eo,{minLength:1})&&(Ht=[...s]),Uf(+s)&&(Ht=[+s]),Xa=rl()},ws=s=>{switch(s){case"valueZ":return hi;case"valueW":return Oi;default:return null}},Ts=(s,N)=>{switch(s){case _i:return $=>Math.round($*(N.length-1));case Tl:default:return Fl}},cc=s=>{f=Ur(s,fu)},bh=s=>{qt=Ur(s,yp,{allowDensity:!0})},Lh=s=>{ut=Ur(s,pp)},fc=s=>{Ee=Ur(s,xp,{allowSegment:!0})},tn=s=>{_e=Ur(s,gp,{allowSegment:!0})},dc=s=>{Qt=Ur(s,vp,{allowSegment:!0})},Rh=()=>[u.width,u.height],jr=()=>l,As=()=>Ji,il=()=>eo,Ii=()=>.5/eo,Cs=()=>window.devicePixelRatio,ol=()=>Qo,Mi=()=>us,al=()=>Xa,hc=()=>to,bs=()=>.5/to,Ls=()=>0,Oh=()=>fi||ui,Ph=()=>Tr,kh=()=>.5/Tr,mc=()=>Un,ll=()=>Ie.view,na=()=>wr,ra=()=>sr(r,Un,sr(r,Ie.view,wr)),ia=()=>Ie.scaling[0]>1?Math.asinh(Vf(1,Ie.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Vf(nc,Ie.scaling[0])*window.devicePixelRatio,lo=()=>Rt?mn.size:dn,Di=()=>lt.length,Rs=()=>Di()>0?St:1,Os=()=>Di()>0?Ot:1,Ps=()=>+(f==="valueZ"),pc=()=>+(f==="valueW"),vc=()=>+(qt==="valueZ"),gc=()=>+(qt==="valueW"),yc=()=>+(qt==="density"),xc=()=>+(ut==="valueZ"),Ec=()=>+(ut==="valueW"),_c=()=>f==="valueZ"?hi===_i?Je.length-1:1:Oi===_i?Je.length-1:1,Sc=()=>qt==="valueZ"?hi===_i?Ht.length-1:1:Oi===_i?Ht.length-1:1,so=()=>ut==="valueZ"?hi===_i?It.length-1:1:Oi===_i?It.length-1:1,ks=s=>{if(qt!=="density")return 1;const N=ia(),$=It[0]*N,oe=2/(2/Ie.view[0])*(2/(2/Ie.view[5])),Ae=s.viewportHeight,Fe=s.viewportWidth;let He=pt*Fe*Ae/(Qn*$*$)*h1(1,oe);He*=Kr?1:1/(.25*Math.PI);const dt=Vf(mp,$)+.5;return He*=($/dt)**2,h1(1,Vf(0,He))},Ns=o.regl({framebuffer:()=>rc,vert:qb,frag:Kb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>ci,endStateTex:()=>ui,t:(s,N)=>N.t},count:3}),Cr=(s,N,$,oe=Q2,Ae=Rs,Fe=Os)=>o.regl({frag:Kr?Yb:Xb,vert:Qb(oe),blend:{enable:!Kr,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:$,size:2}},uniforms:{resolution:Rh,modelViewProjection:ra,devicePixelRatio:Cs,pointScale:ia,encodingTex:al,encodingTexRes:hc,encodingTexEps:bs,pointOpacityMax:Ae,pointOpacityScale:Fe,pointSizeExtra:s,globalState:oe,colorTex:As,colorTexRes:il,colorTexEps:Ii,stateTex:Oh,stateTexRes:Ph,stateTexEps:kh,isColoredByZ:Ps,isColoredByW:pc,isOpacityByZ:vc,isOpacityByW:gc,isOpacityByDensity:yc,isSizedByZ:xc,isSizedByW:Ec,colorMultiplicator:_c,opacityMultiplicator:Sc,opacityDensity:ks,sizeMultiplicator:so,numColorStates:q2},count:N,primitive:"points"}),Nh=Cr(Ls,lo,ol),Ih=Cr(Ls,()=>1,()=>Ko,K2,()=>1,()=>1),Mh=Cr(()=>(Kt+fn*2)*window.devicePixelRatio,Di,Mi,hp,()=>1,()=>1),Is=Cr(()=>(Kt+fn)*window.devicePixelRatio,Di,Mi,a1,()=>1,()=>1),Dh=Cr(()=>Kt*window.devicePixelRatio,Di,Mi,hp,()=>1,()=>1),Fh=()=>{Mh(),Is(),Dh()},Bh=o.regl({frag:Hb,vert:Wb,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:ra,texture:jr},count:6}),Ms=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>qr},uniforms:{modelViewProjection:ra,color:()=>p},elements:()=>Array.from({length:qr.length-2},(s,N)=>[0,N+1,N+2])}),jh=()=>{if(!(kn>=0))return;const[s,N]=An.points[kn].slice(0,2),$=[s,N,0,1];sr(n,Un,sr(n,Ie.view,wr)),ld($,$,n),Wo.setPoints([-1,$[1],1,$[1]]),Xo.setPoints([$[0],1,$[0],-1]),Wo.draw(),Xo.draw(),Cr(()=>(Kt+fn*2)*window.devicePixelRatio,()=>1,Ko,hp)(),Cr(()=>(Kt+fn)*window.devicePixelRatio,()=>1,Ko,a1)()},sl=s=>{const N=new Float32Array(s*2);let $=0;for(let oe=0;oe<s;++oe){const Ae=Za(oe);N[$]=Ae[0],N[$+1]=Ae[1],$+=2}return N},Ds=(s,N={})=>{const $=s.length;Tr=Math.max(2,Math.ceil(Math.sqrt($))),ss=.5/Tr;const oe=new Float32Array(Tr**2*4);let Ae=!0,Fe=!0,He=0,dt=0,Bt=0;for(let Mt=0;Mt<$;++Mt)He=Mt*4,oe[He]=s[Mt][0],oe[He+1]=s[Mt][1],dt=s[Mt][2]||0,Bt=s[Mt][3]||0,oe[He+2]=dt,oe[He+3]=Bt,Ae&&(Ae=Number.isInteger(dt)),Fe&&(Fe=Number.isInteger(Bt));return N.z&&u1.includes(N.z)?hi=N.z:hi=Ae?Tl:_i,N.w&&u1.includes(N.w)?Oi=N.w:Oi=Fe?Tl:_i,o.regl.texture({data:oe,shape:[Tr,Tr,4],type:"float"})},wc=(s,N={})=>{if(!ui)return!1;if(Ri){const $=ci;ci=fi,$.destroy()}else ci=ui;return fi=Ds(s,N),rc=o.regl.framebuffer({color:fi,depth:!1,stencil:!1}),ui=void 0,!0},Fs=()=>!!(ci&&fi),$h=()=>{ci&&(ci.destroy(),ci=void 0),fi&&(fi.destroy(),fi=void 0)},oa=(s,N={})=>{hr=!1,dn=s.length,Qn=dn,ui&&ui.destroy(),ui=Ds(s,N),Qo({usage:"static",type:"float",data:sl(dn)}),An=new L2(s,$=>$[0],$=>$[1],16),hr=!0},Tc=(s,N)=>{Ua=Ie.target,Va=s,Ha=Ie.distance[0],Wa=N},Gh=()=>Ua!==void 0&&Va!==void 0&&Ha!==void 0&&Wa!==void 0,zh=()=>{Ua=void 0,Va=void 0,Ha=void 0,Wa=void 0},Uh=s=>{const N=Ee==="inherit"?f:Ee;if(N==="segment"){const $=_t.length-1;return $<1?[]:s.reduce((oe,Ae,Fe)=>{let He=0;const dt=[];for(let Mt=2;Mt<Ae.length;Mt+=2){const _n=Math.sqrt((Ae[Mt-2]-Ae[Mt])**2+(Ae[Mt-1]-Ae[Mt+1])**2);dt.push(_n),He+=_n}oe[Fe]=[0];let Bt=0;for(let Mt=0;Mt<Ae.length/2-1;Mt++)Bt+=dt[Mt],oe[Fe].push(Math.floor(Bt/He*$)*4);return oe},[])}if(N){const $=bp(N),oe=Ts(ws(N),Ee==="inherit"?Je:_t);return ir.reduce((Ae,[Fe,He])=>(Ae[Fe]=oe(He[$])*4,Ae),[])}return Array(ir.length).fill(0)},Vh=()=>{const s=_e==="inherit"?qt:_e;if(s==="segment"){const N=Ue.length-1;return N<1?[]:ir.reduce(($,[oe,Ae,Fe])=>($[oe]=i1(Fe,He=>Ue[Math.floor(He/(Fe-1)*N)]),$),[])}if(s){const N=bp(s),$=_e==="inherit"?Ht:Ue,oe=Ts(ws(s),$);return ir.reduce((Ae,[Fe,He])=>(Ae[Fe]=$[oe(He[N])],Ae),[])}},Hh=()=>{const s=Qt==="inherit"?ut:Qt;if(s==="segment"){const N=ht.length-1;return N<1?[]:ir.reduce(($,[oe,Ae,Fe])=>($[oe]=i1(Fe,He=>ht[Math.floor(He/(Fe-1)*N)]),$),[])}if(s){const N=bp(s),$=Qt==="inherit"?It:ht,oe=Ts(ws(s),$);return ir.reduce((Ae,[Fe,He])=>(Ae[Fe]=$[oe(He[N])],Ae),[])}},Wh=s=>{ir=[];let N=0;Object.keys(s).forEach(($,oe)=>{ir[$]=[oe,s[$].reference,s[$].length/2,N],N+=s[$].length/2})},uo=s=>new Promise(N=>{en.setPoints([]),!s||!s.length?N():(as=!0,Jb(s,{maxIntPointsPerSegment:Nt,tolerance:Xt}).then($=>{Wh($);const oe=Object.values($);en.setPoints(oe.length===1?oe[0]:oe,{colorIndices:Uh(oe),opacities:Vh(),widths:Hh()}),as=!1,N()}))}),aa=({preventEvent:s=!1}={})=>(Rt=!1,mn.clear(),Qo.subdata(sl(dn)),new Promise(N=>{const $=()=>{t.subscribe("draw",()=>{s||t.publish("unfilter"),N()},1),gt=!0};zt||Zo(An.points[0])?uo(hs()).then(()=>{s||t.publish("pointConnectionsDraw"),$()}):$()})),Ac=(s,{preventEvent:N=!1}={})=>{const $=Array.isArray(s)?s:[s];Rt=!0,mn.clear();const oe=[],Ae=[];for(let Fe=$.length-1;Fe>=0;Fe--){const He=$[Fe];if(He<0||He>=dn){$.splice(Fe,1);continue}mn.add(He),oe.push.apply(oe,Za(He)),on.has(He)&&Ae.push(He)}return Qo.subdata(oe),io(Ae,{preventEvent:N}),mn.has(kn)||Jo(-1,{preventEvent:N}),new Promise(Fe=>{const He=()=>{t.subscribe("draw",()=>{N||t.publish("filter",{points:$}),Fe()},1),gt=!0};zt||Zo(An.points[0])?uo(hs()).then(()=>{N||t.publish("pointConnectionsDraw"),io(Ae,{preventEvent:N}),He()}):He()})},la=()=>qa(Zi[0],Zi[1],Yo[0],Yo[1]),co=S_(()=>{Qn=la().length},g),Cc=s=>{const[N,$]=Ua,[oe,Ae]=Va,Fe=1-s,He=N*Fe+oe*s,dt=$*Fe+Ae*s,Bt=Ha*Fe+Wa*s;Ie.lookAt([He,dt],Bt)},bc=()=>Fs(),Lc=()=>Gh(),Rc=(s,N)=>{qo||(qo=performance.now());const $=performance.now()-qo,oe=db(N($/s),0,1);return bc()&&Ns({t:oe}),Lc()&&Cc(oe),$<s},Oc=()=>{Ri=!1,qo=null,cs=void 0,fs=void 0,We=ic,$h(),zh(),t.publish("transitionEnd")},ul=({duration:s=500,easing:N=s1})=>{Ri&&t.publish("transitionEnd"),Ri=!0,qo=null,cs=s,fs=P0(N)?tC[N]||s1:N,ic=We,We=!1,t.publish("transitionStart")},Xh=s=>new Promise((N,$)=>{if(!s||Array.isArray(s))N(s);else{const oe=Array.isArray(s.x)||ArrayBuffer.isView(s.x)?s.x.length:0,Ae=(Array.isArray(s.x)||ArrayBuffer.isView(s.x))&&(Vt=>s.x[Vt]),Fe=(Array.isArray(s.y)||ArrayBuffer.isView(s.y))&&(Vt=>s.y[Vt]),He=(Array.isArray(s.line)||ArrayBuffer.isView(s.line))&&(Vt=>s.line[Vt]),dt=(Array.isArray(s.lineOrder)||ArrayBuffer.isView(s.lineOrder))&&(Vt=>s.lineOrder[Vt]),Bt=Object.keys(s),Mt=(()=>{const Vt=Bt.find(Dt=>L_.has(Dt));return Vt&&(Array.isArray(s[Vt])||ArrayBuffer.isView(s[Vt]))&&(Dt=>s[Vt][Dt])})(),_n=(()=>{const Vt=Bt.find(Dt=>R_.has(Dt));return Vt&&(Array.isArray(s[Vt])||ArrayBuffer.isView(s[Vt]))&&(Dt=>s[Vt][Dt])})();Ae&&Fe&&Mt&&_n&&He&&dt?N(s.x.map((Vt,Dt)=>[Vt,Fe(Dt),Mt(Dt),_n(Dt),He(Dt),dt(Dt)])):Ae&&Fe&&Mt&&_n&&He?N(Array.from({length:oe},(Vt,Dt)=>[Ae(Dt),Fe(Dt),Mt(Dt),_n(Dt),He(Dt)])):Ae&&Fe&&Mt&&_n?N(Array.from({length:oe},(Vt,Dt)=>[Ae(Dt),Fe(Dt),Mt(Dt),_n(Dt)])):Ae&&Fe&&Mt?N(Array.from({length:oe},(Vt,Dt)=>[Ae(Dt),Fe(Dt),Mt(Dt)])):Ae&&Fe?N(Array.from({length:oe},(Vt,Dt)=>[Ae(Dt),Fe(Dt)])):$(new Error("You need to specify at least x and y"))}}),fo=(s,N={})=>vt?Promise.reject(new Error("The instance was already destroyed")):Xh(s).then($=>new Promise(oe=>{if(vt){oe();return}let Ae=!1;(!N.preventFilterReset||($==null?void 0:$.length)!==dn)&&(Rt=!1,mn.clear());const Fe=$&&Zo($[0])&&(zt||N.showPointConnectionsOnce),{zDataType:He,wDataType:dt}=N;$&&(N.transition&&($.length===dn?Ae=wc($,{z:He,w:dt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),oa($,{z:He,w:dt}),N.hover!==void 0&&Jo(N.hover,{preventEvent:!0}),N.select!==void 0&&io(N.select,{preventEvent:!0}),N.filter!==void 0&&Ac(N.filter,{preventEvent:!0}),Fe&&uo($).then(()=>{t.publish("pointConnectionsDraw"),gt=!0,Li=N.showReticleOnce})),N.transition&&Ae?(Fe?Promise.all([new Promise(Bt=>{t.subscribe("transitionEnd",()=>{gt=!0,Li=N.showReticleOnce,Bt()},1)}),new Promise(Bt=>{t.subscribe("pointConnectionsDraw",Bt,1)})]).then(oe):t.subscribe("transitionEnd",()=>{gt=!0,Li=N.showReticleOnce,oe()},1),ul({duration:N.transitionDuration,easing:N.transitionEasing})):(Fe?Promise.all([new Promise(Bt=>{t.subscribe("draw",Bt,1)}),new Promise(Bt=>{t.subscribe("pointConnectionsDraw",Bt,1)})]).then(oe):t.subscribe("draw",oe,1),gt=!0,Li=N.showReticleOnce)})),bn=s=>(...N)=>{const $=s(...N);return gt=!0,$},Pc=s=>{let N=1/0,$=-1/0,oe=1/0,Ae=-1/0;for(let Fe=0;Fe<s.length;Fe++){const[He,dt]=An.points[s[Fe]];N=Math.min(N,He),$=Math.max($,He),oe=Math.min(oe,dt),Ae=Math.max(Ae,dt)}return{x:N,y:oe,width:$-N,height:Ae-oe}},Bs=(s,N={})=>new Promise($=>{const oe=[s.x+s.width/2,s.y+s.height/2],Ae=2*Math.atan(1),Fe=s.height*Z>s.width?s.height/2/Math.tan(Ae/2):s.width/2/Math.tan(Ae*Z/2);N.transition?(Ie.config({isFixed:!0}),Tc(oe,Fe),t.subscribe("transitionEnd",()=>{$(),Ie.config({isFixed:!1})},1),ul({duration:N.transitionDuration,easing:N.transitionEasing})):(Ie.lookAt(oe,Fe),t.subscribe("draw",$,1),gt=!0)}),Fi=(s,N={})=>{if(!hr)return Promise.reject(new Error(c1));const $=Pc(s),oe=$.x+$.width/2,Ae=$.y+$.height/2,Fe=ac(),He=1+(N.padding||0),dt=Math.max($.width,Fe)*He,Bt=Math.max($.height,Fe)*He,Mt=oe-dt/2,_n=Ae-Bt/2;return Bs({x:Mt,y:_n,width:dt,height:Bt},N)},js=(s,N,$={})=>new Promise(oe=>{$.transition?(Ie.config({isFixed:!0}),Tc(s,N),t.subscribe("transitionEnd",()=>{oe(),Ie.config({isFixed:!1})},1),ul({duration:$.transitionDuration,easing:$.transitionEasing})):(Ie.lookAt(s,N),t.subscribe("draw",oe,1),gt=!0)}),kc=(s={})=>js([0,0],1,s),Yh=s=>{if(!hr)throw new Error(c1);const N=An.points[s];if(!N)return;const $=[N[0],N[1],0,1];sr(n,Fn,sr(n,Ie.view,wr)),ld($,$,n);const oe=Yt*($[0]+1)/2,Ae=Dn*(.5-$[1]/2);return[oe,Ae]},$s=()=>{en.setStyle({color:ys(_t,yt,xe),opacity:Ue===null?null:Ue[0],width:ht[0]})},Nc=()=>{const s=Math.round(kt)>.5?0:255;Cn.initiator.style.border=`1px dashed rgba(${s}, ${s}, ${s}, 0.33)`,Cn.initiator.style.background=`rgba(${s}, ${s}, ${s}, 0.1)`},Ic=()=>{const s=Math.round(kt)>.5?0:255;Cn.longPressIndicator.style.color=`rgb(${s}, ${s}, ${s})`,Cn.longPressIndicator.dataset.color=`rgb(${s}, ${s}, ${s})`;const N=p.map($=>Math.round($*255));Cn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Gs=s=>{s&&(a=gr(s,!0),kt=p1(a),Nc(),Ic())},Mc=s=>{s?P0(s)?d1(o.regl,s).then(N=>{l=N,gt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${s}`),l=null}):s._reglType==="texture2d"?l=s:l=null:l=null},Qh=s=>{s>0&&Ie.lookAt(Ie.target,s,Ie.rotation)},Dc=s=>{s!==null&&Ie.lookAt(Ie.target,Ie.distance[0],s)},Fc=s=>{s&&Ie.lookAt(s,Ie.distance[0],Ie.rotation)},Bc=s=>{s&&Ie.setView(s)},cl=s=>{if(!s)return;p=gr(s,!0),Zt.setStyle({color:p});const N=p.map($=>Math.round($*255));Cn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Kh=s=>{Number.isNaN(+s)||+s<1||(O=+s,Zt.setStyle({width:O}))},vi=s=>{+s&&(b=+s,Cn.set({minDelay:b}))},fl=s=>{+s&&(k=+s,Cn.set({minDist:k}))},jc=s=>{B=f1(nC,B)(s)},$c=s=>{x=!!s,Cn.set({enableInitiator:x})},Gc=s=>{T=s,Cn.set({startInitiatorParentElement:T})},zc=s=>{C=!!s},Uc=s=>{U=Number(s)},Vc=s=>{Y=Number(s)},Hc=s=>{ne=Number(s)},Wc=s=>{Te=Number(s)},Xc=s=>{ue=Object.entries(s).reduce((N,[$,oe])=>(fC.includes($)&&cC.includes(oe)&&(N[$]=oe),N),{}),$a=m1(ue),$a[$d]?Ie.config({isRotate:!0,mouseDownMoveModKey:$a[$d]}):Ie.config({isRotate:!1})},Lr=s=>{st=f1(J2,Fv)(s),Ie.config({defaultMouseDownMoveAction:st===A_?"rotate":"pan"})},Yc=s=>{s!==null&&(We=s)},qh=s=>{s&&(ze=gr(s,!0),Wo.setStyle({color:ze}),Xo.setStyle({color:ze}))},ei=s=>{s&&(Bn=s,no=s.domain()[0],Ya=s?s.domain()[1]-s.domain()[0]:0,Bn.range([0,Yt]),ki())},zs=s=>{s&&(En=s,Qa=En.domain()[0],Ka=En?En.domain()[1]-En.domain()[0]:0,En.range([Dn,0]),ki())},Bi=s=>{m=!!s},dl=s=>{h=!!s},Qc=s=>{zt=!!s,zt?Zo(An.points[0])&&uo(hs()).then(()=>{t.publish("pointConnectionsDraw"),gt=!0}):uo()},hl=(s,N)=>$=>{if($==="inherit")s([...N()]);else{const oe=_o($)?$:[$];s(oe.map(Ae=>gr(Ae,!0)))}$s()},Kc=hl(s=>{_t=s},()=>Je),qc=hl(s=>{yt=s},()=>et),Zc=hl(s=>{xe=s},()=>$e),Zh=s=>{xo(s,Eo,{minLength:1})&&(Ue=[...s]),Uf(+s)&&(Ue=[+s]),_t=_t.map(N=>(N[3]=Number.isNaN(+Ue[0])?N[3]:+Ue[0],N)),$s()},Jh=s=>{!Number.isNaN(+s)&&+s&&(nt=+s)},em=s=>{xo(s,Eo,{minLength:1})&&(ht=[...s]),Uf(+s)&&(ht=[+s]),$s()},tm=s=>{!Number.isNaN(+s)&&+s&&(Ft=Math.max(0,s))},nm=s=>{Nt=Math.max(0,s)},rm=s=>{Xt=Math.max(0,s)},im=s=>{zn=s,pi()},Jc=s=>{pt=+s},ef=s=>{St=+s},om=s=>{Ot=+s},am=s=>{o.gamma=s},Us=s=>{if(Cp({property:!0}),s==="aspectRatio")return xt;if(s==="background"||s==="backgroundColor")return a;if(s==="backgroundImage")return l;if(s==="camera")return Ie;if(s==="cameraTarget")return Ie.target;if(s==="cameraDistance")return Ie.distance[0];if(s==="cameraRotation")return Ie.rotation;if(s==="cameraView")return Ie.view;if(s==="canvas")return u;if(s==="colorBy")return f;if(s==="sizeBy")return ut;if(s==="deselectOnDblClick")return m;if(s==="deselectOnEscape")return h;if(s==="height")return wt;if(s==="lassoColor")return p;if(s==="lassoLineWidth")return O;if(s==="lassoMinDelay")return b;if(s==="lassoMinDist")return k;if(s==="lassoClearEvent")return B;if(s==="lassoInitiator")return x;if(s==="lassoInitiatorElement")return Cn.initiator;if(s==="lassoInitiatorParentElement")return T;if(s==="keyMap")return{...ue};if(s==="mouseMode")return st;if(s==="opacity")return Ht.length===1?Ht[0]:Ht;if(s==="opacityBy")return qt;if(s==="opacityByDensityFill")return pt;if(s==="opacityByDensityDebounceTime")return g;if(s==="opacityInactiveMax")return St;if(s==="opacityInactiveScale")return Ot;if(s==="points")return An.points;if(s==="hoveredPoint")return kn;if(s==="selectedPoints")return[...lt];if(s==="filteredPoints")return Rt?Array.from(mn):Array.from({length:An.points.length},(N,$)=>$);if(s==="pointsInView")return la();if(s==="pointColor")return Je.length===1?Je[0]:Je;if(s==="pointColorActive")return et.length===1?et[0]:et;if(s==="pointColorHover")return $e.length===1?$e[0]:$e;if(s==="pointOutlineWidth")return fn;if(s==="pointSize")return It.length===1?It[0]:It;if(s==="pointSizeSelected")return Kt;if(s==="pointSizeMouseDetection")return zn;if(s==="showPointConnections")return zt;if(s==="pointConnectionColor")return _t.length===1?_t[0]:_t;if(s==="pointConnectionColorActive")return yt.length===1?yt[0]:yt;if(s==="pointConnectionColorHover")return xe.length===1?xe[0]:xe;if(s==="pointConnectionColorBy")return Ee;if(s==="pointConnectionOpacity")return Ue.length===1?Ue[0]:Ue;if(s==="pointConnectionOpacityBy")return _e;if(s==="pointConnectionOpacityActive")return nt;if(s==="pointConnectionSize")return ht.length===1?ht[0]:ht;if(s==="pointConnectionSizeActive")return Ft;if(s==="pointConnectionSizeBy")return Qt;if(s==="pointConnectionMaxIntPointsPerSegment")return Nt;if(s==="pointConnectionTolerance")return Xt;if(s==="reticleColor")return ze;if(s==="regl")return o.regl;if(s==="showReticle")return We;if(s==="version")return eL;if(s==="width")return Ut;if(s==="xScale")return Bn;if(s==="yScale")return En;if(s==="performanceMode")return Kr;if(s==="gamma")return o.gamma;if(s==="renderer")return o;if(s==="isDestroyed")return vt;if(s==="isPointsDrawn")return hr;if(s==="isPointsFiltered")return Rt;if(s==="zDataType")return hi;if(s==="wDataType")return Oi},sa=(s={})=>(Cp(s),(s.backgroundColor!==void 0||s.background!==void 0)&&Gs(s.backgroundColor||s.background),s.backgroundImage!==void 0&&Mc(s.backgroundImage),s.cameraTarget!==void 0&&Fc(s.cameraTarget),s.cameraDistance!==void 0&&Qh(s.cameraDistance),s.cameraRotation!==void 0&&Dc(s.cameraRotation),s.cameraView!==void 0&&Bc(s.cameraView),s.colorBy!==void 0&&cc(s.colorBy),s.pointColor!==void 0&&Sh(s.pointColor),s.pointColorActive!==void 0&&wh(s.pointColorActive),s.pointColorHover!==void 0&&mi(s.pointColorHover),s.pointSize!==void 0&&sc(s.pointSize),s.pointSizeSelected!==void 0&&ao(s.pointSizeSelected),s.pointSizeMouseDetection!==void 0&&im(s.pointSizeMouseDetection),s.sizeBy!==void 0&&Lh(s.sizeBy),s.opacity!==void 0&&Ch(s.opacity),s.showPointConnections!==void 0&&Qc(s.showPointConnections),s.pointConnectionColor!==void 0&&Kc(s.pointConnectionColor),s.pointConnectionColorActive!==void 0&&qc(s.pointConnectionColorActive),s.pointConnectionColorHover!==void 0&&Zc(s.pointConnectionColorHover),s.pointConnectionColorBy!==void 0&&fc(s.pointConnectionColorBy),s.pointConnectionOpacityBy!==void 0&&tn(s.pointConnectionOpacityBy),s.pointConnectionOpacity!==void 0&&Zh(s.pointConnectionOpacity),s.pointConnectionOpacityActive!==void 0&&Jh(s.pointConnectionOpacityActive),s.pointConnectionSize!==void 0&&em(s.pointConnectionSize),s.pointConnectionSizeActive!==void 0&&tm(s.pointConnectionSizeActive),s.pointConnectionSizeBy!==void 0&&dc(s.pointConnectionSizeBy),s.pointConnectionMaxIntPointsPerSegment!==void 0&&nm(s.pointConnectionMaxIntPointsPerSegment),s.pointConnectionTolerance!==void 0&&rm(s.pointConnectionTolerance),s.opacityBy!==void 0&&bh(s.opacityBy),s.lassoColor!==void 0&&cl(s.lassoColor),s.lassoLineWidth!==void 0&&Kh(s.lassoLineWidth),s.lassoMinDelay!==void 0&&vi(s.lassoMinDelay),s.lassoMinDist!==void 0&&fl(s.lassoMinDist),s.lassoClearEvent!==void 0&&jc(s.lassoClearEvent),s.lassoInitiator!==void 0&&$c(s.lassoInitiator),s.lassoInitiatorParentElement!==void 0&&Gc(s.lassoInitiatorParentElement),s.lassoOnLongPress!==void 0&&zc(s.lassoOnLongPress),s.lassoLongPressTime!==void 0&&Uc(s.lassoLongPressTime),s.lassoLongPressAfterEffectTime!==void 0&&Vc(s.lassoLongPressAfterEffectTime),s.lassoLongPressEffectDelay!==void 0&&Hc(s.lassoLongPressEffectDelay),s.lassoLongPressRevertEffectTime!==void 0&&Wc(s.lassoLongPressRevertEffectTime),s.keyMap!==void 0&&Xc(s.keyMap),s.mouseMode!==void 0&&Lr(s.mouseMode),s.showReticle!==void 0&&Yc(s.showReticle),s.reticleColor!==void 0&&qh(s.reticleColor),s.pointOutlineWidth!==void 0&&uc(s.pointOutlineWidth),s.height!==void 0&&Ah(s.height),s.width!==void 0&&Ss(s.width),s.aspectRatio!==void 0&&_h(s.aspectRatio),s.xScale!==void 0&&ei(s.xScale),s.yScale!==void 0&&zs(s.yScale),s.deselectOnDblClick!==void 0&&Bi(s.deselectOnDblClick),s.deselectOnEscape!==void 0&&dl(s.deselectOnEscape),s.opacityByDensityFill!==void 0&&Jc(s.opacityByDensityFill),s.opacityInactiveMax!==void 0&&ef(s.opacityInactiveMax),s.opacityInactiveScale!==void 0&&om(s.opacityInactiveScale),s.gamma!==void 0&&am(s.gamma),new Promise(N=>{window.requestAnimationFrame(()=>{u&&(Es(),Ie.refresh(),o.refresh(),gt=!0,N())})})),lm=(s,{preventEvent:N=!1}={})=>{Bc(s),gt=!0,Ga=N},tf=()=>{Ie||(Ie=w2(u,{isPanInverted:[!1,!0]})),e.cameraView?Ie.setView(Jy(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Ie.lookAt([...e.cameraTarget||DC],e.cameraDistance||FC,e.cameraRotation||BC):Ie.setView(Jy(jC)),Yo=Ar(1,1),Zi=Ar(-1,-1)},sm=({preventEvent:s=!1}={})=>{tf(),ki(),!s&&t.publish("view",{view:Ie.view,camera:Ie,xScale:Bn,yScale:En})},nf=({key:s})=>{switch(s){case"Escape":h&&Ja();break}},rf=()=>{Br=!0,di=!0},Vs=()=>{Jo(),Br=!1,di=!0,gt=!0},of=()=>{gt=!0},um=()=>{oa([]),en.clear()},ua=()=>{Ie.refresh();const s=Ut===wi,N=wt===wi;if(s||N){const{width:$,height:oe}=u.getBoundingClientRect();s&&Jr($),N&&Ni(oe),Es(),gt=!0}},cm=()=>u.getContext("2d").getImageData(0,0,u.width,u.height),fm=()=>{Es(),tf(),ki(),Zt=zf(o.regl,{color:p,width:O,is2d:!0}),en=zf(o.regl,{color:_t,colorHover:xe,colorActive:yt,opacity:Ue===null?null:Ue[0],width:ht[0],widthActive:Ft,is2d:!0}),Wo=zf(o.regl,{color:ze,width:1,is2d:!0}),Xo=zf(o.regl,{color:ze,width:1,is2d:!0}),pi(),u.addEventListener("wheel",of),Qo=o.regl.buffer(),us=o.regl.buffer(),Ko=o.regl.buffer({usage:"dynamic",type:"float",length:Z2*2}),Ji=xs(),Xa=rl();const s=sa({backgroundImage:l,width:Ut,height:wt,keyMap:ue});Nc(),Ic(),window.addEventListener("keyup",nf,!1),window.addEventListener("blur",ta,!1),window.addEventListener("mouseup",gs,!1),window.addEventListener("mousemove",Zr,!1),u.addEventListener("mousedown",vs,!1),u.addEventListener("mouseenter",rf,!1),u.addEventListener("mouseleave",Vs,!1),u.addEventListener("click",tl,!1),u.addEventListener("dblclick",nl,!1),"ResizeObserver"in window?(za=new ResizeObserver(ua),za.observe(u)):(window.addEventListener("resize",ua),window.addEventListener("orientationchange",ua)),s.then(()=>{t.publish("init")})},ho=o.onFrame(()=>{ds=Ie.tick(),!(!hr||!(gt||Ri))&&(Ri&&!Rc(cs,fs)&&Oc(),ds&&(Yo=Ar(1,1),Zi=Ar(-1,-1),qt==="density"&&co()),o.render(()=>{const s=u.width/o.canvas.width,N=u.height/o.canvas.height;Eh(s,N),l&&l._reglType&&Bh(),qr.length>2&&Ms(),Ri||en.draw({projection:mc(),model:na(),view:ll()}),Nh(),!Tt&&(We||Li)&&jh(),kn>=0&&Ih(),lt.length&&Fh(),Zt.draw({projection:mc(),model:na(),view:ll()})},u),ds&&(ki(),Ga?Ga=!1:t.publish("view",{view:Ie.view,camera:Ie,xScale:Bn,yScale:En})),gt=!1,Li=!1,t.publish("draw"))}),dm=()=>{gt=!0},hm=()=>{hr=!1,vt=!0,ho(),window.removeEventListener("keyup",nf,!1),window.removeEventListener("blur",ta,!1),window.removeEventListener("mouseup",gs,!1),window.removeEventListener("mousemove",Zr,!1),u.removeEventListener("mousedown",vs,!1),u.removeEventListener("mouseenter",rf,!1),u.removeEventListener("mouseleave",Vs,!1),u.removeEventListener("click",tl,!1),u.removeEventListener("dblclick",nl,!1),u.removeEventListener("wheel",of,!1),za?za.disconnect():(window.removeEventListener("resize",ua),window.removeEventListener("orientationchange",ua)),u=void 0,Ie.dispose(),Ie=void 0,Zt.destroy(),Cn.destroy(),en.destroy(),Wo.destroy(),Xo.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return fm(),{get isSupported(){return o.isSupported},clear:bn(um),createTextureFromUrl:(s,N=Uv)=>d1(o.regl,s,N),deselect:Ja,destroy:hm,draw:fo,filter:Ac,get:Us,getScreenPosition:Yh,hover:Jo,redraw:dm,refresh:o.refresh,reset:bn(sm),select:io,set:sa,export:cm,subscribe:t.subscribe,unfilter:aa,unsubscribe:t.unsubscribe,view:lm,zoomToLocation:js,zoomToArea:Bs,zoomToPoints:Fi,zoomToOrigin:kc}};function sd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function N_(e){let t,n,r;e.length!==2?(t=sd,n=(l,u)=>sd(e(l),u),r=(l,u)=>e(l)-u):(t=e===sd||e===nL?e:rL,n=e,r=e);function i(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const h=f+m>>>1;n(l[h],u)<0?f=h+1:m=h}while(f<m)}return f}function o(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const h=f+m>>>1;n(l[h],u)<=0?f=h+1:m=h}while(f<m)}return f}function a(l,u,f=0,m=l.length){const h=i(l,u,f,m-1);return h>f&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:a,right:o}}function rL(){return 0}function iL(e){return e===null?NaN:+e}const oL=N_(sd),aL=oL.right;N_(iL).center;const lL=aL;function sL(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class uL extends Map{constructor(t,n=dL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(g1(this,t))}has(t){return super.has(g1(this,t))}set(t,n){return super.set(cL(this,t),n)}delete(t){return super.delete(fL(this,t))}}function g1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fL({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function dL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hL(e){return e}function mL(e,...t){return pL(e,Array.from,hL,t)}function pL(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new uL,u=r[a++];let f=-1;for(const m of o){const h=u(m,++f,o),p=l.get(h);p?p.push(m):l.set(h,[m])}for(const[m,h]of l)l.set(m,i(h,a));return t(l)}(e,0)}const vL=Math.sqrt(50),gL=Math.sqrt(10),yL=Math.sqrt(2);function Ud(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=vL?10:o>=gL?5:o>=yL?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Ud(e,t,n*2):[l,u,f]}function k0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Ud(t,e,n):Ud(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(o-f)/-a;else for(let f=0;f<l;++f)u[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function N0(e,t,n){return t=+t,e=+e,n=+n,Ud(e,t,n)[2]}function xL(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?N0(t,e,n):N0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function I_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function EL(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function hh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function os(){}var Ma=.7,Jl=1/Ma,Vl="\\s*([+-]?\\d+)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_L=/^#([0-9a-f]{3,8})$/,SL=new RegExp(`^rgb\\(${Vl},${Vl},${Vl}\\)$`),wL=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),TL=new RegExp(`^rgba\\(${Vl},${Vl},${Vl},${Wu}\\)$`),AL=new RegExp(`^rgba\\(${bi},${bi},${bi},${Wu}\\)$`),CL=new RegExp(`^hsl\\(${Wu},${bi},${bi}\\)$`),bL=new RegExp(`^hsla\\(${Wu},${bi},${bi},${Wu}\\)$`),y1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hh(os,Xu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x1,formatHex:x1,formatHex8:LL,formatHsl:RL,formatRgb:E1,toString:E1});function x1(){return this.rgb().formatHex()}function LL(){return this.rgb().formatHex8()}function RL(){return D_(this).formatHsl()}function E1(){return this.rgb().formatRgb()}function Xu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_L.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_1(t):n===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SL.exec(e))?new nr(t[1],t[2],t[3],1):(t=wL.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TL.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=AL.exec(e))?Hf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CL.exec(e))?T1(t[1],t[2]/100,t[3]/100,1):(t=bL.exec(e))?T1(t[1],t[2]/100,t[3]/100,t[4]):y1.hasOwnProperty(e)?_1(y1[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function _1(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function Hf(e,t,n,r){return r<=0&&(e=t=n=NaN),new nr(e,t,n,r)}function M_(e){return e instanceof os||(e=Xu(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function Vd(e,t,n,r){return arguments.length===1?M_(e):new nr(e,t,n,r??1)}function nr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hh(nr,Vd,Vv(os,{brighter(e){return e=e==null?Jl:Math.pow(Jl,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(ba(this.r),ba(this.g),ba(this.b),Hd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S1,formatHex:S1,formatHex8:OL,formatRgb:w1,toString:w1}));function S1(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function OL(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function w1(){const e=Hd(this.opacity);return`${e===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${e===1?")":`, ${e})`}`}function Hd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ta(e){return e=ba(e),(e<16?"0":"")+e.toString(16)}function T1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,n,r)}function D_(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof os||(e=Xu(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new oi(a,l,u,e.opacity)}function PL(e,t,n,r){return arguments.length===1?D_(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hh(oi,PL,Vv(os,{brighter(e){return e=e==null?Jl:Math.pow(Jl,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new nr(Lp(e>=240?e-240:e+120,i,r),Lp(e,i,r),Lp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new oi(A1(this.h),Wf(this.s),Wf(this.l),Hd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hd(this.opacity);return`${e===1?"hsl(":"hsla("}${A1(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function A1(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function Lp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kL=Math.PI/180,NL=180/Math.PI;var F_=-.14861,Hv=1.78277,Wv=-.29227,mh=-.90649,Yu=1.97294,C1=Yu*mh,b1=Yu*Hv,L1=Hv*Wv-mh*F_;function IL(e){if(e instanceof La)return new La(e.h,e.s,e.l,e.opacity);e instanceof nr||(e=M_(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(L1*r+C1*t-b1*n)/(L1+C1-b1),o=r-i,a=(Yu*(n-i)-Wv*o)/mh,l=Math.sqrt(a*a+o*o)/(Yu*i*(1-i)),u=l?Math.atan2(a,o)*NL-120:NaN;return new La(u<0?u+360:u,l,i,e.opacity)}function Go(e,t,n,r){return arguments.length===1?IL(e):new La(e,t,n,r??1)}function La(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hh(La,Go,Vv(os,{brighter(e){return e=e==null?Jl:Math.pow(Jl,e),new La(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new La(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*kL,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new nr(255*(t+n*(F_*r+Hv*i)),255*(t+n*(Wv*r+mh*i)),255*(t+n*(Yu*r)),this.opacity)}}));const ph=e=>()=>e;function B_(e,t){return function(n){return e+n*t}}function ML(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DL(e,t){var n=t-e;return n?B_(e,n>180||n<-180?n-360*Math.round(n/360):n):ph(isNaN(e)?t:e)}function FL(e){return(e=+e)==1?Hl:function(t,n){return n-t?ML(t,n,e):ph(isNaN(t)?n:t)}}function Hl(e,t){var n=t-e;return n?B_(e,n):ph(isNaN(e)?t:e)}const R1=function e(t){var n=FL(t);function r(i,o){var a=n((i=Vd(i)).r,(o=Vd(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),f=Hl(i.opacity,o.opacity);return function(m){return i.r=a(m),i.g=l(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r}(1);function BL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function jL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $L(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=vh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function GL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var I0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rp=new RegExp(I0.source,"g");function UL(e){return function(){return e}}function VL(e){return function(t){return e(t)+""}}function HL(e,t){var n=I0.lastIndex=Rp.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=I0.exec(e))&&(i=Rp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Wd(r,i)})),n=Rp.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?VL(u[0].x):UL(t):(t=u.length,function(f){for(var m=0,h;m<t;++m)l[(h=u[m]).i]=h.x(f);return l.join("")})}function vh(e,t){var n=typeof t,r;return t==null||n==="boolean"?ph(t):(n==="number"?Wd:n==="string"?(r=Xu(t))?(t=r,R1):HL:t instanceof Xu?R1:t instanceof Date?GL:jL(t)?BL:Array.isArray(t)?$L:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zL:Wd)(e,t)}function j_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $_(e){return function t(n){n=+n;function r(i,o){var a=e((i=Go(i)).h,(o=Go(o)).h),l=Hl(i.s,o.s),u=Hl(i.l,o.l),f=Hl(i.opacity,o.opacity);return function(m){return i.h=a(m),i.s=l(m),i.l=u(Math.pow(m,n)),i.opacity=f(m),i+""}}return r.gamma=t,r}(1)}$_(DL);var G_=$_(Hl);function WL(e){return function(){return e}}function XL(e){return+e}var O1=[0,1];function Ro(e){return e}function M0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:WL(isNaN(t)?NaN:.5)}function YL(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function QL(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=M0(i,r),o=n(a,o)):(r=M0(r,i),o=n(o,a)),function(l){return o(r(l))}}function KL(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=M0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var u=lL(e,l,1,r)-1;return o[u](i[u](l))}}function z_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function U_(){var e=O1,t=O1,n=vh,r,i,o,a=Ro,l,u,f;function m(){var p=Math.min(e.length,t.length);return a!==Ro&&(a=YL(e[0],e[p-1])),l=p>2?KL:QL,u=f=null,h}function h(p){return p==null||isNaN(p=+p)?o:(u||(u=l(e.map(r),t,n)))(r(a(p)))}return h.invert=function(p){return a(i((f||(f=l(t,e.map(r),Wd)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,XL),m()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),m()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=j_,m()},h.clamp=function(p){return arguments.length?(a=p?!0:Ro,m()):a!==Ro},h.interpolate=function(p){return arguments.length?(n=p,m()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,O){return r=p,i=O,m()}}function qL(){return U_()(Ro,Ro)}function ZL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function es(e){return e=Xd(Math.abs(e)),e?e[1]:NaN}function JL(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function eR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var tR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qu(e){if(!(t=tR.exec(e)))throw new Error("invalid format: "+e);var t;return new Xv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qu.prototype=Xv.prototype;function Xv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nR(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var V_;function rR(e,t){var n=Xd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(V_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xd(e,Math.max(0,t+o-1))[0]}function P1(e,t){var n=Xd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const k1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>P1(e*100,t),r:P1,s:rR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N1(e){return e}var I1=Array.prototype.map,M1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iR(e){var t=e.grouping===void 0||e.thousands===void 0?N1:JL(I1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?N1:eR(I1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Qu(h);var p=h.fill,O=h.align,b=h.sign,k=h.symbol,B=h.zero,x=h.width,T=h.comma,C=h.precision,U=h.trim,Y=h.type;Y==="n"?(T=!0,Y="g"):k1[Y]||(C===void 0&&(C=12),U=!0,Y="g"),(B||p==="0"&&O==="=")&&(B=!0,p="0",O="=");var ne=k==="$"?n:k==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",Te=k==="$"?r:/[%p]/.test(Y)?a:"",ue=k1[Y],st=/[defgprs%]/.test(Y);C=C===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function We(ze){var Je=ne,et=Te,$e,zt,_t;if(Y==="c")et=ue(ze)+et,ze="";else{ze=+ze;var yt=ze<0||1/ze<0;if(ze=isNaN(ze)?u:ue(Math.abs(ze),C),U&&(ze=nR(ze)),yt&&+ze==0&&b!=="+"&&(yt=!1),Je=(yt?b==="("?b:l:b==="-"||b==="("?"":b)+Je,et=(Y==="s"?M1[8+V_/3]:"")+et+(yt&&b==="("?")":""),st){for($e=-1,zt=ze.length;++$e<zt;)if(_t=ze.charCodeAt($e),48>_t||_t>57){et=(_t===46?i+ze.slice($e+1):ze.slice($e))+et,ze=ze.slice(0,$e);break}}}T&&!B&&(ze=t(ze,1/0));var xe=Je.length+ze.length+et.length,Ee=xe<x?new Array(x-xe+1).join(p):"";switch(T&&B&&(ze=t(Ee+ze,Ee.length?x-et.length:1/0),Ee=""),O){case"<":ze=Je+ze+et+Ee;break;case"=":ze=Je+Ee+ze+et;break;case"^":ze=Ee.slice(0,xe=Ee.length>>1)+Je+ze+et+Ee.slice(xe);break;default:ze=Ee+Je+ze+et;break}return o(ze)}return We.toString=function(){return h+""},We}function m(h,p){var O=f((h=Qu(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(es(p)/3)))*3,k=Math.pow(10,-b),B=M1[8+b/3];return function(x){return O(k*x)+B}}return{format:f,formatPrefix:m}}var Xf,Yv,H_;oR({thousands:",",grouping:[3],currency:["$",""]});function oR(e){return Xf=iR(e),Yv=Xf.format,H_=Xf.formatPrefix,Xf}function aR(e){return Math.max(0,-es(Math.abs(e)))}function lR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(es(t)/3)))*3-es(Math.abs(e)))}function sR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,es(t)-es(e))+1}function uR(e,t,n,r){var i=xL(e,t,n),o;switch(r=Qu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=lR(i,a))&&(r.precision=o),H_(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sR(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aR(i))&&(r.precision=o-(r.type==="%")*2);break}}return Yv(r)}function W_(e){var t=e.domain;return e.ticks=function(n){var r=t();return k0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],u,f,m=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);m-- >0;){if(f=N0(a,l,n),f===u)return r[i]=a,r[o]=l,t(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function Da(){var e=qL();return e.copy=function(){return z_(e,Da())},I_.apply(e,arguments),W_(e)}function cR(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function D1(e){return Math.log(e)}function F1(e){return Math.exp(e)}function fR(e){return-Math.log(-e)}function dR(e){return-Math.exp(-e)}function hR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mR(e){return e===10?hR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B1(e){return(t,n)=>-e(-t,n)}function vR(e){const t=e(D1,F1),n=t.domain;let r=10,i,o;function a(){return i=pR(r),o=mR(r),n()[0]<0?(i=B1(i),o=B1(o),e(fR,dR)):e(D1,F1),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let f=u[0],m=u[u.length-1];const h=m<f;h&&([f,m]=[m,f]);let p=i(f),O=i(m),b,k;const B=l==null?10:+l;let x=[];if(!(r%1)&&O-p<B){if(p=Math.floor(p),O=Math.ceil(O),f>0){for(;p<=O;++p)for(b=1;b<r;++b)if(k=p<0?b/o(-p):b*o(p),!(k<f)){if(k>m)break;x.push(k)}}else for(;p<=O;++p)for(b=r-1;b>=1;--b)if(k=p>0?b/o(-p):b*o(p),!(k<f)){if(k>m)break;x.push(k)}x.length*2<B&&(x=k0(f,m,B))}else x=k0(p,O,Math.min(O-p,B)).map(o);return h?x.reverse():x},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Qu(u)).precision==null&&(u.trim=!0),u=Yv(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return m=>{let h=m/o(Math.round(i(m)));return h*r<r-.5&&(h*=r),h<=f?u(m):""}},t.nice=()=>n(cR(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function Qv(){const e=vR(U_()).domain([1,10]);return e.copy=()=>z_(e,Qv()).base(e.base()),I_.apply(e,arguments),e}function gR(){var e=0,t=1,n,r,i,o,a=Ro,l=!1,u;function f(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(h){return arguments.length?(l=!!h,f):l},f.interpolator=function(h){return arguments.length?(a=h,f):a};function m(h){return function(p){var O,b;return arguments.length?([O,b]=p,a=h(O,b),f):[a(0),a(1)]}}return f.range=m(vh),f.rangeRound=m(j_),f.unknown=function(h){return arguments.length?(u=h,f):u},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),f}}function yR(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function X_(){var e=W_(gR()(Ro));return e.copy=function(){return yR(e,X_())},EL.apply(e,arguments)}G_(Go(-100,.75,.35),Go(80,1.5,.8));var xR=G_(Go(260,.75,.35),Go(80,1.5,.8));Go();const ER="_scatter_lrznx_2",_R={scatter:ER};Y_.propTypes={points:Ye.array.isRequired,colors:Ye.array,width:Ye.number.isRequired,height:Ye.number.isRequired,onScatter:Ye.func,onView:Ye.func,onSelect:Ye.func,onHover:Ye.func};const SR=e=>Qv().domain([100,1e6]).range([6,1]).clamp(!0)(e),wR=e=>Qv().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function Y_({points:e,colors:t,width:n,height:r,onScatter:i,onView:o,onSelect:a,onHover:l}){const u=te.useRef(),f=te.useRef([-1,1]),m=te.useRef([-1,1]),h=Da().domain(f.current),p=Da().domain(m.current);return te.useEffect(()=>{if(e&&e.length){const O=SR(e.length),b=wR(e.length);let k=[250/255,128/255,114/255,1],B=e;if(t!=null&&t.length){B=e.map((Y,ne)=>[Y[0],Y[1],t[ne]]);const C=mL(t,Y=>Y).map(Y=>Y[0]).sort((Y,ne)=>Y-ne),U=X_(xR).domain(sL(C).reverse());k=C.map(Y=>Vd(U(Y)).hex())}const x={canvas:u.current,width:n,height:r,pointSize:O,opacity:b,pointColor:k,pointColorHover:[.1,.1,.1,.5],xScale:h,yScale:p};t!=null&&t.length&&(x.colorBy="valueA");const T=tL(x);return T.draw(B),o&&o(h,p),T.subscribe("view",({camera:C,view:U,xScale:Y,yScale:ne})=>{f.current=Y.domain(),m.current=ne.domain(),o&&o(f.current,m.current)}),T.subscribe("select",({points:C})=>{a&&a(C)}),T.subscribe("deselect",()=>{a&&a([])}),T.subscribe("pointOver",C=>{l&&l(C)}),T.subscribe("pointOut",()=>{l&&l(null)}),i&&i(T),()=>{T.destroy()}}},[e,t,n,r]),se.jsx("canvas",{className:_R.scatter,ref:u})}const hu=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:u})=>{const f=te.useRef();return te.useEffect(()=>{if(o&&a){const m=Da().domain(o).range([0,l]),h=Da().domain(a).range([u,0]),p=B=>B/(.1+o[1]-o[0]),b=f.current.getContext("2d");b.clearRect(0,0,l,u),b.fillStyle=t,b.strokeStyle=n,b.font=`${p(r)}px monospace`,b.globalAlpha=.75;let k=p(r);if(!e.length)return;e.map(B=>{B&&(t&&b.fillRect(m(B[0])-k/2,h(B[1])-k/2,k,k),n&&b.strokeRect(m(B[0])-k/2,h(B[1])-k/2,k,k),i&&b.fillText(i,m(B[0])-k/3.2,h(B[1])+k/3.2))})}},[e,t,n,r,o,a,l,u]),se.jsx("canvas",{className:"annotation-plot",ref:f,width:l,height:u})},Op=({points:e,hulls:t,fill:n,stroke:r,size:i,symbol:o,xDomain:a,yDomain:l,width:u,height:f})=>{const m=te.useRef();return te.useEffect(()=>{if(a&&l){const h=Da().domain(a).range([0,u]),p=Da().domain(l).range([f,0]),O=B=>B/(.1+a[1]-a[0]),k=m.current.getContext("2d");if(k.clearRect(0,0,u,f),k.fillStyle=n,k.strokeStyle=r,k.font=`${O(i)}px monospace`,k.globalAlpha=.75,O(i),!t.length||!e.length)return;t.forEach(B=>{B&&(k.beginPath(),B.forEach((x,T)=>{T===0?k.moveTo(h(e[x][0]),p(e[x][1])):k.lineTo(h(e[x][0]),p(e[x][1]))}),k.lineTo(h(e[B[0]][0]),p(e[B[0]][1])),n&&k.fill(),r&&k.stroke())})}},[e,t,n,r,i,a,l,u,f]),se.jsx("canvas",{className:"hull-plot",ref:m,width:u,height:f})},Pr="https://api.latentscope.com/api",TR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),j1=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function AR(){var An;const[e,t]=te.useState(null),{dataset:n,scope:r}=kA(),i=Nv(),o=te.useRef(null),[a,l]=u();function u(){const[Z,xt]=te.useState([500,500]);return te.useEffect(()=>{function Fn(){if(!o.current)return;const{height:Un,width:wr}=o.current.getBoundingClientRect();let en=wr>500?500:wr-50;xt([en,en])}return window.addEventListener("resize",Fn),Fn(),setTimeout(Fn,100),()=>window.removeEventListener("resize",Fn)},[]),Z}const f=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[m,h]=te.useState(2);te.useEffect(()=>{fetch(`${Pr}/datasets/${n}/meta`).then(Z=>Z.json()).then(Z=>{console.log("dataset",Z),t(Z)})},[n,t]);const[p,O]=te.useState([]);te.useEffect(()=>{fetch(`${Pr}/datasets/${n}/scopes`).then(Z=>Z.json()).then(Z=>{O(Z)})},[n,O]);const[b,k]=te.useState(null);te.useEffect(()=>{fetch(`${Pr}/datasets/${n}/scopes/${r}`).then(Z=>Z.json()).then(Z=>{console.log("scope",Z),k(Z)})},[n,r,k]);const[B,x]=te.useState(null),[T,C]=te.useState(null),[U,Y]=te.useState([]),[ne,Te]=te.useState([]),[ue,st]=te.useState(B==null?void 0:B.id),[We,ze]=te.useState([]);te.useEffect(()=>{fetch(`${Pr}/datasets/${n}/embeddings`).then(Z=>Z.json()).then(Z=>{ze(Z)})},[n,ze]),te.useEffect(()=>{b&&(x(We.find(Z=>Z.id==b.embedding_id)),fetch(`${Pr}/datasets/${n}/umaps/${b.umap_id}`).then(Z=>Z.json()).then(Z=>{console.log("umap",Z),C(Z)}),fetch(`${Pr}/datasets/${n}/clusters/${b.cluster_id}/labels/${b.cluster_labels_id}`).then(Z=>Z.json()).then(Z=>{console.log("labels",Z),Te(Z)}),fetch(`${Pr}/datasets/${n}/clusters/${b.cluster_id}/indices`).then(Z=>Z.json()).then(Z=>{console.log("cluster indices",Z),Y(Z)}))},[n,b,We,C,Te,x,st]);const Je=te.useMemo(()=>U.map(Z=>Z.cluster),[U]);te.useEffect(()=>{B&&st(B.id)},[B,st]);const et=Z=>{console.log("selected",Z),st(Z)},[$e,zt]=te.useState([]),[_t,yt]=te.useState(!1);te.useEffect(()=>{T&&fetch(`${Pr}/datasets/${e.id}/umaps/${T.id}/points`).then(Z=>Z.json()).then(Z=>{console.log("umap points",Z),zt(Z.map(xt=>[xt.x,xt.y]))})},[e,T]);const xe=te.useCallback((Z,xt,Fn=[])=>{fetch(`${Pr}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:Z})}).then(Un=>Un.json()).then(Un=>{if(!e)return;let wr=Un.map((en,ir)=>({index:Z[ir],...en}));xt(wr)})},[e,n]),[Ee,Ue]=te.useState({}),[_e,nt]=te.useState([-1,1]),[ht,Ft]=te.useState([-1,1]),Qt=te.useCallback((Z,xt)=>{nt(Z),Ft(xt)},[nt,Ft]),[Nt,Xt]=te.useState([]),It=te.useCallback(Z=>{console.log("handle selected",Z),Xt(Z),h(0)},[Xt,h]),[Kt,zn]=te.useState(null),[fn,Ht]=te.useState(null);te.useEffect(()=>{Kt!=null?xe([Kt],Z=>{Ht(Z[0])}):Ht(null)},[Kt,Ht,xe]);const[qt,pt]=te.useState(null);te.useEffect(()=>{if(fn&&U.length&&ne.length){const Z=fn.index,xt=U[Z],Fn=ne[xt==null?void 0:xt.cluster];pt({cluster:xt.cluster,...Fn})}else pt(null)},[fn,U,ne,pt]);const[St,Ot]=te.useState([]);te.useEffect(()=>{Kt!=null?Ot([$e[Kt]]):Ot([])},[Kt,$e]);const[ut,wt]=te.useState({});te.useEffect(()=>{fetch(`${Pr}/tags?dataset=${n}`).then(Z=>Z.json()).then(Z=>wt(Z))},[n]);const Ut=te.useMemo(()=>{const Z=[];for(const xt in ut)Z.push(xt);return Z},[ut]),[Yt,Dn]=te.useState(Ut[0]),[Kr,g]=te.useState([]);te.useEffect(()=>{if(ut[Yt]){const Z=ut[Yt].map(xt=>$e[xt]);g(Z)}else g([]),Ee&&Ee.config&&(Ee==null||Ee.zoomToOrigin({transition:!0,transitionDuration:1500}))},[ut,Yt,$e,Ee,g]);const[vt,kt]=te.useState([]),[Ie,Zt]=te.useState([]),Tt=te.useCallback(Z=>{fetch(`${Pr}/search/nn?dataset=${n}&query=${Z}&embedding_id=${ue}`).then(xt=>xt.json()).then(xt=>{Zt(xt.distances),kt(xt.indices),Ee==null||Ee.zoomToPoints(xt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[ue,n,Ee,Zt,kt]),[De,Lt]=te.useState([]);te.useEffect(()=>{const Z=vt.map(xt=>$e[xt]);Lt(Z)},[vt,$e]);const[Ke,lt]=te.useState(null),[on,rn]=te.useState([]);te.useEffect(()=>{if(Ke){const Z=Ke.indices.map(xt=>$e[xt]);rn(Z)}else rn([]),Ee&&Ee.config&&(Ee==null||Ee.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ke,$e,Ee,rn]);const[Rt,mn]=te.useState((Ke==null?void 0:Ke.label)||"");te.useEffect(()=>{mn((Ke==null?void 0:Ke.label)||"")},[Ke]);const dn=te.useCallback(Z=>{Ee==null||Ee.zoomToPoints([Z],{transition:!0,padding:.9,transitionDuration:1500})},[Ee]),Qn=te.useCallback(Z=>{zn(Z)},[zn]),dr=te.useCallback((Z,xt)=>{console.log("update label",Z,xt),fetch(`${Pr}/datasets/${n}/clusters/${b.cluster_id}/labels/${b.cluster_labels_id}/label/${Z}?label=${xt}`).then(Fn=>Fn.json()).then(Fn=>{fetch(`${Pr}/datasets/${n}/clusters/${b.cluster_id}/labels/${b.cluster_labels_id}`).then(Un=>Un.json()).then(Un=>{console.log("got new labels",Un),Te(Un)}).catch(console.error)}).catch(console.error)},[n,b]),qr=te.useCallback(()=>{lt(null),Te([]),zt([])},[]);return e?se.jsxs("div",{ref:o,className:"container",children:[se.jsxs("div",{className:"cluster",children:[se.jsxs("div",{className:"summary",children:[se.jsxs("div",{className:"scope-card",children:[j1()?se.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,se.jsxs("div",{className:"heading",children:[n,": ",se.jsx("select",{className:"scope-selector",onChange:Z=>{qr(),i(`/datasets/${e==null?void 0:e.id}/explore/${Z.target.value}`)},children:p.map((Z,xt)=>se.jsx("option",{value:Z.id,selected:Z.id===(b==null?void 0:b.id),children:Z.label||Z.id},xt))}),null]}),se.jsx("span",{children:b==null?void 0:b.description}),se.jsxs("span",{children:["Embeddings: ",B==null?void 0:B.model_id]}),se.jsxs("span",{children:[ne==null?void 0:ne.length," clusters"]})]}),se.jsx("div",{className:"dataset-card",children:se.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),se.jsxs("div",{className:"umap-container",children:[se.jsx("div",{className:"scatters",style:{width:a,height:l},children:$e.length?se.jsxs(se.Fragment,{children:[TR()?se.jsx(hu,{points:$e,fill:"gray",size:"8",xDomain:_e,yDomain:ht,width:a,height:l}):se.jsx(Y_,{points:$e,colors:Je,loading:_t,width:a,height:l,onScatter:Ue,onView:Qt,onSelect:It,onHover:Qn}),qt&&qt.hull&&!b.ignore_hulls?se.jsx(Op,{points:$e,hulls:[qt==null?void 0:qt.hull],fill:"lightgray",xDomain:_e,yDomain:ht,width:a,height:l}):null,Ke&&Ke.hull&&!b.ignore_hulls?se.jsx(Op,{points:$e,hulls:[Ke==null?void 0:Ke.hull],fill:"darkgray",xDomain:_e,yDomain:ht,width:a,height:l}):null,ne.length&&!b.ignore_hulls?se.jsx(Op,{points:$e,hulls:ne.map(Z=>Z.hull),stroke:"lightgray",xDomain:_e,yDomain:ht,width:a,height:l}):null,se.jsx(hu,{points:De,stroke:"black",fill:"steelblue",size:"8",xDomain:_e,yDomain:ht,width:a,height:l}),se.jsx(hu,{points:on,fill:"darkred",size:"8",xDomain:_e,yDomain:ht,width:a,height:l}),se.jsx(hu,{points:Kr,symbol:Yt,size:"20",xDomain:_e,yDomain:ht,width:a,height:l}),se.jsx(hu,{points:St,stroke:"black",fill:"orange",size:"16",xDomain:_e,yDomain:ht,width:a,height:l})]}):null}),j1()?null:se.jsxs("div",{className:"hovered-point",children:[fn&&Object.keys(fn).map(Z=>se.jsxs("span",{children:[se.jsxs("span",{className:"key",children:[Z,":"]}),se.jsx("span",{className:"value",children:fn[Z]})]},Z)),qt?se.jsxs("span",{children:[se.jsxs("span",{className:"key",children:["Cluster ",qt.index,":"]}),se.jsx("span",{className:"value",children:qt.label})]}):null]})]})]}),se.jsxs("div",{className:"data",children:[se.jsx("div",{className:"tab-header",children:f.map(Z=>se.jsx("button",{onClick:()=>h(Z.id),className:Z.id===m?"tab-active":"tab-inactive",children:Z.name},Z.id))}),m===0?se.jsxs("div",{className:"tab-content",children:[se.jsxs("span",{children:["Selected: ",Nt==null?void 0:Nt.length,(Nt==null?void 0:Nt.length)>0?se.jsx("button",{className:"deselect",onClick:()=>{Xt([]),Ee==null||Ee.select([]),Ee==null||Ee.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Nt==null?void 0:Nt.length)>0?se.jsx(yu,{indices:Nt,clusterIndices:U,clusterLabels:ne,tagset:ut,dataset:e,maxRows:150,onTagset:Z=>wt(Z),onHover:Qn,onClick:dn}):null]}):null,m===1?se.jsxs("div",{className:"tab-content",children:[se.jsx("div",{className:"search-box",children:se.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),Tt(Z.target.elements.searchBox.value),h(1)},children:[se.jsx("input",{type:"text",id:"searchBox"}),se.jsx("button",{type:"submit",children:"Similarity Search"}),se.jsx("br",{}),se.jsx("label",{htmlFor:"embeddingModel"}),se.jsx("select",{id:"embeddingModel",onChange:Z=>et(Z.target.value),value:ue,children:We.map((Z,xt)=>se.jsxs("option",{value:Z.id,children:[Z.id," - ",Z.model_id]},xt))})]})}),se.jsxs("span",{children:[vt.length?se.jsxs("span",{children:["Nearest Neighbors: ",vt.length," (capped at 150) "]}):null,vt.length>0?se.jsx("button",{className:"deselect",onClick:()=>{kt([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),vt.length>0?se.jsx(yu,{indices:vt,distances:Ie,clusterIndices:U,clusterLabels:ne,tagset:ut,dataset:e,onTagset:Z=>wt(Z),onHover:Qn,onClick:dn}):null]}):null,m===2?se.jsxs("div",{className:"tab-content",children:[se.jsx("div",{className:"clusters-select",children:se.jsxs("select",{onChange:Z=>{const xt=ne.find(Fn=>Fn.index===+Z.target.value);xt&&lt(xt)},value:Ke==null?void 0:Ke.index,children:[se.jsx("option",{value:"",children:"Select a cluster"}),ne.map((Z,xt)=>se.jsxs("option",{value:Z.index,children:[Z.index,": ",Z.label]},xt))]})}),se.jsxs("div",{className:"cluster-selected",children:[Ke?se.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),dr(Ke.index,Rt)},children:[se.jsx("input",{type:"text",id:"new-label",value:Rt,onChange:Z=>mn(Z.target.value)}),se.jsx("button",{type:"submit",children:"Update Label"})]}):null,se.jsxs("span",{children:[Ke==null?void 0:Ke.indices.length," ",Ke!=null&&Ke.indices.length?"Rows":"",Ke?se.jsx("button",{className:"deselect",onClick:()=>{lt(null)},children:"X"}):null]})]}),se.jsx("div",{className:"cluster-table",children:Ke!=null&&Ke.indices?se.jsx(yu,{indices:Ke==null?void 0:Ke.indices,clusterIndices:U,clusterLabels:ne,dataset:e,tagset:ut,onTagset:Z=>wt(Z),onHover:Qn,onClick:dn}):null})]}):null,m===3?se.jsxs("div",{className:"tab-content",children:[se.jsxs("div",{className:"tags-box",children:[se.jsxs("div",{className:"tags-select",children:["Tags: ",Ut.map(Z=>se.jsxs("button",{className:"dataset--tag-link",onClick:()=>{Dn(Z),h(3),Ee==null||Ee.zoomToPoints(ut[Z],{transition:!0,padding:.2,transitionDuration:1500})},children:[Z,"(",ut[Z].length,")"]},Z))]}),null]}),se.jsxs("span",{children:[Yt," ",(An=ut[Yt])==null?void 0:An.length,Yt?se.jsx("button",{className:"deselect",onClick:()=>{Dn(null)},children:"X"}):null]}),ut[Yt]?se.jsx(yu,{indices:ut[Yt],clusterIndices:U,clusterLabels:ne,tagset:ut,dataset:e,onTagset:Z=>wt(Z),onHover:Qn,onClick:dn}):null]}):null]})]}):se.jsx("div",{children:"Loading..."})}Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.string.isRequired,Ye.object,Ye.array,Ye.array,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.array.isRequired,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.array,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.string,Ye.func.isRequired,Ye.func,Ye.func,Ye.func,Ye.func;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.object,Ye.object,Ye.string,Ye.func.isRequired,Ye.func.isRequired;const CR=()=>se.jsx("nav",{children:se.jsx("ul",{children:se.jsx("li",{children:se.jsx(c_,{to:"/",children:"Latent Scope"})})})});var bR={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const Q_=bR;console.log("ENV",Q_);function LR(){return se.jsxs(ZA,{basename:Q_.BASE_NAME,children:[se.jsx(CR,{}),se.jsx("div",{className:"page",children:se.jsxs(WA,{children:[se.jsx(A0,{path:"/",element:se.jsx(l2,{})}),se.jsx(A0,{path:"/datasets/:dataset/explore/:scope",element:se.jsx(AR,{})}),null,null,null,null]})})]})}Pp.createRoot(document.getElementById("root")).render(se.jsx(Q1.StrictMode,{children:se.jsx(LR,{})}));
