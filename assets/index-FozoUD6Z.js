function a9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var o9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F4={exports:{}},Hd={},$4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),l9=Symbol.for("react.portal"),s9=Symbol.for("react.fragment"),u9=Symbol.for("react.strict_mode"),c9=Symbol.for("react.profiler"),f9=Symbol.for("react.provider"),d9=Symbol.for("react.context"),h9=Symbol.for("react.forward_ref"),p9=Symbol.for("react.suspense"),m9=Symbol.for("react.memo"),v9=Symbol.for("react.lazy"),d3=Symbol.iterator;function g9(e){return e===null||typeof e!="object"?null:(e=d3&&e[d3]||e["@@iterator"],typeof e=="function"?e:null)}var B4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j4=Object.assign,z4={};function As(e,t,n){this.props=e,this.context=t,this.refs=z4,this.updater=n||B4}As.prototype.isReactComponent={};As.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};As.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G4(){}G4.prototype=As.prototype;function a2(e,t,n){this.props=e,this.context=t,this.refs=z4,this.updater=n||B4}var o2=a2.prototype=new G4;o2.constructor=a2;j4(o2,As.prototype);o2.isPureReactComponent=!0;var h3=Array.isArray,U4=Object.prototype.hasOwnProperty,l2={current:null},V4={key:!0,ref:!0,__self:!0,__source:!0};function H4(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)U4.call(t,r)&&!V4.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pc,type:e,key:a,ref:o,props:i,_owner:l2.current}}function y9(e,t){return{$$typeof:Pc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function s2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function x9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var p3=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x9(""+e.key):t.toString(36)}function N0(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pc:case l9:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Uh(o,0):r,h3(i)?(n="",e!=null&&(n=e.replace(p3,"$&/")+"/"),N0(i,t,n,"",function(u){return u})):i!=null&&(s2(i)&&(i=y9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(p3,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",h3(e))for(var l=0;l<e.length;l++){a=e[l];var s=r+Uh(a,l);o+=N0(a,t,n,s,i)}else if(s=g9(e),typeof s=="function")for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=r+Uh(a,l++),o+=N0(a,t,n,s,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function a0(e,t,n){if(e==null)return e;var r=[],i=0;return N0(e,r,"","",function(a){return t.call(n,a,i++)}),r}function _9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},I0={transition:null},w9={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:I0,ReactCurrentOwner:l2};Ht.Children={map:a0,forEach:function(e,t,n){a0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return a0(e,function(){t++}),t},toArray:function(e){return a0(e,function(t){return t})||[]},only:function(e){if(!s2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ht.Component=As;Ht.Fragment=s9;Ht.Profiler=c9;Ht.PureComponent=a2;Ht.StrictMode=u9;Ht.Suspense=p9;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w9;Ht.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=j4({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=l2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)U4.call(t,s)&&!V4.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pc,type:e.type,key:i,ref:a,props:r,_owner:o}};Ht.createContext=function(e){return e={$$typeof:d9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:f9,_context:e},e.Consumer=e};Ht.createElement=H4;Ht.createFactory=function(e){var t=H4.bind(null,e);return t.type=e,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(e){return{$$typeof:h9,render:e}};Ht.isValidElement=s2;Ht.lazy=function(e){return{$$typeof:v9,_payload:{_status:-1,_result:e},_init:_9}};Ht.memo=function(e,t){return{$$typeof:m9,type:e,compare:t===void 0?null:t}};Ht.startTransition=function(e){var t=I0.transition;I0.transition={};try{e()}finally{I0.transition=t}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(e,t){return pr.current.useCallback(e,t)};Ht.useContext=function(e){return pr.current.useContext(e)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};Ht.useEffect=function(e,t){return pr.current.useEffect(e,t)};Ht.useId=function(){return pr.current.useId()};Ht.useImperativeHandle=function(e,t,n){return pr.current.useImperativeHandle(e,t,n)};Ht.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};Ht.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};Ht.useMemo=function(e,t){return pr.current.useMemo(e,t)};Ht.useReducer=function(e,t,n){return pr.current.useReducer(e,t,n)};Ht.useRef=function(e){return pr.current.useRef(e)};Ht.useState=function(e){return pr.current.useState(e)};Ht.useSyncExternalStore=function(e,t,n){return pr.current.useSyncExternalStore(e,t,n)};Ht.useTransition=function(){return pr.current.useTransition()};Ht.version="18.2.0";$4.exports=Ht;var j=$4.exports;const W4=Vd(j),E9=a9({__proto__:null,default:W4},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9=j,b9=Symbol.for("react.element"),T9=Symbol.for("react.fragment"),A9=Object.prototype.hasOwnProperty,C9=S9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L9={key:!0,ref:!0,__self:!0,__source:!0};function X4(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)A9.call(t,r)&&!L9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:b9,type:e,key:a,ref:o,props:i,_owner:C9.current}}Hd.Fragment=T9;Hd.jsx=X4;Hd.jsxs=X4;F4.exports=Hd;var W=F4.exports,jp={},Y4={exports:{}},zr={},q4={exports:{}},Q4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(be,De){var xe=be.length;be.push(De);e:for(;0<xe;){var Ae=xe-1>>>1,et=be[Ae];if(0<i(et,De))be[Ae]=De,be[xe]=et,xe=Ae;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var De=be[0],xe=be.pop();if(xe!==De){be[0]=xe;e:for(var Ae=0,et=be.length,_t=et>>>1;Ae<_t;){var At=2*(Ae+1)-1,Yt=be[At],It=At+1,kt=be[It];if(0>i(Yt,xe))It<et&&0>i(kt,Yt)?(be[Ae]=kt,be[It]=xe,Ae=It):(be[Ae]=Yt,be[At]=xe,Ae=At);else if(It<et&&0>i(kt,xe))be[Ae]=kt,be[It]=xe,Ae=It;else break e}}return De}function i(be,De){var xe=be.sortIndex-De.sortIndex;return xe!==0?xe:be.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,p=null,c=3,v=!1,x=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(be){for(var De=n(u);De!==null;){if(De.callback===null)r(u);else if(De.startTime<=be)r(u),De.sortIndex=De.expirationTime,t(s,De);else break;De=n(u)}}function P(be){if(L=!1,w(be),!x)if(n(s)!==null)x=!0,mt(z);else{var De=n(u);De!==null&&vt(P,De.startTime-be)}}function z(be,De){x=!1,L&&(L=!1,g(ee),ee=-1),v=!0;var xe=c;try{for(w(De),p=n(s);p!==null&&(!(p.expirationTime>De)||be&&!je());){var Ae=p.callback;if(typeof Ae=="function"){p.callback=null,c=p.priorityLevel;var et=Ae(p.expirationTime<=De);De=e.unstable_now(),typeof et=="function"?p.callback=et:p===n(s)&&r(s),w(De)}else r(s);p=n(s)}if(p!==null)var _t=!0;else{var At=n(u);At!==null&&vt(P,At.startTime-De),_t=!1}return _t}finally{p=null,c=xe,v=!1}}var Q=!1,ue=null,ee=-1,Ke=5,Se=-1;function je(){return!(e.unstable_now()-Se<Ke)}function Xe(){if(ue!==null){var be=e.unstable_now();Se=be;var De=!0;try{De=ue(!0,be)}finally{De?tt():(Q=!1,ue=null)}}else Q=!1}var tt;if(typeof E=="function")tt=function(){E(Xe)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Gt=Je.port2;Je.port1.onmessage=Xe,tt=function(){Gt.postMessage(null)}}else tt=function(){O(Xe,0)};function mt(be){ue=be,Q||(Q=!0,tt())}function vt(be,De){ee=O(function(){be(e.unstable_now())},De)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(be){be.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,mt(z))},e.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<be?Math.floor(1e3/be):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(be){switch(c){case 1:case 2:case 3:var De=3;break;default:De=c}var xe=c;c=De;try{return be()}finally{c=xe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(be,De){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var xe=c;c=be;try{return De()}finally{c=xe}},e.unstable_scheduleCallback=function(be,De,xe){var Ae=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ae+xe:Ae):xe=Ae,be){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=xe+et,be={id:d++,callback:De,priorityLevel:be,startTime:xe,expirationTime:et,sortIndex:-1},xe>Ae?(be.sortIndex=xe,t(u,be),n(s)===null&&be===n(u)&&(L?(g(ee),ee=-1):L=!0,vt(P,xe-Ae))):(be.sortIndex=et,t(s,be),x||v||(x=!0,mt(z))),be},e.unstable_shouldYield=je,e.unstable_wrapCallback=function(be){var De=c;return function(){var xe=c;c=De;try{return be.apply(this,arguments)}finally{c=xe}}}})(Q4);q4.exports=Q4;var R9=q4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4=j,Br=R9;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K4=new Set,nc={};function rl(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(nc[e]=t,e=0;e<t.length;e++)K4.add(t[e])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,P9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m3={},v3={};function k9(e){return zp.call(v3,e)?!0:zp.call(m3,e)?!1:P9.test(e)?v3[e]=!0:(m3[e]=!0,!1)}function O9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M9(e,t,n,r){if(t===null||typeof t>"u"||O9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var u2=/[\-:]([a-z])/g;function c2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u2,c2);nr[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u2,c2);nr[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u2,c2);nr[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function f2(e,t,n,r){var i=nr.hasOwnProperty(t)?nr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(M9(t,n,i,r)&&(n=null),r||i===null?k9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ca=Z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o0=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Yl=Symbol.for("react.fragment"),d2=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),J4=Symbol.for("react.provider"),eg=Symbol.for("react.context"),h2=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),p2=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),tg=Symbol.for("react.offscreen"),g3=Symbol.iterator;function Au(e){return e===null||typeof e!="object"?null:(e=g3&&e[g3]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,Vh;function $u(e){if(Vh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vh=t&&t[1]||""}return`
`+Vh+e}var Hh=!1;function Wh(e,t){if(!e||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var s=`
`+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$u(e):""}function N9(e){switch(e.tag){case 5:return $u(e.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return e=Wh(e.type,!1),e;case 11:return e=Wh(e.type.render,!1),e;case 1:return e=Wh(e.type,!0),e;default:return""}}function Hp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yl:return"Fragment";case Xl:return"Portal";case Gp:return"Profiler";case d2:return"StrictMode";case Up:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eg:return(e.displayName||"Context")+".Consumer";case J4:return(e._context.displayName||"Context")+".Provider";case h2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case p2:return t=e.displayName||null,t!==null?t:Hp(e.type)||"Memo";case Da:t=e._payload,e=e._init;try{return Hp(e(t))}catch{}}return null}function I9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hp(t);case 8:return t===d2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ng(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D9(e){var t=ng(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function l0(e){e._valueTracker||(e._valueTracker=D9(e))}function rg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ng(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function td(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wp(e,t){var n=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function y3(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=eo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ig(e,t){t=t.checked,t!=null&&f2(e,"checked",t,!1)}function Xp(e,t){ig(e,t);var n=eo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yp(e,t.type,eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x3(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yp(e,t,n){(t!=="number"||td(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bu=Array.isArray;function ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+eo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _3(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(Bu(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function ag(e,t){var n=eo(t.value),r=eo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function w3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function og(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?og(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var s0,lg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=s0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F9=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(e){F9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vu[t]=Vu[e]})});function sg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vu.hasOwnProperty(e)&&Vu[e]?(""+t).trim():t+"px"}function ug(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $9=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zp(e,t){if(t){if($9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function Kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=null;function m2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var em=null,ss=null,us=null;function E3(e){if(e=Mc(e)){if(typeof em!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Qd(t),em(e.stateNode,e.type,t))}}function cg(e){ss?us?us.push(e):us=[e]:ss=e}function fg(){if(ss){var e=ss,t=us;if(us=ss=null,E3(e),t)for(e=0;e<t.length;e++)E3(t[e])}}function dg(e,t){return e(t)}function hg(){}var Xh=!1;function pg(e,t,n){if(Xh)return e(t,n);Xh=!0;try{return dg(e,t,n)}finally{Xh=!1,(ss!==null||us!==null)&&(hg(),fg())}}function ic(e,t){var n=e.stateNode;if(n===null)return null;var r=Qd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var tm=!1;if(aa)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{tm=!1}function B9(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hu=!1,nd=null,rd=!1,nm=null,j9={onError:function(e){Hu=!0,nd=e}};function z9(e,t,n,r,i,a,o,l,s){Hu=!1,nd=null,B9.apply(j9,arguments)}function G9(e,t,n,r,i,a,o,l,s){if(z9.apply(this,arguments),Hu){if(Hu){var u=nd;Hu=!1,nd=null}else throw Error(Ie(198));rd||(rd=!0,nm=u)}}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S3(e){if(il(e)!==e)throw Error(Ie(188))}function U9(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return S3(i),e;if(a===r)return S3(i),t;a=a.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?e:t}function vg(e){return e=U9(e),e!==null?gg(e):null}function gg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gg(e);if(t!==null)return t;e=e.sibling}return null}var yg=Br.unstable_scheduleCallback,b3=Br.unstable_cancelCallback,V9=Br.unstable_shouldYield,H9=Br.unstable_requestPaint,Dn=Br.unstable_now,W9=Br.unstable_getCurrentPriorityLevel,v2=Br.unstable_ImmediatePriority,xg=Br.unstable_UserBlockingPriority,id=Br.unstable_NormalPriority,X9=Br.unstable_LowPriority,_g=Br.unstable_IdlePriority,Wd=null,Ii=null;function Y9(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Wd,e,void 0,(e.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:Z9,q9=Math.log,Q9=Math.LN2;function Z9(e){return e>>>=0,e===0?32:31-(q9(e)/Q9|0)|0}var u0=64,c0=4194304;function ju(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ad(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ju(l):(a&=o,a!==0&&(r=ju(a)))}else o=n&~i,o!==0?r=ju(o):a!==0&&(r=ju(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pi(t),i=1<<n,r|=e[n],t&=~i;return r}function K9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-pi(a),l=1<<o,s=i[o];s===-1?(!(l&n)||l&r)&&(i[o]=K9(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}function rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=u0;return u0<<=1,!(u0&4194240)&&(u0=64),e}function Yh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pi(t),e[t]=n}function e7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function g2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Jt=0;function Eg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sg,y2,bg,Tg,Ag,im=!1,f0=[],Ha=null,Wa=null,Xa=null,ac=new Map,oc=new Map,$a=[],t7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T3(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function Lu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mc(t),t!==null&&y2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function n7(e,t,n,r,i){switch(t){case"focusin":return Ha=Lu(Ha,e,t,n,r,i),!0;case"dragenter":return Wa=Lu(Wa,e,t,n,r,i),!0;case"mouseover":return Xa=Lu(Xa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ac.set(a,Lu(ac.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,oc.set(a,Lu(oc.get(a)||null,e,t,n,r,i)),!0}return!1}function Cg(e){var t=$o(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=mg(n),t!==null){e.blockedOn=t,Ag(e.priority,function(){bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function D0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=am(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jp=r,n.target.dispatchEvent(r),Jp=null}else return t=Mc(n),t!==null&&y2(t),e.blockedOn=n,!1;t.shift()}return!0}function A3(e,t,n){D0(e)&&n.delete(t)}function r7(){im=!1,Ha!==null&&D0(Ha)&&(Ha=null),Wa!==null&&D0(Wa)&&(Wa=null),Xa!==null&&D0(Xa)&&(Xa=null),ac.forEach(A3),oc.forEach(A3)}function Ru(e,t){e.blockedOn===t&&(e.blockedOn=null,im||(im=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,r7)))}function lc(e){function t(i){return Ru(i,e)}if(0<f0.length){Ru(f0[0],e);for(var n=1;n<f0.length;n++){var r=f0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ha!==null&&Ru(Ha,e),Wa!==null&&Ru(Wa,e),Xa!==null&&Ru(Xa,e),ac.forEach(t),oc.forEach(t),n=0;n<$a.length;n++)r=$a[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)Cg(n),n.blockedOn===null&&$a.shift()}var cs=ca.ReactCurrentBatchConfig,od=!0;function i7(e,t,n,r){var i=Jt,a=cs.transition;cs.transition=null;try{Jt=1,x2(e,t,n,r)}finally{Jt=i,cs.transition=a}}function a7(e,t,n,r){var i=Jt,a=cs.transition;cs.transition=null;try{Jt=4,x2(e,t,n,r)}finally{Jt=i,cs.transition=a}}function x2(e,t,n,r){if(od){var i=am(e,t,n,r);if(i===null)ip(e,t,r,ld,n),T3(e,r);else if(n7(i,e,t,n,r))r.stopPropagation();else if(T3(e,r),t&4&&-1<t7.indexOf(e)){for(;i!==null;){var a=Mc(i);if(a!==null&&Sg(a),a=am(e,t,n,r),a===null&&ip(e,t,r,ld,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ip(e,t,r,null,n)}}var ld=null;function am(e,t,n,r){if(ld=null,e=m2(r),e=$o(e),e!==null)if(t=il(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function Lg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W9()){case v2:return 1;case xg:return 4;case id:case X9:return 16;case _g:return 536870912;default:return 16}default:return 16}}var za=null,_2=null,F0=null;function Rg(){if(F0)return F0;var e,t=_2,n=t.length,r,i="value"in za?za.value:za.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return F0=i.slice(e,1<r?1-r:void 0)}function $0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function d0(){return!0}function C3(){return!1}function Gr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?d0:C3,this.isPropagationStopped=C3,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=d0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=d0)},persist:function(){},isPersistent:d0}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w2=Gr(Cs),Oc=En({},Cs,{view:0,detail:0}),o7=Gr(Oc),qh,Qh,Pu,Xd=En({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pu&&(Pu&&e.type==="mousemove"?(qh=e.screenX-Pu.screenX,Qh=e.screenY-Pu.screenY):Qh=qh=0,Pu=e),qh)},movementY:function(e){return"movementY"in e?e.movementY:Qh}}),L3=Gr(Xd),l7=En({},Xd,{dataTransfer:0}),s7=Gr(l7),u7=En({},Oc,{relatedTarget:0}),Zh=Gr(u7),c7=En({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),f7=Gr(c7),d7=En({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h7=Gr(d7),p7=En({},Cs,{data:0}),R3=Gr(p7),m7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g7[e])?!!t[e]:!1}function E2(){return y7}var x7=En({},Oc,{key:function(e){if(e.key){var t=m7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E2,charCode:function(e){return e.type==="keypress"?$0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_7=Gr(x7),w7=En({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P3=Gr(w7),E7=En({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E2}),S7=Gr(E7),b7=En({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T7=Gr(b7),A7=En({},Xd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C7=Gr(A7),L7=[9,13,27,32],S2=aa&&"CompositionEvent"in window,Wu=null;aa&&"documentMode"in document&&(Wu=document.documentMode);var R7=aa&&"TextEvent"in window&&!Wu,Pg=aa&&(!S2||Wu&&8<Wu&&11>=Wu),k3=" ",O3=!1;function kg(e,t){switch(e){case"keyup":return L7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ql=!1;function P7(e,t){switch(e){case"compositionend":return Og(t);case"keypress":return t.which!==32?null:(O3=!0,k3);case"textInput":return e=t.data,e===k3&&O3?null:e;default:return null}}function k7(e,t){if(ql)return e==="compositionend"||!S2&&kg(e,t)?(e=Rg(),F0=_2=za=null,ql=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pg&&t.locale!=="ko"?null:t.data;default:return null}}var O7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O7[e.type]:t==="textarea"}function Mg(e,t,n,r){cg(r),t=sd(t,"onChange"),0<t.length&&(n=new w2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xu=null,sc=null;function M7(e){Vg(e,0)}function Yd(e){var t=Kl(e);if(rg(t))return e}function N7(e,t){if(e==="change")return t}var Ng=!1;if(aa){var Kh;if(aa){var Jh="oninput"in document;if(!Jh){var N3=document.createElement("div");N3.setAttribute("oninput","return;"),Jh=typeof N3.oninput=="function"}Kh=Jh}else Kh=!1;Ng=Kh&&(!document.documentMode||9<document.documentMode)}function I3(){Xu&&(Xu.detachEvent("onpropertychange",Ig),sc=Xu=null)}function Ig(e){if(e.propertyName==="value"&&Yd(sc)){var t=[];Mg(t,sc,e,m2(e)),pg(M7,t)}}function I7(e,t,n){e==="focusin"?(I3(),Xu=t,sc=n,Xu.attachEvent("onpropertychange",Ig)):e==="focusout"&&I3()}function D7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(sc)}function F7(e,t){if(e==="click")return Yd(t)}function $7(e,t){if(e==="input"||e==="change")return Yd(t)}function B7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vi=typeof Object.is=="function"?Object.is:B7;function uc(e,t){if(vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zp.call(t,i)||!vi(e[i],t[i]))return!1}return!0}function D3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F3(e,t){var n=D3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D3(n)}}function Dg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fg(){for(var e=window,t=td();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=td(e.document)}return t}function b2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function j7(e){var t=Fg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dg(n.ownerDocument.documentElement,n)){if(r!==null&&b2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=F3(n,a);var o=F3(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z7=aa&&"documentMode"in document&&11>=document.documentMode,Ql=null,om=null,Yu=null,lm=!1;function $3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lm||Ql==null||Ql!==td(r)||(r=Ql,"selectionStart"in r&&b2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yu&&uc(Yu,r)||(Yu=r,r=sd(om,"onSelect"),0<r.length&&(t=new w2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ql)))}function h0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zl={animationend:h0("Animation","AnimationEnd"),animationiteration:h0("Animation","AnimationIteration"),animationstart:h0("Animation","AnimationStart"),transitionend:h0("Transition","TransitionEnd")},ep={},$g={};aa&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function qd(e){if(ep[e])return ep[e];if(!Zl[e])return e;var t=Zl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $g)return ep[e]=t[n];return e}var Bg=qd("animationend"),jg=qd("animationiteration"),zg=qd("animationstart"),Gg=qd("transitionend"),Ug=new Map,B3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){Ug.set(e,t),rl(t,[e])}for(var tp=0;tp<B3.length;tp++){var np=B3[tp],G7=np.toLowerCase(),U7=np[0].toUpperCase()+np.slice(1);ro(G7,"on"+U7)}ro(Bg,"onAnimationEnd");ro(jg,"onAnimationIteration");ro(zg,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(Gg,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V7=new Set("cancel close invalid load scroll toggle".split(" ").concat(zu));function j3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,G9(r,t,void 0,e),e.currentTarget=null}function Vg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;j3(i,l,u),a=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;j3(i,l,u),a=s}}}if(rd)throw e=nm,rd=!1,nm=null,e}function fn(e,t){var n=t[dm];n===void 0&&(n=t[dm]=new Set);var r=e+"__bubble";n.has(r)||(Hg(t,e,2,!1),n.add(r))}function rp(e,t,n){var r=0;t&&(r|=4),Hg(n,e,r,t)}var p0="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[p0]){e[p0]=!0,K4.forEach(function(n){n!=="selectionchange"&&(V7.has(n)||rp(n,!1,e),rp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[p0]||(t[p0]=!0,rp("selectionchange",!1,t))}}function Hg(e,t,n,r){switch(Lg(t)){case 1:var i=i7;break;case 4:i=a7;break;default:i=x2}n=i.bind(null,t,n,e),i=void 0,!tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ip(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$o(l),o===null)return;if(s=o.tag,s===5||s===6){r=a=o;continue e}l=l.parentNode}}r=r.return}pg(function(){var u=a,d=m2(n),p=[];e:{var c=Ug.get(e);if(c!==void 0){var v=w2,x=e;switch(e){case"keypress":if($0(n)===0)break e;case"keydown":case"keyup":v=_7;break;case"focusin":x="focus",v=Zh;break;case"focusout":x="blur",v=Zh;break;case"beforeblur":case"afterblur":v=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=L3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=s7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=S7;break;case Bg:case jg:case zg:v=f7;break;case Gg:v=T7;break;case"scroll":v=o7;break;case"wheel":v=C7;break;case"copy":case"cut":case"paste":v=h7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=P3}var L=(t&4)!==0,O=!L&&e==="scroll",g=L?c!==null?c+"Capture":null:c;L=[];for(var E=u,w;E!==null;){w=E;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,g!==null&&(P=ic(E,g),P!=null&&L.push(fc(E,P,w)))),O)break;E=E.return}0<L.length&&(c=new v(c,x,null,n,d),p.push({event:c,listeners:L}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",c&&n!==Jp&&(x=n.relatedTarget||n.fromElement)&&($o(x)||x[oa]))break e;if((v||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?$o(x):null,x!==null&&(O=il(x),x!==O||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(L=L3,P="onMouseLeave",g="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(L=P3,P="onPointerLeave",g="onPointerEnter",E="pointer"),O=v==null?c:Kl(v),w=x==null?c:Kl(x),c=new L(P,E+"leave",v,n,d),c.target=O,c.relatedTarget=w,P=null,$o(d)===u&&(L=new L(g,E+"enter",x,n,d),L.target=w,L.relatedTarget=O,P=L),O=P,v&&x)t:{for(L=v,g=x,E=0,w=L;w;w=Gl(w))E++;for(w=0,P=g;P;P=Gl(P))w++;for(;0<E-w;)L=Gl(L),E--;for(;0<w-E;)g=Gl(g),w--;for(;E--;){if(L===g||g!==null&&L===g.alternate)break t;L=Gl(L),g=Gl(g)}L=null}else L=null;v!==null&&z3(p,c,v,L,!1),x!==null&&O!==null&&z3(p,O,x,L,!0)}}e:{if(c=u?Kl(u):window,v=c.nodeName&&c.nodeName.toLowerCase(),v==="select"||v==="input"&&c.type==="file")var z=N7;else if(M3(c))if(Ng)z=$7;else{z=D7;var Q=I7}else(v=c.nodeName)&&v.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(z=F7);if(z&&(z=z(e,u))){Mg(p,z,n,d);break e}Q&&Q(e,c,u),e==="focusout"&&(Q=c._wrapperState)&&Q.controlled&&c.type==="number"&&Yp(c,"number",c.value)}switch(Q=u?Kl(u):window,e){case"focusin":(M3(Q)||Q.contentEditable==="true")&&(Ql=Q,om=u,Yu=null);break;case"focusout":Yu=om=Ql=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,$3(p,n,d);break;case"selectionchange":if(z7)break;case"keydown":case"keyup":$3(p,n,d)}var ue;if(S2)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else ql?kg(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Pg&&n.locale!=="ko"&&(ql||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&ql&&(ue=Rg()):(za=d,_2="value"in za?za.value:za.textContent,ql=!0)),Q=sd(u,ee),0<Q.length&&(ee=new R3(ee,e,null,n,d),p.push({event:ee,listeners:Q}),ue?ee.data=ue:(ue=Og(n),ue!==null&&(ee.data=ue)))),(ue=R7?P7(e,n):k7(e,n))&&(u=sd(u,"onBeforeInput"),0<u.length&&(d=new R3("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=ue))}Vg(p,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ic(e,n),a!=null&&r.unshift(fc(e,a,i)),a=ic(e,t),a!=null&&r.push(fc(e,a,i))),e=e.return}return r}function Gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z3(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=ic(n,a),s!=null&&o.unshift(fc(n,s,l))):i||(s=ic(n,a),s!=null&&o.push(fc(n,s,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var H7=/\r\n?/g,W7=/\u0000|\uFFFD/g;function G3(e){return(typeof e=="string"?e:""+e).replace(H7,`
`).replace(W7,"")}function m0(e,t,n){if(t=G3(t),G3(e)!==t&&n)throw Error(Ie(425))}function ud(){}var sm=null,um=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fm=typeof setTimeout=="function"?setTimeout:void 0,X7=typeof clearTimeout=="function"?clearTimeout:void 0,U3=typeof Promise=="function"?Promise:void 0,Y7=typeof queueMicrotask=="function"?queueMicrotask:typeof U3<"u"?function(e){return U3.resolve(null).then(e).catch(q7)}:fm;function q7(e){setTimeout(function(){throw e})}function ap(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lc(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Ls,dc="__reactProps$"+Ls,oa="__reactContainer$"+Ls,dm="__reactEvents$"+Ls,Q7="__reactListeners$"+Ls,Z7="__reactHandles$"+Ls;function $o(e){var t=e[Ni];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[Ni]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=V3(e);e!==null;){if(n=e[Ni])return n;e=V3(e)}return t}e=n,n=e.parentNode}return null}function Mc(e){return e=e[Ni]||e[oa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Qd(e){return e[dc]||null}var hm=[],Jl=-1;function io(e){return{current:e}}function dn(e){0>Jl||(e.current=hm[Jl],hm[Jl]=null,Jl--)}function sn(e,t){Jl++,hm[Jl]=e.current,e.current=t}var to={},sr=io(to),br=io(!1),Xo=to;function vs(e,t){var n=e.type.contextTypes;if(!n)return to;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(e){return e=e.childContextTypes,e!=null}function cd(){dn(br),dn(sr)}function H3(e,t,n){if(sr.current!==to)throw Error(Ie(168));sn(sr,t),sn(br,n)}function Wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ie(108,I9(e)||"Unknown",i));return En({},n,r)}function fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||to,Xo=sr.current,sn(sr,e),sn(br,br.current),!0}function W3(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=Wg(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,dn(br),dn(sr),sn(sr,e)):dn(br),sn(br,n)}var ta=null,Zd=!1,op=!1;function Xg(e){ta===null?ta=[e]:ta.push(e)}function K7(e){Zd=!0,Xg(e)}function ao(){if(!op&&ta!==null){op=!0;var e=0,t=Jt;try{var n=ta;for(Jt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ta=null,Zd=!1}catch(i){throw ta!==null&&(ta=ta.slice(e+1)),yg(v2,ao),i}finally{Jt=t,op=!1}}return null}var es=[],ts=0,dd=null,hd=0,qr=[],Qr=0,Yo=null,na=1,ra="";function Io(e,t){es[ts++]=hd,es[ts++]=dd,dd=e,hd=t}function Yg(e,t,n){qr[Qr++]=na,qr[Qr++]=ra,qr[Qr++]=Yo,Yo=e;var r=na;e=ra;var i=32-pi(r)-1;r&=~(1<<i),n+=1;var a=32-pi(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,na=1<<32-pi(t)+i|n<<i|r,ra=a+e}else na=1<<a|n<<i|r,ra=e}function T2(e){e.return!==null&&(Io(e,1),Yg(e,1,0))}function A2(e){for(;e===dd;)dd=es[--ts],es[ts]=null,hd=es[--ts],es[ts]=null;for(;e===Yo;)Yo=qr[--Qr],qr[Qr]=null,ra=qr[--Qr],qr[Qr]=null,na=qr[--Qr],qr[Qr]=null}var $r=null,Fr=null,pn=!1,fi=null;function qg(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function X3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Fr=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yo!==null?{id:na,overflow:ra}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$r=e,Fr=null,!0):!1;default:return!1}}function pm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mm(e){if(pn){var t=Fr;if(t){var n=t;if(!X3(e,t)){if(pm(e))throw Error(Ie(418));t=Ya(n.nextSibling);var r=$r;t&&X3(e,t)?qg(r,n):(e.flags=e.flags&-4097|2,pn=!1,$r=e)}}else{if(pm(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,pn=!1,$r=e}}}function Y3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function v0(e){if(e!==$r)return!1;if(!pn)return Y3(e),pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=Fr)){if(pm(e))throw Qg(),Error(Ie(418));for(;t;)qg(e,t),t=Ya(t.nextSibling)}if(Y3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=Ya(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=$r?Ya(e.stateNode.nextSibling):null;return!0}function Qg(){for(var e=Fr;e;)e=Ya(e.nextSibling)}function gs(){Fr=$r=null,pn=!1}function C2(e){fi===null?fi=[e]:fi.push(e)}var J7=ca.ReactCurrentBatchConfig;function ui(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var pd=io(null),md=null,ns=null,L2=null;function R2(){L2=ns=md=null}function P2(e){var t=pd.current;dn(pd),e._currentValue=t}function vm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fs(e,t){md=e,L2=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(L2!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(md===null)throw Error(Ie(308));ns=e,md.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var Bo=null;function k2(e){Bo===null?Bo=[e]:Bo.push(e)}function Zg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,k2(t)):(n.next=i.next,i.next=n),t.interleaved=n,la(e,r)}function la(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fa=!1;function O2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,la(e,n)}return i=r.interleaved,i===null?(t.next=t,k2(r)):(t.next=i.next,i.next=t),r.interleaved=t,la(e,n)}function B0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,g2(e,n)}}function q3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vd(e,t,n,r){var i=e.updateQueue;Fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?a=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(a!==null){var p=i.baseState;o=0,d=u=s=null,l=a;do{var c=l.lane,v=l.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,L=l;switch(c=t,v=n,L.tag){case 1:if(x=L.payload,typeof x=="function"){p=x.call(v,p,c);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=L.payload,c=typeof x=="function"?x.call(v,p,c):x,c==null)break e;p=En({},p,c);break e;case 2:Fa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else v={eventTime:v,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,s=p):d=d.next=v,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(d===null&&(s=p),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Qo|=o,e.lanes=o,e.memoizedState=p}}function Q3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var Jg=new Z4.Component().refs;function gm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:En({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kd={isMounted:function(e){return(e=e._reactInternals)?il(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hr(),i=Za(e),a=ia(r,i);a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,i),t!==null&&(mi(t,e,i,r),B0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hr(),i=Za(e),a=ia(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,i),t!==null&&(mi(t,e,i,r),B0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hr(),r=Za(e),i=ia(n,r);i.tag=2,t!=null&&(i.callback=t),t=qa(e,i,r),t!==null&&(mi(t,e,r,n),B0(t,e,r))}};function Z3(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!uc(n,r)||!uc(i,a):!0}function e5(e,t,n){var r=!1,i=to,a=t.contextType;return typeof a=="object"&&a!==null?a=Jr(a):(i=Tr(t)?Xo:sr.current,r=t.contextTypes,a=(r=r!=null)?vs(e,i):to),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function K3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function ym(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jg,O2(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Jr(a):(a=Tr(t)?Xo:sr.current,i.context=vs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kd.enqueueReplaceState(i,i.state,null),vd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ku(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;l===Jg&&(l=i.refs={}),o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function g0(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function J3(e){var t=e._init;return t(e._payload)}function t5(e){function t(g,E){if(e){var w=g.deletions;w===null?(g.deletions=[E],g.flags|=16):w.push(E)}}function n(g,E){if(!e)return null;for(;E!==null;)t(g,E),E=E.sibling;return null}function r(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function i(g,E){return g=Ka(g,E),g.index=0,g.sibling=null,g}function a(g,E,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<E?(g.flags|=2,E):w):(g.flags|=2,E)):(g.flags|=1048576,E)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,E,w,P){return E===null||E.tag!==6?(E=hp(w,g.mode,P),E.return=g,E):(E=i(E,w),E.return=g,E)}function s(g,E,w,P){var z=w.type;return z===Yl?d(g,E,w.props.children,P,w.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Da&&J3(z)===E.type)?(P=i(E,w.props),P.ref=ku(g,E,w),P.return=g,P):(P=H0(w.type,w.key,w.props,null,g.mode,P),P.ref=ku(g,E,w),P.return=g,P)}function u(g,E,w,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=pp(w,g.mode,P),E.return=g,E):(E=i(E,w.children||[]),E.return=g,E)}function d(g,E,w,P,z){return E===null||E.tag!==7?(E=Vo(w,g.mode,P,z),E.return=g,E):(E=i(E,w),E.return=g,E)}function p(g,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=hp(""+E,g.mode,w),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case o0:return w=H0(E.type,E.key,E.props,null,g.mode,w),w.ref=ku(g,null,E),w.return=g,w;case Xl:return E=pp(E,g.mode,w),E.return=g,E;case Da:var P=E._init;return p(g,P(E._payload),w)}if(Bu(E)||Au(E))return E=Vo(E,g.mode,w,null),E.return=g,E;g0(g,E)}return null}function c(g,E,w,P){var z=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return z!==null?null:l(g,E,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case o0:return w.key===z?s(g,E,w,P):null;case Xl:return w.key===z?u(g,E,w,P):null;case Da:return z=w._init,c(g,E,z(w._payload),P)}if(Bu(w)||Au(w))return z!==null?null:d(g,E,w,P,null);g0(g,w)}return null}function v(g,E,w,P,z){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(w)||null,l(E,g,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case o0:return g=g.get(P.key===null?w:P.key)||null,s(E,g,P,z);case Xl:return g=g.get(P.key===null?w:P.key)||null,u(E,g,P,z);case Da:var Q=P._init;return v(g,E,w,Q(P._payload),z)}if(Bu(P)||Au(P))return g=g.get(w)||null,d(E,g,P,z,null);g0(E,P)}return null}function x(g,E,w,P){for(var z=null,Q=null,ue=E,ee=E=0,Ke=null;ue!==null&&ee<w.length;ee++){ue.index>ee?(Ke=ue,ue=null):Ke=ue.sibling;var Se=c(g,ue,w[ee],P);if(Se===null){ue===null&&(ue=Ke);break}e&&ue&&Se.alternate===null&&t(g,ue),E=a(Se,E,ee),Q===null?z=Se:Q.sibling=Se,Q=Se,ue=Ke}if(ee===w.length)return n(g,ue),pn&&Io(g,ee),z;if(ue===null){for(;ee<w.length;ee++)ue=p(g,w[ee],P),ue!==null&&(E=a(ue,E,ee),Q===null?z=ue:Q.sibling=ue,Q=ue);return pn&&Io(g,ee),z}for(ue=r(g,ue);ee<w.length;ee++)Ke=v(ue,g,ee,w[ee],P),Ke!==null&&(e&&Ke.alternate!==null&&ue.delete(Ke.key===null?ee:Ke.key),E=a(Ke,E,ee),Q===null?z=Ke:Q.sibling=Ke,Q=Ke);return e&&ue.forEach(function(je){return t(g,je)}),pn&&Io(g,ee),z}function L(g,E,w,P){var z=Au(w);if(typeof z!="function")throw Error(Ie(150));if(w=z.call(w),w==null)throw Error(Ie(151));for(var Q=z=null,ue=E,ee=E=0,Ke=null,Se=w.next();ue!==null&&!Se.done;ee++,Se=w.next()){ue.index>ee?(Ke=ue,ue=null):Ke=ue.sibling;var je=c(g,ue,Se.value,P);if(je===null){ue===null&&(ue=Ke);break}e&&ue&&je.alternate===null&&t(g,ue),E=a(je,E,ee),Q===null?z=je:Q.sibling=je,Q=je,ue=Ke}if(Se.done)return n(g,ue),pn&&Io(g,ee),z;if(ue===null){for(;!Se.done;ee++,Se=w.next())Se=p(g,Se.value,P),Se!==null&&(E=a(Se,E,ee),Q===null?z=Se:Q.sibling=Se,Q=Se);return pn&&Io(g,ee),z}for(ue=r(g,ue);!Se.done;ee++,Se=w.next())Se=v(ue,g,ee,Se.value,P),Se!==null&&(e&&Se.alternate!==null&&ue.delete(Se.key===null?ee:Se.key),E=a(Se,E,ee),Q===null?z=Se:Q.sibling=Se,Q=Se);return e&&ue.forEach(function(Xe){return t(g,Xe)}),pn&&Io(g,ee),z}function O(g,E,w,P){if(typeof w=="object"&&w!==null&&w.type===Yl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case o0:e:{for(var z=w.key,Q=E;Q!==null;){if(Q.key===z){if(z=w.type,z===Yl){if(Q.tag===7){n(g,Q.sibling),E=i(Q,w.props.children),E.return=g,g=E;break e}}else if(Q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Da&&J3(z)===Q.type){n(g,Q.sibling),E=i(Q,w.props),E.ref=ku(g,Q,w),E.return=g,g=E;break e}n(g,Q);break}else t(g,Q);Q=Q.sibling}w.type===Yl?(E=Vo(w.props.children,g.mode,P,w.key),E.return=g,g=E):(P=H0(w.type,w.key,w.props,null,g.mode,P),P.ref=ku(g,E,w),P.return=g,g=P)}return o(g);case Xl:e:{for(Q=w.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(g,E.sibling),E=i(E,w.children||[]),E.return=g,g=E;break e}else{n(g,E);break}else t(g,E);E=E.sibling}E=pp(w,g.mode,P),E.return=g,g=E}return o(g);case Da:return Q=w._init,O(g,E,Q(w._payload),P)}if(Bu(w))return x(g,E,w,P);if(Au(w))return L(g,E,w,P);g0(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(n(g,E.sibling),E=i(E,w),E.return=g,g=E):(n(g,E),E=hp(w,g.mode,P),E.return=g,g=E),o(g)):n(g,E)}return O}var ys=t5(!0),n5=t5(!1),Nc={},Di=io(Nc),hc=io(Nc),pc=io(Nc);function jo(e){if(e===Nc)throw Error(Ie(174));return e}function M2(e,t){switch(sn(pc,t),sn(hc,e),sn(Di,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}dn(Di),sn(Di,t)}function xs(){dn(Di),dn(hc),dn(pc)}function r5(e){jo(pc.current);var t=jo(Di.current),n=Qp(t,e.type);t!==n&&(sn(hc,e),sn(Di,n))}function N2(e){hc.current===e&&(dn(Di),dn(hc))}var yn=io(0);function gd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lp=[];function I2(){for(var e=0;e<lp.length;e++)lp[e]._workInProgressVersionPrimary=null;lp.length=0}var j0=ca.ReactCurrentDispatcher,sp=ca.ReactCurrentBatchConfig,qo=0,wn=null,Wn=null,Kn=null,yd=!1,qu=!1,mc=0,ex=0;function ir(){throw Error(Ie(321))}function D2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vi(e[n],t[n]))return!1;return!0}function F2(e,t,n,r,i,a){if(qo=a,wn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j0.current=e===null||e.memoizedState===null?ix:ax,e=n(r,i),qu){a=0;do{if(qu=!1,mc=0,25<=a)throw Error(Ie(301));a+=1,Kn=Wn=null,t.updateQueue=null,j0.current=ox,e=n(r,i)}while(qu)}if(j0.current=xd,t=Wn!==null&&Wn.next!==null,qo=0,Kn=Wn=wn=null,yd=!1,t)throw Error(Ie(300));return e}function $2(){var e=mc!==0;return mc=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?wn.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function ei(){if(Wn===null){var e=wn.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=Kn===null?wn.memoizedState:Kn.next;if(t!==null)Kn=t,Wn=e;else{if(e===null)throw Error(Ie(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Kn===null?wn.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function vc(e,t){return typeof t=="function"?t(e):t}function up(e){var t=ei(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=Wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,s=null,u=a;do{var d=u.lane;if((qo&d)===d)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=p,o=r):s=s.next=p,wn.lanes|=d,Qo|=d}u=u.next}while(u!==null&&u!==a);s===null?o=r:s.next=l,vi(r,t.memoizedState)||(Sr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,wn.lanes|=a,Qo|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cp(e){var t=ei(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);vi(a,t.memoizedState)||(Sr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function i5(){}function a5(e,t){var n=wn,r=ei(),i=t(),a=!vi(r.memoizedState,i);if(a&&(r.memoizedState=i,Sr=!0),r=r.queue,B2(s5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Kn!==null&&Kn.memoizedState.tag&1){if(n.flags|=2048,gc(9,l5.bind(null,n,r,i,t),void 0,null),Jn===null)throw Error(Ie(349));qo&30||o5(n,t,i)}return i}function o5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wn.updateQueue,t===null?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l5(e,t,n,r){t.value=n,t.getSnapshot=r,u5(t)&&c5(e)}function s5(e,t,n){return n(function(){u5(t)&&c5(e)})}function u5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vi(e,n)}catch{return!0}}function c5(e){var t=la(e,1);t!==null&&mi(t,e,1,-1)}function e6(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,wn,e),[t.memoizedState,e]}function gc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wn.updateQueue,t===null?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function f5(){return ei().memoizedState}function z0(e,t,n,r){var i=Oi();wn.flags|=e,i.memoizedState=gc(1|t,n,void 0,r===void 0?null:r)}function Jd(e,t,n,r){var i=ei();r=r===void 0?null:r;var a=void 0;if(Wn!==null){var o=Wn.memoizedState;if(a=o.destroy,r!==null&&D2(r,o.deps)){i.memoizedState=gc(t,n,a,r);return}}wn.flags|=e,i.memoizedState=gc(1|t,n,a,r)}function t6(e,t){return z0(8390656,8,e,t)}function B2(e,t){return Jd(2048,8,e,t)}function d5(e,t){return Jd(4,2,e,t)}function h5(e,t){return Jd(4,4,e,t)}function p5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m5(e,t,n){return n=n!=null?n.concat([e]):null,Jd(4,4,p5.bind(null,t,e),n)}function j2(){}function v5(e,t){var n=ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&D2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g5(e,t){var n=ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&D2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y5(e,t,n){return qo&21?(vi(n,t)||(n=wg(),wn.lanes|=n,Qo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sr=!0),e.memoizedState=n)}function tx(e,t){var n=Jt;Jt=n!==0&&4>n?n:4,e(!0);var r=sp.transition;sp.transition={};try{e(!1),t()}finally{Jt=n,sp.transition=r}}function x5(){return ei().memoizedState}function nx(e,t,n){var r=Za(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_5(e))w5(t,n);else if(n=Zg(e,t,n,r),n!==null){var i=hr();mi(n,e,r,i),E5(n,t,r)}}function rx(e,t,n){var r=Za(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_5(e))w5(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,vi(l,o)){var s=t.interleaved;s===null?(i.next=i,k2(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=Zg(e,t,i,r),n!==null&&(i=hr(),mi(n,e,r,i),E5(n,t,r))}}function _5(e){var t=e.alternate;return e===wn||t!==null&&t===wn}function w5(e,t){qu=yd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,g2(e,n)}}var xd={readContext:Jr,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},ix={readContext:Jr,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:t6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,z0(4194308,4,p5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return z0(4194308,4,e,t)},useInsertionEffect:function(e,t){return z0(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nx.bind(null,wn,e),[r.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:e6,useDebugValue:j2,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=e6(!1),t=e[0];return e=tx.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wn,i=Oi();if(pn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),Jn===null)throw Error(Ie(349));qo&30||o5(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,t6(s5.bind(null,r,a,e),[e]),r.flags|=2048,gc(9,l5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Jn.identifierPrefix;if(pn){var n=ra,r=na;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ax={readContext:Jr,useCallback:v5,useContext:Jr,useEffect:B2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:up,useRef:f5,useState:function(){return up(vc)},useDebugValue:j2,useDeferredValue:function(e){var t=ei();return y5(t,Wn.memoizedState,e)},useTransition:function(){var e=up(vc)[0],t=ei().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:a5,useId:x5,unstable_isNewReconciler:!1},ox={readContext:Jr,useCallback:v5,useContext:Jr,useEffect:B2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:cp,useRef:f5,useState:function(){return cp(vc)},useDebugValue:j2,useDeferredValue:function(e){var t=ei();return Wn===null?t.memoizedState=e:y5(t,Wn.memoizedState,e)},useTransition:function(){var e=cp(vc)[0],t=ei().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:a5,useId:x5,unstable_isNewReconciler:!1};function _s(e,t){try{var n="",r=t;do n+=N9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function S5(e,t,n){n=ia(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wd||(wd=!0,Rm=r),xm(e,t)},n}function b5(e,t,n){n=ia(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){xm(e,t),typeof r!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function n6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wx.bind(null,e,t,n),t.then(e,e))}function r6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i6(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ia(-1,1),t.tag=2,qa(n,t,1))),n.lanes|=1),e)}var sx=ca.ReactCurrentOwner,Sr=!1;function fr(e,t,n,r){t.child=e===null?n5(t,null,n,r):ys(t,e.child,n,r)}function a6(e,t,n,r,i){n=n.render;var a=t.ref;return fs(t,i),r=F2(e,t,n,r,a,i),n=$2(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sa(e,t,i)):(pn&&n&&T2(t),t.flags|=1,fr(e,t,r,i),t.child)}function o6(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Y2(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,T5(e,t,a,r,i)):(e=H0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,e=Ka(a,r),e.ref=t.ref,e.return=t,t.child=e}function T5(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(uc(a,r)&&e.ref===t.ref)if(Sr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Sr=!0);else return t.lanes=e.lanes,sa(e,t,i)}return _m(e,t,n,r,i)}function A5(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(is,Dr),Dr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sn(is,Dr),Dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,sn(is,Dr),Dr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,sn(is,Dr),Dr|=r;return fr(e,t,i,n),t.child}function C5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _m(e,t,n,r,i){var a=Tr(n)?Xo:sr.current;return a=vs(t,a),fs(t,i),n=F2(e,t,n,r,a,i),r=$2(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sa(e,t,i)):(pn&&r&&T2(t),t.flags|=1,fr(e,t,n,i),t.child)}function l6(e,t,n,r,i){if(Tr(n)){var a=!0;fd(t)}else a=!1;if(fs(t,i),t.stateNode===null)G0(e,t),e5(t,n,r),ym(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=Tr(n)?Xo:sr.current,u=vs(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||s!==u)&&K3(t,o,r,u),Fa=!1;var c=t.memoizedState;o.state=c,vd(t,r,o,i),s=t.memoizedState,l!==r||c!==s||br.current||Fa?(typeof d=="function"&&(gm(t,n,d,r),s=t.memoizedState),(l=Fa||Z3(t,n,l,r,c,s,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Kg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ui(t.type,l),o.props=u,p=t.pendingProps,c=o.context,s=n.contextType,typeof s=="object"&&s!==null?s=Jr(s):(s=Tr(n)?Xo:sr.current,s=vs(t,s));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||c!==s)&&K3(t,o,r,s),Fa=!1,c=t.memoizedState,o.state=c,vd(t,r,o,i);var x=t.memoizedState;l!==p||c!==x||br.current||Fa?(typeof v=="function"&&(gm(t,n,v,r),x=t.memoizedState),(u=Fa||Z3(t,n,u,r,c,x,s)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,s)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=s,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return wm(e,t,n,r,a,i)}function wm(e,t,n,r,i,a){C5(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&W3(t,n,!1),sa(e,t,a);r=t.stateNode,sx.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,a),t.child=ys(t,null,l,a)):fr(e,t,l,a),t.memoizedState=r.state,i&&W3(t,n,!0),t.child}function L5(e){var t=e.stateNode;t.pendingContext?H3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H3(e,t.context,!1),M2(e,t.containerInfo)}function s6(e,t,n,r,i){return gs(),C2(i),t.flags|=256,fr(e,t,n,r),t.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function Sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function R5(e,t,n){var r=t.pendingProps,i=yn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sn(yn,i&1),e===null)return mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=n1(o,r,0,null),e=Vo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sm(n),t.memoizedState=Em,e):z2(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ux(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Ka(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ka(l,a):(a=Vo(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Em,r}return a=e.child,e=a.sibling,r=Ka(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function z2(e,t){return t=n1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function y0(e,t,n,r){return r!==null&&C2(r),ys(t,e.child,null,n),e=z2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ux(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=fp(Error(Ie(422))),y0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=n1({mode:"visible",children:r.children},i,0,null),a=Vo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=Sm(o),t.memoizedState=Em,a);if(!(t.mode&1))return y0(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Ie(419)),r=fp(a,r,void 0),y0(e,t,o,r)}if(l=(o&e.childLanes)!==0,Sr||l){if(r=Jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,la(e,i),mi(r,e,i,-1))}return X2(),r=fp(Error(Ie(421))),y0(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ex.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Fr=Ya(i.nextSibling),$r=t,pn=!0,fi=null,e!==null&&(qr[Qr++]=na,qr[Qr++]=ra,qr[Qr++]=Yo,na=e.id,ra=e.overflow,Yo=t),t=z2(t,r.children),t.flags|=4096,t)}function u6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vm(e.return,t,n)}function dp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function P5(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(fr(e,t,r.children,n),r=yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u6(e,n,t);else if(e.tag===19)u6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sn(yn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dp(t,!0,n,null,a);break;case"together":dp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function G0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,n=Ka(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ka(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cx(e,t,n){switch(t.tag){case 3:L5(t),gs();break;case 5:r5(t);break;case 1:Tr(t.type)&&fd(t);break;case 4:M2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;sn(pd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(sn(yn,yn.current&1),t.flags|=128,null):n&t.child.childLanes?R5(e,t,n):(sn(yn,yn.current&1),e=sa(e,t,n),e!==null?e.sibling:null);sn(yn,yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return P5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(yn,yn.current),r)break;return null;case 22:case 23:return t.lanes=0,A5(e,t,n)}return sa(e,t,n)}var k5,bm,O5,M5;k5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bm=function(){};O5=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,jo(Di.current);var a=null;switch(n){case"input":i=Wp(e,i),r=Wp(e,r),a=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),a=[];break;case"textarea":i=qp(e,i),r=qp(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ud)}Zp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(a||(a=[]),a.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(a=a||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&fn("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};M5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ou(e,t){if(!pn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ar(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fx(e,t,n){var r=t.pendingProps;switch(A2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(t),null;case 1:return Tr(t.type)&&cd(),ar(t),null;case 3:return r=t.stateNode,xs(),dn(br),dn(sr),I2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(v0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fi!==null&&(Om(fi),fi=null))),bm(e,t),ar(t),null;case 5:N2(t);var i=jo(pc.current);if(n=t.type,e!==null&&t.stateNode!=null)O5(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return ar(t),null}if(e=jo(Di.current),v0(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ni]=t,r[dc]=a,e=(t.mode&1)!==0,n){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(i=0;i<zu.length;i++)fn(zu[i],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":y3(r,a),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fn("invalid",r);break;case"textarea":_3(r,a),fn("invalid",r)}Zp(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&m0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&m0(r.textContent,l,e),i=["children",""+l]):nc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fn("scroll",r)}switch(n){case"input":l0(r),x3(r,a,!0);break;case"textarea":l0(r),w3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ud)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=og(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ni]=t,e[dc]=r,k5(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kp(n,r),n){case"dialog":fn("cancel",e),fn("close",e),i=r;break;case"iframe":case"object":case"embed":fn("load",e),i=r;break;case"video":case"audio":for(i=0;i<zu.length;i++)fn(zu[i],e);i=r;break;case"source":fn("error",e),i=r;break;case"img":case"image":case"link":fn("error",e),fn("load",e),i=r;break;case"details":fn("toggle",e),i=r;break;case"input":y3(e,r),i=Wp(e,r),fn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),fn("invalid",e);break;case"textarea":_3(e,r),i=qp(e,r),fn("invalid",e);break;default:i=r}Zp(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];a==="style"?ug(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&lg(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&rc(e,s):typeof s=="number"&&rc(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nc.hasOwnProperty(a)?s!=null&&a==="onScroll"&&fn("scroll",e):s!=null&&f2(e,a,s,o))}switch(n){case"input":l0(e),x3(e,r,!1);break;case"textarea":l0(e),w3(e);break;case"option":r.value!=null&&e.setAttribute("value",""+eo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ar(t),null;case 6:if(e&&t.stateNode!=null)M5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=jo(pc.current),jo(Di.current),v0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ni]=t,(a=r.nodeValue!==n)&&(e=$r,e!==null))switch(e.tag){case 3:m0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&m0(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ni]=t,t.stateNode=r}return ar(t),null;case 13:if(dn(yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pn&&Fr!==null&&t.mode&1&&!(t.flags&128))Qg(),gs(),t.flags|=98560,a=!1;else if(a=v0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ie(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ie(317));a[Ni]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ar(t),a=!1}else fi!==null&&(Om(fi),fi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yn.current&1?Xn===0&&(Xn=3):X2())),t.updateQueue!==null&&(t.flags|=4),ar(t),null);case 4:return xs(),bm(e,t),e===null&&cc(t.stateNode.containerInfo),ar(t),null;case 10:return P2(t.type._context),ar(t),null;case 17:return Tr(t.type)&&cd(),ar(t),null;case 19:if(dn(yn),a=t.memoizedState,a===null)return ar(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ou(a,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gd(e),o!==null){for(t.flags|=128,Ou(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sn(yn,yn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Dn()>ws&&(t.flags|=128,r=!0,Ou(a,!1),t.lanes=4194304)}else{if(!r)if(e=gd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ou(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pn)return ar(t),null}else 2*Dn()-a.renderingStartTime>ws&&n!==1073741824&&(t.flags|=128,r=!0,Ou(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Dn(),t.sibling=null,n=yn.current,sn(yn,r?n&1|2:n&1),t):(ar(t),null);case 22:case 23:return W2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dr&1073741824&&(ar(t),t.subtreeFlags&6&&(t.flags|=8192)):ar(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function dx(e,t){switch(A2(t),t.tag){case 1:return Tr(t.type)&&cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),dn(br),dn(sr),I2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return N2(t),null;case 13:if(dn(yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dn(yn),null;case 4:return xs(),null;case 10:return P2(t.type._context),null;case 22:case 23:return W2(),null;case 24:return null;default:return null}}var x0=!1,or=!1,hx=typeof WeakSet=="function"?WeakSet:Set,it=null;function rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function Tm(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var c6=!1;function px(e,t){if(sm=od,e=Fg(),b2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,u=0,d=0,p=e,c=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==a||r!==0&&p.nodeType!==3||(s=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)c=p,p=v;for(;;){if(p===e)break t;if(c===n&&++u===i&&(l=o),c===a&&++d===r&&(s=o),(v=p.nextSibling)!==null)break;p=c,c=p.parentNode}p=v}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(um={focusedElem:e,selectionRange:n},od=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var L=x.memoizedProps,O=x.memoizedState,g=t.stateNode,E=g.getSnapshotBeforeUpdate(t.elementType===t.type?L:ui(t.type,L),O);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(P){Pn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return x=c6,c6=!1,x}function Qu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Tm(t,n,a)}i=i.next}while(i!==r)}}function e1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Am(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function N5(e){var t=e.alternate;t!==null&&(e.alternate=null,N5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[dc],delete t[dm],delete t[Q7],delete t[Z7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I5(e){return e.tag===5||e.tag===3||e.tag===4}function f6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ud));else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}function Lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lm(e,t,n),e=e.sibling;e!==null;)Lm(e,t,n),e=e.sibling}var er=null,ci=!1;function ka(e,t,n){for(n=n.child;n!==null;)D5(e,t,n),n=n.sibling}function D5(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Wd,n)}catch{}switch(n.tag){case 5:or||rs(n,t);case 6:var r=er,i=ci;er=null,ka(e,t,n),er=r,ci=i,er!==null&&(ci?(e=er,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(ci?(e=er,n=n.stateNode,e.nodeType===8?ap(e.parentNode,n):e.nodeType===1&&ap(e,n),lc(e)):ap(er,n.stateNode));break;case 4:r=er,i=ci,er=n.stateNode.containerInfo,ci=!0,ka(e,t,n),er=r,ci=i;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Tm(n,t,o),i=i.next}while(i!==r)}ka(e,t,n);break;case 1:if(!or&&(rs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pn(n,t,l)}ka(e,t,n);break;case 21:ka(e,t,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,ka(e,t,n),or=r):ka(e,t,n);break;default:ka(e,t,n)}}function d6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hx),t.forEach(function(r){var i=Sx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:er=l.stateNode,ci=!1;break e;case 3:er=l.stateNode.containerInfo,ci=!0;break e;case 4:er=l.stateNode.containerInfo,ci=!0;break e}l=l.return}if(er===null)throw Error(Ie(160));D5(a,o,i),er=null,ci=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Pn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F5(t,e),t=t.sibling}function F5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oi(t,e),Pi(e),r&4){try{Qu(3,e,e.return),e1(3,e)}catch(L){Pn(e,e.return,L)}try{Qu(5,e,e.return)}catch(L){Pn(e,e.return,L)}}break;case 1:oi(t,e),Pi(e),r&512&&n!==null&&rs(n,n.return);break;case 5:if(oi(t,e),Pi(e),r&512&&n!==null&&rs(n,n.return),e.flags&32){var i=e.stateNode;try{rc(i,"")}catch(L){Pn(e,e.return,L)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ig(i,a),Kp(l,o);var u=Kp(l,a);for(o=0;o<s.length;o+=2){var d=s[o],p=s[o+1];d==="style"?ug(i,p):d==="dangerouslySetInnerHTML"?lg(i,p):d==="children"?rc(i,p):f2(i,d,p,u)}switch(l){case"input":Xp(i,a);break;case"textarea":ag(i,a);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?ls(i,!!a.multiple,v,!1):c!==!!a.multiple&&(a.defaultValue!=null?ls(i,!!a.multiple,a.defaultValue,!0):ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[dc]=a}catch(L){Pn(e,e.return,L)}}break;case 6:if(oi(t,e),Pi(e),r&4){if(e.stateNode===null)throw Error(Ie(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(L){Pn(e,e.return,L)}}break;case 3:if(oi(t,e),Pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(L){Pn(e,e.return,L)}break;case 4:oi(t,e),Pi(e);break;case 13:oi(t,e),Pi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(V2=Dn())),r&4&&d6(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(or=(u=or)||d,oi(t,e),or=u):oi(t,e),Pi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(p=it=d;it!==null;){switch(c=it,v=c.child,c.tag){case 0:case 11:case 14:case 15:Qu(4,c,c.return);break;case 1:rs(c,c.return);var x=c.stateNode;if(typeof x.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(L){Pn(r,n,L)}}break;case 5:rs(c,c.return);break;case 22:if(c.memoizedState!==null){p6(p);continue}}v!==null?(v.return=c,it=v):p6(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,s=p.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=sg("display",o))}catch(L){Pn(e,e.return,L)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(L){Pn(e,e.return,L)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:oi(t,e),Pi(e),r&4&&d6(e);break;case 21:break;default:oi(t,e),Pi(e)}}function Pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I5(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rc(i,""),r.flags&=-33);var a=f6(e);Lm(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=f6(e);Cm(e,l,o);break;default:throw Error(Ie(161))}}catch(s){Pn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mx(e,t,n){it=e,$5(e)}function $5(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var i=it,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||x0;if(!o){var l=i.alternate,s=l!==null&&l.memoizedState!==null||or;l=x0;var u=or;if(x0=o,(or=s)&&!u)for(it=i;it!==null;)o=it,s=o.child,o.tag===22&&o.memoizedState!==null?m6(i):s!==null?(s.return=o,it=s):m6(i);for(;a!==null;)it=a,$5(a),a=a.sibling;it=i,x0=l,or=u}h6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,it=a):h6(e)}}function h6(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||e1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!or)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Q3(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Q3(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&lc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}or||t.flags&512&&Am(t)}catch(c){Pn(t,t.return,c)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function p6(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function m6(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{e1(4,t)}catch(s){Pn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Pn(t,i,s)}}var a=t.return;try{Am(t)}catch(s){Pn(t,a,s)}break;case 5:var o=t.return;try{Am(t)}catch(s){Pn(t,o,s)}}}catch(s){Pn(t,t.return,s)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var vx=Math.ceil,_d=ca.ReactCurrentDispatcher,G2=ca.ReactCurrentOwner,Kr=ca.ReactCurrentBatchConfig,Qt=0,Jn=null,zn=null,tr=0,Dr=0,is=io(0),Xn=0,yc=null,Qo=0,t1=0,U2=0,Zu=null,Er=null,V2=0,ws=1/0,ea=null,wd=!1,Rm=null,Qa=null,_0=!1,Ga=null,Ed=0,Ku=0,Pm=null,U0=-1,V0=0;function hr(){return Qt&6?Dn():U0!==-1?U0:U0=Dn()}function Za(e){return e.mode&1?Qt&2&&tr!==0?tr&-tr:J7.transition!==null?(V0===0&&(V0=wg()),V0):(e=Jt,e!==0||(e=window.event,e=e===void 0?16:Lg(e.type)),e):1}function mi(e,t,n,r){if(50<Ku)throw Ku=0,Pm=null,Error(Ie(185));kc(e,n,r),(!(Qt&2)||e!==Jn)&&(e===Jn&&(!(Qt&2)&&(t1|=n),Xn===4&&Ba(e,tr)),Ar(e,r),n===1&&Qt===0&&!(t.mode&1)&&(ws=Dn()+500,Zd&&ao()))}function Ar(e,t){var n=e.callbackNode;J9(e,t);var r=ad(e,e===Jn?tr:0);if(r===0)n!==null&&b3(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b3(n),t===1)e.tag===0?K7(v6.bind(null,e)):Xg(v6.bind(null,e)),Y7(function(){!(Qt&6)&&ao()}),n=null;else{switch(Eg(r)){case 1:n=v2;break;case 4:n=xg;break;case 16:n=id;break;case 536870912:n=_g;break;default:n=id}n=W5(n,B5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B5(e,t){if(U0=-1,V0=0,Qt&6)throw Error(Ie(327));var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var r=ad(e,e===Jn?tr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sd(e,r);else{t=r;var i=Qt;Qt|=2;var a=z5();(Jn!==e||tr!==t)&&(ea=null,ws=Dn()+500,Uo(e,t));do try{xx();break}catch(l){j5(e,l)}while(!0);R2(),_d.current=a,Qt=i,zn!==null?t=0:(Jn=null,tr=0,t=Xn)}if(t!==0){if(t===2&&(i=rm(e),i!==0&&(r=i,t=km(e,i))),t===1)throw n=yc,Uo(e,0),Ba(e,r),Ar(e,Dn()),n;if(t===6)Ba(e,r);else{if(i=e.current.alternate,!(r&30)&&!gx(i)&&(t=Sd(e,r),t===2&&(a=rm(e),a!==0&&(r=a,t=km(e,a))),t===1))throw n=yc,Uo(e,0),Ba(e,r),Ar(e,Dn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:Do(e,Er,ea);break;case 3:if(Ba(e,r),(r&130023424)===r&&(t=V2+500-Dn(),10<t)){if(ad(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fm(Do.bind(null,e,Er,ea),t);break}Do(e,Er,ea);break;case 4:if(Ba(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pi(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vx(r/1960))-r,10<r){e.timeoutHandle=fm(Do.bind(null,e,Er,ea),r);break}Do(e,Er,ea);break;case 5:Do(e,Er,ea);break;default:throw Error(Ie(329))}}}return Ar(e,Dn()),e.callbackNode===n?B5.bind(null,e):null}function km(e,t){var n=Zu;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),e=Sd(e,t),e!==2&&(t=Er,Er=n,t!==null&&Om(t)),e}function Om(e){Er===null?Er=e:Er.push.apply(Er,e)}function gx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t){for(t&=~U2,t&=~t1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pi(t),r=1<<n;e[n]=-1,t&=~r}}function v6(e){if(Qt&6)throw Error(Ie(327));ds();var t=ad(e,0);if(!(t&1))return Ar(e,Dn()),null;var n=Sd(e,t);if(e.tag!==0&&n===2){var r=rm(e);r!==0&&(t=r,n=km(e,r))}if(n===1)throw n=yc,Uo(e,0),Ba(e,t),Ar(e,Dn()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,Er,ea),Ar(e,Dn()),null}function H2(e,t){var n=Qt;Qt|=1;try{return e(t)}finally{Qt=n,Qt===0&&(ws=Dn()+500,Zd&&ao())}}function Zo(e){Ga!==null&&Ga.tag===0&&!(Qt&6)&&ds();var t=Qt;Qt|=1;var n=Kr.transition,r=Jt;try{if(Kr.transition=null,Jt=1,e)return e()}finally{Jt=r,Kr.transition=n,Qt=t,!(Qt&6)&&ao()}}function W2(){Dr=is.current,dn(is)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X7(n)),zn!==null)for(n=zn.return;n!==null;){var r=n;switch(A2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cd();break;case 3:xs(),dn(br),dn(sr),I2();break;case 5:N2(r);break;case 4:xs();break;case 13:dn(yn);break;case 19:dn(yn);break;case 10:P2(r.type._context);break;case 22:case 23:W2()}n=n.return}if(Jn=e,zn=e=Ka(e.current,null),tr=Dr=t,Xn=0,yc=null,U2=t1=Qo=0,Er=Zu=null,Bo!==null){for(t=0;t<Bo.length;t++)if(n=Bo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Bo=null}return e}function j5(e,t){do{var n=zn;try{if(R2(),j0.current=xd,yd){for(var r=wn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yd=!1}if(qo=0,Kn=Wn=wn=null,qu=!1,mc=0,G2.current=null,n===null||n.return===null){Xn=1,yc=t,zn=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=tr,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=r6(o);if(v!==null){v.flags&=-257,i6(v,o,l,a,t),v.mode&1&&n6(a,u,t),t=v,s=u;var x=t.updateQueue;if(x===null){var L=new Set;L.add(s),t.updateQueue=L}else x.add(s);break e}else{if(!(t&1)){n6(a,u,t),X2();break e}s=Error(Ie(426))}}else if(pn&&l.mode&1){var O=r6(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),i6(O,o,l,a,t),C2(_s(s,l));break e}}a=s=_s(s,l),Xn!==4&&(Xn=2),Zu===null?Zu=[a]:Zu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=S5(a,s,t);q3(a,g);break e;case 1:l=s;var E=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qa===null||!Qa.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=b5(a,l,t);q3(a,P);break e}}a=a.return}while(a!==null)}U5(n)}catch(z){t=z,zn===n&&n!==null&&(zn=n=n.return);continue}break}while(!0)}function z5(){var e=_d.current;return _d.current=xd,e===null?xd:e}function X2(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),Jn===null||!(Qo&268435455)&&!(t1&268435455)||Ba(Jn,tr)}function Sd(e,t){var n=Qt;Qt|=2;var r=z5();(Jn!==e||tr!==t)&&(ea=null,Uo(e,t));do try{yx();break}catch(i){j5(e,i)}while(!0);if(R2(),Qt=n,_d.current=r,zn!==null)throw Error(Ie(261));return Jn=null,tr=0,Xn}function yx(){for(;zn!==null;)G5(zn)}function xx(){for(;zn!==null&&!V9();)G5(zn)}function G5(e){var t=H5(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,t===null?U5(e):zn=t,G2.current=null}function U5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dx(n,t),n!==null){n.flags&=32767,zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,zn=null;return}}else if(n=fx(n,t,Dr),n!==null){zn=n;return}if(t=t.sibling,t!==null){zn=t;return}zn=t=e}while(t!==null);Xn===0&&(Xn=5)}function Do(e,t,n){var r=Jt,i=Kr.transition;try{Kr.transition=null,Jt=1,_x(e,t,n,r)}finally{Kr.transition=i,Jt=r}return null}function _x(e,t,n,r){do ds();while(Ga!==null);if(Qt&6)throw Error(Ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(e7(e,a),e===Jn&&(zn=Jn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_0||(_0=!0,W5(id,function(){return ds(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Kr.transition,Kr.transition=null;var o=Jt;Jt=1;var l=Qt;Qt|=4,G2.current=null,px(e,n),F5(n,e),j7(um),od=!!sm,um=sm=null,e.current=n,mx(n),H9(),Qt=l,Jt=o,Kr.transition=a}else e.current=n;if(_0&&(_0=!1,Ga=e,Ed=i),a=e.pendingLanes,a===0&&(Qa=null),Y9(n.stateNode),Ar(e,Dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wd)throw wd=!1,e=Rm,Rm=null,e;return Ed&1&&e.tag!==0&&ds(),a=e.pendingLanes,a&1?e===Pm?Ku++:(Ku=0,Pm=e):Ku=0,ao(),null}function ds(){if(Ga!==null){var e=Eg(Ed),t=Kr.transition,n=Jt;try{if(Kr.transition=null,Jt=16>e?16:e,Ga===null)var r=!1;else{if(e=Ga,Ga=null,Ed=0,Qt&6)throw Error(Ie(331));var i=Qt;for(Qt|=4,it=e.current;it!==null;){var a=it,o=a.child;if(it.flags&16){var l=a.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:Qu(8,d,a)}var p=d.child;if(p!==null)p.return=d,it=p;else for(;it!==null;){d=it;var c=d.sibling,v=d.return;if(N5(d),d===u){it=null;break}if(c!==null){c.return=v,it=c;break}it=v}}}var x=a.alternate;if(x!==null){var L=x.child;if(L!==null){x.child=null;do{var O=L.sibling;L.sibling=null,L=O}while(L!==null)}}it=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,it=o;else e:for(;it!==null;){if(a=it,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qu(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,it=g;break e}it=a.return}}var E=e.current;for(it=E;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=E;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:e1(9,l)}}catch(z){Pn(l,l.return,z)}if(l===o){it=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,it=P;break e}it=l.return}}if(Qt=i,ao(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Wd,e)}catch{}r=!0}return r}finally{Jt=n,Kr.transition=t}}return!1}function g6(e,t,n){t=_s(n,t),t=S5(e,t,1),e=qa(e,t,1),t=hr(),e!==null&&(kc(e,1,t),Ar(e,t))}function Pn(e,t,n){if(e.tag===3)g6(e,e,n);else for(;t!==null;){if(t.tag===3){g6(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qa===null||!Qa.has(r))){e=_s(n,e),e=b5(t,e,1),t=qa(t,e,1),e=hr(),t!==null&&(kc(t,1,e),Ar(t,e));break}}t=t.return}}function wx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&n,Jn===e&&(tr&n)===n&&(Xn===4||Xn===3&&(tr&130023424)===tr&&500>Dn()-V2?Uo(e,0):U2|=n),Ar(e,t)}function V5(e,t){t===0&&(e.mode&1?(t=c0,c0<<=1,!(c0&130023424)&&(c0=4194304)):t=1);var n=hr();e=la(e,t),e!==null&&(kc(e,t,n),Ar(e,n))}function Ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V5(e,n)}function Sx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),V5(e,n)}var H5;H5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)Sr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sr=!1,cx(e,t,n);Sr=!!(e.flags&131072)}else Sr=!1,pn&&t.flags&1048576&&Yg(t,hd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;G0(e,t),e=t.pendingProps;var i=vs(t,sr.current);fs(t,n),i=F2(null,t,r,e,i,n);var a=$2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(r)?(a=!0,fd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O2(t),i.updater=Kd,t.stateNode=i,i._reactInternals=t,ym(t,r,e,n),t=wm(null,t,r,!0,a,n)):(t.tag=0,pn&&a&&T2(t),fr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(G0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tx(r),e=ui(r,e),i){case 0:t=_m(null,t,r,e,n);break e;case 1:t=l6(null,t,r,e,n);break e;case 11:t=a6(null,t,r,e,n);break e;case 14:t=o6(null,t,r,ui(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),_m(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),l6(e,t,r,i,n);case 3:e:{if(L5(t),e===null)throw Error(Ie(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Kg(e,t),vd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=_s(Error(Ie(423)),t),t=s6(e,t,r,n,i);break e}else if(r!==i){i=_s(Error(Ie(424)),t),t=s6(e,t,r,n,i);break e}else for(Fr=Ya(t.stateNode.containerInfo.firstChild),$r=t,pn=!0,fi=null,n=n5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){t=sa(e,t,n);break e}fr(e,t,r,n)}t=t.child}return t;case 5:return r5(t),e===null&&mm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,cm(r,i)?o=null:a!==null&&cm(r,a)&&(t.flags|=32),C5(e,t),fr(e,t,o,n),t.child;case 6:return e===null&&mm(t),null;case 13:return R5(e,t,n);case 4:return M2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ys(t,null,r,n):fr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),a6(e,t,r,i,n);case 7:return fr(e,t,t.pendingProps,n),t.child;case 8:return fr(e,t,t.pendingProps.children,n),t.child;case 12:return fr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,sn(pd,r._currentValue),r._currentValue=o,a!==null)if(vi(a.value,o)){if(a.children===i.children&&!br.current){t=sa(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=ia(-1,n&-n),s.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),vm(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ie(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vm(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}fr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fs(t,n),i=Jr(i),r=r(i),t.flags|=1,fr(e,t,r,n),t.child;case 14:return r=t.type,i=ui(r,t.pendingProps),i=ui(r.type,i),o6(e,t,r,i,n);case 15:return T5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),G0(e,t),t.tag=1,Tr(r)?(e=!0,fd(t)):e=!1,fs(t,n),e5(t,r,i),ym(t,r,i,n),wm(null,t,r,!0,e,n);case 19:return P5(e,t,n);case 22:return A5(e,t,n)}throw Error(Ie(156,t.tag))};function W5(e,t){return yg(e,t)}function bx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new bx(e,t,n,r)}function Y2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tx(e){if(typeof e=="function")return Y2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===h2)return 11;if(e===p2)return 14}return 2}function Ka(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function H0(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Y2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yl:return Vo(n.children,i,a,t);case d2:o=8,i|=8;break;case Gp:return e=Zr(12,n,t,i|2),e.elementType=Gp,e.lanes=a,e;case Up:return e=Zr(13,n,t,i),e.elementType=Up,e.lanes=a,e;case Vp:return e=Zr(19,n,t,i),e.elementType=Vp,e.lanes=a,e;case tg:return n1(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J4:o=10;break e;case eg:o=9;break e;case h2:o=11;break e;case p2:o=14;break e;case Da:o=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=Zr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Vo(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function n1(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=tg,e.lanes=n,e.stateNode={isHidden:!1},e}function hp(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function pp(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ax(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q2(e,t,n,r,i,a,o,l,s){return e=new Ax(e,t,n,l,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O2(a),e}function Cx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X5(e){if(!e)return to;e=e._reactInternals;e:{if(il(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if(Tr(n))return Wg(e,n,t)}return t}function Y5(e,t,n,r,i,a,o,l,s){return e=q2(n,r,!0,e,i,a,o,l,s),e.context=X5(null),n=e.current,r=hr(),i=Za(n),a=ia(r,i),a.callback=t??null,qa(n,a,i),e.current.lanes=i,kc(e,i,r),Ar(e,r),e}function r1(e,t,n,r){var i=t.current,a=hr(),o=Za(i);return n=X5(n),t.context===null?t.context=n:t.pendingContext=n,t=ia(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qa(i,t,o),e!==null&&(mi(e,i,o,a),B0(e,i,o)),o}function bd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q2(e,t){y6(e,t),(e=e.alternate)&&y6(e,t)}function Lx(){return null}var q5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Z2(e){this._internalRoot=e}i1.prototype.render=Z2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));r1(e,t,null,null)};i1.prototype.unmount=Z2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zo(function(){r1(null,e,null,null)}),t[oa]=null}};function i1(e){this._internalRoot=e}i1.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$a.length&&t!==0&&t<$a[n].priority;n++);$a.splice(n,0,e),n===0&&Cg(e)}};function K2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function x6(){}function Rx(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=bd(o);a.call(u)}}var o=Y5(t,r,e,0,null,!1,!1,"",x6);return e._reactRootContainer=o,e[oa]=o.current,cc(e.nodeType===8?e.parentNode:e),Zo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=bd(s);l.call(u)}}var s=q2(e,0,!1,null,null,!1,!1,"",x6);return e._reactRootContainer=s,e[oa]=s.current,cc(e.nodeType===8?e.parentNode:e),Zo(function(){r1(t,s,n,r)}),s}function o1(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var s=bd(o);l.call(s)}}r1(t,o,e,i)}else o=Rx(n,t,e,i,r);return bd(o)}Sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ju(t.pendingLanes);n!==0&&(g2(t,n|1),Ar(t,Dn()),!(Qt&6)&&(ws=Dn()+500,ao()))}break;case 13:Zo(function(){var r=la(e,1);if(r!==null){var i=hr();mi(r,e,1,i)}}),Q2(e,1)}};y2=function(e){if(e.tag===13){var t=la(e,134217728);if(t!==null){var n=hr();mi(t,e,134217728,n)}Q2(e,134217728)}};bg=function(e){if(e.tag===13){var t=Za(e),n=la(e,t);if(n!==null){var r=hr();mi(n,e,t,r)}Q2(e,t)}};Tg=function(){return Jt};Ag=function(e,t){var n=Jt;try{return Jt=e,t()}finally{Jt=n}};em=function(e,t,n){switch(t){case"input":if(Xp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qd(r);if(!i)throw Error(Ie(90));rg(r),Xp(r,i)}}}break;case"textarea":ag(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};dg=H2;hg=Zo;var Px={usingClientEntryPoint:!1,Events:[Mc,Kl,Qd,cg,fg,H2]},Mu={findFiberByHostInstance:$o,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kx={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vg(e),e===null?null:e.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||Lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var w0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!w0.isDisabled&&w0.supportsFiber)try{Wd=w0.inject(kx),Ii=w0}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;zr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K2(t))throw Error(Ie(200));return Cx(e,t,null,n)};zr.createRoot=function(e,t){if(!K2(e))throw Error(Ie(299));var n=!1,r="",i=q5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=q2(e,1,!1,null,null,n,!1,r,i),e[oa]=t.current,cc(e.nodeType===8?e.parentNode:e),new Z2(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=vg(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return Zo(e)};zr.hydrate=function(e,t,n){if(!a1(t))throw Error(Ie(200));return o1(null,e,t,!0,n)};zr.hydrateRoot=function(e,t,n){if(!K2(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=q5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Y5(t,null,e,1,n??null,i,!1,a,o),e[oa]=t.current,cc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new i1(t)};zr.render=function(e,t,n){if(!a1(t))throw Error(Ie(200));return o1(null,e,t,!1,n)};zr.unmountComponentAtNode=function(e){if(!a1(e))throw Error(Ie(40));return e._reactRootContainer?(Zo(function(){o1(null,null,e,!1,function(){e._reactRootContainer=null,e[oa]=null})}),!0):!1};zr.unstable_batchedUpdates=H2;zr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!a1(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return o1(e,t,n,!1,r)};zr.version="18.2.0-next-9e3b772b8-20220608";function Q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q5)}catch(e){console.error(e)}}Q5(),Y4.exports=zr;var Ox=Y4.exports,_6=Ox;jp.createRoot=_6.createRoot,jp.hydrateRoot=_6.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const w6="popstate";function Mx(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:l="",hash:s=""}=al(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Mm("",{pathname:o,search:l,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof a=="string"?a:Td(a))}function r(i,a){l1(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Ix(t,n,r,e)}function Gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nx(){return Math.random().toString(36).substr(2,8)}function E6(e,t){return{usr:e.state,key:e.key,idx:t}}function Mm(e,t,n,r){return n===void 0&&(n=null),xc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?al(t):t,{state:n,key:t&&t.key||r||Nx()})}function Td(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ix(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Ua.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(xc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Ua.Pop;let O=d(),g=O==null?null:O-u;u=O,s&&s({action:l,location:L.location,delta:g})}function c(O,g){l=Ua.Push;let E=Mm(L.location,O,g);n&&n(E,O),u=d()+1;let w=E6(E,u),P=L.createHref(E);try{o.pushState(w,"",P)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(P)}a&&s&&s({action:l,location:L.location,delta:1})}function v(O,g){l=Ua.Replace;let E=Mm(L.location,O,g);n&&n(E,O),u=d();let w=E6(E,u),P=L.createHref(E);o.replaceState(w,"",P),a&&s&&s({action:l,location:L.location,delta:0})}function x(O){let g=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof O=="string"?O:Td(O);return Gn(g,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,g)}let L={get action(){return l},get location(){return e(i,o)},listen(O){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(w6,p),s=O,()=>{i.removeEventListener(w6,p),s=null}},createHref(O){return t(i,O)},createURL:x,encodeLocation(O){let g=x(O);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:c,replace:v,go(O){return o.go(O)}};return L}var S6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(S6||(S6={}));function Dx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?al(t):t,i=J2(r.pathname||"/",n);if(i==null)return null;let a=Z5(e);Fx(a);let o=null;for(let l=0;o==null&&l<a.length;++l)o=Wx(a[l],qx(i));return o}function Z5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let s={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};s.relativePath.startsWith("/")&&(Gn(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=Ja([r,s.relativePath]),d=n.concat(s);a.children&&a.children.length>0&&(Gn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z5(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Vx(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let s of K5(a.path))i(a,o,s)}),t}function K5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=K5(r.join("/")),l=[];return l.push(...o.map(s=>s===""?a:[a,s].join("/"))),i&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function Fx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $x=/^:\w+$/,Bx=3,jx=2,zx=1,Gx=10,Ux=-2,b6=e=>e==="*";function Vx(e,t){let n=e.split("/"),r=n.length;return n.some(b6)&&(r+=Ux),t&&(r+=jx),n.filter(i=>!b6(i)).reduce((i,a)=>i+($x.test(a)?Bx:a===""?zx:Gx),r)}function Hx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Wx(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],s=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Xx({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!d)return null;Object.assign(r,d.params);let p=l.route;a.push({params:r,pathname:Ja([i,d.pathname]),pathnameBase:Jx(Ja([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Ja([i,d.pathnameBase]))}return a}function Xx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Yx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:c,isOptional:v}=d;if(c==="*"){let L=l[p]||"";o=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const x=l[p];return v&&!x?u[c]=void 0:u[c]=Qx(x||"",c),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Yx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),l1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function qx(e){try{return decodeURI(e)}catch(t){return l1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qx(e,t){try{return decodeURIComponent(e)}catch(n){return l1(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function J2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Zx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?al(e):e;return{pathname:n?n.startsWith("/")?n:Kx(n,t):t,search:e_(r),hash:t_(i)}}function Kx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e8(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=al(e):(i=xc({},e),Gn(!i.pathname||!i.pathname.includes("?"),mp("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),mp("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),mp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else if(r){let p=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p.pop();i.pathname=c.join("/")}l="/"+p.join("/")}else{let p=t.length-1;if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p-=1;i.pathname=c.join("/")}l=p>=0?t[p]:"/"}let s=Zx(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const Ja=e=>e.join("/").replace(/\/\/+/g,"/"),Jx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t8=["post","put","patch","delete"];new Set(t8);const r_=["get",...t8];new Set(r_);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}const ev=j.createContext(null),i_=j.createContext(null),Rs=j.createContext(null),s1=j.createContext(null),oo=j.createContext({outlet:null,matches:[],isDataRoute:!1}),n8=j.createContext(null);function a_(e,t){let{relative:n}=t===void 0?{}:t;Ic()||Gn(!1);let{basename:r,navigator:i}=j.useContext(Rs),{hash:a,pathname:o,search:l}=a8(e,{relative:n}),s=o;return r!=="/"&&(s=o==="/"?r:Ja([r,o])),i.createHref({pathname:s,search:l,hash:a})}function Ic(){return j.useContext(s1)!=null}function u1(){return Ic()||Gn(!1),j.useContext(s1).location}function r8(e){j.useContext(Rs).static||j.useLayoutEffect(e)}function c1(){let{isDataRoute:e}=j.useContext(oo);return e?y_():o_()}function o_(){Ic()||Gn(!1);let e=j.useContext(ev),{basename:t,navigator:n}=j.useContext(Rs),{matches:r}=j.useContext(oo),{pathname:i}=u1(),a=JSON.stringify(J5(r).map(s=>s.pathnameBase)),o=j.useRef(!1);return r8(()=>{o.current=!0}),j.useCallback(function(s,u){if(u===void 0&&(u={}),!o.current)return;if(typeof s=="number"){n.go(s);return}let d=e8(s,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ja([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,i,e])}function i8(){let{matches:e}=j.useContext(oo),t=e[e.length-1];return t?t.params:{}}function a8(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=j.useContext(oo),{pathname:i}=u1(),a=JSON.stringify(J5(r).map(o=>o.pathnameBase));return j.useMemo(()=>e8(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function l_(e,t){return s_(e,t)}function s_(e,t,n){Ic()||Gn(!1);let{navigator:r}=j.useContext(Rs),{matches:i}=j.useContext(oo),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let s=u1(),u;if(t){var d;let L=typeof t=="string"?al(t):t;l==="/"||(d=L.pathname)!=null&&d.startsWith(l)||Gn(!1),u=L}else u=s;let p=u.pathname||"/",c=l==="/"?p:p.slice(l.length)||"/",v=Dx(e,{pathname:c}),x=h_(v&&v.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:Ja([l,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:Ja([l,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),i,n);return t&&x?j.createElement(s1.Provider,{value:{location:Ad({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ua.Pop}},x):x}function u_(){let e=g_(),t=n_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,a)}const c_=j.createElement(u_,null);class f_ extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?j.createElement(oo.Provider,{value:this.props.routeContext},j.createElement(n8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d_(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(ev);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(oo.Provider,{value:t},r)}function h_(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=a.findIndex(s=>s.route.id&&(o==null?void 0:o[s.route.id]));l>=0||Gn(!1),a=a.slice(0,Math.min(a.length,l+1))}return a.reduceRight((l,s,u)=>{let d=s.route.id?o==null?void 0:o[s.route.id]:null,p=null;n&&(p=s.route.errorElement||c_);let c=t.concat(a.slice(0,u+1)),v=()=>{let x;return d?x=p:s.route.Component?x=j.createElement(s.route.Component,null):s.route.element?x=s.route.element:x=l,j.createElement(d_,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:x})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?j.createElement(f_,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:v(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):v()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),Cd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cd||{});function p_(e){let t=j.useContext(ev);return t||Gn(!1),t}function m_(e){let t=j.useContext(i_);return t||Gn(!1),t}function v_(e){let t=j.useContext(oo);return t||Gn(!1),t}function l8(e){let t=v_(),n=t.matches[t.matches.length-1];return n.route.id||Gn(!1),n.route.id}function g_(){var e;let t=j.useContext(n8),n=m_(Cd.UseRouteError),r=l8(Cd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function y_(){let{router:e}=p_(o8.UseNavigateStable),t=l8(Cd.UseNavigateStable),n=j.useRef(!1);return r8(()=>{n.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ad({fromRouteId:t},a)))},[e,t])}function W0(e){Gn(!1)}function x_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ua.Pop,navigator:a,static:o=!1}=e;Ic()&&Gn(!1);let l=t.replace(/^\/*/,"/"),s=j.useMemo(()=>({basename:l,navigator:a,static:o}),[l,a,o]);typeof r=="string"&&(r=al(r));let{pathname:u="/",search:d="",hash:p="",state:c=null,key:v="default"}=r,x=j.useMemo(()=>{let L=J2(u,l);return L==null?null:{location:{pathname:L,search:d,hash:p,state:c,key:v},navigationType:i}},[l,u,d,p,c,v,i]);return x==null?null:j.createElement(Rs.Provider,{value:s},j.createElement(s1.Provider,{children:n,value:x}))}function __(e){let{children:t,location:n}=e;return l_(Nm(t),n)}new Promise(()=>{});function Nm(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){n.push.apply(n,Nm(r.props.children,a));return}r.type!==W0&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nm(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Im.apply(this,arguments)}function w_(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function E_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S_(e,t){return e.button===0&&(!t||t==="_self")&&!E_(e)}const b_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],T_="startTransition",T6=E9[T_];function A_(e){let{basename:t,children:n,future:r,window:i}=e,a=j.useRef();a.current==null&&(a.current=Mx({window:i,v5Compat:!0}));let o=a.current,[l,s]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=j.useCallback(p=>{u&&T6?T6(()=>s(p)):s(p)},[s,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(x_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s8=j.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:s,to:u,preventScrollReset:d,unstable_viewTransition:p}=t,c=w_(t,b_),{basename:v}=j.useContext(Rs),x,L=!1;if(typeof u=="string"&&L_.test(u)&&(x=u,C_))try{let w=new URL(window.location.href),P=u.startsWith("//")?new URL(w.protocol+u):new URL(u),z=J2(P.pathname,v);P.origin===w.origin&&z!=null?u=z+P.search+P.hash:L=!0}catch{}let O=a_(u,{relative:i}),g=R_(u,{replace:o,state:l,target:s,preventScrollReset:d,relative:i,unstable_viewTransition:p});function E(w){r&&r(w),w.defaultPrevented||g(w)}return j.createElement("a",Im({},c,{href:x||O,onClick:L||a?r:E,ref:n,target:s}))});var A6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A6||(A6={}));var C6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(C6||(C6={}));function R_(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,s=c1(),u=u1(),d=a8(e,{relative:o});return j.useCallback(p=>{if(S_(p,n)){p.preventDefault();let c=r!==void 0?r:Td(u)===Td(d);s(e,{replace:c,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l})}},[u,s,d,r,i,n,e,a,o,l])}var u8={exports:{}},P_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",k_=P_,O_=k_;function c8(){}function f8(){}f8.resetWarningCache=c8;var M_=function(){function e(r,i,a,o,l,s){if(s!==O_){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f8,resetWarningCache:c8};return n.PropTypes=n,n};u8.exports=M_();var N_=u8.exports;const Ze=Vd(N_);Ze.object,Ze.bool,Ze.func,Ze.func,Ze.func;const E0="https://api.latentscope.com/api";function I_(){const[e,t]=j.useState([]);j.useEffect(()=>{fetch(`${E0}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=j.useState({});j.useEffect(()=>{e.forEach(l=>{fetch(`${E0}/datasets/${l.id}/scopes`).then(s=>s.json()).then(s=>r(u=>{const d={...u};return d[l.id]=s,d}))})},[e]),j.useEffect(()=>{console.log("scopes",n)},[n]);const[i,a]=j.useState(null),o=c1();return j.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){o(`/datasets/${i.dataset}/setup`)},1e3)},[i,o]),W.jsxs("div",{className:"home",children:[null,W.jsxs("div",{className:"section datasets",children:[W.jsx("h3",{children:"Datasets"}),W.jsx("div",{className:"datasets-content",children:e.map(l=>{var s;return W.jsxs("div",{className:"dataset",children:[W.jsxs("h3",{children:[" ",l.id," ",null]}),W.jsxs("span",{children:[l.length," rows"]}),W.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((s=n[l.id])==null?void 0:s.map((u,d)=>W.jsxs("div",{className:"scope-link",children:[W.jsxs(s8,{to:`/datasets/${l.id}/explore/${u.id}`,children:[u.label||u.id,W.jsx("br",{}),u.ignore_hulls?W.jsx("img",{src:`${E0}/files/${l.id}/umaps/${u.umap_id}.png`}):W.jsx("img",{src:`${E0}/files/${l.id}/clusters/${u.cluster_id}.png`})]}),W.jsx("br",{}),W.jsx("span",{className:"scope-description",children:u.description}),W.jsx("br",{}),null]},d)))})]},l.id)})})]})]})}const L6="https://api.latentscope.com/api";d8.propTypes={data:Ze.array.isRequired,tagset:Ze.object,datasetId:Ze.string,maxRows:Ze.number,onTagset:Ze.func,onHover:Ze.func,onClick:Ze.func};function d8({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:a,onClick:o}){if(!e.length)return W.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(p,c){console.log("tag",p),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[p]),t[p].includes(c)?(console.log("removing"),fetch(`${L6}/tags/remove?dataset=${n}&tag=${p}&index=${c}`).then(v=>v.json()).then(v=>{console.log("removed",v),i(v)})):(console.log("adding"),fetch(`${L6}/tags/add?dataset=${n}&tag=${p}&index=${c}`).then(v=>v.json()).then(v=>{console.log("added",v),i(v)}))}t&&(s=Object.keys(t));const d=r?e.slice(0,r):e;return W.jsxs(W.Fragment,{children:[W.jsxs("table",{className:"datatable",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[l.map((p,c)=>W.jsx("th",{children:p},c)),s?W.jsx("th",{children:"tags"}):null]})}),W.jsx("tbody",{children:d.map((p,c)=>W.jsxs("tr",{onMouseEnter:()=>a&&a(p.index),onMouseLeave:()=>a&&a(),onClick:()=>o&&o(p.index),children:[l.map((v,x)=>W.jsx("td",{children:v.toLowerCase()=="url"&&p[v]?W.jsx("a",{href:p[v],children:"url"}):p[v]},x)),s?W.jsx("td",{children:s.map((v,x)=>W.jsx("button",{onClick:L=>{u(v,p.index),L.preventDefault(),L.stopPropagation()},className:t[v].includes(p.index)?"tag-active":"tag-inactive",children:v},x))}):null]},c))})]}),r&&e.length>r?W.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const D_="https://api.latentscope.com/api";zo.propTypes={dataset:Ze.object.isRequired,indices:Ze.array.isRequired,distances:Ze.array,clusterIndices:Ze.array,clusterLabels:Ze.array,maxRows:Ze.number,tagset:Ze.object,onHover:Ze.func,onClick:Ze.func,onTagset:Ze.func};function zo({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:a,tagset:o,onHover:l,onClick:s,onTagset:u}){const[d,p]=j.useState([]),c=j.useCallback(v=>{e&&fetch(`${D_}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:v})}).then(x=>x.json()).then(x=>{let L=x.map((O,g)=>{let E=v[g],w={index:E,...O};return n&&n.length&&(w.distance=n[g]),r&&r.length&&i&&i.length&&(w.cluster=i[r[E].cluster].label),w});p(L)})},[e,n,r,i]);return j.useEffect(()=>{t&&t.length&&c(t)},[t]),W.jsx("div",{children:W.jsx(d8,{data:d,tagset:o,datasetId:e==null?void 0:e.id,maxRows:a,onTagset:u,onHover:l,onClick:s})})}const h8=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),tv=(e,t)=>t?e.toLowerCase():e,p8=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const a=tv(n,t);return e[a]||(e[a]=[],e.__times__[a]=[]),e[a].push(r),e.__times__[a].push(+i||1/0),{event:a,handler:r}},nv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=tv(n,t);if(!e[i])return;const a=e[i].indexOf(r);a===-1||a>=e[i].length||(e[i].splice(a,1),e.__times__[i].splice(a,1))},R6=(e,t)=>()=>{e.forEach(n=>n(t))},m8=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=nv(e);return(a,o,l={})=>{const s=tv(a,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((d,p)=>{--e.__times__[s][p]<1&&i(s,d)}),r||l.async?setTimeout(R6(u,o),0):R6(u,o)(),t&&!l.isNoGlobalBroadcast)try{h8.postMessage({event:s,news:o})}catch(d){if(d instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw d}}},F_=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},v8=()=>({__times__:{}}),$_=({async:e=!1,caseInsensitive:t=!1,stack:n=v8()}={})=>(n.__times__||(n.__times__={}),{publish:m8(n,{async:e,caseInsensitive:t}),subscribe:p8(n,{caseInsensitive:t}),unsubscribe:nv(n,{caseInsensitive:t}),clear:F_(n),stack:n}),S0=v8(),B_={publish:m8(S0,{isGlobal:!0}),subscribe:p8(S0),unsubscribe:nv(S0),stack:S0};h8.onmessage=({data:{event:e,news:t}})=>B_.publish(e,t,{isNoGlobalBroadcast:!0});var g8={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(o9,function(){var n=function(h){return h instanceof Uint8Array||h instanceof Uint16Array||h instanceof Uint32Array||h instanceof Int8Array||h instanceof Int16Array||h instanceof Int32Array||h instanceof Float32Array||h instanceof Float64Array||h instanceof Uint8ClampedArray},r=function(h,y){for(var R=Object.keys(y),Y=0;Y<R.length;++Y)h[R[Y]]=y[R[Y]];return h},i=`
`;function a(h){return typeof atob<"u"?atob(h):"base64:"+h}function o(h){var y=new Error("(regl) "+h);throw console.error(y),y}function l(h,y){h||o(y)}function s(h){return h?": "+h:""}function u(h,y,R){h in y||o("unknown parameter ("+h+")"+s(R)+". possible values: "+Object.keys(y).join())}function d(h,y){n(h)||o("invalid parameter type"+s(y)+". must be a typed array")}function p(h,y){switch(y){case"number":return typeof h=="number";case"object":return typeof h=="object";case"string":return typeof h=="string";case"boolean":return typeof h=="boolean";case"function":return typeof h=="function";case"undefined":return typeof h>"u";case"symbol":return typeof h=="symbol"}}function c(h,y,R){p(h,y)||o("invalid parameter type"+s(R)+". expected "+y+", got "+typeof h)}function v(h,y){h>=0&&(h|0)===h||o("invalid parameter type, ("+h+")"+s(y)+". must be a nonnegative integer")}function x(h,y,R){y.indexOf(h)<0&&o("invalid value"+s(R)+". must be one of: "+y)}var L=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function O(h){Object.keys(h).forEach(function(y){L.indexOf(y)<0&&o('invalid regl constructor argument "'+y+'". must be one of '+L)})}function g(h,y){for(h=h+"";h.length<y;)h=" "+h;return h}function E(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function w(h,y){this.number=h,this.line=y,this.errors=[]}function P(h,y,R){this.file=h,this.line=y,this.message=R}function z(){var h=new Error,y=(h.stack||h).toString(),R=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(y);if(R)return R[1];var Y=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(y);return Y?Y[1]:"unknown"}function Q(){var h=new Error,y=(h.stack||h).toString(),R=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(y);if(R)return R[1];var Y=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(y);return Y?Y[1]:"unknown"}function ue(h,y){var R=h.split(`
`),Y=1,re=0,X={unknown:new E,0:new E};X.unknown.name=X[0].name=y||z(),X.unknown.lines.push(new w(0,""));for(var K=0;K<R.length;++K){var he=R[K],de=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(he);if(de)switch(de[1]){case"line":var _e=/(\d+)(\s+\d+)?/.exec(de[2]);_e&&(Y=_e[1]|0,_e[2]&&(re=_e[2]|0,re in X||(X[re]=new E)));break;case"define":var Ee=/SHADER_NAME(_B64)?\s+(.*)$/.exec(de[2]);Ee&&(X[re].name=Ee[1]?a(Ee[2]):Ee[2]);break}X[re].lines.push(new w(Y++,he))}return Object.keys(X).forEach(function(we){var Ce=X[we];Ce.lines.forEach(function(pe){Ce.index[pe.number]=pe})}),X}function ee(h){var y=[];return h.split(`
`).forEach(function(R){if(!(R.length<5)){var Y=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(R);Y?y.push(new P(Y[1]|0,Y[2]|0,Y[3].trim())):R.length>0&&y.push(new P("unknown",0,R))}}),y}function Ke(h,y){y.forEach(function(R){var Y=h[R.file];if(Y){var re=Y.index[R.line];if(re){re.errors.push(R),Y.hasErrors=!0;return}}h.unknown.hasErrors=!0,h.unknown.lines[0].errors.push(R)})}function Se(h,y,R,Y,re){if(!h.getShaderParameter(y,h.COMPILE_STATUS)){var X=h.getShaderInfoLog(y),K=Y===h.FRAGMENT_SHADER?"fragment":"vertex";vt(R,"string",K+" shader source must be a string",re);var he=ue(R,re),de=ee(X);Ke(he,de),Object.keys(he).forEach(function(_e){var Ee=he[_e];if(!Ee.hasErrors)return;var we=[""],Ce=[""];function pe(ye,$){we.push(ye),Ce.push($||"")}pe("file number "+_e+": "+Ee.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ee.lines.forEach(function(ye){if(ye.errors.length>0){pe(g(ye.number,4)+"|  ","background-color:yellow; font-weight:bold"),pe(ye.line+i,"color:red; background-color:yellow; font-weight:bold");var $=0;ye.errors.forEach(function(Z){var ge=Z.message,Be=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ge);if(Be){var ce=Be[1];switch(ge=Be[2],ce){case"assign":ce="=";break}$=Math.max(ye.line.indexOf(ce,$),0)}else $=0;pe(g("| ",6)),pe(g("^^^",$+3)+i,"font-weight:bold"),pe(g("| ",6)),pe(ge+i,"font-weight:bold")}),pe(g("| ",6)+i)}else pe(g(ye.number,4)+"|  "),pe(ye.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Ce[0]=we.join("%c"),console.log.apply(console,Ce)):console.log(we.join(""))}),l.raise("Error compiling "+K+" shader, "+he[0].name)}}function je(h,y,R,Y,re){if(!h.getProgramParameter(y,h.LINK_STATUS)){var X=h.getProgramInfoLog(y),K=ue(R,re),he=ue(Y,re),de='Error linking program with vertex shader, "'+he[0].name+'", and fragment shader "'+K[0].name+'"';typeof document<"u"?console.log("%c"+de+i+"%c"+X,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(de+i+X),l.raise(de)}}function Xe(h){h._commandRef=z()}function tt(h,y,R,Y){Xe(h);function re(de){return de?Y.id(de):0}h._fragId=re(h.static.frag),h._vertId=re(h.static.vert);function X(de,_e){Object.keys(_e).forEach(function(Ee){de[Y.id(Ee)]=!0})}var K=h._uniformSet={};X(K,y.static),X(K,y.dynamic);var he=h._attributeSet={};X(he,R.static),X(he,R.dynamic),h._hasCount="count"in h.static||"count"in h.dynamic||"elements"in h.static||"elements"in h.dynamic}function Je(h,y){var R=Q();o(h+" in command "+(y||z())+(R==="unknown"?"":" called from "+R))}function Gt(h,y,R){h||Je(y,R||z())}function mt(h,y,R,Y){h in y||Je("unknown parameter ("+h+")"+s(R)+". possible values: "+Object.keys(y).join(),Y||z())}function vt(h,y,R,Y){p(h,y)||Je("invalid parameter type"+s(R)+". expected "+y+", got "+typeof h,Y||z())}function be(h){h()}function De(h,y,R){h.texture?x(h.texture._texture.internalformat,y,"unsupported texture format for attachment"):x(h.renderbuffer._renderbuffer.format,R,"unsupported renderbuffer format for attachment")}var xe=33071,Ae=9728,et=9984,_t=9985,At=9986,Yt=9987,It=5120,kt=5121,Ot=5122,en=5123,an=5124,Sn=5125,Ft=5126,qt=32819,ct=32820,wt=33635,Mt=34042,St=36193,ft={};ft[It]=ft[kt]=1,ft[Ot]=ft[en]=ft[St]=ft[wt]=ft[qt]=ft[ct]=2,ft[an]=ft[Sn]=ft[Ft]=ft[Mt]=4;function $t(h,y){return h===ct||h===qt||h===wt?2:h===Mt?4:ft[h]*y}function on(h){return!(h&h-1)&&!!h}function Kt(h,y,R){var Y,re=y.width,X=y.height,K=y.channels;l(re>0&&re<=R.maxTextureSize&&X>0&&X<=R.maxTextureSize,"invalid texture shape"),(h.wrapS!==xe||h.wrapT!==xe)&&l(on(re)&&on(X),"incompatible wrap mode for texture, both width and height must be power of 2"),y.mipmask===1?re!==1&&X!==1&&l(h.minFilter!==et&&h.minFilter!==At&&h.minFilter!==_t&&h.minFilter!==Yt,"min filter requires mipmap"):(l(on(re)&&on(X),"texture must be a square power of 2 to support mipmapping"),l(y.mipmask===(re<<1)-1,"missing or incomplete mipmap data")),y.type===Ft&&(R.extensions.indexOf("oes_texture_float_linear")<0&&l(h.minFilter===Ae&&h.magFilter===Ae,"filter not supported, must enable oes_texture_float_linear"),l(!h.genMipmaps,"mipmap generation not supported with float textures"));var he=y.images;for(Y=0;Y<16;++Y)if(he[Y]){var de=re>>Y,_e=X>>Y;l(y.mipmask&1<<Y,"missing mipmap data");var Ee=he[Y];if(l(Ee.width===de&&Ee.height===_e,"invalid shape for mip images"),l(Ee.format===y.format&&Ee.internalformat===y.internalformat&&Ee.type===y.type,"incompatible type for mip image"),!Ee.compressed)if(Ee.data){var we=Math.ceil($t(Ee.type,K)*de/Ee.unpackAlignment)*Ee.unpackAlignment;l(Ee.data.byteLength===we*_e,"invalid data for image, buffer size is inconsistent with image format")}else Ee.element||Ee.copy}else h.genMipmaps||l((y.mipmask&1<<Y)===0,"extra mipmap data");y.compressed&&l(!h.genMipmaps,"mipmap generation for compressed images not supported")}function vr(h,y,R,Y){var re=h.width,X=h.height,K=h.channels;l(re>0&&re<=Y.maxTextureSize&&X>0&&X<=Y.maxTextureSize,"invalid texture shape"),l(re===X,"cube map must be square"),l(y.wrapS===xe&&y.wrapT===xe,"wrap mode not supported by cube map");for(var he=0;he<R.length;++he){var de=R[he];l(de.width===re&&de.height===X,"inconsistent cube map face shape"),y.genMipmaps&&(l(!de.compressed,"can not generate mipmap for compressed textures"),l(de.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var _e=de.images,Ee=0;Ee<16;++Ee){var we=_e[Ee];if(we){var Ce=re>>Ee,pe=X>>Ee;l(de.mipmask&1<<Ee,"missing mipmap data"),l(we.width===Ce&&we.height===pe,"invalid shape for mip images"),l(we.format===h.format&&we.internalformat===h.internalformat&&we.type===h.type,"incompatible type for mip image"),we.compressed||(we.data?l(we.data.byteLength===Ce*pe*Math.max($t(we.type,K),we.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):we.element||we.copy)}}}}var _=r(l,{optional:be,raise:o,commandRaise:Je,command:Gt,parameter:u,commandParameter:mt,constructor:O,type:c,commandType:vt,isTypedArray:d,nni:v,oneOf:x,shaderError:Se,linkError:je,callSite:Q,saveCommandRef:Xe,saveDrawInfo:tt,framebufferFormat:De,guessCommand:z,texture2D:Kt,textureCube:vr}),me=0,ze=0,fe=5,yt=6;function dt(h,y){this.id=me++,this.type=h,this.data=y}function ke(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ct(h){if(h.length===0)return[];var y=h.charAt(0),R=h.charAt(h.length-1);if(h.length>1&&y===R&&(y==='"'||y==="'"))return['"'+ke(h.substr(1,h.length-2))+'"'];var Y=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(h);if(Y)return Ct(h.substr(0,Y.index)).concat(Ct(Y[1])).concat(Ct(h.substr(Y.index+Y[0].length)));var re=h.split(".");if(re.length===1)return['"'+ke(h)+'"'];for(var X=[],K=0;K<re.length;++K)X=X.concat(Ct(re[K]));return X}function Bt(h){return"["+Ct(h).join("][")+"]"}function Ve(h,y){return new dt(h,Bt(y+""))}function tn(h){return typeof h=="function"&&!h._reglType||h instanceof dt}function un(h,y){if(typeof h=="function")return new dt(ze,h);if(typeof h=="number"||typeof h=="boolean")return new dt(fe,h);if(Array.isArray(h))return new dt(yt,h.map(function(R,Y){return un(R,y+"["+Y+"]")}));if(h instanceof dt)return h;_(!1,"invalid option type in uniform "+y)}var Nt={DynamicVariable:dt,define:Ve,isDynamic:tn,unbox:un,accessor:Bt},mn={next:typeof requestAnimationFrame=="function"?function(h){return requestAnimationFrame(h)}:function(h){return setTimeout(h,16)},cancel:typeof cancelAnimationFrame=="function"?function(h){return cancelAnimationFrame(h)}:clearTimeout},bn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function rr(){var h={"":0},y=[""];return{id:function(R){var Y=h[R];return Y||(Y=h[R]=y.length,y.push(R),Y)},str:function(R){return y[R]}}}function Yn(h,y,R){var Y=document.createElement("canvas");r(Y.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),h.appendChild(Y),h===document.body&&(Y.style.position="absolute",r(h.style,{margin:0,padding:0}));function re(){var he=window.innerWidth,de=window.innerHeight;if(h!==document.body){var _e=Y.getBoundingClientRect();he=_e.right-_e.left,de=_e.bottom-_e.top}Y.width=R*he,Y.height=R*de}var X;h!==document.body&&typeof ResizeObserver=="function"?(X=new ResizeObserver(function(){setTimeout(re)}),X.observe(h)):window.addEventListener("resize",re,!1);function K(){X?X.disconnect():window.removeEventListener("resize",re),h.removeChild(Y)}return re(),{canvas:Y,onDestroy:K}}function ti(h,y){function R(Y){try{return h.getContext(Y,y)}catch{return null}}return R("webgl")||R("experimental-webgl")||R("webgl-experimental")}function Fn(h){return typeof h.nodeName=="string"&&typeof h.appendChild=="function"&&typeof h.getBoundingClientRect=="function"}function ni(h){return typeof h.drawArrays=="function"||typeof h.drawElements=="function"}function oe(h){return typeof h=="string"?h.split():(_(Array.isArray(h),"invalid extension array"),h)}function bt(h){return typeof h=="string"?(_(typeof document<"u","not supported outside of DOM"),document.querySelector(h)):h}function hn(h){var y=h||{},R,Y,re,X,K={},he=[],de=[],_e=typeof window>"u"?1:window.devicePixelRatio,Ee=!1,we=function(ye){ye&&_.raise(ye)},Ce=function(){};if(typeof y=="string"?(_(typeof document<"u","selector queries only supported in DOM enviroments"),R=document.querySelector(y),_(R,"invalid query string for element")):typeof y=="object"?Fn(y)?R=y:ni(y)?(X=y,re=X.canvas):(_.constructor(y),"gl"in y?X=y.gl:"canvas"in y?re=bt(y.canvas):"container"in y&&(Y=bt(y.container)),"attributes"in y&&(K=y.attributes,_.type(K,"object","invalid context attributes")),"extensions"in y&&(he=oe(y.extensions)),"optionalExtensions"in y&&(de=oe(y.optionalExtensions)),"onDone"in y&&(_.type(y.onDone,"function","invalid or missing onDone callback"),we=y.onDone),"profile"in y&&(Ee=!!y.profile),"pixelRatio"in y&&(_e=+y.pixelRatio,_(_e>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),R&&(R.nodeName.toLowerCase()==="canvas"?re=R:Y=R),!X){if(!re){_(typeof document<"u","must manually specify webgl context outside of DOM environments");var pe=Yn(Y||document.body,we,_e);if(!pe)return null;re=pe.canvas,Ce=pe.onDestroy}K.premultipliedAlpha===void 0&&(K.premultipliedAlpha=!0),X=ti(re,K)}return X?{gl:X,canvas:re,container:Y,extensions:he,optionalExtensions:de,pixelRatio:_e,profile:Ee,onDone:we,onDestroy:Ce}:(Ce(),we("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Tn(h,y){var R={};function Y(K){_.type(K,"string","extension name must be string");var he=K.toLowerCase(),de;try{de=R[he]=h.getExtension(he)}catch{}return!!de}for(var re=0;re<y.extensions.length;++re){var X=y.extensions[re];if(!Y(X))return y.onDestroy(),y.onDone('"'+X+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return y.optionalExtensions.forEach(Y),{extensions:R,restore:function(){Object.keys(R).forEach(function(K){if(R[K]&&!Y(K))throw new Error("(regl): error restoring extension "+K)})}}}function Zt(h,y){for(var R=Array(h),Y=0;Y<h;++Y)R[Y]=y(Y);return R}var $n=5120,Cr=5121,Bi=5122,so=5123,ks=5124,ol=5125,fa=5126;function uo(h){for(var y=16;y<=1<<28;y*=16)if(h<=y)return y;return 0}function da(h){var y,R;return y=(h>65535)<<4,h>>>=y,R=(h>255)<<3,h>>>=R,y|=R,R=(h>15)<<2,h>>>=R,y|=R,R=(h>3)<<1,h>>>=R,y|=R,y|h>>1}function ll(){var h=Zt(8,function(){return[]});function y(X){var K=uo(X),he=h[da(K)>>2];return he.length>0?he.pop():new ArrayBuffer(K)}function R(X){h[da(X.byteLength)>>2].push(X)}function Y(X,K){var he=null;switch(X){case $n:he=new Int8Array(y(K),0,K);break;case Cr:he=new Uint8Array(y(K),0,K);break;case Bi:he=new Int16Array(y(2*K),0,K);break;case so:he=new Uint16Array(y(2*K),0,K);break;case ks:he=new Int32Array(y(4*K),0,K);break;case ol:he=new Uint32Array(y(4*K),0,K);break;case fa:he=new Float32Array(y(4*K),0,K);break;default:return null}return he.length!==K?he.subarray(0,K):he}function re(X){R(X.buffer)}return{alloc:y,free:R,allocType:Y,freeType:re}}var Et=ll();Et.zero=ll();var ji=3408,sl=3410,$c=3411,xi=3412,_i=3413,wi=3414,Bc=3415,Lr=33901,Os=33902,co=3379,Ms=3386,fo=34921,ul=36347,cl=36348,fl=35661,dl=35660,zi=34930,ho=36349,Ns=34076,Is=34024,jc=7936,ha=7937,pa=7938,hl=35724,ma=34047,Ds=36063,gr=34852,Ei=3553,Si=34067,Gi=34069,Bn=33984,Ur=6408,Un=5126,An=5121,va=36160,pl=36053,ml=36064,vl=16384,zc=function(h,y){var R=1;y.ext_texture_filter_anisotropic&&(R=h.getParameter(ma));var Y=1,re=1;y.webgl_draw_buffers&&(Y=h.getParameter(gr),re=h.getParameter(Ds));var X=!!y.oes_texture_float;if(X){var K=h.createTexture();h.bindTexture(Ei,K),h.texImage2D(Ei,0,Ur,1,1,0,Ur,Un,null);var he=h.createFramebuffer();if(h.bindFramebuffer(va,he),h.framebufferTexture2D(va,ml,Ei,K,0),h.bindTexture(Ei,null),h.checkFramebufferStatus(va)!==pl)X=!1;else{h.viewport(0,0,1,1),h.clearColor(1,0,0,1),h.clear(vl);var de=Et.allocType(Un,4);h.readPixels(0,0,1,1,Ur,Un,de),h.getError()?X=!1:(h.deleteFramebuffer(he),h.deleteTexture(K),X=de[0]===1),Et.freeType(de)}}var _e=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ee=!0;if(!_e){var we=h.createTexture(),Ce=Et.allocType(An,36);h.activeTexture(Bn),h.bindTexture(Si,we),h.texImage2D(Gi,0,Ur,3,3,0,Ur,An,Ce),Et.freeType(Ce),h.bindTexture(Si,null),h.deleteTexture(we),Ee=!h.getError()}return{colorBits:[h.getParameter(sl),h.getParameter($c),h.getParameter(xi),h.getParameter(_i)],depthBits:h.getParameter(wi),stencilBits:h.getParameter(Bc),subpixelBits:h.getParameter(ji),extensions:Object.keys(y).filter(function(pe){return!!y[pe]}),maxAnisotropic:R,maxDrawbuffers:Y,maxColorAttachments:re,pointSizeDims:h.getParameter(Lr),lineWidthDims:h.getParameter(Os),maxViewportDims:h.getParameter(Ms),maxCombinedTextureUnits:h.getParameter(fl),maxCubeMapSize:h.getParameter(Ns),maxRenderbufferSize:h.getParameter(Is),maxTextureUnits:h.getParameter(zi),maxTextureSize:h.getParameter(co),maxAttributes:h.getParameter(fo),maxVertexUniforms:h.getParameter(ul),maxVertexTextureUnits:h.getParameter(dl),maxVaryingVectors:h.getParameter(cl),maxFragmentUniforms:h.getParameter(ho),glsl:h.getParameter(hl),renderer:h.getParameter(ha),vendor:h.getParameter(jc),version:h.getParameter(pa),readFloat:X,npotTextureCube:Ee}};function yr(h){return!!h&&typeof h=="object"&&Array.isArray(h.shape)&&Array.isArray(h.stride)&&typeof h.offset=="number"&&h.shape.length===h.stride.length&&(Array.isArray(h.data)||n(h.data))}var ur=function(h){return Object.keys(h).map(function(y){return h[y]})},Rr={shape:b1,flatten:S1};function Gc(h,y,R){for(var Y=0;Y<y;++Y)R[Y]=h[Y]}function Fs(h,y,R,Y){for(var re=0,X=0;X<y;++X)for(var K=h[X],he=0;he<R;++he)Y[re++]=K[he]}function gl(h,y,R,Y,re,X){for(var K=X,he=0;he<y;++he)for(var de=h[he],_e=0;_e<R;++_e)for(var Ee=de[_e],we=0;we<Y;++we)re[K++]=Ee[we]}function $s(h,y,R,Y,re){for(var X=1,K=R+1;K<y.length;++K)X*=y[K];var he=y[R];if(y.length-R===4){var de=y[R+1],_e=y[R+2],Ee=y[R+3];for(K=0;K<he;++K)gl(h[K],de,_e,Ee,Y,re),re+=X}else for(K=0;K<he;++K)$s(h[K],y,R+1,Y,re),re+=X}function S1(h,y,R,Y){var re=1;if(y.length)for(var X=0;X<y.length;++X)re*=y[X];else re=0;var K=Y||Et.allocType(R,re);switch(y.length){case 0:break;case 1:Gc(h,y[0],K);break;case 2:Fs(h,y[0],y[1],K);break;case 3:gl(h,y[0],y[1],y[2],K,0);break;default:$s(h,y,0,K,0)}return K}function b1(h){for(var y=[],R=h;R.length;R=R[0])y.push(R.length);return y}var ga={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},po=5120,Ui=5122,yl=5124,T1=5121,xl=5123,ya=5125,mo=5126,Bs=5126,xa={int8:po,int16:Ui,int32:yl,uint8:T1,uint16:xl,uint32:ya,float:mo,float32:Bs},Cv=35048,kn=35040,_l={dynamic:Cv,stream:kn,static:35044},vo=Rr.flatten,Uc=Rr.shape,js=35044,zs=35040,wl=5121,El=5126,ri=[];ri[5120]=1,ri[5122]=2,ri[5124]=4,ri[5121]=1,ri[5123]=2,ri[5125]=4,ri[5126]=4;function go(h){return ga[Object.prototype.toString.call(h)]|0}function Sl(h,y){for(var R=0;R<y.length;++R)h[R]=y[R]}function Gs(h,y,R,Y,re,X,K){for(var he=0,de=0;de<R;++de)for(var _e=0;_e<Y;++_e)h[he++]=y[re*de+X*_e+K]}function Us(h,y,R,Y){var re=0,X={};function K($){this.id=re++,this.buffer=h.createBuffer(),this.type=$,this.usage=js,this.byteLength=0,this.dimension=1,this.dtype=wl,this.persistentData=null,R.profile&&(this.stats={size:0})}K.prototype.bind=function(){h.bindBuffer(this.type,this.buffer)},K.prototype.destroy=function(){Ce(this)};var he=[];function de($,Z){var ge=he.pop();return ge||(ge=new K($)),ge.bind(),we(ge,Z,zs,0,1,!1),ge}function _e($){he.push($)}function Ee($,Z,ge){$.byteLength=Z.byteLength,h.bufferData($.type,Z,ge)}function we($,Z,ge,Be,ce,Fe){var Me;if($.usage=ge,Array.isArray(Z)){if($.dtype=Be||El,Z.length>0){var rt;if(Array.isArray(Z[0])){Me=Uc(Z);for(var ie=1,ne=1;ne<Me.length;++ne)ie*=Me[ne];$.dimension=ie,rt=vo(Z,Me,$.dtype),Ee($,rt,ge),Fe?$.persistentData=rt:Et.freeType(rt)}else if(typeof Z[0]=="number"){$.dimension=ce;var We=Et.allocType($.dtype,Z.length);Sl(We,Z),Ee($,We,ge),Fe?$.persistentData=We:Et.freeType(We)}else n(Z[0])?($.dimension=Z[0].length,$.dtype=Be||go(Z[0])||El,rt=vo(Z,[Z.length,Z[0].length],$.dtype),Ee($,rt,ge),Fe?$.persistentData=rt:Et.freeType(rt)):_.raise("invalid buffer data")}}else if(n(Z))$.dtype=Be||go(Z),$.dimension=ce,Ee($,Z,ge),Fe&&($.persistentData=new Uint8Array(new Uint8Array(Z.buffer)));else if(yr(Z)){Me=Z.shape;var Re=Z.stride,ve=Z.offset,Pe=0,Oe=0,ht=0,ut=0;Me.length===1?(Pe=Me[0],Oe=1,ht=Re[0],ut=0):Me.length===2?(Pe=Me[0],Oe=Me[1],ht=Re[0],ut=Re[1]):_.raise("invalid shape"),$.dtype=Be||go(Z.data)||El,$.dimension=Oe;var Ne=Et.allocType($.dtype,Pe*Oe);Gs(Ne,Z.data,Pe,Oe,ht,ut,ve),Ee($,Ne,ge),Fe?$.persistentData=Ne:Et.freeType(Ne)}else Z instanceof ArrayBuffer?($.dtype=wl,$.dimension=ce,Ee($,Z,ge),Fe&&($.persistentData=new Uint8Array(new Uint8Array(Z)))):_.raise("invalid buffer data")}function Ce($){y.bufferCount--,Y($);var Z=$.buffer;_(Z,"buffer must not be deleted already"),h.deleteBuffer(Z),$.buffer=null,delete X[$.id]}function pe($,Z,ge,Be){y.bufferCount++;var ce=new K(Z);X[ce.id]=ce;function Fe(ie){var ne=js,We=null,Re=0,ve=0,Pe=1;return Array.isArray(ie)||n(ie)||yr(ie)||ie instanceof ArrayBuffer?We=ie:typeof ie=="number"?Re=ie|0:ie&&(_.type(ie,"object","buffer arguments must be an object, a number or an array"),"data"in ie&&(_(We===null||Array.isArray(We)||n(We)||yr(We),"invalid data for buffer"),We=ie.data),"usage"in ie&&(_.parameter(ie.usage,_l,"invalid buffer usage"),ne=_l[ie.usage]),"type"in ie&&(_.parameter(ie.type,xa,"invalid buffer type"),ve=xa[ie.type]),"dimension"in ie&&(_.type(ie.dimension,"number","invalid dimension"),Pe=ie.dimension|0),"length"in ie&&(_.nni(Re,"buffer length must be a nonnegative integer"),Re=ie.length|0)),ce.bind(),We?we(ce,We,ne,ve,Pe,Be):(Re&&h.bufferData(ce.type,Re,ne),ce.dtype=ve||wl,ce.usage=ne,ce.dimension=Pe,ce.byteLength=Re),R.profile&&(ce.stats.size=ce.byteLength*ri[ce.dtype]),Fe}function Me(ie,ne){_(ne+ie.byteLength<=ce.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ie.byteLength+" starting from offset "+ne+" to a buffer of size "+ce.byteLength),h.bufferSubData(ce.type,ne,ie)}function rt(ie,ne){var We=(ne||0)|0,Re;if(ce.bind(),n(ie)||ie instanceof ArrayBuffer)Me(ie,We);else if(Array.isArray(ie)){if(ie.length>0)if(typeof ie[0]=="number"){var ve=Et.allocType(ce.dtype,ie.length);Sl(ve,ie),Me(ve,We),Et.freeType(ve)}else if(Array.isArray(ie[0])||n(ie[0])){Re=Uc(ie);var Pe=vo(ie,Re,ce.dtype);Me(Pe,We),Et.freeType(Pe)}else _.raise("invalid buffer data")}else if(yr(ie)){Re=ie.shape;var Oe=ie.stride,ht=0,ut=0,Ne=0,$e=0;Re.length===1?(ht=Re[0],ut=1,Ne=Oe[0],$e=0):Re.length===2?(ht=Re[0],ut=Re[1],Ne=Oe[0],$e=Oe[1]):_.raise("invalid shape");var ot=Array.isArray(ie.data)?ce.dtype:go(ie.data),pt=Et.allocType(ot,ht*ut);Gs(pt,ie.data,ht,ut,Ne,$e,ie.offset),Me(pt,We),Et.freeType(pt)}else _.raise("invalid data for buffer subdata");return Fe}return ge||Fe($),Fe._reglType="buffer",Fe._buffer=ce,Fe.subdata=rt,R.profile&&(Fe.stats=ce.stats),Fe.destroy=function(){Ce(ce)},Fe}function ye(){ur(X).forEach(function($){$.buffer=h.createBuffer(),h.bindBuffer($.type,$.buffer),h.bufferData($.type,$.persistentData||$.byteLength,$.usage)})}return R.profile&&(y.getTotalBufferSize=function(){var $=0;return Object.keys(X).forEach(function(Z){$+=X[Z].stats.size}),$}),{create:pe,createStream:de,destroyStream:_e,clear:function(){ur(X).forEach(Ce),he.forEach(Ce)},getBuffer:function($){return $&&$._buffer instanceof K?$._buffer:null},restore:ye,_initBuffer:we}}var A1=0,Vs=0,C1=1,Hs=1,L1=4,R1=4,bi={points:A1,point:Vs,lines:C1,line:Hs,triangles:L1,triangle:R1,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},P1=0,Vi=1,Hi=4,k1=5120,Ti=5121,Vc=5122,_a=5123,Hc=5124,ii=5125,Ws=34963,O1=35040,Xs=35044;function Ys(h,y,R,Y){var re={},X=0,K={uint8:Ti,uint16:_a};y.oes_element_index_uint&&(K.uint32=ii);function he(ye){this.id=X++,re[this.id]=this,this.buffer=ye,this.primType=Hi,this.vertCount=0,this.type=0}he.prototype.bind=function(){this.buffer.bind()};var de=[];function _e(ye){var $=de.pop();return $||($=new he(R.create(null,Ws,!0,!1)._buffer)),we($,ye,O1,-1,-1,0,0),$}function Ee(ye){de.push(ye)}function we(ye,$,Z,ge,Be,ce,Fe){ye.buffer.bind();var Me;if($){var rt=Fe;!Fe&&(!n($)||yr($)&&!n($.data))&&(rt=y.oes_element_index_uint?ii:_a),R._initBuffer(ye.buffer,$,Z,rt,3)}else h.bufferData(Ws,ce,Z),ye.buffer.dtype=Me||Ti,ye.buffer.usage=Z,ye.buffer.dimension=3,ye.buffer.byteLength=ce;if(Me=Fe,!Fe){switch(ye.buffer.dtype){case Ti:case k1:Me=Ti;break;case _a:case Vc:Me=_a;break;case ii:case Hc:Me=ii;break;default:_.raise("unsupported type for element array")}ye.buffer.dtype=Me}ye.type=Me,_(Me!==ii||!!y.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ie=Be;ie<0&&(ie=ye.buffer.byteLength,Me===_a?ie>>=1:Me===ii&&(ie>>=2)),ye.vertCount=ie;var ne=ge;if(ge<0){ne=Hi;var We=ye.buffer.dimension;We===1&&(ne=P1),We===2&&(ne=Vi),We===3&&(ne=Hi)}ye.primType=ne}function Ce(ye){Y.elementsCount--,_(ye.buffer!==null,"must not double destroy elements"),delete re[ye.id],ye.buffer.destroy(),ye.buffer=null}function pe(ye,$){var Z=R.create(null,Ws,!0),ge=new he(Z._buffer);Y.elementsCount++;function Be(ce){if(!ce)Z(),ge.primType=Hi,ge.vertCount=0,ge.type=Ti;else if(typeof ce=="number")Z(ce),ge.primType=Hi,ge.vertCount=ce|0,ge.type=Ti;else{var Fe=null,Me=Xs,rt=-1,ie=-1,ne=0,We=0;Array.isArray(ce)||n(ce)||yr(ce)?Fe=ce:(_.type(ce,"object","invalid arguments for elements"),"data"in ce&&(Fe=ce.data,_(Array.isArray(Fe)||n(Fe)||yr(Fe),"invalid data for element buffer")),"usage"in ce&&(_.parameter(ce.usage,_l,"invalid element buffer usage"),Me=_l[ce.usage]),"primitive"in ce&&(_.parameter(ce.primitive,bi,"invalid element buffer primitive"),rt=bi[ce.primitive]),"count"in ce&&(_(typeof ce.count=="number"&&ce.count>=0,"invalid vertex count for elements"),ie=ce.count|0),"type"in ce&&(_.parameter(ce.type,K,"invalid buffer type"),We=K[ce.type]),"length"in ce?ne=ce.length|0:(ne=ie,We===_a||We===Vc?ne*=2:(We===ii||We===Hc)&&(ne*=4))),we(ge,Fe,Me,rt,ie,ne,We)}return Be}return Be(ye),Be._reglType="elements",Be._elements=ge,Be.subdata=function(ce,Fe){return Z.subdata(ce,Fe),Be},Be.destroy=function(){Ce(ge)},Be}return{create:pe,createStream:_e,destroyStream:Ee,getElements:function(ye){return typeof ye=="function"&&ye._elements instanceof he?ye._elements:null},clear:function(){ur(re).forEach(Ce)}}}var Wc=new Float32Array(1),M1=new Uint32Array(Wc.buffer),N1=5123;function Xc(h){for(var y=Et.allocType(N1,h.length),R=0;R<h.length;++R)if(isNaN(h[R]))y[R]=65535;else if(h[R]===1/0)y[R]=31744;else if(h[R]===-1/0)y[R]=64512;else{Wc[0]=h[R];var Y=M1[0],re=Y>>>31<<15,X=(Y<<1>>>24)-127,K=Y>>13&1023;if(X<-24)y[R]=re;else if(X<-14){var he=-14-X;y[R]=re+(K+1024>>he)}else X>15?y[R]=re+31744:y[R]=re+(X+15<<10)+K}return y}function nn(h){return Array.isArray(h)||n(h)}var Yc=function(h){return!(h&h-1)&&!!h},I1=34467,Vr=3553,qs=34067,bl=34069,Wi=6408,Qs=6406,Tl=6407,Xi=6409,Al=6410,qc=32854,Zs=32855,Ks=36194,D1=32819,F1=32820,$1=33635,Qc=34042,Cl=6402,yo=34041,xo=35904,_o=35906,wa=36193,Yi=33776,Js=33777,eu=33778,tu=33779,Zc=35986,Kc=35987,Jc=34798,ef=35840,tf=35841,nf=35842,rf=35843,af=36196,Ea=5121,nu=5123,ru=5125,Pr=5126,B1=10242,j1=10243,z1=10497,iu=33071,G1=33648,U1=10240,V1=10241,au=9728,H1=9729,Ll=9984,ou=9985,of=9986,lu=9987,W1=33170,wo=4352,lf=4353,X1=4354,Y1=34046,q1=3317,Q1=37440,Z1=37441,K1=37443,Sa=37444,Eo=33984,sf=[Ll,of,ou,lu],So=[0,Xi,Al,Tl,Wi],kr={};kr[Xi]=kr[Qs]=kr[Cl]=1,kr[yo]=kr[Al]=2,kr[Tl]=kr[xo]=3,kr[Wi]=kr[_o]=4;function ba(h){return"[object "+h+"]"}var uf=ba("HTMLCanvasElement"),cf=ba("OffscreenCanvas"),ff=ba("CanvasRenderingContext2D"),df=ba("ImageBitmap"),hf=ba("HTMLImageElement"),Rl=ba("HTMLVideoElement"),J1=Object.keys(ga).concat([uf,cf,ff,df,hf,Rl]),Ta=[];Ta[Ea]=1,Ta[Pr]=4,Ta[wa]=2,Ta[nu]=2,Ta[ru]=4;var On=[];On[qc]=2,On[Zs]=2,On[Ks]=2,On[yo]=4,On[Yi]=.5,On[Js]=.5,On[eu]=1,On[tu]=1,On[Zc]=.5,On[Kc]=1,On[Jc]=1,On[ef]=.5,On[tf]=.25,On[nf]=.5,On[rf]=.25,On[af]=.5;function pf(h){return Array.isArray(h)&&(h.length===0||typeof h[0]=="number")}function su(h){if(!Array.isArray(h))return!1;var y=h.length;return!(y===0||!nn(h[0]))}function qi(h){return Object.prototype.toString.call(h)}function uu(h){return qi(h)===uf}function mf(h){return qi(h)===cf}function eh(h){return qi(h)===ff}function cu(h){return qi(h)===df}function vf(h){return qi(h)===hf}function gf(h){return qi(h)===Rl}function fu(h){if(!h)return!1;var y=qi(h);return J1.indexOf(y)>=0?!0:pf(h)||su(h)||yr(h)}function yf(h){return ga[Object.prototype.toString.call(h)]|0}function th(h,y){var R=y.length;switch(h.type){case Ea:case nu:case ru:case Pr:var Y=Et.allocType(h.type,R);Y.set(y),h.data=Y;break;case wa:h.data=Xc(y);break;default:_.raise("unsupported texture type, must specify a typed array")}}function xf(h,y){return Et.allocType(h.type===wa?Pr:h.type,y)}function _f(h,y){h.type===wa?(h.data=Xc(y),Et.freeType(y)):h.data=y}function wf(h,y,R,Y,re,X){for(var K=h.width,he=h.height,de=h.channels,_e=K*he*de,Ee=xf(h,_e),we=0,Ce=0;Ce<he;++Ce)for(var pe=0;pe<K;++pe)for(var ye=0;ye<de;++ye)Ee[we++]=y[R*pe+Y*Ce+re*ye+X];_f(h,Ee)}function Pl(h,y,R,Y,re,X){var K;if(typeof On[h]<"u"?K=On[h]:K=kr[h]*Ta[y],X&&(K*=6),re){for(var he=0,de=R;de>=1;)he+=K*de*de,de/=2;return he}else return K*R*Y}function nh(h,y,R,Y,re,X,K){var he={"don't care":wo,"dont care":wo,nice:X1,fast:lf},de={repeat:z1,clamp:iu,mirror:G1},_e={nearest:au,linear:H1},Ee=r({mipmap:lu,"nearest mipmap nearest":Ll,"linear mipmap nearest":ou,"nearest mipmap linear":of,"linear mipmap linear":lu},_e),we={none:0,browser:Sa},Ce={uint8:Ea,rgba4:D1,rgb565:$1,"rgb5 a1":F1},pe={alpha:Qs,luminance:Xi,"luminance alpha":Al,rgb:Tl,rgba:Wi,rgba4:qc,"rgb5 a1":Zs,rgb565:Ks},ye={};y.ext_srgb&&(pe.srgb=xo,pe.srgba=_o),y.oes_texture_float&&(Ce.float32=Ce.float=Pr),y.oes_texture_half_float&&(Ce.float16=Ce["half float"]=wa),y.webgl_depth_texture&&(r(pe,{depth:Cl,"depth stencil":yo}),r(Ce,{uint16:nu,uint32:ru,"depth stencil":Qc})),y.webgl_compressed_texture_s3tc&&r(ye,{"rgb s3tc dxt1":Yi,"rgba s3tc dxt1":Js,"rgba s3tc dxt3":eu,"rgba s3tc dxt5":tu}),y.webgl_compressed_texture_atc&&r(ye,{"rgb atc":Zc,"rgba atc explicit alpha":Kc,"rgba atc interpolated alpha":Jc}),y.webgl_compressed_texture_pvrtc&&r(ye,{"rgb pvrtc 4bppv1":ef,"rgb pvrtc 2bppv1":tf,"rgba pvrtc 4bppv1":nf,"rgba pvrtc 2bppv1":rf}),y.webgl_compressed_texture_etc1&&(ye["rgb etc1"]=af);var $=Array.prototype.slice.call(h.getParameter(I1));Object.keys(ye).forEach(function(A){var q=ye[A];$.indexOf(q)>=0&&(pe[A]=q)});var Z=Object.keys(pe);R.textureFormats=Z;var ge=[];Object.keys(pe).forEach(function(A){var q=pe[A];ge[q]=A});var Be=[];Object.keys(Ce).forEach(function(A){var q=Ce[A];Be[q]=A});var ce=[];Object.keys(_e).forEach(function(A){var q=_e[A];ce[q]=A});var Fe=[];Object.keys(Ee).forEach(function(A){var q=Ee[A];Fe[q]=A});var Me=[];Object.keys(de).forEach(function(A){var q=de[A];Me[q]=A});var rt=Z.reduce(function(A,q){var H=pe[q];return H===Xi||H===Qs||H===Xi||H===Al||H===Cl||H===yo||y.ext_srgb&&(H===xo||H===_o)?A[H]=H:H===Zs||q.indexOf("rgba")>=0?A[H]=Wi:A[H]=Tl,A},{});function ie(){this.internalformat=Wi,this.format=Wi,this.type=Ea,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Sa,this.width=0,this.height=0,this.channels=0}function ne(A,q){A.internalformat=q.internalformat,A.format=q.format,A.type=q.type,A.compressed=q.compressed,A.premultiplyAlpha=q.premultiplyAlpha,A.flipY=q.flipY,A.unpackAlignment=q.unpackAlignment,A.colorSpace=q.colorSpace,A.width=q.width,A.height=q.height,A.channels=q.channels}function We(A,q){if(!(typeof q!="object"||!q)){if("premultiplyAlpha"in q&&(_.type(q.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),A.premultiplyAlpha=q.premultiplyAlpha),"flipY"in q&&(_.type(q.flipY,"boolean","invalid texture flip"),A.flipY=q.flipY),"alignment"in q&&(_.oneOf(q.alignment,[1,2,4,8],"invalid texture unpack alignment"),A.unpackAlignment=q.alignment),"colorSpace"in q&&(_.parameter(q.colorSpace,we,"invalid colorSpace"),A.colorSpace=we[q.colorSpace]),"type"in q){var H=q.type;_(y.oes_texture_float||!(H==="float"||H==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),_(y.oes_texture_half_float||!(H==="half float"||H==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(y.webgl_depth_texture||!(H==="uint16"||H==="uint32"||H==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(H,Ce,"invalid texture type"),A.type=Ce[H]}var He=A.width,Tt=A.height,S=A.channels,m=!1;"shape"in q?(_(Array.isArray(q.shape)&&q.shape.length>=2,"shape must be an array"),He=q.shape[0],Tt=q.shape[1],q.shape.length===3&&(S=q.shape[2],_(S>0&&S<=4,"invalid number of channels"),m=!0),_(He>=0&&He<=R.maxTextureSize,"invalid width"),_(Tt>=0&&Tt<=R.maxTextureSize,"invalid height")):("radius"in q&&(He=Tt=q.radius,_(He>=0&&He<=R.maxTextureSize,"invalid radius")),"width"in q&&(He=q.width,_(He>=0&&He<=R.maxTextureSize,"invalid width")),"height"in q&&(Tt=q.height,_(Tt>=0&&Tt<=R.maxTextureSize,"invalid height")),"channels"in q&&(S=q.channels,_(S>0&&S<=4,"invalid number of channels"),m=!0)),A.width=He|0,A.height=Tt|0,A.channels=S|0;var k=!1;if("format"in q){var F=q.format;_(y.webgl_depth_texture||!(F==="depth"||F==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(F,pe,"invalid texture format");var B=A.internalformat=pe[F];A.format=rt[B],F in Ce&&("type"in q||(A.type=Ce[F])),F in ye&&(A.compressed=!0),k=!0}!m&&k?A.channels=kr[A.format]:m&&!k?A.channels!==So[A.format]&&(A.format=A.internalformat=So[A.channels]):k&&m&&_(A.channels===kr[A.format],"number of channels inconsistent with specified format")}}function Re(A){h.pixelStorei(Q1,A.flipY),h.pixelStorei(Z1,A.premultiplyAlpha),h.pixelStorei(K1,A.colorSpace),h.pixelStorei(q1,A.unpackAlignment)}function ve(){ie.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Pe(A,q){var H=null;if(fu(q)?H=q:q&&(_.type(q,"object","invalid pixel data type"),We(A,q),"x"in q&&(A.xOffset=q.x|0),"y"in q&&(A.yOffset=q.y|0),fu(q.data)&&(H=q.data)),_(!A.compressed||H instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),q.copy){_(!H,"can not specify copy and data field for the same texture");var He=re.viewportWidth,Tt=re.viewportHeight;A.width=A.width||He-A.xOffset,A.height=A.height||Tt-A.yOffset,A.needsCopy=!0,_(A.xOffset>=0&&A.xOffset<He&&A.yOffset>=0&&A.yOffset<Tt&&A.width>0&&A.width<=He&&A.height>0&&A.height<=Tt,"copy texture read out of bounds")}else if(!H)A.width=A.width||1,A.height=A.height||1,A.channels=A.channels||4;else if(n(H))A.channels=A.channels||4,A.data=H,!("type"in q)&&A.type===Ea&&(A.type=yf(H));else if(pf(H))A.channels=A.channels||4,th(A,H),A.alignment=1,A.needsFree=!0;else if(yr(H)){var S=H.data;!Array.isArray(S)&&A.type===Ea&&(A.type=yf(S));var m=H.shape,k=H.stride,F,B,N,M,D,b;m.length===3?(N=m[2],b=k[2]):(_(m.length===2,"invalid ndarray pixel data, must be 2 or 3D"),N=1,b=1),F=m[0],B=m[1],M=k[0],D=k[1],A.alignment=1,A.width=F,A.height=B,A.channels=N,A.format=A.internalformat=So[N],A.needsFree=!0,wf(A,S,M,D,b,H.offset)}else if(uu(H)||mf(H)||eh(H))uu(H)||mf(H)?A.element=H:A.element=H.canvas,A.width=A.element.width,A.height=A.element.height,A.channels=4;else if(cu(H))A.element=H,A.width=H.width,A.height=H.height,A.channels=4;else if(vf(H))A.element=H,A.width=H.naturalWidth,A.height=H.naturalHeight,A.channels=4;else if(gf(H))A.element=H,A.width=H.videoWidth,A.height=H.videoHeight,A.channels=4;else if(su(H)){var C=A.width||H[0].length,T=A.height||H.length,V=A.channels;nn(H[0][0])?V=V||H[0][0].length:V=V||1;for(var G=Rr.shape(H),te=1,ae=0;ae<G.length;++ae)te*=G[ae];var Te=xf(A,te);Rr.flatten(H,G,"",Te),_f(A,Te),A.alignment=1,A.width=C,A.height=T,A.channels=V,A.format=A.internalformat=So[V],A.needsFree=!0}A.type===Pr?_(R.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):A.type===wa&&_(R.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Oe(A,q,H){var He=A.element,Tt=A.data,S=A.internalformat,m=A.format,k=A.type,F=A.width,B=A.height;Re(A),He?h.texImage2D(q,H,m,m,k,He):A.compressed?h.compressedTexImage2D(q,H,S,F,B,0,Tt):A.needsCopy?(Y(),h.copyTexImage2D(q,H,m,A.xOffset,A.yOffset,F,B,0)):h.texImage2D(q,H,m,F,B,0,m,k,Tt||null)}function ht(A,q,H,He,Tt){var S=A.element,m=A.data,k=A.internalformat,F=A.format,B=A.type,N=A.width,M=A.height;Re(A),S?h.texSubImage2D(q,Tt,H,He,F,B,S):A.compressed?h.compressedTexSubImage2D(q,Tt,H,He,k,N,M,m):A.needsCopy?(Y(),h.copyTexSubImage2D(q,Tt,H,He,A.xOffset,A.yOffset,N,M)):h.texSubImage2D(q,Tt,H,He,N,M,F,B,m)}var ut=[];function Ne(){return ut.pop()||new ve}function $e(A){A.needsFree&&Et.freeType(A.data),ve.call(A),ut.push(A)}function ot(){ie.call(this),this.genMipmaps=!1,this.mipmapHint=wo,this.mipmask=0,this.images=Array(16)}function pt(A,q,H){var He=A.images[0]=Ne();A.mipmask=1,He.width=A.width=q,He.height=A.height=H,He.channels=A.channels=4}function Lt(A,q){var H=null;if(fu(q))H=A.images[0]=Ne(),ne(H,A),Pe(H,q),A.mipmask=1;else if(We(A,q),Array.isArray(q.mipmap))for(var He=q.mipmap,Tt=0;Tt<He.length;++Tt)H=A.images[Tt]=Ne(),ne(H,A),H.width>>=Tt,H.height>>=Tt,Pe(H,He[Tt]),A.mipmask|=1<<Tt;else H=A.images[0]=Ne(),ne(H,A),Pe(H,q),A.mipmask=1;ne(A,A.images[0]),A.compressed&&(A.internalformat===Yi||A.internalformat===Js||A.internalformat===eu||A.internalformat===tu)&&_(A.width%4===0&&A.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ln(A,q){for(var H=A.images,He=0;He<H.length;++He){if(!H[He])return;Oe(H[He],q,He)}}var cn=[];function Pt(){var A=cn.pop()||new ot;ie.call(A),A.mipmask=0;for(var q=0;q<16;++q)A.images[q]=null;return A}function Mn(A){for(var q=A.images,H=0;H<q.length;++H)q[H]&&$e(q[H]),q[H]=null;cn.push(A)}function rn(){this.minFilter=au,this.magFilter=au,this.wrapS=iu,this.wrapT=iu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=wo}function Rn(A,q){if("min"in q){var H=q.min;_.parameter(H,Ee),A.minFilter=Ee[H],sf.indexOf(A.minFilter)>=0&&!("faces"in q)&&(A.genMipmaps=!0)}if("mag"in q){var He=q.mag;_.parameter(He,_e),A.magFilter=_e[He]}var Tt=A.wrapS,S=A.wrapT;if("wrap"in q){var m=q.wrap;typeof m=="string"?(_.parameter(m,de),Tt=S=de[m]):Array.isArray(m)&&(_.parameter(m[0],de),_.parameter(m[1],de),Tt=de[m[0]],S=de[m[1]])}else{if("wrapS"in q){var k=q.wrapS;_.parameter(k,de),Tt=de[k]}if("wrapT"in q){var F=q.wrapT;_.parameter(F,de),S=de[F]}}if(A.wrapS=Tt,A.wrapT=S,"anisotropic"in q){var B=q.anisotropic;_(typeof B=="number"&&B>=1&&B<=R.maxAnisotropic,"aniso samples must be between 1 and "),A.anisotropic=q.anisotropic}if("mipmap"in q){var N=!1;switch(typeof q.mipmap){case"string":_.parameter(q.mipmap,he,"invalid mipmap hint"),A.mipmapHint=he[q.mipmap],A.genMipmaps=!0,N=!0;break;case"boolean":N=A.genMipmaps=q.mipmap;break;case"object":_(Array.isArray(q.mipmap),"invalid mipmap type"),A.genMipmaps=!1,N=!0;break;default:_.raise("invalid mipmap type")}N&&!("min"in q)&&(A.minFilter=Ll)}}function Nn(A,q){h.texParameteri(q,V1,A.minFilter),h.texParameteri(q,U1,A.magFilter),h.texParameteri(q,B1,A.wrapS),h.texParameteri(q,j1,A.wrapT),y.ext_texture_filter_anisotropic&&h.texParameteri(q,Y1,A.anisotropic),A.genMipmaps&&(h.hint(W1,A.mipmapHint),h.generateMipmap(q))}var In=0,Vn={},qn=R.maxTextureUnits,vn=Array(qn).map(function(){return null});function xt(A){ie.call(this),this.mipmask=0,this.internalformat=Wi,this.id=In++,this.refCount=1,this.target=A,this.texture=h.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rn,K.profile&&(this.stats={size:0})}function Qn(A){h.activeTexture(Eo),h.bindTexture(A.target,A.texture)}function Vt(){var A=vn[0];A?h.bindTexture(A.target,A.texture):h.bindTexture(Vr,null)}function at(A){var q=A.texture;_(q,"must not double destroy texture");var H=A.unit,He=A.target;H>=0&&(h.activeTexture(Eo+H),h.bindTexture(He,null),vn[H]=null),h.deleteTexture(q),A.texture=null,A.params=null,A.pixels=null,A.refCount=0,delete Vn[A.id],X.textureCount--}r(xt.prototype,{bind:function(){var A=this;A.bindCount+=1;var q=A.unit;if(q<0){for(var H=0;H<qn;++H){var He=vn[H];if(He){if(He.bindCount>0)continue;He.unit=-1}vn[H]=A,q=H;break}q>=qn&&_.raise("insufficient number of texture units"),K.profile&&X.maxTextureUnits<q+1&&(X.maxTextureUnits=q+1),A.unit=q,h.activeTexture(Eo+q),h.bindTexture(A.target,A.texture)}return q},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&at(this)}});function Rt(A,q){var H=new xt(Vr);Vn[H.id]=H,X.textureCount++;function He(m,k){var F=H.texInfo;rn.call(F);var B=Pt();return typeof m=="number"?typeof k=="number"?pt(B,m|0,k|0):pt(B,m|0,m|0):m?(_.type(m,"object","invalid arguments to regl.texture"),Rn(F,m),Lt(B,m)):pt(B,1,1),F.genMipmaps&&(B.mipmask=(B.width<<1)-1),H.mipmask=B.mipmask,ne(H,B),_.texture2D(F,B,R),H.internalformat=B.internalformat,He.width=B.width,He.height=B.height,Qn(H),ln(B,Vr),Nn(F,Vr),Vt(),Mn(B),K.profile&&(H.stats.size=Pl(H.internalformat,H.type,B.width,B.height,F.genMipmaps,!1)),He.format=ge[H.internalformat],He.type=Be[H.type],He.mag=ce[F.magFilter],He.min=Fe[F.minFilter],He.wrapS=Me[F.wrapS],He.wrapT=Me[F.wrapT],He}function Tt(m,k,F,B){_(!!m,"must specify image data");var N=k|0,M=F|0,D=B|0,b=Ne();return ne(b,H),b.width=0,b.height=0,Pe(b,m),b.width=b.width||(H.width>>D)-N,b.height=b.height||(H.height>>D)-M,_(H.type===b.type&&H.format===b.format&&H.internalformat===b.internalformat,"incompatible format for texture.subimage"),_(N>=0&&M>=0&&N+b.width<=H.width&&M+b.height<=H.height,"texture.subimage write out of bounds"),_(H.mipmask&1<<D,"missing mipmap data"),_(b.data||b.element||b.needsCopy,"missing image data"),Qn(H),ht(b,Vr,N,M,D),Vt(),$e(b),He}function S(m,k){var F=m|0,B=k|0||F;if(F===H.width&&B===H.height)return He;He.width=H.width=F,He.height=H.height=B,Qn(H);for(var N=0;H.mipmask>>N;++N){var M=F>>N,D=B>>N;if(!M||!D)break;h.texImage2D(Vr,N,H.format,M,D,0,H.format,H.type,null)}return Vt(),K.profile&&(H.stats.size=Pl(H.internalformat,H.type,F,B,!1,!1)),He}return He(A,q),He.subimage=Tt,He.resize=S,He._reglType="texture2d",He._texture=H,K.profile&&(He.stats=H.stats),He.destroy=function(){H.decRef()},He}function Dt(A,q,H,He,Tt,S){var m=new xt(qs);Vn[m.id]=m,X.cubeCount++;var k=new Array(6);function F(M,D,b,C,T,V){var G,te=m.texInfo;for(rn.call(te),G=0;G<6;++G)k[G]=Pt();if(typeof M=="number"||!M){var ae=M|0||1;for(G=0;G<6;++G)pt(k[G],ae,ae)}else if(typeof M=="object")if(D)Lt(k[0],M),Lt(k[1],D),Lt(k[2],b),Lt(k[3],C),Lt(k[4],T),Lt(k[5],V);else if(Rn(te,M),We(m,M),"faces"in M){var Te=M.faces;for(_(Array.isArray(Te)&&Te.length===6,"cube faces must be a length 6 array"),G=0;G<6;++G)_(typeof Te[G]=="object"&&!!Te[G],"invalid input for cube map face"),ne(k[G],m),Lt(k[G],Te[G])}else for(G=0;G<6;++G)Lt(k[G],M);else _.raise("invalid arguments to cube map");for(ne(m,k[0]),_.optional(function(){R.npotTextureCube||_(Yc(m.width)&&Yc(m.height),"your browser does not support non power or two texture dimensions")}),te.genMipmaps?m.mipmask=(k[0].width<<1)-1:m.mipmask=k[0].mipmask,_.textureCube(m,te,k,R),m.internalformat=k[0].internalformat,F.width=k[0].width,F.height=k[0].height,Qn(m),G=0;G<6;++G)ln(k[G],bl+G);for(Nn(te,qs),Vt(),K.profile&&(m.stats.size=Pl(m.internalformat,m.type,F.width,F.height,te.genMipmaps,!0)),F.format=ge[m.internalformat],F.type=Be[m.type],F.mag=ce[te.magFilter],F.min=Fe[te.minFilter],F.wrapS=Me[te.wrapS],F.wrapT=Me[te.wrapT],G=0;G<6;++G)Mn(k[G]);return F}function B(M,D,b,C,T){_(!!D,"must specify image data"),_(typeof M=="number"&&M===(M|0)&&M>=0&&M<6,"invalid face");var V=b|0,G=C|0,te=T|0,ae=Ne();return ne(ae,m),ae.width=0,ae.height=0,Pe(ae,D),ae.width=ae.width||(m.width>>te)-V,ae.height=ae.height||(m.height>>te)-G,_(m.type===ae.type&&m.format===ae.format&&m.internalformat===ae.internalformat,"incompatible format for texture.subimage"),_(V>=0&&G>=0&&V+ae.width<=m.width&&G+ae.height<=m.height,"texture.subimage write out of bounds"),_(m.mipmask&1<<te,"missing mipmap data"),_(ae.data||ae.element||ae.needsCopy,"missing image data"),Qn(m),ht(ae,bl+M,V,G,te),Vt(),$e(ae),F}function N(M){var D=M|0;if(D!==m.width){F.width=m.width=D,F.height=m.height=D,Qn(m);for(var b=0;b<6;++b)for(var C=0;m.mipmask>>C;++C)h.texImage2D(bl+b,C,m.format,D>>C,D>>C,0,m.format,m.type,null);return Vt(),K.profile&&(m.stats.size=Pl(m.internalformat,m.type,F.width,F.height,!1,!0)),F}}return F(A,q,H,He,Tt,S),F.subimage=B,F.resize=N,F._reglType="textureCube",F._texture=m,K.profile&&(F.stats=m.stats),F.destroy=function(){m.decRef()},F}function gn(){for(var A=0;A<qn;++A)h.activeTexture(Eo+A),h.bindTexture(Vr,null),vn[A]=null;ur(Vn).forEach(at),X.cubeCount=0,X.textureCount=0}K.profile&&(X.getTotalTextureSize=function(){var A=0;return Object.keys(Vn).forEach(function(q){A+=Vn[q].stats.size}),A});function Li(){for(var A=0;A<qn;++A){var q=vn[A];q&&(q.bindCount=0,q.unit=-1,vn[A]=null)}ur(Vn).forEach(function(H){H.texture=h.createTexture(),h.bindTexture(H.target,H.texture);for(var He=0;He<32;++He)if(H.mipmask&1<<He)if(H.target===Vr)h.texImage2D(Vr,He,H.internalformat,H.width>>He,H.height>>He,0,H.internalformat,H.type,null);else for(var Tt=0;Tt<6;++Tt)h.texImage2D(bl+Tt,He,H.internalformat,H.width>>He,H.height>>He,0,H.internalformat,H.type,null);Nn(H.texInfo,H.target)})}function ko(){for(var A=0;A<qn;++A){var q=vn[A];q&&(q.bindCount=0,q.unit=-1,vn[A]=null),h.activeTexture(Eo+A),h.bindTexture(Vr,null),h.bindTexture(qs,null)}}return{create2D:Rt,createCube:Dt,clear:gn,getTexture:function(A){return null},restore:Li,refresh:ko}}var Ai=36161,kl=32854,Ef=32855,Sf=36194,bf=33189,Tf=36168,Af=34041,Cf=35907,Lf=34836,Rf=34842,Pf=34843,Or=[];Or[kl]=2,Or[Ef]=2,Or[Sf]=2,Or[bf]=2,Or[Tf]=1,Or[Af]=4,Or[Cf]=4,Or[Lf]=16,Or[Rf]=8,Or[Pf]=6;function kf(h,y,R){return Or[h]*y*R}var rh=function(h,y,R,Y,re){var X={rgba4:kl,rgb565:Sf,"rgb5 a1":Ef,depth:bf,stencil:Tf,"depth stencil":Af};y.ext_srgb&&(X.srgba=Cf),y.ext_color_buffer_half_float&&(X.rgba16f=Rf,X.rgb16f=Pf),y.webgl_color_buffer_float&&(X.rgba32f=Lf);var K=[];Object.keys(X).forEach(function(pe){var ye=X[pe];K[ye]=pe});var he=0,de={};function _e(pe){this.id=he++,this.refCount=1,this.renderbuffer=pe,this.format=kl,this.width=0,this.height=0,re.profile&&(this.stats={size:0})}_e.prototype.decRef=function(){--this.refCount<=0&&Ee(this)};function Ee(pe){var ye=pe.renderbuffer;_(ye,"must not double destroy renderbuffer"),h.bindRenderbuffer(Ai,null),h.deleteRenderbuffer(ye),pe.renderbuffer=null,pe.refCount=0,delete de[pe.id],Y.renderbufferCount--}function we(pe,ye){var $=new _e(h.createRenderbuffer());de[$.id]=$,Y.renderbufferCount++;function Z(Be,ce){var Fe=0,Me=0,rt=kl;if(typeof Be=="object"&&Be){var ie=Be;if("shape"in ie){var ne=ie.shape;_(Array.isArray(ne)&&ne.length>=2,"invalid renderbuffer shape"),Fe=ne[0]|0,Me=ne[1]|0}else"radius"in ie&&(Fe=Me=ie.radius|0),"width"in ie&&(Fe=ie.width|0),"height"in ie&&(Me=ie.height|0);"format"in ie&&(_.parameter(ie.format,X,"invalid renderbuffer format"),rt=X[ie.format])}else typeof Be=="number"?(Fe=Be|0,typeof ce=="number"?Me=ce|0:Me=Fe):Be?_.raise("invalid arguments to renderbuffer constructor"):Fe=Me=1;if(_(Fe>0&&Me>0&&Fe<=R.maxRenderbufferSize&&Me<=R.maxRenderbufferSize,"invalid renderbuffer size"),!(Fe===$.width&&Me===$.height&&rt===$.format))return Z.width=$.width=Fe,Z.height=$.height=Me,$.format=rt,h.bindRenderbuffer(Ai,$.renderbuffer),h.renderbufferStorage(Ai,rt,Fe,Me),_(h.getError()===0,"invalid render buffer format"),re.profile&&($.stats.size=kf($.format,$.width,$.height)),Z.format=K[$.format],Z}function ge(Be,ce){var Fe=Be|0,Me=ce|0||Fe;return Fe===$.width&&Me===$.height||(_(Fe>0&&Me>0&&Fe<=R.maxRenderbufferSize&&Me<=R.maxRenderbufferSize,"invalid renderbuffer size"),Z.width=$.width=Fe,Z.height=$.height=Me,h.bindRenderbuffer(Ai,$.renderbuffer),h.renderbufferStorage(Ai,$.format,Fe,Me),_(h.getError()===0,"invalid render buffer format"),re.profile&&($.stats.size=kf($.format,$.width,$.height))),Z}return Z(pe,ye),Z.resize=ge,Z._reglType="renderbuffer",Z._renderbuffer=$,re.profile&&(Z.stats=$.stats),Z.destroy=function(){$.decRef()},Z}re.profile&&(Y.getTotalRenderbufferSize=function(){var pe=0;return Object.keys(de).forEach(function(ye){pe+=de[ye].stats.size}),pe});function Ce(){ur(de).forEach(function(pe){pe.renderbuffer=h.createRenderbuffer(),h.bindRenderbuffer(Ai,pe.renderbuffer),h.renderbufferStorage(Ai,pe.format,pe.width,pe.height)}),h.bindRenderbuffer(Ai,null)}return{create:we,clear:function(){ur(de).forEach(Ee)},restore:Ce}},ai=36160,du=36161,Qi=3553,Ol=34069,Of=36064,Ml=36096,Mf=36128,Nf=33306,If=36053,ih=36054,ah=36055,oh=36057,lh=36061,sh=36193,uh=5121,ch=5126,Df=6407,Ff=6408,fh=6402,dh=[Df,Ff],hu=[];hu[Ff]=4,hu[Df]=3;var bo=[];bo[uh]=1,bo[ch]=4,bo[sh]=2;var hh=32854,$f=32855,ph=36194,Bf=33189,jf=36168,pu=34041,zf=35907,mh=34836,To=34842,vh=34843,gh=[hh,$f,ph,zf,To,vh,mh],Aa={};Aa[If]="complete",Aa[ih]="incomplete attachment",Aa[oh]="incomplete dimensions",Aa[ah]="incomplete, missing attachment",Aa[lh]="unsupported";function yh(h,y,R,Y,re,X){var K={cur:null,next:null,dirty:!1,setFBO:null},he=["rgba"],de=["rgba4","rgb565","rgb5 a1"];y.ext_srgb&&de.push("srgba"),y.ext_color_buffer_half_float&&de.push("rgba16f","rgb16f"),y.webgl_color_buffer_float&&de.push("rgba32f");var _e=["uint8"];y.oes_texture_half_float&&_e.push("half float","float16"),y.oes_texture_float&&_e.push("float","float32");function Ee(ve,Pe,Oe){this.target=ve,this.texture=Pe,this.renderbuffer=Oe;var ht=0,ut=0;Pe?(ht=Pe.width,ut=Pe.height):Oe&&(ht=Oe.width,ut=Oe.height),this.width=ht,this.height=ut}function we(ve){ve&&(ve.texture&&ve.texture._texture.decRef(),ve.renderbuffer&&ve.renderbuffer._renderbuffer.decRef())}function Ce(ve,Pe,Oe){if(ve)if(ve.texture){var ht=ve.texture._texture,ut=Math.max(1,ht.width),Ne=Math.max(1,ht.height);_(ut===Pe&&Ne===Oe,"inconsistent width/height for supplied texture"),ht.refCount+=1}else{var $e=ve.renderbuffer._renderbuffer;_($e.width===Pe&&$e.height===Oe,"inconsistent width/height for renderbuffer"),$e.refCount+=1}}function pe(ve,Pe){Pe&&(Pe.texture?h.framebufferTexture2D(ai,ve,Pe.target,Pe.texture._texture.texture,0):h.framebufferRenderbuffer(ai,ve,du,Pe.renderbuffer._renderbuffer.renderbuffer))}function ye(ve){var Pe=Qi,Oe=null,ht=null,ut=ve;typeof ve=="object"&&(ut=ve.data,"target"in ve&&(Pe=ve.target|0)),_.type(ut,"function","invalid attachment data");var Ne=ut._reglType;return Ne==="texture2d"?(Oe=ut,_(Pe===Qi)):Ne==="textureCube"?(Oe=ut,_(Pe>=Ol&&Pe<Ol+6,"invalid cube map target")):Ne==="renderbuffer"?(ht=ut,Pe=du):_.raise("invalid regl object for attachment"),new Ee(Pe,Oe,ht)}function $(ve,Pe,Oe,ht,ut){if(Oe){var Ne=Y.create2D({width:ve,height:Pe,format:ht,type:ut});return Ne._texture.refCount=0,new Ee(Qi,Ne,null)}else{var $e=re.create({width:ve,height:Pe,format:ht});return $e._renderbuffer.refCount=0,new Ee(du,null,$e)}}function Z(ve){return ve&&(ve.texture||ve.renderbuffer)}function ge(ve,Pe,Oe){ve&&(ve.texture?ve.texture.resize(Pe,Oe):ve.renderbuffer&&ve.renderbuffer.resize(Pe,Oe),ve.width=Pe,ve.height=Oe)}var Be=0,ce={};function Fe(){this.id=Be++,ce[this.id]=this,this.framebuffer=h.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Me(ve){ve.colorAttachments.forEach(we),we(ve.depthAttachment),we(ve.stencilAttachment),we(ve.depthStencilAttachment)}function rt(ve){var Pe=ve.framebuffer;_(Pe,"must not double destroy framebuffer"),h.deleteFramebuffer(Pe),ve.framebuffer=null,X.framebufferCount--,delete ce[ve.id]}function ie(ve){var Pe;h.bindFramebuffer(ai,ve.framebuffer);var Oe=ve.colorAttachments;for(Pe=0;Pe<Oe.length;++Pe)pe(Of+Pe,Oe[Pe]);for(Pe=Oe.length;Pe<R.maxColorAttachments;++Pe)h.framebufferTexture2D(ai,Of+Pe,Qi,null,0);h.framebufferTexture2D(ai,Nf,Qi,null,0),h.framebufferTexture2D(ai,Ml,Qi,null,0),h.framebufferTexture2D(ai,Mf,Qi,null,0),pe(Ml,ve.depthAttachment),pe(Mf,ve.stencilAttachment),pe(Nf,ve.depthStencilAttachment);var ht=h.checkFramebufferStatus(ai);!h.isContextLost()&&ht!==If&&_.raise("framebuffer configuration not supported, status = "+Aa[ht]),h.bindFramebuffer(ai,K.next?K.next.framebuffer:null),K.cur=K.next,h.getError()}function ne(ve,Pe){var Oe=new Fe;X.framebufferCount++;function ht(Ne,$e){var ot;_(K.next!==Oe,"can not update framebuffer which is currently in use");var pt=0,Lt=0,ln=!0,cn=!0,Pt=null,Mn=!0,rn="rgba",Rn="uint8",Nn=1,In=null,Vn=null,qn=null,vn=!1;if(typeof Ne=="number")pt=Ne|0,Lt=$e|0||pt;else if(!Ne)pt=Lt=1;else{_.type(Ne,"object","invalid arguments for framebuffer");var xt=Ne;if("shape"in xt){var Qn=xt.shape;_(Array.isArray(Qn)&&Qn.length>=2,"invalid shape for framebuffer"),pt=Qn[0],Lt=Qn[1]}else"radius"in xt&&(pt=Lt=xt.radius),"width"in xt&&(pt=xt.width),"height"in xt&&(Lt=xt.height);("color"in xt||"colors"in xt)&&(Pt=xt.color||xt.colors,Array.isArray(Pt)&&_(Pt.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),Pt||("colorCount"in xt&&(Nn=xt.colorCount|0,_(Nn>0,"invalid color buffer count")),"colorTexture"in xt&&(Mn=!!xt.colorTexture,rn="rgba4"),"colorType"in xt&&(Rn=xt.colorType,Mn?(_(y.oes_texture_float||!(Rn==="float"||Rn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(y.oes_texture_half_float||!(Rn==="half float"||Rn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Rn==="half float"||Rn==="float16"?(_(y.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),rn="rgba16f"):(Rn==="float"||Rn==="float32")&&(_(y.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),rn="rgba32f"),_.oneOf(Rn,_e,"invalid color type")),"colorFormat"in xt&&(rn=xt.colorFormat,he.indexOf(rn)>=0?Mn=!0:de.indexOf(rn)>=0?Mn=!1:_.optional(function(){Mn?_.oneOf(xt.colorFormat,he,"invalid color format for texture"):_.oneOf(xt.colorFormat,de,"invalid color format for renderbuffer")}))),("depthTexture"in xt||"depthStencilTexture"in xt)&&(vn=!!(xt.depthTexture||xt.depthStencilTexture),_(!vn||y.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in xt&&(typeof xt.depth=="boolean"?ln=xt.depth:(In=xt.depth,cn=!1)),"stencil"in xt&&(typeof xt.stencil=="boolean"?cn=xt.stencil:(Vn=xt.stencil,ln=!1)),"depthStencil"in xt&&(typeof xt.depthStencil=="boolean"?ln=cn=xt.depthStencil:(qn=xt.depthStencil,ln=!1,cn=!1))}var Vt=null,at=null,Rt=null,Dt=null;if(Array.isArray(Pt))Vt=Pt.map(ye);else if(Pt)Vt=[ye(Pt)];else for(Vt=new Array(Nn),ot=0;ot<Nn;++ot)Vt[ot]=$(pt,Lt,Mn,rn,Rn);_(y.webgl_draw_buffers||Vt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(Vt.length<=R.maxColorAttachments,"too many color attachments, not supported"),pt=pt||Vt[0].width,Lt=Lt||Vt[0].height,In?at=ye(In):ln&&!cn&&(at=$(pt,Lt,vn,"depth","uint32")),Vn?Rt=ye(Vn):cn&&!ln&&(Rt=$(pt,Lt,!1,"stencil","uint8")),qn?Dt=ye(qn):!In&&!Vn&&cn&&ln&&(Dt=$(pt,Lt,vn,"depth stencil","depth stencil")),_(!!In+!!Vn+!!qn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var gn=null;for(ot=0;ot<Vt.length;++ot)if(Ce(Vt[ot],pt,Lt),_(!Vt[ot]||Vt[ot].texture&&dh.indexOf(Vt[ot].texture._texture.format)>=0||Vt[ot].renderbuffer&&gh.indexOf(Vt[ot].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+ot+" is invalid"),Vt[ot]&&Vt[ot].texture){var Li=hu[Vt[ot].texture._texture.format]*bo[Vt[ot].texture._texture.type];gn===null?gn=Li:_(gn===Li,"all color attachments much have the same number of bits per pixel.")}return Ce(at,pt,Lt),_(!at||at.texture&&at.texture._texture.format===fh||at.renderbuffer&&at.renderbuffer._renderbuffer.format===Bf,"invalid depth attachment for framebuffer object"),Ce(Rt,pt,Lt),_(!Rt||Rt.renderbuffer&&Rt.renderbuffer._renderbuffer.format===jf,"invalid stencil attachment for framebuffer object"),Ce(Dt,pt,Lt),_(!Dt||Dt.texture&&Dt.texture._texture.format===pu||Dt.renderbuffer&&Dt.renderbuffer._renderbuffer.format===pu,"invalid depth-stencil attachment for framebuffer object"),Me(Oe),Oe.width=pt,Oe.height=Lt,Oe.colorAttachments=Vt,Oe.depthAttachment=at,Oe.stencilAttachment=Rt,Oe.depthStencilAttachment=Dt,ht.color=Vt.map(Z),ht.depth=Z(at),ht.stencil=Z(Rt),ht.depthStencil=Z(Dt),ht.width=Oe.width,ht.height=Oe.height,ie(Oe),ht}function ut(Ne,$e){_(K.next!==Oe,"can not resize a framebuffer which is currently in use");var ot=Math.max(Ne|0,1),pt=Math.max($e|0||ot,1);if(ot===Oe.width&&pt===Oe.height)return ht;for(var Lt=Oe.colorAttachments,ln=0;ln<Lt.length;++ln)ge(Lt[ln],ot,pt);return ge(Oe.depthAttachment,ot,pt),ge(Oe.stencilAttachment,ot,pt),ge(Oe.depthStencilAttachment,ot,pt),Oe.width=ht.width=ot,Oe.height=ht.height=pt,ie(Oe),ht}return ht(ve,Pe),r(ht,{resize:ut,_reglType:"framebuffer",_framebuffer:Oe,destroy:function(){rt(Oe),Me(Oe)},use:function(Ne){K.setFBO({framebuffer:ht},Ne)}})}function We(ve){var Pe=Array(6);function Oe(ut){var Ne;_(Pe.indexOf(K.next)<0,"can not update framebuffer which is currently in use");var $e={color:null},ot=0,pt=null,Lt="rgba",ln="uint8",cn=1;if(typeof ut=="number")ot=ut|0;else if(!ut)ot=1;else{_.type(ut,"object","invalid arguments for framebuffer");var Pt=ut;if("shape"in Pt){var Mn=Pt.shape;_(Array.isArray(Mn)&&Mn.length>=2,"invalid shape for framebuffer"),_(Mn[0]===Mn[1],"cube framebuffer must be square"),ot=Mn[0]}else"radius"in Pt&&(ot=Pt.radius|0),"width"in Pt?(ot=Pt.width|0,"height"in Pt&&_(Pt.height===ot,"must be square")):"height"in Pt&&(ot=Pt.height|0);("color"in Pt||"colors"in Pt)&&(pt=Pt.color||Pt.colors,Array.isArray(pt)&&_(pt.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),pt||("colorCount"in Pt&&(cn=Pt.colorCount|0,_(cn>0,"invalid color buffer count")),"colorType"in Pt&&(_.oneOf(Pt.colorType,_e,"invalid color type"),ln=Pt.colorType),"colorFormat"in Pt&&(Lt=Pt.colorFormat,_.oneOf(Pt.colorFormat,he,"invalid color format for texture"))),"depth"in Pt&&($e.depth=Pt.depth),"stencil"in Pt&&($e.stencil=Pt.stencil),"depthStencil"in Pt&&($e.depthStencil=Pt.depthStencil)}var rn;if(pt)if(Array.isArray(pt))for(rn=[],Ne=0;Ne<pt.length;++Ne)rn[Ne]=pt[Ne];else rn=[pt];else{rn=Array(cn);var Rn={radius:ot,format:Lt,type:ln};for(Ne=0;Ne<cn;++Ne)rn[Ne]=Y.createCube(Rn)}for($e.color=Array(rn.length),Ne=0;Ne<rn.length;++Ne){var Nn=rn[Ne];_(typeof Nn=="function"&&Nn._reglType==="textureCube","invalid cube map"),ot=ot||Nn.width,_(Nn.width===ot&&Nn.height===ot,"invalid cube map shape"),$e.color[Ne]={target:Ol,data:rn[Ne]}}for(Ne=0;Ne<6;++Ne){for(var In=0;In<rn.length;++In)$e.color[In].target=Ol+Ne;Ne>0&&($e.depth=Pe[0].depth,$e.stencil=Pe[0].stencil,$e.depthStencil=Pe[0].depthStencil),Pe[Ne]?Pe[Ne]($e):Pe[Ne]=ne($e)}return r(Oe,{width:ot,height:ot,color:rn})}function ht(ut){var Ne,$e=ut|0;if(_($e>0&&$e<=R.maxCubeMapSize,"invalid radius for cube fbo"),$e===Oe.width)return Oe;var ot=Oe.color;for(Ne=0;Ne<ot.length;++Ne)ot[Ne].resize($e);for(Ne=0;Ne<6;++Ne)Pe[Ne].resize($e);return Oe.width=Oe.height=$e,Oe}return Oe(ve),r(Oe,{faces:Pe,resize:ht,_reglType:"framebufferCube",destroy:function(){Pe.forEach(function(ut){ut.destroy()})}})}function Re(){K.cur=null,K.next=null,K.dirty=!0,ur(ce).forEach(function(ve){ve.framebuffer=h.createFramebuffer(),ie(ve)})}return r(K,{getFramebuffer:function(ve){if(typeof ve=="function"&&ve._reglType==="framebuffer"){var Pe=ve._framebuffer;if(Pe instanceof Fe)return Pe}return null},create:ne,createCube:We,clear:function(){ur(ce).forEach(rt)},restore:Re})}var xh=5126,f=34962,I=34963,U=["attributes","elements","offset","count","primitive","instances"];function le(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=xh,this.offset=0,this.stride=0,this.divisor=0}function Le(h,y,R,Y,re,X,K){for(var he=R.maxAttributes,de=new Array(he),_e=0;_e<he;++_e)de[_e]=new le;var Ee=0,we={},Ce={Record:le,scope:{},state:de,currentVAO:null,targetVAO:null,restore:ye()?Me:function(){},createVAO:rt,getVAO:Z,destroyBuffer:pe,setVAO:ye()?ge:Be,clear:ye()?ce:function(){}};function pe(ie){for(var ne=0;ne<de.length;++ne){var We=de[ne];We.buffer===ie&&(h.disableVertexAttribArray(ne),We.buffer=null)}}function ye(){return y.oes_vertex_array_object}function $(){return y.angle_instanced_arrays}function Z(ie){return typeof ie=="function"&&ie._vao?ie._vao:null}function ge(ie){if(ie!==Ce.currentVAO){var ne=ye();ie?ne.bindVertexArrayOES(ie.vao):ne.bindVertexArrayOES(null),Ce.currentVAO=ie}}function Be(ie){if(ie!==Ce.currentVAO){if(ie)ie.bindAttrs();else{for(var ne=$(),We=0;We<de.length;++We){var Re=de[We];Re.buffer?(h.enableVertexAttribArray(We),Re.buffer.bind(),h.vertexAttribPointer(We,Re.size,Re.type,Re.normalized,Re.stride,Re.offfset),ne&&Re.divisor&&ne.vertexAttribDivisorANGLE(We,Re.divisor)):(h.disableVertexAttribArray(We),h.vertexAttrib4f(We,Re.x,Re.y,Re.z,Re.w))}K.elements?h.bindBuffer(I,K.elements.buffer.buffer):h.bindBuffer(I,null)}Ce.currentVAO=ie}}function ce(){ur(we).forEach(function(ie){ie.destroy()})}function Fe(){this.id=++Ee,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ie=ye();ie?this.vao=ie.createVertexArrayOES():this.vao=null,we[this.id]=this,this.buffers=[]}Fe.prototype.bindAttrs=function(){for(var ie=$(),ne=this.attributes,We=0;We<ne.length;++We){var Re=ne[We];Re.buffer?(h.enableVertexAttribArray(We),h.bindBuffer(f,Re.buffer.buffer),h.vertexAttribPointer(We,Re.size,Re.type,Re.normalized,Re.stride,Re.offset),ie&&Re.divisor&&ie.vertexAttribDivisorANGLE(We,Re.divisor)):(h.disableVertexAttribArray(We),h.vertexAttrib4f(We,Re.x,Re.y,Re.z,Re.w))}for(var ve=ne.length;ve<he;++ve)h.disableVertexAttribArray(ve);var Pe=X.getElements(this.elements);Pe?h.bindBuffer(I,Pe.buffer.buffer):h.bindBuffer(I,null)},Fe.prototype.refresh=function(){var ie=ye();ie&&(ie.bindVertexArrayOES(this.vao),this.bindAttrs(),Ce.currentVAO=null,ie.bindVertexArrayOES(null))},Fe.prototype.destroy=function(){if(this.vao){var ie=ye();this===Ce.currentVAO&&(Ce.currentVAO=null,ie.bindVertexArrayOES(null)),ie.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),we[this.id]&&(delete we[this.id],Y.vaoCount-=1)};function Me(){var ie=ye();ie&&ur(we).forEach(function(ne){ne.refresh()})}function rt(ie){var ne=new Fe;Y.vaoCount+=1;function We(Re){var ve;if(Array.isArray(Re))ve=Re,ne.elements&&ne.ownsElements&&ne.elements.destroy(),ne.elements=null,ne.ownsElements=!1,ne.offset=0,ne.count=0,ne.instances=-1,ne.primitive=4;else{if(_(typeof Re=="object","invalid arguments for create vao"),_("attributes"in Re,"must specify attributes for vao"),Re.elements){var Pe=Re.elements;ne.ownsElements?typeof Pe=="function"&&Pe._reglType==="elements"?(ne.elements.destroy(),ne.ownsElements=!1):(ne.elements(Pe),ne.ownsElements=!1):X.getElements(Re.elements)?(ne.elements=Re.elements,ne.ownsElements=!1):(ne.elements=X.create(Re.elements),ne.ownsElements=!0)}else ne.elements=null,ne.ownsElements=!1;ve=Re.attributes,ne.offset=0,ne.count=-1,ne.instances=-1,ne.primitive=4,ne.elements&&(ne.count=ne.elements._elements.vertCount,ne.primitive=ne.elements._elements.primType),"offset"in Re&&(ne.offset=Re.offset|0),"count"in Re&&(ne.count=Re.count|0),"instances"in Re&&(ne.instances=Re.instances|0),"primitive"in Re&&(_(Re.primitive in bi,"bad primitive type: "+Re.primitive),ne.primitive=bi[Re.primitive]),_.optional(()=>{for(var ln=Object.keys(Re),cn=0;cn<ln.length;++cn)_(U.indexOf(ln[cn])>=0,'invalid option for vao: "'+ln[cn]+'" valid options are '+U)}),_(Array.isArray(ve),"attributes must be an array")}_(ve.length<he,"too many attributes"),_(ve.length>0,"must specify at least one attribute");var Oe={},ht=ne.attributes;ht.length=ve.length;for(var ut=0;ut<ve.length;++ut){var Ne=ve[ut],$e=ht[ut]=new le,ot=Ne.data||Ne;if(Array.isArray(ot)||n(ot)||yr(ot)){var pt;ne.buffers[ut]&&(pt=ne.buffers[ut],n(ot)&&pt._buffer.byteLength>=ot.byteLength?pt.subdata(ot):(pt.destroy(),ne.buffers[ut]=null)),ne.buffers[ut]||(pt=ne.buffers[ut]=re.create(Ne,f,!1,!0)),$e.buffer=re.getBuffer(pt),$e.size=$e.buffer.dimension|0,$e.normalized=!1,$e.type=$e.buffer.dtype,$e.offset=0,$e.stride=0,$e.divisor=0,$e.state=1,Oe[ut]=1}else re.getBuffer(Ne)?($e.buffer=re.getBuffer(Ne),$e.size=$e.buffer.dimension|0,$e.normalized=!1,$e.type=$e.buffer.dtype,$e.offset=0,$e.stride=0,$e.divisor=0,$e.state=1):re.getBuffer(Ne.buffer)?($e.buffer=re.getBuffer(Ne.buffer),$e.size=(+Ne.size||$e.buffer.dimension)|0,$e.normalized=!!Ne.normalized||!1,"type"in Ne?(_.parameter(Ne.type,xa,"invalid buffer type"),$e.type=xa[Ne.type]):$e.type=$e.buffer.dtype,$e.offset=(Ne.offset||0)|0,$e.stride=(Ne.stride||0)|0,$e.divisor=(Ne.divisor||0)|0,$e.state=1,_($e.size>=1&&$e.size<=4,"size must be between 1 and 4"),_($e.offset>=0,"invalid offset"),_($e.stride>=0&&$e.stride<=255,"stride must be between 0 and 255"),_($e.divisor>=0,"divisor must be positive"),_(!$e.divisor||!!y.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Ne?(_(ut>0,"first attribute must not be a constant"),$e.x=+Ne.x||0,$e.y=+Ne.y||0,$e.z=+Ne.z||0,$e.w=+Ne.w||0,$e.state=2):_(!1,"invalid attribute spec for location "+ut)}for(var Lt=0;Lt<ne.buffers.length;++Lt)!Oe[Lt]&&ne.buffers[Lt]&&(ne.buffers[Lt].destroy(),ne.buffers[Lt]=null);return ne.refresh(),We}return We.destroy=function(){for(var Re=0;Re<ne.buffers.length;++Re)ne.buffers[Re]&&ne.buffers[Re].destroy();ne.buffers.length=0,ne.ownsElements&&(ne.elements.destroy(),ne.elements=null,ne.ownsElements=!1),ne.destroy()},We._vao=ne,We._reglType="vao",We(ie)}return Ce}var Ge=35632,qe=35633,gt=35718,Ut=35721;function jt(h,y,R,Y){var re={},X={};function K($,Z,ge,Be){this.name=$,this.id=Z,this.location=ge,this.info=Be}function he($,Z){for(var ge=0;ge<$.length;++ge)if($[ge].id===Z.id){$[ge].location=Z.location;return}$.push(Z)}function de($,Z,ge){var Be=$===Ge?re:X,ce=Be[Z];if(!ce){var Fe=y.str(Z);ce=h.createShader($),h.shaderSource(ce,Fe),h.compileShader(ce),_.shaderError(h,ce,Fe,$,ge),Be[Z]=ce}return ce}var _e={},Ee=[],we=0;function Ce($,Z){this.id=we++,this.fragId=$,this.vertId=Z,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Y.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function pe($,Z,ge){var Be,ce,Fe=de(Ge,$.fragId),Me=de(qe,$.vertId),rt=$.program=h.createProgram();if(h.attachShader(rt,Fe),h.attachShader(rt,Me),ge)for(Be=0;Be<ge.length;++Be){var ie=ge[Be];h.bindAttribLocation(rt,ie[0],ie[1])}h.linkProgram(rt),_.linkError(h,rt,y.str($.fragId),y.str($.vertId),Z);var ne=h.getProgramParameter(rt,gt);Y.profile&&($.stats.uniformsCount=ne);var We=$.uniforms;for(Be=0;Be<ne;++Be)if(ce=h.getActiveUniform(rt,Be),ce){if(ce.size>1)for(var Re=0;Re<ce.size;++Re){var ve=ce.name.replace("[0]","["+Re+"]");he(We,new K(ve,y.id(ve),h.getUniformLocation(rt,ve),ce))}var Pe=ce.name;ce.size>1&&(Pe=Pe.replace("[0]","")),he(We,new K(Pe,y.id(Pe),h.getUniformLocation(rt,Pe),ce))}var Oe=h.getProgramParameter(rt,Ut);Y.profile&&($.stats.attributesCount=Oe);var ht=$.attributes;for(Be=0;Be<Oe;++Be)ce=h.getActiveAttrib(rt,Be),ce&&he(ht,new K(ce.name,y.id(ce.name),h.getAttribLocation(rt,ce.name),ce))}Y.profile&&(R.getMaxUniformsCount=function(){var $=0;return Ee.forEach(function(Z){Z.stats.uniformsCount>$&&($=Z.stats.uniformsCount)}),$},R.getMaxAttributesCount=function(){var $=0;return Ee.forEach(function(Z){Z.stats.attributesCount>$&&($=Z.stats.attributesCount)}),$});function ye(){re={},X={};for(var $=0;$<Ee.length;++$)pe(Ee[$],null,Ee[$].attributes.map(function(Z){return[Z.location,Z.name]}))}return{clear:function(){var $=h.deleteShader.bind(h);ur(re).forEach($),re={},ur(X).forEach($),X={},Ee.forEach(function(Z){h.deleteProgram(Z.program)}),Ee.length=0,_e={},R.shaderCount=0},program:function($,Z,ge,Be){_.command($>=0,"missing vertex shader",ge),_.command(Z>=0,"missing fragment shader",ge);var ce=_e[Z];ce||(ce=_e[Z]={});var Fe=ce[$];if(Fe&&(Fe.refCount++,!Be))return Fe;var Me=new Ce(Z,$);return R.shaderCount++,pe(Me,ge,Be),Fe||(ce[$]=Me),Ee.push(Me),r(Me,{destroy:function(){if(Me.refCount--,Me.refCount<=0){h.deleteProgram(Me.program);var rt=Ee.indexOf(Me);Ee.splice(rt,1),R.shaderCount--}ce[Me.vertId].refCount<=0&&(h.deleteShader(X[Me.vertId]),delete X[Me.vertId],delete _e[Me.fragId][Me.vertId]),Object.keys(_e[Me.fragId]).length||(h.deleteShader(re[Me.fragId]),delete re[Me.fragId],delete _e[Me.fragId])}})},restore:ye,shader:de,frag:-1,vert:-1}}var Cn=6408,Xt=5121,zt=3333,Gf=5126;function Ty(h,y,R,Y,re,X,K){function he(Ee){var we;y.next===null?(_(re.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),we=Xt):(_(y.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),we=y.next.colorAttachments[0].texture._texture.type,_.optional(function(){X.oes_texture_float?(_(we===Xt||we===Gf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),we===Gf&&_(K.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(we===Xt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ce=0,pe=0,ye=Y.framebufferWidth,$=Y.framebufferHeight,Z=null;n(Ee)?Z=Ee:Ee&&(_.type(Ee,"object","invalid arguments to regl.read()"),Ce=Ee.x|0,pe=Ee.y|0,_(Ce>=0&&Ce<Y.framebufferWidth,"invalid x offset for regl.read"),_(pe>=0&&pe<Y.framebufferHeight,"invalid y offset for regl.read"),ye=(Ee.width||Y.framebufferWidth-Ce)|0,$=(Ee.height||Y.framebufferHeight-pe)|0,Z=Ee.data||null),Z&&(we===Xt?_(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):we===Gf&&_(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(ye>0&&ye+Ce<=Y.framebufferWidth,"invalid width for read pixels"),_($>0&&$+pe<=Y.framebufferHeight,"invalid height for read pixels"),R();var ge=ye*$*4;return Z||(we===Xt?Z=new Uint8Array(ge):we===Gf&&(Z=Z||new Float32Array(ge))),_.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),_(Z.byteLength>=ge,"data buffer for regl.read() too small"),h.pixelStorei(zt,4),h.readPixels(Ce,pe,ye,$,Cn,we,Z),Z}function de(Ee){var we;return y.setFBO({framebuffer:Ee.framebuffer},function(){we=he(Ee)}),we}function _e(Ee){return!Ee||!("framebuffer"in Ee)?he(Ee):de(Ee)}return _e}function Nl(h){return Array.prototype.slice.call(h)}function Il(h){return Nl(h).join("")}function Ay(){var h=0,y=[],R=[];function Y(we){for(var Ce=0;Ce<R.length;++Ce)if(R[Ce]===we)return y[Ce];var pe="g"+h++;return y.push(pe),R.push(we),pe}function re(){var we=[];function Ce(){we.push.apply(we,Nl(arguments))}var pe=[];function ye(){var $="v"+h++;return pe.push($),arguments.length>0&&(we.push($,"="),we.push.apply(we,Nl(arguments)),we.push(";")),$}return r(Ce,{def:ye,toString:function(){return Il([pe.length>0?"var "+pe.join(",")+";":"",Il(we)])}})}function X(){var we=re(),Ce=re(),pe=we.toString,ye=Ce.toString;function $(Z,ge){Ce(Z,ge,"=",we.def(Z,ge),";")}return r(function(){we.apply(we,Nl(arguments))},{def:we.def,entry:we,exit:Ce,save:$,set:function(Z,ge,Be){$(Z,ge),we(Z,ge,"=",Be,";")},toString:function(){return pe()+ye()}})}function K(){var we=Il(arguments),Ce=X(),pe=X(),ye=Ce.toString,$=pe.toString;return r(Ce,{then:function(){return Ce.apply(Ce,Nl(arguments)),this},else:function(){return pe.apply(pe,Nl(arguments)),this},toString:function(){var Z=$();return Z&&(Z="else{"+Z+"}"),Il(["if(",we,"){",ye(),"}",Z])}})}var he=re(),de={};function _e(we,Ce){var pe=[];function ye(){var ce="a"+pe.length;return pe.push(ce),ce}Ce=Ce||0;for(var $=0;$<Ce;++$)ye();var Z=X(),ge=Z.toString,Be=de[we]=r(Z,{arg:ye,toString:function(){return Il(["function(",pe.join(),"){",ge(),"}"])}});return Be}function Ee(){var we=['"use strict";',he,"return {"];Object.keys(de).forEach(function(ye){we.push('"',ye,'":',de[ye].toString(),",")}),we.push("}");var Ce=Il(we).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),pe=Function.apply(null,y.concat(Ce));return pe.apply(null,R)}return{global:he,link:Y,block:re,proc:_e,scope:X,cond:K,compile:Ee}}var Dl="xyzw".split(""),Lv=5121,Fl=1,_h=2,wh=0,Eh=1,Sh=2,bh=3,Uf=4,Rv=5,Pv=6,kv="dither",Ov="blend.enable",Mv="blend.color",Th="blend.equation",Ah="blend.func",Nv="depth.enable",Iv="depth.func",Dv="depth.range",Fv="depth.mask",Ch="colorMask",$v="cull.enable",Bv="cull.face",Lh="frontFace",Rh="lineWidth",jv="polygonOffset.enable",Ph="polygonOffset.offset",zv="sample.alpha",Gv="sample.enable",kh="sample.coverage",Uv="stencil.enable",Vv="stencil.mask",Oh="stencil.func",Mh="stencil.opFront",mu="stencil.opBack",Hv="scissor.enable",Vf="scissor.box",Zi="viewport",vu="profile",Ao="framebuffer",gu="vert",yu="frag",Co="elements",Lo="primitive",Ro="count",Hf="offset",Wf="instances",xu="vao",Nh="Width",Ih="Height",$l=Ao+Nh,Bl=Ao+Ih,Cy=Zi+Nh,Ly=Zi+Ih,Wv="drawingBuffer",Xv=Wv+Nh,Yv=Wv+Ih,Ry=[Ah,Th,Oh,Mh,mu,kh,Zi,Vf,Ph],jl=34962,Dh=34963,Py=35632,ky=35633,qv=3553,Oy=34067,My=2884,Ny=3042,Iy=3024,Dy=2960,Fy=2929,$y=3089,By=32823,jy=32926,zy=32928,Fh=5126,Xf=35664,Yf=35665,qf=35666,$h=5124,Qf=35667,Zf=35668,Kf=35669,Bh=35670,Jf=35671,e0=35672,t0=35673,_u=35674,wu=35675,Eu=35676,Su=35678,bu=35680,jh=4,Tu=1028,Po=1029,Qv=2304,zh=2305,Gy=32775,Uy=32776,Vy=519,Ca=7680,Zv=0,Kv=1,Jv=32774,Hy=513,e3=36160,Wy=36064,Ci={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},t3=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],zl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},La={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},n3={frag:Py,vert:ky},Gh={cw:Qv,ccw:zh};function n0(h){return Array.isArray(h)||n(h)||yr(h)}function r3(h){return h.sort(function(y,R){return y===Zi?-1:R===Zi?1:y<R?-1:1})}function jn(h,y,R,Y){this.thisDep=h,this.contextDep=y,this.propDep=R,this.append=Y}function Ra(h){return h&&!(h.thisDep||h.contextDep||h.propDep)}function Ln(h){return new jn(!1,!1,!1,h)}function xr(h,y){var R=h.type;if(R===wh){var Y=h.data.length;return new jn(!0,Y>=1,Y>=2,y)}else if(R===Uf){var re=h.data;return new jn(re.thisDep,re.contextDep,re.propDep,y)}else{if(R===Rv)return new jn(!1,!1,!1,y);if(R===Pv){for(var X=!1,K=!1,he=!1,de=0;de<h.data.length;++de){var _e=h.data[de];if(_e.type===Eh)he=!0;else if(_e.type===Sh)K=!0;else if(_e.type===bh)X=!0;else if(_e.type===wh){X=!0;var Ee=_e.data;Ee>=1&&(K=!0),Ee>=2&&(he=!0)}else _e.type===Uf&&(X=X||_e.data.thisDep,K=K||_e.data.contextDep,he=he||_e.data.propDep)}return new jn(X,K,he,y)}else return new jn(R===bh,R===Sh,R===Eh,y)}}var i3=new jn(!1,!1,!1,function(){});function Xy(h,y,R,Y,re,X,K,he,de,_e,Ee,we,Ce,pe,ye){var $=_e.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};R.ext_blend_minmax&&(Z.min=Gy,Z.max=Uy);var ge=R.angle_instanced_arrays,Be=R.webgl_draw_buffers,ce=R.oes_vertex_array_object,Fe={dirty:!0,profile:ye.profile},Me={},rt=[],ie={},ne={};function We(S){return S.replace(".","_")}function Re(S,m,k){var F=We(S);rt.push(S),Me[F]=Fe[F]=!!k,ie[F]=m}function ve(S,m,k){var F=We(S);rt.push(S),Array.isArray(k)?(Fe[F]=k.slice(),Me[F]=k.slice()):Fe[F]=Me[F]=k,ne[F]=m}Re(kv,Iy),Re(Ov,Ny),ve(Mv,"blendColor",[0,0,0,0]),ve(Th,"blendEquationSeparate",[Jv,Jv]),ve(Ah,"blendFuncSeparate",[Kv,Zv,Kv,Zv]),Re(Nv,Fy,!0),ve(Iv,"depthFunc",Hy),ve(Dv,"depthRange",[0,1]),ve(Fv,"depthMask",!0),ve(Ch,Ch,[!0,!0,!0,!0]),Re($v,My),ve(Bv,"cullFace",Po),ve(Lh,Lh,zh),ve(Rh,Rh,1),Re(jv,By),ve(Ph,"polygonOffset",[0,0]),Re(zv,jy),Re(Gv,zy),ve(kh,"sampleCoverage",[1,!1]),Re(Uv,Dy),ve(Vv,"stencilMask",-1),ve(Oh,"stencilFunc",[Vy,0,-1]),ve(Mh,"stencilOpSeparate",[Tu,Ca,Ca,Ca]),ve(mu,"stencilOpSeparate",[Po,Ca,Ca,Ca]),Re(Hv,$y),ve(Vf,"scissor",[0,0,h.drawingBufferWidth,h.drawingBufferHeight]),ve(Zi,Zi,[0,0,h.drawingBufferWidth,h.drawingBufferHeight]);var Pe={gl:h,context:Ce,strings:y,next:Me,current:Fe,draw:we,elements:X,buffer:re,shader:Ee,attributes:_e.state,vao:_e,uniforms:de,framebuffer:he,extensions:R,timer:pe,isBufferArgs:n0},Oe={primTypes:bi,compareFuncs:zl,blendFuncs:Ci,blendEquations:Z,stencilOps:La,glTypes:xa,orientationType:Gh};_.optional(function(){Pe.isArrayLike=nn}),Be&&(Oe.backBuffer=[Po],Oe.drawBuffer=Zt(Y.maxDrawbuffers,function(S){return S===0?[0]:Zt(S,function(m){return Wy+m})}));var ht=0;function ut(){var S=Ay(),m=S.link,k=S.global;S.id=ht++,S.batchId="0";var F=m(Pe),B=S.shared={props:"a0"};Object.keys(Pe).forEach(function(C){B[C]=k.def(F,".",C)}),_.optional(function(){S.CHECK=m(_),S.commandStr=_.guessCommand(),S.command=m(S.commandStr),S.assert=function(C,T,V){C("if(!(",T,"))",this.CHECK,".commandRaise(",m(V),",",this.command,");")},Oe.invalidBlendCombinations=t3});var N=S.next={},M=S.current={};Object.keys(ne).forEach(function(C){Array.isArray(Fe[C])&&(N[C]=k.def(B.next,".",C),M[C]=k.def(B.current,".",C))});var D=S.constants={};Object.keys(Oe).forEach(function(C){D[C]=k.def(JSON.stringify(Oe[C]))}),S.invoke=function(C,T){switch(T.type){case wh:var V=["this",B.context,B.props,S.batchId];return C.def(m(T.data),".call(",V.slice(0,Math.max(T.data.length+1,4)),")");case Eh:return C.def(B.props,T.data);case Sh:return C.def(B.context,T.data);case bh:return C.def("this",T.data);case Uf:return T.data.append(S,C),T.data.ref;case Rv:return T.data.toString();case Pv:return T.data.map(function(G){return S.invoke(C,G)})}},S.attribCache={};var b={};return S.scopeAttrib=function(C){var T=y.id(C);if(T in b)return b[T];var V=_e.scope[T];V||(V=_e.scope[T]=new $);var G=b[T]=m(V);return G},S}function Ne(S){var m=S.static,k=S.dynamic,F;if(vu in m){var B=!!m[vu];F=Ln(function(M,D){return B}),F.enable=B}else if(vu in k){var N=k[vu];F=xr(N,function(M,D){return M.invoke(D,N)})}return F}function $e(S,m){var k=S.static,F=S.dynamic;if(Ao in k){var B=k[Ao];return B?(B=he.getFramebuffer(B),_.command(B,"invalid framebuffer object"),Ln(function(M,D){var b=M.link(B),C=M.shared;D.set(C.framebuffer,".next",b);var T=C.context;return D.set(T,"."+$l,b+".width"),D.set(T,"."+Bl,b+".height"),b})):Ln(function(M,D){var b=M.shared;D.set(b.framebuffer,".next","null");var C=b.context;return D.set(C,"."+$l,C+"."+Xv),D.set(C,"."+Bl,C+"."+Yv),"null"})}else if(Ao in F){var N=F[Ao];return xr(N,function(M,D){var b=M.invoke(D,N),C=M.shared,T=C.framebuffer,V=D.def(T,".getFramebuffer(",b,")");_.optional(function(){M.assert(D,"!"+b+"||"+V,"invalid framebuffer object")}),D.set(T,".next",V);var G=C.context;return D.set(G,"."+$l,V+"?"+V+".width:"+G+"."+Xv),D.set(G,"."+Bl,V+"?"+V+".height:"+G+"."+Yv),V})}else return null}function ot(S,m,k){var F=S.static,B=S.dynamic;function N(b){if(b in F){var C=F[b];_.commandType(C,"object","invalid "+b,k.commandStr);var T=!0,V=C.x|0,G=C.y|0,te,ae;return"width"in C?(te=C.width|0,_.command(te>=0,"invalid "+b,k.commandStr)):T=!1,"height"in C?(ae=C.height|0,_.command(ae>=0,"invalid "+b,k.commandStr)):T=!1,new jn(!T&&m&&m.thisDep,!T&&m&&m.contextDep,!T&&m&&m.propDep,function(nt,Ue){var se=nt.shared.context,J=te;"width"in C||(J=Ue.def(se,".",$l,"-",V));var Qe=ae;return"height"in C||(Qe=Ue.def(se,".",Bl,"-",G)),[V,G,J,Qe]})}else if(b in B){var Te=B[b],st=xr(Te,function(nt,Ue){var se=nt.invoke(Ue,Te);_.optional(function(){nt.assert(Ue,se+"&&typeof "+se+'==="object"',"invalid "+b)});var J=nt.shared.context,Qe=Ue.def(se,".x|0"),Ye=Ue.def(se,".y|0"),lt=Ue.def('"width" in ',se,"?",se,".width|0:","(",J,".",$l,"-",Qe,")"),Wt=Ue.def('"height" in ',se,"?",se,".height|0:","(",J,".",Bl,"-",Ye,")");return _.optional(function(){nt.assert(Ue,lt+">=0&&"+Wt+">=0","invalid "+b)}),[Qe,Ye,lt,Wt]});return m&&(st.thisDep=st.thisDep||m.thisDep,st.contextDep=st.contextDep||m.contextDep,st.propDep=st.propDep||m.propDep),st}else return m?new jn(m.thisDep,m.contextDep,m.propDep,function(nt,Ue){var se=nt.shared.context;return[0,0,Ue.def(se,".",$l),Ue.def(se,".",Bl)]}):null}var M=N(Zi);if(M){var D=M;M=new jn(M.thisDep,M.contextDep,M.propDep,function(b,C){var T=D.append(b,C),V=b.shared.context;return C.set(V,"."+Cy,T[2]),C.set(V,"."+Ly,T[3]),T})}return{viewport:M,scissor_box:N(Vf)}}function pt(S,m){var k=S.static,F=typeof k[yu]=="string"&&typeof k[gu]=="string";if(F){if(Object.keys(m.dynamic).length>0)return null;var B=m.static,N=Object.keys(B);if(N.length>0&&typeof B[N[0]]=="number"){for(var M=[],D=0;D<N.length;++D)_(typeof B[N[D]]=="number","must specify all vertex attribute locations when using vaos"),M.push([B[N[D]]|0,N[D]]);return M}}return null}function Lt(S,m,k){var F=S.static,B=S.dynamic;function N(T){if(T in F){var V=y.id(F[T]);_.optional(function(){Ee.shader(n3[T],V,_.guessCommand())});var G=Ln(function(){return V});return G.id=V,G}else if(T in B){var te=B[T];return xr(te,function(ae,Te){var st=ae.invoke(Te,te),nt=Te.def(ae.shared.strings,".id(",st,")");return _.optional(function(){Te(ae.shared.shader,".shader(",n3[T],",",nt,",",ae.command,");")}),nt})}return null}var M=N(yu),D=N(gu),b=null,C;return Ra(M)&&Ra(D)?(b=Ee.program(D.id,M.id,null,k),C=Ln(function(T,V){return T.link(b)})):C=new jn(M&&M.thisDep||D&&D.thisDep,M&&M.contextDep||D&&D.contextDep,M&&M.propDep||D&&D.propDep,function(T,V){var G=T.shared.shader,te;M?te=M.append(T,V):te=V.def(G,".",yu);var ae;D?ae=D.append(T,V):ae=V.def(G,".",gu);var Te=G+".program("+ae+","+te;return _.optional(function(){Te+=","+T.command}),V.def(Te+")")}),{frag:M,vert:D,progVar:C,program:b}}function ln(S,m){var k=S.static,F=S.dynamic,B={},N=!1;function M(){if(xu in k){var Ue=k[xu];return Ue!==null&&_e.getVAO(Ue)===null&&(Ue=_e.createVAO(Ue)),N=!0,B.vao=Ue,Ln(function(J){var Qe=_e.getVAO(Ue);return Qe?J.link(Qe):"null"})}else if(xu in F){N=!0;var se=F[xu];return xr(se,function(J,Qe){var Ye=J.invoke(Qe,se);return Qe.def(J.shared.vao+".getVAO("+Ye+")")})}return null}var D=M(),b=!1;function C(){if(Co in k){var Ue=k[Co];if(B.elements=Ue,n0(Ue)){var se=B.elements=X.create(Ue,!0);Ue=X.getElements(se),b=!0}else Ue&&(Ue=X.getElements(Ue),b=!0,_.command(Ue,"invalid elements",m.commandStr));var J=Ln(function(Ye,lt){if(Ue){var Wt=Ye.link(Ue);return Ye.ELEMENTS=Wt,Wt}return Ye.ELEMENTS=null,null});return J.value=Ue,J}else if(Co in F){b=!0;var Qe=F[Co];return xr(Qe,function(Ye,lt){var Wt=Ye.shared,Zn=Wt.isBufferArgs,Oo=Wt.elements,Ki=Ye.invoke(lt,Qe),Ri=lt.def("null"),Pa=lt.def(Zn,"(",Ki,")"),Mo=Ye.cond(Pa).then(Ri,"=",Oo,".createStream(",Ki,");").else(Ri,"=",Oo,".getElements(",Ki,");");return _.optional(function(){Ye.assert(Mo.else,"!"+Ki+"||"+Ri,"invalid elements")}),lt.entry(Mo),lt.exit(Ye.cond(Pa).then(Oo,".destroyStream(",Ri,");")),Ye.ELEMENTS=Ri,Ri})}else if(N)return new jn(D.thisDep,D.contextDep,D.propDep,function(Ye,lt){return lt.def(Ye.shared.vao+".currentVAO?"+Ye.shared.elements+".getElements("+Ye.shared.vao+".currentVAO.elements):null")});return null}var T=C();function V(){if(Lo in k){var Ue=k[Lo];return B.primitive=Ue,_.commandParameter(Ue,bi,"invalid primitve",m.commandStr),Ln(function(J,Qe){return bi[Ue]})}else if(Lo in F){var se=F[Lo];return xr(se,function(J,Qe){var Ye=J.constants.primTypes,lt=J.invoke(Qe,se);return _.optional(function(){J.assert(Qe,lt+" in "+Ye,"invalid primitive, must be one of "+Object.keys(bi))}),Qe.def(Ye,"[",lt,"]")})}else{if(b)return Ra(T)?T.value?Ln(function(J,Qe){return Qe.def(J.ELEMENTS,".primType")}):Ln(function(){return jh}):new jn(T.thisDep,T.contextDep,T.propDep,function(J,Qe){var Ye=J.ELEMENTS;return Qe.def(Ye,"?",Ye,".primType:",jh)});if(N)return new jn(D.thisDep,D.contextDep,D.propDep,function(J,Qe){return Qe.def(J.shared.vao+".currentVAO?"+J.shared.vao+".currentVAO.primitive:"+jh)})}return null}function G(Ue,se){if(Ue in k){var J=k[Ue]|0;return se?B.offset=J:B.instances=J,_.command(!se||J>=0,"invalid "+Ue,m.commandStr),Ln(function(Ye,lt){return se&&(Ye.OFFSET=J),J})}else if(Ue in F){var Qe=F[Ue];return xr(Qe,function(Ye,lt){var Wt=Ye.invoke(lt,Qe);return se&&(Ye.OFFSET=Wt,_.optional(function(){Ye.assert(lt,Wt+">=0","invalid "+Ue)})),Wt})}else if(se){if(b)return Ln(function(Ye,lt){return Ye.OFFSET=0,0});if(N)return new jn(D.thisDep,D.contextDep,D.propDep,function(Ye,lt){return lt.def(Ye.shared.vao+".currentVAO?"+Ye.shared.vao+".currentVAO.offset:0")})}else if(N)return new jn(D.thisDep,D.contextDep,D.propDep,function(Ye,lt){return lt.def(Ye.shared.vao+".currentVAO?"+Ye.shared.vao+".currentVAO.instances:-1")});return null}var te=G(Hf,!0);function ae(){if(Ro in k){var Ue=k[Ro]|0;return B.count=Ue,_.command(typeof Ue=="number"&&Ue>=0,"invalid vertex count",m.commandStr),Ln(function(){return Ue})}else if(Ro in F){var se=F[Ro];return xr(se,function(lt,Wt){var Zn=lt.invoke(Wt,se);return _.optional(function(){lt.assert(Wt,"typeof "+Zn+'==="number"&&'+Zn+">=0&&"+Zn+"===("+Zn+"|0)","invalid vertex count")}),Zn})}else if(b)if(Ra(T)){if(T)return te?new jn(te.thisDep,te.contextDep,te.propDep,function(lt,Wt){var Zn=Wt.def(lt.ELEMENTS,".vertCount-",lt.OFFSET);return _.optional(function(){lt.assert(Wt,Zn+">=0","invalid vertex offset/element buffer too small")}),Zn}):Ln(function(lt,Wt){return Wt.def(lt.ELEMENTS,".vertCount")});var J=Ln(function(){return-1});return _.optional(function(){J.MISSING=!0}),J}else{var Qe=new jn(T.thisDep||te.thisDep,T.contextDep||te.contextDep,T.propDep||te.propDep,function(lt,Wt){var Zn=lt.ELEMENTS;return lt.OFFSET?Wt.def(Zn,"?",Zn,".vertCount-",lt.OFFSET,":-1"):Wt.def(Zn,"?",Zn,".vertCount:-1")});return _.optional(function(){Qe.DYNAMIC=!0}),Qe}else if(N){var Ye=new jn(D.thisDep,D.contextDep,D.propDep,function(lt,Wt){return Wt.def(lt.shared.vao,".currentVAO?",lt.shared.vao,".currentVAO.count:-1")});return Ye}return null}var Te=V(),st=ae(),nt=G(Wf,!1);return{elements:T,primitive:Te,count:st,instances:nt,offset:te,vao:D,vaoActive:N,elementsActive:b,static:B}}function cn(S,m){var k=S.static,F=S.dynamic,B={};return rt.forEach(function(N){var M=We(N);function D(b,C){if(N in k){var T=b(k[N]);B[M]=Ln(function(){return T})}else if(N in F){var V=F[N];B[M]=xr(V,function(G,te){return C(G,te,G.invoke(te,V))})}}switch(N){case $v:case Ov:case kv:case Uv:case Nv:case Hv:case jv:case zv:case Gv:case Fv:return D(function(b){return _.commandType(b,"boolean",N,m.commandStr),b},function(b,C,T){return _.optional(function(){b.assert(C,"typeof "+T+'==="boolean"',"invalid flag "+N,b.commandStr)}),T});case Iv:return D(function(b){return _.commandParameter(b,zl,"invalid "+N,m.commandStr),zl[b]},function(b,C,T){var V=b.constants.compareFuncs;return _.optional(function(){b.assert(C,T+" in "+V,"invalid "+N+", must be one of "+Object.keys(zl))}),C.def(V,"[",T,"]")});case Dv:return D(function(b){return _.command(nn(b)&&b.length===2&&typeof b[0]=="number"&&typeof b[1]=="number"&&b[0]<=b[1],"depth range is 2d array",m.commandStr),b},function(b,C,T){_.optional(function(){b.assert(C,b.shared.isArrayLike+"("+T+")&&"+T+".length===2&&typeof "+T+'[0]==="number"&&typeof '+T+'[1]==="number"&&'+T+"[0]<="+T+"[1]","depth range must be a 2d array")});var V=C.def("+",T,"[0]"),G=C.def("+",T,"[1]");return[V,G]});case Ah:return D(function(b){_.commandType(b,"object","blend.func",m.commandStr);var C="srcRGB"in b?b.srcRGB:b.src,T="srcAlpha"in b?b.srcAlpha:b.src,V="dstRGB"in b?b.dstRGB:b.dst,G="dstAlpha"in b?b.dstAlpha:b.dst;return _.commandParameter(C,Ci,M+".srcRGB",m.commandStr),_.commandParameter(T,Ci,M+".srcAlpha",m.commandStr),_.commandParameter(V,Ci,M+".dstRGB",m.commandStr),_.commandParameter(G,Ci,M+".dstAlpha",m.commandStr),_.command(t3.indexOf(C+", "+V)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+C+", "+V+")",m.commandStr),[Ci[C],Ci[V],Ci[T],Ci[G]]},function(b,C,T){var V=b.constants.blendFuncs;_.optional(function(){b.assert(C,T+"&&typeof "+T+'==="object"',"invalid blend func, must be an object")});function G(se,J){var Qe=C.def('"',se,J,'" in ',T,"?",T,".",se,J,":",T,".",se);return _.optional(function(){b.assert(C,Qe+" in "+V,"invalid "+N+"."+se+J+", must be one of "+Object.keys(Ci))}),Qe}var te=G("src","RGB"),ae=G("dst","RGB");_.optional(function(){var se=b.constants.invalidBlendCombinations;b.assert(C,se+".indexOf("+te+'+", "+'+ae+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Te=C.def(V,"[",te,"]"),st=C.def(V,"[",G("src","Alpha"),"]"),nt=C.def(V,"[",ae,"]"),Ue=C.def(V,"[",G("dst","Alpha"),"]");return[Te,nt,st,Ue]});case Th:return D(function(b){if(typeof b=="string")return _.commandParameter(b,Z,"invalid "+N,m.commandStr),[Z[b],Z[b]];if(typeof b=="object")return _.commandParameter(b.rgb,Z,N+".rgb",m.commandStr),_.commandParameter(b.alpha,Z,N+".alpha",m.commandStr),[Z[b.rgb],Z[b.alpha]];_.commandRaise("invalid blend.equation",m.commandStr)},function(b,C,T){var V=b.constants.blendEquations,G=C.def(),te=C.def(),ae=b.cond("typeof ",T,'==="string"');return _.optional(function(){function Te(st,nt,Ue){b.assert(st,Ue+" in "+V,"invalid "+nt+", must be one of "+Object.keys(Z))}Te(ae.then,N,T),b.assert(ae.else,T+"&&typeof "+T+'==="object"',"invalid "+N),Te(ae.else,N+".rgb",T+".rgb"),Te(ae.else,N+".alpha",T+".alpha")}),ae.then(G,"=",te,"=",V,"[",T,"];"),ae.else(G,"=",V,"[",T,".rgb];",te,"=",V,"[",T,".alpha];"),C(ae),[G,te]});case Mv:return D(function(b){return _.command(nn(b)&&b.length===4,"blend.color must be a 4d array",m.commandStr),Zt(4,function(C){return+b[C]})},function(b,C,T){return _.optional(function(){b.assert(C,b.shared.isArrayLike+"("+T+")&&"+T+".length===4","blend.color must be a 4d array")}),Zt(4,function(V){return C.def("+",T,"[",V,"]")})});case Vv:return D(function(b){return _.commandType(b,"number",M,m.commandStr),b|0},function(b,C,T){return _.optional(function(){b.assert(C,"typeof "+T+'==="number"',"invalid stencil.mask")}),C.def(T,"|0")});case Oh:return D(function(b){_.commandType(b,"object",M,m.commandStr);var C=b.cmp||"keep",T=b.ref||0,V="mask"in b?b.mask:-1;return _.commandParameter(C,zl,N+".cmp",m.commandStr),_.commandType(T,"number",N+".ref",m.commandStr),_.commandType(V,"number",N+".mask",m.commandStr),[zl[C],T,V]},function(b,C,T){var V=b.constants.compareFuncs;_.optional(function(){function Te(){b.assert(C,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Te(T+"&&typeof ",T,'==="object"'),Te('!("cmp" in ',T,")||(",T,".cmp in ",V,")")});var G=C.def('"cmp" in ',T,"?",V,"[",T,".cmp]",":",Ca),te=C.def(T,".ref|0"),ae=C.def('"mask" in ',T,"?",T,".mask|0:-1");return[G,te,ae]});case Mh:case mu:return D(function(b){_.commandType(b,"object",M,m.commandStr);var C=b.fail||"keep",T=b.zfail||"keep",V=b.zpass||"keep";return _.commandParameter(C,La,N+".fail",m.commandStr),_.commandParameter(T,La,N+".zfail",m.commandStr),_.commandParameter(V,La,N+".zpass",m.commandStr),[N===mu?Po:Tu,La[C],La[T],La[V]]},function(b,C,T){var V=b.constants.stencilOps;_.optional(function(){b.assert(C,T+"&&typeof "+T+'==="object"',"invalid "+N)});function G(te){return _.optional(function(){b.assert(C,'!("'+te+'" in '+T+")||("+T+"."+te+" in "+V+")","invalid "+N+"."+te+", must be one of "+Object.keys(La))}),C.def('"',te,'" in ',T,"?",V,"[",T,".",te,"]:",Ca)}return[N===mu?Po:Tu,G("fail"),G("zfail"),G("zpass")]});case Ph:return D(function(b){_.commandType(b,"object",M,m.commandStr);var C=b.factor|0,T=b.units|0;return _.commandType(C,"number",M+".factor",m.commandStr),_.commandType(T,"number",M+".units",m.commandStr),[C,T]},function(b,C,T){_.optional(function(){b.assert(C,T+"&&typeof "+T+'==="object"',"invalid "+N)});var V=C.def(T,".factor|0"),G=C.def(T,".units|0");return[V,G]});case Bv:return D(function(b){var C=0;return b==="front"?C=Tu:b==="back"&&(C=Po),_.command(!!C,M,m.commandStr),C},function(b,C,T){return _.optional(function(){b.assert(C,T+'==="front"||'+T+'==="back"',"invalid cull.face")}),C.def(T,'==="front"?',Tu,":",Po)});case Rh:return D(function(b){return _.command(typeof b=="number"&&b>=Y.lineWidthDims[0]&&b<=Y.lineWidthDims[1],"invalid line width, must be a positive number between "+Y.lineWidthDims[0]+" and "+Y.lineWidthDims[1],m.commandStr),b},function(b,C,T){return _.optional(function(){b.assert(C,"typeof "+T+'==="number"&&'+T+">="+Y.lineWidthDims[0]+"&&"+T+"<="+Y.lineWidthDims[1],"invalid line width")}),T});case Lh:return D(function(b){return _.commandParameter(b,Gh,M,m.commandStr),Gh[b]},function(b,C,T){return _.optional(function(){b.assert(C,T+'==="cw"||'+T+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),C.def(T+'==="cw"?'+Qv+":"+zh)});case Ch:return D(function(b){return _.command(nn(b)&&b.length===4,"color.mask must be length 4 array",m.commandStr),b.map(function(C){return!!C})},function(b,C,T){return _.optional(function(){b.assert(C,b.shared.isArrayLike+"("+T+")&&"+T+".length===4","invalid color.mask")}),Zt(4,function(V){return"!!"+T+"["+V+"]"})});case kh:return D(function(b){_.command(typeof b=="object"&&b,M,m.commandStr);var C="value"in b?b.value:1,T=!!b.invert;return _.command(typeof C=="number"&&C>=0&&C<=1,"sample.coverage.value must be a number between 0 and 1",m.commandStr),[C,T]},function(b,C,T){_.optional(function(){b.assert(C,T+"&&typeof "+T+'==="object"',"invalid sample.coverage")});var V=C.def('"value" in ',T,"?+",T,".value:1"),G=C.def("!!",T,".invert");return[V,G]})}}),B}function Pt(S,m){var k=S.static,F=S.dynamic,B={};return Object.keys(k).forEach(function(N){var M=k[N],D;if(typeof M=="number"||typeof M=="boolean")D=Ln(function(){return M});else if(typeof M=="function"){var b=M._reglType;b==="texture2d"||b==="textureCube"?D=Ln(function(C){return C.link(M)}):b==="framebuffer"||b==="framebufferCube"?(_.command(M.color.length>0,'missing color attachment for framebuffer sent to uniform "'+N+'"',m.commandStr),D=Ln(function(C){return C.link(M.color[0])})):_.commandRaise('invalid data for uniform "'+N+'"',m.commandStr)}else nn(M)?D=Ln(function(C){var T=C.global.def("[",Zt(M.length,function(V){return _.command(typeof M[V]=="number"||typeof M[V]=="boolean","invalid uniform "+N,C.commandStr),M[V]}),"]");return T}):_.commandRaise('invalid or missing data for uniform "'+N+'"',m.commandStr);D.value=M,B[N]=D}),Object.keys(F).forEach(function(N){var M=F[N];B[N]=xr(M,function(D,b){return D.invoke(b,M)})}),B}function Mn(S,m){var k=S.static,F=S.dynamic,B={};return Object.keys(k).forEach(function(N){var M=k[N],D=y.id(N),b=new $;if(n0(M))b.state=Fl,b.buffer=re.getBuffer(re.create(M,jl,!1,!0)),b.type=0;else{var C=re.getBuffer(M);if(C)b.state=Fl,b.buffer=C,b.type=0;else if(_.command(typeof M=="object"&&M,"invalid data for attribute "+N,m.commandStr),"constant"in M){var T=M.constant;b.buffer="null",b.state=_h,typeof T=="number"?b.x=T:(_.command(nn(T)&&T.length>0&&T.length<=4,"invalid constant for attribute "+N,m.commandStr),Dl.forEach(function(nt,Ue){Ue<T.length&&(b[nt]=T[Ue])}))}else{n0(M.buffer)?C=re.getBuffer(re.create(M.buffer,jl,!1,!0)):C=re.getBuffer(M.buffer),_.command(!!C,'missing buffer for attribute "'+N+'"',m.commandStr);var V=M.offset|0;_.command(V>=0,'invalid offset for attribute "'+N+'"',m.commandStr);var G=M.stride|0;_.command(G>=0&&G<256,'invalid stride for attribute "'+N+'", must be integer betweeen [0, 255]',m.commandStr);var te=M.size|0;_.command(!("size"in M)||te>0&&te<=4,'invalid size for attribute "'+N+'", must be 1,2,3,4',m.commandStr);var ae=!!M.normalized,Te=0;"type"in M&&(_.commandParameter(M.type,xa,"invalid type for attribute "+N,m.commandStr),Te=xa[M.type]);var st=M.divisor|0;_.optional(function(){"divisor"in M&&(_.command(st===0||ge,'cannot specify divisor for attribute "'+N+'", instancing not supported',m.commandStr),_.command(st>=0,'invalid divisor for attribute "'+N+'"',m.commandStr));var nt=m.commandStr,Ue=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(M).forEach(function(se){_.command(Ue.indexOf(se)>=0,'unknown parameter "'+se+'" for attribute pointer "'+N+'" (valid parameters are '+Ue+")",nt)})}),b.buffer=C,b.state=Fl,b.size=te,b.normalized=ae,b.type=Te||C.dtype,b.offset=V,b.stride=G,b.divisor=st}}B[N]=Ln(function(nt,Ue){var se=nt.attribCache;if(D in se)return se[D];var J={isStream:!1};return Object.keys(b).forEach(function(Qe){J[Qe]=b[Qe]}),b.buffer&&(J.buffer=nt.link(b.buffer),J.type=J.type||J.buffer+".dtype"),se[D]=J,J})}),Object.keys(F).forEach(function(N){var M=F[N];function D(b,C){var T=b.invoke(C,M),V=b.shared,G=b.constants,te=V.isBufferArgs,ae=V.buffer;_.optional(function(){b.assert(C,T+"&&(typeof "+T+'==="object"||typeof '+T+'==="function")&&('+te+"("+T+")||"+ae+".getBuffer("+T+")||"+ae+".getBuffer("+T+".buffer)||"+te+"("+T+'.buffer)||("constant" in '+T+"&&(typeof "+T+'.constant==="number"||'+V.isArrayLike+"("+T+".constant))))",'invalid dynamic attribute "'+N+'"')});var Te={isStream:C.def(!1)},st=new $;st.state=Fl,Object.keys(st).forEach(function(J){Te[J]=C.def(""+st[J])});var nt=Te.buffer,Ue=Te.type;C("if(",te,"(",T,")){",Te.isStream,"=true;",nt,"=",ae,".createStream(",jl,",",T,");",Ue,"=",nt,".dtype;","}else{",nt,"=",ae,".getBuffer(",T,");","if(",nt,"){",Ue,"=",nt,".dtype;",'}else if("constant" in ',T,"){",Te.state,"=",_h,";","if(typeof "+T+'.constant === "number"){',Te[Dl[0]],"=",T,".constant;",Dl.slice(1).map(function(J){return Te[J]}).join("="),"=0;","}else{",Dl.map(function(J,Qe){return Te[J]+"="+T+".constant.length>"+Qe+"?"+T+".constant["+Qe+"]:0;"}).join(""),"}}else{","if(",te,"(",T,".buffer)){",nt,"=",ae,".createStream(",jl,",",T,".buffer);","}else{",nt,"=",ae,".getBuffer(",T,".buffer);","}",Ue,'="type" in ',T,"?",G.glTypes,"[",T,".type]:",nt,".dtype;",Te.normalized,"=!!",T,".normalized;");function se(J){C(Te[J],"=",T,".",J,"|0;")}return se("size"),se("offset"),se("stride"),se("divisor"),C("}}"),C.exit("if(",Te.isStream,"){",ae,".destroyStream(",nt,");","}"),Te}B[N]=xr(M,D)}),B}function rn(S){var m=S.static,k=S.dynamic,F={};return Object.keys(m).forEach(function(B){var N=m[B];F[B]=Ln(function(M,D){return typeof N=="number"||typeof N=="boolean"?""+N:M.link(N)})}),Object.keys(k).forEach(function(B){var N=k[B];F[B]=xr(N,function(M,D){return M.invoke(D,N)})}),F}function Rn(S,m,k,F,B){var N=S.static,M=S.dynamic;_.optional(function(){var se=[Ao,gu,yu,Co,Lo,Hf,Ro,Wf,vu,xu].concat(rt);function J(Qe){Object.keys(Qe).forEach(function(Ye){_.command(se.indexOf(Ye)>=0,'unknown parameter "'+Ye+'"',B.commandStr)})}J(N),J(M)});var D=pt(S,m),b=$e(S),C=ot(S,b,B),T=ln(S,B),V=cn(S,B),G=Lt(S,B,D);function te(se){var J=C[se];J&&(V[se]=J)}te(Zi),te(We(Vf));var ae=Object.keys(V).length>0,Te={framebuffer:b,draw:T,shader:G,state:V,dirty:ae,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Te.profile=Ne(S),Te.uniforms=Pt(k,B),Te.drawVAO=Te.scopeVAO=T.vao,!Te.drawVAO&&G.program&&!D&&R.angle_instanced_arrays&&T.static.elements){var st=!0,nt=G.program.attributes.map(function(se){var J=m.static[se];return st=st&&!!J,J});if(st&&nt.length>0){var Ue=_e.getVAO(_e.createVAO({attributes:nt,elements:T.static.elements}));Te.drawVAO=new jn(null,null,null,function(se,J){return se.link(Ue)}),Te.useVAO=!0}}return D?Te.useVAO=!0:Te.attributes=Mn(m,B),Te.context=rn(F),Te}function Nn(S,m,k){var F=S.shared,B=F.context,N=S.scope();Object.keys(k).forEach(function(M){m.save(B,"."+M);var D=k[M],b=D.append(S,m);Array.isArray(b)?N(B,".",M,"=[",b.join(),"];"):N(B,".",M,"=",b,";")}),m(N)}function In(S,m,k,F){var B=S.shared,N=B.gl,M=B.framebuffer,D;Be&&(D=m.def(B.extensions,".webgl_draw_buffers"));var b=S.constants,C=b.drawBuffer,T=b.backBuffer,V;k?V=k.append(S,m):V=m.def(M,".next"),F||m("if(",V,"!==",M,".cur){"),m("if(",V,"){",N,".bindFramebuffer(",e3,",",V,".framebuffer);"),Be&&m(D,".drawBuffersWEBGL(",C,"[",V,".colorAttachments.length]);"),m("}else{",N,".bindFramebuffer(",e3,",null);"),Be&&m(D,".drawBuffersWEBGL(",T,");"),m("}",M,".cur=",V,";"),F||m("}")}function Vn(S,m,k){var F=S.shared,B=F.gl,N=S.current,M=S.next,D=F.current,b=F.next,C=S.cond(D,".dirty");rt.forEach(function(T){var V=We(T);if(!(V in k.state)){var G,te;if(V in M){G=M[V],te=N[V];var ae=Zt(Fe[V].length,function(st){return C.def(G,"[",st,"]")});C(S.cond(ae.map(function(st,nt){return st+"!=="+te+"["+nt+"]"}).join("||")).then(B,".",ne[V],"(",ae,");",ae.map(function(st,nt){return te+"["+nt+"]="+st}).join(";"),";"))}else{G=C.def(b,".",V);var Te=S.cond(G,"!==",D,".",V);C(Te),V in ie?Te(S.cond(G).then(B,".enable(",ie[V],");").else(B,".disable(",ie[V],");"),D,".",V,"=",G,";"):Te(B,".",ne[V],"(",G,");",D,".",V,"=",G,";")}}}),Object.keys(k.state).length===0&&C(D,".dirty=false;"),m(C)}function qn(S,m,k,F){var B=S.shared,N=S.current,M=B.current,D=B.gl;r3(Object.keys(k)).forEach(function(b){var C=k[b];if(!(F&&!F(C))){var T=C.append(S,m);if(ie[b]){var V=ie[b];Ra(C)?T?m(D,".enable(",V,");"):m(D,".disable(",V,");"):m(S.cond(T).then(D,".enable(",V,");").else(D,".disable(",V,");")),m(M,".",b,"=",T,";")}else if(nn(T)){var G=N[b];m(D,".",ne[b],"(",T,");",T.map(function(te,ae){return G+"["+ae+"]="+te}).join(";"),";")}else m(D,".",ne[b],"(",T,");",M,".",b,"=",T,";")}})}function vn(S,m){ge&&(S.instancing=m.def(S.shared.extensions,".angle_instanced_arrays"))}function xt(S,m,k,F,B){var N=S.shared,M=S.stats,D=N.current,b=N.timer,C=k.profile;function T(){return typeof performance>"u"?"Date.now()":"performance.now()"}var V,G;function te(se){V=m.def(),se(V,"=",T(),";"),typeof B=="string"?se(M,".count+=",B,";"):se(M,".count++;"),pe&&(F?(G=m.def(),se(G,"=",b,".getNumPendingQueries();")):se(b,".beginQuery(",M,");"))}function ae(se){se(M,".cpuTime+=",T(),"-",V,";"),pe&&(F?se(b,".pushScopeStats(",G,",",b,".getNumPendingQueries(),",M,");"):se(b,".endQuery();"))}function Te(se){var J=m.def(D,".profile");m(D,".profile=",se,";"),m.exit(D,".profile=",J,";")}var st;if(C){if(Ra(C)){C.enable?(te(m),ae(m.exit),Te("true")):Te("false");return}st=C.append(S,m),Te(st)}else st=m.def(D,".profile");var nt=S.block();te(nt),m("if(",st,"){",nt,"}");var Ue=S.block();ae(Ue),m.exit("if(",st,"){",Ue,"}")}function Qn(S,m,k,F,B){var N=S.shared;function M(b){switch(b){case Xf:case Qf:case Jf:return 2;case Yf:case Zf:case e0:return 3;case qf:case Kf:case t0:return 4;default:return 1}}function D(b,C,T){var V=N.gl,G=m.def(b,".location"),te=m.def(N.attributes,"[",G,"]"),ae=T.state,Te=T.buffer,st=[T.x,T.y,T.z,T.w],nt=["buffer","normalized","offset","stride"];function Ue(){m("if(!",te,".buffer){",V,".enableVertexAttribArray(",G,");}");var J=T.type,Qe;if(T.size?Qe=m.def(T.size,"||",C):Qe=C,m("if(",te,".type!==",J,"||",te,".size!==",Qe,"||",nt.map(function(lt){return te+"."+lt+"!=="+T[lt]}).join("||"),"){",V,".bindBuffer(",jl,",",Te,".buffer);",V,".vertexAttribPointer(",[G,Qe,J,T.normalized,T.stride,T.offset],");",te,".type=",J,";",te,".size=",Qe,";",nt.map(function(lt){return te+"."+lt+"="+T[lt]+";"}).join(""),"}"),ge){var Ye=T.divisor;m("if(",te,".divisor!==",Ye,"){",S.instancing,".vertexAttribDivisorANGLE(",[G,Ye],");",te,".divisor=",Ye,";}")}}function se(){m("if(",te,".buffer){",V,".disableVertexAttribArray(",G,");",te,".buffer=null;","}if(",Dl.map(function(J,Qe){return te+"."+J+"!=="+st[Qe]}).join("||"),"){",V,".vertexAttrib4f(",G,",",st,");",Dl.map(function(J,Qe){return te+"."+J+"="+st[Qe]+";"}).join(""),"}")}ae===Fl?Ue():ae===_h?se():(m("if(",ae,"===",Fl,"){"),Ue(),m("}else{"),se(),m("}"))}F.forEach(function(b){var C=b.name,T=k.attributes[C],V;if(T){if(!B(T))return;V=T.append(S,m)}else{if(!B(i3))return;var G=S.scopeAttrib(C);_.optional(function(){S.assert(m,G+".state","missing attribute "+C)}),V={},Object.keys(new $).forEach(function(te){V[te]=m.def(G,".",te)})}D(S.link(b),M(b.info.type),V)})}function Vt(S,m,k,F,B,N){for(var M=S.shared,D=M.gl,b={},C,T=0;T<F.length;++T){var V=F[T],G=V.name,te=V.info.type,ae=V.info.size,Te=k.uniforms[G];if(ae>1){if(!Te)continue;var st=G.replace("[0]","");if(b[st])continue;b[st]=1}var nt=S.link(V),Ue=nt+".location",se;if(Te){if(!B(Te))continue;if(Ra(Te)){var J=Te.value;if(_.command(J!==null&&typeof J<"u",'missing uniform "'+G+'"',S.commandStr),te===Su||te===bu){_.command(typeof J=="function"&&(te===Su&&(J._reglType==="texture2d"||J._reglType==="framebuffer")||te===bu&&(J._reglType==="textureCube"||J._reglType==="framebufferCube")),"invalid texture for uniform "+G,S.commandStr);var Qe=S.link(J._texture||J.color[0]._texture);m(D,".uniform1i(",Ue,",",Qe+".bind());"),m.exit(Qe,".unbind();")}else if(te===_u||te===wu||te===Eu){_.optional(function(){_.command(nn(J),"invalid matrix for uniform "+G,S.commandStr),_.command(te===_u&&J.length===4||te===wu&&J.length===9||te===Eu&&J.length===16,"invalid length for matrix uniform "+G,S.commandStr)});var Ye=S.global.def("new Float32Array(["+Array.prototype.slice.call(J)+"])"),lt=2;te===wu?lt=3:te===Eu&&(lt=4),m(D,".uniformMatrix",lt,"fv(",Ue,",false,",Ye,");")}else{switch(te){case Fh:ae===1?_.commandType(J,"number","uniform "+G,S.commandStr):_.command(nn(J)&&J.length===ae,"uniform "+G,S.commandStr),C="1f";break;case Xf:_.command(nn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+G,S.commandStr),C="2f";break;case Yf:_.command(nn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+G,S.commandStr),C="3f";break;case qf:_.command(nn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+G,S.commandStr),C="4f";break;case Bh:ae===1?_.commandType(J,"boolean","uniform "+G,S.commandStr):_.command(nn(J)&&J.length===ae,"uniform "+G,S.commandStr),C="1i";break;case $h:ae===1?_.commandType(J,"number","uniform "+G,S.commandStr):_.command(nn(J)&&J.length===ae,"uniform "+G,S.commandStr),C="1i";break;case Jf:_.command(nn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+G,S.commandStr),C="2i";break;case Qf:_.command(nn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+G,S.commandStr),C="2i";break;case e0:_.command(nn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+G,S.commandStr),C="3i";break;case Zf:_.command(nn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+G,S.commandStr),C="3i";break;case t0:_.command(nn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+G,S.commandStr),C="4i";break;case Kf:_.command(nn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+G,S.commandStr),C="4i";break}ae>1?(C+="v",J=S.global.def("["+Array.prototype.slice.call(J)+"]")):J=nn(J)?Array.prototype.slice.call(J):J,m(D,".uniform",C,"(",Ue,",",J,");")}continue}else se=Te.append(S,m)}else{if(!B(i3))continue;se=m.def(M.uniforms,"[",y.id(G),"]")}te===Su?(_(!Array.isArray(se),"must specify a scalar prop for textures"),m("if(",se,"&&",se,'._reglType==="framebuffer"){',se,"=",se,".color[0];","}")):te===bu&&(_(!Array.isArray(se),"must specify a scalar prop for cube maps"),m("if(",se,"&&",se,'._reglType==="framebufferCube"){',se,"=",se,".color[0];","}")),_.optional(function(){function Mr(_r,r0){S.assert(m,_r,'bad data or missing for uniform "'+G+'".  '+r0)}function No(_r,r0){r0===1&&_(!Array.isArray(se),"must not specify an array type for uniform"),Mr("Array.isArray("+se+") && typeof "+se+'[0]===" '+_r+'" || typeof '+se+'==="'+_r+'"',"invalid type, expected "+_r)}function Hr(_r,r0,i0){Array.isArray(se)?_(se.length&&se.length%_r===0&&se.length<=_r*i0,"must have length of "+(i0===1?"":"n * ")+_r):Mr(M.isArrayLike+"("+se+")&&"+se+".length && "+se+".length % "+_r+" === 0 && "+se+".length<="+_r*i0,"invalid vector, should have length of "+(i0===1?"":"n * ")+_r,S.commandStr)}function f3(_r){_(!Array.isArray(se),"must not specify a value type"),Mr("typeof "+se+'==="function"&&'+se+'._reglType==="texture'+(_r===qv?"2d":"Cube")+'"',"invalid texture type",S.commandStr)}switch(te){case $h:No("number",ae);break;case Qf:Hr(2,"number",ae);break;case Zf:Hr(3,"number",ae);break;case Kf:Hr(4,"number",ae);break;case Fh:No("number",ae);break;case Xf:Hr(2,"number",ae);break;case Yf:Hr(3,"number",ae);break;case qf:Hr(4,"number",ae);break;case Bh:No("boolean",ae);break;case Jf:Hr(2,"boolean",ae);break;case e0:Hr(3,"boolean",ae);break;case t0:Hr(4,"boolean",ae);break;case _u:Hr(4,"number",ae);break;case wu:Hr(9,"number",ae);break;case Eu:Hr(16,"number",ae);break;case Su:f3(qv);break;case bu:f3(Oy);break}});var Wt=1;switch(te){case Su:case bu:var Zn=m.def(se,"._texture");m(D,".uniform1i(",Ue,",",Zn,".bind());"),m.exit(Zn,".unbind();");continue;case $h:case Bh:C="1i";break;case Qf:case Jf:C="2i",Wt=2;break;case Zf:case e0:C="3i",Wt=3;break;case Kf:case t0:C="4i",Wt=4;break;case Fh:C="1f";break;case Xf:C="2f",Wt=2;break;case Yf:C="3f",Wt=3;break;case qf:C="4f",Wt=4;break;case _u:C="Matrix2fv";break;case wu:C="Matrix3fv";break;case Eu:C="Matrix4fv";break}if(C.indexOf("Matrix")===-1&&ae>1&&(C+="v",Wt=1),C.charAt(0)==="M"){m(D,".uniform",C,"(",Ue,",");var Oo=Math.pow(te-_u+2,2),Ki=S.global.def("new Float32Array(",Oo,")");Array.isArray(se)?m("false,(",Zt(Oo,function(Mr){return Ki+"["+Mr+"]="+se[Mr]}),",",Ki,")"):m("false,(Array.isArray(",se,")||",se," instanceof Float32Array)?",se,":(",Zt(Oo,function(Mr){return Ki+"["+Mr+"]="+se+"["+Mr+"]"}),",",Ki,")"),m(");")}else if(Wt>1){for(var Ri=[],Pa=[],Mo=0;Mo<Wt;++Mo)Array.isArray(se)?Pa.push(se[Mo]):Pa.push(m.def(se+"["+Mo+"]")),N&&Ri.push(m.def());N&&m("if(!",S.batchId,"||",Ri.map(function(Mr,No){return Mr+"!=="+Pa[No]}).join("||"),"){",Ri.map(function(Mr,No){return Mr+"="+Pa[No]+";"}).join("")),m(D,".uniform",C,"(",Ue,",",Pa.join(","),");"),N&&m("}")}else{if(_(!Array.isArray(se),"uniform value must not be an array"),N){var c3=m.def();m("if(!",S.batchId,"||",c3,"!==",se,"){",c3,"=",se,";")}m(D,".uniform",C,"(",Ue,",",se,");"),N&&m("}")}}}function at(S,m,k,F){var B=S.shared,N=B.gl,M=B.draw,D=F.draw;function b(){var Qe=D.elements,Ye,lt=m;return Qe?((Qe.contextDep&&F.contextDynamic||Qe.propDep)&&(lt=k),Ye=Qe.append(S,lt),D.elementsActive&&lt("if("+Ye+")"+N+".bindBuffer("+Dh+","+Ye+".buffer.buffer);")):(Ye=lt.def(),lt(Ye,"=",M,".",Co,";","if(",Ye,"){",N,".bindBuffer(",Dh,",",Ye,".buffer.buffer);}","else if(",B.vao,".currentVAO){",Ye,"=",S.shared.elements+".getElements("+B.vao,".currentVAO.elements);",ce?"":"if("+Ye+")"+N+".bindBuffer("+Dh+","+Ye+".buffer.buffer);","}")),Ye}function C(){var Qe=D.count,Ye,lt=m;return Qe?((Qe.contextDep&&F.contextDynamic||Qe.propDep)&&(lt=k),Ye=Qe.append(S,lt),_.optional(function(){Qe.MISSING&&S.assert(m,"false","missing vertex count"),Qe.DYNAMIC&&S.assert(lt,Ye+">=0","missing vertex count")})):(Ye=lt.def(M,".",Ro),_.optional(function(){S.assert(lt,Ye+">=0","missing vertex count")})),Ye}var T=b();function V(Qe){var Ye=D[Qe];return Ye?Ye.contextDep&&F.contextDynamic||Ye.propDep?Ye.append(S,k):Ye.append(S,m):m.def(M,".",Qe)}var G=V(Lo),te=V(Hf),ae=C();if(typeof ae=="number"){if(ae===0)return}else k("if(",ae,"){"),k.exit("}");var Te,st;ge&&(Te=V(Wf),st=S.instancing);var nt=T+".type",Ue=D.elements&&Ra(D.elements)&&!D.vaoActive;function se(){function Qe(){k(st,".drawElementsInstancedANGLE(",[G,ae,nt,te+"<<(("+nt+"-"+Lv+")>>1)",Te],");")}function Ye(){k(st,".drawArraysInstancedANGLE(",[G,te,ae,Te],");")}T&&T!=="null"?Ue?Qe():(k("if(",T,"){"),Qe(),k("}else{"),Ye(),k("}")):Ye()}function J(){function Qe(){k(N+".drawElements("+[G,ae,nt,te+"<<(("+nt+"-"+Lv+")>>1)"]+");")}function Ye(){k(N+".drawArrays("+[G,te,ae]+");")}T&&T!=="null"?Ue?Qe():(k("if(",T,"){"),Qe(),k("}else{"),Ye(),k("}")):Ye()}ge&&(typeof Te!="number"||Te>=0)?typeof Te=="string"?(k("if(",Te,">0){"),se(),k("}else if(",Te,"<0){"),J(),k("}")):se():J()}function Rt(S,m,k,F,B){var N=ut(),M=N.proc("body",B);return _.optional(function(){N.commandStr=m.commandStr,N.command=N.link(m.commandStr)}),ge&&(N.instancing=M.def(N.shared.extensions,".angle_instanced_arrays")),S(N,M,k,F),N.compile().body}function Dt(S,m,k,F){vn(S,m),k.useVAO?k.drawVAO?m(S.shared.vao,".setVAO(",k.drawVAO.append(S,m),");"):m(S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"):(m(S.shared.vao,".setVAO(null);"),Qn(S,m,k,F.attributes,function(){return!0})),Vt(S,m,k,F.uniforms,function(){return!0},!1),at(S,m,m,k)}function gn(S,m){var k=S.proc("draw",1);vn(S,k),Nn(S,k,m.context),In(S,k,m.framebuffer),Vn(S,k,m),qn(S,k,m.state),xt(S,k,m,!1,!0);var F=m.shader.progVar.append(S,k);if(k(S.shared.gl,".useProgram(",F,".program);"),m.shader.program)Dt(S,k,m,m.shader.program);else{k(S.shared.vao,".setVAO(null);");var B=S.global.def("{}"),N=k.def(F,".id"),M=k.def(B,"[",N,"]");k(S.cond(M).then(M,".call(this,a0);").else(M,"=",B,"[",N,"]=",S.link(function(D){return Rt(Dt,S,m,D,1)}),"(",F,");",M,".call(this,a0);"))}Object.keys(m.state).length>0&&k(S.shared.current,".dirty=true;"),S.shared.vao&&k(S.shared.vao,".setVAO(null);")}function Li(S,m,k,F){S.batchId="a1",vn(S,m);function B(){return!0}Qn(S,m,k,F.attributes,B),Vt(S,m,k,F.uniforms,B,!1),at(S,m,m,k)}function ko(S,m,k,F){vn(S,m);var B=k.contextDep,N=m.def(),M="a0",D="a1",b=m.def();S.shared.props=b,S.batchId=N;var C=S.scope(),T=S.scope();m(C.entry,"for(",N,"=0;",N,"<",D,";++",N,"){",b,"=",M,"[",N,"];",T,"}",C.exit);function V(nt){return nt.contextDep&&B||nt.propDep}function G(nt){return!V(nt)}if(k.needsContext&&Nn(S,T,k.context),k.needsFramebuffer&&In(S,T,k.framebuffer),qn(S,T,k.state,V),k.profile&&V(k.profile)&&xt(S,T,k,!1,!0),F)k.useVAO?k.drawVAO?V(k.drawVAO)?T(S.shared.vao,".setVAO(",k.drawVAO.append(S,T),");"):C(S.shared.vao,".setVAO(",k.drawVAO.append(S,C),");"):C(S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"):(C(S.shared.vao,".setVAO(null);"),Qn(S,C,k,F.attributes,G),Qn(S,T,k,F.attributes,V)),Vt(S,C,k,F.uniforms,G,!1),Vt(S,T,k,F.uniforms,V,!0),at(S,C,T,k);else{var te=S.global.def("{}"),ae=k.shader.progVar.append(S,T),Te=T.def(ae,".id"),st=T.def(te,"[",Te,"]");T(S.shared.gl,".useProgram(",ae,".program);","if(!",st,"){",st,"=",te,"[",Te,"]=",S.link(function(nt){return Rt(Li,S,k,nt,2)}),"(",ae,");}",st,".call(this,a0[",N,"],",N,");")}}function A(S,m){var k=S.proc("batch",2);S.batchId="0",vn(S,k);var F=!1,B=!0;Object.keys(m.context).forEach(function(te){F=F||m.context[te].propDep}),F||(Nn(S,k,m.context),B=!1);var N=m.framebuffer,M=!1;N?(N.propDep?F=M=!0:N.contextDep&&F&&(M=!0),M||In(S,k,N)):In(S,k,null),m.state.viewport&&m.state.viewport.propDep&&(F=!0);function D(te){return te.contextDep&&F||te.propDep}Vn(S,k,m),qn(S,k,m.state,function(te){return!D(te)}),(!m.profile||!D(m.profile))&&xt(S,k,m,!1,"a1"),m.contextDep=F,m.needsContext=B,m.needsFramebuffer=M;var b=m.shader.progVar;if(b.contextDep&&F||b.propDep)ko(S,k,m,null);else{var C=b.append(S,k);if(k(S.shared.gl,".useProgram(",C,".program);"),m.shader.program)ko(S,k,m,m.shader.program);else{k(S.shared.vao,".setVAO(null);");var T=S.global.def("{}"),V=k.def(C,".id"),G=k.def(T,"[",V,"]");k(S.cond(G).then(G,".call(this,a0,a1);").else(G,"=",T,"[",V,"]=",S.link(function(te){return Rt(ko,S,m,te,2)}),"(",C,");",G,".call(this,a0,a1);"))}}Object.keys(m.state).length>0&&k(S.shared.current,".dirty=true;"),S.shared.vao&&k(S.shared.vao,".setVAO(null);")}function q(S,m){var k=S.proc("scope",3);S.batchId="a2";var F=S.shared,B=F.current;Nn(S,k,m.context),m.framebuffer&&m.framebuffer.append(S,k),r3(Object.keys(m.state)).forEach(function(M){var D=m.state[M],b=D.append(S,k);nn(b)?b.forEach(function(C,T){k.set(S.next[M],"["+T+"]",C)}):k.set(F.next,"."+M,b)}),xt(S,k,m,!0,!0),[Co,Hf,Ro,Wf,Lo].forEach(function(M){var D=m.draw[M];D&&k.set(F.draw,"."+M,""+D.append(S,k))}),Object.keys(m.uniforms).forEach(function(M){var D=m.uniforms[M].append(S,k);Array.isArray(D)&&(D="["+D.join()+"]"),k.set(F.uniforms,"["+y.id(M)+"]",D)}),Object.keys(m.attributes).forEach(function(M){var D=m.attributes[M].append(S,k),b=S.scopeAttrib(M);Object.keys(new $).forEach(function(C){k.set(b,"."+C,D[C])})}),m.scopeVAO&&k.set(F.vao,".targetVAO",m.scopeVAO.append(S,k));function N(M){var D=m.shader[M];D&&k.set(F.shader,"."+M,D.append(S,k))}N(gu),N(yu),Object.keys(m.state).length>0&&(k(B,".dirty=true;"),k.exit(B,".dirty=true;")),k("a1(",S.shared.context,",a0,",S.batchId,");")}function H(S){if(!(typeof S!="object"||nn(S))){for(var m=Object.keys(S),k=0;k<m.length;++k)if(Nt.isDynamic(S[m[k]]))return!0;return!1}}function He(S,m,k){var F=m.static[k];if(!F||!H(F))return;var B=S.global,N=Object.keys(F),M=!1,D=!1,b=!1,C=S.global.def("{}");N.forEach(function(V){var G=F[V];if(Nt.isDynamic(G)){typeof G=="function"&&(G=F[V]=Nt.unbox(G));var te=xr(G,null);M=M||te.thisDep,b=b||te.propDep,D=D||te.contextDep}else{switch(B(C,".",V,"="),typeof G){case"number":B(G);break;case"string":B('"',G,'"');break;case"object":Array.isArray(G)&&B("[",G.join(),"]");break;default:B(S.link(G));break}B(";")}});function T(V,G){N.forEach(function(te){var ae=F[te];if(Nt.isDynamic(ae)){var Te=V.invoke(G,ae);G(C,".",te,"=",Te,";")}})}m.dynamic[k]=new Nt.DynamicVariable(Uf,{thisDep:M,contextDep:D,propDep:b,ref:C,append:T}),delete m.static[k]}function Tt(S,m,k,F,B){var N=ut();N.stats=N.link(B),Object.keys(m.static).forEach(function(D){He(N,m,D)}),Ry.forEach(function(D){He(N,S,D)});var M=Rn(S,m,k,F,N);return gn(N,M),q(N,M),A(N,M),r(N.compile(),{destroy:function(){M.shader.program.destroy()}})}return{next:Me,current:Fe,procs:function(){var S=ut(),m=S.proc("poll"),k=S.proc("refresh"),F=S.block();m(F),k(F);var B=S.shared,N=B.gl,M=B.next,D=B.current;F(D,".dirty=false;"),In(S,m),In(S,k,null,!0);var b;ge&&(b=S.link(ge)),R.oes_vertex_array_object&&k(S.link(R.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var C=0;C<Y.maxAttributes;++C){var T=k.def(B.attributes,"[",C,"]"),V=S.cond(T,".buffer");V.then(N,".enableVertexAttribArray(",C,");",N,".bindBuffer(",jl,",",T,".buffer.buffer);",N,".vertexAttribPointer(",C,",",T,".size,",T,".type,",T,".normalized,",T,".stride,",T,".offset);").else(N,".disableVertexAttribArray(",C,");",N,".vertexAttrib4f(",C,",",T,".x,",T,".y,",T,".z,",T,".w);",T,".buffer=null;"),k(V),ge&&k(b,".vertexAttribDivisorANGLE(",C,",",T,".divisor);")}return k(S.shared.vao,".currentVAO=null;",S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"),Object.keys(ie).forEach(function(G){var te=ie[G],ae=F.def(M,".",G),Te=S.block();Te("if(",ae,"){",N,".enable(",te,")}else{",N,".disable(",te,")}",D,".",G,"=",ae,";"),k(Te),m("if(",ae,"!==",D,".",G,"){",Te,"}")}),Object.keys(ne).forEach(function(G){var te=ne[G],ae=Fe[G],Te,st,nt=S.block();if(nt(N,".",te,"("),nn(ae)){var Ue=ae.length;Te=S.global.def(M,".",G),st=S.global.def(D,".",G),nt(Zt(Ue,function(se){return Te+"["+se+"]"}),");",Zt(Ue,function(se){return st+"["+se+"]="+Te+"["+se+"];"}).join("")),m("if(",Zt(Ue,function(se){return Te+"["+se+"]!=="+st+"["+se+"]"}).join("||"),"){",nt,"}")}else Te=F.def(M,".",G),st=F.def(D,".",G),nt(Te,");",D,".",G,"=",Te,";"),m("if(",Te,"!==",st,"){",nt,"}");k(nt)}),S.compile()}(),compile:Tt}}function Yy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var qy=34918,Qy=34919,a3=35007,Zy=function(h,y){if(!y.ext_disjoint_timer_query)return null;var R=[];function Y(){return R.pop()||y.ext_disjoint_timer_query.createQueryEXT()}function re(ge){R.push(ge)}var X=[];function K(ge){var Be=Y();y.ext_disjoint_timer_query.beginQueryEXT(a3,Be),X.push(Be),pe(X.length-1,X.length,ge)}function he(){y.ext_disjoint_timer_query.endQueryEXT(a3)}function de(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var _e=[];function Ee(){return _e.pop()||new de}function we(ge){_e.push(ge)}var Ce=[];function pe(ge,Be,ce){var Fe=Ee();Fe.startQueryIndex=ge,Fe.endQueryIndex=Be,Fe.sum=0,Fe.stats=ce,Ce.push(Fe)}var ye=[],$=[];function Z(){var ge,Be,ce=X.length;if(ce!==0){$.length=Math.max($.length,ce+1),ye.length=Math.max(ye.length,ce+1),ye[0]=0,$[0]=0;var Fe=0;for(ge=0,Be=0;Be<X.length;++Be){var Me=X[Be];y.ext_disjoint_timer_query.getQueryObjectEXT(Me,Qy)?(Fe+=y.ext_disjoint_timer_query.getQueryObjectEXT(Me,qy),re(Me)):X[ge++]=Me,ye[Be+1]=Fe,$[Be+1]=ge}for(X.length=ge,ge=0,Be=0;Be<Ce.length;++Be){var rt=Ce[Be],ie=rt.startQueryIndex,ne=rt.endQueryIndex;rt.sum+=ye[ne]-ye[ie];var We=$[ie],Re=$[ne];Re===We?(rt.stats.gpuTime+=rt.sum/1e6,we(rt)):(rt.startQueryIndex=We,rt.endQueryIndex=Re,Ce[ge++]=rt)}Ce.length=ge}}return{beginQuery:K,endQuery:he,pushScopeStats:pe,update:Z,getNumPendingQueries:function(){return X.length},clear:function(){R.push.apply(R,X);for(var ge=0;ge<R.length;ge++)y.ext_disjoint_timer_query.deleteQueryEXT(R[ge]);X.length=0,R.length=0},restore:function(){X.length=0,R.length=0}}},Ky=16384,Jy=256,e9=1024,t9=34962,o3="webglcontextlost",l3="webglcontextrestored",s3=1,n9=2,r9=3;function u3(h,y){for(var R=0;R<h.length;++R)if(h[R]===y)return R;return-1}function i9(h){var y=hn(h);if(!y)return null;var R=y.gl,Y=R.getContextAttributes(),re=R.isContextLost(),X=Tn(R,y);if(!X)return null;var K=rr(),he=Yy(),de=X.extensions,_e=Zy(R,de),Ee=bn(),we=R.drawingBufferWidth,Ce=R.drawingBufferHeight,pe={tick:0,time:0,viewportWidth:we,viewportHeight:Ce,framebufferWidth:we,framebufferHeight:Ce,drawingBufferWidth:we,drawingBufferHeight:Ce,pixelRatio:y.pixelRatio},ye={},$={elements:null,primitive:4,count:-1,offset:0,instances:-1},Z=zc(R,de),ge=Us(R,he,y,Fe),Be=Ys(R,de,ge,he),ce=Le(R,de,Z,he,ge,Be,$);function Fe(at){return ce.destroyBuffer(at)}var Me=jt(R,K,he,y),rt=nh(R,de,Z,function(){We.procs.poll()},pe,he,y),ie=rh(R,de,Z,he,y),ne=yh(R,de,Z,rt,ie,he),We=Xy(R,K,de,Z,ge,Be,rt,ne,ye,ce,Me,$,pe,_e,y),Re=Ty(R,ne,We.procs.poll,pe,Y,de,Z),ve=We.next,Pe=R.canvas,Oe=[],ht=[],ut=[],Ne=[y.onDestroy],$e=null;function ot(){if(Oe.length===0){_e&&_e.update(),$e=null;return}$e=mn.next(ot),qn();for(var at=Oe.length-1;at>=0;--at){var Rt=Oe[at];Rt&&Rt(pe,null,0)}R.flush(),_e&&_e.update()}function pt(){!$e&&Oe.length>0&&($e=mn.next(ot))}function Lt(){$e&&(mn.cancel(ot),$e=null)}function ln(at){at.preventDefault(),re=!0,Lt(),ht.forEach(function(Rt){Rt()})}function cn(at){R.getError(),re=!1,X.restore(),Me.restore(),ge.restore(),rt.restore(),ie.restore(),ne.restore(),ce.restore(),_e&&_e.restore(),We.procs.refresh(),pt(),ut.forEach(function(Rt){Rt()})}Pe&&(Pe.addEventListener(o3,ln,!1),Pe.addEventListener(l3,cn,!1));function Pt(){Oe.length=0,Lt(),Pe&&(Pe.removeEventListener(o3,ln),Pe.removeEventListener(l3,cn)),Me.clear(),ne.clear(),ie.clear(),ce.clear(),rt.clear(),Be.clear(),ge.clear(),_e&&_e.clear(),Ne.forEach(function(at){at()})}function Mn(at){_(!!at,"invalid args to regl({...})"),_.type(at,"object","invalid args to regl({...})");function Rt(B){var N=r({},B);delete N.uniforms,delete N.attributes,delete N.context,delete N.vao,"stencil"in N&&N.stencil.op&&(N.stencil.opBack=N.stencil.opFront=N.stencil.op,delete N.stencil.op);function M(D){if(D in N){var b=N[D];delete N[D],Object.keys(b).forEach(function(C){N[D+"."+C]=b[C]})}}return M("blend"),M("depth"),M("cull"),M("stencil"),M("polygonOffset"),M("scissor"),M("sample"),"vao"in B&&(N.vao=B.vao),N}function Dt(B,N){var M={},D={};return Object.keys(B).forEach(function(b){var C=B[b];if(Nt.isDynamic(C)){D[b]=Nt.unbox(C,b);return}else if(N&&Array.isArray(C)){for(var T=0;T<C.length;++T)if(Nt.isDynamic(C[T])){D[b]=Nt.unbox(C,b);return}}M[b]=C}),{dynamic:D,static:M}}var gn=Dt(at.context||{},!0),Li=Dt(at.uniforms||{},!0),ko=Dt(at.attributes||{},!1),A=Dt(Rt(at),!1),q={gpuTime:0,cpuTime:0,count:0},H=We.compile(A,ko,Li,gn,q),He=H.draw,Tt=H.batch,S=H.scope,m=[];function k(B){for(;m.length<B;)m.push(null);return m}function F(B,N){var M;if(re&&_.raise("context lost"),typeof B=="function")return S.call(this,null,B,0);if(typeof N=="function")if(typeof B=="number")for(M=0;M<B;++M)S.call(this,null,N,M);else if(Array.isArray(B))for(M=0;M<B.length;++M)S.call(this,B[M],N,M);else return S.call(this,B,N,0);else if(typeof B=="number"){if(B>0)return Tt.call(this,k(B|0),B|0)}else if(Array.isArray(B)){if(B.length)return Tt.call(this,B,B.length)}else return He.call(this,B)}return r(F,{stats:q,destroy:function(){H.destroy()}})}var rn=ne.setFBO=Mn({framebuffer:Nt.define.call(null,s3,"framebuffer")});function Rn(at,Rt){var Dt=0;We.procs.poll();var gn=Rt.color;gn&&(R.clearColor(+gn[0]||0,+gn[1]||0,+gn[2]||0,+gn[3]||0),Dt|=Ky),"depth"in Rt&&(R.clearDepth(+Rt.depth),Dt|=Jy),"stencil"in Rt&&(R.clearStencil(Rt.stencil|0),Dt|=e9),_(!!Dt,"called regl.clear with no buffer specified"),R.clear(Dt)}function Nn(at){if(_(typeof at=="object"&&at,"regl.clear() takes an object as input"),"framebuffer"in at)if(at.framebuffer&&at.framebuffer_reglType==="framebufferCube")for(var Rt=0;Rt<6;++Rt)rn(r({framebuffer:at.framebuffer.faces[Rt]},at),Rn);else rn(at,Rn);else Rn(null,at)}function In(at){_.type(at,"function","regl.frame() callback must be a function"),Oe.push(at);function Rt(){var Dt=u3(Oe,at);_(Dt>=0,"cannot cancel a frame twice");function gn(){var Li=u3(Oe,gn);Oe[Li]=Oe[Oe.length-1],Oe.length-=1,Oe.length<=0&&Lt()}Oe[Dt]=gn}return pt(),{cancel:Rt}}function Vn(){var at=ve.viewport,Rt=ve.scissor_box;at[0]=at[1]=Rt[0]=Rt[1]=0,pe.viewportWidth=pe.framebufferWidth=pe.drawingBufferWidth=at[2]=Rt[2]=R.drawingBufferWidth,pe.viewportHeight=pe.framebufferHeight=pe.drawingBufferHeight=at[3]=Rt[3]=R.drawingBufferHeight}function qn(){pe.tick+=1,pe.time=xt(),Vn(),We.procs.poll()}function vn(){rt.refresh(),Vn(),We.procs.refresh(),_e&&_e.update()}function xt(){return(bn()-Ee)/1e3}vn();function Qn(at,Rt){_.type(Rt,"function","listener callback must be a function");var Dt;switch(at){case"frame":return In(Rt);case"lost":Dt=ht;break;case"restore":Dt=ut;break;case"destroy":Dt=Ne;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return Dt.push(Rt),{cancel:function(){for(var gn=0;gn<Dt.length;++gn)if(Dt[gn]===Rt){Dt[gn]=Dt[Dt.length-1],Dt.pop();return}}}}var Vt=r(Mn,{clear:Nn,prop:Nt.define.bind(null,s3),context:Nt.define.bind(null,n9),this:Nt.define.bind(null,r9),draw:Mn({}),buffer:function(at){return ge.create(at,t9,!1,!1)},elements:function(at){return Be.create(at,!1)},texture:rt.create2D,cube:rt.createCube,renderbuffer:ie.create,framebuffer:ne.create,framebufferCube:ne.createCube,vao:ce.createVAO,attributes:Y,frame:In,on:Qn,limits:Z,hasExtension:function(at){return Z.extensions.indexOf(at.toLowerCase())>=0},read:Re,destroy:Pt,_gl:R,_refresh:vn,poll:function(){qn(),_e&&_e.update()},now:xt,stats:he});return y.onDone(null,Vt),Vt}return i9})})(g8);var j_=g8.exports;const z_=Vd(j_);var G_=1e-6,Ko=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function vp(){var e=new Ko(16);return Ko!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function P6(e){var t=new Ko(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Dm(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],d=t[8],p=t[9],c=t[10],v=t[11],x=t[12],L=t[13],O=t[14],g=t[15],E=n*l-r*o,w=n*s-i*o,P=n*u-a*o,z=r*s-i*l,Q=r*u-a*l,ue=i*u-a*s,ee=d*L-p*x,Ke=d*O-c*x,Se=d*g-v*x,je=p*O-c*L,Xe=p*g-v*L,tt=c*g-v*O,Je=E*tt-w*Xe+P*je+z*Se-Q*Ke+ue*ee;return Je?(Je=1/Je,e[0]=(l*tt-s*Xe+u*je)*Je,e[1]=(i*Xe-r*tt-a*je)*Je,e[2]=(L*ue-O*Q+g*z)*Je,e[3]=(c*Q-p*ue-v*z)*Je,e[4]=(s*Se-o*tt-u*Ke)*Je,e[5]=(n*tt-i*Se+a*Ke)*Je,e[6]=(O*P-x*ue-g*w)*Je,e[7]=(d*ue-c*P+v*w)*Je,e[8]=(o*Xe-l*Se+u*ee)*Je,e[9]=(r*Se-n*Xe-a*ee)*Je,e[10]=(x*Q-L*P+g*E)*Je,e[11]=(p*P-d*Q-v*E)*Je,e[12]=(l*Ke-o*je-s*ee)*Je,e[13]=(n*je-r*Ke+i*ee)*Je,e[14]=(L*w-x*z-O*E)*Je,e[15]=(d*z-p*w+c*E)*Je,e):null}function dr(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],d=t[7],p=t[8],c=t[9],v=t[10],x=t[11],L=t[12],O=t[13],g=t[14],E=t[15],w=n[0],P=n[1],z=n[2],Q=n[3];return e[0]=w*r+P*l+z*p+Q*L,e[1]=w*i+P*s+z*c+Q*O,e[2]=w*a+P*u+z*v+Q*g,e[3]=w*o+P*d+z*x+Q*E,w=n[4],P=n[5],z=n[6],Q=n[7],e[4]=w*r+P*l+z*p+Q*L,e[5]=w*i+P*s+z*c+Q*O,e[6]=w*a+P*u+z*v+Q*g,e[7]=w*o+P*d+z*x+Q*E,w=n[8],P=n[9],z=n[10],Q=n[11],e[8]=w*r+P*l+z*p+Q*L,e[9]=w*i+P*s+z*c+Q*O,e[10]=w*a+P*u+z*v+Q*g,e[11]=w*o+P*d+z*x+Q*E,w=n[12],P=n[13],z=n[14],Q=n[15],e[12]=w*r+P*l+z*p+Q*L,e[13]=w*i+P*s+z*c+Q*O,e[14]=w*a+P*u+z*v+Q*g,e[15]=w*o+P*d+z*x+Q*E,e}function k6(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function X0(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U_(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),l,s,u;return o<G_?null:(o=1/o,r*=o,i*=o,a*=o,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+a*l,e[2]=a*r*u-i*l,e[3]=0,e[4]=r*i*u-a*l,e[5]=i*i*u+s,e[6]=a*i*u+r*l,e[7]=0,e[8]=r*a*u+i*l,e[9]=i*a*u-r*l,e[10]=a*a*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function V_(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function H_(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],l=t[6],s=t[8],u=t[9],d=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,l),e[2]=Math.hypot(s,u,d),e}function W_(){var e=new Ko(4);return Ko!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Y0(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=W_();return function(t,n,r,i,a,o){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],a(e,e,o),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function X_(){var e=new Ko(2);return Ko!=Float32Array&&(e[0]=0,e[1]=0),e}function Y_(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),l=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=X_();return function(t,n,r,i,a,o){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],a(e,e,o),t[l]=e[0],t[l+1]=e[1];return t}})();const q_=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],a=[[-1/0,1/0],[-1/0,1/0]])=>{const o=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=vp(),d=[...r.slice(0,2),0,1];const p=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],v=Array.isArray(a[0])?[...a[0]]:[...a],x=Array.isArray(a[0])?[...a[1]]:[...a],L=()=>H_(o,u).slice(0,2),O=()=>{const Ae=L();return Math.min(Ae[0],Ae[1])},g=()=>{const Ae=L();return Math.max(Ae[0],Ae[1])},E=()=>Math.acos(u[0]/g()),w=()=>[[...p],[...c]],P=()=>[[...v],[...x]],z=()=>{const Ae=L();return[1/Ae[0],1/Ae[1]]},Q=()=>1/O(),ue=()=>1/g(),ee=()=>V_(o,u).slice(0,2),Ke=()=>Y0(o,d,Dm(s,u)).slice(0,2),Se=()=>u,je=()=>d.slice(0,2),Xe=([Ae=0,et=0]=[],_t=1,At=0)=>{u=vp(),tt([-Ae,-et]),Gt(At),Je(1/_t)},tt=([Ae=0,et=0]=[])=>{o[0]=Ae,o[1]=et,o[2]=0;const _t=k6(l,o);dr(u,_t,u)},Je=(Ae,et)=>{const _t=Array.isArray(Ae);let At=_t?Ae[0]:Ae,Yt=_t?Ae[1]:Ae;if(At<=0||Yt<=0||At===1&&Yt===1)return;const It=L(),kt=It[0]*At,Ot=It[1]*Yt;if(At=Math.max(p[0],Math.min(kt,p[1]))/It[0],Yt=Math.max(c[0],Math.min(Ot,c[1]))/It[1],At===1&&Yt===1)return;o[0]=At,o[1]=Yt,o[2]=1;const en=X0(l,o),an=et?[...et,0]:d,Sn=k6(o,an);dr(u,Sn,dr(u,en,dr(u,Dm(s,Sn),u)))},Gt=Ae=>{const et=vp();U_(et,Ae,[0,0,1]),dr(u,et,u)},mt=Ae=>{const et=Array.isArray(Ae[0]);p[0]=et?Ae[0][0]:Ae[0],p[1]=et?Ae[0][1]:Ae[1],c[0]=et?Ae[1][0]:Ae[0],c[1]=et?Ae[1][1]:Ae[1]},vt=Ae=>{const et=Array.isArray(Ae[0]);v[0]=et?Ae[0][0]:Ae[0],v[1]=et?Ae[0][1]:Ae[1],x[0]=et?Ae[1][0]:Ae[0],x[1]=et?Ae[1][1]:Ae[1]},be=Ae=>{!Ae||Ae.length<16||(u=Ae)},De=Ae=>{d=[...Ae.slice(0,2),0,1]},xe=()=>{Xe(e,t,n)};return Xe(e,t,n),{get translation(){return ee()},get target(){return Ke()},get scaling(){return L()},get minScaling(){return O()},get maxScaling(){return g()},get scaleBounds(){return w()},get translationBounds(){return P()},get distance(){return z()},get minDistance(){return Q()},get maxDistance(){return ue()},get rotation(){return E()},get view(){return Se()},get viewCenter(){return je()},lookAt:Xe,translate:tt,pan:tt,rotate:Gt,scale:Je,zoom:Je,reset:xe,set:(...Ae)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),be(...Ae)),setScaleBounds:mt,setTranslationBounds:vt,setView:be,setViewCenter:De}},Q_=["pan","rotate"],O6={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Z_=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:o=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:d=1,defaultMouseDownMoveAction:p="pan",mouseDownMoveModKey:c="alt",isZoom:v=!0,zoomSpeed:x=1,viewCenter:L,scaleBounds:O,translationBounds:g,onKeyDown:E=()=>{},onKeyUp:w=()=>{},onMouseDown:P=()=>{},onMouseUp:z=()=>{},onMouseMove:Q=()=>{},onWheel:ue=()=>{}}={})=>{let ee=q_(n,t,r,L,O,g),Ke=0,Se=0,je=0,Xe=0,tt=0,Je=0,Gt=!1,mt=0,vt=1,be=1,De=1,xe=!1,Ae=!1,et=!1,_t=p==="pan",At=o,Yt=o,It=l,kt=l,Ot=v,en=v;const an=()=>{At=Array.isArray(o)?!!o[0]:o,Yt=Array.isArray(o)?!!o[1]:o,It=Array.isArray(l)?!!l[0]:l,kt=Array.isArray(l)?!!l[1]:l,Ot=Array.isArray(v)?!!v[0]:v,en=Array.isArray(v)?!!v[1]:v};an();const Sn=i?ke=>ke/vt*2*De:ke=>ke,Ft=i?ke=>ke/be*2:ke=>-ke,qt=i?ke=>(-1+ke/vt*2)*De:ke=>ke,ct=i?ke=>1-ke/be*2:ke=>ke,wt=()=>{if(a){const Ve=Ae;return Ae=!1,Ve}xe=!1;const ke=Ke,Ct=Se;if((At||Yt)&&Gt&&(_t&&!et||!_t&&et)){const Ve=It?tt-ke:ke-tt,tn=At?Sn(s*Ve):0,un=kt?Je-Ct:Ct-Je,Nt=Yt?Ft(s*un):0;(tn!==0||Nt!==0)&&(ee.pan([tn,Nt]),xe=!0)}if((Ot||en)&&mt){const Ve=x*Math.exp(mt/be),tn=qt(je),un=ct(Xe);ee.scale([Ot?1/Ve:1,en?1/Ve:1],[tn,un]),xe=!0}if(u&&Gt&&(_t&&et||!_t&&!et)&&Math.abs(tt-ke)+Math.abs(Je-Ct)>0){const Ve=vt/2,tn=be/2,un=tt-Ve,Nt=tn-Je,mn=ke-Ve,bn=tn-Ct,rr=Y_([un,Nt],[mn,bn]),Yn=un*bn-mn*Nt;ee.rotate(d*rr*Math.sign(Yn)),xe=!0}mt=0,tt=ke,Je=Ct;const Bt=xe||Ae;return Ae=!1,Bt},Mt=({defaultMouseDownMoveAction:ke=null,isFixed:Ct=null,isPan:Bt=null,isPanInverted:Ve=null,isRotate:tn=null,isZoom:un=null,panSpeed:Nt=null,rotateSpeed:mn=null,zoomSpeed:bn=null,mouseDownMoveModKey:rr=null}={})=>{p=ke!==null&&Q_.includes(ke)?ke:p,_t=p==="pan",a=Ct!==null?Ct:a,o=Bt!==null?Bt:o,l=Ve!==null?Ve:l,u=tn!==null?tn:u,v=un!==null?un:v,s=+Nt>0?Nt:s,d=+mn>0?mn:d,x=+bn>0?bn:x,an(),c=rr!==null&&Object.keys(O6).includes(rr)?rr:c},St=()=>{const ke=e.getBoundingClientRect();vt=ke.width,be=ke.height,De=vt/be},ft=ke=>{et=!1,w(ke)},$t=ke=>{et=ke[O6[c]],E(ke)},on=ke=>{Gt=!1,z(ke)},Kt=ke=>{Gt=ke.buttons===1,P(ke)},_=document.createEvent("MouseEvent").offsetX!==void 0?ke=>{je=ke.offsetX,Xe=ke.offsetY}:ke=>{const Ct=e.getBoundingClientRect();je=ke.clientX-Ct.left,Xe=ke.clientY-Ct.top},me=ke=>{Ke=ke.clientX,Se=ke.clientY},ze=ke=>{me(ke),Q(ke)},fe=ke=>{if(Ot||en){ke.preventDefault(),me(ke),_(ke);const Ct=ke.deltaMode===1?12:1;mt+=Ct*(ke.deltaY||ke.deltaX||0)}ue(ke)},yt=()=>{ee=void 0,window.removeEventListener("keydown",$t),window.removeEventListener("keyup",ft),e.removeEventListener("mousedown",Kt),window.removeEventListener("mouseup",on),window.removeEventListener("mousemove",ze),e.removeEventListener("wheel",fe)};window.addEventListener("keydown",$t,{passive:!0}),window.addEventListener("keyup",ft,{passive:!0}),e.addEventListener("mousedown",Kt,{passive:!0}),window.addEventListener("mouseup",on,{passive:!0}),window.addEventListener("mousemove",ze,{passive:!0}),e.addEventListener("wheel",fe,{passive:!1}),ee.config=Mt,ee.dispose=yt,ee.refresh=St,ee.tick=wt;const dt=ke=>function(){ke.apply(null,arguments),Ae=!0};return ee.lookAt=dt(ee.lookAt),ee.translate=dt(ee.translate),ee.pan=dt(ee.pan),ee.rotate=dt(ee.rotate),ee.scale=dt(ee.scale),ee.zoom=dt(ee.zoom),ee.reset=dt(ee.reset),ee.set=dt(ee.set),ee.setScaleBounds=dt(ee.setScaleBounds),ee.setTranslationBounds=dt(ee.setTranslationBounds),ee.setView=dt(ee.setView),ee.setViewCenter=dt(ee.setViewCenter),St(),ee};function Fm(e,t,n,r,i,a){if(i-r<=n)return;const o=r+i>>1;y8(e,t,o,r,i,a%2),Fm(e,t,n,r,o-1,a+1),Fm(e,t,n,o+1,i,a+1)}function y8(e,t,n,r,i,a){for(;i>r;){if(i-r>600){const u=i-r+1,d=n-r+1,p=Math.log(u),c=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*c*(u-c)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(n-d*c/u+v)),L=Math.min(i,Math.floor(n+(u-d)*c/u+v));y8(e,t,n,x,L,a)}const o=t[2*n+a];let l=r,s=i;for(Nu(e,t,r,n),t[2*i+a]>o&&Nu(e,t,r,i);l<s;){for(Nu(e,t,l,s),l++,s--;t[2*l+a]<o;)l++;for(;t[2*s+a]>o;)s--}t[2*r+a]===o?Nu(e,t,r,s):(s++,Nu(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function Nu(e,t,n,r){gp(e,n,r),gp(t,2*n,2*r),gp(t,2*n+1,2*r+1)}function gp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K_(e,t,n,r,i,a,o){const l=[0,e.length-1,0],s=[];let u,d;for(;l.length;){const p=l.pop(),c=l.pop(),v=l.pop();if(c-v<=o){for(let O=v;O<=c;O++)u=t[2*O],d=t[2*O+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[O]);continue}const x=Math.floor((v+c)/2);u=t[2*x],d=t[2*x+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[x]);const L=(p+1)%2;(p===0?n<=u:r<=d)&&(l.push(v),l.push(x-1),l.push(L)),(p===0?i>=u:a>=d)&&(l.push(x+1),l.push(c),l.push(L))}return s}function J_(e,t,n,r,i,a){const o=[0,e.length-1,0],l=[],s=i*i;for(;o.length;){const u=o.pop(),d=o.pop(),p=o.pop();if(d-p<=a){for(let O=p;O<=d;O++)M6(t[2*O],t[2*O+1],n,r)<=s&&l.push(e[O]);continue}const c=Math.floor((p+d)/2),v=t[2*c],x=t[2*c+1];M6(v,x,n,r)<=s&&l.push(e[c]);const L=(u+1)%2;(u===0?n-i<=v:r-i<=x)&&(o.push(p),o.push(c-1),o.push(L)),(u===0?n+i>=v:r+i>=x)&&(o.push(c+1),o.push(d),o.push(L))}return l}function M6(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}const ew=e=>e[0],tw=e=>e[1];class nw{constructor(t,n=ew,r=tw,i=64,a=Float64Array){this.nodeSize=i,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new o(t.length),s=this.coords=new a(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);Fm(l,s,i,0,l.length-1,0)}range(t,n,r,i){return K_(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return J_(this.ids,this.coords,t,n,r,this.nodeSize)}}const rw=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var iw=rw;const aw=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var ow=aw;const{push:N6,splice:lw}=Array.prototype,yp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),cr=Float32Array.BYTES_PER_ELEMENT,sw=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const a=n+i*2,o=a+1,l=a+2,s=a+3;t.push(a,o,l,l,o,s)}n+=(r+2)*2}),t},Nr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let a=0,o=e.length/t;a<o;a++){const l=a*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}N6.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,a=e.length/n;i<a;i++){const o=t+i*n;e[o]=r(e[o],o,i)}return e},copyElement(e,t,n,r){const i=new Array(r),a=t*r;for(let o=0;o<r;o++)i[o]=e[a+o];return lw.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],a=new Array(n).fill(r);for(let o=0,l=e.length/t;o<l;o++){const s=o*t;for(let u=0;u<t;u++)a[u]=e[s+u];N6.apply(i,a)}return i}},uw=(e,{projection:t=yp,model:n=yp,view:r=yp,points:i=[],colorIndices:a=[],color:o=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:d=[],miter:p=1,is2d:c=!1,zPos2d:v=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const x=new Float32Array(16);let L,O,g,E,w,P,z,Q,ue,ee,Ke,Se,je,Xe,tt,Je,Gt,mt,vt=c?2:3;const be=()=>+(s.length===O||l!==null),De=()=>{ee=e.buffer(),Ke=e.buffer(),Se=e.buffer(),tt=e.buffer(),Je={prevPosition:{buffer:()=>ee,offset:0,stride:cr*3},currPosition:{buffer:()=>ee,offset:cr*3*2,stride:cr*3},nextPosition:{buffer:()=>ee,offset:cr*3*4,stride:cr*3},opacity:{buffer:()=>Ke,offset:cr*2,stride:cr},offsetScale:{buffer:()=>Se,offset:cr*2,stride:cr},colorIndex:{buffer:()=>tt,offset:cr*2,stride:cr}},Gt=e.elements(),mt=e({attributes:Je,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(ct,wt)=>{const Mt=ct.projection||wt.projection,St=ct.model||wt.model,ft=ct.view||wt.view;return dr(x,Mt,dr(x,ft,St))},aspectRatio:({viewportWidth:ct,viewportHeight:wt})=>ct/wt,colorTex:()=>je,colorTexRes:()=>Xe,colorTexEps:()=>.5/Xe,pixelRatio:({pixelRatio:ct})=>ct,width:({pixelRatio:ct,viewportHeight:wt})=>u/wt*ct,useOpacity:be,useColorOpacity:()=>+!be(),miter:p},elements:()=>Gt,vert:ow,frag:iw})},xe=()=>{L===1&&i.length%vt>0&&console.warn(`The length of points (${O}) does not match the dimensions (${vt}). Incomplete points are ignored.`),E=i.flat().slice(0,O*vt),c&&(E=Nr.increaseStride(E,2,3,v)),a.length!==O&&(a=new Array(O).fill(0)),d.length!==O&&(d=new Array(O).fill(1));let ct=a.slice(),wt=s.length===O?s.slice():new Array(O).fill(+l),Mt=d.slice(),St=0;g.forEach(ft=>{const $t=St+ft-1;Nr.copyElement(E,$t,$t,3),Nr.copyElement(E,St,St,3),Nr.copyElement(ct,$t,$t,1),Nr.copyElement(ct,St,St,1),Nr.copyElement(wt,$t,$t,1),Nr.copyElement(wt,St,St,1),Nr.copyElement(Mt,$t,$t,1),Nr.copyElement(Mt,St,St,1),St+=ft+2}),w=new Float32Array(Nr.duplicate(E,3)),P=Nr.duplicate(ct),z=Nr.duplicate(wt),Q=Nr.duplicate(Mt,1,-1),ue=sw(g),ee({usage:"dynamic",type:"float",length:w.length*cr,data:w}),Ke({usage:"dynamic",type:"float",length:z.length*cr,data:z}),Se({usage:"dynamic",type:"float",length:Q.length*cr,data:Q}),tt({usage:"dynamic",type:"float",length:P.length*cr,data:P}),Gt({primitive:"triangles",usage:"dynamic",type:ue.length>2**16?"uint32":"uint16",data:ue})},Ae=()=>{et(),De()},et=()=>{i=null,E=null,w=null,Q=null,ue=null,ee.destroy(),Se.destroy(),Gt.destroy()},_t=({projection:ct,model:wt,view:Mt}={})=>{ct&&(t=ct),wt&&(n=wt),Mt&&(r=Mt),i&&i.length>1&&mt({projection:t,model:n,view:r})},At=(ct,wt)=>{const Mt=wt.flat(2);return Mt.length===O?Mt:Mt.length===L?g.map((St,ft)=>Array(St).fill(Mt[ft])).flat():ct},Yt=()=>i,It=(ct=[],{colorIndices:wt=a,opacities:Mt=s,widths:St=d,is2d:ft=c}={})=>{i=ct,c=ft,vt=c?2:3,L=Array.isArray(i[0])?i.length:1,g=L>1?i.map($t=>Math.floor($t.length/vt)):[Math.floor(i.length/vt)],O=g.reduce(($t,on)=>$t+on,0),a=At(a,wt),s=At(s,Mt),d=At(d,St),i&&O>1?xe():Ae()},kt=(ct,wt=-1)=>Array.isArray(ct)?ct.length&&!Array.isArray(ct[0])?wt+1:kt(ct[0],++wt):wt,Ot=()=>{const ct=kt(o)===0?[o]:o;Xe=Math.max(2,Math.ceil(Math.sqrt(ct.length)));const wt=new Uint8Array(Xe**2*4);ct.forEach((Mt,St)=>{wt[St*4]=Math.min(255,Math.max(0,Math.round(Mt[0]*255))),wt[St*4+1]=Math.min(255,Math.max(0,Math.round(Mt[1]*255))),wt[St*4+2]=Math.min(255,Math.max(0,Math.round(Mt[2]*255))),wt[St*4+3]=Number.isNaN(+Mt[3])?255:Math.min(255,Math.max(0,Math.round(Mt[3]*255)))}),je=e.texture({data:wt,shape:[Xe,Xe,4]})},en=(ct,wt=l)=>{o=ct,l=wt,je&&je.destroy(),Ot()},an=()=>({color:o,miter:p,width:u}),Sn=({color:ct,opacity:wt,miter:Mt,width:St}={})=>{ct&&en(ct,wt),Mt&&(p=Mt),+St>0&&(u=St)},Ft=()=>({points:ee,widths:Se,opacities:Ke,colorIndices:tt}),qt=()=>({points:w,widths:Q,opacities:z,colorIndices:P});return De(),Ot(),i&&i.length>1&&It(i),{clear:Ae,destroy:et,draw:_t,getPoints:Yt,setPoints:It,getData:qt,getBuffer:Ft,getStyle:an,setStyle:Sn}};var b0=uw;const cw=e=>e*e*e,x8=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,fw=e=>--e*e*e+1,dw=e=>e,hw=e=>e*e,pw=e=>e<.5?2*e*e:-1+(4-2*e)*e,mw=e=>e*(2-e),as=e=>e,vw=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},gw=e=>e.reduce((t,n)=>n>t?n:t,-1/0),I6=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},yw=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,a)=>(i&&r.push(a),r),[])},rv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,a)=>(i[a]=Object.getOwnPropertyDescriptor(n,a),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const a=Object.getOwnPropertyDescriptor(n,i);a.enumerable&&(r[i]=a)}),Object.defineProperties(e,r)}),e),xw=(...e)=>t=>e.reduce((n,r)=>r(n),t),_w=e=>t=>rv({__proto__:{constructor:e}},t),D6=(e,t)=>n=>rv(n,{get[e](){return t}}),ww=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Ew=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Ul=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),_8=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const a=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let o=!1;const l=(...s)=>{o?(i++,a(...s)):(e(...s),a(...s),o=!0,i=0,setTimeout(()=>{o=!1},t))};return l.reset=()=>{o=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},Mi="auto",Sw=0,xp=1,bw=2,F6=3,Tw=4,Aw=Float32Array.BYTES_PER_ELEMENT,w8=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],$6={color:[0,0,0,0],depth:1},iv="panZoom",E8="lasso",S8="rotate",Cw=[iv,E8,S8],Lw=iv,Rw={cubicIn:cw,cubicInOut:x8,cubicOut:fw,linear:dw,quadIn:hw,quadInOut:pw,quadOut:mw},B6=x8,ki="continuous",Wl="categorical",j6=[ki,Wl],$m="deselect",av="lassoEnd",Pw=[$m,av],kw=[0,.666666667,1,1],Ow=2,Mw=!1,Nw=10,Iw=3,Dw=av,Fw=!1,Ld=750,Rd=500,Pd=100,kd=250,ov="lasso",Od="rotate",Md="merge",$w=[ov,Od,Md],lv="alt",sv="cmd",b8="ctrl",T8="meta",uv="shift",Bw=[lv,sv,b8,T8,uv],jw={[lv]:Od,[uv]:ov,[sv]:Md},zw=1,Gw=Mi,Uw=Mi,Vw=1,_p=1,Hw=6,Ww=2,Xw=2,wp=null,Yw=2,qw=2,Ep=null,Qw=null,Sp=null,Zw=.66,Kw=1,bp=null,Jw=.15,eE=25,tE=1,nE=1,Iu=null,rE=[.66,.66,.66,Kw],iE=[0,.55,1,1],aE=[1,1,1,1],oE=[0,0,0,1],Tp=null,lE=[.66,.66,.66,.2],sE=[0,.55,1,1],uE=[1,1,1,1],cE=[0,0],fE=1,dE=0,hE=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),pE="IMAGE_LOAD_ERROR",mE=null,vE=!1,gE=[1,1,1,.5],yE=!0,xE=!0,_E=!1,wE=100,EE=1/500,SE="auto",bE=!1,TE=200,AE=500,A8=new Set(["z","valueZ","valueA","value1","category"]),C8=new Set(["w","valueW","valueB","value2","value"]),cv=15e3,z6="Points have not been drawn",CE=(e,t)=>e?w8.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,LE=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return w8.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),z_({gl:t,extensions:n})},Ap=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),RE=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let a=0;a<e.length;a+=2)t=e[a]<t?e[a]:t,n=e[a]>n?e[a]:n,r=e[a+1]<r?e[a+1]:r,i=e[a+1]>i?e[a+1]:i;return[t,r,n,i]},PE=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,kE=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,a)=>`#${r}${r}${i}${i}${a}${a}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),Oa=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Ma=e=>!Number.isNaN(+e)&&+e>=0,T0=e=>!Number.isNaN(+e)&&+e>0,G6=(e,t)=>n=>e.indexOf(n)>=0?n:t,OE=(e,t=!1,n=cv)=>new Promise((r,i)=>{const a=new Image;t&&(a.crossOrigin="anonymous"),a.src=e,a.onload=()=>{r(a)};const o=()=>{i(new Error(pE))};a.onerror=o,setTimeout(o,n)}),U6=(e,t,n=cv)=>new Promise((r,i)=>{OE(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(a=>{r(e.texture(a))}).catch(a=>{i(a)})}),ME=(e,t=!1)=>[...kE(e,t),255**!t],NE=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),IE=e=>e>=0&&e<=1,Nd=e=>Array.isArray(e)&&e.every(IE),DE=(e,[t,n]=[])=>{let r,i,a,o,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],a=e[u],o=e[u+1],i>n!=o>n&&t<(a-r)*(n-i)/(o-i)+r&&(l=!l),u=s;return l},Bm=e=>typeof e=="string"||e instanceof String,FE=e=>Number.isInteger(e)&&e>=0&&e<=255,L8=e=>Array.isArray(e)&&e.every(FE),$E=e=>e.length===3&&(Nd(e)||L8(e)),BE=e=>e.length===4&&(Nd(e)||L8(e)),Na=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||Bm(e[0])),A0=(e,t)=>e>t?e:t,V6=(e,t)=>e<t?e:t,wr=(e,t)=>{if(BE(e)){const n=Nd(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if($E(e)){const n=255**!t,r=Nd(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return NE(e)?ME(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},H6=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),W6=e=>.21*e[0]+.72*e[1]+.07*e[2],jE=(e,t,n)=>Math.min(n,Math.max(t,e)),zE=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=Vw}=e;t||(t=LE(n));const i=CE(t),a=[n.width,n.height],o=t.framebuffer({width:a[0],height:a[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>o,srcRes:()=>a,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=O=>{const g=O.getContext("2d");g.clearRect(0,0,O.width,O.height),g.drawImage(n,(n.width-O.width)/2,(n.height-O.height)/2,O.width,O.height,0,0,O.width,O.height)},u=(O,g)=>{t.clear($6),o.use(()=>{t.clear($6),O()}),l(),s(g)},d=()=>{t.poll()},p=new Set,c=O=>(p.add(O),()=>{p.delete(O)}),v=t.frame(()=>{const O=p.values();let g=O.next();for(;!g.done;)g.value(),g=O.next()}),x=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,a[0]=n.width,a[1]=n.height,o.resize(...a)};return e.canvas||(window.addEventListener("resize",x),window.addEventListener("orientationchange",x),x()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(O){r=+O},get isSupported(){return i},render:u,onFrame:c,refresh:d,destroy:()=>{v.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",x),window.removeEventListener("orientationchange",x)}}},GE=!0,Cp=8,X6=2,UE=2500,VE=250,HE=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const a=document.createElement("div");return a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.width="1.25rem",a.style.height="1.25rem",a.style.borderRadius="1.25rem",a.style.background="currentcolor",a.style.transform="scale(0)",a.style.opacity=0,e.appendChild(a),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:a}},WE=(e,t,n)=>(1-e)*t+n,XE=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,YE=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,qE=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,QE=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,ZE=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,KE=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,JE=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,eS=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,tS=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,nS=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,rS=({time:e=Ld,extraTime:t=Rd,delay:n=Pd,currentColor:r,targetColor:i,effectOpacity:a,effectScale:o,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:d})=>{const p=l/360,c=WE(p,e,t),v=Math.round((1-p)*e/c*100),x=Math.round(v/2),L=v+(100-v)/4;return{rules:{main:KE(v,r,i),effect:JE(v,L,a,o),circleRight:nS(x,s),circleLeft:tS(v,l),circle:eS(x,u,d)},names:{main:XE(c,n),effect:YE(c,n),circleLeft:qE(c,n),circleRight:QE(c,n),circle:ZE(c,n)}}},iS=e=>`${e}ms linear mainOut 0s 1 normal forwards`,aS=e=>`${e}ms linear effectOut 0s 1 normal forwards`,oS=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,lS=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,sS=e=>`${e}ms linear circleOut 0s 1 normal forwards`,uS=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,cS=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,fS=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,dS=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,hS=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,pS=({time:e=kd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:a,circleRightRotation:o,circleClipPath:l,circleOpacity:s})=>{const u=a/360,d=u*e,p=Math.min(100,u*100),c=p>50?Math.round((1-50/p)*100):0;return{rules:{main:uS(t,n),effect:cS(r,i),circleRight:fS(c,o),circleLeft:dS(a),circle:hS(c,l,s)},names:{main:iS(d),effect:aS(d),circleRight:oS(d),circleLeft:lS(d),circle:sS(d)}}},Du=(e,t=null)=>e===null?t:e;let Lp;const R8=()=>{if(!Lp){const e=document.createElement("style");document.head.appendChild(e),Lp=e.sheet}return Lp},Wr=e=>{const t=R8(),n=t.rules.length;return t.insertRule(e,n),n},Xr=e=>{R8().deleteRule(e)},mS=`${UE}ms ease scaleInFadeOut 0s 1 normal backwards`,vS=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let Rp=null;const gS=`${VE}ms ease fadeScaleOut 0s 1 normal backwards`,yS=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Pp=null;const P8=(e,{onDraw:t=as,onStart:n=as,onEnd:r=as,enableInitiator:i=GE,initiatorParentElement:a=document.body,longPressIndicatorParentElement:o=document.body,minDelay:l=Cp,minDist:s=X6,pointNorm:u=as}={})=>{let d=i,p=a,c=o,v=t,x=n,L=r,O=u;const g=document.createElement("div"),E=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);g.id=`lasso-initiator-${E}`,g.style.position="fixed",g.style.display="flex",g.style.justifyContent="center",g.style.alignItems="center",g.style.zIndex=99,g.style.width="4rem",g.style.height="4rem",g.style.borderRadius="4rem",g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:w,longPressCircle:P,longPressCircleLeft:z,longPressCircleRight:Q,longPressEffect:ue}=HE();let ee=!1,Ke=!1,Se=[],je=[],Xe,tt=!1,Je=null,Gt=null,mt=null,vt=null,be=null,De=null,xe=null,Ae=null,et=null,_t=null;const At=()=>{ee=!1},Yt=me=>{const{left:ze,top:fe}=e.getBoundingClientRect();return[me.clientX-ze,me.clientY-fe]};window.addEventListener("mouseup",At);const It=()=>{g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},kt=(me,ze)=>{const fe=getComputedStyle(me),yt=+fe.opacity,dt=fe.transform.match(/([0-9.-]+)+/g),ke=+dt[0],Ct=+dt[1],Bt=Math.sqrt(ke*ke+Ct*Ct);let Ve=Math.atan2(Ct,ke)*(180/Math.PI);return Ve=ze&&Ve<=0?360+Ve:Ve,{opacity:yt,scale:Bt,rotate:Ve}},Ot=me=>{if(!d||ee)return;const ze=me.clientX,fe=me.clientY;g.style.top=`${fe}px`,g.style.left=`${ze}px`;const yt=kt(g),dt=yt.opacity,ke=yt.scale,Ct=yt.rotate;g.style.opacity=dt,g.style.transform=`translate(-50%,-50%) scale(${ke}) rotate(${Ct}deg)`,g.style.animation="none",Ul().then(()=>{Rp!==null&&Xr(Rp),Rp=Wr(vS(dt,ke,Ct)),g.style.animation=mS,Ul().then(()=>{It()})})},en=()=>{const{opacity:me,scale:ze,rotate:fe}=kt(g);g.style.opacity=me,g.style.transform=`translate(-50%,-50%) scale(${ze}) rotate(${fe}deg)`,g.style.animation="none",Ul(2).then(()=>{Pp!==null&&Xr(Pp),Pp=Wr(yS(me,ze,fe)),g.style.animation=gS,Ul().then(()=>{It()})})},an=(me,ze,{time:fe=Ld,extraTime:yt=Rd,delay:dt=Pd}={time:Ld,extraTime:Rd,delay:Pd})=>{tt=!0;const ke=getComputedStyle(w);w.style.color=ke.color,w.style.top=`${ze}px`,w.style.left=`${me}px`,w.style.animation="none";const Ct=getComputedStyle(P);P.style.clipPath=Ct.clipPath,P.style.opacity=Ct.opacity,P.style.animation="none";const Bt=kt(ue);ue.style.opacity=Bt.opacity,ue.style.transform=`scale(${Bt.scale})`,ue.style.animation="none";const Ve=kt(z);z.style.transform=`rotate(${Ve.rotate}deg)`,z.style.animation="none";const tn=kt(Q);Q.style.transform=`rotate(${tn.rotate}deg)`,Q.style.animation="none",Ul().then(()=>{if(!tt)return;be!==null&&Xr(be),vt!==null&&Xr(vt),mt!==null&&Xr(mt),Gt!==null&&Xr(Gt),Je!==null&&Xr(Je);const{rules:un,names:Nt}=rS({time:fe,extraTime:yt,delay:dt,currentColor:ke.color||"currentcolor",targetColor:w.dataset.activeColor,effectOpacity:Bt.opacity||0,effectScale:Bt.scale||0,circleLeftRotation:Ve.rotate||0,circleRightRotation:tn.rotate||0,circleClipPath:Ct.clipPath||"inset(0 0 0 50%)",circleOpacity:Ct.opacity||0});Je=Wr(un.main),Gt=Wr(un.effect),mt=Wr(un.circleLeft),vt=Wr(un.circleRight),be=Wr(un.circle),w.style.animation=Nt.main,ue.style.animation=Nt.effect,z.style.animation=Nt.circleLeft,Q.style.animation=Nt.circleRight,P.style.animation=Nt.circle})},Sn=({time:me=kd}={time:kd})=>{if(!tt)return;tt=!1;const ze=getComputedStyle(w);w.style.color=ze.color,w.style.animation="none";const fe=getComputedStyle(P);P.style.clipPath=fe.clipPath,P.style.opacity=fe.opacity,P.style.animation="none";const yt=kt(ue);ue.style.opacity=yt.opacity,ue.style.transform=`scale(${yt.scale})`,ue.style.animation="none";const dt=fe.clipPath.slice(-2,-1)==="x",ke=kt(z,dt);z.style.transform=`rotate(${ke.rotate}deg)`,z.style.animation="none";const Ct=kt(Q);Q.style.transform=`rotate(${Ct.rotate}deg)`,Q.style.animation="none",Ul().then(()=>{_t!==null&&Xr(_t),et!==null&&Xr(et),Ae!==null&&Xr(Ae),xe!==null&&Xr(xe),De!==null&&Xr(De);const{rules:Bt,names:Ve}=pS({time:me,currentColor:ze.color||"currentcolor",targetColor:w.dataset.color,effectOpacity:yt.opacity||0,effectScale:yt.scale||0,circleLeftRotation:ke.rotate||0,circleRightRotation:Ct.rotate||0,circleClipPath:fe.clipPath||"inset(0px)",circleOpacity:fe.opacity||1});De=Wr(Bt.main),xe=Wr(Bt.effect),Ae=Wr(Bt.circleLeft),et=Wr(Bt.circleRight),_t=Wr(Bt.circle),w.style.animation=Ve.main,ue.style.animation=Ve.effect,z.style.animation=Ve.circleLeft,Q.style.animation=Ve.circleRight,P.style.animation=Ve.circle})},Ft=()=>{v(Se,je)},qt=me=>{if(Xe){if(ww(me[0],me[1],Xe[0],Xe[1])>X6){Xe=me;const fe=O(me);Se.push(fe),je.push(fe[0],fe[1]),Se.length>1&&Ft()}}else{Ke||(Ke=!0,x()),Xe=me;const ze=O(me);Se=[ze],je=[ze[0],ze[1]]}},ct=_8(qt,Cp,Cp),wt=(me,ze)=>{const fe=Yt(me);return ze?ct(fe):qt(fe)},Mt=()=>{Se=[],je=[],Xe=void 0,Ft()},St=me=>{Ot(me)},ft=()=>{ee=!0,Ke=!0,Mt(),x()},$t=()=>{en()},on=({merge:me=!1}={})=>{Ke=!1;const ze=[...Se],fe=[...je];return ct.cancel(),Mt(),ze.length&&L(ze,fe,{merge:me}),ze},Kt=({onDraw:me=null,onStart:ze=null,onEnd:fe=null,enableInitiator:yt=null,initiatorParentElement:dt=null,longPressIndicatorParentElement:ke=null,minDelay:Ct=null,minDist:Bt=null,pointNorm:Ve=null}={})=>{v=Du(me,v),x=Du(ze,x),L=Du(fe,L),d=Du(yt,d),O=Du(Ve,O),dt!==null&&dt!==p&&(p.removeChild(g),dt.appendChild(g),p=dt),ke!==null&&ke!==c&&(c.removeChild(w),ke.appendChild(w),c=ke),d?(g.addEventListener("click",St),g.addEventListener("mousedown",ft),g.addEventListener("mouseleave",$t)):(g.removeEventListener("mousedown",ft),g.removeEventListener("mouseleave",$t))},vr=()=>{p.removeChild(g),c.removeChild(w),window.removeEventListener("mouseup",At),g.removeEventListener("click",St),g.removeEventListener("mousedown",ft),g.removeEventListener("mouseleave",$t)},_=()=>me=>rv(me,{clear:Mt,destroy:vr,end:on,extend:wt,set:Kt,showInitiator:Ot,hideInitiator:en,showLongPressIndicator:an,hideLongPressIndicator:Sn});return p.appendChild(g),c.appendChild(w),Kt({onDraw:v,onStart:x,onEnd:L,enableInitiator:d,initiatorParentElement:p}),xw(D6("initiator",g),D6("longPressIndicator",w),_(),_w(P8))({})},xS=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,_S=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,wS=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,ES=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,SS=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,bS=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,TS=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,AS=function(){const t=(u,d,p,c,v)=>{const x=(c-d)*.5,L=(v-p)*.5;return(2*p-2*c+x+L)*u*u*u+(-3*p+3*c-2*x-L)*u*u+x*u+p},n=(u,d,p)=>{const c=p*u,v=Math.floor(c),x=c-v,L=d[Math.max(0,v-1)],O=d[v],g=d[Math.min(p,v+1)],E=d[Math.min(p,v+2)];return[t(x,L[0],O[0],g[0],E[0]),t(x,L[1],O[1],g[1],E[1])]},r=(u,d,p,c)=>(u-p)**2+(d-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,d,p)=>{let c=d[0],v=d[1],x=p[0]-c,L=p[1]-v;if(x!==0||L!==0){const O=((u[0]-c)*x+(u[1]-v)*L)/(x*x+L*L);O>1?(c=p[0],v=p[1]):O>0&&(c+=x*O,v+=L*O)}return x=u[0]-c,L=u[1]-v,x*x+L*L};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const a=(u,d,p,c,v)=>{let x=c,L;for(let O=d+1;O<p;O++){const g=i(u[O],u[d],u[p]);g>x&&(L=O,x=g)}x>c&&(L-d>1&&a(u,d,L,c,v),v.push(u[L]),p-L>1&&a(u,L,p,c,v))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const o=(u,d)=>{const p=u.length-1,c=[u[0]];return a(u,0,p,d,c),c.push(u[p]),c},l=(u,{maxIntPointsPerSegment:d=100,tolerance:p=.002}={})=>{const c=u.length,v=c-1,x=v*d+1,L=p**2;let O=[],g;for(let E=0;E<c-1;E++){let w=[u[E].slice(0,2)];g=u[E];for(let P=1;P<d;P++){const z=(E*d+P)/x,Q=n(z,u,v);r(g[0],g[1],Q[0],Q[1])>L&&(w.push(Q),g=Q)}w.push(u[E+1]),w=o(w,L),O=O.concat(w.slice(0,w.length-1))}return O.push(u[u.length-1].slice(0,2)),O.flat()},s=u=>{const d={},p=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const v=c[4];d[v]||(d[v]=[]),p?d[v][c[5]]=c:d[v].push(c)}),Object.entries(d).forEach(c=>{d[c[0]]=c[1].filter(v=>v),d[c[0]].reference=c[1][0]}),d};self.onmessage=function(d){(d.data.points?+d.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),d.data.points;const c=s(d.data.points);self.postMessage({points:Object.entries(c).reduce((v,x)=>(v[x[0]]=l(x[1],d.data.options),v[x[0]].reference=x[1].reference,v),{})})}},CS=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=Ew(AS);i.onmessage=a=>{a.data.error?r(a.data.error):n(a.data.points),i.terminate()},i.postMessage({points:e,options:t})});var LS="1.8.5";const kp={showRecticle:"showReticle",recticleColor:"reticleColor"},Op=e=>{Object.keys(e).filter(t=>kp[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${kp[t]}" instead.`),e[kp[t]]=e[t],delete e[t]})},Yr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>A8.has(e)?"valueZ":C8.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,Mp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},RS=(e={})=>{const t=$_({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Op(e);let{renderer:a,backgroundColor:o=oE,backgroundImage:l=mE,canvas:s=document.createElement("canvas"),colorBy:u=Iu,deselectOnDblClick:d=yE,deselectOnEscape:p=xE,lassoColor:c=kw,lassoLineWidth:v=Ow,lassoMinDelay:x=Nw,lassoMinDist:L=Iw,lassoClearEvent:O=Dw,lassoInitiator:g=Mw,lassoInitiatorParentElement:E=document.body,lassoOnLongPress:w=Fw,lassoLongPressTime:P=Ld,lassoLongPressAfterEffectTime:z=Rd,lassoLongPressEffectDelay:Q=Pd,lassoLongPressRevertEffectTime:ue=kd,keyMap:ee=jw,mouseMode:Ke=Lw,showReticle:Se=vE,reticleColor:je=gE,pointColor:Xe=rE,pointColorActive:tt=iE,pointColorHover:Je=aE,showPointConnections:Gt=_E,pointConnectionColor:mt=lE,pointConnectionColorActive:vt=sE,pointConnectionColorHover:be=uE,pointConnectionColorBy:De=Tp,pointConnectionOpacity:xe=Qw,pointConnectionOpacityBy:Ae=Sp,pointConnectionOpacityActive:et=Zw,pointConnectionSize:_t=Yw,pointConnectionSizeActive:At=qw,pointConnectionSizeBy:Yt=Ep,pointConnectionMaxIntPointsPerSegment:It=wE,pointConnectionTolerance:kt=EE,pointSize:Ot=Hw,pointSizeSelected:en=Ww,pointSizeMouseDetection:an=SE,pointOutlineWidth:Sn=Xw,opacity:Ft=Mi,opacityBy:qt=bp,opacityByDensityFill:ct=Jw,opacityInactiveMax:wt=tE,opacityInactiveScale:Mt=nE,sizeBy:St=wp,height:ft=Uw,width:$t=Gw}=e,on=$t===Mi?1:$t,Kt=ft===Mi?1:ft;const{performanceMode:vr=bE,opacityByDensityDebounceTime:_=eE}=e;a||(a=zE({regl:e.regl,gamma:e.gamma})),o=wr(o,!0),c=wr(c,!0),je=wr(je,!0);let me=!1,ze=W6(o),fe,yt,dt=!1,ke=null,Ct=[0,0],Bt=-1,Ve=[];const tn=new Set,un=new Set;let Nt=!1;const mn=new Set;let bn=0,rr=0,Yn=!1,ti=[],Fn,ni,oe=e.aspectRatio||zw,bt,hn,Tn,Zt,$n,Cr,Bi,so,ks,ol=H6(ee),fa,uo,da,ll=!1,Et=!0,ji=!1,sl;Xe=Na(Xe)?[...Xe]:[Xe],tt=Na(tt)?[...tt]:[tt],Je=Na(Je)?[...Je]:[Je],Xe=Xe.map(f=>wr(f,!0)),tt=tt.map(f=>wr(f,!0)),Je=Je.map(f=>wr(f,!0)),Ft=!Array.isArray(Ft)&&Number.isNaN(+Ft)?Xe[0][3]:Ft,Ft=Oa(Ft,Ma,{minLength:1})?[...Ft]:[Ft],Ot=Oa(Ot,Ma,{minLength:1})?[...Ot]:[Ot];let $c=_p/Ot[0];mt==="inherit"?mt=[...Xe]:(mt=Na(mt)?[...mt]:[mt],mt=mt.map(f=>wr(f,!0))),vt==="inherit"?vt=[...tt]:(vt=Na(vt)?[...vt]:[vt],vt=vt.map(f=>wr(f,!0))),be==="inherit"?be=[...Je]:(be=Na(be)?[...be]:[be],be=be.map(f=>wr(f,!0))),xe==="inherit"?xe=[...Ft]:xe=Oa(xe,Ma,{minLength:1})?[...xe]:[xe],_t==="inherit"?_t=[...Ot]:_t=Oa(_t,Ma,{minLength:1})?[..._t]:[_t],u=Yr(u,Iu),qt=Yr(qt,bp,{allowDensity:!0}),St=Yr(St,wp),De=Yr(De,Tp,{allowSegment:!0}),Ae=Yr(Ae,Sp,{allowSegment:!0}),Yt=Yr(Yt,Ep,{allowSegment:!0});let xi,_i,wi,Bc,Lr=0,Os=0,co,Ms,fo,ul,cl,fl,dl,zi=!1,ho=null,Ns,Is,jc=Se,ha,pa=0,hl,ma=0,Ds=!1,gr=!1,Ei=!1,Si=Wl,Gi=Wl,Bn,Ur=!1,Un=e.xScale||null,An=e.yScale||null,va=0,pl=0,ml=0,vl=0;Un&&(va=Un.domain()[0],pl=Un.domain()[1]-Un.domain()[0],Un.range([0,on])),An&&(ml=An.domain()[0],vl=An.domain()[1]-An.domain()[0],An.range([Kt,0]));const zc=f=>-1+f/on*2,yr=f=>1+f/Kt*-2,ur=()=>[zc(i[0]),yr(i[1])],Rr=(f,I)=>{const U=[f,I,1,1],le=Dm(n,dr(n,bt,dr(n,fe.view,Tn)));return Y0(U,U,le),U.slice(0,2)},Gc=(f=0)=>{const I=_o(),le=(uo[1]-da[1])/s.height;return(ks*I+f)*le},Fs=()=>Nt?Fn.points.filter((f,I)=>mn.has(I)):Fn.points,gl=(f,I,U,le)=>{const Le=Fn.range(f,I,U,le);return Nt?Le.filter(Ge=>mn.has(Ge)):Le},$s=()=>{const[f,I]=ur(),[U,le]=Rr(f,I),Le=Gc(4),Ge=gl(U-Le,le-Le,U+Le,le+Le);let qe=Le,gt=-1;return Ge.forEach(Ut=>{const[jt,Cn]=Fn.points[Ut],Xt=Ap(jt,Cn,U,le);Xt<qe&&(qe=Xt,gt=Ut)}),gt},S1=(f,I)=>{ti=f,yt.setPoints(I),t.publish("lassoExtend",{coordinates:f})},b1=f=>{const I=RE(f);if(!PE(I))return[];const U=gl(...I),le=[];return U.forEach(Le=>{DE(f,Fn.points[Le])&&le.push(Le)}),le},ga=()=>{ti=[],yt&&yt.clear()},po=f=>f&&f.length>4,Ui=(f,I)=>{if(Cr||!Gt||!po(Fn.points[f[0]]))return;const U=I===0,le=I===1?qe=>un.add(qe):as,Le=Object.keys(f.reduce((qe,gt)=>{const Ut=Fn.points[gt],Cn=Array.isArray(Ut[4])?Ut[4][0]:Ut[4];return qe[Cn]=!0,qe},{})),Ge=Zt.getData().opacities;Le.filter(qe=>!un.has(+qe)).forEach(qe=>{const gt=$n[qe][0],Ut=$n[qe][2],jt=$n[qe][3],Cn=gt*4+jt*2,Xt=Cn+Ut*2+4;Ge.__original__===void 0&&(Ge.__original__=Ge.slice());for(let zt=Cn;zt<Xt;zt++)Ge[zt]=U?Ge.__original__[zt]:et;le(qe)}),Zt.getBuffer().opacities.subdata(Ge,0)},yl=f=>[f%Lr/Lr+Os,Math.floor(f/Lr)/Lr+Os],T1=f=>Nt&&!mn.has(f),xl=({preventEvent:f=!1}={})=>{O===$m&&ga(),Ve.length&&(f||t.publish("deselect"),un.clear(),Ui(Ve,0),Ve=[],tn.clear(),Et=!0)},ya=(f,{merge:I=!1,preventEvent:U=!1}={})=>{const le=Array.isArray(f)?f:[f],Le=[...Ve];if(I){if(Ve=yw(Ve,le),Le.length===Ve.length){Et=!0;return}}else{if(Ve&&Ve.length&&Ui(Ve,0),Le.length>0&&le.length===0){xl({preventEvent:U});return}Ve=le}if(vw(Le,Ve)){Et=!0;return}const Ge=[];tn.clear(),un.clear();for(let qe=Ve.length-1;qe>=0;qe--){const gt=Ve[qe];if(gt<0||gt>=bn||T1(gt)){Ve.splice(qe,1);continue}tn.add(gt),Ge.push.apply(Ge,yl(gt))}Ms({usage:"dynamic",type:"float",data:Ge}),Ui(Ve,1),U||t.publish("select",{points:Ve}),Et=!0},mo=(f,{showReticleOnce:I=!1,preventEvent:U=!1}={})=>{let le=!1;if(f>=0&&f<bn){le=!0;const Le=Bn,Ge=f!==Bn;+Le>=0&&Ge&&!tn.has(Le)&&Ui([Le],0),Bn=f,fo.subdata(yl(f)),tn.has(f)||Ui([f],2),Ge&&!U&&t.publish("pointover",Bn)}else le=+Bn>=0,le&&(tn.has(Bn)||Ui([Bn],0),U||t.publish("pointout",Bn)),Bn=void 0;le&&(Et=!0,ji=I)},Bs=f=>{const I=s.getBoundingClientRect();return i[0]=f.clientX-I.left,i[1]=f.clientY-I.top,[...i]},kn=P8(s,{onStart:()=>{fe.config({isFixed:!0}),dt=!0,Yn=!0,ga(),Bt>=0&&(clearTimeout(Bt),Bt=-1),t.publish("lassoStart")},onDraw:S1,onEnd:(f,I,{merge:U=!1}={})=>{fe.config({isFixed:!1}),ti=[...f];const le=b1(I);ya(le,{merge:U}),t.publish("lassoEnd",{coordinates:ti}),O===av&&ga()},enableInitiator:g,initiatorParentElement:E,pointNorm:([f,I])=>Rr(zc(f),yr(I))}),_l=()=>Ke===E8,vo=(f,I)=>{switch(ol[I]){case lv:return f.altKey;case sv:return f.metaKey;case b8:return f.ctrlKey;case T8:return f.metaKey;case uv:return f.shiftKey;default:return!1}},Uc=f=>document.elementsFromPoint(f.clientX,f.clientY).some(I=>I===s),js=f=>{!gr||f.buttons!==1||(dt=!0,ke=performance.now(),Ct=Bs(f),Yn=_l()||vo(f,ov),!Yn&&w&&(kn.showLongPressIndicator(f.clientX,f.clientY,{time:P,extraTime:z,delay:Q}),Bt=setTimeout(()=>{Bt=-1,Yn=!0},P)))},zs=f=>{gr&&(dt=!1,Bt>=0&&(clearTimeout(Bt),Bt=-1),Yn&&(f.preventDefault(),Yn=!1,kn.end({merge:vo(f,Md)})),w&&kn.hideLongPressIndicator({time:ue}))},wl=f=>{if(!gr)return;f.preventDefault();const I=Bs(f);if(Ap(...I,...Ct)>=L)return;const U=performance.now()-ke;if(!g||U<AE){const le=$s();le>=0?(Ve.length&&O===$m&&ga(),ya([le],{merge:vo(f,Md)})):fa||(fa=setTimeout(()=>{fa=null,kn.showInitiator(f)},TE))}},El=f=>{kn.hideInitiator(),fa&&(clearTimeout(fa),fa=null),d&&(f.preventDefault(),xl())},ri=f=>{if(Ei||(Ur=Uc(f),Ei=!0),!gr||!Ur&&!dt)return;const I=Bs(f),le=Ap(...I,...Ct)>=L;Ur&&!Yn&&mo($s()),Yn?(f.preventDefault(),kn.extend(f,!0)):dt&&w&&le&&kn.hideLongPressIndicator({time:ue}),Bt>=0&&le&&(clearTimeout(Bt),Bt=-1),dt&&(Et=!0)},go=()=>{Bn=void 0,Ur=!1,Ei=!1,gr&&(+Bn>=0&&!tn.has(Bn)&&Ui([Bn],0),zs(),Et=!0)},Sl=()=>{const f=Math.max(Ot.length,Ft.length);ma=Math.max(2,Math.ceil(Math.sqrt(f)));const I=new Float32Array(ma**2*4);for(let U=0;U<f;U++){I[U*4]=Ot[U]||0,I[U*4+1]=Math.min(1,Ft[U]||0);const le=Number((tt[U]||tt[0])[3]);I[U*4+2]=Math.min(1,Number.isNaN(le)?1:le);const Le=Number((Je[U]||Je[0])[3]);I[U*4+3]=Math.min(1,Number.isNaN(Le)?1:Le)}return a.regl.texture({data:I,shape:[ma,ma,4],type:"float"})},Gs=(f=Xe,I=tt,U=Je)=>{const le=f.length,Le=I.length,Ge=U.length,qe=[];if(le===Le&&Le===Ge)for(let gt=0;gt<le;gt++)qe.push(f[gt],I[gt],U[gt],o);else for(let gt=0;gt<le;gt++){const Ut=[f[gt][0],f[gt][1],f[gt][2],1],jt=u===Iu?I[0]:Ut,Cn=u===Iu?U[0]:Ut;qe.push(f[gt],jt,Cn,o)}return qe},Us=()=>{const f=Gs(),I=f.length;pa=Math.max(2,Math.ceil(Math.sqrt(I)));const U=new Float32Array(pa**2*4);return f.forEach((le,Le)=>{U[Le*4]=le[0],U[Le*4+1]=le[1],U[Le*4+2]=le[2],U[Le*4+3]=le[3]}),a.regl.texture({data:U,shape:[pa,pa,4],type:"float"})},A1=(f,I)=>{hn[0]=f/ni,hn[5]=I},Vs=()=>{ni=on/Kt,bt=X0([],[1/ni,1,1]),hn=X0([],[1/ni,1,1]),Tn=X0([],[oe,1,1])},C1=f=>{+f<=0||(oe=f)},Hs=(f,I)=>U=>{if(!U||!U.length)return;const Le=[...f()];let Ge=Na(U)?U:[U];Ge=Ge.map(qe=>wr(qe,!0)),ha&&ha.destroy();try{I(Ge),ha=Us()}catch{console.error("Invalid colors. Switching back to default colors."),I(Le),ha=Us()}},L1=Hs(()=>Xe,f=>{Xe=f}),R1=Hs(()=>tt,f=>{tt=f}),bi=Hs(()=>Je,f=>{Je=f}),P1=()=>{const f=Rr(-1,-1),I=Rr(1,1),U=(f[0]+1)/2,le=(I[0]+1)/2,Le=(f[1]+1)/2,Ge=(I[1]+1)/2,qe=[va+U*pl,va+le*pl],gt=[ml+Le*vl,ml+Ge*vl];return[qe,gt]},Vi=()=>{if(!Un&&!An)return;const[f,I]=P1();Un&&Un.domain(f),An&&An.domain(I)},Hi=f=>{Kt=Math.max(1,f),s.height=Math.floor(Kt*window.devicePixelRatio),An&&(An.range([Kt,0]),Vi())},k1=f=>{if(f===Mi){ft=f,s.style.height="100%",window.requestAnimationFrame(()=>{s&&Hi(s.getBoundingClientRect().height)});return}!+f||+f<=0||(ft=+f,Hi(ft),s.style.height=`${ft}px`)},Ti=()=>{ks=an,an===Mi&&(ks=Array.isArray(Ot)?gw(Ot):Ot)},Vc=f=>{Oa(f,Ma,{minLength:1})&&(Ot=[...f]),T0(+f)&&(Ot=[+f]),$c=_p/Ot[0],hl=Sl(),Ti()},_a=f=>{!+f||+f<0||(en=+f)},Hc=f=>{!+f||+f<0||(Sn=+f)},ii=f=>{on=Math.max(1,f),s.width=Math.floor(on*window.devicePixelRatio),Un&&(Un.range([0,on]),Vi())},Ws=f=>{if(f===Mi){$t=f,s.style.width="100%",window.requestAnimationFrame(()=>{s&&ii(s.getBoundingClientRect().width)});return}!+f||+f<=0||($t=+f,ii($t),s.style.width=`${on}px`)},O1=f=>{Oa(f,Ma,{minLength:1})&&(Ft=[...f]),T0(+f)&&(Ft=[+f]),hl=Sl()},Xs=f=>{switch(f){case"valueZ":return Si;case"valueW":return Gi;default:return null}},Ys=(f,I)=>{switch(f){case ki:return U=>Math.round(U*(I.length-1));case Wl:default:return as}},Wc=f=>{u=Yr(f,Iu)},M1=f=>{qt=Yr(f,bp,{allowDensity:!0})},N1=f=>{St=Yr(f,wp)},Xc=f=>{De=Yr(f,Tp,{allowSegment:!0})},nn=f=>{Ae=Yr(f,Sp,{allowSegment:!0})},Yc=f=>{Yt=Yr(f,Ep,{allowSegment:!0})},I1=()=>[s.width,s.height],Vr=()=>l,qs=()=>ha,bl=()=>pa,Wi=()=>.5/pa,Qs=()=>window.devicePixelRatio,Tl=()=>co,Xi=()=>Ms,Al=()=>hl,qc=()=>ma,Zs=()=>.5/ma,Ks=()=>0,D1=()=>wi||xi,F1=()=>Lr,$1=()=>.5/Lr,Qc=()=>hn,Cl=()=>fe.view,yo=()=>Tn,xo=()=>dr(r,hn,dr(r,fe.view,Tn)),_o=()=>fe.scaling[0]>1?Math.asinh(A0(1,fe.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:A0($c,fe.scaling[0])*window.devicePixelRatio,wa=()=>Nt?mn.size:bn,Yi=()=>Ve.length,Js=()=>Yi()>0?wt:1,eu=()=>Yi()>0?Mt:1,tu=()=>+(u==="valueZ"),Zc=()=>+(u==="valueW"),Kc=()=>+(qt==="valueZ"),Jc=()=>+(qt==="valueW"),ef=()=>+(qt==="density"),tf=()=>+(St==="valueZ"),nf=()=>+(St==="valueW"),rf=()=>u==="valueZ"?Si===ki?Xe.length-1:1:Gi===ki?Xe.length-1:1,af=()=>qt==="valueZ"?Si===ki?Ft.length-1:1:Gi===ki?Ft.length-1:1,Ea=()=>St==="valueZ"?Si===ki?Ot.length-1:1:Gi===ki?Ot.length-1:1,nu=f=>{if(qt!=="density")return 1;const I=_o(),U=Ot[0]*I,le=2/(2/fe.view[0])*(2/(2/fe.view[5])),Le=f.viewportHeight,Ge=f.viewportWidth;let qe=ct*Ge*Le/(rr*U*U)*V6(1,le);qe*=vr?1:1/(.25*Math.PI);const gt=A0(_p,U)+.5;return qe*=(U/gt)**2,V6(1,A0(0,qe))},ru=a.regl({framebuffer:()=>Bc,vert:TS,frag:bS,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>_i,endStateTex:()=>xi,t:(f,I)=>I.t},count:3}),Pr=(f,I,U,le=Sw,Le=Js,Ge=eu)=>a.regl({frag:vr?ES:wS,vert:SS(le),blend:{enable:!vr,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:U,size:2}},uniforms:{resolution:I1,modelViewProjection:xo,devicePixelRatio:Qs,pointScale:_o,encodingTex:Al,encodingTexRes:qc,encodingTexEps:Zs,pointOpacityMax:Le,pointOpacityScale:Ge,pointSizeExtra:f,globalState:le,colorTex:qs,colorTexRes:bl,colorTexEps:Wi,stateTex:D1,stateTexRes:F1,stateTexEps:$1,isColoredByZ:tu,isColoredByW:Zc,isOpacityByZ:Kc,isOpacityByW:Jc,isOpacityByDensity:ef,isSizedByZ:tf,isSizedByW:nf,colorMultiplicator:rf,opacityMultiplicator:af,opacityDensity:nu,sizeMultiplicator:Ea,numColorStates:Tw},count:I,primitive:"points"}),B1=Pr(Ks,wa,Tl),j1=Pr(Ks,()=>1,()=>fo,bw,()=>1,()=>1),z1=Pr(()=>(en+Sn*2)*window.devicePixelRatio,Yi,Xi,xp,()=>1,()=>1),iu=Pr(()=>(en+Sn)*window.devicePixelRatio,Yi,Xi,F6,()=>1,()=>1),G1=Pr(()=>en*window.devicePixelRatio,Yi,Xi,xp,()=>1,()=>1),U1=()=>{z1(),iu(),G1()},V1=a.regl({frag:xS,vert:_S,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:xo,texture:Vr},count:6}),au=a.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>ti},uniforms:{modelViewProjection:xo,color:()=>c},elements:()=>Array.from({length:ti.length-2},(f,I)=>[0,I+1,I+2])}),H1=()=>{if(!(Bn>=0))return;const[f,I]=Fn.points[Bn].slice(0,2),U=[f,I,0,1];dr(n,hn,dr(n,fe.view,Tn)),Y0(U,U,n),Bi.setPoints([-1,U[1],1,U[1]]),so.setPoints([U[0],1,U[0],-1]),Bi.draw(),so.draw(),Pr(()=>(en+Sn*2)*window.devicePixelRatio,()=>1,fo,xp)(),Pr(()=>(en+Sn)*window.devicePixelRatio,()=>1,fo,F6)()},Ll=f=>{const I=new Float32Array(f*2);let U=0;for(let le=0;le<f;++le){const Le=yl(le);I[U]=Le[0],I[U+1]=Le[1],U+=2}return I},ou=(f,I={})=>{const U=f.length;Lr=Math.max(2,Math.ceil(Math.sqrt(U))),Os=.5/Lr;const le=new Float32Array(Lr**2*4);let Le=!0,Ge=!0,qe=0,gt=0,Ut=0;for(let jt=0;jt<U;++jt)qe=jt*4,le[qe]=f[jt][0],le[qe+1]=f[jt][1],gt=f[jt][2]||0,Ut=f[jt][3]||0,le[qe+2]=gt,le[qe+3]=Ut,Le&&(Le=Number.isInteger(gt)),Ge&&(Ge=Number.isInteger(Ut));return I.z&&j6.includes(I.z)?Si=I.z:Si=Le?Wl:ki,I.w&&j6.includes(I.w)?Gi=I.w:Gi=Ge?Wl:ki,a.regl.texture({data:le,shape:[Lr,Lr,4],type:"float"})},of=(f,I={})=>{if(!xi)return!1;if(zi){const U=_i;_i=wi,U.destroy()}else _i=xi;return wi=ou(f,I),Bc=a.regl.framebuffer({color:wi,depth:!1,stencil:!1}),xi=void 0,!0},lu=()=>!!(_i&&wi),W1=()=>{_i&&(_i.destroy(),_i=void 0),wi&&(wi.destroy(),wi=void 0)},wo=(f,I={})=>{gr=!1,bn=f.length,rr=bn,xi&&xi.destroy(),xi=ou(f,I),co({usage:"static",type:"float",data:Ll(bn)}),Fn=new nw(f,U=>U[0],U=>U[1],16),gr=!0},lf=(f,I)=>{ul=fe.target,cl=f,fl=fe.distance[0],dl=I},X1=()=>ul!==void 0&&cl!==void 0&&fl!==void 0&&dl!==void 0,Y1=()=>{ul=void 0,cl=void 0,fl=void 0,dl=void 0},q1=f=>{const I=De==="inherit"?u:De;if(I==="segment"){const U=mt.length-1;return U<1?[]:f.reduce((le,Le,Ge)=>{let qe=0;const gt=[];for(let jt=2;jt<Le.length;jt+=2){const Cn=Math.sqrt((Le[jt-2]-Le[jt])**2+(Le[jt-1]-Le[jt+1])**2);gt.push(Cn),qe+=Cn}le[Ge]=[0];let Ut=0;for(let jt=0;jt<Le.length/2-1;jt++)Ut+=gt[jt],le[Ge].push(Math.floor(Ut/qe*U)*4);return le},[])}if(I){const U=Mp(I),le=Ys(Xs(I),De==="inherit"?Xe:mt);return $n.reduce((Le,[Ge,qe])=>(Le[Ge]=le(qe[U])*4,Le),[])}return Array($n.length).fill(0)},Q1=()=>{const f=Ae==="inherit"?qt:Ae;if(f==="segment"){const I=xe.length-1;return I<1?[]:$n.reduce((U,[le,Le,Ge])=>(U[le]=I6(Ge,qe=>xe[Math.floor(qe/(Ge-1)*I)]),U),[])}if(f){const I=Mp(f),U=Ae==="inherit"?Ft:xe,le=Ys(Xs(f),U);return $n.reduce((Le,[Ge,qe])=>(Le[Ge]=U[le(qe[I])],Le),[])}},Z1=()=>{const f=Yt==="inherit"?St:Yt;if(f==="segment"){const I=_t.length-1;return I<1?[]:$n.reduce((U,[le,Le,Ge])=>(U[le]=I6(Ge,qe=>_t[Math.floor(qe/(Ge-1)*I)]),U),[])}if(f){const I=Mp(f),U=Yt==="inherit"?Ot:_t,le=Ys(Xs(f),U);return $n.reduce((Le,[Ge,qe])=>(Le[Ge]=U[le(qe[I])],Le),[])}},K1=f=>{$n=[];let I=0;Object.keys(f).forEach((U,le)=>{$n[U]=[le,f[U].reference,f[U].length/2,I],I+=f[U].length/2})},Sa=f=>new Promise(I=>{Zt.setPoints([]),!f||!f.length?I():(Cr=!0,CS(f,{maxIntPointsPerSegment:It,tolerance:kt}).then(U=>{K1(U);const le=Object.values(U);Zt.setPoints(le.length===1?le[0]:le,{colorIndices:q1(le),opacities:Q1(),widths:Z1()}),Cr=!1,I()}))}),Eo=({preventEvent:f=!1}={})=>(Nt=!1,mn.clear(),co.subdata(Ll(bn)),new Promise(I=>{const U=()=>{t.subscribe("draw",()=>{f||t.publish("unfilter"),I()},1),Et=!0};Gt||po(Fn.points[0])?Sa(Fs()).then(()=>{f||t.publish("pointConnectionsDraw"),U()}):U()})),sf=(f,{preventEvent:I=!1}={})=>{const U=Array.isArray(f)?f:[f];Nt=!0,mn.clear();const le=[],Le=[];for(let Ge=U.length-1;Ge>=0;Ge--){const qe=U[Ge];if(qe<0||qe>=bn){U.splice(Ge,1);continue}mn.add(qe),le.push.apply(le,yl(qe)),tn.has(qe)&&Le.push(qe)}return co.subdata(le),ya(Le,{preventEvent:I}),mn.has(Bn)||mo(-1,{preventEvent:I}),new Promise(Ge=>{const qe=()=>{t.subscribe("draw",()=>{I||t.publish("filter",{points:U}),Ge()},1),Et=!0};Gt||po(Fn.points[0])?Sa(Fs()).then(()=>{I||t.publish("pointConnectionsDraw"),ya(Le,{preventEvent:I}),qe()}):qe()})},So=()=>gl(da[0],da[1],uo[0],uo[1]),ba=_8(()=>{rr=So().length},_),uf=f=>{const[I,U]=ul,[le,Le]=cl,Ge=1-f,qe=I*Ge+le*f,gt=U*Ge+Le*f,Ut=fl*Ge+dl*f;fe.lookAt([qe,gt],Ut)},cf=()=>lu(),ff=()=>X1(),df=(f,I)=>{ho||(ho=performance.now());const U=performance.now()-ho,le=jE(I(U/f),0,1);return cf()&&ru({t:le}),ff()&&uf(le),U<f},hf=()=>{zi=!1,ho=null,Ns=void 0,Is=void 0,Se=jc,W1(),Y1(),t.publish("transitionEnd")},Rl=({duration:f=500,easing:I=B6})=>{zi&&t.publish("transitionEnd"),zi=!0,ho=null,Ns=f,Is=Bm(I)?Rw[I]||B6:I,jc=Se,Se=!1,t.publish("transitionStart")},J1=f=>new Promise((I,U)=>{if(!f||Array.isArray(f))I(f);else{const le=Array.isArray(f.x)||ArrayBuffer.isView(f.x)?f.x.length:0,Le=(Array.isArray(f.x)||ArrayBuffer.isView(f.x))&&(Xt=>f.x[Xt]),Ge=(Array.isArray(f.y)||ArrayBuffer.isView(f.y))&&(Xt=>f.y[Xt]),qe=(Array.isArray(f.line)||ArrayBuffer.isView(f.line))&&(Xt=>f.line[Xt]),gt=(Array.isArray(f.lineOrder)||ArrayBuffer.isView(f.lineOrder))&&(Xt=>f.lineOrder[Xt]),Ut=Object.keys(f),jt=(()=>{const Xt=Ut.find(zt=>A8.has(zt));return Xt&&(Array.isArray(f[Xt])||ArrayBuffer.isView(f[Xt]))&&(zt=>f[Xt][zt])})(),Cn=(()=>{const Xt=Ut.find(zt=>C8.has(zt));return Xt&&(Array.isArray(f[Xt])||ArrayBuffer.isView(f[Xt]))&&(zt=>f[Xt][zt])})();Le&&Ge&&jt&&Cn&&qe&&gt?I(f.x.map((Xt,zt)=>[Xt,Ge(zt),jt(zt),Cn(zt),qe(zt),gt(zt)])):Le&&Ge&&jt&&Cn&&qe?I(Array.from({length:le},(Xt,zt)=>[Le(zt),Ge(zt),jt(zt),Cn(zt),qe(zt)])):Le&&Ge&&jt&&Cn?I(Array.from({length:le},(Xt,zt)=>[Le(zt),Ge(zt),jt(zt),Cn(zt)])):Le&&Ge&&jt?I(Array.from({length:le},(Xt,zt)=>[Le(zt),Ge(zt),jt(zt)])):Le&&Ge?I(Array.from({length:le},(Xt,zt)=>[Le(zt),Ge(zt)])):U(new Error("You need to specify at least x and y"))}}),Ta=(f,I={})=>me?Promise.reject(new Error("The instance was already destroyed")):J1(f).then(U=>new Promise(le=>{if(me){le();return}let Le=!1;(!I.preventFilterReset||(U==null?void 0:U.length)!==bn)&&(Nt=!1,mn.clear());const Ge=U&&po(U[0])&&(Gt||I.showPointConnectionsOnce),{zDataType:qe,wDataType:gt}=I;U&&(I.transition&&(U.length===bn?Le=of(U,{z:qe,w:gt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),wo(U,{z:qe,w:gt}),I.hover!==void 0&&mo(I.hover,{preventEvent:!0}),I.select!==void 0&&ya(I.select,{preventEvent:!0}),I.filter!==void 0&&sf(I.filter,{preventEvent:!0}),Ge&&Sa(U).then(()=>{t.publish("pointConnectionsDraw"),Et=!0,ji=I.showReticleOnce})),I.transition&&Le?(Ge?Promise.all([new Promise(Ut=>{t.subscribe("transitionEnd",()=>{Et=!0,ji=I.showReticleOnce,Ut()},1)}),new Promise(Ut=>{t.subscribe("pointConnectionsDraw",Ut,1)})]).then(le):t.subscribe("transitionEnd",()=>{Et=!0,ji=I.showReticleOnce,le()},1),Rl({duration:I.transitionDuration,easing:I.transitionEasing})):(Ge?Promise.all([new Promise(Ut=>{t.subscribe("draw",Ut,1)}),new Promise(Ut=>{t.subscribe("pointConnectionsDraw",Ut,1)})]).then(le):t.subscribe("draw",le,1),Et=!0,ji=I.showReticleOnce)})),On=f=>(...I)=>{const U=f(...I);return Et=!0,U},pf=f=>{let I=1/0,U=-1/0,le=1/0,Le=-1/0;for(let Ge=0;Ge<f.length;Ge++){const[qe,gt]=Fn.points[f[Ge]];I=Math.min(I,qe),U=Math.max(U,qe),le=Math.min(le,gt),Le=Math.max(Le,gt)}return{x:I,y:le,width:U-I,height:Le-le}},su=(f,I={})=>new Promise(U=>{const le=[f.x+f.width/2,f.y+f.height/2],Le=2*Math.atan(1),Ge=f.height*ni>f.width?f.height/2/Math.tan(Le/2):f.width/2/Math.tan(Le*ni/2);I.transition?(fe.config({isFixed:!0}),lf(le,Ge),t.subscribe("transitionEnd",()=>{U(),fe.config({isFixed:!1})},1),Rl({duration:I.transitionDuration,easing:I.transitionEasing})):(fe.lookAt(le,Ge),t.subscribe("draw",U,1),Et=!0)}),qi=(f,I={})=>{if(!gr)return Promise.reject(new Error(z6));const U=pf(f),le=U.x+U.width/2,Le=U.y+U.height/2,Ge=Gc(),qe=1+(I.padding||0),gt=Math.max(U.width,Ge)*qe,Ut=Math.max(U.height,Ge)*qe,jt=le-gt/2,Cn=Le-Ut/2;return su({x:jt,y:Cn,width:gt,height:Ut},I)},uu=(f,I,U={})=>new Promise(le=>{U.transition?(fe.config({isFixed:!0}),lf(f,I),t.subscribe("transitionEnd",()=>{le(),fe.config({isFixed:!1})},1),Rl({duration:U.transitionDuration,easing:U.transitionEasing})):(fe.lookAt(f,I),t.subscribe("draw",le,1),Et=!0)}),mf=(f={})=>uu([0,0],1,f),eh=f=>{if(!gr)throw new Error(z6);const I=Fn.points[f];if(!I)return;const U=[I[0],I[1],0,1];dr(n,bt,dr(n,fe.view,Tn)),Y0(U,U,n);const le=on*(U[0]+1)/2,Le=Kt*(.5-U[1]/2);return[le,Le]},cu=()=>{Zt.setStyle({color:Gs(mt,vt,be),opacity:xe===null?null:xe[0],width:_t[0]})},vf=()=>{const f=Math.round(ze)>.5?0:255;kn.initiator.style.border=`1px dashed rgba(${f}, ${f}, ${f}, 0.33)`,kn.initiator.style.background=`rgba(${f}, ${f}, ${f}, 0.1)`},gf=()=>{const f=Math.round(ze)>.5?0:255;kn.longPressIndicator.style.color=`rgb(${f}, ${f}, ${f})`,kn.longPressIndicator.dataset.color=`rgb(${f}, ${f}, ${f})`;const I=c.map(U=>Math.round(U*255));kn.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},fu=f=>{f&&(o=wr(f,!0),ze=W6(o),vf(),gf())},yf=f=>{f?Bm(f)?U6(a.regl,f).then(I=>{l=I,Et=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${f}`),l=null}):f._reglType==="texture2d"?l=f:l=null:l=null},th=f=>{f>0&&fe.lookAt(fe.target,f,fe.rotation)},xf=f=>{f!==null&&fe.lookAt(fe.target,fe.distance[0],f)},_f=f=>{f&&fe.lookAt(f,fe.distance[0],fe.rotation)},wf=f=>{f&&fe.setView(f)},Pl=f=>{if(!f)return;c=wr(f,!0),yt.setStyle({color:c});const I=c.map(U=>Math.round(U*255));kn.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},nh=f=>{Number.isNaN(+f)||+f<1||(v=+f,yt.setStyle({width:v}))},Ai=f=>{+f&&(x=+f,kn.set({minDelay:x}))},kl=f=>{+f&&(L=+f,kn.set({minDist:L}))},Ef=f=>{O=G6(Pw,O)(f)},Sf=f=>{g=!!f,kn.set({enableInitiator:g})},bf=f=>{E=f,kn.set({startInitiatorParentElement:E})},Tf=f=>{w=!!f},Af=f=>{P=Number(f)},Cf=f=>{z=Number(f)},Lf=f=>{Q=Number(f)},Rf=f=>{ue=Number(f)},Pf=f=>{ee=Object.entries(f).reduce((I,[U,le])=>(Bw.includes(U)&&$w.includes(le)&&(I[U]=le),I),{}),ol=H6(ee),ol[Od]?fe.config({isRotate:!0,mouseDownMoveModKey:ol[Od]}):fe.config({isRotate:!1})},Or=f=>{Ke=G6(Cw,iv)(f),fe.config({defaultMouseDownMoveAction:Ke===S8?"rotate":"pan"})},kf=f=>{f!==null&&(Se=f)},rh=f=>{f&&(je=wr(f,!0),Bi.setStyle({color:je}),so.setStyle({color:je}))},ai=f=>{f&&(Un=f,va=f.domain()[0],pl=f?f.domain()[1]-f.domain()[0]:0,Un.range([0,on]),Vi())},du=f=>{f&&(An=f,ml=An.domain()[0],vl=An?An.domain()[1]-An.domain()[0]:0,An.range([Kt,0]),Vi())},Qi=f=>{d=!!f},Ol=f=>{p=!!f},Of=f=>{Gt=!!f,Gt?po(Fn.points[0])&&Sa(Fs()).then(()=>{t.publish("pointConnectionsDraw"),Et=!0}):Sa()},Ml=(f,I)=>U=>{if(U==="inherit")f([...I()]);else{const le=Na(U)?U:[U];f(le.map(Le=>wr(Le,!0)))}cu()},Mf=Ml(f=>{mt=f},()=>Xe),Nf=Ml(f=>{vt=f},()=>tt),If=Ml(f=>{be=f},()=>Je),ih=f=>{Oa(f,Ma,{minLength:1})&&(xe=[...f]),T0(+f)&&(xe=[+f]),mt=mt.map(I=>(I[3]=Number.isNaN(+xe[0])?I[3]:+xe[0],I)),cu()},ah=f=>{!Number.isNaN(+f)&&+f&&(et=+f)},oh=f=>{Oa(f,Ma,{minLength:1})&&(_t=[...f]),T0(+f)&&(_t=[+f]),cu()},lh=f=>{!Number.isNaN(+f)&&+f&&(At=Math.max(0,f))},sh=f=>{It=Math.max(0,f)},uh=f=>{kt=Math.max(0,f)},ch=f=>{an=f,Ti()},Df=f=>{ct=+f},Ff=f=>{wt=+f},fh=f=>{Mt=+f},dh=f=>{a.gamma=f},hu=f=>{if(Op({property:!0}),f==="aspectRatio")return oe;if(f==="background"||f==="backgroundColor")return o;if(f==="backgroundImage")return l;if(f==="camera")return fe;if(f==="cameraTarget")return fe.target;if(f==="cameraDistance")return fe.distance[0];if(f==="cameraRotation")return fe.rotation;if(f==="cameraView")return fe.view;if(f==="canvas")return s;if(f==="colorBy")return u;if(f==="sizeBy")return St;if(f==="deselectOnDblClick")return d;if(f==="deselectOnEscape")return p;if(f==="height")return ft;if(f==="lassoColor")return c;if(f==="lassoLineWidth")return v;if(f==="lassoMinDelay")return x;if(f==="lassoMinDist")return L;if(f==="lassoClearEvent")return O;if(f==="lassoInitiator")return g;if(f==="lassoInitiatorElement")return kn.initiator;if(f==="lassoInitiatorParentElement")return E;if(f==="keyMap")return{...ee};if(f==="mouseMode")return Ke;if(f==="opacity")return Ft.length===1?Ft[0]:Ft;if(f==="opacityBy")return qt;if(f==="opacityByDensityFill")return ct;if(f==="opacityByDensityDebounceTime")return _;if(f==="opacityInactiveMax")return wt;if(f==="opacityInactiveScale")return Mt;if(f==="points")return Fn.points;if(f==="hoveredPoint")return Bn;if(f==="selectedPoints")return[...Ve];if(f==="filteredPoints")return Nt?Array.from(mn):Array.from({length:Fn.points.length},(I,U)=>U);if(f==="pointsInView")return So();if(f==="pointColor")return Xe.length===1?Xe[0]:Xe;if(f==="pointColorActive")return tt.length===1?tt[0]:tt;if(f==="pointColorHover")return Je.length===1?Je[0]:Je;if(f==="pointOutlineWidth")return Sn;if(f==="pointSize")return Ot.length===1?Ot[0]:Ot;if(f==="pointSizeSelected")return en;if(f==="pointSizeMouseDetection")return an;if(f==="showPointConnections")return Gt;if(f==="pointConnectionColor")return mt.length===1?mt[0]:mt;if(f==="pointConnectionColorActive")return vt.length===1?vt[0]:vt;if(f==="pointConnectionColorHover")return be.length===1?be[0]:be;if(f==="pointConnectionColorBy")return De;if(f==="pointConnectionOpacity")return xe.length===1?xe[0]:xe;if(f==="pointConnectionOpacityBy")return Ae;if(f==="pointConnectionOpacityActive")return et;if(f==="pointConnectionSize")return _t.length===1?_t[0]:_t;if(f==="pointConnectionSizeActive")return At;if(f==="pointConnectionSizeBy")return Yt;if(f==="pointConnectionMaxIntPointsPerSegment")return It;if(f==="pointConnectionTolerance")return kt;if(f==="reticleColor")return je;if(f==="regl")return a.regl;if(f==="showReticle")return Se;if(f==="version")return LS;if(f==="width")return $t;if(f==="xScale")return Un;if(f==="yScale")return An;if(f==="performanceMode")return vr;if(f==="gamma")return a.gamma;if(f==="renderer")return a;if(f==="isDestroyed")return me;if(f==="isPointsDrawn")return gr;if(f==="isPointsFiltered")return Nt;if(f==="zDataType")return Si;if(f==="wDataType")return Gi},bo=(f={})=>(Op(f),(f.backgroundColor!==void 0||f.background!==void 0)&&fu(f.backgroundColor||f.background),f.backgroundImage!==void 0&&yf(f.backgroundImage),f.cameraTarget!==void 0&&_f(f.cameraTarget),f.cameraDistance!==void 0&&th(f.cameraDistance),f.cameraRotation!==void 0&&xf(f.cameraRotation),f.cameraView!==void 0&&wf(f.cameraView),f.colorBy!==void 0&&Wc(f.colorBy),f.pointColor!==void 0&&L1(f.pointColor),f.pointColorActive!==void 0&&R1(f.pointColorActive),f.pointColorHover!==void 0&&bi(f.pointColorHover),f.pointSize!==void 0&&Vc(f.pointSize),f.pointSizeSelected!==void 0&&_a(f.pointSizeSelected),f.pointSizeMouseDetection!==void 0&&ch(f.pointSizeMouseDetection),f.sizeBy!==void 0&&N1(f.sizeBy),f.opacity!==void 0&&O1(f.opacity),f.showPointConnections!==void 0&&Of(f.showPointConnections),f.pointConnectionColor!==void 0&&Mf(f.pointConnectionColor),f.pointConnectionColorActive!==void 0&&Nf(f.pointConnectionColorActive),f.pointConnectionColorHover!==void 0&&If(f.pointConnectionColorHover),f.pointConnectionColorBy!==void 0&&Xc(f.pointConnectionColorBy),f.pointConnectionOpacityBy!==void 0&&nn(f.pointConnectionOpacityBy),f.pointConnectionOpacity!==void 0&&ih(f.pointConnectionOpacity),f.pointConnectionOpacityActive!==void 0&&ah(f.pointConnectionOpacityActive),f.pointConnectionSize!==void 0&&oh(f.pointConnectionSize),f.pointConnectionSizeActive!==void 0&&lh(f.pointConnectionSizeActive),f.pointConnectionSizeBy!==void 0&&Yc(f.pointConnectionSizeBy),f.pointConnectionMaxIntPointsPerSegment!==void 0&&sh(f.pointConnectionMaxIntPointsPerSegment),f.pointConnectionTolerance!==void 0&&uh(f.pointConnectionTolerance),f.opacityBy!==void 0&&M1(f.opacityBy),f.lassoColor!==void 0&&Pl(f.lassoColor),f.lassoLineWidth!==void 0&&nh(f.lassoLineWidth),f.lassoMinDelay!==void 0&&Ai(f.lassoMinDelay),f.lassoMinDist!==void 0&&kl(f.lassoMinDist),f.lassoClearEvent!==void 0&&Ef(f.lassoClearEvent),f.lassoInitiator!==void 0&&Sf(f.lassoInitiator),f.lassoInitiatorParentElement!==void 0&&bf(f.lassoInitiatorParentElement),f.lassoOnLongPress!==void 0&&Tf(f.lassoOnLongPress),f.lassoLongPressTime!==void 0&&Af(f.lassoLongPressTime),f.lassoLongPressAfterEffectTime!==void 0&&Cf(f.lassoLongPressAfterEffectTime),f.lassoLongPressEffectDelay!==void 0&&Lf(f.lassoLongPressEffectDelay),f.lassoLongPressRevertEffectTime!==void 0&&Rf(f.lassoLongPressRevertEffectTime),f.keyMap!==void 0&&Pf(f.keyMap),f.mouseMode!==void 0&&Or(f.mouseMode),f.showReticle!==void 0&&kf(f.showReticle),f.reticleColor!==void 0&&rh(f.reticleColor),f.pointOutlineWidth!==void 0&&Hc(f.pointOutlineWidth),f.height!==void 0&&k1(f.height),f.width!==void 0&&Ws(f.width),f.aspectRatio!==void 0&&C1(f.aspectRatio),f.xScale!==void 0&&ai(f.xScale),f.yScale!==void 0&&du(f.yScale),f.deselectOnDblClick!==void 0&&Qi(f.deselectOnDblClick),f.deselectOnEscape!==void 0&&Ol(f.deselectOnEscape),f.opacityByDensityFill!==void 0&&Df(f.opacityByDensityFill),f.opacityInactiveMax!==void 0&&Ff(f.opacityInactiveMax),f.opacityInactiveScale!==void 0&&fh(f.opacityInactiveScale),f.gamma!==void 0&&dh(f.gamma),new Promise(I=>{window.requestAnimationFrame(()=>{s&&(Vs(),fe.refresh(),a.refresh(),Et=!0,I())})})),hh=(f,{preventEvent:I=!1}={})=>{wf(f),Et=!0,ll=I},$f=()=>{fe||(fe=Z_(s,{isPanInverted:[!1,!0]})),e.cameraView?fe.setView(P6(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?fe.lookAt([...e.cameraTarget||cE],e.cameraDistance||fE,e.cameraRotation||dE):fe.setView(P6(hE)),uo=Rr(1,1),da=Rr(-1,-1)},ph=({preventEvent:f=!1}={})=>{$f(),Vi(),!f&&t.publish("view",{view:fe.view,camera:fe,xScale:Un,yScale:An})},Bf=({key:f})=>{switch(f){case"Escape":p&&xl();break}},jf=()=>{Ur=!0,Ei=!0},pu=()=>{mo(),Ur=!1,Ei=!0,Et=!0},zf=()=>{Et=!0},mh=()=>{wo([]),Zt.clear()},To=()=>{fe.refresh();const f=$t===Mi,I=ft===Mi;if(f||I){const{width:U,height:le}=s.getBoundingClientRect();f&&ii(U),I&&Hi(le),Vs(),Et=!0}},vh=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),gh=()=>{Vs(),$f(),Vi(),yt=b0(a.regl,{color:c,width:v,is2d:!0}),Zt=b0(a.regl,{color:mt,colorHover:be,colorActive:vt,opacity:xe===null?null:xe[0],width:_t[0],widthActive:At,is2d:!0}),Bi=b0(a.regl,{color:je,width:1,is2d:!0}),so=b0(a.regl,{color:je,width:1,is2d:!0}),Ti(),s.addEventListener("wheel",zf),co=a.regl.buffer(),Ms=a.regl.buffer(),fo=a.regl.buffer({usage:"dynamic",type:"float",length:Aw*2}),ha=Us(),hl=Sl();const f=bo({backgroundImage:l,width:$t,height:ft,keyMap:ee});vf(),gf(),window.addEventListener("keyup",Bf,!1),window.addEventListener("blur",go,!1),window.addEventListener("mouseup",zs,!1),window.addEventListener("mousemove",ri,!1),s.addEventListener("mousedown",js,!1),s.addEventListener("mouseenter",jf,!1),s.addEventListener("mouseleave",pu,!1),s.addEventListener("click",wl,!1),s.addEventListener("dblclick",El,!1),"ResizeObserver"in window?(sl=new ResizeObserver(To),sl.observe(s)):(window.addEventListener("resize",To),window.addEventListener("orientationchange",To)),f.then(()=>{t.publish("init")})},Aa=a.onFrame(()=>{Ds=fe.tick(),!(!gr||!(Et||zi))&&(zi&&!df(Ns,Is)&&hf(),Ds&&(uo=Rr(1,1),da=Rr(-1,-1),qt==="density"&&ba()),a.render(()=>{const f=s.width/a.canvas.width,I=s.height/a.canvas.height;A1(f,I),l&&l._reglType&&V1(),ti.length>2&&au(),zi||Zt.draw({projection:Qc(),model:yo(),view:Cl()}),B1(),!dt&&(Se||ji)&&H1(),Bn>=0&&j1(),Ve.length&&U1(),yt.draw({projection:Qc(),model:yo(),view:Cl()})},s),Ds&&(Vi(),ll?ll=!1:t.publish("view",{view:fe.view,camera:fe,xScale:Un,yScale:An})),Et=!1,ji=!1,t.publish("draw"))}),yh=()=>{Et=!0},xh=()=>{gr=!1,me=!0,Aa(),window.removeEventListener("keyup",Bf,!1),window.removeEventListener("blur",go,!1),window.removeEventListener("mouseup",zs,!1),window.removeEventListener("mousemove",ri,!1),s.removeEventListener("mousedown",js,!1),s.removeEventListener("mouseenter",jf,!1),s.removeEventListener("mouseleave",pu,!1),s.removeEventListener("click",wl,!1),s.removeEventListener("dblclick",El,!1),s.removeEventListener("wheel",zf,!1),sl?sl.disconnect():(window.removeEventListener("resize",To),window.removeEventListener("orientationchange",To)),s=void 0,fe.dispose(),fe=void 0,yt.destroy(),kn.destroy(),Zt.destroy(),Bi.destroy(),so.destroy(),e.renderer||a.destroy(),t.publish("destroy"),t.clear()};return gh(),{get isSupported(){return a.isSupported},clear:On(mh),createTextureFromUrl:(f,I=cv)=>U6(a.regl,f,I),deselect:xl,destroy:xh,draw:Ta,filter:sf,get:hu,getScreenPosition:eh,hover:mo,redraw:yh,refresh:a.refresh,reset:On(ph),select:ya,set:bo,export:vh,subscribe:t.subscribe,unfilter:Eo,unsubscribe:t.unsubscribe,view:hh,zoomToLocation:uu,zoomToArea:su,zoomToPoints:qi,zoomToOrigin:mf}};function q0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k8(e){let t,n,r;e.length!==2?(t=q0,n=(l,s)=>q0(e(l),s),r=(l,s)=>e(l)-s):(t=e===q0||e===PS?e:kS,n=e,r=e);function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<0?u=p+1:d=p}while(u<d)}return u}function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,s,u=0,d=l.length){const p=i(l,s,u,d-1);return p>u&&r(l[p-1],s)>-r(l[p],s)?p-1:p}return{left:i,center:o,right:a}}function kS(){return 0}function OS(e){return e===null?NaN:+e}const MS=k8(q0),NS=MS.right;k8(OS).center;const IS=NS;function O8(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class DS extends Map{constructor(t,n=BS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Y6(this,t))}has(t){return super.has(Y6(this,t))}set(t,n){return super.set(FS(this,t),n)}delete(t){return super.delete($S(this,t))}}function Y6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $S({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function BS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jS(e){return e}function zS(e,...t){return GS(e,Array.from,jS,t)}function GS(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const l=new DS,s=r[o++];let u=-1;for(const d of a){const p=s(d,++u,a),c=l.get(p);c?c.push(d):l.set(p,[d])}for(const[d,p]of l)l.set(d,i(p,o));return t(l)}(e,0)}const US=Math.sqrt(50),VS=Math.sqrt(10),HS=Math.sqrt(2);function Id(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=US?10:a>=VS?5:a>=HS?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Id(e,t,n*2):[l,s,u]}function jm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Id(t,e,n):Id(e,t,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)s[u]=(a-u)/-o;else for(let u=0;u<l;++u)s[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(i+u)/-o;else for(let u=0;u<l;++u)s[u]=(i+u)*o;return s}function zm(e,t,n){return t=+t,e=+e,n=+n,Id(e,t,n)[2]}function WS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zm(t,e,n):zm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function XS(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function fv(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function YS(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function f1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ps(){}var Jo=.7,Es=1/Jo,hs="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qS=/^#([0-9a-f]{3,8})$/,QS=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),ZS=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),KS=new RegExp(`^rgba\\(${hs},${hs},${hs},${_c}\\)$`),JS=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${_c}\\)$`),eb=new RegExp(`^hsl\\(${_c},${Fi},${Fi}\\)$`),tb=new RegExp(`^hsla\\(${_c},${Fi},${Fi},${_c}\\)$`),q6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f1(Ps,el,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Q6,formatHex:Q6,formatHex8:nb,formatHsl:rb,formatRgb:Z6,toString:Z6});function Q6(){return this.rgb().formatHex()}function nb(){return this.rgb().formatHex8()}function rb(){return N8(this).formatHsl()}function Z6(){return this.rgb().formatRgb()}function el(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?K6(t):n===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?C0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?C0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QS.exec(e))?new lr(t[1],t[2],t[3],1):(t=ZS.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KS.exec(e))?C0(t[1],t[2],t[3],t[4]):(t=JS.exec(e))?C0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eb.exec(e))?t4(t[1],t[2]/100,t[3]/100,1):(t=tb.exec(e))?t4(t[1],t[2]/100,t[3]/100,t[4]):q6.hasOwnProperty(e)?K6(q6[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function K6(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function C0(e,t,n,r){return r<=0&&(e=t=n=NaN),new lr(e,t,n,r)}function M8(e){return e instanceof Ps||(e=el(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function wc(e,t,n,r){return arguments.length===1?M8(e):new lr(e,t,n,r??1)}function lr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}f1(lr,wc,dv(Ps,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr(Ho(this.r),Ho(this.g),Ho(this.b),Dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J6,formatHex:J6,formatHex8:ib,formatRgb:e4,toString:e4}));function J6(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function ib(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function e4(){const e=Dd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ho(this.r)}, ${Ho(this.g)}, ${Ho(this.b)}${e===1?")":`, ${e})`}`}function Dd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return e=Ho(e),(e<16?"0":"")+e.toString(16)}function t4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,n,r)}function N8(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof Ps||(e=el(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new hi(o,l,s,e.opacity)}function ab(e,t,n,r){return arguments.length===1?N8(e):new hi(e,t,n,r??1)}function hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}f1(hi,ab,dv(Ps,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new lr(Np(e>=240?e-240:e+120,i,r),Np(e,i,r),Np(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hi(n4(this.h),L0(this.s),L0(this.l),Dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dd(this.opacity);return`${e===1?"hsl(":"hsla("}${n4(this.h)}, ${L0(this.s)*100}%, ${L0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n4(e){return e=(e||0)%360,e<0?e+360:e}function L0(e){return Math.max(0,Math.min(1,e||0))}function Np(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ob=Math.PI/180,lb=180/Math.PI;var I8=-.14861,hv=1.78277,pv=-.29227,d1=-.90649,Ec=1.97294,r4=Ec*d1,i4=Ec*hv,a4=hv*pv-d1*I8;function sb(e){if(e instanceof Wo)return new Wo(e.h,e.s,e.l,e.opacity);e instanceof lr||(e=M8(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(a4*r+r4*t-i4*n)/(a4+r4-i4),a=r-i,o=(Ec*(n-i)-pv*a)/d1,l=Math.sqrt(o*o+a*a)/(Ec*i*(1-i)),s=l?Math.atan2(o,a)*lb-120:NaN;return new Wo(s<0?s+360:s,l,i,e.opacity)}function no(e,t,n,r){return arguments.length===1?sb(e):new Wo(e,t,n,r??1)}function Wo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}f1(Wo,no,dv(Ps,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new Wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new Wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ob,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new lr(255*(t+n*(I8*r+hv*i)),255*(t+n*(pv*r+d1*i)),255*(t+n*(Ec*r)),this.opacity)}}));const h1=e=>()=>e;function D8(e,t){return function(n){return e+n*t}}function ub(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cb(e,t){var n=t-e;return n?D8(e,n>180||n<-180?n-360*Math.round(n/360):n):h1(isNaN(e)?t:e)}function fb(e){return(e=+e)==1?ps:function(t,n){return n-t?ub(t,n,e):h1(isNaN(t)?n:t)}}function ps(e,t){var n=t-e;return n?D8(e,n):h1(isNaN(e)?t:e)}const Fd=function e(t){var n=fb(t);function r(i,a){var o=n((i=wc(i)).r,(a=wc(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),u=ps(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function db(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function hb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pb(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=p1(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function mb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function di(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vb(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=p1(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Gm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ip=new RegExp(Gm.source,"g");function gb(e){return function(){return e}}function yb(e){return function(t){return e(t)+""}}function F8(e,t){var n=Gm.lastIndex=Ip.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Gm.exec(e))&&(i=Ip.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:di(r,i)})),n=Ip.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?yb(s[0].x):gb(t):(t=s.length,function(u){for(var d=0,p;d<t;++d)l[(p=s[d]).i]=p.x(u);return l.join("")})}function p1(e,t){var n=typeof t,r;return t==null||n==="boolean"?h1(t):(n==="number"?di:n==="string"?(r=el(t))?(t=r,Fd):F8:t instanceof el?Fd:t instanceof Date?mb:hb(t)?db:Array.isArray(t)?pb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vb:di)(e,t)}function $8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var o4=180/Math.PI,Um={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B8(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*o4,skewX:Math.atan(s)*o4,scaleX:o,scaleY:l}}var R0;function xb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Um:B8(t.a,t.b,t.c,t.d,t.e,t.f)}function _b(e){return e==null||(R0||(R0=document.createElementNS("http://www.w3.org/2000/svg","g")),R0.setAttribute("transform",e),!(e=R0.transform.baseVal.consolidate()))?Um:(e=e.matrix,B8(e.a,e.b,e.c,e.d,e.e,e.f))}function j8(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,d,p,c,v,x){if(u!==p||d!==c){var L=v.push("translate(",null,t,null,n);x.push({i:L-4,x:di(u,p)},{i:L-2,x:di(d,c)})}else(p||c)&&v.push("translate("+p+t+c+n)}function o(u,d,p,c){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),c.push({i:p.push(i(p)+"rotate(",null,r)-2,x:di(u,d)})):d&&p.push(i(p)+"rotate("+d+r)}function l(u,d,p,c){u!==d?c.push({i:p.push(i(p)+"skewX(",null,r)-2,x:di(u,d)}):d&&p.push(i(p)+"skewX("+d+r)}function s(u,d,p,c,v,x){if(u!==p||d!==c){var L=v.push(i(v)+"scale(",null,",",null,")");x.push({i:L-4,x:di(u,p)},{i:L-2,x:di(d,c)})}else(p!==1||c!==1)&&v.push(i(v)+"scale("+p+","+c+")")}return function(u,d){var p=[],c=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,p,c),o(u.rotate,d.rotate,p,c),l(u.skewX,d.skewX,p,c),s(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,c),u=d=null,function(v){for(var x=-1,L=c.length,O;++x<L;)p[(O=c[x]).i]=O.x(v);return p.join("")}}}var wb=j8(xb,"px, ","px)","deg)"),Eb=j8(_b,", ",")",")");function z8(e){return function t(n){n=+n;function r(i,a){var o=e((i=no(i)).h,(a=no(a)).h),l=ps(i.s,a.s),s=ps(i.l,a.l),u=ps(i.opacity,a.opacity);return function(d){return i.h=o(d),i.s=l(d),i.l=s(Math.pow(d,n)),i.opacity=u(d),i+""}}return r.gamma=t,r}(1)}z8(cb);var G8=z8(ps);function Sb(e){return function(){return e}}function bb(e){return+e}var l4=[0,1];function Va(e){return e}function Vm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Sb(isNaN(t)?NaN:.5)}function Tb(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ab(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Vm(i,r),a=n(o,a)):(r=Vm(r,i),a=n(a,o)),function(l){return a(r(l))}}function Cb(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Vm(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var s=IS(e,l,1,r)-1;return a[s](i[s](l))}}function mv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vv(){var e=l4,t=l4,n=p1,r,i,a,o=Va,l,s,u;function d(){var c=Math.min(e.length,t.length);return o!==Va&&(o=Tb(e[0],e[c-1])),l=c>2?Cb:Ab,s=u=null,p}function p(c){return c==null||isNaN(c=+c)?a:(s||(s=l(e.map(r),t,n)))(r(o(c)))}return p.invert=function(c){return o(i((u||(u=l(t,e.map(r),di)))(c)))},p.domain=function(c){return arguments.length?(e=Array.from(c,bb),d()):e.slice()},p.range=function(c){return arguments.length?(t=Array.from(c),d()):t.slice()},p.rangeRound=function(c){return t=Array.from(c),n=$8,d()},p.clamp=function(c){return arguments.length?(o=c?!0:Va,d()):o!==Va},p.interpolate=function(c){return arguments.length?(n=c,d()):n},p.unknown=function(c){return arguments.length?(a=c,p):a},function(c,v){return r=c,i=v,d()}}function Lb(){return vv()(Va,Va)}function Rb(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ss(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function Pb(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function kb(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ob=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(e){if(!(t=Ob.exec(e)))throw new Error("invalid format: "+e);var t;return new gv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sc.prototype=gv.prototype;function gv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mb(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var U8;function Nb(e,t){var n=$d(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(U8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$d(e,Math.max(0,t+a-1))[0]}function s4(e,t){var n=$d(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rb,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s4(e*100,t),r:s4,s:Nb,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c4(e){return e}var f4=Array.prototype.map,d4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ib(e){var t=e.grouping===void 0||e.thousands===void 0?c4:Pb(f4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?c4:kb(f4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Sc(p);var c=p.fill,v=p.align,x=p.sign,L=p.symbol,O=p.zero,g=p.width,E=p.comma,w=p.precision,P=p.trim,z=p.type;z==="n"?(E=!0,z="g"):u4[z]||(w===void 0&&(w=12),P=!0,z="g"),(O||c==="0"&&v==="=")&&(O=!0,c="0",v="=");var Q=L==="$"?n:L==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",ue=L==="$"?r:/[%p]/.test(z)?o:"",ee=u4[z],Ke=/[defgprs%]/.test(z);w=w===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function Se(je){var Xe=Q,tt=ue,Je,Gt,mt;if(z==="c")tt=ee(je)+tt,je="";else{je=+je;var vt=je<0||1/je<0;if(je=isNaN(je)?s:ee(Math.abs(je),w),P&&(je=Mb(je)),vt&&+je==0&&x!=="+"&&(vt=!1),Xe=(vt?x==="("?x:l:x==="-"||x==="("?"":x)+Xe,tt=(z==="s"?d4[8+U8/3]:"")+tt+(vt&&x==="("?")":""),Ke){for(Je=-1,Gt=je.length;++Je<Gt;)if(mt=je.charCodeAt(Je),48>mt||mt>57){tt=(mt===46?i+je.slice(Je+1):je.slice(Je))+tt,je=je.slice(0,Je);break}}}E&&!O&&(je=t(je,1/0));var be=Xe.length+je.length+tt.length,De=be<g?new Array(g-be+1).join(c):"";switch(E&&O&&(je=t(De+je,De.length?g-tt.length:1/0),De=""),v){case"<":je=Xe+je+tt+De;break;case"=":je=Xe+De+je+tt;break;case"^":je=De.slice(0,be=De.length>>1)+Xe+je+tt+De.slice(be);break;default:je=De+Xe+je+tt;break}return a(je)}return Se.toString=function(){return p+""},Se}function d(p,c){var v=u((p=Sc(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Ss(c)/3)))*3,L=Math.pow(10,-x),O=d4[8+x/3];return function(g){return v(L*g)+O}}return{format:u,formatPrefix:d}}var P0,yv,V8;Db({thousands:",",grouping:[3],currency:["$",""]});function Db(e){return P0=Ib(e),yv=P0.format,V8=P0.formatPrefix,P0}function Fb(e){return Math.max(0,-Ss(Math.abs(e)))}function $b(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ss(t)/3)))*3-Ss(Math.abs(e)))}function Bb(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ss(t)-Ss(e))+1}function jb(e,t,n,r){var i=WS(e,t,n),a;switch(r=Sc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=$b(i,o))&&(r.precision=a),V8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bb(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Fb(i))&&(r.precision=a-(r.type==="%")*2);break}}return yv(r)}function xv(e){var t=e.domain;return e.ticks=function(n){var r=t();return jm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jb(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=zm(o,l,n),u===s)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function bc(){var e=Lb();return e.copy=function(){return mv(e,bc())},fv.apply(e,arguments),xv(e)}function zb(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function h4(e){return Math.log(e)}function p4(e){return Math.exp(e)}function Gb(e){return-Math.log(-e)}function Ub(e){return-Math.exp(-e)}function Vb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hb(e){return e===10?Vb:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Wb(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m4(e){return(t,n)=>-e(-t,n)}function Xb(e){const t=e(h4,p4),n=t.domain;let r=10,i,a;function o(){return i=Wb(r),a=Hb(r),n()[0]<0?(i=m4(i),a=m4(a),e(Gb,Ub)):e(h4,p4),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let u=s[0],d=s[s.length-1];const p=d<u;p&&([u,d]=[d,u]);let c=i(u),v=i(d),x,L;const O=l==null?10:+l;let g=[];if(!(r%1)&&v-c<O){if(c=Math.floor(c),v=Math.ceil(v),u>0){for(;c<=v;++c)for(x=1;x<r;++x)if(L=c<0?x/a(-c):x*a(c),!(L<u)){if(L>d)break;g.push(L)}}else for(;c<=v;++c)for(x=r-1;x>=1;--x)if(L=c>0?x/a(-c):x*a(c),!(L<u)){if(L>d)break;g.push(L)}g.length*2<O&&(g=jm(u,d,O))}else g=jm(c,v,Math.min(v-c,O)).map(a);return p?g.reverse():g},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Sc(s)).precision==null&&(s.trim=!0),s=yv(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=u?s(d):""}},t.nice=()=>n(zb(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function _v(){const e=Xb(vv()).domain([1,10]);return e.copy=()=>mv(e,_v()).base(e.base()),fv.apply(e,arguments),e}function v4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yb(e){var t=1,n=e(v4(t),g4(t));return n.constant=function(r){return arguments.length?e(v4(t=+r),g4(t)):t},xv(n)}function H8(){var e=Yb(vv());return e.copy=function(){return mv(e,H8()).constant(e.constant())},fv.apply(e,arguments)}function qb(){var e=0,t=1,n,r,i,a,o=Va,l=!1,s;function u(p){return p==null||isNaN(p=+p)?s:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(c){var v,x;return arguments.length?([v,x]=c,o=p(v,x),u):[o(0),o(1)]}}return u.range=d(p1),u.rangeRound=d($8),u.unknown=function(p){return arguments.length?(s=p,u):s},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),u}}function Qb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Hm(){var e=xv(qb()(Va));return e.copy=function(){return Qb(e,Hm())},YS.apply(e,arguments)}function m1(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}G8(no(-100,.75,.35),no(80,1.5,.8));var Zb=G8(no(260,.75,.35),no(80,1.5,.8));no();function v1(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}v1(m1("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Kb=v1(m1("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));v1(m1("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));v1(m1("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Jb="_scatter_lrznx_2",eT={scatter:Jb};wv.propTypes={points:Ze.array.isRequired,colors:Ze.array,width:Ze.number.isRequired,height:Ze.number.isRequired,pointScale:Ze.number,colorScaleType:Ze.oneOf(["categorical","continuous"]),colorInterpolator:Ze.func,opacityBy:Ze.string,duration:Ze.number,onScatter:Ze.func,onView:Ze.func,onSelect:Ze.func,onHover:Ze.func};const tT=e=>_v().domain([100,1e6]).range([6,1]).clamp(!0)(e),nT=e=>_v().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function wv({points:e,width:t,height:n,duration:r=0,pointScale:i=1,colorScaleType:a=null,colorInterpolator:o=Zb,opacityBy:l,onScatter:s,onView:u,onSelect:d,onHover:p}){const c=j.useRef(),v=j.useRef([-1,1]),x=j.useRef([-1,1]),L=bc().domain(v.current),O=bc().domain(x.current),g=j.useRef(null);j.useEffect(()=>{const w={canvas:c.current,width:t,height:n,pointColorHover:[.1,.1,.1,.5],xScale:L,yScale:O},P=RS(w);return g.current=P,u&&u(L,O),P.subscribe("view",({camera:z,view:Q,xScale:ue,yScale:ee})=>{v.current=ue.domain(),x.current=ee.domain(),u&&u(v.current,x.current)}),P.subscribe("select",({points:z})=>{d&&d(z)}),P.subscribe("deselect",()=>{d&&d([])}),P.subscribe("pointOver",z=>{p&&p(z)}),P.subscribe("pointOut",()=>{p&&p(null)}),s&&s(P),()=>{g.current=null,P.destroy()}},[t,n,s,u,d,p]);const E=j.useRef();return j.useEffect(()=>{const w=g.current,P=E.current;if(w&&e&&e.length){const z=tT(e.length)*i,Q=nT(e.length);let ue=[250/255,128/255,114/255,1];if(a==="categorical"){const ee=zS(e.map(Se=>Se[2]),Se=>Se).map(Se=>Se[0]).sort((Se,je)=>Se-je),Ke=Hm(o).domain(O8(ee).reverse());ue=ee.map(Se=>wc(Ke(Se)).hex())}else if(a==="continuous"){let ee=XS(0,100);const Ke=Hm(o).domain([0,100]);ue=ee.map(Se=>wc(Ke(Se)).hex())}a&&w.set({colorBy:"valueA"}),l?w.set({opacityBy:l,sizeBy:l,opacity:[.1,.2,.3,.4,.5,1],pointSize:[2,4,5,6,z]}):w.set({opacity:Q,pointSize:z}),P&&P.length===e.length?(console.log("transitioning scatterplot"),w.draw(e,{transition:!0,transitionDuration:r}).then(()=>{w.set({pointColor:ue}),w.draw(e,{transition:!1})})):(console.log("fresh draw scatterplot"),w.set({pointColor:ue}),w.draw(e,{transition:!1})),E.current=e}},[e,t,n,a,o,r,i]),W.jsx("canvas",{className:eT.scatter,ref:c})}const ja=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:a,yDomain:o,width:l,height:s})=>{const u=j.useRef();return j.useEffect(()=>{if(a&&o){const d=bc().domain(a).range([0,l]),p=bc().domain(o).range([s,0]),c=O=>O/(.1+a[1]-a[0]),x=u.current.getContext("2d");x.clearRect(0,0,l,s),x.fillStyle=t,x.strokeStyle=n,x.font=`${c(r)}px monospace`,x.globalAlpha=.75;let L=c(r);if(!e.length)return;e.map(O=>{O&&(t&&x.fillRect(d(O[0])-L/2,p(O[1])-L/2,L,L),n&&x.strokeRect(d(O[0])-L/2,p(O[1])-L/2,L,L),i&&x.fillText(i,d(O[0])-L/3.2,p(O[1])+L/3.2))})}},[e,t,n,r,a,o,l,s]),W.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function Vl(e){return function(){return e}}const Wm=Math.PI,Xm=2*Wm,Fo=1e-6,rT=Xm-Fo;function W8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return W8;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let aT=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?W8:iT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,u=i-n,d=o-t,p=l-n,c=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>Fo)if(!(Math.abs(p*s-u*d)>Fo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,x=i-l,L=s*s+u*u,O=v*v+x*x,g=Math.sqrt(L),E=Math.sqrt(c),w=a*Math.tan((Wm-Math.acos((L+c-O)/(2*g*E)))/2),P=w/E,z=w/g;Math.abs(P-1)>Fo&&this._append`L${t+P*d},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*v>d*x)},${this._x1=t+z*s},${this._y1=n+z*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,d=n+s,p=1^o,c=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-d)>Fo)&&this._append`L${u},${d}`,r&&(c<0&&(c=c%Xm+Xm),c>rT?this._append`A${r},${r},0,1,${p},${t-l},${n-s}A${r},${r},0,1,${p},${this._x1=u},${this._y1=d}`:c>Fo&&this._append`A${r},${r},0,${+(c>=Wm)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function oT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new aT(t)}function lT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X8(e){this._context=e}X8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sT(e){return new X8(e)}function uT(e){return e[0]}function cT(e){return e[1]}function y4(e,t){var n=Vl(!0),r=null,i=sT,a=null,o=oT(l);e=typeof e=="function"?e:e===void 0?uT:Vl(e),t=typeof t=="function"?t:t===void 0?cT:Vl(t);function l(s){var u,d=(s=lT(s)).length,p,c=!1,v;for(r==null&&(a=i(v=o())),u=0;u<=d;++u)!(u<d&&n(p=s[u],u,s))===c&&((c=!c)?a.lineStart():a.lineEnd()),c&&a.point(+e(p,u,s),+t(p,u,s));if(v)return a=null,v+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Vl(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Vl(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Vl(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}function x4(){}function Y8(e){this._context=e}Y8.prototype={areaStart:x4,areaEnd:x4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _4(e){return new Y8(e)}var Ym="http://www.w3.org/1999/xhtml";const w4={svg:"http://www.w3.org/2000/svg",xhtml:Ym,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function g1(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),w4.hasOwnProperty(t)?{space:w4[t],local:e}:e}function fT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ym&&t.documentElement.namespaceURI===Ym?t.createElement(e):t.createElementNS(n,e)}}function dT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function q8(e){var t=g1(e);return(t.local?dT:fT)(t)}function hT(){}function Ev(e){return e==null?hT:function(){return this.querySelector(e)}}function pT(e){typeof e!="function"&&(e=Ev(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,u,d=0;d<o;++d)(s=a[d])&&(u=e.call(s,s.__data__,d,a))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u);return new jr(r,this._parents)}function mT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vT(){return[]}function Q8(e){return e==null?vT:function(){return this.querySelectorAll(e)}}function gT(e){return function(){return mT(e.apply(this,arguments))}}function yT(e){typeof e=="function"?e=gT(e):e=Q8(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&(r.push(e.call(s,s.__data__,u,o)),i.push(s));return new jr(r,i)}function Z8(e){return function(){return this.matches(e)}}function K8(e){return function(t){return t.matches(e)}}var xT=Array.prototype.find;function _T(e){return function(){return xT.call(this.children,e)}}function wT(){return this.firstElementChild}function ET(e){return this.select(e==null?wT:_T(typeof e=="function"?e:K8(e)))}var ST=Array.prototype.filter;function bT(){return Array.from(this.children)}function TT(e){return function(){return ST.call(this.children,e)}}function AT(e){return this.selectAll(e==null?bT:TT(typeof e=="function"?e:K8(e)))}function CT(e){typeof e!="function"&&(e=Z8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new jr(r,this._parents)}function J8(e){return new Array(e.length)}function LT(){return new jr(this._enter||this._groups.map(J8),this._parents)}function Bd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bd.prototype={constructor:Bd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function RT(e){return function(){return e}}function PT(e,t,n,r,i,a){for(var o=0,l,s=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new Bd(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function kT(e,t,n,r,i,a,o){var l,s,u=new Map,d=t.length,p=a.length,c=new Array(d),v;for(l=0;l<d;++l)(s=t[l])&&(c[l]=v=o.call(s,s.__data__,l,t)+"",u.has(v)?i[l]=s:u.set(v,s));for(l=0;l<p;++l)v=o.call(e,a[l],l,a)+"",(s=u.get(v))?(r[l]=s,s.__data__=a[l],u.delete(v)):n[l]=new Bd(e,a[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function OT(e){return e.__data__}function MT(e,t){if(!arguments.length)return Array.from(this,OT);var n=t?kT:PT,r=this._parents,i=this._groups;typeof e!="function"&&(e=RT(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),u=0;u<a;++u){var d=r[u],p=i[u],c=p.length,v=NT(e.call(d,d&&d.__data__,u,r)),x=v.length,L=l[u]=new Array(x),O=o[u]=new Array(x),g=s[u]=new Array(c);n(d,p,L,O,g,v,t);for(var E=0,w=0,P,z;E<x;++E)if(P=L[E]){for(E>=w&&(w=E+1);!(z=O[w])&&++w<x;);P._next=z||null}}return o=new jr(o,r),o._enter=l,o._exit=s,o}function NT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IT(){return new jr(this._exit||this._groups.map(J8),this._parents)}function DT(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function FT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u=n[s],d=r[s],p=u.length,c=l[s]=new Array(p),v,x=0;x<p;++x)(v=u[x]||d[x])&&(c[x]=v);for(;s<i;++s)l[s]=n[s];return new jr(l,this._parents)}function $T(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function BT(e){e||(e=jT);function t(p,c){return p&&c?e(p.__data__,c.__data__):!p-!c}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(s[d]=u);s.sort(t)}return new jr(i,this._parents).order()}function jT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function GT(){return Array.from(this)}function UT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function VT(){let e=0;for(const t of this)++e;return e}function HT(){return!this.node()}function WT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function XT(e){return function(){this.removeAttribute(e)}}function YT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qT(e,t){return function(){this.setAttribute(e,t)}}function QT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ZT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function KT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function JT(e,t){var n=g1(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?YT:XT:typeof t=="function"?n.local?KT:ZT:n.local?QT:qT)(n,t))}function ey(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function eA(e){return function(){this.style.removeProperty(e)}}function tA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function nA(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function rA(e,t,n){return arguments.length>1?this.each((t==null?eA:typeof t=="function"?nA:tA)(e,t,n??"")):bs(this.node(),e)}function bs(e,t){return e.style.getPropertyValue(t)||ey(e).getComputedStyle(e,null).getPropertyValue(t)}function iA(e){return function(){delete this[e]}}function aA(e,t){return function(){this[e]=t}}function oA(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function lA(e,t){return arguments.length>1?this.each((t==null?iA:typeof t=="function"?oA:aA)(e,t)):this.node()[e]}function ty(e){return e.trim().split(/^|\s+/)}function Sv(e){return e.classList||new ny(e)}function ny(e){this._node=e,this._names=ty(e.getAttribute("class")||"")}ny.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ry(e,t){for(var n=Sv(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function iy(e,t){for(var n=Sv(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function sA(e){return function(){ry(this,e)}}function uA(e){return function(){iy(this,e)}}function cA(e,t){return function(){(t.apply(this,arguments)?ry:iy)(this,e)}}function fA(e,t){var n=ty(e+"");if(arguments.length<2){for(var r=Sv(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?cA:t?sA:uA)(n,t))}function dA(){this.textContent=""}function hA(e){return function(){this.textContent=e}}function pA(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mA(e){return arguments.length?this.each(e==null?dA:(typeof e=="function"?pA:hA)(e)):this.node().textContent}function vA(){this.innerHTML=""}function gA(e){return function(){this.innerHTML=e}}function yA(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xA(e){return arguments.length?this.each(e==null?vA:(typeof e=="function"?yA:gA)(e)):this.node().innerHTML}function _A(){this.nextSibling&&this.parentNode.appendChild(this)}function wA(){return this.each(_A)}function EA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SA(){return this.each(EA)}function bA(e){var t=typeof e=="function"?e:q8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function TA(){return null}function AA(e,t){var n=typeof e=="function"?e:q8(e),r=t==null?TA:typeof t=="function"?t:Ev(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function CA(){var e=this.parentNode;e&&e.removeChild(this)}function LA(){return this.each(CA)}function RA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kA(e){return this.select(e?PA:RA)}function OA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function MA(e){return function(t){e.call(this,t,this.__data__)}}function NA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function IA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function DA(e,t,n){return function(){var r=this.__on,i,a=MA(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function FA(e,t,n){var r=NA(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,d;s<u;++s)for(i=0,d=l[s];i<a;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?DA:IA,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function ay(e,t,n){var r=ey(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $A(e,t){return function(){return ay(this,e,t)}}function BA(e,t){return function(){return ay(this,e,t.apply(this,arguments))}}function jA(e,t){return this.each((typeof t=="function"?BA:$A)(e,t))}function*zA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var oy=[null];function jr(e,t){this._groups=e,this._parents=t}function Dc(){return new jr([[document.documentElement]],oy)}function GA(){return this}jr.prototype=Dc.prototype={constructor:jr,select:pT,selectAll:yT,selectChild:ET,selectChildren:AT,filter:CT,data:MT,enter:LT,exit:IT,join:DT,merge:FT,selection:GA,order:$T,sort:BT,call:zT,nodes:GT,node:UT,size:VT,empty:HT,each:WT,attr:JT,style:rA,property:lA,classed:fA,text:mA,html:xA,raise:wA,lower:SA,append:bA,insert:AA,remove:LA,clone:kA,datum:OA,on:FA,dispatch:jA,[Symbol.iterator]:zA};function E4(e){return typeof e=="string"?new jr([[document.querySelector(e)]],[document.documentElement]):new jr([[e]],oy)}var UA={value:()=>{}};function ly(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Q0(n)}function Q0(e){this._=e}function VA(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Q0.prototype=ly.prototype={constructor:Q0,on:function(e,t){var n=this._,r=VA(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=HA(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=S4(n[i],e.name,t);else if(t==null)for(i in n)n[i]=S4(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Q0(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function HA(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function S4(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=UA,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ts=0,Gu=0,Fu=0,sy=1e3,jd,Uu,zd=0,tl=0,y1=0,Tc=typeof performance=="object"&&performance.now?performance:Date,uy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bv(){return tl||(uy(WA),tl=Tc.now()+y1)}function WA(){tl=0}function Gd(){this._call=this._time=this._next=null}Gd.prototype=cy.prototype={constructor:Gd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?bv():+n)+(t==null?0:+t),!this._next&&Uu!==this&&(Uu?Uu._next=this:jd=this,Uu=this),this._call=e,this._time=n,qm()},stop:function(){this._call&&(this._call=null,this._time=1/0,qm())}};function cy(e,t,n){var r=new Gd;return r.restart(e,t,n),r}function XA(){bv(),++Ts;for(var e=jd,t;e;)(t=tl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ts}function b4(){tl=(zd=Tc.now())+y1,Ts=Gu=0;try{XA()}finally{Ts=0,qA(),tl=0}}function YA(){var e=Tc.now(),t=e-zd;t>sy&&(y1-=t,zd=e)}function qA(){for(var e,t=jd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jd=n);Uu=e,qm(r)}function qm(e){if(!Ts){Gu&&(Gu=clearTimeout(Gu));var t=e-tl;t>24?(e<1/0&&(Gu=setTimeout(b4,e-Tc.now()-y1)),Fu&&(Fu=clearInterval(Fu))):(Fu||(zd=Tc.now(),Fu=setInterval(YA,sy)),Ts=1,uy(b4))}}function T4(e,t,n){var r=new Gd;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var QA=ly("start","end","cancel","interrupt"),ZA=[],fy=0,A4=1,Qm=2,Z0=3,C4=4,Zm=5,K0=6;function x1(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;KA(e,n,{name:t,index:r,group:i,on:QA,tween:ZA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fy})}function Tv(e,t){var n=yi(e,t);if(n.state>fy)throw new Error("too late; already scheduled");return n}function $i(e,t){var n=yi(e,t);if(n.state>Z0)throw new Error("too late; already running");return n}function yi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function KA(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cy(a,0,n.time);function a(u){n.state=A4,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,p,c,v;if(n.state!==A4)return s();for(d in r)if(v=r[d],v.name===n.name){if(v.state===Z0)return T4(o);v.state===C4?(v.state=K0,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=K0,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(T4(function(){n.state===Z0&&(n.state=C4,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Qm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qm){for(n.state=Z0,i=new Array(c=n.tween.length),d=0,p=-1;d<c;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=v);i.length=p+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Zm,1),p=-1,c=i.length;++p<c;)i[p].call(e,d);n.state===Zm&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=K0,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function JA(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Qm&&r.state<Zm,r.state=K0,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function eC(e){return this.each(function(){JA(this,e)})}function tC(e,t){var n,r;return function(){var i=$i(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function nC(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=$i(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function rC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yi(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?tC:nC)(n,e,t))}function Av(e,t,n){var r=e._id;return e.each(function(){var i=$i(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return yi(i,r).value[t]}}function dy(e,t){var n;return(typeof t=="number"?di:t instanceof el?Fd:(n=el(t))?(t=n,Fd):F8)(e,t)}function iC(e){return function(){this.removeAttribute(e)}}function aC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function lC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function sC(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function uC(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function cC(e,t){var n=g1(e),r=n==="transform"?Eb:dy;return this.attrTween(e,typeof t=="function"?(n.local?uC:sC)(n,r,Av(this,"attr."+e,t)):t==null?(n.local?aC:iC)(n):(n.local?lC:oC)(n,r,t))}function fC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&dC(e,a)),n}return i._value=t,i}function pC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&fC(e,a)),n}return i._value=t,i}function mC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=g1(e);return this.tween(n,(r.local?hC:pC)(r,t))}function vC(e,t){return function(){Tv(this,e).delay=+t.apply(this,arguments)}}function gC(e,t){return t=+t,function(){Tv(this,e).delay=t}}function yC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vC:gC)(t,e)):yi(this.node(),t).delay}function xC(e,t){return function(){$i(this,e).duration=+t.apply(this,arguments)}}function _C(e,t){return t=+t,function(){$i(this,e).duration=t}}function wC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xC:_C)(t,e)):yi(this.node(),t).duration}function EC(e,t){if(typeof t!="function")throw new Error;return function(){$i(this,e).ease=t}}function SC(e){var t=this._id;return arguments.length?this.each(EC(t,e)):yi(this.node(),t).ease}function bC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$i(this,e).ease=n}}function TC(e){if(typeof e!="function")throw new Error;return this.each(bC(this._id,e))}function AC(e){typeof e!="function"&&(e=Z8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new ua(r,this._parents,this._name,this._id)}function CC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],u=n[l],d=s.length,p=o[l]=new Array(d),c,v=0;v<d;++v)(c=s[v]||u[v])&&(p[v]=c);for(;l<r;++l)o[l]=t[l];return new ua(o,this._parents,this._name,this._id)}function LC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function RC(e,t,n){var r,i,a=LC(t)?Tv:$i;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function PC(e,t){var n=this._id;return arguments.length<2?yi(this.node(),n).on.on(e):this.each(RC(n,e,t))}function kC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function OC(){return this.on("end.remove",kC(this._id))}function MC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ev(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,u=a[o]=new Array(s),d,p,c=0;c<s;++c)(d=l[c])&&(p=e.call(d,d.__data__,c,l))&&("__data__"in d&&(p.__data__=d.__data__),u[c]=p,x1(u[c],t,n,c,u,yi(d,n)));return new ua(a,this._parents,t,n)}function NC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Q8(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],u=s.length,d,p=0;p<u;++p)if(d=s[p]){for(var c=e.call(d,d.__data__,p,s),v,x=yi(d,n),L=0,O=c.length;L<O;++L)(v=c[L])&&x1(v,t,n,L,c,x);a.push(c),o.push(d)}return new ua(a,o,t,n)}var IC=Dc.prototype.constructor;function DC(){return new IC(this._groups,this._parents)}function FC(e,t){var n,r,i;return function(){var a=bs(this,e),o=(this.style.removeProperty(e),bs(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function hy(e){return function(){this.style.removeProperty(e)}}function $C(e,t,n){var r,i=n+"",a;return function(){var o=bs(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function BC(e,t,n){var r,i,a;return function(){var o=bs(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),bs(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function jC(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=$i(this,e),u=s.on,d=s.value[a]==null?l||(l=hy(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(o,i=d),s.on=r}}function zC(e,t,n){var r=(e+="")=="transform"?wb:dy;return t==null?this.styleTween(e,FC(e,r)).on("end.style."+e,hy(e)):typeof t=="function"?this.styleTween(e,BC(e,r,Av(this,"style."+e,t))).each(jC(this._id,e)):this.styleTween(e,$C(e,r,t),n).on("end.style."+e,null)}function GC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function UC(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&GC(e,o,n)),r}return a._value=t,a}function VC(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,UC(e,t,n??""))}function HC(e){return function(){this.textContent=e}}function WC(e){return function(){var t=e(this);this.textContent=t??""}}function XC(e){return this.tween("text",typeof e=="function"?WC(Av(this,"text",e)):HC(e==null?"":e+""))}function YC(e){return function(t){this.textContent=e.call(this,t)}}function qC(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&YC(i)),t}return r._value=e,r}function QC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qC(e))}function ZC(){for(var e=this._name,t=this._id,n=py(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)if(s=o[u]){var d=yi(s,t);x1(s,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ua(r,this._parents,e,n)}function KC(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var u=$i(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&a()})}var JC=0;function ua(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function py(){return++JC}var Ji=Dc.prototype;ua.prototype={constructor:ua,select:MC,selectAll:NC,selectChild:Ji.selectChild,selectChildren:Ji.selectChildren,filter:AC,merge:CC,selection:DC,transition:ZC,call:Ji.call,nodes:Ji.nodes,node:Ji.node,size:Ji.size,empty:Ji.empty,each:Ji.each,on:PC,attr:cC,attrTween:mC,style:zC,styleTween:VC,text:XC,textTween:QC,remove:OC,tween:rC,delay:yC,duration:wC,ease:SC,easeVarying:TC,end:KC,[Symbol.iterator]:Ji[Symbol.iterator]};function my(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function eL(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function L4(e){return 1-eL(e)}var tL={time:null,delay:0,duration:250,ease:my};function nL(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function rL(e){var t,n;e instanceof ua?(t=e._id,e=e._name):(t=py(),(n=tL).time=bv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&x1(s,e,t,u,o,n||nL(s,t));return new ua(r,this._parents,e,t)}Dc.prototype.interrupt=eC;Dc.prototype.transition=rL;function iL(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function aL(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],l=r[1],s=0;++t<n;)i=o,a=l,r=e[t],o=r[0],l=r[1],i-=o,a-=l,s+=Math.sqrt(i*i+a*a);return s}var J0={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},oL=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function lL(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&oL.indexOf(e)>=0}function sL(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function uL(e){return(e|32)===97}function Hl(e){return e>=48&&e<=57}function cL(e){return e>=48&&e<=57||e===43||e===45||e===46}function fL(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function ed(e){for(;e.index<e.max&&lL(e.path.charCodeAt(e.index));)e.index++}function dL(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function hL(e){var t=e.index,n=t,r=e.max,i=!1,a=!1,o=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!Hl(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&Hl(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&Hl(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;Hl(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!a&&!o){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&Hl(e.path.charCodeAt(n)))for(;n<r&&Hl(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function Dp(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=J0[n]&&(e.result.push([t].concat(r.splice(0,J0[n]))),!!J0[n]););}function pL(e){var t=e.max,n,r,i,a,o;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=uL(n),!sL(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(a=J0[e.path[e.index].toLowerCase()],e.index++,ed(e),e.data=[],!a){Dp(e);return}for(i=!1;;){for(o=a;o>0;o--){if(r&&(o===3||o===4)?dL(e):hL(e),e.err.length){Dp(e);return}e.data.push(e.param),ed(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,ed(e),i=!0)}if(!i&&(e.index>=e.max||!cL(e.path.charCodeAt(e.index))))break}Dp(e)}var mL=function(t){var n=new fL(t),r=n.max;for(ed(n);n.index<r&&!n.err.length;)pL(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function vL(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function gi(){if(!(this instanceof gi))return new gi;this.queue=[],this.cache=null}gi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};gi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};gi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};gi.prototype.rotate=function(e,t,n){var r,i,a;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),a=Math.sin(r),this.queue.push([i,a,-a,i,0,0]),this.cache=null,this.translate(-t,-n)),this};gi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};gi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};gi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=vL(this.cache,this.queue[e]);return this.cache};gi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var vy=gi,gL=vy,yL={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},xL=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,_L=/[\s,]+/,wL=function(t){var n=new gL,r,i;return t.split(xL).forEach(function(a){if(a.length){if(typeof yL[a]<"u"){r=a;return}switch(i=a.split(_L).map(function(o){return+o||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},Ju=Math.PI*2;function R4(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function EL(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,v=l*l,x=d*d,L=p*p,O=c*v-c*L-v*x;O<0&&(O=0),O/=c*L+v*x,O=Math.sqrt(O)*(i===a?-1:1);var g=O*o/l*p,E=O*-l/o*d,w=u*g-s*E+(e+n)/2,P=s*g+u*E+(t+r)/2,z=(d-g)/o,Q=(p-E)/l,ue=(-d-g)/o,ee=(-p-E)/l,Ke=R4(1,0,z,Q),Se=R4(z,Q,ue,ee);return a===0&&Se>0&&(Se-=Ju),a===1&&Se<0&&(Se+=Ju),[w,P,Ke,Se]}function SL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}var bL=function(t,n,r,i,a,o,l,s,u){var d=Math.sin(u*Ju/360),p=Math.cos(u*Ju/360),c=p*(t-r)/2+d*(n-i)/2,v=-d*(t-r)/2+p*(n-i)/2;if(c===0&&v===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var x=c*c/(l*l)+v*v/(s*s);x>1&&(l*=Math.sqrt(x),s*=Math.sqrt(x));var L=EL(t,n,r,i,a,o,l,s,d,p),O=[],g=L[2],E=L[3],w=Math.max(Math.ceil(Math.abs(E)/(Ju/4)),1);E/=w;for(var P=0;P<w;P++)O.push(SL(g,E)),g+=E;return O.map(function(z){for(var Q=0;Q<z.length;Q+=2){var ue=z[Q+0],ee=z[Q+1];ue*=l,ee*=s;var Ke=p*ue-d*ee,Se=d*ue+p*ee;z[Q+0]=Ke+L[0],z[Q+1]=Se+L[1]}return z})},ec=1e-10,P4=Math.PI/180;function Ac(e,t,n){if(!(this instanceof Ac))return new Ac(e,t,n);this.rx=e,this.ry=t,this.ax=n}Ac.prototype.transform=function(e){var t=Math.cos(this.ax*P4),n=Math.sin(this.ax*P4),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],a=r[1]*r[1]+r[3]*r[3],o=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+a)/2;if(o<ec*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];o=Math.sqrt(o);var u=l+o/2,d=l-o/2;return this.ax=Math.abs(s)<ec&&Math.abs(u-a)<ec?90:Math.atan(Math.abs(s)>Math.abs(u-a)?(u-i)/s:s/(u-a))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(d)):(this.ax+=90,this.rx=Math.sqrt(d),this.ry=Math.sqrt(u)),this};Ac.prototype.isDegenerate=function(){return this.rx<ec*this.ry||this.ry<ec*this.rx};var TL=Ac,AL=mL,CL=wL,lo=vy,LL=bL,RL=TL;function _n(e){if(!(this instanceof _n))return new _n(e);var t=AL(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}_n.from=function(e){if(typeof e=="string")return new _n(e);if(e instanceof _n){var t=new _n("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return lo().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};_n.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,a,o){var l,s,u,d;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(a,r[1],!1),s=l[0]===e.calc(a,o,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],o,!1),s=l[1]===e.calc(a,o,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var p=e.toArray(),c=RL(r[1],r[2],r[3]).transform(p);if(p[0]*p[3]-p[1]*p[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===a&&r[7]===o||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":d=i>0,l=e.calc(r[1],r[2],d),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],d=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],d),s.push(l[0],l[1])}t.segments[i]=s},!0)};_n.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=lo(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};_n.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var a=this.segments[r],o=a[0];o!==t||o==="m"||o==="M"?(o==="m"&&t==="z"&&(e+=" "),e+=o,n=!1):n=!0;for(var l=1;l<a.length;l++){var s=a[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=o}return e};_n.prototype.translate=function(e,t){return this.__stack.push(lo().translate(e,t||0)),this};_n.prototype.scale=function(e,t){return this.__stack.push(lo().scale(e,!t&&t!==0?e:t)),this};_n.prototype.rotate=function(e,t,n){return this.__stack.push(lo().rotate(e,t||0,n||0)),this};_n.prototype.skewX=function(e){return this.__stack.push(lo().skewX(e)),this};_n.prototype.skewY=function(e){return this.__stack.push(lo().skewY(e)),this};_n.prototype.matrix=function(e){return this.__stack.push(lo().matrix(e)),this};_n.prototype.transform=function(e){return e.trim()?(this.__stack.push(CL(e)),this):this};_n.prototype.round=function(e){var t=0,n=0,r=0,i=0,a;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(o){var l=o[0].toLowerCase()===o[0];switch(o[0]){case"H":case"h":l&&(o[1]+=r),r=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"V":case"v":l&&(o[1]+=i),i=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(o[1]+=r,o[2]+=i),r=o[1]-o[1].toFixed(e),i=o[2]-o[2].toFixed(e),t=r,n=i,o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e);return;case"A":case"a":l&&(o[6]+=r,o[7]+=i),r=o[6]-o[6].toFixed(e),i=o[7]-o[7].toFixed(e),o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e),o[3]=+o[3].toFixed(e+2),o[6]=+o[6].toFixed(e),o[7]=+o[7].toFixed(e);return;default:a=o.length,l&&(o[a-2]+=r,o[a-1]+=i),r=o[a-2]-o[a-2].toFixed(e),i=o[a-1]-o[a-1].toFixed(e),o.forEach(function(s,u){u&&(o[u]=+o[u].toFixed(e))});return}}),this};_n.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,a=0,o=0,l=0,s=0,u,d,p;if(t||this.__evaluateStack(),n.forEach(function(c,v){var x=e(c,v,a,o);Array.isArray(x)&&(r[v]=x,i=!0);var L=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":a=c[1]+(L?a:0),o=c[2]+(L?o:0),l=a,s=o;return;case"h":case"H":a=c[1]+(L?a:0);return;case"v":case"V":o=c[1]+(L?o:0);return;case"z":case"Z":a=l,o=s;return;default:a=c[c.length-2]+(L?a:0),o=c[c.length-1]+(L?o:0)}}),!i)return this;for(p=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(d=0;d<r[u].length;d++)p.push(r[u][d]);else p.push(n[u]);return this.segments=p,this};_n.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toUpperCase(),o;if(i!==a)switch(e[0]=a,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(o=1;o<e.length;o++)e[o]+=o%2?n:r}},!0),this};_n.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toLowerCase(),o;if(i!==a&&!(t===0&&i==="M"))switch(e[0]=a,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(o=1;o<e.length;o++)e[o]-=o%2?n:r}},!0),this};_n.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,a,o,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(a=n+e[6],o=r+e[7]):(a=e[6],o=e[7]),i=LL(n,r,a,o,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};_n.prototype.unshort=function(){var e=this.segments,t,n,r,i,a;return this.iterate(function(o,l,s,u){var d=o[0],p=d.toUpperCase(),c;l&&(p==="T"?(c=d==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"q":"Q",i,a,o[1],o[2]]):p==="S"&&(c=d==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"c":"C",i,a,o[1],o[2],o[3],o[4]]))}),this};var PL=_n,kL=PL;const OL=Vd(kL);var Fp={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ML=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function NL(e){var t=[];return e.replace(ML,function(n,r,i){var a=r.toLowerCase();for(i=DL(i),a==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),a="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===Fp[a])return i.unshift(r),t.push(i);if(i.length<Fp[a])throw new Error("malformed path data");t.push([r].concat(i.splice(0,Fp[a])))}}),t}var IL=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function DL(e){var t=e.match(IL);return t?t.map(Number):[]}function si(e,t,n,r,i,a,o,l){return new Km(e,t,n,r,i,a,o,l)}function Km(e,t,n,r,i,a,o,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:a},this.d={x:o,y:l},o!=null&&l!==null&&l!==void 0?(this.getArcLength=WL,this.getPoint=BL,this.getDerivative=$L):(this.getArcLength=jL,this.getPoint=gy,this.getDerivative=FL),this.init()}Km.prototype={constructor:Km,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=$p(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=$p(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=$p(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var a=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:a.x,y:a.y,tangentX:i.x,tangentY:i.y}}};function FL(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function $L(e,t,n){var r=gy([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function $p(e,t,n,r,i){for(var a=1,o=e/t,l=(e-n(r,i,o))/t;a>.001;){var s=n(r,i,o+l),u=n(r,i,o-l),d=Math.abs(e-s)/t,p=Math.abs(e-u)/t;d<a?(a=d,o+=l):p<a?(a=p,o-=l):l/=2}return o}function gy(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function BL(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function jL(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],a=2*e[1]-2*e[0],o=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*a+i*o),u=a*a+o*o;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var d=s/(2*l),p=u/l,c=n+d,v=p-d*d;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+v)-d*Math.sqrt(d*d+v)+v*Math.log(Math.abs((c+Math.sqrt(c*c+v))/(d+Math.sqrt(d*d+v)))))}var zL=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],GL=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],UL=[[1],[1,1],[1,2,1],[1,3,3,1]];function VL(e,t){return UL[e][t]}function Jm(e,t,n){var r=n.length-1,i,a,o;if(r===0)return 0;if(e===0){for(a=0,o=0;o<=r;o++)a+=VL(r,o)*Math.pow(1-t,r-o)*Math.pow(t,o)*n[o];return a}else{for(i=new Array(r),o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return Jm(e-1,t,i)}}function HL(e,t,n){var r=Jm(1,n,e),i=Jm(1,n,t),a=r*r+i*i;return Math.sqrt(a)}function WL(e,t,n){var r,i,a,o;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,a=0;a<l;a++)o=r*zL[l][a]+r,i+=GL[l][a]*HL(e,t,o);return r*i}var tc=Math.PI*2;function k4(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function XL(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,v=l*l,x=d*d,L=p*p,O=c*v-c*L-v*x;O<0&&(O=0),O/=c*L+v*x,O=Math.sqrt(O)*(i===a?-1:1);var g=O*o/l*p,E=O*-l/o*d,w=u*g-s*E+(e+n)/2,P=s*g+u*E+(t+r)/2,z=(d-g)/o,Q=(p-E)/l,ue=(-d-g)/o,ee=(-p-E)/l,Ke=k4(1,0,z,Q),Se=k4(z,Q,ue,ee);return a===0&&Se>0&&(Se-=tc),a===1&&Se<0&&(Se+=tc),[w,P,Ke,Se]}function YL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}function qL(e,t,n,r,i,a,o,l,s){var u=Math.sin(i*tc/360),d=Math.cos(i*tc/360),p=d*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+d*(t-s)/2;if(p===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var v=p*p/(n*n)+c*c/(r*r);v>1&&(n*=Math.sqrt(v),r*=Math.sqrt(v));var x=XL(e,t,l,s,a,o,n,r,u,d),L=[],O=x[2],g=x[3],E=Math.max(Math.ceil(Math.abs(g)/(tc/4)),1);g/=E;for(var w=0;w<E;w++)L.push(YL(O,g)),O+=g;return L.map(function(P){for(var z=0;z<P.length;z+=2){var Q=P[z+0],ue=P[z+1];Q*=n,ue*=r;var ee=d*Q-u*ue,Ke=u*Q+d*ue;P[z+0]=ee+x[0],P[z+1]=Ke+x[1]}return P})}function O4(e,t,n,r,i,a,o,l,s){return new e2(e,t,n,r,i,a,o,l,s)}function e2(e,t,n,r,i,a,o,l,s){var u=0,d=[],p=[],c=qL(e,t,n,r,i,a,o,l,s);c.forEach(function(v){var x=new si(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]),L=x.getTotalLength();u+=L,d.push(L),p.push(x)}),this.length=u,this.partialLengths=d,this.curves=p}e2.prototype={constructor:e2,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function li(e,t,n,r){return new Fc(e,t,n,r)}function Fc(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}Fc.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};Fc.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};Fc.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};Fc.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function QL(e){var t=0,n=[],r=[];function i(o){if(!o)return null;for(var l=NL(o),s=[0,0],u=[0,0],d,p,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],p=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],p=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new li(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new li(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new li(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new li(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new li(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new li(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(p[0]-s[0],2)+Math.pow(p[1]-s[1],2)),r.push(new li(s[0],p[0],s[1],p[1])),s=[p[0],p[1]]):l[c][0]==="C"?(d=new si(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+d.getTotalLength(),s=[l[c][5],l[c][6]],r.push(d)):l[c][0]==="c"?(d=new si(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+d.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(d)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):d=new si(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+d.getTotalLength(),s=[l[c][3],l[c][4]],r.push(d)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],s[0]+d.d.x-d.c.x,s[1]+d.d.y-d.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):d=new si(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?d=new si(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):d=new li(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+d.getTotalLength(),r.push(d),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?d=new li(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):d=new si(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):d=new li(s[0],l[c][1],s[1],l[c][2]),r.push(d),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):d=new li(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(d)):l[c][0]==="A"?(d=new O4(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+d.getTotalLength(),s=[l[c][6],l[c][7]],r.push(d)):l[c][0]==="a"&&(d=new O4(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+d.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(d)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(o){var l=a(o);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(o){var l=a(o);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(o){var l=a(o);return r[l.i].getPropertiesAtLength(l.fraction)};var a=function(o){o<0?o=0:o>t&&(o=t);for(var l=n.length-1;n[l]>=o&&n[l]>0;)l--;return l++,{fraction:o-n[l-1],i:l}};return i(e)}function _1(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function yy(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function ZL(e,t){return _1(e,t)<1e-9}function KL(e,t,n){let r=e.map((i,a)=>JL(i,t[a]));return function(i){let a=r.map(o=>o(i));return n?nR(a):a}}function JL(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function Ud(e){return typeof e=="number"&&isFinite(e)}const t2=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function eR(e){return new OL(e).abs()}function tR(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function nR(e){return"M"+e.join("L")+"Z"}function rR(e,t){let n=eR(e);return iR(n)||aR(n,t)}function iR(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,a,o]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([a,o]);else if(i==="H")n.push([a,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],a]);else return!1}return n.length?{ring:n}:!1}function aR(e,t){let n=tR(e)[0],r=[],i,a,o=3;if(!n)throw new TypeError(t2);a=oR(n),i=a.getTotalLength(),t&&Ud(t)&&t>0&&(o=Math.max(o,Math.ceil(i/t)));for(let l=0;l<o;l++){let s=a.getPointAtLength(i*l/o);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function oR(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return QL(e)}function M4(e,t){const n=e.length+t,r=aL(e)/t;let i=0,a=0,o=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=_1(l,s);if(o<=a+u){e.splice(i+1,0,u?yy(l,s,(o-a)/u):l.slice(0)),o+=r;continue}a+=u,i++}}function lR(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;_1(r,i)>t;)i=yy(r,i,.5),e.splice(n+1,0,i)}}function N4(e,t){let n,r,i;if(typeof e=="string"){let a=rR(e,t);e=a.ring,i=a.skipBisect}else if(!Array.isArray(e))throw new TypeError(t2);if(n=e.slice(0),!sR(n))throw new TypeError(t2);return n.length>1&&ZL(n[0],n[n.length-1])&&n.pop(),r=iL(n),r>0&&n.reverse(),!i&&t&&Ud(t)&&t>0&&lR(n,t),n}function sR(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&Ud(t[0])&&Ud(t[1])})}function uR(e,t){let n=e.length,r=1/0,i,a,o;for(let l=0;l<n;l++)a=0,t.forEach(function(s,u){let d=_1(e[(l+u)%n],s);a+=d*d}),a<r&&(r=a,i=l);i&&(o=e.splice(0,i),e.splice(e.length,0,...o))}function cR(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=N4(e,n),a=N4(t,n),o=fR(i,a,r);return!r||typeof e!="string"&&typeof t!="string"?o:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:o(l)}function fR(e,t,n){let r;return r=e.length-t.length,M4(e,r<0?r*-1:0),M4(t,r>0?r:0),uR(e,t),KL(e,t,n)}var xy={exports:{}};xy.exports=w1;xy.exports.default=w1;function w1(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=_y(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var l,s,u,d,p,c,v;if(r&&(a=vR(e,t,a,n)),e.length>80*n){l=u=e[0],s=d=e[1];for(var x=n;x<i;x+=n)p=e[x],c=e[x+1],p<l&&(l=p),c<s&&(s=c),p>u&&(u=p),c>d&&(d=c);v=Math.max(u-l,d-s),v=v!==0?32767/v:0}return Cc(a,o,n,l,s,v,0),o}function _y(e,t,n,r,i){var a,o;if(i===i2(e,t,n,r)>0)for(a=t;a<n;a+=r)o=I4(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=I4(a,e[a],e[a+1],o);return o&&E1(o,o.next)&&(Rc(o),o=o.next),o}function nl(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(E1(n,n.next)||xn(n.prev,n,n.next)===0)){if(Rc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Cc(e,t,n,r,i,a,o){if(e){!o&&a&&wR(e,r,i,a);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,a?hR(e,r,i,a):dR(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Rc(e),e=u.next,l=u.next;continue}if(e=u,e===l){o?o===1?(e=pR(nl(e),t,n),Cc(e,t,n,r,i,a,2)):o===2&&mR(e,t,n,r,i,a):Cc(nl(e),t,n,r,i,a,1);break}}}}function dR(e){var t=e.prev,n=e,r=e.next;if(xn(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,l=t.y,s=n.y,u=r.y,d=i<a?i<o?i:o:a<o?a:o,p=l<s?l<u?l:u:s<u?s:u,c=i>a?i>o?i:o:a>o?a:o,v=l>s?l>u?l:u:s>u?s:u,x=r.next;x!==t;){if(x.x>=d&&x.x<=c&&x.y>=p&&x.y<=v&&os(i,l,a,s,o,u,x.x,x.y)&&xn(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function hR(e,t,n,r){var i=e.prev,a=e,o=e.next;if(xn(i,a,o)>=0)return!1;for(var l=i.x,s=a.x,u=o.x,d=i.y,p=a.y,c=o.y,v=l<s?l<u?l:u:s<u?s:u,x=d<p?d<c?d:c:p<c?p:c,L=l>s?l>u?l:u:s>u?s:u,O=d>p?d>c?d:c:p>c?p:c,g=n2(v,x,t,n,r),E=n2(L,O,t,n,r),w=e.prevZ,P=e.nextZ;w&&w.z>=g&&P&&P.z<=E;){if(w.x>=v&&w.x<=L&&w.y>=x&&w.y<=O&&w!==i&&w!==o&&os(l,d,s,p,u,c,w.x,w.y)&&xn(w.prev,w,w.next)>=0||(w=w.prevZ,P.x>=v&&P.x<=L&&P.y>=x&&P.y<=O&&P!==i&&P!==o&&os(l,d,s,p,u,c,P.x,P.y)&&xn(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;w&&w.z>=g;){if(w.x>=v&&w.x<=L&&w.y>=x&&w.y<=O&&w!==i&&w!==o&&os(l,d,s,p,u,c,w.x,w.y)&&xn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;P&&P.z<=E;){if(P.x>=v&&P.x<=L&&P.y>=x&&P.y<=O&&P!==i&&P!==o&&os(l,d,s,p,u,c,P.x,P.y)&&xn(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function pR(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!E1(i,a)&&wy(i,r,r.next,a)&&Lc(i,a)&&Lc(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Rc(r),Rc(r.next),r=e=a),r=r.next}while(r!==e);return nl(r)}function mR(e,t,n,r,i,a){var o=e;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&bR(o,l)){var s=Ey(o,l);o=nl(o,o.next),s=nl(s,s.next),Cc(o,t,n,r,i,a,0),Cc(s,t,n,r,i,a,0);return}l=l.next}o=o.next}while(o!==e)}function vR(e,t,n,r){var i=[],a,o,l,s,u;for(a=0,o=t.length;a<o;a++)l=t[a]*r,s=a<o-1?t[a+1]*r:e.length,u=_y(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push(SR(u));for(i.sort(gR),a=0;a<i.length;a++)n=yR(i[a],n);return n}function gR(e,t){return e.x-t.x}function yR(e,t){var n=xR(e,t);if(!n)return t;var r=Ey(n,e);return nl(r,r.next),nl(n,n.next)}function xR(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>a&&(a=l,o=n.x<n.next.x?n:n.next,l===r))return o}n=n.next}while(n!==t);if(!o)return null;var s=o,u=o.x,d=o.y,p=1/0,c;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&os(i<d?r:a,i,u,d,i<d?a:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),Lc(n,e)&&(c<p||c===p&&(n.x>o.x||n.x===o.x&&_R(o,n)))&&(o=n,p=c)),n=n.next;while(n!==s);return o}function _R(e,t){return xn(e.prev,e,t.prev)<0&&xn(t.next,e,e.next)<0}function wR(e,t,n,r){var i=e;do i.z===0&&(i.z=n2(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,ER(i)}function ER(e){var t,n,r,i,a,o,l,s,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return e}function n2(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function SR(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function os(e,t,n,r,i,a,o,l){return(i-o)*(t-l)>=(e-o)*(a-l)&&(e-o)*(r-l)>=(n-o)*(t-l)&&(n-o)*(a-l)>=(i-o)*(r-l)}function bR(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!TR(e,t)&&(Lc(e,t)&&Lc(t,e)&&AR(e,t)&&(xn(e.prev,e,t.prev)||xn(e,t.prev,t))||E1(e,t)&&xn(e.prev,e,e.next)>0&&xn(t.prev,t,t.next)>0)}function xn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function E1(e,t){return e.x===t.x&&e.y===t.y}function wy(e,t,n,r){var i=O0(xn(e,t,n)),a=O0(xn(e,t,r)),o=O0(xn(n,r,e)),l=O0(xn(n,r,t));return!!(i!==a&&o!==l||i===0&&k0(e,n,t)||a===0&&k0(e,r,t)||o===0&&k0(n,e,r)||l===0&&k0(n,t,r))}function k0(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function O0(e){return e>0?1:e<0?-1:0}function TR(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&wy(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Lc(e,t){return xn(e.prev,e,e.next)<0?xn(e,t,e.next)>=0&&xn(e,e.prev,t)>=0:xn(e,t,e.prev)<0||xn(e,e.next,t)<0}function AR(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function Ey(e,t){var n=new r2(e.i,e.x,e.y),r=new r2(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function I4(e,t,n,r){var i=new r2(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function r2(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}w1.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(i2(e,0,a,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,d=l<s-1?t[l+1]*n:e.length;o-=Math.abs(i2(e,u,d,n))}var p=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,v=r[l+1]*n,x=r[l+2]*n;p+=Math.abs((e[c]-e[x])*(e[v+1]-e[c+1])-(e[c]-e[v])*(e[x+1]-e[c+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function i2(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}w1.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function Sy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function CR(e){return e.length===1&&(e=LR(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function LR(e){return function(t,n){return Sy(e(t),n)}}CR(Sy);const Bp=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:a,symbol:o,xDomain:l,yDomain:s,width:u,height:d})=>{const p=j.useRef();j.useRef();const c=j.useRef();return j.useRef(),j.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const x=E4(p.current),L=u/(l[1]-l[0]),O=d/(s[1]-s[0]),g=u/2-L*(l[1]+l[0])/2,E=d/2+O*(s[1]+s[0])/2,w=a/Math.sqrt(L*O)/2,P=x.select("g.hull-container");P.attr("transform",`translate(${g}, ${E}) scale(${L}, ${O})`);const z=y4().x(ue=>ue[0]).y(ue=>-ue[1]).curve(_4);let Q=P.selectAll("path.hull").data(e);Q.exit().transition().duration(i).delay(r).ease(L4).style("opacity",0).remove(),Q.enter().append("path").classed("hull",!0).attr("d",z).style("fill",t).style("stroke",n).style("stroke-width",w).style("opacity",0).transition().delay(r+100).duration(i-100).ease(L4).style("opacity",.75),Q.transition().duration(i).delay(r).ease(my).style("opacity",.75).attrTween("d",function(ue,ee){const Ke=c.current?c.current[ee]:null;if(!Ke)return()=>z(ue);const Se=cR(z(Ke),z(ue));return function(je){return Se(je)}}),setTimeout(()=>{c.current=e},i)},[e]),j.useEffect(()=>{if(!l||!s||!e.length)return;const v=E4(p.current),x=u/(l[1]-l[0]),L=d/(s[1]-s[0]),O=u/2-x*(l[1]+l[0])/2,g=d/2+L*(s[1]+s[0])/2,E=a/Math.sqrt(x*L),w=v.select("g.hull-container");w.attr("transform",`translate(${O}, ${g}) scale(${x}, ${L})`);const P=y4().x(Q=>Q[0]).y(Q=>-Q[1]).curve(_4);let z=w.selectAll("path.hull").data(e);z.enter().append("path").classed("hull",!0).attr("d",P).style("fill",t).style("stroke",n).attr("stroke-width",E).style("opacity",.75),z.exit().remove(),z.attr("d",P)},[t,n,a,l,s,u,d]),W.jsx("svg",{ref:p,className:"hull-plot",width:u,height:d,children:W.jsx("g",{className:"hull-container"})})},Ir="https://api.latentscope.com/api",RR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),D4=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function M0(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function PR(){var ni;const[e,t]=j.useState(null),{dataset:n,scope:r}=i8(),i=c1(),a=j.useRef(null),[o,l]=s();function s(){const[oe,bt]=j.useState([500,500]);return j.useEffect(()=>{function hn(){if(!a.current)return;const{height:Tn,width:Zt}=a.current.getBoundingClientRect();let $n=Zt>500?500:Zt-50;bt([$n,$n])}return window.addEventListener("resize",hn),hn(),setTimeout(hn,100),()=>window.removeEventListener("resize",hn)},[]),oe}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[d,p]=j.useState(2);j.useEffect(()=>{fetch(`${Ir}/datasets/${n}/meta`).then(oe=>oe.json()).then(oe=>{console.log("dataset",oe),t(oe)})},[n,t]);const[c,v]=j.useState([]);j.useEffect(()=>{fetch(`${Ir}/datasets/${n}/scopes`).then(oe=>oe.json()).then(oe=>{v(oe)})},[n,v]);const[x,L]=j.useState(null);j.useEffect(()=>{fetch(`${Ir}/datasets/${n}/scopes/${r}`).then(oe=>oe.json()).then(oe=>{console.log("scope",oe),L(oe)})},[n,r,L]);const[O,g]=j.useState(null),[E,w]=j.useState(null),[P,z]=j.useState([]),[Q,ue]=j.useState([]),[ee,Ke]=j.useState(O==null?void 0:O.id),[Se,je]=j.useState([]);j.useEffect(()=>{fetch(`${Ir}/datasets/${n}/embeddings`).then(oe=>oe.json()).then(oe=>{je(oe)})},[n,je]);const[Xe,tt]=j.useState([]),[Je,Gt]=j.useState([]),[mt,vt]=j.useState([]);j.useEffect(()=>{x&&(g(Se.find(oe=>oe.id==x.embedding_id)),Promise.all([fetch(`${Ir}/datasets/${n}/umaps/${x.umap_id}`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/umaps/${x.umap_id}/points`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id.split("-")[3]||x.cluster_labels_id}`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/clusters/${x.cluster_id}/indices`).then(oe=>oe.json())]).then(([oe,bt,hn,Tn])=>{w(oe);const Zt=bt.map(Cr=>[Cr.x,Cr.y]);tt(Zt);const $n=bt.map((Cr,Bi)=>[Cr.x,Cr.y,Tn[Bi].cluster]);Gt($n),vt([]),ue(hn),z(Tn),setTimeout(()=>{vt(M0(hn,Zt))},100)}).catch(oe=>console.error("Fetching data failed",oe)))},[n,x,Se,w,ue,g,Ke]),j.useMemo(()=>P.map(oe=>oe.cluster),[P]),j.useEffect(()=>{O&&Ke(O.id)},[O,Ke]);const be=oe=>{console.log("selected",oe),Ke(oe)},De=j.useCallback((oe,bt,hn=[])=>{fetch(`${Ir}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:oe})}).then(Tn=>Tn.json()).then(Tn=>{if(!e)return;let Zt=Tn.map(($n,Cr)=>({index:oe[Cr],...$n}));bt(Zt)})},[e,n]),[xe,Ae]=j.useState({}),[et,_t]=j.useState([-1,1]),[At,Yt]=j.useState([-1,1]),It=j.useCallback((oe,bt)=>{_t(oe),Yt(bt)},[_t,Yt]),[kt,Ot]=j.useState([]),en=j.useCallback(oe=>{console.log("handle selected",oe),Ot(oe),p(0)},[Ot,p]),[an,Sn]=j.useState(null),[Ft,qt]=j.useState(null);j.useEffect(()=>{an!=null?De([an],oe=>{qt(oe[0])}):qt(null)},[an,qt,De]);const[ct,wt]=j.useState(null);j.useEffect(()=>{if(Ft&&P.length&&Q.length){const oe=Ft.index,bt=P[oe],hn=Q[bt==null?void 0:bt.cluster];wt({cluster:bt.cluster,...hn})}else wt(null)},[Ft,P,Q,wt]);const[Mt,St]=j.useState([]);j.useEffect(()=>{an!=null?St([Xe[an]]):St([])},[an,Xe]);const[ft,$t]=j.useState({});j.useEffect(()=>{fetch(`${Ir}/tags?dataset=${n}`).then(oe=>oe.json()).then(oe=>$t(oe))},[n]);const on=j.useMemo(()=>{const oe=[];for(const bt in ft)oe.push(bt);return oe},[ft]),[Kt,vr]=j.useState(on[0]),[_,me]=j.useState([]);j.useEffect(()=>{if(ft[Kt]){const oe=ft[Kt].map(bt=>Xe[bt]);me(oe)}else me([]),xe&&xe.config&&(xe==null||xe.zoomToOrigin({transition:!0,transitionDuration:1500}))},[ft,Kt,Xe,xe,me]);const[ze,fe]=j.useState([]),[yt,dt]=j.useState([]),ke=j.useCallback(oe=>{fetch(`${Ir}/search/nn?dataset=${n}&query=${oe}&embedding_id=${ee}`).then(bt=>bt.json()).then(bt=>{dt(bt.distances),fe(bt.indices),xe==null||xe.zoomToPoints(bt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[ee,n,xe,dt,fe]),[Ct,Bt]=j.useState([]);j.useEffect(()=>{const oe=ze.map(bt=>Xe[bt]);Bt(oe)},[ze,Xe]);const[Ve,tn]=j.useState(null),[un,Nt]=j.useState([]);j.useEffect(()=>{if(Ve){const oe=Ve.indices.map(bt=>Xe[bt]);Nt(oe)}else Nt([]),xe&&xe.config&&(xe==null||xe.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ve,Xe,xe,Nt]);const[mn,bn]=j.useState((Ve==null?void 0:Ve.label)||"");j.useEffect(()=>{bn((Ve==null?void 0:Ve.label)||"")},[Ve]);const rr=j.useCallback(oe=>{xe==null||xe.zoomToPoints([oe],{transition:!0,padding:.9,transitionDuration:1500})},[xe]),Yn=j.useCallback(oe=>{Sn(oe)},[Sn]),ti=j.useCallback((oe,bt)=>{console.log("update label",oe,bt),fetch(`${Ir}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id}/label/${oe}?label=${bt}`).then(hn=>hn.json()).then(hn=>{fetch(`${Ir}/datasets/${n}/clusters/${x.cluster_id}/labels/${x.cluster_labels_id}`).then(Tn=>Tn.json()).then(Tn=>{console.log("got new labels",Tn),ue(Tn),vt(M0(Tn,Xe))}).catch(console.error)}).catch(console.error)},[n,x]),Fn=j.useCallback(()=>{tn(null)},[]);return e?W.jsxs("div",{ref:a,className:"container",children:[W.jsxs("div",{className:"left-column",children:[W.jsxs("div",{className:"summary",children:[W.jsxs("div",{className:"scope-card",children:[D4()?W.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,W.jsxs("div",{className:"heading",children:[n,": ",W.jsx("select",{className:"scope-selector",onChange:oe=>{Fn(),i(`/datasets/${e==null?void 0:e.id}/explore/${oe.target.value}`)},children:c.map((oe,bt)=>W.jsx("option",{value:oe.id,selected:oe.id===(x==null?void 0:x.id),children:oe.label||oe.id},bt))}),null]}),W.jsx("span",{children:x==null?void 0:x.description}),W.jsxs("span",{children:["Embeddings: ",O==null?void 0:O.model_id]}),W.jsxs("span",{children:[Q==null?void 0:Q.length," clusters"]})]}),W.jsx("div",{className:"dataset-card",children:W.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),W.jsxs("div",{className:"umap-container",children:[W.jsx("div",{className:"scatters",style:{width:o,height:l},children:Xe.length?W.jsxs(W.Fragment,{children:[RR()?W.jsx(ja,{points:Xe,fill:"gray",size:"8",xDomain:et,yDomain:At,width:o,height:l}):W.jsx(wv,{points:Je,duration:2e3,width:o,height:l,colorScaleType:"categorical",onScatter:Ae,onView:It,onSelect:en,onHover:Yn}),ct&&ct.hull&&!x.ignore_hulls?W.jsx(Bp,{hulls:M0([ct],Xe),fill:"lightgray",duration:0,xDomain:et,yDomain:At,width:o,height:l}):null,Ve&&Ve.hull&&!x.ignore_hulls?W.jsx(Bp,{hulls:M0([Ve],Xe),fill:"darkgray",strokeWidth:2,duration:0,xDomain:et,yDomain:At,width:o,height:l}):null,mt.length&&!x.ignore_hulls?W.jsx(Bp,{hulls:mt,stroke:"black",fill:"none",delay:2e3,duration:200,strokeWidth:1,xDomain:et,yDomain:At,width:o,height:l}):null,W.jsx(ja,{points:Ct,stroke:"black",fill:"steelblue",size:"8",xDomain:et,yDomain:At,width:o,height:l}),W.jsx(ja,{points:un,fill:"darkred",size:"8",xDomain:et,yDomain:At,width:o,height:l}),W.jsx(ja,{points:_,symbol:Kt,size:"20",xDomain:et,yDomain:At,width:o,height:l}),W.jsx(ja,{points:Mt,stroke:"black",fill:"orange",size:"16",xDomain:et,yDomain:At,width:o,height:l})]}):null}),D4()?null:W.jsxs("div",{className:"hovered-point",children:[ct?W.jsxs("span",{children:[W.jsxs("span",{className:"key",children:["Cluster ",ct.index,":"]}),W.jsx("span",{className:"value",children:ct.label})]}):null,Ft&&Object.keys(Ft).map(oe=>W.jsxs("span",{children:[W.jsxs("span",{className:"key",children:[oe,":"]}),W.jsx("span",{className:"value",children:Ft[oe]})]},oe))]})]})]}),W.jsxs("div",{className:"data",children:[W.jsx("div",{className:"tab-header",children:u.map(oe=>W.jsx("button",{onClick:()=>p(oe.id),className:oe.id===d?"tab-active":"tab-inactive",children:oe.name},oe.id))}),d===0?W.jsxs("div",{className:"tab-content",children:[W.jsxs("span",{children:["Selected: ",kt==null?void 0:kt.length,(kt==null?void 0:kt.length)>0?W.jsx("button",{className:"deselect",onClick:()=>{Ot([]),xe==null||xe.select([]),xe==null||xe.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(kt==null?void 0:kt.length)>0?W.jsx(zo,{indices:kt,clusterIndices:P,clusterLabels:Q,tagset:ft,dataset:e,maxRows:150,onTagset:oe=>$t(oe),onHover:Yn,onClick:rr}):null]}):null,d===1?W.jsxs("div",{className:"tab-content",children:[W.jsx("div",{className:"search-box",children:W.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),ke(oe.target.elements.searchBox.value),p(1)},children:[W.jsx("input",{type:"text",id:"searchBox"}),W.jsx("button",{type:"submit",children:"Similarity Search"}),W.jsx("br",{}),W.jsx("label",{htmlFor:"embeddingModel"}),W.jsx("select",{id:"embeddingModel",onChange:oe=>be(oe.target.value),value:ee,children:Se.map((oe,bt)=>W.jsxs("option",{value:oe.id,children:[oe.id," - ",oe.model_id," - ",oe.dimensions]},bt))})]})}),W.jsxs("span",{children:[ze.length?W.jsxs("span",{children:["Nearest Neighbors: ",ze.length," (capped at 150) "]}):null,ze.length>0?W.jsx("button",{className:"deselect",onClick:()=>{fe([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),ze.length>0?W.jsx(zo,{indices:ze,distances:yt,clusterIndices:P,clusterLabels:Q,tagset:ft,dataset:e,onTagset:oe=>$t(oe),onHover:Yn,onClick:rr}):null]}):null,d===2?W.jsxs("div",{className:"tab-content",children:[W.jsx("div",{className:"clusters-select",children:W.jsxs("select",{onChange:oe=>{const bt=Q.find(hn=>hn.index===+oe.target.value);bt&&tn(bt)},value:Ve==null?void 0:Ve.index,children:[W.jsx("option",{value:"",children:"Select a cluster"}),Q.map((oe,bt)=>W.jsxs("option",{value:oe.index,children:[oe.index,": ",oe.label]},bt))]})}),W.jsxs("div",{className:"cluster-selected",children:[Ve?W.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),ti(Ve.index,mn)},children:[W.jsx("input",{type:"text",id:"new-label",value:mn,onChange:oe=>bn(oe.target.value)}),W.jsx("button",{type:"submit",children:"Update Label"})]}):null,W.jsxs("span",{children:[Ve==null?void 0:Ve.indices.length," ",Ve!=null&&Ve.indices.length?"Rows":"",Ve?W.jsx("button",{className:"deselect",onClick:()=>{tn(null)},children:"X"}):null]})]}),W.jsx("div",{className:"cluster-table",children:Ve!=null&&Ve.indices?W.jsx(zo,{indices:Ve==null?void 0:Ve.indices,clusterIndices:P,clusterLabels:Q,dataset:e,tagset:ft,onTagset:oe=>$t(oe),onHover:Yn,onClick:rr}):null})]}):null,d===3?W.jsxs("div",{className:"tab-content",children:[W.jsxs("div",{className:"tags-box",children:[W.jsxs("div",{className:"tags-select",children:["Tags: ",on.map(oe=>W.jsxs("button",{className:"dataset--tag-link",onClick:()=>{vr(oe),p(3),xe==null||xe.zoomToPoints(ft[oe],{transition:!0,padding:.2,transitionDuration:1500})},children:[oe,"(",ft[oe].length,")"]},oe))]}),null]}),W.jsxs("span",{children:[Kt," ",(ni=ft[Kt])==null?void 0:ni.length,Kt?W.jsx("button",{className:"deselect",onClick:()=>{vr(null)},children:"X"}):null]}),ft[Kt]?W.jsx(zo,{indices:ft[Kt],clusterIndices:P,clusterLabels:Q,tagset:ft,dataset:e,onTagset:oe=>$t(oe),onHover:Yn,onClick:rr}):null]}):null]})]}):W.jsx("div",{children:"Loading..."})}const kR="_container_j6tyv_1",OR="_data_j6tyv_12",MR="_scatters_j6tyv_25",NR="_scatter_j6tyv_25",IR="_controls_j6tyv_36",DR="_summary_j6tyv_42",FR="_heading_j6tyv_52",$R="_key_j6tyv_104",BR="_value_j6tyv_108",jR="_deselect_j6tyv_248",zR="_cluster_j6tyv_280",Hn={container:kR,data:OR,"umap-container":"_umap-container_j6tyv_19",scatters:MR,scatter:NR,"tab-tables":"_tab-tables_j6tyv_29",controls:IR,summary:DR,heading:FR,"scope-card":"_scope-card_j6tyv_71","scope-selector":"_scope-selector_j6tyv_76","umap-selectors":"_umap-selectors_j6tyv_80","hovered-point":"_hovered-point_j6tyv_98",key:$R,value:BR,"tab-header":"_tab-header_j6tyv_125","tab-active":"_tab-active_j6tyv_154","tab-content":"_tab-content_j6tyv_175","tags-box":"_tags-box_j6tyv_214","new-tag":"_new-tag_j6tyv_222","search-box":"_search-box_j6tyv_238","tab-neighbors":"_tab-neighbors_j6tyv_248",deselect:jR,"slide-bar":"_slide-bar_j6tyv_261",cluster:zR};console.log("styles",Hn);const Ia="https://api.latentscope.com/api",GR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),UR=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function VR(){const[e,t]=j.useState(null),{dataset:n}=i8();c1();const r=j.useRef(null),[i,a]=o();function o(){const[me,ze]=j.useState([500,500]);return j.useEffect(()=>{function fe(){if(!r.current)return;const{height:yt,width:dt}=r.current.getBoundingClientRect();ze([dt-15,yt-25])}return window.addEventListener("resize",fe),fe(),setTimeout(fe,200),()=>window.removeEventListener("resize",fe)},[]),me}const l=[{id:0,name:"Selected"},{id:1,name:"Search"}],[s,u]=j.useState(0);j.useEffect(()=>{fetch(`${Ia}/datasets/${n}/meta`).then(me=>me.json()).then(me=>{console.log("dataset",me),t(me)})},[n,t]);const[d,p]=j.useState([]),[c,v]=j.useState([]);j.useEffect(()=>{Promise.all([fetch(`${Ia}/datasets/${n}/embeddings`).then(me=>me.json()),fetch(`${Ia}/datasets/${n}/umaps`).then(me=>me.json())]).then(([me,ze])=>{console.log("embeddings",me),console.log("umaps",ze),p(me),ze.sort((fe,yt)=>yt.align_id<fe.align_id?-1:yt.align_id>fe.align_id?1:fe.id<yt.id?-1:fe.id>yt.id?1:0),v(ze)})},[n,p,v]);const[x,L]=j.useState("left"),[O,g]=j.useState(null),[E,w]=j.useState(null);j.useEffect(()=>{c&&(g(c[0]),w(c[1]))},[c]);const[P,z]=j.useState(null),[Q,ue]=j.useState([]),[ee,Ke]=j.useState([]),Se=j.useRef([]),je=j.useRef([]);j.useEffect(()=>{if(c&&O&&E&&x){const me=x==="left"?O:E;Promise.all([fetch(`${Ia}/datasets/${n}/umaps/${me.id}`).then(ze=>ze.json()),fetch(`${Ia}/datasets/${n}/umaps/${me.id}/points`).then(ze=>ze.json())]).then(([ze,fe])=>{z(ze);const yt=fe.map(ke=>[ke.x,ke.y]);ue(yt),je.current=yt;const dt=fe.map((ke,Ct)=>{let Bt=Se.current[Ct];return[ke.x,ke.y,Bt?Bt[2]:0]});Ke(dt),Se.current=dt}).catch(ze=>console.error("Fetching data failed",ze))}},[n,x,O,E,c,z,ue,Ke]);let Xe=j.useRef(!1),tt=j.useRef("");const[Je,Gt]=j.useState(!1);j.useEffect(()=>{let me=(O==null?void 0:O.id)+(E==null?void 0:E.id)+Xe.current;O&&E&&Q.length&&tt.current!==me&&(Gt(!0),fetch(`${Ia}/search/compare?dataset=${n}&umap_left=${O.id}&umap_right=${E.id}&k=10`).then(ze=>ze.json()).then(ze=>{const fe=H8(O8(ze),[0,1]),yt=je.current.map((dt,ke)=>[dt[0],dt[1],fe(ze[ke])]);Ke(yt),Se.current=yt,Gt(!1),Xe.current=!0,tt.current=(O==null?void 0:O.id)+(E==null?void 0:E.id)+Xe.current}))},[n,O,E,Q]);const[mt,vt]=j.useState(null);j.useEffect(()=>{d&&vt(d[0])},[d,vt]);const be=j.useCallback(me=>{console.log("selected",me),vt(d.find(ze=>ze.id==me))},[d]);j.useCallback((me,ze,fe=[])=>{fetch(`${Ia}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:me})}).then(yt=>yt.json()).then(yt=>{if(!e)return;let dt=yt.map((ke,Ct)=>({index:me[Ct],...ke}));ze(dt)})},[e,n]);const[De,xe]=j.useState({}),[Ae,et]=j.useState([-1,1]),[_t,At]=j.useState([-1,1]),Yt=j.useCallback((me,ze)=>{et(me),At(ze)},[et,At]),[It,kt]=j.useState([]),Ot=j.useCallback(me=>{console.log("handle selected",me),kt(me),u(0)},[kt,u]),[en,an]=j.useState(null);j.useState(null);const[Sn,Ft]=j.useState([]);j.useEffect(()=>{en!=null?Ft([Q[en]]):Ft([])},[en,Q]);const[qt,ct]=j.useState([]),[wt,Mt]=j.useState([]),St=j.useCallback(me=>{fetch(`${Ia}/search/nn?dataset=${n}&query=${me}&embedding_id=${mt.id}&dimensions=${mt.dimensions}`).then(ze=>ze.json()).then(ze=>{Mt(ze.distances),ct(ze.indices),De==null||De.zoomToPoints(ze.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[mt,n,De,Mt,ct]),[ft,$t]=j.useState([]);j.useEffect(()=>{const me=qt.map(ze=>Q[ze]);$t(me)},[qt,Q]);const on=j.useCallback(me=>{De==null||De.zoomToPoints([me],{transition:!0,padding:.9,transitionDuration:1500})},[De]),Kt=j.useCallback(me=>{an(me)},[an]),vr=j.useCallback(me=>{g(c.find(ze=>ze.id==me.target.value)),L("left")},[c,g,L]),_=j.useCallback(me=>{w(c.find(ze=>ze.id==me.target.value)),L("right")},[c,w,L]);return e?W.jsxs("div",{className:Hn.container,children:[W.jsx("div",{className:Hn.controls,children:W.jsxs("div",{className:Hn.summary,children:[W.jsxs("div",{className:Hn["scope-card"],children:[UR()?W.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,W.jsxs("div",{className:Hn.heading,children:[W.jsx("b",{children:n}),W.jsxs("span",{children:[e==null?void 0:e.length," rows"]}),null]})]}),W.jsxs("div",{className:Hn["umap-selectors"],children:[W.jsx("select",{name:"left",value:O==null?void 0:O.id,onChange:vr,children:c.map((me,ze)=>{let fe=d.find(yt=>me.embedding_id==yt.id);return W.jsxs("option",{value:me.id,children:[me.embedding_id," - ",me.id," - ",fe==null?void 0:fe.model_id," [",fe==null?void 0:fe.dimensions,"] ",me.align_id]},ze)})}),W.jsxs("div",{children:[W.jsxs("label",{children:["",W.jsx("input",{type:"radio",value:"left",name:"direction",checked:x==="left",onChange:()=>L("left")})]}),W.jsxs("label",{children:[W.jsx("input",{type:"radio",value:"right",name:"direction",checked:x==="right",onChange:()=>L("right")})," "]})]}),W.jsx("select",{name:"right",onChange:_,value:E==null?void 0:E.id,children:c.map((me,ze)=>{let fe=d.find(yt=>me.embedding_id==yt.id);return W.jsxs("option",{value:me.id,children:[me.embedding_id," - ",me.id," - ",fe==null?void 0:fe.model_id," [",fe==null?void 0:fe.dimensions,"] ",me.align_id]},ze)})})]})]})}),W.jsx("div",{ref:r,className:Hn["umap-container"],children:W.jsx("div",{className:Hn.scatters,style:{width:i,height:a},children:Q.length?W.jsxs(W.Fragment,{children:[W.jsx("div",{className:Hn.scatter,children:GR()?W.jsx(ja,{points:Q,fill:"gray",size:"8",xDomain:Ae,yDomain:_t,width:i,height:a}):W.jsx(wv,{points:ee,duration:2e3,pointScale:1.5,width:i,height:a,colorScaleType:"continuous",colorInterpolator:Kb,opacityBy:"valueA",onScatter:xe,onView:Yt,onSelect:Ot,onHover:Kt})}),W.jsx(ja,{points:ft,stroke:"black",fill:"steelblue",size:"8",xDomain:Ae,yDomain:_t,width:i,height:a}),W.jsx(ja,{points:Sn,stroke:"black",fill:"orange",size:"16",xDomain:Ae,yDomain:_t,width:i,height:a})]}):null})}),W.jsxs("div",{className:Hn.data,children:[W.jsx("div",{className:Hn["tab-header"],children:l.map(me=>W.jsx("button",{onClick:()=>u(me.id),className:me.id===s?Hn["tab-active"]:Hn["tab-inactive"],children:me.name},me.id))}),s===0?W.jsxs("div",{className:Hn["tab-content"],children:[W.jsxs("span",{children:["Selected: ",It==null?void 0:It.length,(It==null?void 0:It.length)>0?W.jsx("button",{className:Hn.deselect,onClick:()=>{kt([]),De==null||De.select([]),De==null||De.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(It==null?void 0:It.length)>0?W.jsx(zo,{indices:It,dataset:e,maxRows:150,onHover:Kt,onClick:on}):null]}):null,s===1?W.jsxs("div",{className:Hn["tab-content"],children:[W.jsx("div",{className:Hn["search-box"],children:W.jsxs("form",{onSubmit:me=>{me.preventDefault(),St(me.target.elements.searchBox.value),u(1)},children:[W.jsx("input",{type:"text",id:"searchBox"}),W.jsx("button",{type:"submit",children:"Similarity Search"}),W.jsx("br",{}),W.jsx("label",{htmlFor:"embeddingModel"}),W.jsx("select",{id:"embeddingModel",onChange:me=>be(me.target.value),defaultValue:mt==null?void 0:mt.id,children:d.map((me,ze)=>W.jsxs("option",{value:me.id,children:[me.id," - ",me.model_id," - ",me.dimensions]},ze))})]})}),W.jsxs("span",{children:[qt.length?W.jsxs("span",{children:["Nearest Neighbors: ",qt.length," (capped at 150) "]}):null,qt.length>0?W.jsx("button",{className:Hn.deselect,onClick:()=>{ct([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),qt.length>0?W.jsx(zo,{indices:qt,distances:wt,dataset:e,onHover:Kt,onClick:on}):null]}):null]})]}):W.jsx("div",{children:"Loading..."})}Ze.shape({id:Ze.string.isRequired}).isRequired,Ze.string.isRequired,Ze.object,Ze.array,Ze.array,Ze.func.isRequired,Ze.func.isRequired;Ze.shape({id:Ze.string.isRequired}).isRequired,Ze.object,Ze.object,Ze.array.isRequired,Ze.array.isRequired,Ze.func.isRequired,Ze.func.isRequired;Ze.shape({id:Ze.string.isRequired}).isRequired,Ze.object,Ze.object,Ze.array,Ze.func.isRequired,Ze.func.isRequired;Ze.shape({id:Ze.string.isRequired}).isRequired,Ze.object,Ze.string,Ze.func.isRequired,Ze.func,Ze.func,Ze.func,Ze.func;Ze.shape({id:Ze.string.isRequired}).isRequired,Ze.object,Ze.object,Ze.object,Ze.object,Ze.string,Ze.func.isRequired,Ze.func.isRequired;const HR=()=>W.jsx("nav",{children:W.jsx("ul",{children:W.jsx("li",{children:W.jsx(s8,{to:"/",children:"Latent Scope"})})})});var WR={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const by=WR;console.log("ENV",by);function XR(){return W.jsxs(A_,{basename:by.BASE_NAME,children:[W.jsx(HR,{}),W.jsx("div",{className:"page",children:W.jsxs(__,{children:[W.jsx(W0,{path:"/",element:W.jsx(I_,{})}),W.jsx(W0,{path:"/datasets/:dataset/explore/:scope",element:W.jsx(PR,{})}),W.jsx(W0,{path:"/datasets/:dataset/compare/",element:W.jsx(VR,{})}),null,null,null,null]})})]})}jp.createRoot(document.getElementById("root")).render(W.jsx(W4.StrictMode,{children:W.jsx(XR,{})}));
