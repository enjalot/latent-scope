function v7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var g7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $6={exports:{}},yh={},B6={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),y7=Symbol.for("react.portal"),x7=Symbol.for("react.fragment"),_7=Symbol.for("react.strict_mode"),w7=Symbol.for("react.profiler"),E7=Symbol.for("react.provider"),S7=Symbol.for("react.context"),b7=Symbol.for("react.forward_ref"),A7=Symbol.for("react.suspense"),T7=Symbol.for("react.memo"),C7=Symbol.for("react.lazy"),Jg=Symbol.iterator;function L7(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var j6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z6=Object.assign,G6={};function qs(e,t,n){this.props=e,this.context=t,this.refs=G6,this.updater=n||j6}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U6(){}U6.prototype=qs.prototype;function jv(e,t,n){this.props=e,this.context=t,this.refs=G6,this.updater=n||j6}var zv=jv.prototype=new U6;zv.constructor=jv;z6(zv,qs.prototype);zv.isPureReactComponent=!0;var ey=Array.isArray,V6=Object.prototype.hasOwnProperty,Gv={current:null},H6={key:!0,ref:!0,__self:!0,__source:!0};function W6(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)V6.call(t,r)&&!H6.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Jc,type:e,key:o,ref:a,props:i,_owner:Gv.current}}function R7(e,t){return{$$typeof:Jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function O7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ty=/\/+/g;function xp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O7(""+e.key):t.toString(36)}function ad(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Jc:case y7:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+xp(a,0):r,ey(i)?(n="",e!=null&&(n=e.replace(ty,"$&/")+"/"),ad(i,t,n,"",function(u){return u})):i!=null&&(Uv(i)&&(i=R7(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ty,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",ey(e))for(var l=0;l<e.length;l++){o=e[l];var s=r+xp(o,l);a+=ad(o,t,n,s,i)}else if(s=L7(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=r+xp(o,l++),a+=ad(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function R0(e,t,n){if(e==null)return e;var r=[],i=0;return ad(e,r,"","",function(o){return t.call(n,o,i++)}),r}function k7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},ld={transition:null},P7={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:ld,ReactCurrentOwner:Gv};rn.Children={map:R0,forEach:function(e,t,n){R0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R0(e,function(){t++}),t},toArray:function(e){return R0(e,function(t){return t})||[]},only:function(e){if(!Uv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rn.Component=qs;rn.Fragment=x7;rn.Profiler=w7;rn.PureComponent=jv;rn.StrictMode=_7;rn.Suspense=A7;rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P7;rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=z6({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Gv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)V6.call(t,s)&&!H6.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Jc,type:e.type,key:i,ref:o,props:r,_owner:a}};rn.createContext=function(e){return e={$$typeof:S7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E7,_context:e},e.Consumer=e};rn.createElement=W6;rn.createFactory=function(e){var t=W6.bind(null,e);return t.type=e,t};rn.createRef=function(){return{current:null}};rn.forwardRef=function(e){return{$$typeof:b7,render:e}};rn.isValidElement=Uv;rn.lazy=function(e){return{$$typeof:C7,_payload:{_status:-1,_result:e},_init:k7}};rn.memo=function(e,t){return{$$typeof:T7,type:e,compare:t===void 0?null:t}};rn.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};rn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rn.useCallback=function(e,t){return Rr.current.useCallback(e,t)};rn.useContext=function(e){return Rr.current.useContext(e)};rn.useDebugValue=function(){};rn.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};rn.useEffect=function(e,t){return Rr.current.useEffect(e,t)};rn.useId=function(){return Rr.current.useId()};rn.useImperativeHandle=function(e,t,n){return Rr.current.useImperativeHandle(e,t,n)};rn.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};rn.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};rn.useMemo=function(e,t){return Rr.current.useMemo(e,t)};rn.useReducer=function(e,t,n){return Rr.current.useReducer(e,t,n)};rn.useRef=function(e){return Rr.current.useRef(e)};rn.useState=function(e){return Rr.current.useState(e)};rn.useSyncExternalStore=function(e,t,n){return Rr.current.useSyncExternalStore(e,t,n)};rn.useTransition=function(){return Rr.current.useTransition()};rn.version="18.2.0";B6.exports=rn;var P=B6.exports;const yo=Zc(P),N7=v7({__proto__:null,default:yo},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=P,I7=Symbol.for("react.element"),D7=Symbol.for("react.fragment"),F7=Object.prototype.hasOwnProperty,$7=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B7={key:!0,ref:!0,__self:!0,__source:!0};function X6(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)F7.call(t,r)&&!B7.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:I7,type:e,key:o,ref:a,props:i,_owner:$7.current}}yh.Fragment=D7;yh.jsx=X6;yh.jsxs=X6;$6.exports=yh;var I=$6.exports,gm={},Y6={exports:{}},ii={},q6={exports:{}},Q6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ye,Le){var se=ye.length;ye.push(Le);e:for(;0<se;){var Ae=se-1>>>1,rt=ye[Ae];if(0<i(rt,Le))ye[Ae]=Le,ye[se]=rt,se=Ae;else break e}}function n(ye){return ye.length===0?null:ye[0]}function r(ye){if(ye.length===0)return null;var Le=ye[0],se=ye.pop();if(se!==Le){ye[0]=se;e:for(var Ae=0,rt=ye.length,At=rt>>>1;Ae<At;){var Pt=2*(Ae+1)-1,Zt=ye[Pt],Bt=Pt+1,yt=ye[Bt];if(0>i(Zt,se))Bt<rt&&0>i(yt,Zt)?(ye[Ae]=yt,ye[Bt]=se,Ae=Bt):(ye[Ae]=Zt,ye[Pt]=se,Ae=Pt);else if(Bt<rt&&0>i(yt,se))ye[Ae]=yt,ye[Bt]=se,Ae=Bt;else break e}}return Le}function i(ye,Le){var se=ye.sortIndex-Le.sortIndex;return se!==0?se:ye.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],u=[],f=1,h=null,c=3,m=!1,v=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ye){for(var Le=n(u);Le!==null;){if(Le.callback===null)r(u);else if(Le.startTime<=ye)r(u),Le.sortIndex=Le.expirationTime,t(s,Le);else break;Le=n(u)}}function O(ye){if(S=!1,y(ye),!v)if(n(s)!==null)v=!0,at(F);else{var Le=n(u);Le!==null&&lt(O,Le.startTime-ye)}}function F(ye,Le){v=!1,S&&(S=!1,g(K),K=-1),m=!0;var se=c;try{for(y(Le),h=n(s);h!==null&&(!(h.expirationTime>Le)||ye&&!Re());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,c=h.priorityLevel;var rt=Ae(h.expirationTime<=Le);Le=e.unstable_now(),typeof rt=="function"?h.callback=rt:h===n(s)&&r(s),y(Le)}else r(s);h=n(s)}if(h!==null)var At=!0;else{var Pt=n(u);Pt!==null&&lt(O,Pt.startTime-Le),At=!1}return At}finally{h=null,c=se,m=!1}}var V=!1,ee=null,K=-1,He=5,ve=-1;function Re(){return!(e.unstable_now()-ve<He)}function Oe(){if(ee!==null){var ye=e.unstable_now();ve=ye;var Le=!0;try{Le=ee(!0,ye)}finally{Le?Je():(V=!1,ee=null)}}else V=!1}var Je;if(typeof _=="function")Je=function(){_(Oe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Lt=De.port2;De.port1.onmessage=Oe,Je=function(){Lt.postMessage(null)}}else Je=function(){L(Oe,0)};function at(ye){ee=ye,V||(V=!0,Je())}function lt(ye,Le){K=L(function(){ye(e.unstable_now())},Le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ye){ye.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,at(F))},e.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<ye?Math.floor(1e3/ye):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(ye){switch(c){case 1:case 2:case 3:var Le=3;break;default:Le=c}var se=c;c=Le;try{return ye()}finally{c=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ye,Le){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var se=c;c=ye;try{return Le()}finally{c=se}},e.unstable_scheduleCallback=function(ye,Le,se){var Ae=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,ye){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=se+rt,ye={id:f++,callback:Le,priorityLevel:ye,startTime:se,expirationTime:rt,sortIndex:-1},se>Ae?(ye.sortIndex=se,t(u,ye),n(s)===null&&ye===n(u)&&(S?(g(K),K=-1):S=!0,lt(O,se-Ae))):(ye.sortIndex=rt,t(s,ye),v||m||(v=!0,at(F))),ye},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(ye){var Le=c;return function(){var se=c;c=Le;try{return ye.apply(this,arguments)}finally{c=se}}}})(Q6);q6.exports=Q6;var j7=q6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6=P,ni=j7;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z6=new Set,Ec={};function Al(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Ec[e]=t,e=0;e<t.length;e++)Z6.add(t[e])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,z7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function G7(e){return ym.call(ry,e)?!0:ym.call(ny,e)?!1:z7.test(e)?ry[e]=!0:(ny[e]=!0,!1)}function U7(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V7(e,t,n,r){if(t===null||typeof t>"u"||U7(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function Hv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wv(e,t,n,r){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V7(t,n,i,r)&&(n=null),r||i===null?G7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lo=K6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),J6=Symbol.for("react.provider"),e4=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),t4=Symbol.for("react.offscreen"),iy=Symbol.iterator;function Wu(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var Fn=Object.assign,_p;function ic(e){if(_p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_p=t&&t[1]||""}return`
`+_p+e}var wp=!1;function Ep(e,t){if(!e||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var s=`
`+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ic(e):""}function H7(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=Ep(e.type,!1),e;case 11:return e=Ep(e.type.render,!1),e;case 1:return e=Ep(e.type,!0),e;default:return""}}function Em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case hs:return"Portal";case xm:return"Profiler";case Xv:return"StrictMode";case _m:return"Suspense";case wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e4:return(e.displayName||"Context")+".Consumer";case J6:return(e._context.displayName||"Context")+".Provider";case Yv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qv:return t=e.displayName||null,t!==null?t:Em(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return Em(e(t))}catch{}}return null}function W7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(t);case 8:return t===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X7(e){var t=n4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function k0(e){e._valueTracker||(e._valueTracker=X7(e))}function r4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Td(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sm(e,t){var n=t.checked;return Fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ya(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i4(e,t){t=t.checked,t!=null&&Wv(e,"checked",t,!1)}function bm(e,t){i4(e,t);var n=ya(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Am(e,t.type,n):t.hasOwnProperty("defaultValue")&&Am(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ay(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Am(e,t,n){(t!=="number"||Td(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oc=Array.isArray;function Cs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ya(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ly(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(oc(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ya(n)}}function o4(e,t){var n=ya(t.value),r=ya(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var P0,l4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(P0=P0||document.createElement("div"),P0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=P0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y7=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(e){Y7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cc[t]=cc[e]})});function s4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cc.hasOwnProperty(e)&&cc[e]?(""+t).trim():t+"px"}function u4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=s4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var q7=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(e,t){if(t){if(q7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Rm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function Qv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Ls=null,Rs=null;function uy(e){if(e=nf(e)){if(typeof km!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Sh(t),km(e.stateNode,e.type,t))}}function c4(e){Ls?Rs?Rs.push(e):Rs=[e]:Ls=e}function f4(){if(Ls){var e=Ls,t=Rs;if(Rs=Ls=null,uy(e),t)for(e=0;e<t.length;e++)uy(t[e])}}function d4(e,t){return e(t)}function h4(){}var Sp=!1;function p4(e,t,n){if(Sp)return e(t,n);Sp=!0;try{return d4(e,t,n)}finally{Sp=!1,(Ls!==null||Rs!==null)&&(h4(),f4())}}function bc(e,t){var n=e.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var Pm=!1;if(Eo)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){Pm=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Pm=!1}function Q7(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var fc=!1,Cd=null,Ld=!1,Nm=null,K7={onError:function(e){fc=!0,Cd=e}};function Z7(e,t,n,r,i,o,a,l,s){fc=!1,Cd=null,Q7.apply(K7,arguments)}function J7(e,t,n,r,i,o,a,l,s){if(Z7.apply(this,arguments),fc){if(fc){var u=Cd;fc=!1,Cd=null}else throw Error(ze(198));Ld||(Ld=!0,Nm=u)}}function Tl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cy(e){if(Tl(e)!==e)throw Error(ze(188))}function ex(e){var t=e.alternate;if(!t){if(t=Tl(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cy(i),e;if(o===r)return cy(i),t;o=o.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function v4(e){return e=ex(e),e!==null?g4(e):null}function g4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g4(e);if(t!==null)return t;e=e.sibling}return null}var y4=ni.unstable_scheduleCallback,fy=ni.unstable_cancelCallback,tx=ni.unstable_shouldYield,nx=ni.unstable_requestPaint,Yn=ni.unstable_now,rx=ni.unstable_getCurrentPriorityLevel,Kv=ni.unstable_ImmediatePriority,x4=ni.unstable_UserBlockingPriority,Rd=ni.unstable_NormalPriority,ix=ni.unstable_LowPriority,_4=ni.unstable_IdlePriority,xh=null,Qi=null;function ox(e){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:sx,ax=Math.log,lx=Math.LN2;function sx(e){return e>>>=0,e===0?32:31-(ax(e)/lx|0)|0}var N0=64,M0=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Od(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ac(l):(o&=a,o!==0&&(r=ac(o)))}else a=n&~i,a!==0?r=ac(a):o!==0&&(r=ac(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ki(t),i=1<<n,r|=e[n],t&=~i;return r}function ux(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ki(o),l=1<<a,s=i[a];s===-1?(!(l&n)||l&r)&&(i[a]=ux(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function Mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w4(){var e=N0;return N0<<=1,!(N0&4194240)&&(N0=64),e}function bp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ef(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ki(t),e[t]=n}function fx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ki(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ki(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var hn=0;function E4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S4,Jv,b4,A4,T4,Im=!1,I0=[],ua=null,ca=null,fa=null,Ac=new Map,Tc=new Map,na=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Yu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=nf(t),t!==null&&Jv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hx(e,t,n,r,i){switch(t){case"focusin":return ua=Yu(ua,e,t,n,r,i),!0;case"dragenter":return ca=Yu(ca,e,t,n,r,i),!0;case"mouseover":return fa=Yu(fa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ac.set(o,Yu(Ac.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tc.set(o,Yu(Tc.get(o)||null,e,t,n,r,i)),!0}return!1}function C4(e){var t=rl(e.target);if(t!==null){var n=Tl(t);if(n!==null){if(t=n.tag,t===13){if(t=m4(n),t!==null){e.blockedOn=t,T4(e.priority,function(){b4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Om=r,n.target.dispatchEvent(r),Om=null}else return t=nf(n),t!==null&&Jv(t),e.blockedOn=n,!1;t.shift()}return!0}function hy(e,t,n){sd(e)&&n.delete(t)}function px(){Im=!1,ua!==null&&sd(ua)&&(ua=null),ca!==null&&sd(ca)&&(ca=null),fa!==null&&sd(fa)&&(fa=null),Ac.forEach(hy),Tc.forEach(hy)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,Im||(Im=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,px)))}function Cc(e){function t(i){return qu(i,e)}if(0<I0.length){qu(I0[0],e);for(var n=1;n<I0.length;n++){var r=I0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ua!==null&&qu(ua,e),ca!==null&&qu(ca,e),fa!==null&&qu(fa,e),Ac.forEach(t),Tc.forEach(t),n=0;n<na.length;n++)r=na[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)C4(n),n.blockedOn===null&&na.shift()}var Os=Lo.ReactCurrentBatchConfig,kd=!0;function mx(e,t,n,r){var i=hn,o=Os.transition;Os.transition=null;try{hn=1,e2(e,t,n,r)}finally{hn=i,Os.transition=o}}function vx(e,t,n,r){var i=hn,o=Os.transition;Os.transition=null;try{hn=4,e2(e,t,n,r)}finally{hn=i,Os.transition=o}}function e2(e,t,n,r){if(kd){var i=Dm(e,t,n,r);if(i===null)Mp(e,t,r,Pd,n),dy(e,r);else if(hx(i,e,t,n,r))r.stopPropagation();else if(dy(e,r),t&4&&-1<dx.indexOf(e)){for(;i!==null;){var o=nf(i);if(o!==null&&S4(o),o=Dm(e,t,n,r),o===null&&Mp(e,t,r,Pd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Mp(e,t,r,null,n)}}var Pd=null;function Dm(e,t,n,r){if(Pd=null,e=Qv(r),e=rl(e),e!==null)if(t=Tl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pd=e,null}function L4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case Kv:return 1;case x4:return 4;case Rd:case ix:return 16;case _4:return 536870912;default:return 16}default:return 16}}var oa=null,t2=null,ud=null;function R4(){if(ud)return ud;var e,t=t2,n=t.length,r,i="value"in oa?oa.value:oa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return ud=i.slice(e,1<r?1-r:void 0)}function cd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function D0(){return!0}function py(){return!1}function oi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?D0:py,this.isPropagationStopped=py,this}return Fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=D0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=D0)},persist:function(){},isPersistent:D0}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n2=oi(Qs),tf=Fn({},Qs,{view:0,detail:0}),gx=oi(tf),Ap,Tp,Qu,_h=Fn({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Ap=e.screenX-Qu.screenX,Tp=e.screenY-Qu.screenY):Tp=Ap=0,Qu=e),Ap)},movementY:function(e){return"movementY"in e?e.movementY:Tp}}),my=oi(_h),yx=Fn({},_h,{dataTransfer:0}),xx=oi(yx),_x=Fn({},tf,{relatedTarget:0}),Cp=oi(_x),wx=Fn({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=oi(wx),Sx=Fn({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bx=oi(Sx),Ax=Fn({},Qs,{data:0}),vy=oi(Ax),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function r2(){return Rx}var Ox=Fn({},tf,{key:function(e){if(e.key){var t=Tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(e){return e.type==="keypress"?cd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kx=oi(Ox),Px=Fn({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=oi(Px),Nx=Fn({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),Mx=oi(Nx),Ix=Fn({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=oi(Ix),Fx=Fn({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=oi(Fx),Bx=[9,13,27,32],i2=Eo&&"CompositionEvent"in window,dc=null;Eo&&"documentMode"in document&&(dc=document.documentMode);var jx=Eo&&"TextEvent"in window&&!dc,O4=Eo&&(!i2||dc&&8<dc&&11>=dc),yy=" ",xy=!1;function k4(e,t){switch(e){case"keyup":return Bx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function zx(e,t){switch(e){case"compositionend":return P4(t);case"keypress":return t.which!==32?null:(xy=!0,yy);case"textInput":return e=t.data,e===yy&&xy?null:e;default:return null}}function Gx(e,t){if(ms)return e==="compositionend"||!i2&&k4(e,t)?(e=R4(),ud=t2=oa=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O4&&t.locale!=="ko"?null:t.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ux[e.type]:t==="textarea"}function N4(e,t,n,r){c4(r),t=Nd(t,"onChange"),0<t.length&&(n=new n2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hc=null,Lc=null;function Vx(e){V4(e,0)}function wh(e){var t=ys(e);if(r4(t))return e}function Hx(e,t){if(e==="change")return t}var M4=!1;if(Eo){var Lp;if(Eo){var Rp="oninput"in document;if(!Rp){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Rp=typeof wy.oninput=="function"}Lp=Rp}else Lp=!1;M4=Lp&&(!document.documentMode||9<document.documentMode)}function Ey(){hc&&(hc.detachEvent("onpropertychange",I4),Lc=hc=null)}function I4(e){if(e.propertyName==="value"&&wh(Lc)){var t=[];N4(t,Lc,e,Qv(e)),p4(Vx,t)}}function Wx(e,t,n){e==="focusin"?(Ey(),hc=t,Lc=n,hc.attachEvent("onpropertychange",I4)):e==="focusout"&&Ey()}function Xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(Lc)}function Yx(e,t){if(e==="click")return wh(t)}function qx(e,t){if(e==="input"||e==="change")return wh(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:Qx;function Rc(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ym.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function Sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var n=Sy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sy(n)}}function D4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F4(){for(var e=window,t=Td();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Td(e.document)}return t}function o2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kx(e){var t=F4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D4(n.ownerDocument.documentElement,n)){if(r!==null&&o2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=by(n,o);var a=by(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zx=Eo&&"documentMode"in document&&11>=document.documentMode,vs=null,Fm=null,pc=null,$m=!1;function Ay(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$m||vs==null||vs!==Td(r)||(r=vs,"selectionStart"in r&&o2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&Rc(pc,r)||(pc=r,r=Nd(Fm,"onSelect"),0<r.length&&(t=new n2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function F0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gs={animationend:F0("Animation","AnimationEnd"),animationiteration:F0("Animation","AnimationIteration"),animationstart:F0("Animation","AnimationStart"),transitionend:F0("Transition","TransitionEnd")},Op={},$4={};Eo&&($4=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Eh(e){if(Op[e])return Op[e];if(!gs[e])return e;var t=gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $4)return Op[e]=t[n];return e}var B4=Eh("animationend"),j4=Eh("animationiteration"),z4=Eh("animationstart"),G4=Eh("transitionend"),U4=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){U4.set(e,t),Al(t,[e])}for(var kp=0;kp<Ty.length;kp++){var Pp=Ty[kp],Jx=Pp.toLowerCase(),e_=Pp[0].toUpperCase()+Pp.slice(1);Sa(Jx,"on"+e_)}Sa(B4,"onAnimationEnd");Sa(j4,"onAnimationIteration");Sa(z4,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(G4,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Cy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J7(r,t,void 0,e),e.currentTarget=null}function V4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Cy(i,l,u),o=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Cy(i,l,u),o=s}}}if(Ld)throw e=Nm,Ld=!1,Nm=null,e}function Sn(e,t){var n=t[Um];n===void 0&&(n=t[Um]=new Set);var r=e+"__bubble";n.has(r)||(H4(t,e,2,!1),n.add(r))}function Np(e,t,n){var r=0;t&&(r|=4),H4(n,e,r,t)}var $0="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[$0]){e[$0]=!0,Z6.forEach(function(n){n!=="selectionchange"&&(t_.has(n)||Np(n,!1,e),Np(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$0]||(t[$0]=!0,Np("selectionchange",!1,t))}}function H4(e,t,n,r){switch(L4(t)){case 1:var i=mx;break;case 4:i=vx;break;default:i=e2}n=i.bind(null,t,n,e),i=void 0,!Pm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mp(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;a=a.return}for(;l!==null;){if(a=rl(l),a===null)return;if(s=a.tag,s===5||s===6){r=o=a;continue e}l=l.parentNode}}r=r.return}p4(function(){var u=o,f=Qv(n),h=[];e:{var c=U4.get(e);if(c!==void 0){var m=n2,v=e;switch(e){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":m=kx;break;case"focusin":v="focus",m=Cp;break;case"focusout":v="blur",m=Cp;break;case"beforeblur":case"afterblur":m=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mx;break;case B4:case j4:case z4:m=Ex;break;case G4:m=Dx;break;case"scroll":m=gx;break;case"wheel":m=$x;break;case"copy":case"cut":case"paste":m=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gy}var S=(t&4)!==0,L=!S&&e==="scroll",g=S?c!==null?c+"Capture":null:c;S=[];for(var _=u,y;_!==null;){y=_;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,g!==null&&(O=bc(_,g),O!=null&&S.push(kc(_,O,y)))),L)break;_=_.return}0<S.length&&(c=new m(c,v,null,n,f),h.push({event:c,listeners:S}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",c&&n!==Om&&(v=n.relatedTarget||n.fromElement)&&(rl(v)||v[So]))break e;if((m||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?rl(v):null,v!==null&&(L=Tl(v),v!==L||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=my,O="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=gy,O="onPointerLeave",g="onPointerEnter",_="pointer"),L=m==null?c:ys(m),y=v==null?c:ys(v),c=new S(O,_+"leave",m,n,f),c.target=L,c.relatedTarget=y,O=null,rl(f)===u&&(S=new S(g,_+"enter",v,n,f),S.target=y,S.relatedTarget=L,O=S),L=O,m&&v)t:{for(S=m,g=v,_=0,y=S;y;y=ls(y))_++;for(y=0,O=g;O;O=ls(O))y++;for(;0<_-y;)S=ls(S),_--;for(;0<y-_;)g=ls(g),y--;for(;_--;){if(S===g||g!==null&&S===g.alternate)break t;S=ls(S),g=ls(g)}S=null}else S=null;m!==null&&Ly(h,c,m,S,!1),v!==null&&L!==null&&Ly(h,L,v,S,!0)}}e:{if(c=u?ys(u):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var F=Hx;else if(_y(c))if(M4)F=qx;else{F=Xx;var V=Wx}else(m=c.nodeName)&&m.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(F=Yx);if(F&&(F=F(e,u))){N4(h,F,n,f);break e}V&&V(e,c,u),e==="focusout"&&(V=c._wrapperState)&&V.controlled&&c.type==="number"&&Am(c,"number",c.value)}switch(V=u?ys(u):window,e){case"focusin":(_y(V)||V.contentEditable==="true")&&(vs=V,Fm=u,pc=null);break;case"focusout":pc=Fm=vs=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,Ay(h,n,f);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":Ay(h,n,f)}var ee;if(i2)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else ms?k4(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(O4&&n.locale!=="ko"&&(ms||K!=="onCompositionStart"?K==="onCompositionEnd"&&ms&&(ee=R4()):(oa=f,t2="value"in oa?oa.value:oa.textContent,ms=!0)),V=Nd(u,K),0<V.length&&(K=new vy(K,e,null,n,f),h.push({event:K,listeners:V}),ee?K.data=ee:(ee=P4(n),ee!==null&&(K.data=ee)))),(ee=jx?zx(e,n):Gx(e,n))&&(u=Nd(u,"onBeforeInput"),0<u.length&&(f=new vy("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=ee))}V4(h,t)})}function kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bc(e,n),o!=null&&r.unshift(kc(e,o,i)),o=bc(e,t),o!=null&&r.push(kc(e,o,i))),e=e.return}return r}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=bc(n,o),s!=null&&a.unshift(kc(n,s,l))):i||(s=bc(n,o),s!=null&&a.push(kc(n,s,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var n_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(n_,`
`).replace(r_,"")}function B0(e,t,n){if(t=Ry(t),Ry(e)!==t&&n)throw Error(ze(425))}function Md(){}var Bm=null,jm=null;function zm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,i_=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch(a_)}:Gm;function a_(e){setTimeout(function(){throw e})}function Ip(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cc(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),qi="__reactFiber$"+Ks,Pc="__reactProps$"+Ks,So="__reactContainer$"+Ks,Um="__reactEvents$"+Ks,l_="__reactListeners$"+Ks,s_="__reactHandles$"+Ks;function rl(e){var t=e[qi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[So]||n[qi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ky(e);e!==null;){if(n=e[qi])return n;e=ky(e)}return t}e=n,n=e.parentNode}return null}function nf(e){return e=e[qi]||e[So],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Sh(e){return e[Pc]||null}var Vm=[],xs=-1;function ba(e){return{current:e}}function bn(e){0>xs||(e.current=Vm[xs],Vm[xs]=null,xs--)}function _n(e,t){xs++,Vm[xs]=e.current,e.current=t}var xa={},Er=ba(xa),$r=ba(!1),hl=xa;function Fs(e,t){var n=e.type.contextTypes;if(!n)return xa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Br(e){return e=e.childContextTypes,e!=null}function Id(){bn($r),bn(Er)}function Py(e,t,n){if(Er.current!==xa)throw Error(ze(168));_n(Er,t),_n($r,n)}function W4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,W7(e)||"Unknown",i));return Fn({},n,r)}function Dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,hl=Er.current,_n(Er,e),_n($r,$r.current),!0}function Ny(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=W4(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,bn($r),bn(Er),_n(Er,e)):bn($r),_n($r,n)}var go=null,bh=!1,Dp=!1;function X4(e){go===null?go=[e]:go.push(e)}function u_(e){bh=!0,X4(e)}function Aa(){if(!Dp&&go!==null){Dp=!0;var e=0,t=hn;try{var n=go;for(hn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}go=null,bh=!1}catch(i){throw go!==null&&(go=go.slice(e+1)),y4(Kv,Aa),i}finally{hn=t,Dp=!1}}return null}var _s=[],ws=0,Fd=null,$d=0,di=[],hi=0,pl=null,xo=1,_o="";function Ja(e,t){_s[ws++]=$d,_s[ws++]=Fd,Fd=e,$d=t}function Y4(e,t,n){di[hi++]=xo,di[hi++]=_o,di[hi++]=pl,pl=e;var r=xo;e=_o;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var o=32-ki(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,xo=1<<32-ki(t)+i|n<<i|r,_o=o+e}else xo=1<<o|n<<i|r,_o=e}function a2(e){e.return!==null&&(Ja(e,1),Y4(e,1,0))}function l2(e){for(;e===Fd;)Fd=_s[--ws],_s[ws]=null,$d=_s[--ws],_s[ws]=null;for(;e===pl;)pl=di[--hi],di[hi]=null,_o=di[--hi],di[hi]=null,xo=di[--hi],di[hi]=null}var ei=null,Jr=null,Cn=!1,Li=null;function q4(e,t){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function My(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Jr=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pl!==null?{id:xo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ei=e,Jr=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wm(e){if(Cn){var t=Jr;if(t){var n=t;if(!My(e,t)){if(Hm(e))throw Error(ze(418));t=da(n.nextSibling);var r=ei;t&&My(e,t)?q4(r,n):(e.flags=e.flags&-4097|2,Cn=!1,ei=e)}}else{if(Hm(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Cn=!1,ei=e}}}function Iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function j0(e){if(e!==ei)return!1;if(!Cn)return Iy(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zm(e.type,e.memoizedProps)),t&&(t=Jr)){if(Hm(e))throw Q4(),Error(ze(418));for(;t;)q4(e,t),t=da(t.nextSibling)}if(Iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jr=da(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=ei?da(e.stateNode.nextSibling):null;return!0}function Q4(){for(var e=Jr;e;)e=da(e.nextSibling)}function $s(){Jr=ei=null,Cn=!1}function s2(e){Li===null?Li=[e]:Li.push(e)}var c_=Lo.ReactCurrentBatchConfig;function Ti(e,t){if(e&&e.defaultProps){t=Fn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Bd=ba(null),jd=null,Es=null,u2=null;function c2(){u2=Es=jd=null}function f2(e){var t=Bd.current;bn(Bd),e._currentValue=t}function Xm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){jd=e,u2=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fr=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(u2!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(jd===null)throw Error(ze(308));Es=e,jd.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var il=null;function d2(e){il===null?il=[e]:il.push(e)}function K4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,d2(t)):(n.next=i.next,i.next=n),t.interleaved=n,bo(e,r)}function bo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ta=!1;function h2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bo(e,n)}return i=r.interleaved,i===null?(t.next=t,d2(r)):(t.next=i.next,i.next=t),r.interleaved=t,bo(e,n)}function fd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zv(e,n)}}function Dy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zd(e,t,n,r){var i=e.updateQueue;ta=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,a===null?o=u:a.next=u,a=s;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=s))}if(o!==null){var h=i.baseState;a=0,f=u=s=null,l=o;do{var c=l.lane,m=l.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,S=l;switch(c=t,m=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){h=v.call(m,h,c);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,c=typeof v=="function"?v.call(m,h,c):v,c==null)break e;h=Fn({},h,c);break e;case 2:ta=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else m={eventTime:m,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,s=h):f=f.next=m,a|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(s=h),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);vl|=a,e.lanes=a,e.memoizedState=h}}function Fy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var J4=new K6.Component().refs;function Ym(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ah={isMounted:function(e){return(e=e._reactInternals)?Tl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=ma(e),o=wo(r,i);o.payload=t,n!=null&&(o.callback=n),t=ha(e,o,i),t!==null&&(Pi(t,e,i,r),fd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=ma(e),o=wo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ha(e,o,i),t!==null&&(Pi(t,e,i,r),fd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lr(),r=ma(e),i=wo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ha(e,i,r),t!==null&&(Pi(t,e,r,n),fd(t,e,r))}};function $y(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Rc(n,r)||!Rc(i,o):!0}function e5(e,t,n){var r=!1,i=xa,o=t.contextType;return typeof o=="object"&&o!==null?o=vi(o):(i=Br(t)?hl:Er.current,r=t.contextTypes,o=(r=r!=null)?Fs(e,i):xa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ah,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function By(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ah.enqueueReplaceState(t,t.state,null)}function qm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=J4,h2(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vi(o):(o=Br(t)?hl:Er.current,i.context=Fs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ym(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ah.enqueueReplaceState(i,i.state,null),zd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ku(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===J4&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function z0(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jy(e){var t=e._init;return t(e._payload)}function t5(e){function t(g,_){if(e){var y=g.deletions;y===null?(g.deletions=[_],g.flags|=16):y.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=va(g,_),g.index=0,g.sibling=null,g}function o(g,_,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<_?(g.flags|=2,_):y):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,_,y,O){return _===null||_.tag!==6?(_=Up(y,g.mode,O),_.return=g,_):(_=i(_,y),_.return=g,_)}function s(g,_,y,O){var F=y.type;return F===ps?f(g,_,y.props.children,O,y.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ea&&jy(F)===_.type)?(O=i(_,y.props),O.ref=Ku(g,_,y),O.return=g,O):(O=gd(y.type,y.key,y.props,null,g.mode,O),O.ref=Ku(g,_,y),O.return=g,O)}function u(g,_,y,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=Vp(y,g.mode,O),_.return=g,_):(_=i(_,y.children||[]),_.return=g,_)}function f(g,_,y,O,F){return _===null||_.tag!==7?(_=ul(y,g.mode,O,F),_.return=g,_):(_=i(_,y),_.return=g,_)}function h(g,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Up(""+_,g.mode,y),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O0:return y=gd(_.type,_.key,_.props,null,g.mode,y),y.ref=Ku(g,null,_),y.return=g,y;case hs:return _=Vp(_,g.mode,y),_.return=g,_;case ea:var O=_._init;return h(g,O(_._payload),y)}if(oc(_)||Wu(_))return _=ul(_,g.mode,y,null),_.return=g,_;z0(g,_)}return null}function c(g,_,y,O){var F=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return F!==null?null:l(g,_,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case O0:return y.key===F?s(g,_,y,O):null;case hs:return y.key===F?u(g,_,y,O):null;case ea:return F=y._init,c(g,_,F(y._payload),O)}if(oc(y)||Wu(y))return F!==null?null:f(g,_,y,O,null);z0(g,y)}return null}function m(g,_,y,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(y)||null,l(_,g,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case O0:return g=g.get(O.key===null?y:O.key)||null,s(_,g,O,F);case hs:return g=g.get(O.key===null?y:O.key)||null,u(_,g,O,F);case ea:var V=O._init;return m(g,_,y,V(O._payload),F)}if(oc(O)||Wu(O))return g=g.get(y)||null,f(_,g,O,F,null);z0(_,O)}return null}function v(g,_,y,O){for(var F=null,V=null,ee=_,K=_=0,He=null;ee!==null&&K<y.length;K++){ee.index>K?(He=ee,ee=null):He=ee.sibling;var ve=c(g,ee,y[K],O);if(ve===null){ee===null&&(ee=He);break}e&&ee&&ve.alternate===null&&t(g,ee),_=o(ve,_,K),V===null?F=ve:V.sibling=ve,V=ve,ee=He}if(K===y.length)return n(g,ee),Cn&&Ja(g,K),F;if(ee===null){for(;K<y.length;K++)ee=h(g,y[K],O),ee!==null&&(_=o(ee,_,K),V===null?F=ee:V.sibling=ee,V=ee);return Cn&&Ja(g,K),F}for(ee=r(g,ee);K<y.length;K++)He=m(ee,g,K,y[K],O),He!==null&&(e&&He.alternate!==null&&ee.delete(He.key===null?K:He.key),_=o(He,_,K),V===null?F=He:V.sibling=He,V=He);return e&&ee.forEach(function(Re){return t(g,Re)}),Cn&&Ja(g,K),F}function S(g,_,y,O){var F=Wu(y);if(typeof F!="function")throw Error(ze(150));if(y=F.call(y),y==null)throw Error(ze(151));for(var V=F=null,ee=_,K=_=0,He=null,ve=y.next();ee!==null&&!ve.done;K++,ve=y.next()){ee.index>K?(He=ee,ee=null):He=ee.sibling;var Re=c(g,ee,ve.value,O);if(Re===null){ee===null&&(ee=He);break}e&&ee&&Re.alternate===null&&t(g,ee),_=o(Re,_,K),V===null?F=Re:V.sibling=Re,V=Re,ee=He}if(ve.done)return n(g,ee),Cn&&Ja(g,K),F;if(ee===null){for(;!ve.done;K++,ve=y.next())ve=h(g,ve.value,O),ve!==null&&(_=o(ve,_,K),V===null?F=ve:V.sibling=ve,V=ve);return Cn&&Ja(g,K),F}for(ee=r(g,ee);!ve.done;K++,ve=y.next())ve=m(ee,g,K,ve.value,O),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?K:ve.key),_=o(ve,_,K),V===null?F=ve:V.sibling=ve,V=ve);return e&&ee.forEach(function(Oe){return t(g,Oe)}),Cn&&Ja(g,K),F}function L(g,_,y,O){if(typeof y=="object"&&y!==null&&y.type===ps&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case O0:e:{for(var F=y.key,V=_;V!==null;){if(V.key===F){if(F=y.type,F===ps){if(V.tag===7){n(g,V.sibling),_=i(V,y.props.children),_.return=g,g=_;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ea&&jy(F)===V.type){n(g,V.sibling),_=i(V,y.props),_.ref=Ku(g,V,y),_.return=g,g=_;break e}n(g,V);break}else t(g,V);V=V.sibling}y.type===ps?(_=ul(y.props.children,g.mode,O,y.key),_.return=g,g=_):(O=gd(y.type,y.key,y.props,null,g.mode,O),O.ref=Ku(g,_,y),O.return=g,g=O)}return a(g);case hs:e:{for(V=y.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(g,_.sibling),_=i(_,y.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=Vp(y,g.mode,O),_.return=g,g=_}return a(g);case ea:return V=y._init,L(g,_,V(y._payload),O)}if(oc(y))return v(g,_,y,O);if(Wu(y))return S(g,_,y,O);z0(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,y),_.return=g,g=_):(n(g,_),_=Up(y,g.mode,O),_.return=g,g=_),a(g)):n(g,_)}return L}var Bs=t5(!0),n5=t5(!1),rf={},Ki=ba(rf),Nc=ba(rf),Mc=ba(rf);function ol(e){if(e===rf)throw Error(ze(174));return e}function p2(e,t){switch(_n(Mc,t),_n(Nc,e),_n(Ki,rf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cm(t,e)}bn(Ki),_n(Ki,t)}function js(){bn(Ki),bn(Nc),bn(Mc)}function r5(e){ol(Mc.current);var t=ol(Ki.current),n=Cm(t,e.type);t!==n&&(_n(Nc,e),_n(Ki,n))}function m2(e){Nc.current===e&&(bn(Ki),bn(Nc))}var Nn=ba(0);function Gd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fp=[];function v2(){for(var e=0;e<Fp.length;e++)Fp[e]._workInProgressVersionPrimary=null;Fp.length=0}var dd=Lo.ReactCurrentDispatcher,$p=Lo.ReactCurrentBatchConfig,ml=0,Dn=null,or=null,dr=null,Ud=!1,mc=!1,Ic=0,f_=0;function yr(){throw Error(ze(321))}function g2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function y2(e,t,n,r,i,o){if(ml=o,Dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dd.current=e===null||e.memoizedState===null?m_:v_,e=n(r,i),mc){o=0;do{if(mc=!1,Ic=0,25<=o)throw Error(ze(301));o+=1,dr=or=null,t.updateQueue=null,dd.current=g_,e=n(r,i)}while(mc)}if(dd.current=Vd,t=or!==null&&or.next!==null,ml=0,dr=or=Dn=null,Ud=!1,t)throw Error(ze(300));return e}function x2(){var e=Ic!==0;return Ic=0,e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Dn.memoizedState=dr=e:dr=dr.next=e,dr}function gi(){if(or===null){var e=Dn.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=dr===null?Dn.memoizedState:dr.next;if(t!==null)dr=t,or=e;else{if(e===null)throw Error(ze(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},dr===null?Dn.memoizedState=dr=e:dr=dr.next=e}return dr}function Dc(e,t){return typeof t=="function"?t(e):t}function Bp(e){var t=gi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=or,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,s=null,u=o;do{var f=u.lane;if((ml&f)===f)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=h,a=r):s=s.next=h,Dn.lanes|=f,vl|=f}u=u.next}while(u!==null&&u!==o);s===null?a=r:s.next=l,Ni(r,t.memoizedState)||(Fr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Dn.lanes|=o,vl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jp(e){var t=gi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ni(o,t.memoizedState)||(Fr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function i5(){}function o5(e,t){var n=Dn,r=gi(),i=t(),o=!Ni(r.memoizedState,i);if(o&&(r.memoizedState=i,Fr=!0),r=r.queue,_2(s5.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Fc(9,l5.bind(null,n,r,i,t),void 0,null),hr===null)throw Error(ze(349));ml&30||a5(n,t,i)}return i}function a5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Dn.updateQueue,t===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l5(e,t,n,r){t.value=n,t.getSnapshot=r,u5(t)&&c5(e)}function s5(e,t,n){return n(function(){u5(t)&&c5(e)})}function u5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function c5(e){var t=bo(e,1);t!==null&&Pi(t,e,1,-1)}function zy(e){var t=Xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:e},t.queue=e,e=e.dispatch=p_.bind(null,Dn,e),[t.memoizedState,e]}function Fc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Dn.updateQueue,t===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function f5(){return gi().memoizedState}function hd(e,t,n,r){var i=Xi();Dn.flags|=e,i.memoizedState=Fc(1|t,n,void 0,r===void 0?null:r)}function Th(e,t,n,r){var i=gi();r=r===void 0?null:r;var o=void 0;if(or!==null){var a=or.memoizedState;if(o=a.destroy,r!==null&&g2(r,a.deps)){i.memoizedState=Fc(t,n,o,r);return}}Dn.flags|=e,i.memoizedState=Fc(1|t,n,o,r)}function Gy(e,t){return hd(8390656,8,e,t)}function _2(e,t){return Th(2048,8,e,t)}function d5(e,t){return Th(4,2,e,t)}function h5(e,t){return Th(4,4,e,t)}function p5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m5(e,t,n){return n=n!=null?n.concat([e]):null,Th(4,4,p5.bind(null,t,e),n)}function w2(){}function v5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y5(e,t,n){return ml&21?(Ni(n,t)||(n=w4(),Dn.lanes|=n,vl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fr=!0),e.memoizedState=n)}function d_(e,t){var n=hn;hn=n!==0&&4>n?n:4,e(!0);var r=$p.transition;$p.transition={};try{e(!1),t()}finally{hn=n,$p.transition=r}}function x5(){return gi().memoizedState}function h_(e,t,n){var r=ma(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_5(e))w5(t,n);else if(n=K4(e,t,n,r),n!==null){var i=Lr();Pi(n,e,r,i),E5(n,t,r)}}function p_(e,t,n){var r=ma(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_5(e))w5(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ni(l,a)){var s=t.interleaved;s===null?(i.next=i,d2(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=K4(e,t,i,r),n!==null&&(i=Lr(),Pi(n,e,r,i),E5(n,t,r))}}function _5(e){var t=e.alternate;return e===Dn||t!==null&&t===Dn}function w5(e,t){mc=Ud=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zv(e,n)}}var Vd={readContext:vi,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},m_={readContext:vi,useCallback:function(e,t){return Xi().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:Gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4194308,4,p5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h_.bind(null,Dn,e),[r.memoizedState,e]},useRef:function(e){var t=Xi();return e={current:e},t.memoizedState=e},useState:zy,useDebugValue:w2,useDeferredValue:function(e){return Xi().memoizedState=e},useTransition:function(){var e=zy(!1),t=e[0];return e=d_.bind(null,e[1]),Xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Dn,i=Xi();if(Cn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),hr===null)throw Error(ze(349));ml&30||a5(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Gy(s5.bind(null,r,o,e),[e]),r.flags|=2048,Fc(9,l5.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xi(),t=hr.identifierPrefix;if(Cn){var n=_o,r=xo;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v_={readContext:vi,useCallback:v5,useContext:vi,useEffect:_2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:Bp,useRef:f5,useState:function(){return Bp(Dc)},useDebugValue:w2,useDeferredValue:function(e){var t=gi();return y5(t,or.memoizedState,e)},useTransition:function(){var e=Bp(Dc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:o5,useId:x5,unstable_isNewReconciler:!1},g_={readContext:vi,useCallback:v5,useContext:vi,useEffect:_2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:jp,useRef:f5,useState:function(){return jp(Dc)},useDebugValue:w2,useDeferredValue:function(e){var t=gi();return or===null?t.memoizedState=e:y5(t,or.memoizedState,e)},useTransition:function(){var e=jp(Dc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:o5,useId:x5,unstable_isNewReconciler:!1};function zs(e,t){try{var n="",r=t;do n+=H7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function zp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y_=typeof WeakMap=="function"?WeakMap:Map;function S5(e,t,n){n=wo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wd||(Wd=!0,av=r),Qm(e,t)},n}function b5(e,t,n){n=wo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qm(e,t),typeof r!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Uy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=P_.bind(null,e,t,n),t.then(e,e))}function Vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wo(-1,1),t.tag=2,ha(n,t,1))),n.lanes|=1),e)}var x_=Lo.ReactCurrentOwner,Fr=!1;function Tr(e,t,n,r){t.child=e===null?n5(t,null,n,r):Bs(t,e.child,n,r)}function Wy(e,t,n,r,i){n=n.render;var o=t.ref;return ks(t,i),r=y2(e,t,n,r,o,i),n=x2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ao(e,t,i)):(Cn&&n&&a2(t),t.flags|=1,Tr(e,t,r,i),t.child)}function Xy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!R2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,A5(e,t,o,r,i)):(e=gd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(a,r)&&e.ref===t.ref)return Ao(e,t,i)}return t.flags|=1,e=va(o,r),e.ref=t.ref,e.return=t,t.child=e}function A5(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Rc(o,r)&&e.ref===t.ref)if(Fr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Fr=!0);else return t.lanes=e.lanes,Ao(e,t,i)}return Km(e,t,n,r,i)}function T5(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(bs,Zr),Zr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_n(bs,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_n(bs,Zr),Zr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_n(bs,Zr),Zr|=r;return Tr(e,t,i,n),t.child}function C5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Km(e,t,n,r,i){var o=Br(n)?hl:Er.current;return o=Fs(t,o),ks(t,i),n=y2(e,t,n,r,o,i),r=x2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ao(e,t,i)):(Cn&&r&&a2(t),t.flags|=1,Tr(e,t,n,i),t.child)}function Yy(e,t,n,r,i){if(Br(n)){var o=!0;Dd(t)}else o=!1;if(ks(t,i),t.stateNode===null)pd(e,t),e5(t,n,r),qm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vi(u):(u=Br(n)?hl:Er.current,u=Fs(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==u)&&By(t,a,r,u),ta=!1;var c=t.memoizedState;a.state=c,zd(t,r,a,i),s=t.memoizedState,l!==r||c!==s||$r.current||ta?(typeof f=="function"&&(Ym(t,n,f,r),s=t.memoizedState),(l=ta||$y(t,n,l,r,c,s,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Z4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ti(t.type,l),a.props=u,h=t.pendingProps,c=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=vi(s):(s=Br(n)?hl:Er.current,s=Fs(t,s));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||c!==s)&&By(t,a,r,s),ta=!1,c=t.memoizedState,a.state=c,zd(t,r,a,i);var v=t.memoizedState;l!==h||c!==v||$r.current||ta?(typeof m=="function"&&(Ym(t,n,m,r),v=t.memoizedState),(u=ta||$y(t,n,u,r,c,v,s)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Zm(e,t,n,r,o,i)}function Zm(e,t,n,r,i,o){C5(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ny(t,n,!1),Ao(e,t,o);r=t.stateNode,x_.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Bs(t,e.child,null,o),t.child=Bs(t,null,l,o)):Tr(e,t,l,o),t.memoizedState=r.state,i&&Ny(t,n,!0),t.child}function L5(e){var t=e.stateNode;t.pendingContext?Py(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Py(e,t.context,!1),p2(e,t.containerInfo)}function qy(e,t,n,r,i){return $s(),s2(i),t.flags|=256,Tr(e,t,n,r),t.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function R5(e,t,n){var r=t.pendingProps,i=Nn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_n(Nn,i&1),e===null)return Wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Rh(a,r,0,null),e=ul(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ev(n),t.memoizedState=Jm,e):E2(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return __(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=va(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=va(l,o):(o=ul(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ev(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Jm,r}return o=e.child,e=o.sibling,r=va(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function E2(e,t){return t=Rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function G0(e,t,n,r){return r!==null&&s2(r),Bs(t,e.child,null,n),e=E2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function __(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=zp(Error(ze(422))),G0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rh({mode:"visible",children:r.children},i,0,null),o=ul(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Bs(t,e.child,null,a),t.child.memoizedState=ev(a),t.memoizedState=Jm,o);if(!(t.mode&1))return G0(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ze(419)),r=zp(o,r,void 0),G0(e,t,a,r)}if(l=(a&e.childLanes)!==0,Fr||l){if(r=hr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bo(e,i),Pi(r,e,i,-1))}return L2(),r=zp(Error(ze(421))),G0(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=N_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jr=da(i.nextSibling),ei=t,Cn=!0,Li=null,e!==null&&(di[hi++]=xo,di[hi++]=_o,di[hi++]=pl,xo=e.id,_o=e.overflow,pl=t),t=E2(t,r.children),t.flags|=4096,t)}function Qy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xm(e.return,t,n)}function Gp(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function O5(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tr(e,t,r.children,n),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qy(e,n,t);else if(e.tag===19)Qy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_n(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Gd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gp(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gp(t,!0,n,null,o);break;case"together":Gp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ao(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w_(e,t,n){switch(t.tag){case 3:L5(t),$s();break;case 5:r5(t);break;case 1:Br(t.type)&&Dd(t);break;case 4:p2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_n(Bd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_n(Nn,Nn.current&1),t.flags|=128,null):n&t.child.childLanes?R5(e,t,n):(_n(Nn,Nn.current&1),e=Ao(e,t,n),e!==null?e.sibling:null);_n(Nn,Nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return O5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,T5(e,t,n)}return Ao(e,t,n)}var k5,tv,P5,N5;k5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};P5=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ol(Ki.current);var o=null;switch(n){case"input":i=Sm(e,i),r=Sm(e,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=Tm(e,i),r=Tm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Md)}Lm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&Sn("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};N5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zu(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E_(e,t,n){var r=t.pendingProps;switch(l2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Br(t.type)&&Id(),xr(t),null;case 3:return r=t.stateNode,js(),bn($r),bn(Er),v2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(j0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li!==null&&(uv(Li),Li=null))),tv(e,t),xr(t),null;case 5:m2(t);var i=ol(Mc.current);if(n=t.type,e!==null&&t.stateNode!=null)P5(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return xr(t),null}if(e=ol(Ki.current),j0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qi]=t,r[Pc]=o,e=(t.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<lc.length;i++)Sn(lc[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":oy(r,o),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Sn("invalid",r);break;case"textarea":ly(r,o),Sn("invalid",r)}Lm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,l,e),i=["children",""+l]):Ec.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Sn("scroll",r)}switch(n){case"input":k0(r),ay(r,o,!0);break;case"textarea":k0(r),sy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Md)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qi]=t,e[Pc]=r,k5(e,t,!1,!1),t.stateNode=e;e:{switch(a=Rm(n,r),n){case"dialog":Sn("cancel",e),Sn("close",e),i=r;break;case"iframe":case"object":case"embed":Sn("load",e),i=r;break;case"video":case"audio":for(i=0;i<lc.length;i++)Sn(lc[i],e);i=r;break;case"source":Sn("error",e),i=r;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),i=r;break;case"details":Sn("toggle",e),i=r;break;case"input":oy(e,r),i=Sm(e,r),Sn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),Sn("invalid",e);break;case"textarea":ly(e,r),i=Tm(e,r),Sn("invalid",e);break;default:i=r}Lm(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?u4(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&l4(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Sc(e,s):typeof s=="number"&&Sc(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ec.hasOwnProperty(o)?s!=null&&o==="onScroll"&&Sn("scroll",e):s!=null&&Wv(e,o,s,a))}switch(n){case"input":k0(e),ay(e,r,!1);break;case"textarea":k0(e),sy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ya(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Cs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Cs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)N5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=ol(Mc.current),ol(Ki.current),j0(t)){if(r=t.stateNode,n=t.memoizedProps,r[qi]=t,(o=r.nodeValue!==n)&&(e=ei,e!==null))switch(e.tag){case 3:B0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&B0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=t,t.stateNode=r}return xr(t),null;case 13:if(bn(Nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&Jr!==null&&t.mode&1&&!(t.flags&128))Q4(),$s(),t.flags|=98560,o=!1;else if(o=j0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ze(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[qi]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),o=!1}else Li!==null&&(uv(Li),Li=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?ar===0&&(ar=3):L2())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return js(),tv(e,t),e===null&&Oc(t.stateNode.containerInfo),xr(t),null;case 10:return f2(t.type._context),xr(t),null;case 17:return Br(t.type)&&Id(),xr(t),null;case 19:if(bn(Nn),o=t.memoizedState,o===null)return xr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Zu(o,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Gd(e),a!==null){for(t.flags|=128,Zu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _n(Nn,Nn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yn()>Gs&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304)}else{if(!r)if(e=Gd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Cn)return xr(t),null}else 2*Yn()-o.renderingStartTime>Gs&&n!==1073741824&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yn(),t.sibling=null,n=Nn.current,_n(Nn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return C2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zr&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function S_(e,t){switch(l2(t),t.tag){case 1:return Br(t.type)&&Id(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(),bn($r),bn(Er),v2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return m2(t),null;case 13:if(bn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bn(Nn),null;case 4:return js(),null;case 10:return f2(t.type._context),null;case 22:case 23:return C2(),null;case 24:return null;default:return null}}var U0=!1,_r=!1,b_=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(e,t,r)}else n.current=null}function nv(e,t,n){try{n()}catch(r){Gn(e,t,r)}}var Ky=!1;function A_(e,t){if(Bm=kd,e=F4(),o2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,u=0,f=0,h=e,c=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(s=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)c=h,h=m;for(;;){if(h===e)break t;if(c===n&&++u===i&&(l=a),c===o&&++f===r&&(s=a),(m=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=m}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:e,selectionRange:n},kd=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,L=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ti(t.type,S),L);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(O){Gn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return v=Ky,Ky=!1,v}function vc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&nv(t,n,o)}i=i.next}while(i!==r)}}function Ch(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function M5(e){var t=e.alternate;t!==null&&(e.alternate=null,M5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qi],delete t[Pc],delete t[Um],delete t[l_],delete t[s_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I5(e){return e.tag===5||e.tag===3||e.tag===4}function Zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Md));else if(r!==4&&(e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}function ov(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ov(e,t,n),e=e.sibling;e!==null;)ov(e,t,n),e=e.sibling}var pr=null,Ci=!1;function qo(e,t,n){for(n=n.child;n!==null;)D5(e,t,n),n=n.sibling}function D5(e,t,n){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:_r||Ss(n,t);case 6:var r=pr,i=Ci;pr=null,qo(e,t,n),pr=r,Ci=i,pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?Ip(e.parentNode,n):e.nodeType===1&&Ip(e,n),Cc(e)):Ip(pr,n.stateNode));break;case 4:r=pr,i=Ci,pr=n.stateNode.containerInfo,Ci=!0,qo(e,t,n),pr=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&nv(n,t,a),i=i.next}while(i!==r)}qo(e,t,n);break;case 1:if(!_r&&(Ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gn(n,t,l)}qo(e,t,n);break;case 21:qo(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,qo(e,t,n),_r=r):qo(e,t,n);break;default:qo(e,t,n)}}function Jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b_),t.forEach(function(r){var i=M_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,Ci=!1;break e;case 3:pr=l.stateNode.containerInfo,Ci=!0;break e;case 4:pr=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(pr===null)throw Error(ze(160));D5(o,a,i),pr=null,Ci=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Gn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F5(t,e),t=t.sibling}function F5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),Vi(e),r&4){try{vc(3,e,e.return),Ch(3,e)}catch(S){Gn(e,e.return,S)}try{vc(5,e,e.return)}catch(S){Gn(e,e.return,S)}}break;case 1:Si(t,e),Vi(e),r&512&&n!==null&&Ss(n,n.return);break;case 5:if(Si(t,e),Vi(e),r&512&&n!==null&&Ss(n,n.return),e.flags&32){var i=e.stateNode;try{Sc(i,"")}catch(S){Gn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&i4(i,o),Rm(l,a);var u=Rm(l,o);for(a=0;a<s.length;a+=2){var f=s[a],h=s[a+1];f==="style"?u4(i,h):f==="dangerouslySetInnerHTML"?l4(i,h):f==="children"?Sc(i,h):Wv(i,f,h,u)}switch(l){case"input":bm(i,o);break;case"textarea":o4(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Cs(i,!!o.multiple,m,!1):c!==!!o.multiple&&(o.defaultValue!=null?Cs(i,!!o.multiple,o.defaultValue,!0):Cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pc]=o}catch(S){Gn(e,e.return,S)}}break;case 6:if(Si(t,e),Vi(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){Gn(e,e.return,S)}}break;case 3:if(Si(t,e),Vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cc(t.containerInfo)}catch(S){Gn(e,e.return,S)}break;case 4:Si(t,e),Vi(e);break;case 13:Si(t,e),Vi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(A2=Yn())),r&4&&Jy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(u=_r)||f,Si(t,e),_r=u):Si(t,e),Vi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ft=e,f=e.child;f!==null;){for(h=ft=f;ft!==null;){switch(c=ft,m=c.child,c.tag){case 0:case 11:case 14:case 15:vc(4,c,c.return);break;case 1:Ss(c,c.return);var v=c.stateNode;if(typeof v.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(S){Gn(r,n,S)}}break;case 5:Ss(c,c.return);break;case 22:if(c.memoizedState!==null){t3(h);continue}}m!==null?(m.return=c,ft=m):t3(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,s=h.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=s4("display",a))}catch(S){Gn(e,e.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Gn(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Si(t,e),Vi(e),r&4&&Jy(e);break;case 21:break;default:Si(t,e),Vi(e)}}function Vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I5(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sc(i,""),r.flags&=-33);var o=Zy(e);ov(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Zy(e);iv(e,l,a);break;default:throw Error(ze(161))}}catch(s){Gn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T_(e,t,n){ft=e,$5(e)}function $5(e,t,n){for(var r=(e.mode&1)!==0;ft!==null;){var i=ft,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||U0;if(!a){var l=i.alternate,s=l!==null&&l.memoizedState!==null||_r;l=U0;var u=_r;if(U0=a,(_r=s)&&!u)for(ft=i;ft!==null;)a=ft,s=a.child,a.tag===22&&a.memoizedState!==null?n3(i):s!==null?(s.return=a,ft=s):n3(i);for(;o!==null;)ft=o,$5(o),o=o.sibling;ft=i,U0=l,_r=u}e3(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ft=o):e3(e)}}function e3(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||Ch(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ti(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Fy(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fy(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Cc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}_r||t.flags&512&&rv(t)}catch(c){Gn(t,t.return,c)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function t3(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function n3(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ch(4,t)}catch(s){Gn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Gn(t,i,s)}}var o=t.return;try{rv(t)}catch(s){Gn(t,o,s)}break;case 5:var a=t.return;try{rv(t)}catch(s){Gn(t,a,s)}}}catch(s){Gn(t,t.return,s)}if(t===e){ft=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ft=l;break}ft=t.return}}var C_=Math.ceil,Hd=Lo.ReactCurrentDispatcher,S2=Lo.ReactCurrentOwner,mi=Lo.ReactCurrentBatchConfig,sn=0,hr=null,Zn=null,mr=0,Zr=0,bs=ba(0),ar=0,$c=null,vl=0,Lh=0,b2=0,gc=null,Dr=null,A2=0,Gs=1/0,vo=null,Wd=!1,av=null,pa=null,V0=!1,aa=null,Xd=0,yc=0,lv=null,md=-1,vd=0;function Lr(){return sn&6?Yn():md!==-1?md:md=Yn()}function ma(e){return e.mode&1?sn&2&&mr!==0?mr&-mr:c_.transition!==null?(vd===0&&(vd=w4()),vd):(e=hn,e!==0||(e=window.event,e=e===void 0?16:L4(e.type)),e):1}function Pi(e,t,n,r){if(50<yc)throw yc=0,lv=null,Error(ze(185));ef(e,n,r),(!(sn&2)||e!==hr)&&(e===hr&&(!(sn&2)&&(Lh|=n),ar===4&&ra(e,mr)),jr(e,r),n===1&&sn===0&&!(t.mode&1)&&(Gs=Yn()+500,bh&&Aa()))}function jr(e,t){var n=e.callbackNode;cx(e,t);var r=Od(e,e===hr?mr:0);if(r===0)n!==null&&fy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fy(n),t===1)e.tag===0?u_(r3.bind(null,e)):X4(r3.bind(null,e)),o_(function(){!(sn&6)&&Aa()}),n=null;else{switch(E4(r)){case 1:n=Kv;break;case 4:n=x4;break;case 16:n=Rd;break;case 536870912:n=_4;break;default:n=Rd}n=W5(n,B5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B5(e,t){if(md=-1,vd=0,sn&6)throw Error(ze(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var r=Od(e,e===hr?mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yd(e,r);else{t=r;var i=sn;sn|=2;var o=z5();(hr!==e||mr!==t)&&(vo=null,Gs=Yn()+500,sl(e,t));do try{O_();break}catch(l){j5(e,l)}while(!0);c2(),Hd.current=o,sn=i,Zn!==null?t=0:(hr=null,mr=0,t=ar)}if(t!==0){if(t===2&&(i=Mm(e),i!==0&&(r=i,t=sv(e,i))),t===1)throw n=$c,sl(e,0),ra(e,r),jr(e,Yn()),n;if(t===6)ra(e,r);else{if(i=e.current.alternate,!(r&30)&&!L_(i)&&(t=Yd(e,r),t===2&&(o=Mm(e),o!==0&&(r=o,t=sv(e,o))),t===1))throw n=$c,sl(e,0),ra(e,r),jr(e,Yn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:el(e,Dr,vo);break;case 3:if(ra(e,r),(r&130023424)===r&&(t=A2+500-Yn(),10<t)){if(Od(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gm(el.bind(null,e,Dr,vo),t);break}el(e,Dr,vo);break;case 4:if(ra(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ki(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C_(r/1960))-r,10<r){e.timeoutHandle=Gm(el.bind(null,e,Dr,vo),r);break}el(e,Dr,vo);break;case 5:el(e,Dr,vo);break;default:throw Error(ze(329))}}}return jr(e,Yn()),e.callbackNode===n?B5.bind(null,e):null}function sv(e,t){var n=gc;return e.current.memoizedState.isDehydrated&&(sl(e,t).flags|=256),e=Yd(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&uv(t)),e}function uv(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function L_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ni(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t){for(t&=~b2,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ki(t),r=1<<n;e[n]=-1,t&=~r}}function r3(e){if(sn&6)throw Error(ze(327));Ps();var t=Od(e,0);if(!(t&1))return jr(e,Yn()),null;var n=Yd(e,t);if(e.tag!==0&&n===2){var r=Mm(e);r!==0&&(t=r,n=sv(e,r))}if(n===1)throw n=$c,sl(e,0),ra(e,t),jr(e,Yn()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,el(e,Dr,vo),jr(e,Yn()),null}function T2(e,t){var n=sn;sn|=1;try{return e(t)}finally{sn=n,sn===0&&(Gs=Yn()+500,bh&&Aa())}}function gl(e){aa!==null&&aa.tag===0&&!(sn&6)&&Ps();var t=sn;sn|=1;var n=mi.transition,r=hn;try{if(mi.transition=null,hn=1,e)return e()}finally{hn=r,mi.transition=n,sn=t,!(sn&6)&&Aa()}}function C2(){Zr=bs.current,bn(bs)}function sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i_(n)),Zn!==null)for(n=Zn.return;n!==null;){var r=n;switch(l2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:js(),bn($r),bn(Er),v2();break;case 5:m2(r);break;case 4:js();break;case 13:bn(Nn);break;case 19:bn(Nn);break;case 10:f2(r.type._context);break;case 22:case 23:C2()}n=n.return}if(hr=e,Zn=e=va(e.current,null),mr=Zr=t,ar=0,$c=null,b2=Lh=vl=0,Dr=gc=null,il!==null){for(t=0;t<il.length;t++)if(n=il[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}il=null}return e}function j5(e,t){do{var n=Zn;try{if(c2(),dd.current=Vd,Ud){for(var r=Dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ud=!1}if(ml=0,dr=or=Dn=null,mc=!1,Ic=0,S2.current=null,n===null||n.return===null){ar=1,$c=t,Zn=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=mr,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Vy(a);if(m!==null){m.flags&=-257,Hy(m,a,l,o,t),m.mode&1&&Uy(o,u,t),t=m,s=u;var v=t.updateQueue;if(v===null){var S=new Set;S.add(s),t.updateQueue=S}else v.add(s);break e}else{if(!(t&1)){Uy(o,u,t),L2();break e}s=Error(ze(426))}}else if(Cn&&l.mode&1){var L=Vy(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Hy(L,a,l,o,t),s2(zs(s,l));break e}}o=s=zs(s,l),ar!==4&&(ar=2),gc===null?gc=[o]:gc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=S5(o,s,t);Dy(o,g);break e;case 1:l=s;var _=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pa===null||!pa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=b5(o,l,t);Dy(o,O);break e}}o=o.return}while(o!==null)}U5(n)}catch(F){t=F,Zn===n&&n!==null&&(Zn=n=n.return);continue}break}while(!0)}function z5(){var e=Hd.current;return Hd.current=Vd,e===null?Vd:e}function L2(){(ar===0||ar===3||ar===2)&&(ar=4),hr===null||!(vl&268435455)&&!(Lh&268435455)||ra(hr,mr)}function Yd(e,t){var n=sn;sn|=2;var r=z5();(hr!==e||mr!==t)&&(vo=null,sl(e,t));do try{R_();break}catch(i){j5(e,i)}while(!0);if(c2(),sn=n,Hd.current=r,Zn!==null)throw Error(ze(261));return hr=null,mr=0,ar}function R_(){for(;Zn!==null;)G5(Zn)}function O_(){for(;Zn!==null&&!tx();)G5(Zn)}function G5(e){var t=H5(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?U5(e):Zn=t,S2.current=null}function U5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=S_(n,t),n!==null){n.flags&=32767,Zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ar=6,Zn=null;return}}else if(n=E_(n,t,Zr),n!==null){Zn=n;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ar===0&&(ar=5)}function el(e,t,n){var r=hn,i=mi.transition;try{mi.transition=null,hn=1,k_(e,t,n,r)}finally{mi.transition=i,hn=r}return null}function k_(e,t,n,r){do Ps();while(aa!==null);if(sn&6)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(fx(e,o),e===hr&&(Zn=hr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||V0||(V0=!0,W5(Rd,function(){return Ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var a=hn;hn=1;var l=sn;sn|=4,S2.current=null,A_(e,n),F5(n,e),Kx(jm),kd=!!Bm,jm=Bm=null,e.current=n,T_(n),nx(),sn=l,hn=a,mi.transition=o}else e.current=n;if(V0&&(V0=!1,aa=e,Xd=i),o=e.pendingLanes,o===0&&(pa=null),ox(n.stateNode),jr(e,Yn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,e=av,av=null,e;return Xd&1&&e.tag!==0&&Ps(),o=e.pendingLanes,o&1?e===lv?yc++:(yc=0,lv=e):yc=0,Aa(),null}function Ps(){if(aa!==null){var e=E4(Xd),t=mi.transition,n=hn;try{if(mi.transition=null,hn=16>e?16:e,aa===null)var r=!1;else{if(e=aa,aa=null,Xd=0,sn&6)throw Error(ze(331));var i=sn;for(sn|=4,ft=e.current;ft!==null;){var o=ft,a=o.child;if(ft.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(ft=u;ft!==null;){var f=ft;switch(f.tag){case 0:case 11:case 15:vc(8,f,o)}var h=f.child;if(h!==null)h.return=f,ft=h;else for(;ft!==null;){f=ft;var c=f.sibling,m=f.return;if(M5(f),f===u){ft=null;break}if(c!==null){c.return=m,ft=c;break}ft=m}}}var v=o.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var L=S.sibling;S.sibling=null,S=L}while(S!==null)}}ft=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ft=a;else e:for(;ft!==null;){if(o=ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vc(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ft=g;break e}ft=o.return}}var _=e.current;for(ft=_;ft!==null;){a=ft;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ft=y;else e:for(a=_;ft!==null;){if(l=ft,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ch(9,l)}}catch(F){Gn(l,l.return,F)}if(l===a){ft=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,ft=O;break e}ft=l.return}}if(sn=i,Aa(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(xh,e)}catch{}r=!0}return r}finally{hn=n,mi.transition=t}}return!1}function i3(e,t,n){t=zs(n,t),t=S5(e,t,1),e=ha(e,t,1),t=Lr(),e!==null&&(ef(e,1,t),jr(e,t))}function Gn(e,t,n){if(e.tag===3)i3(e,e,n);else for(;t!==null;){if(t.tag===3){i3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pa===null||!pa.has(r))){e=zs(n,e),e=b5(t,e,1),t=ha(t,e,1),e=Lr(),t!==null&&(ef(t,1,e),jr(t,e));break}}t=t.return}}function P_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&n,hr===e&&(mr&n)===n&&(ar===4||ar===3&&(mr&130023424)===mr&&500>Yn()-A2?sl(e,0):b2|=n),jr(e,t)}function V5(e,t){t===0&&(e.mode&1?(t=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):t=1);var n=Lr();e=bo(e,t),e!==null&&(ef(e,t,n),jr(e,n))}function N_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V5(e,n)}function M_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),V5(e,n)}var H5;H5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Fr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fr=!1,w_(e,t,n);Fr=!!(e.flags&131072)}else Fr=!1,Cn&&t.flags&1048576&&Y4(t,$d,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pd(e,t),e=t.pendingProps;var i=Fs(t,Er.current);ks(t,n),i=y2(null,t,r,e,i,n);var o=x2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(r)?(o=!0,Dd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h2(t),i.updater=Ah,t.stateNode=i,i._reactInternals=t,qm(t,r,e,n),t=Zm(null,t,r,!0,o,n)):(t.tag=0,Cn&&o&&a2(t),Tr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=D_(r),e=Ti(r,e),i){case 0:t=Km(null,t,r,e,n);break e;case 1:t=Yy(null,t,r,e,n);break e;case 11:t=Wy(null,t,r,e,n);break e;case 14:t=Xy(null,t,r,Ti(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),Km(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),Yy(e,t,r,i,n);case 3:e:{if(L5(t),e===null)throw Error(ze(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Z4(e,t),zd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zs(Error(ze(423)),t),t=qy(e,t,r,n,i);break e}else if(r!==i){i=zs(Error(ze(424)),t),t=qy(e,t,r,n,i);break e}else for(Jr=da(t.stateNode.containerInfo.firstChild),ei=t,Cn=!0,Li=null,n=n5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),r===i){t=Ao(e,t,n);break e}Tr(e,t,r,n)}t=t.child}return t;case 5:return r5(t),e===null&&Wm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,zm(r,i)?a=null:o!==null&&zm(r,o)&&(t.flags|=32),C5(e,t),Tr(e,t,a,n),t.child;case 6:return e===null&&Wm(t),null;case 13:return R5(e,t,n);case 4:return p2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bs(t,null,r,n):Tr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),Wy(e,t,r,i,n);case 7:return Tr(e,t,t.pendingProps,n),t.child;case 8:return Tr(e,t,t.pendingProps.children,n),t.child;case 12:return Tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_n(Bd,r._currentValue),r._currentValue=a,o!==null)if(Ni(o.value,a)){if(o.children===i.children&&!$r.current){t=Ao(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=wo(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Xm(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ze(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xm(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),i=vi(i),r=r(i),t.flags|=1,Tr(e,t,r,n),t.child;case 14:return r=t.type,i=Ti(r,t.pendingProps),i=Ti(r.type,i),Xy(e,t,r,i,n);case 15:return A5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),pd(e,t),t.tag=1,Br(r)?(e=!0,Dd(t)):e=!1,ks(t,n),e5(t,r,i),qm(t,r,i,n),Zm(null,t,r,!0,e,n);case 19:return O5(e,t,n);case 22:return T5(e,t,n)}throw Error(ze(156,t.tag))};function W5(e,t){return y4(e,t)}function I_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,t,n,r){return new I_(e,t,n,r)}function R2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D_(e){if(typeof e=="function")return R2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yv)return 11;if(e===qv)return 14}return 2}function va(e,t){var n=e.alternate;return n===null?(n=pi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gd(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")R2(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ps:return ul(n.children,i,o,t);case Xv:a=8,i|=8;break;case xm:return e=pi(12,n,t,i|2),e.elementType=xm,e.lanes=o,e;case _m:return e=pi(13,n,t,i),e.elementType=_m,e.lanes=o,e;case wm:return e=pi(19,n,t,i),e.elementType=wm,e.lanes=o,e;case t4:return Rh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J6:a=10;break e;case e4:a=9;break e;case Yv:a=11;break e;case qv:a=14;break e;case ea:a=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=pi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ul(e,t,n,r){return e=pi(7,e,r,t),e.lanes=n,e}function Rh(e,t,n,r){return e=pi(22,e,r,t),e.elementType=t4,e.lanes=n,e.stateNode={isHidden:!1},e}function Up(e,t,n){return e=pi(6,e,null,t),e.lanes=n,e}function Vp(e,t,n){return t=pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O2(e,t,n,r,i,o,a,l,s){return e=new F_(e,t,n,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(o),e}function $_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X5(e){if(!e)return xa;e=e._reactInternals;e:{if(Tl(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(Br(n))return W4(e,n,t)}return t}function Y5(e,t,n,r,i,o,a,l,s){return e=O2(n,r,!0,e,i,o,a,l,s),e.context=X5(null),n=e.current,r=Lr(),i=ma(n),o=wo(r,i),o.callback=t??null,ha(n,o,i),e.current.lanes=i,ef(e,i,r),jr(e,r),e}function Oh(e,t,n,r){var i=t.current,o=Lr(),a=ma(i);return n=X5(n),t.context===null?t.context=n:t.pendingContext=n,t=wo(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ha(i,t,a),e!==null&&(Pi(e,i,a,o),fd(e,i,a)),a}function qd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function k2(e,t){o3(e,t),(e=e.alternate)&&o3(e,t)}function B_(){return null}var q5=typeof reportError=="function"?reportError:function(e){console.error(e)};function P2(e){this._internalRoot=e}kh.prototype.render=P2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Oh(e,t,null,null)};kh.prototype.unmount=P2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){Oh(null,e,null,null)}),t[So]=null}};function kh(e){this._internalRoot=e}kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=A4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&C4(e)}};function N2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function a3(){}function j_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qd(a);o.call(u)}}var a=Y5(t,r,e,0,null,!1,!1,"",a3);return e._reactRootContainer=a,e[So]=a.current,Oc(e.nodeType===8?e.parentNode:e),gl(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=qd(s);l.call(u)}}var s=O2(e,0,!1,null,null,!1,!1,"",a3);return e._reactRootContainer=s,e[So]=s.current,Oc(e.nodeType===8?e.parentNode:e),gl(function(){Oh(t,s,n,r)}),s}function Nh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var s=qd(a);l.call(s)}}Oh(t,a,e,i)}else a=j_(n,t,e,i,r);return qd(a)}S4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ac(t.pendingLanes);n!==0&&(Zv(t,n|1),jr(t,Yn()),!(sn&6)&&(Gs=Yn()+500,Aa()))}break;case 13:gl(function(){var r=bo(e,1);if(r!==null){var i=Lr();Pi(r,e,1,i)}}),k2(e,1)}};Jv=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var n=Lr();Pi(t,e,134217728,n)}k2(e,134217728)}};b4=function(e){if(e.tag===13){var t=ma(e),n=bo(e,t);if(n!==null){var r=Lr();Pi(n,e,t,r)}k2(e,t)}};A4=function(){return hn};T4=function(e,t){var n=hn;try{return hn=e,t()}finally{hn=n}};km=function(e,t,n){switch(t){case"input":if(bm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sh(r);if(!i)throw Error(ze(90));r4(r),bm(r,i)}}}break;case"textarea":o4(e,n);break;case"select":t=n.value,t!=null&&Cs(e,!!n.multiple,t,!1)}};d4=T2;h4=gl;var z_={usingClientEntryPoint:!1,Events:[nf,ys,Sh,c4,f4,T2]},Ju={findFiberByHostInstance:rl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},G_={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||B_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H0.isDisabled&&H0.supportsFiber)try{xh=H0.inject(G_),Qi=H0}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z_;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N2(t))throw Error(ze(200));return $_(e,t,null,n)};ii.createRoot=function(e,t){if(!N2(e))throw Error(ze(299));var n=!1,r="",i=q5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=O2(e,1,!1,null,null,n,!1,r,i),e[So]=t.current,Oc(e.nodeType===8?e.parentNode:e),new P2(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=v4(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return gl(e)};ii.hydrate=function(e,t,n){if(!Ph(t))throw Error(ze(200));return Nh(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!N2(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=q5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Y5(t,null,e,1,n??null,i,!1,o,a),e[So]=t.current,Oc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kh(t)};ii.render=function(e,t,n){if(!Ph(t))throw Error(ze(200));return Nh(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(ze(40));return e._reactRootContainer?(gl(function(){Nh(null,null,e,!1,function(){e._reactRootContainer=null,e[So]=null})}),!0):!1};ii.unstable_batchedUpdates=T2;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ph(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Nh(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function Q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q5)}catch(e){console.error(e)}}Q5(),Y6.exports=ii;var U_=Y6.exports,l3=U_;gm.createRoot=l3.createRoot,gm.hydrateRoot=l3.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}var la;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(la||(la={}));const s3="popstate";function V_(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:s=""}=Cl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),cv("",{pathname:a,search:l,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof o=="string"?o:Qd(o))}function r(i,o){Mh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return W_(t,n,r,e)}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H_(){return Math.random().toString(36).substr(2,8)}function u3(e,t){return{usr:e.state,key:e.key,idx:t}}function cv(e,t,n,r){return n===void 0&&(n=null),Bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cl(t):t,{state:n,key:t&&t.key||r||H_()})}function Qd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=la.Pop,s=null,u=f();u==null&&(u=0,a.replaceState(Bc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){l=la.Pop;let L=f(),g=L==null?null:L-u;u=L,s&&s({action:l,location:S.location,delta:g})}function c(L,g){l=la.Push;let _=cv(S.location,L,g);n&&n(_,L),u=f()+1;let y=u3(_,u),O=S.createHref(_);try{a.pushState(y,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(O)}o&&s&&s({action:l,location:S.location,delta:1})}function m(L,g){l=la.Replace;let _=cv(S.location,L,g);n&&n(_,L),u=f();let y=u3(_,u),O=S.createHref(_);a.replaceState(y,"",O),o&&s&&s({action:l,location:S.location,delta:0})}function v(L){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof L=="string"?L:Qd(L);return Jn(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let S={get action(){return l},get location(){return e(i,a)},listen(L){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(s3,h),s=L,()=>{i.removeEventListener(s3,h),s=null}},createHref(L){return t(i,L)},createURL:v,encodeLocation(L){let g=v(L);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:c,replace:m,go(L){return a.go(L)}};return S}var c3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c3||(c3={}));function X_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Cl(t):t,i=M2(r.pathname||"/",n);if(i==null)return null;let o=K5(e);Y_(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=rw(o[l],aw(i));return a}function K5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let s={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};s.relativePath.startsWith("/")&&(Jn(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=ga([r,s.relativePath]),f=n.concat(s);o.children&&o.children.length>0&&(Jn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K5(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tw(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let s of Z5(o.path))i(o,a,s)}),t}function Z5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Z5(r.join("/")),l=[];return l.push(...a.map(s=>s===""?o:[o,s].join("/"))),i&&l.push(...a),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function Y_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q_=/^:\w+$/,Q_=3,K_=2,Z_=1,J_=10,ew=-2,f3=e=>e==="*";function tw(e,t){let n=e.split("/"),r=n.length;return n.some(f3)&&(r+=ew),t&&(r+=K_),n.filter(i=>!f3(i)).reduce((i,o)=>i+(q_.test(o)?Q_:o===""?Z_:J_),r)}function nw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rw(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],s=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!f)return null;Object.assign(r,f.params);let h=l.route;o.push({params:r,pathname:ga([i,f.pathname]),pathnameBase:cw(ga([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ga([i,f.pathnameBase]))}return o}function iw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ow(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:c,isOptional:m}=f;if(c==="*"){let S=l[h]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[c]=void 0:u[c]=lw(v||"",c),u},{}),pathname:o,pathnameBase:a,pattern:e}}function ow(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Mh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function aw(e){try{return decodeURI(e)}catch(t){return Mh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lw(e,t){try{return decodeURIComponent(e)}catch(n){return Mh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function M2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:uw(n,t):t,search:fw(r),hash:dw(i)}}function uw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e8(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Cl(e):(i=Bc({},e),Jn(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h.pop();i.pathname=c.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h-=1;i.pathname=c.join("/")}l=h>=0?t[h]:"/"}let s=sw(i,l),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||f)&&(s.pathname+="/"),s}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),cw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t8=["post","put","patch","delete"];new Set(t8);const pw=["get",...t8];new Set(pw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}const I2=P.createContext(null),mw=P.createContext(null),Zs=P.createContext(null),Ih=P.createContext(null),Ta=P.createContext({outlet:null,matches:[],isDataRoute:!1}),n8=P.createContext(null);function vw(e,t){let{relative:n}=t===void 0?{}:t;of()||Jn(!1);let{basename:r,navigator:i}=P.useContext(Zs),{hash:o,pathname:a,search:l}=i8(e,{relative:n}),s=a;return r!=="/"&&(s=a==="/"?r:ga([r,a])),i.createHref({pathname:s,search:l,hash:o})}function of(){return P.useContext(Ih)!=null}function Dh(){return of()||Jn(!1),P.useContext(Ih).location}function r8(e){P.useContext(Zs).static||P.useLayoutEffect(e)}function Fh(){let{isDataRoute:e}=P.useContext(Ta);return e?Rw():gw()}function gw(){of()||Jn(!1);let e=P.useContext(I2),{basename:t,navigator:n}=P.useContext(Zs),{matches:r}=P.useContext(Ta),{pathname:i}=Dh(),o=JSON.stringify(J5(r).map(s=>s.pathnameBase)),a=P.useRef(!1);return r8(()=>{a.current=!0}),P.useCallback(function(s,u){if(u===void 0&&(u={}),!a.current)return;if(typeof s=="number"){n.go(s);return}let f=e8(s,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ga([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function D2(){let{matches:e}=P.useContext(Ta),t=e[e.length-1];return t?t.params:{}}function i8(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(Ta),{pathname:i}=Dh(),o=JSON.stringify(J5(r).map(a=>a.pathnameBase));return P.useMemo(()=>e8(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function yw(e,t){return xw(e,t)}function xw(e,t,n){of()||Jn(!1);let{navigator:r}=P.useContext(Zs),{matches:i}=P.useContext(Ta),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let s=Dh(),u;if(t){var f;let S=typeof t=="string"?Cl(t):t;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Jn(!1),u=S}else u=s;let h=u.pathname||"/",c=l==="/"?h:h.slice(l.length)||"/",m=X_(e,{pathname:c}),v=bw(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ga([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ga([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n);return t&&v?P.createElement(Ih.Provider,{value:{location:Kd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:la.Pop}},v):v}function _w(){let e=Lw(),t=hw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,o)}const ww=P.createElement(_w,null);class Ew extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(Ta.Provider,{value:this.props.routeContext},P.createElement(n8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sw(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(I2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ta.Provider,{value:t},r)}function bw(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(s=>s.route.id&&(a==null?void 0:a[s.route.id]));l>=0||Jn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,s,u)=>{let f=s.route.id?a==null?void 0:a[s.route.id]:null,h=null;n&&(h=s.route.errorElement||ww);let c=t.concat(o.slice(0,u+1)),m=()=>{let v;return f?v=h:s.route.Component?v=P.createElement(s.route.Component,null):s.route.element?v=s.route.element:v=l,P.createElement(Sw,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:v})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?P.createElement(Ew,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:m(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):m()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),Zd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zd||{});function Aw(e){let t=P.useContext(I2);return t||Jn(!1),t}function Tw(e){let t=P.useContext(mw);return t||Jn(!1),t}function Cw(e){let t=P.useContext(Ta);return t||Jn(!1),t}function a8(e){let t=Cw(),n=t.matches[t.matches.length-1];return n.route.id||Jn(!1),n.route.id}function Lw(){var e;let t=P.useContext(n8),n=Tw(Zd.UseRouteError),r=a8(Zd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Rw(){let{router:e}=Aw(o8.UseNavigateStable),t=a8(Zd.UseNavigateStable),n=P.useRef(!1);return r8(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Kd({fromRouteId:t},o)))},[e,t])}function tl(e){Jn(!1)}function Ow(e){let{basename:t="/",children:n=null,location:r,navigationType:i=la.Pop,navigator:o,static:a=!1}=e;of()&&Jn(!1);let l=t.replace(/^\/*/,"/"),s=P.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=Cl(r));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:m="default"}=r,v=P.useMemo(()=>{let S=M2(u,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:c,key:m},navigationType:i}},[l,u,f,h,c,m,i]);return v==null?null:P.createElement(Zs.Provider,{value:s},P.createElement(Ih.Provider,{children:n,value:v}))}function kw(e){let{children:t,location:n}=e;return yw(fv(t),n)}new Promise(()=>{});function fv(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let o=[...t,i];if(r.type===P.Fragment){n.push.apply(n,fv(r.props.children,o));return}r.type!==tl&&Jn(!1),!r.props.index||!r.props.children||Jn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=fv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}function Pw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mw(e,t){return e.button===0&&(!t||t==="_self")&&!Nw(e)}const Iw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dw="startTransition",d3=N7[Dw];function Fw(e){let{basename:t,children:n,future:r,window:i}=e,o=P.useRef();o.current==null&&(o.current=V_({window:i,v5Compat:!0}));let a=o.current,[l,s]=P.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=P.useCallback(h=>{u&&d3?d3(()=>s(h)):s(h)},[s,u]);return P.useLayoutEffect(()=>a.listen(f),[a,f]),P.createElement(Ow,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:s,to:u,preventScrollReset:f,unstable_viewTransition:h}=t,c=Pw(t,Iw),{basename:m}=P.useContext(Zs),v,S=!1;if(typeof u=="string"&&Bw.test(u)&&(v=u,$w))try{let y=new URL(window.location.href),O=u.startsWith("//")?new URL(y.protocol+u):new URL(u),F=M2(O.pathname,m);O.origin===y.origin&&F!=null?u=F+O.search+O.hash:S=!0}catch{}let L=vw(u,{relative:i}),g=jw(u,{replace:a,state:l,target:s,preventScrollReset:f,relative:i,unstable_viewTransition:h});function _(y){r&&r(y),y.defaultPrevented||g(y)}return P.createElement("a",dv({},c,{href:v||L,onClick:S||o?r:_,ref:n,target:s}))});var h3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h3||(h3={}));var p3;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p3||(p3={}));function jw(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,s=Fh(),u=Dh(),f=i8(e,{relative:a});return P.useCallback(h=>{if(Mw(h,n)){h.preventDefault();let c=r!==void 0?r:Qd(u)===Qd(f);s(e,{replace:c,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[u,s,f,r,i,n,e,o,a,l])}var l8={exports:{}},zw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gw=zw,Uw=Gw;function s8(){}function u8(){}u8.resetWarningCache=s8;var Vw=function(){function e(r,i,o,a,l,s){if(s!==Uw){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u8,resetWarningCache:s8};return n.PropTypes=n,n};l8.exports=Vw();var Hw=l8.exports;const nt=Zc(Hw);nt.object,nt.bool,nt.func,nt.func,nt.func;const W0="https://api.latentscope.com/api";function Ww(){const[e,t]=P.useState([]);P.useEffect(()=>{fetch(`${W0}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=P.useState({});P.useEffect(()=>{e.forEach(l=>{fetch(`${W0}/datasets/${l.id}/scopes`).then(s=>s.json()).then(s=>r(u=>{const f={...u};return f[l.id]=s,f}))})},[e]),P.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=P.useState(null),a=Fh();return P.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),I.jsxs("div",{className:"home",children:[null,I.jsxs("div",{className:"section datasets",children:[I.jsx("h3",{children:"Datasets"}),I.jsx("div",{className:"datasets-content",children:e.map(l=>{var s;return I.jsxs("div",{className:"dataset",children:[I.jsxs("h3",{children:[" ",l.id," ",null]}),I.jsxs("span",{children:[l.length," rows"]}),I.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((s=n[l.id])==null?void 0:s.map((u,f)=>I.jsxs("div",{className:"scope-link",children:[I.jsxs(jc,{to:`/datasets/${l.id}/explore/${u.id}`,children:[u.label||u.id,I.jsx("br",{}),u.ignore_hulls?I.jsx("img",{src:`${W0}/files/${l.id}/umaps/${u.umap_id}.png`}):I.jsx("img",{src:`${W0}/files/${l.id}/clusters/${u.cluster_id}.png`})]}),I.jsx("br",{}),I.jsx("span",{className:"scope-description",children:u.description}),I.jsx("br",{}),null,null]},f)))})]},l.id)})})]})]})}const Xw="_settings_rf3gr_2",Yw="_header_rf3gr_5",Hi={settings:Xw,header:Yw,"dot-env":"_dot-env_rf3gr_14","data-dir":"_data-dir_rf3gr_17","api-keys":"_api-keys_rf3gr_21","api-key":"_api-key_rf3gr_21","key-text":"_key-text_rf3gr_34","api-key-input":"_api-key-input_rf3gr_39"},qw="https://api.latentscope.com/api",Qw=()=>{var o;const[e,t]=P.useState({}),[n,r]=P.useState(0);P.useEffect(()=>{fetch(`${qw}/settings`).then(a=>a.json()).then(a=>{t(a),console.log("settings data",a)}).catch(a=>console.error("Error fetching settings:",a))},[n]);const i=P.useCallback((a,l)=>{l.preventDefault(),l.target.elements[0].value,console.error("Settings are read-only")},[n]);return I.jsxs("div",{className:Hi.settings,children:[I.jsx("h2",{className:Hi.header,children:"Settings"}),I.jsxs("div",{className:Hi["dot-env"],children:["Settings are stored in the following ",I.jsx("code",{children:".env"})," file:",I.jsx("br",{}),I.jsx("code",{children:e.env_file})]}),I.jsxs("div",{className:Hi["data-dir"],children:["All data is stored in the following directory:",I.jsx("br",{}),I.jsx("code",{children:e.data_dir}),I.jsx("br",{}),"As set in the environment variable ",I.jsx("code",{children:"LATENT_SCOPE_DATA"})]}),I.jsxs("div",{className:Hi["api-keys"],children:[I.jsx("b",{children:"The following API keys are available for use:"}),(o=e.supported_api_keys)==null?void 0:o.map(a=>I.jsxs("span",{className:Hi["api-key"],children:[e.api_keys.indexOf(a)>=0?I.jsx("span",{className:Hi["api-key-status"],children:""}):I.jsx("span",{className:Hi["api-key-status"],children:""}),"",I.jsx("span",{className:Hi["key-text"],children:a}),I.jsxs("form",{onSubmit:l=>i(a,l),children:[I.jsx("input",{type:"password",className:Hi["api-key-input"]}),I.jsx("button",{children:e.api_keys.indexOf(a)>=0?"Update":"Save"})]})]},a))]})]})},m3="https://api.latentscope.com/api";c8.propTypes={data:nt.array.isRequired,tagset:nt.object,datasetId:nt.string,maxRows:nt.number,onTagset:nt.func,onHover:nt.func,onClick:nt.func};function c8({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return I.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(h,c){console.log("tag",h),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[h]),t[h].includes(c)?(console.log("removing"),fetch(`${m3}/tags/remove?dataset=${n}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("removed",m),i(m)})):(console.log("adding"),fetch(`${m3}/tags/add?dataset=${n}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("added",m),i(m)}))}t&&(s=Object.keys(t));const f=r?e.slice(0,r):e;return I.jsxs(I.Fragment,{children:[I.jsxs("table",{className:"datatable",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[l.map((h,c)=>I.jsx("th",{children:h},c)),s?I.jsx("th",{children:"tags"}):null]})}),I.jsx("tbody",{children:f.map((h,c)=>I.jsxs("tr",{onMouseEnter:()=>o&&o(h.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(h.index),children:[l.map((m,v)=>I.jsx("td",{children:m.toLowerCase()=="url"&&h[m]?I.jsx("a",{href:h[m],children:"url"}):h[m]},v)),s?I.jsx("td",{children:s.map((m,v)=>I.jsx("button",{onClick:S=>{u(m,h.index),S.preventDefault(),S.stopPropagation()},className:t[m].includes(h.index)?"tag-active":"tag-inactive",children:m},v))}):null]},c))})]}),r&&e.length>r?I.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const Kw="https://api.latentscope.com/api";al.propTypes={dataset:nt.object.isRequired,indices:nt.array.isRequired,distances:nt.array,clusterIndices:nt.array,clusterLabels:nt.array,maxRows:nt.number,tagset:nt.object,onHover:nt.func,onClick:nt.func,onTagset:nt.func};function al({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:s,onTagset:u}){const[f,h]=P.useState([]),c=P.useCallback(m=>{e&&fetch(`${Kw}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:m})}).then(v=>v.json()).then(v=>{let S=v.map((L,g)=>{let _=m[g],y={index:_,...L};return n&&n.length&&(y.distance=n[g]),r&&r.length&&i&&i.length&&(y.cluster=i[r[_].cluster].label),y});h(S)})},[e,n,r,i]);return P.useEffect(()=>{t&&t.length&&c(t)},[t]),I.jsx("div",{children:I.jsx(c8,{data:f,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:u,onHover:l,onClick:s})})}const f8=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),F2=(e,t)=>t?e.toLowerCase():e,d8=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=F2(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},$2=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=F2(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},v3=(e,t)=>()=>{e.forEach(n=>n(t))},h8=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=$2(e);return(o,a,l={})=>{const s=F2(o,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((f,h)=>{--e.__times__[s][h]<1&&i(s,f)}),r||l.async?setTimeout(v3(u,a),0):v3(u,a)(),t&&!l.isNoGlobalBroadcast)try{f8.postMessage({event:s,news:a})}catch(f){if(f instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw f}}},Zw=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},p8=()=>({__times__:{}}),Jw=({async:e=!1,caseInsensitive:t=!1,stack:n=p8()}={})=>(n.__times__||(n.__times__={}),{publish:h8(n,{async:e,caseInsensitive:t}),subscribe:d8(n,{caseInsensitive:t}),unsubscribe:$2(n,{caseInsensitive:t}),clear:Zw(n),stack:n}),X0=p8(),eE={publish:h8(X0,{isGlobal:!0}),subscribe:d8(X0),unsubscribe:$2(X0),stack:X0};f8.onmessage=({data:{event:e,news:t}})=>eE.publish(e,t,{isNoGlobalBroadcast:!0});var m8={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(g7,function(){var n=function(p){return p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float32Array||p instanceof Float64Array||p instanceof Uint8ClampedArray},r=function(p,w){for(var k=Object.keys(w),q=0;q<k.length;++q)p[k[q]]=w[k[q]];return p},i=`
`;function o(p){return typeof atob<"u"?atob(p):"base64:"+p}function a(p){var w=new Error("(regl) "+p);throw console.error(w),w}function l(p,w){p||a(w)}function s(p){return p?": "+p:""}function u(p,w,k){p in w||a("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(w).join())}function f(p,w){n(p)||a("invalid parameter type"+s(w)+". must be a typed array")}function h(p,w){switch(w){case"number":return typeof p=="number";case"object":return typeof p=="object";case"string":return typeof p=="string";case"boolean":return typeof p=="boolean";case"function":return typeof p=="function";case"undefined":return typeof p>"u";case"symbol":return typeof p=="symbol"}}function c(p,w,k){h(p,w)||a("invalid parameter type"+s(k)+". expected "+w+", got "+typeof p)}function m(p,w){p>=0&&(p|0)===p||a("invalid parameter type, ("+p+")"+s(w)+". must be a nonnegative integer")}function v(p,w,k){w.indexOf(p)<0&&a("invalid value"+s(k)+". must be one of: "+w)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function L(p){Object.keys(p).forEach(function(w){S.indexOf(w)<0&&a('invalid regl constructor argument "'+w+'". must be one of '+S)})}function g(p,w){for(p=p+"";p.length<w;)p=" "+p;return p}function _(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(p,w){this.number=p,this.line=w,this.errors=[]}function O(p,w,k){this.file=p,this.line=w,this.message=k}function F(){var p=new Error,w=(p.stack||p).toString(),k=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(w);if(k)return k[1];var q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(w);return q?q[1]:"unknown"}function V(){var p=new Error,w=(p.stack||p).toString(),k=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(w);if(k)return k[1];var q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(w);return q?q[1]:"unknown"}function ee(p,w){var k=p.split(`
`),q=1,oe=0,Y={unknown:new _,0:new _};Y.unknown.name=Y[0].name=w||F(),Y.unknown.lines.push(new y(0,""));for(var J=0;J<k.length;++J){var me=k[J],pe=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(me);if(pe)switch(pe[1]){case"line":var Ee=/(\d+)(\s+\d+)?/.exec(pe[2]);Ee&&(q=Ee[1]|0,Ee[2]&&(oe=Ee[2]|0,oe in Y||(Y[oe]=new _)));break;case"define":var be=/SHADER_NAME(_B64)?\s+(.*)$/.exec(pe[2]);be&&(Y[oe].name=be[1]?o(be[2]):be[2]);break}Y[oe].lines.push(new y(q++,me))}return Object.keys(Y).forEach(function(Se){var ke=Y[Se];ke.lines.forEach(function(ge){ke.index[ge.number]=ge})}),Y}function K(p){var w=[];return p.split(`
`).forEach(function(k){if(!(k.length<5)){var q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(k);q?w.push(new O(q[1]|0,q[2]|0,q[3].trim())):k.length>0&&w.push(new O("unknown",0,k))}}),w}function He(p,w){w.forEach(function(k){var q=p[k.file];if(q){var oe=q.index[k.line];if(oe){oe.errors.push(k),q.hasErrors=!0;return}}p.unknown.hasErrors=!0,p.unknown.lines[0].errors.push(k)})}function ve(p,w,k,q,oe){if(!p.getShaderParameter(w,p.COMPILE_STATUS)){var Y=p.getShaderInfoLog(w),J=q===p.FRAGMENT_SHADER?"fragment":"vertex";lt(k,"string",J+" shader source must be a string",oe);var me=ee(k,oe),pe=K(Y);He(me,pe),Object.keys(me).forEach(function(Ee){var be=me[Ee];if(!be.hasErrors)return;var Se=[""],ke=[""];function ge(we,z){Se.push(we),ke.push(z||"")}ge("file number "+Ee+": "+be.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),be.lines.forEach(function(we){if(we.errors.length>0){ge(g(we.number,4)+"|  ","background-color:yellow; font-weight:bold"),ge(we.line+i,"color:red; background-color:yellow; font-weight:bold");var z=0;we.errors.forEach(function(Z){var _e=Z.message,Ve=/^\s*'(.*)'\s*:\s*(.*)$/.exec(_e);if(Ve){var de=Ve[1];switch(_e=Ve[2],de){case"assign":de="=";break}z=Math.max(we.line.indexOf(de,z),0)}else z=0;ge(g("| ",6)),ge(g("^^^",z+3)+i,"font-weight:bold"),ge(g("| ",6)),ge(_e+i,"font-weight:bold")}),ge(g("| ",6)+i)}else ge(g(we.number,4)+"|  "),ge(we.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(ke[0]=Se.join("%c"),console.log.apply(console,ke)):console.log(Se.join(""))}),l.raise("Error compiling "+J+" shader, "+me[0].name)}}function Re(p,w,k,q,oe){if(!p.getProgramParameter(w,p.LINK_STATUS)){var Y=p.getProgramInfoLog(w),J=ee(k,oe),me=ee(q,oe),pe='Error linking program with vertex shader, "'+me[0].name+'", and fragment shader "'+J[0].name+'"';typeof document<"u"?console.log("%c"+pe+i+"%c"+Y,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(pe+i+Y),l.raise(pe)}}function Oe(p){p._commandRef=F()}function Je(p,w,k,q){Oe(p);function oe(pe){return pe?q.id(pe):0}p._fragId=oe(p.static.frag),p._vertId=oe(p.static.vert);function Y(pe,Ee){Object.keys(Ee).forEach(function(be){pe[q.id(be)]=!0})}var J=p._uniformSet={};Y(J,w.static),Y(J,w.dynamic);var me=p._attributeSet={};Y(me,k.static),Y(me,k.dynamic),p._hasCount="count"in p.static||"count"in p.dynamic||"elements"in p.static||"elements"in p.dynamic}function De(p,w){var k=V();a(p+" in command "+(w||F())+(k==="unknown"?"":" called from "+k))}function Lt(p,w,k){p||De(w,k||F())}function at(p,w,k,q){p in w||De("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(w).join(),q||F())}function lt(p,w,k,q){h(p,w)||De("invalid parameter type"+s(k)+". expected "+w+", got "+typeof p,q||F())}function ye(p){p()}function Le(p,w,k){p.texture?v(p.texture._texture.internalformat,w,"unsupported texture format for attachment"):v(p.renderbuffer._renderbuffer.format,k,"unsupported renderbuffer format for attachment")}var se=33071,Ae=9728,rt=9984,At=9985,Pt=9986,Zt=9987,Bt=5120,yt=5121,It=5122,zt=5123,Yt=5124,cn=5125,Ft=5126,Jt=32819,st=32820,Tt=33635,Nt=34042,Ct=36193,Ke={};Ke[Bt]=Ke[yt]=1,Ke[It]=Ke[zt]=Ke[Ct]=Ke[Tt]=Ke[Jt]=Ke[st]=2,Ke[Yt]=Ke[cn]=Ke[Ft]=Ke[Nt]=4;function Gt(p,w){return p===st||p===Jt||p===Tt?2:p===Nt?4:Ke[p]*w}function ln(p){return!(p&p-1)&&!!p}function en(p,w,k){var q,oe=w.width,Y=w.height,J=w.channels;l(oe>0&&oe<=k.maxTextureSize&&Y>0&&Y<=k.maxTextureSize,"invalid texture shape"),(p.wrapS!==se||p.wrapT!==se)&&l(ln(oe)&&ln(Y),"incompatible wrap mode for texture, both width and height must be power of 2"),w.mipmask===1?oe!==1&&Y!==1&&l(p.minFilter!==rt&&p.minFilter!==Pt&&p.minFilter!==At&&p.minFilter!==Zt,"min filter requires mipmap"):(l(ln(oe)&&ln(Y),"texture must be a square power of 2 to support mipmapping"),l(w.mipmask===(oe<<1)-1,"missing or incomplete mipmap data")),w.type===Ft&&(k.extensions.indexOf("oes_texture_float_linear")<0&&l(p.minFilter===Ae&&p.magFilter===Ae,"filter not supported, must enable oes_texture_float_linear"),l(!p.genMipmaps,"mipmap generation not supported with float textures"));var me=w.images;for(q=0;q<16;++q)if(me[q]){var pe=oe>>q,Ee=Y>>q;l(w.mipmask&1<<q,"missing mipmap data");var be=me[q];if(l(be.width===pe&&be.height===Ee,"invalid shape for mip images"),l(be.format===w.format&&be.internalformat===w.internalformat&&be.type===w.type,"incompatible type for mip image"),!be.compressed)if(be.data){var Se=Math.ceil(Gt(be.type,J)*pe/be.unpackAlignment)*be.unpackAlignment;l(be.data.byteLength===Se*Ee,"invalid data for image, buffer size is inconsistent with image format")}else be.element||be.copy}else p.genMipmaps||l((w.mipmask&1<<q)===0,"extra mipmap data");w.compressed&&l(!p.genMipmaps,"mipmap generation for compressed images not supported")}function qn(p,w,k,q){var oe=p.width,Y=p.height,J=p.channels;l(oe>0&&oe<=q.maxTextureSize&&Y>0&&Y<=q.maxTextureSize,"invalid texture shape"),l(oe===Y,"cube map must be square"),l(w.wrapS===se&&w.wrapT===se,"wrap mode not supported by cube map");for(var me=0;me<k.length;++me){var pe=k[me];l(pe.width===oe&&pe.height===Y,"inconsistent cube map face shape"),w.genMipmaps&&(l(!pe.compressed,"can not generate mipmap for compressed textures"),l(pe.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Ee=pe.images,be=0;be<16;++be){var Se=Ee[be];if(Se){var ke=oe>>be,ge=Y>>be;l(pe.mipmask&1<<be,"missing mipmap data"),l(Se.width===ke&&Se.height===ge,"invalid shape for mip images"),l(Se.format===p.format&&Se.internalformat===p.internalformat&&Se.type===p.type,"incompatible type for mip image"),Se.compressed||(Se.data?l(Se.data.byteLength===ke*ge*Math.max(Gt(Se.type,J),Se.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Se.element||Se.copy)}}}}var E=r(l,{optional:ye,raise:a,commandRaise:De,command:Lt,parameter:u,commandParameter:at,constructor:L,type:c,commandType:lt,isTypedArray:f,nni:m,oneOf:v,shaderError:ve,linkError:Re,callSite:V,saveCommandRef:Oe,saveDrawInfo:Je,framebufferFormat:Le,guessCommand:F,texture2D:en,textureCube:qn}),he=0,Fe=0,ce=5,xt=6;function dt(p,w){this.id=he++,this.type=p,this.data=w}function Te(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Rt(p){if(p.length===0)return[];var w=p.charAt(0),k=p.charAt(p.length-1);if(p.length>1&&w===k&&(w==='"'||w==="'"))return['"'+Te(p.substr(1,p.length-2))+'"'];var q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(p);if(q)return Rt(p.substr(0,q.index)).concat(Rt(q[1])).concat(Rt(p.substr(q.index+q[0].length)));var oe=p.split(".");if(oe.length===1)return['"'+Te(p)+'"'];for(var Y=[],J=0;J<oe.length;++J)Y=Y.concat(Rt(oe[J]));return Y}function Wt(p){return"["+Rt(p).join("][")+"]"}function Ie(p,w){return new dt(p,Wt(w+""))}function Dt(p){return typeof p=="function"&&!p._reglType||p instanceof dt}function fn(p,w){if(typeof p=="function")return new dt(Fe,p);if(typeof p=="number"||typeof p=="boolean")return new dt(ce,p);if(Array.isArray(p))return new dt(xt,p.map(function(k,q){return fn(k,w+"["+q+"]")}));if(p instanceof dt)return p;E(!1,"invalid option type in uniform "+w)}var $t={DynamicVariable:dt,define:Ie,isDynamic:Dt,unbox:fn,accessor:Wt},dn={next:typeof requestAnimationFrame=="function"?function(p){return requestAnimationFrame(p)}:function(p){return setTimeout(p,16)},cancel:typeof cancelAnimationFrame=="function"?function(p){return cancelAnimationFrame(p)}:clearTimeout},pn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ln(){var p={"":0},w=[""];return{id:function(k){var q=p[k];return q||(q=p[k]=w.length,w.push(k),q)},str:function(k){return w[k]}}}function wn(p,w,k){var q=document.createElement("canvas");r(q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),p.appendChild(q),p===document.body&&(q.style.position="absolute",r(p.style,{margin:0,padding:0}));function oe(){var me=window.innerWidth,pe=window.innerHeight;if(p!==document.body){var Ee=q.getBoundingClientRect();me=Ee.right-Ee.left,pe=Ee.bottom-Ee.top}q.width=k*me,q.height=k*pe}var Y;p!==document.body&&typeof ResizeObserver=="function"?(Y=new ResizeObserver(function(){setTimeout(oe)}),Y.observe(p)):window.addEventListener("resize",oe,!1);function J(){Y?Y.disconnect():window.removeEventListener("resize",oe),p.removeChild(q)}return oe(),{canvas:q,onDestroy:J}}function lr(p,w){function k(q){try{return p.getContext(q,w)}catch{return null}}return k("webgl")||k("experimental-webgl")||k("webgl-experimental")}function yn(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function gr(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function te(p){return typeof p=="string"?p.split():(E(Array.isArray(p),"invalid extension array"),p)}function gt(p){return typeof p=="string"?(E(typeof document<"u","not supported outside of DOM"),document.querySelector(p)):p}function it(p){var w=p||{},k,q,oe,Y,J={},me=[],pe=[],Ee=typeof window>"u"?1:window.devicePixelRatio,be=!1,Se=function(we){we&&E.raise(we)},ke=function(){};if(typeof w=="string"?(E(typeof document<"u","selector queries only supported in DOM enviroments"),k=document.querySelector(w),E(k,"invalid query string for element")):typeof w=="object"?yn(w)?k=w:gr(w)?(Y=w,oe=Y.canvas):(E.constructor(w),"gl"in w?Y=w.gl:"canvas"in w?oe=gt(w.canvas):"container"in w&&(q=gt(w.container)),"attributes"in w&&(J=w.attributes,E.type(J,"object","invalid context attributes")),"extensions"in w&&(me=te(w.extensions)),"optionalExtensions"in w&&(pe=te(w.optionalExtensions)),"onDone"in w&&(E.type(w.onDone,"function","invalid or missing onDone callback"),Se=w.onDone),"profile"in w&&(be=!!w.profile),"pixelRatio"in w&&(Ee=+w.pixelRatio,E(Ee>0,"invalid pixel ratio"))):E.raise("invalid arguments to regl"),k&&(k.nodeName.toLowerCase()==="canvas"?oe=k:q=k),!Y){if(!oe){E(typeof document<"u","must manually specify webgl context outside of DOM environments");var ge=wn(q||document.body,Se,Ee);if(!ge)return null;oe=ge.canvas,ke=ge.onDestroy}J.premultipliedAlpha===void 0&&(J.premultipliedAlpha=!0),Y=lr(oe,J)}return Y?{gl:Y,canvas:oe,container:q,extensions:me,optionalExtensions:pe,pixelRatio:Ee,profile:be,onDone:Se,onDestroy:ke}:(ke(),Se("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function wt(p,w){var k={};function q(J){E.type(J,"string","extension name must be string");var me=J.toLowerCase(),pe;try{pe=k[me]=p.getExtension(me)}catch{}return!!pe}for(var oe=0;oe<w.extensions.length;++oe){var Y=w.extensions[oe];if(!q(Y))return w.onDestroy(),w.onDone('"'+Y+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return w.optionalExtensions.forEach(q),{extensions:k,restore:function(){Object.keys(k).forEach(function(J){if(k[J]&&!q(J))throw new Error("(regl): error restoring extension "+J)})}}}function Ut(p,w){for(var k=Array(p),q=0;q<p;++q)k[q]=w(q);return k}var mn=5120,Ye=5121,Et=5122,kt=5123,An=5124,Rn=5125,er=5126;function sr(p){for(var w=16;w<=1<<28;w*=16)if(p<=w)return w;return 0}function Tn(p){var w,k;return w=(p>65535)<<4,p>>>=w,k=(p>255)<<3,p>>>=k,w|=k,k=(p>15)<<2,p>>>=k,w|=k,k=(p>3)<<1,p>>>=k,w|=k,w|p>>1}function tr(){var p=Ut(8,function(){return[]});function w(Y){var J=sr(Y),me=p[Tn(J)>>2];return me.length>0?me.pop():new ArrayBuffer(J)}function k(Y){p[Tn(Y.byteLength)>>2].push(Y)}function q(Y,J){var me=null;switch(Y){case mn:me=new Int8Array(w(J),0,J);break;case Ye:me=new Uint8Array(w(J),0,J);break;case Et:me=new Int16Array(w(2*J),0,J);break;case kt:me=new Uint16Array(w(2*J),0,J);break;case An:me=new Int32Array(w(4*J),0,J);break;case Rn:me=new Uint32Array(w(4*J),0,J);break;case er:me=new Float32Array(w(4*J),0,J);break;default:return null}return me.length!==J?me.subarray(0,J):me}function oe(Y){k(Y.buffer)}return{alloc:w,free:k,allocType:q,freeType:oe}}var ot=tr();ot.zero=tr();var Sr=3408,Oo=3410,La=3411,zr=3412,Gr=3413,Ur=3414,un=3415,On=33901,to=33902,Vr=3379,Ra=3386,xi=34921,Ll=36347,Rl=36348,Ol=35661,kl=35660,no=34930,Oa=36349,eu=34076,tu=34024,ff=7936,ko=7937,Po=7938,Pl=35724,No=34047,nu=36063,kr=34852,Di=3553,Fi=34067,ro=34069,Qn=33984,ai=6408,nr=5126,$n=5121,Mo=36160,Nl=36053,Ml=36064,Il=16384,df=function(p,w){var k=1;w.ext_texture_filter_anisotropic&&(k=p.getParameter(No));var q=1,oe=1;w.webgl_draw_buffers&&(q=p.getParameter(kr),oe=p.getParameter(nu));var Y=!!w.oes_texture_float;if(Y){var J=p.createTexture();p.bindTexture(Di,J),p.texImage2D(Di,0,ai,1,1,0,ai,nr,null);var me=p.createFramebuffer();if(p.bindFramebuffer(Mo,me),p.framebufferTexture2D(Mo,Ml,Di,J,0),p.bindTexture(Di,null),p.checkFramebufferStatus(Mo)!==Nl)Y=!1;else{p.viewport(0,0,1,1),p.clearColor(1,0,0,1),p.clear(Il);var pe=ot.allocType(nr,4);p.readPixels(0,0,1,1,ai,nr,pe),p.getError()?Y=!1:(p.deleteFramebuffer(me),p.deleteTexture(J),Y=pe[0]===1),ot.freeType(pe)}}var Ee=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),be=!0;if(!Ee){var Se=p.createTexture(),ke=ot.allocType($n,36);p.activeTexture(Qn),p.bindTexture(Fi,Se),p.texImage2D(ro,0,ai,3,3,0,ai,$n,ke),ot.freeType(ke),p.bindTexture(Fi,null),p.deleteTexture(Se),be=!p.getError()}return{colorBits:[p.getParameter(Oo),p.getParameter(La),p.getParameter(zr),p.getParameter(Gr)],depthBits:p.getParameter(Ur),stencilBits:p.getParameter(un),subpixelBits:p.getParameter(Sr),extensions:Object.keys(w).filter(function(ge){return!!w[ge]}),maxAnisotropic:k,maxDrawbuffers:q,maxColorAttachments:oe,pointSizeDims:p.getParameter(On),lineWidthDims:p.getParameter(to),maxViewportDims:p.getParameter(Ra),maxCombinedTextureUnits:p.getParameter(Ol),maxCubeMapSize:p.getParameter(eu),maxRenderbufferSize:p.getParameter(tu),maxTextureUnits:p.getParameter(no),maxTextureSize:p.getParameter(Vr),maxAttributes:p.getParameter(xi),maxVertexUniforms:p.getParameter(Ll),maxVertexTextureUnits:p.getParameter(kl),maxVaryingVectors:p.getParameter(Rl),maxFragmentUniforms:p.getParameter(Oa),glsl:p.getParameter(Pl),renderer:p.getParameter(ko),vendor:p.getParameter(ff),version:p.getParameter(Po),readFloat:Y,npotTextureCube:be}};function Pr(p){return!!p&&typeof p=="object"&&Array.isArray(p.shape)&&Array.isArray(p.stride)&&typeof p.offset=="number"&&p.shape.length===p.stride.length&&(Array.isArray(p.data)||n(p.data))}var br=function(p){return Object.keys(p).map(function(w){return p[w]})},Hr={shape:e1,flatten:Jh};function hf(p,w,k){for(var q=0;q<w;++q)k[q]=p[q]}function ru(p,w,k,q){for(var oe=0,Y=0;Y<w;++Y)for(var J=p[Y],me=0;me<k;++me)q[oe++]=J[me]}function Dl(p,w,k,q,oe,Y){for(var J=Y,me=0;me<w;++me)for(var pe=p[me],Ee=0;Ee<k;++Ee)for(var be=pe[Ee],Se=0;Se<q;++Se)oe[J++]=be[Se]}function iu(p,w,k,q,oe){for(var Y=1,J=k+1;J<w.length;++J)Y*=w[J];var me=w[k];if(w.length-k===4){var pe=w[k+1],Ee=w[k+2],be=w[k+3];for(J=0;J<me;++J)Dl(p[J],pe,Ee,be,q,oe),oe+=Y}else for(J=0;J<me;++J)iu(p[J],w,k+1,q,oe),oe+=Y}function Jh(p,w,k,q){var oe=1;if(w.length)for(var Y=0;Y<w.length;++Y)oe*=w[Y];else oe=0;var J=q||ot.allocType(k,oe);switch(w.length){case 0:break;case 1:hf(p,w[0],J);break;case 2:ru(p,w[0],w[1],J);break;case 3:Dl(p,w[0],w[1],w[2],J,0);break;default:iu(p,w,0,J,0)}return J}function e1(p){for(var w=[],k=p;k.length;k=k[0])w.push(k.length);return w}var Io={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ka=5120,io=5122,Fl=5124,t1=5121,$l=5123,Do=5125,Pa=5126,ou=5126,Fo={int8:ka,int16:io,int32:Fl,uint8:t1,uint16:$l,uint32:Do,float:Pa,float32:ou},pg=35048,Un=35040,Bl={dynamic:pg,stream:Un,static:35044},Na=Hr.flatten,pf=Hr.shape,au=35044,lu=35040,jl=5121,zl=5126,_i=[];_i[5120]=1,_i[5122]=2,_i[5124]=4,_i[5121]=1,_i[5123]=2,_i[5125]=4,_i[5126]=4;function Ma(p){return Io[Object.prototype.toString.call(p)]|0}function Gl(p,w){for(var k=0;k<w.length;++k)p[k]=w[k]}function su(p,w,k,q,oe,Y,J){for(var me=0,pe=0;pe<k;++pe)for(var Ee=0;Ee<q;++Ee)p[me++]=w[oe*pe+Y*Ee+J]}function uu(p,w,k,q){var oe=0,Y={};function J(z){this.id=oe++,this.buffer=p.createBuffer(),this.type=z,this.usage=au,this.byteLength=0,this.dimension=1,this.dtype=jl,this.persistentData=null,k.profile&&(this.stats={size:0})}J.prototype.bind=function(){p.bindBuffer(this.type,this.buffer)},J.prototype.destroy=function(){ke(this)};var me=[];function pe(z,Z){var _e=me.pop();return _e||(_e=new J(z)),_e.bind(),Se(_e,Z,lu,0,1,!1),_e}function Ee(z){me.push(z)}function be(z,Z,_e){z.byteLength=Z.byteLength,p.bufferData(z.type,Z,_e)}function Se(z,Z,_e,Ve,de,Ge){var Be;if(z.usage=_e,Array.isArray(Z)){if(z.dtype=Ve||zl,Z.length>0){var ct;if(Array.isArray(Z[0])){Be=pf(Z);for(var ae=1,ie=1;ie<Be.length;++ie)ae*=Be[ie];z.dimension=ae,ct=Na(Z,Be,z.dtype),be(z,ct,_e),Ge?z.persistentData=ct:ot.freeType(ct)}else if(typeof Z[0]=="number"){z.dimension=de;var Qe=ot.allocType(z.dtype,Z.length);Gl(Qe,Z),be(z,Qe,_e),Ge?z.persistentData=Qe:ot.freeType(Qe)}else n(Z[0])?(z.dimension=Z[0].length,z.dtype=Ve||Ma(Z[0])||zl,ct=Na(Z,[Z.length,Z[0].length],z.dtype),be(z,ct,_e),Ge?z.persistentData=ct:ot.freeType(ct)):E.raise("invalid buffer data")}}else if(n(Z))z.dtype=Ve||Ma(Z),z.dimension=de,be(z,Z,_e),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(Z.buffer)));else if(Pr(Z)){Be=Z.shape;var Ne=Z.stride,xe=Z.offset,Me=0,$e=0,St=0,_t=0;Be.length===1?(Me=Be[0],$e=1,St=Ne[0],_t=0):Be.length===2?(Me=Be[0],$e=Be[1],St=Ne[0],_t=Ne[1]):E.raise("invalid shape"),z.dtype=Ve||Ma(Z.data)||zl,z.dimension=$e;var je=ot.allocType(z.dtype,Me*$e);su(je,Z.data,Me,$e,St,_t,xe),be(z,je,_e),Ge?z.persistentData=je:ot.freeType(je)}else Z instanceof ArrayBuffer?(z.dtype=jl,z.dimension=de,be(z,Z,_e),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(Z)))):E.raise("invalid buffer data")}function ke(z){w.bufferCount--,q(z);var Z=z.buffer;E(Z,"buffer must not be deleted already"),p.deleteBuffer(Z),z.buffer=null,delete Y[z.id]}function ge(z,Z,_e,Ve){w.bufferCount++;var de=new J(Z);Y[de.id]=de;function Ge(ae){var ie=au,Qe=null,Ne=0,xe=0,Me=1;return Array.isArray(ae)||n(ae)||Pr(ae)||ae instanceof ArrayBuffer?Qe=ae:typeof ae=="number"?Ne=ae|0:ae&&(E.type(ae,"object","buffer arguments must be an object, a number or an array"),"data"in ae&&(E(Qe===null||Array.isArray(Qe)||n(Qe)||Pr(Qe),"invalid data for buffer"),Qe=ae.data),"usage"in ae&&(E.parameter(ae.usage,Bl,"invalid buffer usage"),ie=Bl[ae.usage]),"type"in ae&&(E.parameter(ae.type,Fo,"invalid buffer type"),xe=Fo[ae.type]),"dimension"in ae&&(E.type(ae.dimension,"number","invalid dimension"),Me=ae.dimension|0),"length"in ae&&(E.nni(Ne,"buffer length must be a nonnegative integer"),Ne=ae.length|0)),de.bind(),Qe?Se(de,Qe,ie,xe,Me,Ve):(Ne&&p.bufferData(de.type,Ne,ie),de.dtype=xe||jl,de.usage=ie,de.dimension=Me,de.byteLength=Ne),k.profile&&(de.stats.size=de.byteLength*_i[de.dtype]),Ge}function Be(ae,ie){E(ie+ae.byteLength<=de.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ae.byteLength+" starting from offset "+ie+" to a buffer of size "+de.byteLength),p.bufferSubData(de.type,ie,ae)}function ct(ae,ie){var Qe=(ie||0)|0,Ne;if(de.bind(),n(ae)||ae instanceof ArrayBuffer)Be(ae,Qe);else if(Array.isArray(ae)){if(ae.length>0)if(typeof ae[0]=="number"){var xe=ot.allocType(de.dtype,ae.length);Gl(xe,ae),Be(xe,Qe),ot.freeType(xe)}else if(Array.isArray(ae[0])||n(ae[0])){Ne=pf(ae);var Me=Na(ae,Ne,de.dtype);Be(Me,Qe),ot.freeType(Me)}else E.raise("invalid buffer data")}else if(Pr(ae)){Ne=ae.shape;var $e=ae.stride,St=0,_t=0,je=0,Ue=0;Ne.length===1?(St=Ne[0],_t=1,je=$e[0],Ue=0):Ne.length===2?(St=Ne[0],_t=Ne[1],je=$e[0],Ue=$e[1]):E.raise("invalid shape");var pt=Array.isArray(ae.data)?de.dtype:Ma(ae.data),bt=ot.allocType(pt,St*_t);su(bt,ae.data,St,_t,je,Ue,ae.offset),Be(bt,Qe),ot.freeType(bt)}else E.raise("invalid data for buffer subdata");return Ge}return _e||Ge(z),Ge._reglType="buffer",Ge._buffer=de,Ge.subdata=ct,k.profile&&(Ge.stats=de.stats),Ge.destroy=function(){ke(de)},Ge}function we(){br(Y).forEach(function(z){z.buffer=p.createBuffer(),p.bindBuffer(z.type,z.buffer),p.bufferData(z.type,z.persistentData||z.byteLength,z.usage)})}return k.profile&&(w.getTotalBufferSize=function(){var z=0;return Object.keys(Y).forEach(function(Z){z+=Y[Z].stats.size}),z}),{create:ge,createStream:pe,destroyStream:Ee,clear:function(){br(Y).forEach(ke),me.forEach(ke)},getBuffer:function(z){return z&&z._buffer instanceof J?z._buffer:null},restore:we,_initBuffer:Se}}var n1=0,cu=0,r1=1,fu=1,i1=4,o1=4,$i={points:n1,point:cu,lines:r1,line:fu,triangles:i1,triangle:o1,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},a1=0,oo=1,ao=4,l1=5120,Bi=5121,mf=5122,$o=5123,vf=5124,wi=5125,du=34963,s1=35040,hu=35044;function pu(p,w,k,q){var oe={},Y=0,J={uint8:Bi,uint16:$o};w.oes_element_index_uint&&(J.uint32=wi);function me(we){this.id=Y++,oe[this.id]=this,this.buffer=we,this.primType=ao,this.vertCount=0,this.type=0}me.prototype.bind=function(){this.buffer.bind()};var pe=[];function Ee(we){var z=pe.pop();return z||(z=new me(k.create(null,du,!0,!1)._buffer)),Se(z,we,s1,-1,-1,0,0),z}function be(we){pe.push(we)}function Se(we,z,Z,_e,Ve,de,Ge){we.buffer.bind();var Be;if(z){var ct=Ge;!Ge&&(!n(z)||Pr(z)&&!n(z.data))&&(ct=w.oes_element_index_uint?wi:$o),k._initBuffer(we.buffer,z,Z,ct,3)}else p.bufferData(du,de,Z),we.buffer.dtype=Be||Bi,we.buffer.usage=Z,we.buffer.dimension=3,we.buffer.byteLength=de;if(Be=Ge,!Ge){switch(we.buffer.dtype){case Bi:case l1:Be=Bi;break;case $o:case mf:Be=$o;break;case wi:case vf:Be=wi;break;default:E.raise("unsupported type for element array")}we.buffer.dtype=Be}we.type=Be,E(Be!==wi||!!w.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ae=Ve;ae<0&&(ae=we.buffer.byteLength,Be===$o?ae>>=1:Be===wi&&(ae>>=2)),we.vertCount=ae;var ie=_e;if(_e<0){ie=ao;var Qe=we.buffer.dimension;Qe===1&&(ie=a1),Qe===2&&(ie=oo),Qe===3&&(ie=ao)}we.primType=ie}function ke(we){q.elementsCount--,E(we.buffer!==null,"must not double destroy elements"),delete oe[we.id],we.buffer.destroy(),we.buffer=null}function ge(we,z){var Z=k.create(null,du,!0),_e=new me(Z._buffer);q.elementsCount++;function Ve(de){if(!de)Z(),_e.primType=ao,_e.vertCount=0,_e.type=Bi;else if(typeof de=="number")Z(de),_e.primType=ao,_e.vertCount=de|0,_e.type=Bi;else{var Ge=null,Be=hu,ct=-1,ae=-1,ie=0,Qe=0;Array.isArray(de)||n(de)||Pr(de)?Ge=de:(E.type(de,"object","invalid arguments for elements"),"data"in de&&(Ge=de.data,E(Array.isArray(Ge)||n(Ge)||Pr(Ge),"invalid data for element buffer")),"usage"in de&&(E.parameter(de.usage,Bl,"invalid element buffer usage"),Be=Bl[de.usage]),"primitive"in de&&(E.parameter(de.primitive,$i,"invalid element buffer primitive"),ct=$i[de.primitive]),"count"in de&&(E(typeof de.count=="number"&&de.count>=0,"invalid vertex count for elements"),ae=de.count|0),"type"in de&&(E.parameter(de.type,J,"invalid buffer type"),Qe=J[de.type]),"length"in de?ie=de.length|0:(ie=ae,Qe===$o||Qe===mf?ie*=2:(Qe===wi||Qe===vf)&&(ie*=4))),Se(_e,Ge,Be,ct,ae,ie,Qe)}return Ve}return Ve(we),Ve._reglType="elements",Ve._elements=_e,Ve.subdata=function(de,Ge){return Z.subdata(de,Ge),Ve},Ve.destroy=function(){ke(_e)},Ve}return{create:ge,createStream:Ee,destroyStream:be,getElements:function(we){return typeof we=="function"&&we._elements instanceof me?we._elements:null},clear:function(){br(oe).forEach(ke)}}}var gf=new Float32Array(1),u1=new Uint32Array(gf.buffer),c1=5123;function yf(p){for(var w=ot.allocType(c1,p.length),k=0;k<p.length;++k)if(isNaN(p[k]))w[k]=65535;else if(p[k]===1/0)w[k]=31744;else if(p[k]===-1/0)w[k]=64512;else{gf[0]=p[k];var q=u1[0],oe=q>>>31<<15,Y=(q<<1>>>24)-127,J=q>>13&1023;if(Y<-24)w[k]=oe;else if(Y<-14){var me=-14-Y;w[k]=oe+(J+1024>>me)}else Y>15?w[k]=oe+31744:w[k]=oe+(Y+15<<10)+J}return w}function vn(p){return Array.isArray(p)||n(p)}var xf=function(p){return!(p&p-1)&&!!p},f1=34467,li=3553,mu=34067,Ul=34069,lo=6408,vu=6406,Vl=6407,so=6409,Hl=6410,_f=32854,gu=32855,yu=36194,d1=32819,h1=32820,p1=33635,wf=34042,Wl=6402,Ia=34041,Da=35904,Fa=35906,Bo=36193,uo=33776,xu=33777,_u=33778,wu=33779,Ef=35986,Sf=35987,bf=34798,Af=35840,Tf=35841,Cf=35842,Lf=35843,Rf=36196,jo=5121,Eu=5123,Su=5125,Wr=5126,m1=10242,v1=10243,g1=10497,bu=33071,y1=33648,x1=10240,_1=10241,Au=9728,w1=9729,Xl=9984,Tu=9985,Of=9986,Cu=9987,E1=33170,$a=4352,kf=4353,S1=4354,b1=34046,A1=3317,T1=37440,C1=37441,L1=37443,zo=37444,Ba=33984,Pf=[Xl,Of,Tu,Cu],ja=[0,so,Hl,Vl,lo],Xr={};Xr[so]=Xr[vu]=Xr[Wl]=1,Xr[Ia]=Xr[Hl]=2,Xr[Vl]=Xr[Da]=3,Xr[lo]=Xr[Fa]=4;function Go(p){return"[object "+p+"]"}var Nf=Go("HTMLCanvasElement"),Mf=Go("OffscreenCanvas"),If=Go("CanvasRenderingContext2D"),Df=Go("ImageBitmap"),Ff=Go("HTMLImageElement"),Yl=Go("HTMLVideoElement"),R1=Object.keys(Io).concat([Nf,Mf,If,Df,Ff,Yl]),Uo=[];Uo[jo]=1,Uo[Wr]=4,Uo[Bo]=2,Uo[Eu]=2,Uo[Su]=4;var Vn=[];Vn[_f]=2,Vn[gu]=2,Vn[yu]=2,Vn[Ia]=4,Vn[uo]=.5,Vn[xu]=.5,Vn[_u]=1,Vn[wu]=1,Vn[Ef]=.5,Vn[Sf]=1,Vn[bf]=1,Vn[Af]=.5,Vn[Tf]=.25,Vn[Cf]=.5,Vn[Lf]=.25,Vn[Rf]=.5;function $f(p){return Array.isArray(p)&&(p.length===0||typeof p[0]=="number")}function Lu(p){if(!Array.isArray(p))return!1;var w=p.length;return!(w===0||!vn(p[0]))}function co(p){return Object.prototype.toString.call(p)}function Ru(p){return co(p)===Nf}function Bf(p){return co(p)===Mf}function O1(p){return co(p)===If}function Ou(p){return co(p)===Df}function jf(p){return co(p)===Ff}function zf(p){return co(p)===Yl}function ku(p){if(!p)return!1;var w=co(p);return R1.indexOf(w)>=0?!0:$f(p)||Lu(p)||Pr(p)}function Gf(p){return Io[Object.prototype.toString.call(p)]|0}function k1(p,w){var k=w.length;switch(p.type){case jo:case Eu:case Su:case Wr:var q=ot.allocType(p.type,k);q.set(w),p.data=q;break;case Bo:p.data=yf(w);break;default:E.raise("unsupported texture type, must specify a typed array")}}function Uf(p,w){return ot.allocType(p.type===Bo?Wr:p.type,w)}function Vf(p,w){p.type===Bo?(p.data=yf(w),ot.freeType(w)):p.data=w}function Hf(p,w,k,q,oe,Y){for(var J=p.width,me=p.height,pe=p.channels,Ee=J*me*pe,be=Uf(p,Ee),Se=0,ke=0;ke<me;++ke)for(var ge=0;ge<J;++ge)for(var we=0;we<pe;++we)be[Se++]=w[k*ge+q*ke+oe*we+Y];Vf(p,be)}function ql(p,w,k,q,oe,Y){var J;if(typeof Vn[p]<"u"?J=Vn[p]:J=Xr[p]*Uo[w],Y&&(J*=6),oe){for(var me=0,pe=k;pe>=1;)me+=J*pe*pe,pe/=2;return me}else return J*k*q}function P1(p,w,k,q,oe,Y,J){var me={"don't care":$a,"dont care":$a,nice:S1,fast:kf},pe={repeat:g1,clamp:bu,mirror:y1},Ee={nearest:Au,linear:w1},be=r({mipmap:Cu,"nearest mipmap nearest":Xl,"linear mipmap nearest":Tu,"nearest mipmap linear":Of,"linear mipmap linear":Cu},Ee),Se={none:0,browser:zo},ke={uint8:jo,rgba4:d1,rgb565:p1,"rgb5 a1":h1},ge={alpha:vu,luminance:so,"luminance alpha":Hl,rgb:Vl,rgba:lo,rgba4:_f,"rgb5 a1":gu,rgb565:yu},we={};w.ext_srgb&&(ge.srgb=Da,ge.srgba=Fa),w.oes_texture_float&&(ke.float32=ke.float=Wr),w.oes_texture_half_float&&(ke.float16=ke["half float"]=Bo),w.webgl_depth_texture&&(r(ge,{depth:Wl,"depth stencil":Ia}),r(ke,{uint16:Eu,uint32:Su,"depth stencil":wf})),w.webgl_compressed_texture_s3tc&&r(we,{"rgb s3tc dxt1":uo,"rgba s3tc dxt1":xu,"rgba s3tc dxt3":_u,"rgba s3tc dxt5":wu}),w.webgl_compressed_texture_atc&&r(we,{"rgb atc":Ef,"rgba atc explicit alpha":Sf,"rgba atc interpolated alpha":bf}),w.webgl_compressed_texture_pvrtc&&r(we,{"rgb pvrtc 4bppv1":Af,"rgb pvrtc 2bppv1":Tf,"rgba pvrtc 4bppv1":Cf,"rgba pvrtc 2bppv1":Lf}),w.webgl_compressed_texture_etc1&&(we["rgb etc1"]=Rf);var z=Array.prototype.slice.call(p.getParameter(f1));Object.keys(we).forEach(function(C){var Q=we[C];z.indexOf(Q)>=0&&(ge[C]=Q)});var Z=Object.keys(ge);k.textureFormats=Z;var _e=[];Object.keys(ge).forEach(function(C){var Q=ge[C];_e[Q]=C});var Ve=[];Object.keys(ke).forEach(function(C){var Q=ke[C];Ve[Q]=C});var de=[];Object.keys(Ee).forEach(function(C){var Q=Ee[C];de[Q]=C});var Ge=[];Object.keys(be).forEach(function(C){var Q=be[C];Ge[Q]=C});var Be=[];Object.keys(pe).forEach(function(C){var Q=pe[C];Be[Q]=C});var ct=Z.reduce(function(C,Q){var X=ge[Q];return X===so||X===vu||X===so||X===Hl||X===Wl||X===Ia||w.ext_srgb&&(X===Da||X===Fa)?C[X]=X:X===gu||Q.indexOf("rgba")>=0?C[X]=lo:C[X]=Vl,C},{});function ae(){this.internalformat=lo,this.format=lo,this.type=jo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=zo,this.width=0,this.height=0,this.channels=0}function ie(C,Q){C.internalformat=Q.internalformat,C.format=Q.format,C.type=Q.type,C.compressed=Q.compressed,C.premultiplyAlpha=Q.premultiplyAlpha,C.flipY=Q.flipY,C.unpackAlignment=Q.unpackAlignment,C.colorSpace=Q.colorSpace,C.width=Q.width,C.height=Q.height,C.channels=Q.channels}function Qe(C,Q){if(!(typeof Q!="object"||!Q)){if("premultiplyAlpha"in Q&&(E.type(Q.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),C.premultiplyAlpha=Q.premultiplyAlpha),"flipY"in Q&&(E.type(Q.flipY,"boolean","invalid texture flip"),C.flipY=Q.flipY),"alignment"in Q&&(E.oneOf(Q.alignment,[1,2,4,8],"invalid texture unpack alignment"),C.unpackAlignment=Q.alignment),"colorSpace"in Q&&(E.parameter(Q.colorSpace,Se,"invalid colorSpace"),C.colorSpace=Se[Q.colorSpace]),"type"in Q){var X=Q.type;E(w.oes_texture_float||!(X==="float"||X==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),E(w.oes_texture_half_float||!(X==="half float"||X==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),E(w.webgl_depth_texture||!(X==="uint16"||X==="uint32"||X==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(X,ke,"invalid texture type"),C.type=ke[X]}var qe=C.width,jt=C.height,b=C.channels,x=!1;"shape"in Q?(E(Array.isArray(Q.shape)&&Q.shape.length>=2,"shape must be an array"),qe=Q.shape[0],jt=Q.shape[1],Q.shape.length===3&&(b=Q.shape[2],E(b>0&&b<=4,"invalid number of channels"),x=!0),E(qe>=0&&qe<=k.maxTextureSize,"invalid width"),E(jt>=0&&jt<=k.maxTextureSize,"invalid height")):("radius"in Q&&(qe=jt=Q.radius,E(qe>=0&&qe<=k.maxTextureSize,"invalid radius")),"width"in Q&&(qe=Q.width,E(qe>=0&&qe<=k.maxTextureSize,"invalid width")),"height"in Q&&(jt=Q.height,E(jt>=0&&jt<=k.maxTextureSize,"invalid height")),"channels"in Q&&(b=Q.channels,E(b>0&&b<=4,"invalid number of channels"),x=!0)),C.width=qe|0,C.height=jt|0,C.channels=b|0;var N=!1;if("format"in Q){var j=Q.format;E(w.webgl_depth_texture||!(j==="depth"||j==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(j,ge,"invalid texture format");var G=C.internalformat=ge[j];C.format=ct[G],j in ke&&("type"in Q||(C.type=ke[j])),j in we&&(C.compressed=!0),N=!0}!x&&N?C.channels=Xr[C.format]:x&&!N?C.channels!==ja[C.format]&&(C.format=C.internalformat=ja[C.channels]):N&&x&&E(C.channels===Xr[C.format],"number of channels inconsistent with specified format")}}function Ne(C){p.pixelStorei(T1,C.flipY),p.pixelStorei(C1,C.premultiplyAlpha),p.pixelStorei(L1,C.colorSpace),p.pixelStorei(A1,C.unpackAlignment)}function xe(){ae.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Me(C,Q){var X=null;if(ku(Q)?X=Q:Q&&(E.type(Q,"object","invalid pixel data type"),Qe(C,Q),"x"in Q&&(C.xOffset=Q.x|0),"y"in Q&&(C.yOffset=Q.y|0),ku(Q.data)&&(X=Q.data)),E(!C.compressed||X instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Q.copy){E(!X,"can not specify copy and data field for the same texture");var qe=oe.viewportWidth,jt=oe.viewportHeight;C.width=C.width||qe-C.xOffset,C.height=C.height||jt-C.yOffset,C.needsCopy=!0,E(C.xOffset>=0&&C.xOffset<qe&&C.yOffset>=0&&C.yOffset<jt&&C.width>0&&C.width<=qe&&C.height>0&&C.height<=jt,"copy texture read out of bounds")}else if(!X)C.width=C.width||1,C.height=C.height||1,C.channels=C.channels||4;else if(n(X))C.channels=C.channels||4,C.data=X,!("type"in Q)&&C.type===jo&&(C.type=Gf(X));else if($f(X))C.channels=C.channels||4,k1(C,X),C.alignment=1,C.needsFree=!0;else if(Pr(X)){var b=X.data;!Array.isArray(b)&&C.type===jo&&(C.type=Gf(b));var x=X.shape,N=X.stride,j,G,D,M,B,A;x.length===3?(D=x[2],A=N[2]):(E(x.length===2,"invalid ndarray pixel data, must be 2 or 3D"),D=1,A=1),j=x[0],G=x[1],M=N[0],B=N[1],C.alignment=1,C.width=j,C.height=G,C.channels=D,C.format=C.internalformat=ja[D],C.needsFree=!0,Hf(C,b,M,B,A,X.offset)}else if(Ru(X)||Bf(X)||O1(X))Ru(X)||Bf(X)?C.element=X:C.element=X.canvas,C.width=C.element.width,C.height=C.element.height,C.channels=4;else if(Ou(X))C.element=X,C.width=X.width,C.height=X.height,C.channels=4;else if(jf(X))C.element=X,C.width=X.naturalWidth,C.height=X.naturalHeight,C.channels=4;else if(zf(X))C.element=X,C.width=X.videoWidth,C.height=X.videoHeight,C.channels=4;else if(Lu(X)){var R=C.width||X[0].length,T=C.height||X.length,W=C.channels;vn(X[0][0])?W=W||X[0][0].length:W=W||1;for(var U=Hr.shape(X),re=1,le=0;le<U.length;++le)re*=U[le];var Ce=Uf(C,re);Hr.flatten(X,U,"",Ce),Vf(C,Ce),C.alignment=1,C.width=R,C.height=T,C.channels=W,C.format=C.internalformat=ja[W],C.needsFree=!0}C.type===Wr?E(k.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):C.type===Bo&&E(k.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function $e(C,Q,X){var qe=C.element,jt=C.data,b=C.internalformat,x=C.format,N=C.type,j=C.width,G=C.height;Ne(C),qe?p.texImage2D(Q,X,x,x,N,qe):C.compressed?p.compressedTexImage2D(Q,X,b,j,G,0,jt):C.needsCopy?(q(),p.copyTexImage2D(Q,X,x,C.xOffset,C.yOffset,j,G,0)):p.texImage2D(Q,X,x,j,G,0,x,N,jt||null)}function St(C,Q,X,qe,jt){var b=C.element,x=C.data,N=C.internalformat,j=C.format,G=C.type,D=C.width,M=C.height;Ne(C),b?p.texSubImage2D(Q,jt,X,qe,j,G,b):C.compressed?p.compressedTexSubImage2D(Q,jt,X,qe,N,D,M,x):C.needsCopy?(q(),p.copyTexSubImage2D(Q,jt,X,qe,C.xOffset,C.yOffset,D,M)):p.texSubImage2D(Q,jt,X,qe,D,M,j,G,x)}var _t=[];function je(){return _t.pop()||new xe}function Ue(C){C.needsFree&&ot.freeType(C.data),xe.call(C),_t.push(C)}function pt(){ae.call(this),this.genMipmaps=!1,this.mipmapHint=$a,this.mipmask=0,this.images=Array(16)}function bt(C,Q,X){var qe=C.images[0]=je();C.mipmask=1,qe.width=C.width=Q,qe.height=C.height=X,qe.channels=C.channels=4}function Vt(C,Q){var X=null;if(ku(Q))X=C.images[0]=je(),ie(X,C),Me(X,Q),C.mipmask=1;else if(Qe(C,Q),Array.isArray(Q.mipmap))for(var qe=Q.mipmap,jt=0;jt<qe.length;++jt)X=C.images[jt]=je(),ie(X,C),X.width>>=jt,X.height>>=jt,Me(X,qe[jt]),C.mipmask|=1<<jt;else X=C.images[0]=je(),ie(X,C),Me(X,Q),C.mipmask=1;ie(C,C.images[0]),C.compressed&&(C.internalformat===uo||C.internalformat===xu||C.internalformat===_u||C.internalformat===wu)&&E(C.width%4===0&&C.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function xn(C,Q){for(var X=C.images,qe=0;qe<X.length;++qe){if(!X[qe])return;$e(X[qe],Q,qe)}}var En=[];function Xt(){var C=En.pop()||new pt;ae.call(C),C.mipmask=0;for(var Q=0;Q<16;++Q)C.images[Q]=null;return C}function Hn(C){for(var Q=C.images,X=0;X<Q.length;++X)Q[X]&&Ue(Q[X]),Q[X]=null;En.push(C)}function gn(){this.minFilter=Au,this.magFilter=Au,this.wrapS=bu,this.wrapT=bu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=$a}function zn(C,Q){if("min"in Q){var X=Q.min;E.parameter(X,be),C.minFilter=be[X],Pf.indexOf(C.minFilter)>=0&&!("faces"in Q)&&(C.genMipmaps=!0)}if("mag"in Q){var qe=Q.mag;E.parameter(qe,Ee),C.magFilter=Ee[qe]}var jt=C.wrapS,b=C.wrapT;if("wrap"in Q){var x=Q.wrap;typeof x=="string"?(E.parameter(x,pe),jt=b=pe[x]):Array.isArray(x)&&(E.parameter(x[0],pe),E.parameter(x[1],pe),jt=pe[x[0]],b=pe[x[1]])}else{if("wrapS"in Q){var N=Q.wrapS;E.parameter(N,pe),jt=pe[N]}if("wrapT"in Q){var j=Q.wrapT;E.parameter(j,pe),b=pe[j]}}if(C.wrapS=jt,C.wrapT=b,"anisotropic"in Q){var G=Q.anisotropic;E(typeof G=="number"&&G>=1&&G<=k.maxAnisotropic,"aniso samples must be between 1 and "),C.anisotropic=Q.anisotropic}if("mipmap"in Q){var D=!1;switch(typeof Q.mipmap){case"string":E.parameter(Q.mipmap,me,"invalid mipmap hint"),C.mipmapHint=me[Q.mipmap],C.genMipmaps=!0,D=!0;break;case"boolean":D=C.genMipmaps=Q.mipmap;break;case"object":E(Array.isArray(Q.mipmap),"invalid mipmap type"),C.genMipmaps=!1,D=!0;break;default:E.raise("invalid mipmap type")}D&&!("min"in Q)&&(C.minFilter=Xl)}}function Wn(C,Q){p.texParameteri(Q,_1,C.minFilter),p.texParameteri(Q,x1,C.magFilter),p.texParameteri(Q,m1,C.wrapS),p.texParameteri(Q,v1,C.wrapT),w.ext_texture_filter_anisotropic&&p.texParameteri(Q,b1,C.anisotropic),C.genMipmaps&&(p.hint(E1,C.mipmapHint),p.generateMipmap(Q))}var Xn=0,rr={},ur=k.maxTextureUnits,kn=Array(ur).map(function(){return null});function Mt(C){ae.call(this),this.mipmask=0,this.internalformat=lo,this.id=Xn++,this.refCount=1,this.target=C,this.texture=p.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new gn,J.profile&&(this.stats={size:0})}function cr(C){p.activeTexture(Ba),p.bindTexture(C.target,C.texture)}function nn(){var C=kn[0];C?p.bindTexture(C.target,C.texture):p.bindTexture(li,null)}function ht(C){var Q=C.texture;E(Q,"must not double destroy texture");var X=C.unit,qe=C.target;X>=0&&(p.activeTexture(Ba+X),p.bindTexture(qe,null),kn[X]=null),p.deleteTexture(Q),C.texture=null,C.params=null,C.pixels=null,C.refCount=0,delete rr[C.id],Y.textureCount--}r(Mt.prototype,{bind:function(){var C=this;C.bindCount+=1;var Q=C.unit;if(Q<0){for(var X=0;X<ur;++X){var qe=kn[X];if(qe){if(qe.bindCount>0)continue;qe.unit=-1}kn[X]=C,Q=X;break}Q>=ur&&E.raise("insufficient number of texture units"),J.profile&&Y.maxTextureUnits<Q+1&&(Y.maxTextureUnits=Q+1),C.unit=Q,p.activeTexture(Ba+Q),p.bindTexture(C.target,C.texture)}return Q},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ht(this)}});function Ht(C,Q){var X=new Mt(li);rr[X.id]=X,Y.textureCount++;function qe(x,N){var j=X.texInfo;gn.call(j);var G=Xt();return typeof x=="number"?typeof N=="number"?bt(G,x|0,N|0):bt(G,x|0,x|0):x?(E.type(x,"object","invalid arguments to regl.texture"),zn(j,x),Vt(G,x)):bt(G,1,1),j.genMipmaps&&(G.mipmask=(G.width<<1)-1),X.mipmask=G.mipmask,ie(X,G),E.texture2D(j,G,k),X.internalformat=G.internalformat,qe.width=G.width,qe.height=G.height,cr(X),xn(G,li),Wn(j,li),nn(),Hn(G),J.profile&&(X.stats.size=ql(X.internalformat,X.type,G.width,G.height,j.genMipmaps,!1)),qe.format=_e[X.internalformat],qe.type=Ve[X.type],qe.mag=de[j.magFilter],qe.min=Ge[j.minFilter],qe.wrapS=Be[j.wrapS],qe.wrapT=Be[j.wrapT],qe}function jt(x,N,j,G){E(!!x,"must specify image data");var D=N|0,M=j|0,B=G|0,A=je();return ie(A,X),A.width=0,A.height=0,Me(A,x),A.width=A.width||(X.width>>B)-D,A.height=A.height||(X.height>>B)-M,E(X.type===A.type&&X.format===A.format&&X.internalformat===A.internalformat,"incompatible format for texture.subimage"),E(D>=0&&M>=0&&D+A.width<=X.width&&M+A.height<=X.height,"texture.subimage write out of bounds"),E(X.mipmask&1<<B,"missing mipmap data"),E(A.data||A.element||A.needsCopy,"missing image data"),cr(X),St(A,li,D,M,B),nn(),Ue(A),qe}function b(x,N){var j=x|0,G=N|0||j;if(j===X.width&&G===X.height)return qe;qe.width=X.width=j,qe.height=X.height=G,cr(X);for(var D=0;X.mipmask>>D;++D){var M=j>>D,B=G>>D;if(!M||!B)break;p.texImage2D(li,D,X.format,M,B,0,X.format,X.type,null)}return nn(),J.profile&&(X.stats.size=ql(X.internalformat,X.type,j,G,!1,!1)),qe}return qe(C,Q),qe.subimage=jt,qe.resize=b,qe._reglType="texture2d",qe._texture=X,J.profile&&(qe.stats=X.stats),qe.destroy=function(){X.decRef()},qe}function qt(C,Q,X,qe,jt,b){var x=new Mt(mu);rr[x.id]=x,Y.cubeCount++;var N=new Array(6);function j(M,B,A,R,T,W){var U,re=x.texInfo;for(gn.call(re),U=0;U<6;++U)N[U]=Xt();if(typeof M=="number"||!M){var le=M|0||1;for(U=0;U<6;++U)bt(N[U],le,le)}else if(typeof M=="object")if(B)Vt(N[0],M),Vt(N[1],B),Vt(N[2],A),Vt(N[3],R),Vt(N[4],T),Vt(N[5],W);else if(zn(re,M),Qe(x,M),"faces"in M){var Ce=M.faces;for(E(Array.isArray(Ce)&&Ce.length===6,"cube faces must be a length 6 array"),U=0;U<6;++U)E(typeof Ce[U]=="object"&&!!Ce[U],"invalid input for cube map face"),ie(N[U],x),Vt(N[U],Ce[U])}else for(U=0;U<6;++U)Vt(N[U],M);else E.raise("invalid arguments to cube map");for(ie(x,N[0]),E.optional(function(){k.npotTextureCube||E(xf(x.width)&&xf(x.height),"your browser does not support non power or two texture dimensions")}),re.genMipmaps?x.mipmask=(N[0].width<<1)-1:x.mipmask=N[0].mipmask,E.textureCube(x,re,N,k),x.internalformat=N[0].internalformat,j.width=N[0].width,j.height=N[0].height,cr(x),U=0;U<6;++U)xn(N[U],Ul+U);for(Wn(re,mu),nn(),J.profile&&(x.stats.size=ql(x.internalformat,x.type,j.width,j.height,re.genMipmaps,!0)),j.format=_e[x.internalformat],j.type=Ve[x.type],j.mag=de[re.magFilter],j.min=Ge[re.minFilter],j.wrapS=Be[re.wrapS],j.wrapT=Be[re.wrapT],U=0;U<6;++U)Hn(N[U]);return j}function G(M,B,A,R,T){E(!!B,"must specify image data"),E(typeof M=="number"&&M===(M|0)&&M>=0&&M<6,"invalid face");var W=A|0,U=R|0,re=T|0,le=je();return ie(le,x),le.width=0,le.height=0,Me(le,B),le.width=le.width||(x.width>>re)-W,le.height=le.height||(x.height>>re)-U,E(x.type===le.type&&x.format===le.format&&x.internalformat===le.internalformat,"incompatible format for texture.subimage"),E(W>=0&&U>=0&&W+le.width<=x.width&&U+le.height<=x.height,"texture.subimage write out of bounds"),E(x.mipmask&1<<re,"missing mipmap data"),E(le.data||le.element||le.needsCopy,"missing image data"),cr(x),St(le,Ul+M,W,U,re),nn(),Ue(le),j}function D(M){var B=M|0;if(B!==x.width){j.width=x.width=B,j.height=x.height=B,cr(x);for(var A=0;A<6;++A)for(var R=0;x.mipmask>>R;++R)p.texImage2D(Ul+A,R,x.format,B>>R,B>>R,0,x.format,x.type,null);return nn(),J.profile&&(x.stats.size=ql(x.internalformat,x.type,j.width,j.height,!1,!0)),j}}return j(C,Q,X,qe,jt,b),j.subimage=G,j.resize=D,j._reglType="textureCube",j._texture=x,J.profile&&(j.stats=x.stats),j.destroy=function(){x.decRef()},j}function Pn(){for(var C=0;C<ur;++C)p.activeTexture(Ba+C),p.bindTexture(li,null),kn[C]=null;br(rr).forEach(ht),Y.cubeCount=0,Y.textureCount=0}J.profile&&(Y.getTotalTextureSize=function(){var C=0;return Object.keys(rr).forEach(function(Q){C+=rr[Q].stats.size}),C});function Gi(){for(var C=0;C<ur;++C){var Q=kn[C];Q&&(Q.bindCount=0,Q.unit=-1,kn[C]=null)}br(rr).forEach(function(X){X.texture=p.createTexture(),p.bindTexture(X.target,X.texture);for(var qe=0;qe<32;++qe)if(X.mipmask&1<<qe)if(X.target===li)p.texImage2D(li,qe,X.internalformat,X.width>>qe,X.height>>qe,0,X.internalformat,X.type,null);else for(var jt=0;jt<6;++jt)p.texImage2D(Ul+jt,qe,X.internalformat,X.width>>qe,X.height>>qe,0,X.internalformat,X.type,null);Wn(X.texInfo,X.target)})}function Ya(){for(var C=0;C<ur;++C){var Q=kn[C];Q&&(Q.bindCount=0,Q.unit=-1,kn[C]=null),p.activeTexture(Ba+C),p.bindTexture(li,null),p.bindTexture(mu,null)}}return{create2D:Ht,createCube:qt,clear:Pn,getTexture:function(C){return null},restore:Gi,refresh:Ya}}var ji=36161,Ql=32854,Wf=32855,Xf=36194,Yf=33189,qf=36168,Qf=34041,Kf=35907,Zf=34836,Jf=34842,e0=34843,Yr=[];Yr[Ql]=2,Yr[Wf]=2,Yr[Xf]=2,Yr[Yf]=2,Yr[qf]=1,Yr[Qf]=4,Yr[Kf]=4,Yr[Zf]=16,Yr[Jf]=8,Yr[e0]=6;function t0(p,w,k){return Yr[p]*w*k}var N1=function(p,w,k,q,oe){var Y={rgba4:Ql,rgb565:Xf,"rgb5 a1":Wf,depth:Yf,stencil:qf,"depth stencil":Qf};w.ext_srgb&&(Y.srgba=Kf),w.ext_color_buffer_half_float&&(Y.rgba16f=Jf,Y.rgb16f=e0),w.webgl_color_buffer_float&&(Y.rgba32f=Zf);var J=[];Object.keys(Y).forEach(function(ge){var we=Y[ge];J[we]=ge});var me=0,pe={};function Ee(ge){this.id=me++,this.refCount=1,this.renderbuffer=ge,this.format=Ql,this.width=0,this.height=0,oe.profile&&(this.stats={size:0})}Ee.prototype.decRef=function(){--this.refCount<=0&&be(this)};function be(ge){var we=ge.renderbuffer;E(we,"must not double destroy renderbuffer"),p.bindRenderbuffer(ji,null),p.deleteRenderbuffer(we),ge.renderbuffer=null,ge.refCount=0,delete pe[ge.id],q.renderbufferCount--}function Se(ge,we){var z=new Ee(p.createRenderbuffer());pe[z.id]=z,q.renderbufferCount++;function Z(Ve,de){var Ge=0,Be=0,ct=Ql;if(typeof Ve=="object"&&Ve){var ae=Ve;if("shape"in ae){var ie=ae.shape;E(Array.isArray(ie)&&ie.length>=2,"invalid renderbuffer shape"),Ge=ie[0]|0,Be=ie[1]|0}else"radius"in ae&&(Ge=Be=ae.radius|0),"width"in ae&&(Ge=ae.width|0),"height"in ae&&(Be=ae.height|0);"format"in ae&&(E.parameter(ae.format,Y,"invalid renderbuffer format"),ct=Y[ae.format])}else typeof Ve=="number"?(Ge=Ve|0,typeof de=="number"?Be=de|0:Be=Ge):Ve?E.raise("invalid arguments to renderbuffer constructor"):Ge=Be=1;if(E(Ge>0&&Be>0&&Ge<=k.maxRenderbufferSize&&Be<=k.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===z.width&&Be===z.height&&ct===z.format))return Z.width=z.width=Ge,Z.height=z.height=Be,z.format=ct,p.bindRenderbuffer(ji,z.renderbuffer),p.renderbufferStorage(ji,ct,Ge,Be),E(p.getError()===0,"invalid render buffer format"),oe.profile&&(z.stats.size=t0(z.format,z.width,z.height)),Z.format=J[z.format],Z}function _e(Ve,de){var Ge=Ve|0,Be=de|0||Ge;return Ge===z.width&&Be===z.height||(E(Ge>0&&Be>0&&Ge<=k.maxRenderbufferSize&&Be<=k.maxRenderbufferSize,"invalid renderbuffer size"),Z.width=z.width=Ge,Z.height=z.height=Be,p.bindRenderbuffer(ji,z.renderbuffer),p.renderbufferStorage(ji,z.format,Ge,Be),E(p.getError()===0,"invalid render buffer format"),oe.profile&&(z.stats.size=t0(z.format,z.width,z.height))),Z}return Z(ge,we),Z.resize=_e,Z._reglType="renderbuffer",Z._renderbuffer=z,oe.profile&&(Z.stats=z.stats),Z.destroy=function(){z.decRef()},Z}oe.profile&&(q.getTotalRenderbufferSize=function(){var ge=0;return Object.keys(pe).forEach(function(we){ge+=pe[we].stats.size}),ge});function ke(){br(pe).forEach(function(ge){ge.renderbuffer=p.createRenderbuffer(),p.bindRenderbuffer(ji,ge.renderbuffer),p.renderbufferStorage(ji,ge.format,ge.width,ge.height)}),p.bindRenderbuffer(ji,null)}return{create:Se,clear:function(){br(pe).forEach(be)},restore:ke}},Ei=36160,Pu=36161,fo=3553,Kl=34069,n0=36064,Zl=36096,r0=36128,i0=33306,o0=36053,M1=36054,I1=36055,D1=36057,F1=36061,$1=36193,B1=5121,j1=5126,a0=6407,l0=6408,z1=6402,G1=[a0,l0],Nu=[];Nu[l0]=4,Nu[a0]=3;var za=[];za[B1]=1,za[j1]=4,za[$1]=2;var U1=32854,s0=32855,V1=36194,u0=33189,c0=36168,Mu=34041,f0=35907,H1=34836,Ga=34842,W1=34843,X1=[U1,s0,V1,f0,Ga,W1,H1],Vo={};Vo[o0]="complete",Vo[M1]="incomplete attachment",Vo[D1]="incomplete dimensions",Vo[I1]="incomplete, missing attachment",Vo[F1]="unsupported";function Y1(p,w,k,q,oe,Y){var J={cur:null,next:null,dirty:!1,setFBO:null},me=["rgba"],pe=["rgba4","rgb565","rgb5 a1"];w.ext_srgb&&pe.push("srgba"),w.ext_color_buffer_half_float&&pe.push("rgba16f","rgb16f"),w.webgl_color_buffer_float&&pe.push("rgba32f");var Ee=["uint8"];w.oes_texture_half_float&&Ee.push("half float","float16"),w.oes_texture_float&&Ee.push("float","float32");function be(xe,Me,$e){this.target=xe,this.texture=Me,this.renderbuffer=$e;var St=0,_t=0;Me?(St=Me.width,_t=Me.height):$e&&(St=$e.width,_t=$e.height),this.width=St,this.height=_t}function Se(xe){xe&&(xe.texture&&xe.texture._texture.decRef(),xe.renderbuffer&&xe.renderbuffer._renderbuffer.decRef())}function ke(xe,Me,$e){if(xe)if(xe.texture){var St=xe.texture._texture,_t=Math.max(1,St.width),je=Math.max(1,St.height);E(_t===Me&&je===$e,"inconsistent width/height for supplied texture"),St.refCount+=1}else{var Ue=xe.renderbuffer._renderbuffer;E(Ue.width===Me&&Ue.height===$e,"inconsistent width/height for renderbuffer"),Ue.refCount+=1}}function ge(xe,Me){Me&&(Me.texture?p.framebufferTexture2D(Ei,xe,Me.target,Me.texture._texture.texture,0):p.framebufferRenderbuffer(Ei,xe,Pu,Me.renderbuffer._renderbuffer.renderbuffer))}function we(xe){var Me=fo,$e=null,St=null,_t=xe;typeof xe=="object"&&(_t=xe.data,"target"in xe&&(Me=xe.target|0)),E.type(_t,"function","invalid attachment data");var je=_t._reglType;return je==="texture2d"?($e=_t,E(Me===fo)):je==="textureCube"?($e=_t,E(Me>=Kl&&Me<Kl+6,"invalid cube map target")):je==="renderbuffer"?(St=_t,Me=Pu):E.raise("invalid regl object for attachment"),new be(Me,$e,St)}function z(xe,Me,$e,St,_t){if($e){var je=q.create2D({width:xe,height:Me,format:St,type:_t});return je._texture.refCount=0,new be(fo,je,null)}else{var Ue=oe.create({width:xe,height:Me,format:St});return Ue._renderbuffer.refCount=0,new be(Pu,null,Ue)}}function Z(xe){return xe&&(xe.texture||xe.renderbuffer)}function _e(xe,Me,$e){xe&&(xe.texture?xe.texture.resize(Me,$e):xe.renderbuffer&&xe.renderbuffer.resize(Me,$e),xe.width=Me,xe.height=$e)}var Ve=0,de={};function Ge(){this.id=Ve++,de[this.id]=this,this.framebuffer=p.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Be(xe){xe.colorAttachments.forEach(Se),Se(xe.depthAttachment),Se(xe.stencilAttachment),Se(xe.depthStencilAttachment)}function ct(xe){var Me=xe.framebuffer;E(Me,"must not double destroy framebuffer"),p.deleteFramebuffer(Me),xe.framebuffer=null,Y.framebufferCount--,delete de[xe.id]}function ae(xe){var Me;p.bindFramebuffer(Ei,xe.framebuffer);var $e=xe.colorAttachments;for(Me=0;Me<$e.length;++Me)ge(n0+Me,$e[Me]);for(Me=$e.length;Me<k.maxColorAttachments;++Me)p.framebufferTexture2D(Ei,n0+Me,fo,null,0);p.framebufferTexture2D(Ei,i0,fo,null,0),p.framebufferTexture2D(Ei,Zl,fo,null,0),p.framebufferTexture2D(Ei,r0,fo,null,0),ge(Zl,xe.depthAttachment),ge(r0,xe.stencilAttachment),ge(i0,xe.depthStencilAttachment);var St=p.checkFramebufferStatus(Ei);!p.isContextLost()&&St!==o0&&E.raise("framebuffer configuration not supported, status = "+Vo[St]),p.bindFramebuffer(Ei,J.next?J.next.framebuffer:null),J.cur=J.next,p.getError()}function ie(xe,Me){var $e=new Ge;Y.framebufferCount++;function St(je,Ue){var pt;E(J.next!==$e,"can not update framebuffer which is currently in use");var bt=0,Vt=0,xn=!0,En=!0,Xt=null,Hn=!0,gn="rgba",zn="uint8",Wn=1,Xn=null,rr=null,ur=null,kn=!1;if(typeof je=="number")bt=je|0,Vt=Ue|0||bt;else if(!je)bt=Vt=1;else{E.type(je,"object","invalid arguments for framebuffer");var Mt=je;if("shape"in Mt){var cr=Mt.shape;E(Array.isArray(cr)&&cr.length>=2,"invalid shape for framebuffer"),bt=cr[0],Vt=cr[1]}else"radius"in Mt&&(bt=Vt=Mt.radius),"width"in Mt&&(bt=Mt.width),"height"in Mt&&(Vt=Mt.height);("color"in Mt||"colors"in Mt)&&(Xt=Mt.color||Mt.colors,Array.isArray(Xt)&&E(Xt.length===1||w.webgl_draw_buffers,"multiple render targets not supported")),Xt||("colorCount"in Mt&&(Wn=Mt.colorCount|0,E(Wn>0,"invalid color buffer count")),"colorTexture"in Mt&&(Hn=!!Mt.colorTexture,gn="rgba4"),"colorType"in Mt&&(zn=Mt.colorType,Hn?(E(w.oes_texture_float||!(zn==="float"||zn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),E(w.oes_texture_half_float||!(zn==="half float"||zn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):zn==="half float"||zn==="float16"?(E(w.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),gn="rgba16f"):(zn==="float"||zn==="float32")&&(E(w.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),gn="rgba32f"),E.oneOf(zn,Ee,"invalid color type")),"colorFormat"in Mt&&(gn=Mt.colorFormat,me.indexOf(gn)>=0?Hn=!0:pe.indexOf(gn)>=0?Hn=!1:E.optional(function(){Hn?E.oneOf(Mt.colorFormat,me,"invalid color format for texture"):E.oneOf(Mt.colorFormat,pe,"invalid color format for renderbuffer")}))),("depthTexture"in Mt||"depthStencilTexture"in Mt)&&(kn=!!(Mt.depthTexture||Mt.depthStencilTexture),E(!kn||w.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Mt&&(typeof Mt.depth=="boolean"?xn=Mt.depth:(Xn=Mt.depth,En=!1)),"stencil"in Mt&&(typeof Mt.stencil=="boolean"?En=Mt.stencil:(rr=Mt.stencil,xn=!1)),"depthStencil"in Mt&&(typeof Mt.depthStencil=="boolean"?xn=En=Mt.depthStencil:(ur=Mt.depthStencil,xn=!1,En=!1))}var nn=null,ht=null,Ht=null,qt=null;if(Array.isArray(Xt))nn=Xt.map(we);else if(Xt)nn=[we(Xt)];else for(nn=new Array(Wn),pt=0;pt<Wn;++pt)nn[pt]=z(bt,Vt,Hn,gn,zn);E(w.webgl_draw_buffers||nn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),E(nn.length<=k.maxColorAttachments,"too many color attachments, not supported"),bt=bt||nn[0].width,Vt=Vt||nn[0].height,Xn?ht=we(Xn):xn&&!En&&(ht=z(bt,Vt,kn,"depth","uint32")),rr?Ht=we(rr):En&&!xn&&(Ht=z(bt,Vt,!1,"stencil","uint8")),ur?qt=we(ur):!Xn&&!rr&&En&&xn&&(qt=z(bt,Vt,kn,"depth stencil","depth stencil")),E(!!Xn+!!rr+!!ur<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Pn=null;for(pt=0;pt<nn.length;++pt)if(ke(nn[pt],bt,Vt),E(!nn[pt]||nn[pt].texture&&G1.indexOf(nn[pt].texture._texture.format)>=0||nn[pt].renderbuffer&&X1.indexOf(nn[pt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+pt+" is invalid"),nn[pt]&&nn[pt].texture){var Gi=Nu[nn[pt].texture._texture.format]*za[nn[pt].texture._texture.type];Pn===null?Pn=Gi:E(Pn===Gi,"all color attachments much have the same number of bits per pixel.")}return ke(ht,bt,Vt),E(!ht||ht.texture&&ht.texture._texture.format===z1||ht.renderbuffer&&ht.renderbuffer._renderbuffer.format===u0,"invalid depth attachment for framebuffer object"),ke(Ht,bt,Vt),E(!Ht||Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.format===c0,"invalid stencil attachment for framebuffer object"),ke(qt,bt,Vt),E(!qt||qt.texture&&qt.texture._texture.format===Mu||qt.renderbuffer&&qt.renderbuffer._renderbuffer.format===Mu,"invalid depth-stencil attachment for framebuffer object"),Be($e),$e.width=bt,$e.height=Vt,$e.colorAttachments=nn,$e.depthAttachment=ht,$e.stencilAttachment=Ht,$e.depthStencilAttachment=qt,St.color=nn.map(Z),St.depth=Z(ht),St.stencil=Z(Ht),St.depthStencil=Z(qt),St.width=$e.width,St.height=$e.height,ae($e),St}function _t(je,Ue){E(J.next!==$e,"can not resize a framebuffer which is currently in use");var pt=Math.max(je|0,1),bt=Math.max(Ue|0||pt,1);if(pt===$e.width&&bt===$e.height)return St;for(var Vt=$e.colorAttachments,xn=0;xn<Vt.length;++xn)_e(Vt[xn],pt,bt);return _e($e.depthAttachment,pt,bt),_e($e.stencilAttachment,pt,bt),_e($e.depthStencilAttachment,pt,bt),$e.width=St.width=pt,$e.height=St.height=bt,ae($e),St}return St(xe,Me),r(St,{resize:_t,_reglType:"framebuffer",_framebuffer:$e,destroy:function(){ct($e),Be($e)},use:function(je){J.setFBO({framebuffer:St},je)}})}function Qe(xe){var Me=Array(6);function $e(_t){var je;E(Me.indexOf(J.next)<0,"can not update framebuffer which is currently in use");var Ue={color:null},pt=0,bt=null,Vt="rgba",xn="uint8",En=1;if(typeof _t=="number")pt=_t|0;else if(!_t)pt=1;else{E.type(_t,"object","invalid arguments for framebuffer");var Xt=_t;if("shape"in Xt){var Hn=Xt.shape;E(Array.isArray(Hn)&&Hn.length>=2,"invalid shape for framebuffer"),E(Hn[0]===Hn[1],"cube framebuffer must be square"),pt=Hn[0]}else"radius"in Xt&&(pt=Xt.radius|0),"width"in Xt?(pt=Xt.width|0,"height"in Xt&&E(Xt.height===pt,"must be square")):"height"in Xt&&(pt=Xt.height|0);("color"in Xt||"colors"in Xt)&&(bt=Xt.color||Xt.colors,Array.isArray(bt)&&E(bt.length===1||w.webgl_draw_buffers,"multiple render targets not supported")),bt||("colorCount"in Xt&&(En=Xt.colorCount|0,E(En>0,"invalid color buffer count")),"colorType"in Xt&&(E.oneOf(Xt.colorType,Ee,"invalid color type"),xn=Xt.colorType),"colorFormat"in Xt&&(Vt=Xt.colorFormat,E.oneOf(Xt.colorFormat,me,"invalid color format for texture"))),"depth"in Xt&&(Ue.depth=Xt.depth),"stencil"in Xt&&(Ue.stencil=Xt.stencil),"depthStencil"in Xt&&(Ue.depthStencil=Xt.depthStencil)}var gn;if(bt)if(Array.isArray(bt))for(gn=[],je=0;je<bt.length;++je)gn[je]=bt[je];else gn=[bt];else{gn=Array(En);var zn={radius:pt,format:Vt,type:xn};for(je=0;je<En;++je)gn[je]=q.createCube(zn)}for(Ue.color=Array(gn.length),je=0;je<gn.length;++je){var Wn=gn[je];E(typeof Wn=="function"&&Wn._reglType==="textureCube","invalid cube map"),pt=pt||Wn.width,E(Wn.width===pt&&Wn.height===pt,"invalid cube map shape"),Ue.color[je]={target:Kl,data:gn[je]}}for(je=0;je<6;++je){for(var Xn=0;Xn<gn.length;++Xn)Ue.color[Xn].target=Kl+je;je>0&&(Ue.depth=Me[0].depth,Ue.stencil=Me[0].stencil,Ue.depthStencil=Me[0].depthStencil),Me[je]?Me[je](Ue):Me[je]=ie(Ue)}return r($e,{width:pt,height:pt,color:gn})}function St(_t){var je,Ue=_t|0;if(E(Ue>0&&Ue<=k.maxCubeMapSize,"invalid radius for cube fbo"),Ue===$e.width)return $e;var pt=$e.color;for(je=0;je<pt.length;++je)pt[je].resize(Ue);for(je=0;je<6;++je)Me[je].resize(Ue);return $e.width=$e.height=Ue,$e}return $e(xe),r($e,{faces:Me,resize:St,_reglType:"framebufferCube",destroy:function(){Me.forEach(function(_t){_t.destroy()})}})}function Ne(){J.cur=null,J.next=null,J.dirty=!0,br(de).forEach(function(xe){xe.framebuffer=p.createFramebuffer(),ae(xe)})}return r(J,{getFramebuffer:function(xe){if(typeof xe=="function"&&xe._reglType==="framebuffer"){var Me=xe._framebuffer;if(Me instanceof Ge)return Me}return null},create:ie,createCube:Qe,clear:function(){br(de).forEach(ct)},restore:Ne})}var q1=5126,d=34962,$=34963,H=["attributes","elements","offset","count","primitive","instances"];function ue(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=q1,this.offset=0,this.stride=0,this.divisor=0}function Pe(p,w,k,q,oe,Y,J){for(var me=k.maxAttributes,pe=new Array(me),Ee=0;Ee<me;++Ee)pe[Ee]=new ue;var be=0,Se={},ke={Record:ue,scope:{},state:pe,currentVAO:null,targetVAO:null,restore:we()?Be:function(){},createVAO:ct,getVAO:Z,destroyBuffer:ge,setVAO:we()?_e:Ve,clear:we()?de:function(){}};function ge(ae){for(var ie=0;ie<pe.length;++ie){var Qe=pe[ie];Qe.buffer===ae&&(p.disableVertexAttribArray(ie),Qe.buffer=null)}}function we(){return w.oes_vertex_array_object}function z(){return w.angle_instanced_arrays}function Z(ae){return typeof ae=="function"&&ae._vao?ae._vao:null}function _e(ae){if(ae!==ke.currentVAO){var ie=we();ae?ie.bindVertexArrayOES(ae.vao):ie.bindVertexArrayOES(null),ke.currentVAO=ae}}function Ve(ae){if(ae!==ke.currentVAO){if(ae)ae.bindAttrs();else{for(var ie=z(),Qe=0;Qe<pe.length;++Qe){var Ne=pe[Qe];Ne.buffer?(p.enableVertexAttribArray(Qe),Ne.buffer.bind(),p.vertexAttribPointer(Qe,Ne.size,Ne.type,Ne.normalized,Ne.stride,Ne.offfset),ie&&Ne.divisor&&ie.vertexAttribDivisorANGLE(Qe,Ne.divisor)):(p.disableVertexAttribArray(Qe),p.vertexAttrib4f(Qe,Ne.x,Ne.y,Ne.z,Ne.w))}J.elements?p.bindBuffer($,J.elements.buffer.buffer):p.bindBuffer($,null)}ke.currentVAO=ae}}function de(){br(Se).forEach(function(ae){ae.destroy()})}function Ge(){this.id=++be,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ae=we();ae?this.vao=ae.createVertexArrayOES():this.vao=null,Se[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var ae=z(),ie=this.attributes,Qe=0;Qe<ie.length;++Qe){var Ne=ie[Qe];Ne.buffer?(p.enableVertexAttribArray(Qe),p.bindBuffer(d,Ne.buffer.buffer),p.vertexAttribPointer(Qe,Ne.size,Ne.type,Ne.normalized,Ne.stride,Ne.offset),ae&&Ne.divisor&&ae.vertexAttribDivisorANGLE(Qe,Ne.divisor)):(p.disableVertexAttribArray(Qe),p.vertexAttrib4f(Qe,Ne.x,Ne.y,Ne.z,Ne.w))}for(var xe=ie.length;xe<me;++xe)p.disableVertexAttribArray(xe);var Me=Y.getElements(this.elements);Me?p.bindBuffer($,Me.buffer.buffer):p.bindBuffer($,null)},Ge.prototype.refresh=function(){var ae=we();ae&&(ae.bindVertexArrayOES(this.vao),this.bindAttrs(),ke.currentVAO=null,ae.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var ae=we();this===ke.currentVAO&&(ke.currentVAO=null,ae.bindVertexArrayOES(null)),ae.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Se[this.id]&&(delete Se[this.id],q.vaoCount-=1)};function Be(){var ae=we();ae&&br(Se).forEach(function(ie){ie.refresh()})}function ct(ae){var ie=new Ge;q.vaoCount+=1;function Qe(Ne){var xe;if(Array.isArray(Ne))xe=Ne,ie.elements&&ie.ownsElements&&ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1,ie.offset=0,ie.count=0,ie.instances=-1,ie.primitive=4;else{if(E(typeof Ne=="object","invalid arguments for create vao"),E("attributes"in Ne,"must specify attributes for vao"),Ne.elements){var Me=Ne.elements;ie.ownsElements?typeof Me=="function"&&Me._reglType==="elements"?(ie.elements.destroy(),ie.ownsElements=!1):(ie.elements(Me),ie.ownsElements=!1):Y.getElements(Ne.elements)?(ie.elements=Ne.elements,ie.ownsElements=!1):(ie.elements=Y.create(Ne.elements),ie.ownsElements=!0)}else ie.elements=null,ie.ownsElements=!1;xe=Ne.attributes,ie.offset=0,ie.count=-1,ie.instances=-1,ie.primitive=4,ie.elements&&(ie.count=ie.elements._elements.vertCount,ie.primitive=ie.elements._elements.primType),"offset"in Ne&&(ie.offset=Ne.offset|0),"count"in Ne&&(ie.count=Ne.count|0),"instances"in Ne&&(ie.instances=Ne.instances|0),"primitive"in Ne&&(E(Ne.primitive in $i,"bad primitive type: "+Ne.primitive),ie.primitive=$i[Ne.primitive]),E.optional(()=>{for(var xn=Object.keys(Ne),En=0;En<xn.length;++En)E(H.indexOf(xn[En])>=0,'invalid option for vao: "'+xn[En]+'" valid options are '+H)}),E(Array.isArray(xe),"attributes must be an array")}E(xe.length<me,"too many attributes"),E(xe.length>0,"must specify at least one attribute");var $e={},St=ie.attributes;St.length=xe.length;for(var _t=0;_t<xe.length;++_t){var je=xe[_t],Ue=St[_t]=new ue,pt=je.data||je;if(Array.isArray(pt)||n(pt)||Pr(pt)){var bt;ie.buffers[_t]&&(bt=ie.buffers[_t],n(pt)&&bt._buffer.byteLength>=pt.byteLength?bt.subdata(pt):(bt.destroy(),ie.buffers[_t]=null)),ie.buffers[_t]||(bt=ie.buffers[_t]=oe.create(je,d,!1,!0)),Ue.buffer=oe.getBuffer(bt),Ue.size=Ue.buffer.dimension|0,Ue.normalized=!1,Ue.type=Ue.buffer.dtype,Ue.offset=0,Ue.stride=0,Ue.divisor=0,Ue.state=1,$e[_t]=1}else oe.getBuffer(je)?(Ue.buffer=oe.getBuffer(je),Ue.size=Ue.buffer.dimension|0,Ue.normalized=!1,Ue.type=Ue.buffer.dtype,Ue.offset=0,Ue.stride=0,Ue.divisor=0,Ue.state=1):oe.getBuffer(je.buffer)?(Ue.buffer=oe.getBuffer(je.buffer),Ue.size=(+je.size||Ue.buffer.dimension)|0,Ue.normalized=!!je.normalized||!1,"type"in je?(E.parameter(je.type,Fo,"invalid buffer type"),Ue.type=Fo[je.type]):Ue.type=Ue.buffer.dtype,Ue.offset=(je.offset||0)|0,Ue.stride=(je.stride||0)|0,Ue.divisor=(je.divisor||0)|0,Ue.state=1,E(Ue.size>=1&&Ue.size<=4,"size must be between 1 and 4"),E(Ue.offset>=0,"invalid offset"),E(Ue.stride>=0&&Ue.stride<=255,"stride must be between 0 and 255"),E(Ue.divisor>=0,"divisor must be positive"),E(!Ue.divisor||!!w.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in je?(E(_t>0,"first attribute must not be a constant"),Ue.x=+je.x||0,Ue.y=+je.y||0,Ue.z=+je.z||0,Ue.w=+je.w||0,Ue.state=2):E(!1,"invalid attribute spec for location "+_t)}for(var Vt=0;Vt<ie.buffers.length;++Vt)!$e[Vt]&&ie.buffers[Vt]&&(ie.buffers[Vt].destroy(),ie.buffers[Vt]=null);return ie.refresh(),Qe}return Qe.destroy=function(){for(var Ne=0;Ne<ie.buffers.length;++Ne)ie.buffers[Ne]&&ie.buffers[Ne].destroy();ie.buffers.length=0,ie.ownsElements&&(ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1),ie.destroy()},Qe._vao=ie,Qe._reglType="vao",Qe(ae)}return ke}var We=35632,et=35633,Ot=35718,tn=35721;function Qt(p,w,k,q){var oe={},Y={};function J(z,Z,_e,Ve){this.name=z,this.id=Z,this.location=_e,this.info=Ve}function me(z,Z){for(var _e=0;_e<z.length;++_e)if(z[_e].id===Z.id){z[_e].location=Z.location;return}z.push(Z)}function pe(z,Z,_e){var Ve=z===We?oe:Y,de=Ve[Z];if(!de){var Ge=w.str(Z);de=p.createShader(z),p.shaderSource(de,Ge),p.compileShader(de),E.shaderError(p,de,Ge,z,_e),Ve[Z]=de}return de}var Ee={},be=[],Se=0;function ke(z,Z){this.id=Se++,this.fragId=z,this.vertId=Z,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ge(z,Z,_e){var Ve,de,Ge=pe(We,z.fragId),Be=pe(et,z.vertId),ct=z.program=p.createProgram();if(p.attachShader(ct,Ge),p.attachShader(ct,Be),_e)for(Ve=0;Ve<_e.length;++Ve){var ae=_e[Ve];p.bindAttribLocation(ct,ae[0],ae[1])}p.linkProgram(ct),E.linkError(p,ct,w.str(z.fragId),w.str(z.vertId),Z);var ie=p.getProgramParameter(ct,Ot);q.profile&&(z.stats.uniformsCount=ie);var Qe=z.uniforms;for(Ve=0;Ve<ie;++Ve)if(de=p.getActiveUniform(ct,Ve),de){if(de.size>1)for(var Ne=0;Ne<de.size;++Ne){var xe=de.name.replace("[0]","["+Ne+"]");me(Qe,new J(xe,w.id(xe),p.getUniformLocation(ct,xe),de))}var Me=de.name;de.size>1&&(Me=Me.replace("[0]","")),me(Qe,new J(Me,w.id(Me),p.getUniformLocation(ct,Me),de))}var $e=p.getProgramParameter(ct,tn);q.profile&&(z.stats.attributesCount=$e);var St=z.attributes;for(Ve=0;Ve<$e;++Ve)de=p.getActiveAttrib(ct,Ve),de&&me(St,new J(de.name,w.id(de.name),p.getAttribLocation(ct,de.name),de))}q.profile&&(k.getMaxUniformsCount=function(){var z=0;return be.forEach(function(Z){Z.stats.uniformsCount>z&&(z=Z.stats.uniformsCount)}),z},k.getMaxAttributesCount=function(){var z=0;return be.forEach(function(Z){Z.stats.attributesCount>z&&(z=Z.stats.attributesCount)}),z});function we(){oe={},Y={};for(var z=0;z<be.length;++z)ge(be[z],null,be[z].attributes.map(function(Z){return[Z.location,Z.name]}))}return{clear:function(){var z=p.deleteShader.bind(p);br(oe).forEach(z),oe={},br(Y).forEach(z),Y={},be.forEach(function(Z){p.deleteProgram(Z.program)}),be.length=0,Ee={},k.shaderCount=0},program:function(z,Z,_e,Ve){E.command(z>=0,"missing vertex shader",_e),E.command(Z>=0,"missing fragment shader",_e);var de=Ee[Z];de||(de=Ee[Z]={});var Ge=de[z];if(Ge&&(Ge.refCount++,!Ve))return Ge;var Be=new ke(Z,z);return k.shaderCount++,ge(Be,_e,Ve),Ge||(de[z]=Be),be.push(Be),r(Be,{destroy:function(){if(Be.refCount--,Be.refCount<=0){p.deleteProgram(Be.program);var ct=be.indexOf(Be);be.splice(ct,1),k.shaderCount--}de[Be.vertId].refCount<=0&&(p.deleteShader(Y[Be.vertId]),delete Y[Be.vertId],delete Ee[Be.fragId][Be.vertId]),Object.keys(Ee[Be.fragId]).length||(p.deleteShader(oe[Be.fragId]),delete oe[Be.fragId],delete Ee[Be.fragId])}})},restore:we,shader:pe,frag:-1,vert:-1}}var Bn=6408,an=5121,Kt=3333,d0=5126;function D9(p,w,k,q,oe,Y,J){function me(be){var Se;w.next===null?(E(oe.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Se=an):(E(w.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Se=w.next.colorAttachments[0].texture._texture.type,E.optional(function(){Y.oes_texture_float?(E(Se===an||Se===d0,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Se===d0&&E(J.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):E(Se===an,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var ke=0,ge=0,we=q.framebufferWidth,z=q.framebufferHeight,Z=null;n(be)?Z=be:be&&(E.type(be,"object","invalid arguments to regl.read()"),ke=be.x|0,ge=be.y|0,E(ke>=0&&ke<q.framebufferWidth,"invalid x offset for regl.read"),E(ge>=0&&ge<q.framebufferHeight,"invalid y offset for regl.read"),we=(be.width||q.framebufferWidth-ke)|0,z=(be.height||q.framebufferHeight-ge)|0,Z=be.data||null),Z&&(Se===an?E(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Se===d0&&E(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),E(we>0&&we+ke<=q.framebufferWidth,"invalid width for read pixels"),E(z>0&&z+ge<=q.framebufferHeight,"invalid height for read pixels"),k();var _e=we*z*4;return Z||(Se===an?Z=new Uint8Array(_e):Se===d0&&(Z=Z||new Float32Array(_e))),E.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),E(Z.byteLength>=_e,"data buffer for regl.read() too small"),p.pixelStorei(Kt,4),p.readPixels(ke,ge,we,z,Bn,Se,Z),Z}function pe(be){var Se;return w.setFBO({framebuffer:be.framebuffer},function(){Se=me(be)}),Se}function Ee(be){return!be||!("framebuffer"in be)?me(be):pe(be)}return Ee}function Jl(p){return Array.prototype.slice.call(p)}function es(p){return Jl(p).join("")}function F9(){var p=0,w=[],k=[];function q(Se){for(var ke=0;ke<k.length;++ke)if(k[ke]===Se)return w[ke];var ge="g"+p++;return w.push(ge),k.push(Se),ge}function oe(){var Se=[];function ke(){Se.push.apply(Se,Jl(arguments))}var ge=[];function we(){var z="v"+p++;return ge.push(z),arguments.length>0&&(Se.push(z,"="),Se.push.apply(Se,Jl(arguments)),Se.push(";")),z}return r(ke,{def:we,toString:function(){return es([ge.length>0?"var "+ge.join(",")+";":"",es(Se)])}})}function Y(){var Se=oe(),ke=oe(),ge=Se.toString,we=ke.toString;function z(Z,_e){ke(Z,_e,"=",Se.def(Z,_e),";")}return r(function(){Se.apply(Se,Jl(arguments))},{def:Se.def,entry:Se,exit:ke,save:z,set:function(Z,_e,Ve){z(Z,_e),Se(Z,_e,"=",Ve,";")},toString:function(){return ge()+we()}})}function J(){var Se=es(arguments),ke=Y(),ge=Y(),we=ke.toString,z=ge.toString;return r(ke,{then:function(){return ke.apply(ke,Jl(arguments)),this},else:function(){return ge.apply(ge,Jl(arguments)),this},toString:function(){var Z=z();return Z&&(Z="else{"+Z+"}"),es(["if(",Se,"){",we(),"}",Z])}})}var me=oe(),pe={};function Ee(Se,ke){var ge=[];function we(){var de="a"+ge.length;return ge.push(de),de}ke=ke||0;for(var z=0;z<ke;++z)we();var Z=Y(),_e=Z.toString,Ve=pe[Se]=r(Z,{arg:we,toString:function(){return es(["function(",ge.join(),"){",_e(),"}"])}});return Ve}function be(){var Se=['"use strict";',me,"return {"];Object.keys(pe).forEach(function(we){Se.push('"',we,'":',pe[we].toString(),",")}),Se.push("}");var ke=es(Se).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ge=Function.apply(null,w.concat(ke));return ge.apply(null,k)}return{global:me,link:q,block:oe,proc:Ee,scope:Y,cond:J,compile:be}}var ts="xyzw".split(""),mg=5121,ns=1,Q1=2,K1=0,Z1=1,J1=2,ep=3,h0=4,vg=5,gg=6,yg="dither",xg="blend.enable",_g="blend.color",tp="blend.equation",np="blend.func",wg="depth.enable",Eg="depth.func",Sg="depth.range",bg="depth.mask",rp="colorMask",Ag="cull.enable",Tg="cull.face",ip="frontFace",op="lineWidth",Cg="polygonOffset.enable",ap="polygonOffset.offset",Lg="sample.alpha",Rg="sample.enable",lp="sample.coverage",Og="stencil.enable",kg="stencil.mask",sp="stencil.func",up="stencil.opFront",Iu="stencil.opBack",Pg="scissor.enable",p0="scissor.box",ho="viewport",Du="profile",Ua="framebuffer",Fu="vert",$u="frag",Va="elements",Ha="primitive",Wa="count",m0="offset",v0="instances",Bu="vao",cp="Width",fp="Height",rs=Ua+cp,is=Ua+fp,$9=ho+cp,B9=ho+fp,Ng="drawingBuffer",Mg=Ng+cp,Ig=Ng+fp,j9=[np,tp,sp,up,Iu,lp,ho,p0,ap],os=34962,dp=34963,z9=35632,G9=35633,Dg=3553,U9=34067,V9=2884,H9=3042,W9=3024,X9=2960,Y9=2929,q9=3089,Q9=32823,K9=32926,Z9=32928,hp=5126,g0=35664,y0=35665,x0=35666,pp=5124,_0=35667,w0=35668,E0=35669,mp=35670,S0=35671,b0=35672,A0=35673,ju=35674,zu=35675,Gu=35676,Uu=35678,Vu=35680,vp=4,Hu=1028,Xa=1029,Fg=2304,gp=2305,J9=32775,e7=32776,t7=519,Ho=7680,$g=0,Bg=1,jg=32774,n7=513,zg=36160,r7=36064,zi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gg=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],as={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Wo={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ug={frag:z9,vert:G9},yp={cw:Fg,ccw:gp};function T0(p){return Array.isArray(p)||n(p)||Pr(p)}function Vg(p){return p.sort(function(w,k){return w===ho?-1:k===ho?1:w<k?-1:1})}function Kn(p,w,k,q){this.thisDep=p,this.contextDep=w,this.propDep=k,this.append=q}function Xo(p){return p&&!(p.thisDep||p.contextDep||p.propDep)}function jn(p){return new Kn(!1,!1,!1,p)}function Nr(p,w){var k=p.type;if(k===K1){var q=p.data.length;return new Kn(!0,q>=1,q>=2,w)}else if(k===h0){var oe=p.data;return new Kn(oe.thisDep,oe.contextDep,oe.propDep,w)}else{if(k===vg)return new Kn(!1,!1,!1,w);if(k===gg){for(var Y=!1,J=!1,me=!1,pe=0;pe<p.data.length;++pe){var Ee=p.data[pe];if(Ee.type===Z1)me=!0;else if(Ee.type===J1)J=!0;else if(Ee.type===ep)Y=!0;else if(Ee.type===K1){Y=!0;var be=Ee.data;be>=1&&(J=!0),be>=2&&(me=!0)}else Ee.type===h0&&(Y=Y||Ee.data.thisDep,J=J||Ee.data.contextDep,me=me||Ee.data.propDep)}return new Kn(Y,J,me,w)}else return new Kn(k===ep,k===J1,k===Z1,w)}}var Hg=new Kn(!1,!1,!1,function(){});function i7(p,w,k,q,oe,Y,J,me,pe,Ee,be,Se,ke,ge,we){var z=Ee.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};k.ext_blend_minmax&&(Z.min=J9,Z.max=e7);var _e=k.angle_instanced_arrays,Ve=k.webgl_draw_buffers,de=k.oes_vertex_array_object,Ge={dirty:!0,profile:we.profile},Be={},ct=[],ae={},ie={};function Qe(b){return b.replace(".","_")}function Ne(b,x,N){var j=Qe(b);ct.push(b),Be[j]=Ge[j]=!!N,ae[j]=x}function xe(b,x,N){var j=Qe(b);ct.push(b),Array.isArray(N)?(Ge[j]=N.slice(),Be[j]=N.slice()):Ge[j]=Be[j]=N,ie[j]=x}Ne(yg,W9),Ne(xg,H9),xe(_g,"blendColor",[0,0,0,0]),xe(tp,"blendEquationSeparate",[jg,jg]),xe(np,"blendFuncSeparate",[Bg,$g,Bg,$g]),Ne(wg,Y9,!0),xe(Eg,"depthFunc",n7),xe(Sg,"depthRange",[0,1]),xe(bg,"depthMask",!0),xe(rp,rp,[!0,!0,!0,!0]),Ne(Ag,V9),xe(Tg,"cullFace",Xa),xe(ip,ip,gp),xe(op,op,1),Ne(Cg,Q9),xe(ap,"polygonOffset",[0,0]),Ne(Lg,K9),Ne(Rg,Z9),xe(lp,"sampleCoverage",[1,!1]),Ne(Og,X9),xe(kg,"stencilMask",-1),xe(sp,"stencilFunc",[t7,0,-1]),xe(up,"stencilOpSeparate",[Hu,Ho,Ho,Ho]),xe(Iu,"stencilOpSeparate",[Xa,Ho,Ho,Ho]),Ne(Pg,q9),xe(p0,"scissor",[0,0,p.drawingBufferWidth,p.drawingBufferHeight]),xe(ho,ho,[0,0,p.drawingBufferWidth,p.drawingBufferHeight]);var Me={gl:p,context:ke,strings:w,next:Be,current:Ge,draw:Se,elements:Y,buffer:oe,shader:be,attributes:Ee.state,vao:Ee,uniforms:pe,framebuffer:me,extensions:k,timer:ge,isBufferArgs:T0},$e={primTypes:$i,compareFuncs:as,blendFuncs:zi,blendEquations:Z,stencilOps:Wo,glTypes:Fo,orientationType:yp};E.optional(function(){Me.isArrayLike=vn}),Ve&&($e.backBuffer=[Xa],$e.drawBuffer=Ut(q.maxDrawbuffers,function(b){return b===0?[0]:Ut(b,function(x){return r7+x})}));var St=0;function _t(){var b=F9(),x=b.link,N=b.global;b.id=St++,b.batchId="0";var j=x(Me),G=b.shared={props:"a0"};Object.keys(Me).forEach(function(R){G[R]=N.def(j,".",R)}),E.optional(function(){b.CHECK=x(E),b.commandStr=E.guessCommand(),b.command=x(b.commandStr),b.assert=function(R,T,W){R("if(!(",T,"))",this.CHECK,".commandRaise(",x(W),",",this.command,");")},$e.invalidBlendCombinations=Gg});var D=b.next={},M=b.current={};Object.keys(ie).forEach(function(R){Array.isArray(Ge[R])&&(D[R]=N.def(G.next,".",R),M[R]=N.def(G.current,".",R))});var B=b.constants={};Object.keys($e).forEach(function(R){B[R]=N.def(JSON.stringify($e[R]))}),b.invoke=function(R,T){switch(T.type){case K1:var W=["this",G.context,G.props,b.batchId];return R.def(x(T.data),".call(",W.slice(0,Math.max(T.data.length+1,4)),")");case Z1:return R.def(G.props,T.data);case J1:return R.def(G.context,T.data);case ep:return R.def("this",T.data);case h0:return T.data.append(b,R),T.data.ref;case vg:return T.data.toString();case gg:return T.data.map(function(U){return b.invoke(R,U)})}},b.attribCache={};var A={};return b.scopeAttrib=function(R){var T=w.id(R);if(T in A)return A[T];var W=Ee.scope[T];W||(W=Ee.scope[T]=new z);var U=A[T]=x(W);return U},b}function je(b){var x=b.static,N=b.dynamic,j;if(Du in x){var G=!!x[Du];j=jn(function(M,B){return G}),j.enable=G}else if(Du in N){var D=N[Du];j=Nr(D,function(M,B){return M.invoke(B,D)})}return j}function Ue(b,x){var N=b.static,j=b.dynamic;if(Ua in N){var G=N[Ua];return G?(G=me.getFramebuffer(G),E.command(G,"invalid framebuffer object"),jn(function(M,B){var A=M.link(G),R=M.shared;B.set(R.framebuffer,".next",A);var T=R.context;return B.set(T,"."+rs,A+".width"),B.set(T,"."+is,A+".height"),A})):jn(function(M,B){var A=M.shared;B.set(A.framebuffer,".next","null");var R=A.context;return B.set(R,"."+rs,R+"."+Mg),B.set(R,"."+is,R+"."+Ig),"null"})}else if(Ua in j){var D=j[Ua];return Nr(D,function(M,B){var A=M.invoke(B,D),R=M.shared,T=R.framebuffer,W=B.def(T,".getFramebuffer(",A,")");E.optional(function(){M.assert(B,"!"+A+"||"+W,"invalid framebuffer object")}),B.set(T,".next",W);var U=R.context;return B.set(U,"."+rs,W+"?"+W+".width:"+U+"."+Mg),B.set(U,"."+is,W+"?"+W+".height:"+U+"."+Ig),W})}else return null}function pt(b,x,N){var j=b.static,G=b.dynamic;function D(A){if(A in j){var R=j[A];E.commandType(R,"object","invalid "+A,N.commandStr);var T=!0,W=R.x|0,U=R.y|0,re,le;return"width"in R?(re=R.width|0,E.command(re>=0,"invalid "+A,N.commandStr)):T=!1,"height"in R?(le=R.height|0,E.command(le>=0,"invalid "+A,N.commandStr)):T=!1,new Kn(!T&&x&&x.thisDep,!T&&x&&x.contextDep,!T&&x&&x.propDep,function(ut,Xe){var fe=ut.shared.context,ne=re;"width"in R||(ne=Xe.def(fe,".",rs,"-",W));var tt=le;return"height"in R||(tt=Xe.def(fe,".",is,"-",U)),[W,U,ne,tt]})}else if(A in G){var Ce=G[A],vt=Nr(Ce,function(ut,Xe){var fe=ut.invoke(Xe,Ce);E.optional(function(){ut.assert(Xe,fe+"&&typeof "+fe+'==="object"',"invalid "+A)});var ne=ut.shared.context,tt=Xe.def(fe,".x|0"),Ze=Xe.def(fe,".y|0"),mt=Xe.def('"width" in ',fe,"?",fe,".width|0:","(",ne,".",rs,"-",tt,")"),on=Xe.def('"height" in ',fe,"?",fe,".height|0:","(",ne,".",is,"-",Ze,")");return E.optional(function(){ut.assert(Xe,mt+">=0&&"+on+">=0","invalid "+A)}),[tt,Ze,mt,on]});return x&&(vt.thisDep=vt.thisDep||x.thisDep,vt.contextDep=vt.contextDep||x.contextDep,vt.propDep=vt.propDep||x.propDep),vt}else return x?new Kn(x.thisDep,x.contextDep,x.propDep,function(ut,Xe){var fe=ut.shared.context;return[0,0,Xe.def(fe,".",rs),Xe.def(fe,".",is)]}):null}var M=D(ho);if(M){var B=M;M=new Kn(M.thisDep,M.contextDep,M.propDep,function(A,R){var T=B.append(A,R),W=A.shared.context;return R.set(W,"."+$9,T[2]),R.set(W,"."+B9,T[3]),T})}return{viewport:M,scissor_box:D(p0)}}function bt(b,x){var N=b.static,j=typeof N[$u]=="string"&&typeof N[Fu]=="string";if(j){if(Object.keys(x.dynamic).length>0)return null;var G=x.static,D=Object.keys(G);if(D.length>0&&typeof G[D[0]]=="number"){for(var M=[],B=0;B<D.length;++B)E(typeof G[D[B]]=="number","must specify all vertex attribute locations when using vaos"),M.push([G[D[B]]|0,D[B]]);return M}}return null}function Vt(b,x,N){var j=b.static,G=b.dynamic;function D(T){if(T in j){var W=w.id(j[T]);E.optional(function(){be.shader(Ug[T],W,E.guessCommand())});var U=jn(function(){return W});return U.id=W,U}else if(T in G){var re=G[T];return Nr(re,function(le,Ce){var vt=le.invoke(Ce,re),ut=Ce.def(le.shared.strings,".id(",vt,")");return E.optional(function(){Ce(le.shared.shader,".shader(",Ug[T],",",ut,",",le.command,");")}),ut})}return null}var M=D($u),B=D(Fu),A=null,R;return Xo(M)&&Xo(B)?(A=be.program(B.id,M.id,null,N),R=jn(function(T,W){return T.link(A)})):R=new Kn(M&&M.thisDep||B&&B.thisDep,M&&M.contextDep||B&&B.contextDep,M&&M.propDep||B&&B.propDep,function(T,W){var U=T.shared.shader,re;M?re=M.append(T,W):re=W.def(U,".",$u);var le;B?le=B.append(T,W):le=W.def(U,".",Fu);var Ce=U+".program("+le+","+re;return E.optional(function(){Ce+=","+T.command}),W.def(Ce+")")}),{frag:M,vert:B,progVar:R,program:A}}function xn(b,x){var N=b.static,j=b.dynamic,G={},D=!1;function M(){if(Bu in N){var Xe=N[Bu];return Xe!==null&&Ee.getVAO(Xe)===null&&(Xe=Ee.createVAO(Xe)),D=!0,G.vao=Xe,jn(function(ne){var tt=Ee.getVAO(Xe);return tt?ne.link(tt):"null"})}else if(Bu in j){D=!0;var fe=j[Bu];return Nr(fe,function(ne,tt){var Ze=ne.invoke(tt,fe);return tt.def(ne.shared.vao+".getVAO("+Ze+")")})}return null}var B=M(),A=!1;function R(){if(Va in N){var Xe=N[Va];if(G.elements=Xe,T0(Xe)){var fe=G.elements=Y.create(Xe,!0);Xe=Y.getElements(fe),A=!0}else Xe&&(Xe=Y.getElements(Xe),A=!0,E.command(Xe,"invalid elements",x.commandStr));var ne=jn(function(Ze,mt){if(Xe){var on=Ze.link(Xe);return Ze.ELEMENTS=on,on}return Ze.ELEMENTS=null,null});return ne.value=Xe,ne}else if(Va in j){A=!0;var tt=j[Va];return Nr(tt,function(Ze,mt){var on=Ze.shared,fr=on.isBufferArgs,qa=on.elements,po=Ze.invoke(mt,tt),Ui=mt.def("null"),Yo=mt.def(fr,"(",po,")"),Qa=Ze.cond(Yo).then(Ui,"=",qa,".createStream(",po,");").else(Ui,"=",qa,".getElements(",po,");");return E.optional(function(){Ze.assert(Qa.else,"!"+po+"||"+Ui,"invalid elements")}),mt.entry(Qa),mt.exit(Ze.cond(Yo).then(qa,".destroyStream(",Ui,");")),Ze.ELEMENTS=Ui,Ui})}else if(D)return new Kn(B.thisDep,B.contextDep,B.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.elements+".getElements("+Ze.shared.vao+".currentVAO.elements):null")});return null}var T=R();function W(){if(Ha in N){var Xe=N[Ha];return G.primitive=Xe,E.commandParameter(Xe,$i,"invalid primitve",x.commandStr),jn(function(ne,tt){return $i[Xe]})}else if(Ha in j){var fe=j[Ha];return Nr(fe,function(ne,tt){var Ze=ne.constants.primTypes,mt=ne.invoke(tt,fe);return E.optional(function(){ne.assert(tt,mt+" in "+Ze,"invalid primitive, must be one of "+Object.keys($i))}),tt.def(Ze,"[",mt,"]")})}else{if(A)return Xo(T)?T.value?jn(function(ne,tt){return tt.def(ne.ELEMENTS,".primType")}):jn(function(){return vp}):new Kn(T.thisDep,T.contextDep,T.propDep,function(ne,tt){var Ze=ne.ELEMENTS;return tt.def(Ze,"?",Ze,".primType:",vp)});if(D)return new Kn(B.thisDep,B.contextDep,B.propDep,function(ne,tt){return tt.def(ne.shared.vao+".currentVAO?"+ne.shared.vao+".currentVAO.primitive:"+vp)})}return null}function U(Xe,fe){if(Xe in N){var ne=N[Xe]|0;return fe?G.offset=ne:G.instances=ne,E.command(!fe||ne>=0,"invalid "+Xe,x.commandStr),jn(function(Ze,mt){return fe&&(Ze.OFFSET=ne),ne})}else if(Xe in j){var tt=j[Xe];return Nr(tt,function(Ze,mt){var on=Ze.invoke(mt,tt);return fe&&(Ze.OFFSET=on,E.optional(function(){Ze.assert(mt,on+">=0","invalid "+Xe)})),on})}else if(fe){if(A)return jn(function(Ze,mt){return Ze.OFFSET=0,0});if(D)return new Kn(B.thisDep,B.contextDep,B.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.vao+".currentVAO.offset:0")})}else if(D)return new Kn(B.thisDep,B.contextDep,B.propDep,function(Ze,mt){return mt.def(Ze.shared.vao+".currentVAO?"+Ze.shared.vao+".currentVAO.instances:-1")});return null}var re=U(m0,!0);function le(){if(Wa in N){var Xe=N[Wa]|0;return G.count=Xe,E.command(typeof Xe=="number"&&Xe>=0,"invalid vertex count",x.commandStr),jn(function(){return Xe})}else if(Wa in j){var fe=j[Wa];return Nr(fe,function(mt,on){var fr=mt.invoke(on,fe);return E.optional(function(){mt.assert(on,"typeof "+fr+'==="number"&&'+fr+">=0&&"+fr+"===("+fr+"|0)","invalid vertex count")}),fr})}else if(A)if(Xo(T)){if(T)return re?new Kn(re.thisDep,re.contextDep,re.propDep,function(mt,on){var fr=on.def(mt.ELEMENTS,".vertCount-",mt.OFFSET);return E.optional(function(){mt.assert(on,fr+">=0","invalid vertex offset/element buffer too small")}),fr}):jn(function(mt,on){return on.def(mt.ELEMENTS,".vertCount")});var ne=jn(function(){return-1});return E.optional(function(){ne.MISSING=!0}),ne}else{var tt=new Kn(T.thisDep||re.thisDep,T.contextDep||re.contextDep,T.propDep||re.propDep,function(mt,on){var fr=mt.ELEMENTS;return mt.OFFSET?on.def(fr,"?",fr,".vertCount-",mt.OFFSET,":-1"):on.def(fr,"?",fr,".vertCount:-1")});return E.optional(function(){tt.DYNAMIC=!0}),tt}else if(D){var Ze=new Kn(B.thisDep,B.contextDep,B.propDep,function(mt,on){return on.def(mt.shared.vao,".currentVAO?",mt.shared.vao,".currentVAO.count:-1")});return Ze}return null}var Ce=W(),vt=le(),ut=U(v0,!1);return{elements:T,primitive:Ce,count:vt,instances:ut,offset:re,vao:B,vaoActive:D,elementsActive:A,static:G}}function En(b,x){var N=b.static,j=b.dynamic,G={};return ct.forEach(function(D){var M=Qe(D);function B(A,R){if(D in N){var T=A(N[D]);G[M]=jn(function(){return T})}else if(D in j){var W=j[D];G[M]=Nr(W,function(U,re){return R(U,re,U.invoke(re,W))})}}switch(D){case Ag:case xg:case yg:case Og:case wg:case Pg:case Cg:case Lg:case Rg:case bg:return B(function(A){return E.commandType(A,"boolean",D,x.commandStr),A},function(A,R,T){return E.optional(function(){A.assert(R,"typeof "+T+'==="boolean"',"invalid flag "+D,A.commandStr)}),T});case Eg:return B(function(A){return E.commandParameter(A,as,"invalid "+D,x.commandStr),as[A]},function(A,R,T){var W=A.constants.compareFuncs;return E.optional(function(){A.assert(R,T+" in "+W,"invalid "+D+", must be one of "+Object.keys(as))}),R.def(W,"[",T,"]")});case Sg:return B(function(A){return E.command(vn(A)&&A.length===2&&typeof A[0]=="number"&&typeof A[1]=="number"&&A[0]<=A[1],"depth range is 2d array",x.commandStr),A},function(A,R,T){E.optional(function(){A.assert(R,A.shared.isArrayLike+"("+T+")&&"+T+".length===2&&typeof "+T+'[0]==="number"&&typeof '+T+'[1]==="number"&&'+T+"[0]<="+T+"[1]","depth range must be a 2d array")});var W=R.def("+",T,"[0]"),U=R.def("+",T,"[1]");return[W,U]});case np:return B(function(A){E.commandType(A,"object","blend.func",x.commandStr);var R="srcRGB"in A?A.srcRGB:A.src,T="srcAlpha"in A?A.srcAlpha:A.src,W="dstRGB"in A?A.dstRGB:A.dst,U="dstAlpha"in A?A.dstAlpha:A.dst;return E.commandParameter(R,zi,M+".srcRGB",x.commandStr),E.commandParameter(T,zi,M+".srcAlpha",x.commandStr),E.commandParameter(W,zi,M+".dstRGB",x.commandStr),E.commandParameter(U,zi,M+".dstAlpha",x.commandStr),E.command(Gg.indexOf(R+", "+W)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+R+", "+W+")",x.commandStr),[zi[R],zi[W],zi[T],zi[U]]},function(A,R,T){var W=A.constants.blendFuncs;E.optional(function(){A.assert(R,T+"&&typeof "+T+'==="object"',"invalid blend func, must be an object")});function U(fe,ne){var tt=R.def('"',fe,ne,'" in ',T,"?",T,".",fe,ne,":",T,".",fe);return E.optional(function(){A.assert(R,tt+" in "+W,"invalid "+D+"."+fe+ne+", must be one of "+Object.keys(zi))}),tt}var re=U("src","RGB"),le=U("dst","RGB");E.optional(function(){var fe=A.constants.invalidBlendCombinations;A.assert(R,fe+".indexOf("+re+'+", "+'+le+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ce=R.def(W,"[",re,"]"),vt=R.def(W,"[",U("src","Alpha"),"]"),ut=R.def(W,"[",le,"]"),Xe=R.def(W,"[",U("dst","Alpha"),"]");return[Ce,ut,vt,Xe]});case tp:return B(function(A){if(typeof A=="string")return E.commandParameter(A,Z,"invalid "+D,x.commandStr),[Z[A],Z[A]];if(typeof A=="object")return E.commandParameter(A.rgb,Z,D+".rgb",x.commandStr),E.commandParameter(A.alpha,Z,D+".alpha",x.commandStr),[Z[A.rgb],Z[A.alpha]];E.commandRaise("invalid blend.equation",x.commandStr)},function(A,R,T){var W=A.constants.blendEquations,U=R.def(),re=R.def(),le=A.cond("typeof ",T,'==="string"');return E.optional(function(){function Ce(vt,ut,Xe){A.assert(vt,Xe+" in "+W,"invalid "+ut+", must be one of "+Object.keys(Z))}Ce(le.then,D,T),A.assert(le.else,T+"&&typeof "+T+'==="object"',"invalid "+D),Ce(le.else,D+".rgb",T+".rgb"),Ce(le.else,D+".alpha",T+".alpha")}),le.then(U,"=",re,"=",W,"[",T,"];"),le.else(U,"=",W,"[",T,".rgb];",re,"=",W,"[",T,".alpha];"),R(le),[U,re]});case _g:return B(function(A){return E.command(vn(A)&&A.length===4,"blend.color must be a 4d array",x.commandStr),Ut(4,function(R){return+A[R]})},function(A,R,T){return E.optional(function(){A.assert(R,A.shared.isArrayLike+"("+T+")&&"+T+".length===4","blend.color must be a 4d array")}),Ut(4,function(W){return R.def("+",T,"[",W,"]")})});case kg:return B(function(A){return E.commandType(A,"number",M,x.commandStr),A|0},function(A,R,T){return E.optional(function(){A.assert(R,"typeof "+T+'==="number"',"invalid stencil.mask")}),R.def(T,"|0")});case sp:return B(function(A){E.commandType(A,"object",M,x.commandStr);var R=A.cmp||"keep",T=A.ref||0,W="mask"in A?A.mask:-1;return E.commandParameter(R,as,D+".cmp",x.commandStr),E.commandType(T,"number",D+".ref",x.commandStr),E.commandType(W,"number",D+".mask",x.commandStr),[as[R],T,W]},function(A,R,T){var W=A.constants.compareFuncs;E.optional(function(){function Ce(){A.assert(R,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ce(T+"&&typeof ",T,'==="object"'),Ce('!("cmp" in ',T,")||(",T,".cmp in ",W,")")});var U=R.def('"cmp" in ',T,"?",W,"[",T,".cmp]",":",Ho),re=R.def(T,".ref|0"),le=R.def('"mask" in ',T,"?",T,".mask|0:-1");return[U,re,le]});case up:case Iu:return B(function(A){E.commandType(A,"object",M,x.commandStr);var R=A.fail||"keep",T=A.zfail||"keep",W=A.zpass||"keep";return E.commandParameter(R,Wo,D+".fail",x.commandStr),E.commandParameter(T,Wo,D+".zfail",x.commandStr),E.commandParameter(W,Wo,D+".zpass",x.commandStr),[D===Iu?Xa:Hu,Wo[R],Wo[T],Wo[W]]},function(A,R,T){var W=A.constants.stencilOps;E.optional(function(){A.assert(R,T+"&&typeof "+T+'==="object"',"invalid "+D)});function U(re){return E.optional(function(){A.assert(R,'!("'+re+'" in '+T+")||("+T+"."+re+" in "+W+")","invalid "+D+"."+re+", must be one of "+Object.keys(Wo))}),R.def('"',re,'" in ',T,"?",W,"[",T,".",re,"]:",Ho)}return[D===Iu?Xa:Hu,U("fail"),U("zfail"),U("zpass")]});case ap:return B(function(A){E.commandType(A,"object",M,x.commandStr);var R=A.factor|0,T=A.units|0;return E.commandType(R,"number",M+".factor",x.commandStr),E.commandType(T,"number",M+".units",x.commandStr),[R,T]},function(A,R,T){E.optional(function(){A.assert(R,T+"&&typeof "+T+'==="object"',"invalid "+D)});var W=R.def(T,".factor|0"),U=R.def(T,".units|0");return[W,U]});case Tg:return B(function(A){var R=0;return A==="front"?R=Hu:A==="back"&&(R=Xa),E.command(!!R,M,x.commandStr),R},function(A,R,T){return E.optional(function(){A.assert(R,T+'==="front"||'+T+'==="back"',"invalid cull.face")}),R.def(T,'==="front"?',Hu,":",Xa)});case op:return B(function(A){return E.command(typeof A=="number"&&A>=q.lineWidthDims[0]&&A<=q.lineWidthDims[1],"invalid line width, must be a positive number between "+q.lineWidthDims[0]+" and "+q.lineWidthDims[1],x.commandStr),A},function(A,R,T){return E.optional(function(){A.assert(R,"typeof "+T+'==="number"&&'+T+">="+q.lineWidthDims[0]+"&&"+T+"<="+q.lineWidthDims[1],"invalid line width")}),T});case ip:return B(function(A){return E.commandParameter(A,yp,M,x.commandStr),yp[A]},function(A,R,T){return E.optional(function(){A.assert(R,T+'==="cw"||'+T+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),R.def(T+'==="cw"?'+Fg+":"+gp)});case rp:return B(function(A){return E.command(vn(A)&&A.length===4,"color.mask must be length 4 array",x.commandStr),A.map(function(R){return!!R})},function(A,R,T){return E.optional(function(){A.assert(R,A.shared.isArrayLike+"("+T+")&&"+T+".length===4","invalid color.mask")}),Ut(4,function(W){return"!!"+T+"["+W+"]"})});case lp:return B(function(A){E.command(typeof A=="object"&&A,M,x.commandStr);var R="value"in A?A.value:1,T=!!A.invert;return E.command(typeof R=="number"&&R>=0&&R<=1,"sample.coverage.value must be a number between 0 and 1",x.commandStr),[R,T]},function(A,R,T){E.optional(function(){A.assert(R,T+"&&typeof "+T+'==="object"',"invalid sample.coverage")});var W=R.def('"value" in ',T,"?+",T,".value:1"),U=R.def("!!",T,".invert");return[W,U]})}}),G}function Xt(b,x){var N=b.static,j=b.dynamic,G={};return Object.keys(N).forEach(function(D){var M=N[D],B;if(typeof M=="number"||typeof M=="boolean")B=jn(function(){return M});else if(typeof M=="function"){var A=M._reglType;A==="texture2d"||A==="textureCube"?B=jn(function(R){return R.link(M)}):A==="framebuffer"||A==="framebufferCube"?(E.command(M.color.length>0,'missing color attachment for framebuffer sent to uniform "'+D+'"',x.commandStr),B=jn(function(R){return R.link(M.color[0])})):E.commandRaise('invalid data for uniform "'+D+'"',x.commandStr)}else vn(M)?B=jn(function(R){var T=R.global.def("[",Ut(M.length,function(W){return E.command(typeof M[W]=="number"||typeof M[W]=="boolean","invalid uniform "+D,R.commandStr),M[W]}),"]");return T}):E.commandRaise('invalid or missing data for uniform "'+D+'"',x.commandStr);B.value=M,G[D]=B}),Object.keys(j).forEach(function(D){var M=j[D];G[D]=Nr(M,function(B,A){return B.invoke(A,M)})}),G}function Hn(b,x){var N=b.static,j=b.dynamic,G={};return Object.keys(N).forEach(function(D){var M=N[D],B=w.id(D),A=new z;if(T0(M))A.state=ns,A.buffer=oe.getBuffer(oe.create(M,os,!1,!0)),A.type=0;else{var R=oe.getBuffer(M);if(R)A.state=ns,A.buffer=R,A.type=0;else if(E.command(typeof M=="object"&&M,"invalid data for attribute "+D,x.commandStr),"constant"in M){var T=M.constant;A.buffer="null",A.state=Q1,typeof T=="number"?A.x=T:(E.command(vn(T)&&T.length>0&&T.length<=4,"invalid constant for attribute "+D,x.commandStr),ts.forEach(function(ut,Xe){Xe<T.length&&(A[ut]=T[Xe])}))}else{T0(M.buffer)?R=oe.getBuffer(oe.create(M.buffer,os,!1,!0)):R=oe.getBuffer(M.buffer),E.command(!!R,'missing buffer for attribute "'+D+'"',x.commandStr);var W=M.offset|0;E.command(W>=0,'invalid offset for attribute "'+D+'"',x.commandStr);var U=M.stride|0;E.command(U>=0&&U<256,'invalid stride for attribute "'+D+'", must be integer betweeen [0, 255]',x.commandStr);var re=M.size|0;E.command(!("size"in M)||re>0&&re<=4,'invalid size for attribute "'+D+'", must be 1,2,3,4',x.commandStr);var le=!!M.normalized,Ce=0;"type"in M&&(E.commandParameter(M.type,Fo,"invalid type for attribute "+D,x.commandStr),Ce=Fo[M.type]);var vt=M.divisor|0;E.optional(function(){"divisor"in M&&(E.command(vt===0||_e,'cannot specify divisor for attribute "'+D+'", instancing not supported',x.commandStr),E.command(vt>=0,'invalid divisor for attribute "'+D+'"',x.commandStr));var ut=x.commandStr,Xe=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(M).forEach(function(fe){E.command(Xe.indexOf(fe)>=0,'unknown parameter "'+fe+'" for attribute pointer "'+D+'" (valid parameters are '+Xe+")",ut)})}),A.buffer=R,A.state=ns,A.size=re,A.normalized=le,A.type=Ce||R.dtype,A.offset=W,A.stride=U,A.divisor=vt}}G[D]=jn(function(ut,Xe){var fe=ut.attribCache;if(B in fe)return fe[B];var ne={isStream:!1};return Object.keys(A).forEach(function(tt){ne[tt]=A[tt]}),A.buffer&&(ne.buffer=ut.link(A.buffer),ne.type=ne.type||ne.buffer+".dtype"),fe[B]=ne,ne})}),Object.keys(j).forEach(function(D){var M=j[D];function B(A,R){var T=A.invoke(R,M),W=A.shared,U=A.constants,re=W.isBufferArgs,le=W.buffer;E.optional(function(){A.assert(R,T+"&&(typeof "+T+'==="object"||typeof '+T+'==="function")&&('+re+"("+T+")||"+le+".getBuffer("+T+")||"+le+".getBuffer("+T+".buffer)||"+re+"("+T+'.buffer)||("constant" in '+T+"&&(typeof "+T+'.constant==="number"||'+W.isArrayLike+"("+T+".constant))))",'invalid dynamic attribute "'+D+'"')});var Ce={isStream:R.def(!1)},vt=new z;vt.state=ns,Object.keys(vt).forEach(function(ne){Ce[ne]=R.def(""+vt[ne])});var ut=Ce.buffer,Xe=Ce.type;R("if(",re,"(",T,")){",Ce.isStream,"=true;",ut,"=",le,".createStream(",os,",",T,");",Xe,"=",ut,".dtype;","}else{",ut,"=",le,".getBuffer(",T,");","if(",ut,"){",Xe,"=",ut,".dtype;",'}else if("constant" in ',T,"){",Ce.state,"=",Q1,";","if(typeof "+T+'.constant === "number"){',Ce[ts[0]],"=",T,".constant;",ts.slice(1).map(function(ne){return Ce[ne]}).join("="),"=0;","}else{",ts.map(function(ne,tt){return Ce[ne]+"="+T+".constant.length>"+tt+"?"+T+".constant["+tt+"]:0;"}).join(""),"}}else{","if(",re,"(",T,".buffer)){",ut,"=",le,".createStream(",os,",",T,".buffer);","}else{",ut,"=",le,".getBuffer(",T,".buffer);","}",Xe,'="type" in ',T,"?",U.glTypes,"[",T,".type]:",ut,".dtype;",Ce.normalized,"=!!",T,".normalized;");function fe(ne){R(Ce[ne],"=",T,".",ne,"|0;")}return fe("size"),fe("offset"),fe("stride"),fe("divisor"),R("}}"),R.exit("if(",Ce.isStream,"){",le,".destroyStream(",ut,");","}"),Ce}G[D]=Nr(M,B)}),G}function gn(b){var x=b.static,N=b.dynamic,j={};return Object.keys(x).forEach(function(G){var D=x[G];j[G]=jn(function(M,B){return typeof D=="number"||typeof D=="boolean"?""+D:M.link(D)})}),Object.keys(N).forEach(function(G){var D=N[G];j[G]=Nr(D,function(M,B){return M.invoke(B,D)})}),j}function zn(b,x,N,j,G){var D=b.static,M=b.dynamic;E.optional(function(){var fe=[Ua,Fu,$u,Va,Ha,m0,Wa,v0,Du,Bu].concat(ct);function ne(tt){Object.keys(tt).forEach(function(Ze){E.command(fe.indexOf(Ze)>=0,'unknown parameter "'+Ze+'"',G.commandStr)})}ne(D),ne(M)});var B=bt(b,x),A=Ue(b),R=pt(b,A,G),T=xn(b,G),W=En(b,G),U=Vt(b,G,B);function re(fe){var ne=R[fe];ne&&(W[fe]=ne)}re(ho),re(Qe(p0));var le=Object.keys(W).length>0,Ce={framebuffer:A,draw:T,shader:U,state:W,dirty:le,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ce.profile=je(b),Ce.uniforms=Xt(N,G),Ce.drawVAO=Ce.scopeVAO=T.vao,!Ce.drawVAO&&U.program&&!B&&k.angle_instanced_arrays&&T.static.elements){var vt=!0,ut=U.program.attributes.map(function(fe){var ne=x.static[fe];return vt=vt&&!!ne,ne});if(vt&&ut.length>0){var Xe=Ee.getVAO(Ee.createVAO({attributes:ut,elements:T.static.elements}));Ce.drawVAO=new Kn(null,null,null,function(fe,ne){return fe.link(Xe)}),Ce.useVAO=!0}}return B?Ce.useVAO=!0:Ce.attributes=Hn(x,G),Ce.context=gn(j),Ce}function Wn(b,x,N){var j=b.shared,G=j.context,D=b.scope();Object.keys(N).forEach(function(M){x.save(G,"."+M);var B=N[M],A=B.append(b,x);Array.isArray(A)?D(G,".",M,"=[",A.join(),"];"):D(G,".",M,"=",A,";")}),x(D)}function Xn(b,x,N,j){var G=b.shared,D=G.gl,M=G.framebuffer,B;Ve&&(B=x.def(G.extensions,".webgl_draw_buffers"));var A=b.constants,R=A.drawBuffer,T=A.backBuffer,W;N?W=N.append(b,x):W=x.def(M,".next"),j||x("if(",W,"!==",M,".cur){"),x("if(",W,"){",D,".bindFramebuffer(",zg,",",W,".framebuffer);"),Ve&&x(B,".drawBuffersWEBGL(",R,"[",W,".colorAttachments.length]);"),x("}else{",D,".bindFramebuffer(",zg,",null);"),Ve&&x(B,".drawBuffersWEBGL(",T,");"),x("}",M,".cur=",W,";"),j||x("}")}function rr(b,x,N){var j=b.shared,G=j.gl,D=b.current,M=b.next,B=j.current,A=j.next,R=b.cond(B,".dirty");ct.forEach(function(T){var W=Qe(T);if(!(W in N.state)){var U,re;if(W in M){U=M[W],re=D[W];var le=Ut(Ge[W].length,function(vt){return R.def(U,"[",vt,"]")});R(b.cond(le.map(function(vt,ut){return vt+"!=="+re+"["+ut+"]"}).join("||")).then(G,".",ie[W],"(",le,");",le.map(function(vt,ut){return re+"["+ut+"]="+vt}).join(";"),";"))}else{U=R.def(A,".",W);var Ce=b.cond(U,"!==",B,".",W);R(Ce),W in ae?Ce(b.cond(U).then(G,".enable(",ae[W],");").else(G,".disable(",ae[W],");"),B,".",W,"=",U,";"):Ce(G,".",ie[W],"(",U,");",B,".",W,"=",U,";")}}}),Object.keys(N.state).length===0&&R(B,".dirty=false;"),x(R)}function ur(b,x,N,j){var G=b.shared,D=b.current,M=G.current,B=G.gl;Vg(Object.keys(N)).forEach(function(A){var R=N[A];if(!(j&&!j(R))){var T=R.append(b,x);if(ae[A]){var W=ae[A];Xo(R)?T?x(B,".enable(",W,");"):x(B,".disable(",W,");"):x(b.cond(T).then(B,".enable(",W,");").else(B,".disable(",W,");")),x(M,".",A,"=",T,";")}else if(vn(T)){var U=D[A];x(B,".",ie[A],"(",T,");",T.map(function(re,le){return U+"["+le+"]="+re}).join(";"),";")}else x(B,".",ie[A],"(",T,");",M,".",A,"=",T,";")}})}function kn(b,x){_e&&(b.instancing=x.def(b.shared.extensions,".angle_instanced_arrays"))}function Mt(b,x,N,j,G){var D=b.shared,M=b.stats,B=D.current,A=D.timer,R=N.profile;function T(){return typeof performance>"u"?"Date.now()":"performance.now()"}var W,U;function re(fe){W=x.def(),fe(W,"=",T(),";"),typeof G=="string"?fe(M,".count+=",G,";"):fe(M,".count++;"),ge&&(j?(U=x.def(),fe(U,"=",A,".getNumPendingQueries();")):fe(A,".beginQuery(",M,");"))}function le(fe){fe(M,".cpuTime+=",T(),"-",W,";"),ge&&(j?fe(A,".pushScopeStats(",U,",",A,".getNumPendingQueries(),",M,");"):fe(A,".endQuery();"))}function Ce(fe){var ne=x.def(B,".profile");x(B,".profile=",fe,";"),x.exit(B,".profile=",ne,";")}var vt;if(R){if(Xo(R)){R.enable?(re(x),le(x.exit),Ce("true")):Ce("false");return}vt=R.append(b,x),Ce(vt)}else vt=x.def(B,".profile");var ut=b.block();re(ut),x("if(",vt,"){",ut,"}");var Xe=b.block();le(Xe),x.exit("if(",vt,"){",Xe,"}")}function cr(b,x,N,j,G){var D=b.shared;function M(A){switch(A){case g0:case _0:case S0:return 2;case y0:case w0:case b0:return 3;case x0:case E0:case A0:return 4;default:return 1}}function B(A,R,T){var W=D.gl,U=x.def(A,".location"),re=x.def(D.attributes,"[",U,"]"),le=T.state,Ce=T.buffer,vt=[T.x,T.y,T.z,T.w],ut=["buffer","normalized","offset","stride"];function Xe(){x("if(!",re,".buffer){",W,".enableVertexAttribArray(",U,");}");var ne=T.type,tt;if(T.size?tt=x.def(T.size,"||",R):tt=R,x("if(",re,".type!==",ne,"||",re,".size!==",tt,"||",ut.map(function(mt){return re+"."+mt+"!=="+T[mt]}).join("||"),"){",W,".bindBuffer(",os,",",Ce,".buffer);",W,".vertexAttribPointer(",[U,tt,ne,T.normalized,T.stride,T.offset],");",re,".type=",ne,";",re,".size=",tt,";",ut.map(function(mt){return re+"."+mt+"="+T[mt]+";"}).join(""),"}"),_e){var Ze=T.divisor;x("if(",re,".divisor!==",Ze,"){",b.instancing,".vertexAttribDivisorANGLE(",[U,Ze],");",re,".divisor=",Ze,";}")}}function fe(){x("if(",re,".buffer){",W,".disableVertexAttribArray(",U,");",re,".buffer=null;","}if(",ts.map(function(ne,tt){return re+"."+ne+"!=="+vt[tt]}).join("||"),"){",W,".vertexAttrib4f(",U,",",vt,");",ts.map(function(ne,tt){return re+"."+ne+"="+vt[tt]+";"}).join(""),"}")}le===ns?Xe():le===Q1?fe():(x("if(",le,"===",ns,"){"),Xe(),x("}else{"),fe(),x("}"))}j.forEach(function(A){var R=A.name,T=N.attributes[R],W;if(T){if(!G(T))return;W=T.append(b,x)}else{if(!G(Hg))return;var U=b.scopeAttrib(R);E.optional(function(){b.assert(x,U+".state","missing attribute "+R)}),W={},Object.keys(new z).forEach(function(re){W[re]=x.def(U,".",re)})}B(b.link(A),M(A.info.type),W)})}function nn(b,x,N,j,G,D){for(var M=b.shared,B=M.gl,A={},R,T=0;T<j.length;++T){var W=j[T],U=W.name,re=W.info.type,le=W.info.size,Ce=N.uniforms[U];if(le>1){if(!Ce)continue;var vt=U.replace("[0]","");if(A[vt])continue;A[vt]=1}var ut=b.link(W),Xe=ut+".location",fe;if(Ce){if(!G(Ce))continue;if(Xo(Ce)){var ne=Ce.value;if(E.command(ne!==null&&typeof ne<"u",'missing uniform "'+U+'"',b.commandStr),re===Uu||re===Vu){E.command(typeof ne=="function"&&(re===Uu&&(ne._reglType==="texture2d"||ne._reglType==="framebuffer")||re===Vu&&(ne._reglType==="textureCube"||ne._reglType==="framebufferCube")),"invalid texture for uniform "+U,b.commandStr);var tt=b.link(ne._texture||ne.color[0]._texture);x(B,".uniform1i(",Xe,",",tt+".bind());"),x.exit(tt,".unbind();")}else if(re===ju||re===zu||re===Gu){E.optional(function(){E.command(vn(ne),"invalid matrix for uniform "+U,b.commandStr),E.command(re===ju&&ne.length===4||re===zu&&ne.length===9||re===Gu&&ne.length===16,"invalid length for matrix uniform "+U,b.commandStr)});var Ze=b.global.def("new Float32Array(["+Array.prototype.slice.call(ne)+"])"),mt=2;re===zu?mt=3:re===Gu&&(mt=4),x(B,".uniformMatrix",mt,"fv(",Xe,",false,",Ze,");")}else{switch(re){case hp:le===1?E.commandType(ne,"number","uniform "+U,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+U,b.commandStr),R="1f";break;case g0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+U,b.commandStr),R="2f";break;case y0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+U,b.commandStr),R="3f";break;case x0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+U,b.commandStr),R="4f";break;case mp:le===1?E.commandType(ne,"boolean","uniform "+U,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+U,b.commandStr),R="1i";break;case pp:le===1?E.commandType(ne,"number","uniform "+U,b.commandStr):E.command(vn(ne)&&ne.length===le,"uniform "+U,b.commandStr),R="1i";break;case S0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+U,b.commandStr),R="2i";break;case _0:E.command(vn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+U,b.commandStr),R="2i";break;case b0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+U,b.commandStr),R="3i";break;case w0:E.command(vn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+U,b.commandStr),R="3i";break;case A0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+U,b.commandStr),R="4i";break;case E0:E.command(vn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+U,b.commandStr),R="4i";break}le>1?(R+="v",ne=b.global.def("["+Array.prototype.slice.call(ne)+"]")):ne=vn(ne)?Array.prototype.slice.call(ne):ne,x(B,".uniform",R,"(",Xe,",",ne,");")}continue}else fe=Ce.append(b,x)}else{if(!G(Hg))continue;fe=x.def(M.uniforms,"[",w.id(U),"]")}re===Uu?(E(!Array.isArray(fe),"must specify a scalar prop for textures"),x("if(",fe,"&&",fe,'._reglType==="framebuffer"){',fe,"=",fe,".color[0];","}")):re===Vu&&(E(!Array.isArray(fe),"must specify a scalar prop for cube maps"),x("if(",fe,"&&",fe,'._reglType==="framebufferCube"){',fe,"=",fe,".color[0];","}")),E.optional(function(){function qr(Mr,C0){b.assert(x,Mr,'bad data or missing for uniform "'+U+'".  '+C0)}function Ka(Mr,C0){C0===1&&E(!Array.isArray(fe),"must not specify an array type for uniform"),qr("Array.isArray("+fe+") && typeof "+fe+'[0]===" '+Mr+'" || typeof '+fe+'==="'+Mr+'"',"invalid type, expected "+Mr)}function si(Mr,C0,L0){Array.isArray(fe)?E(fe.length&&fe.length%Mr===0&&fe.length<=Mr*L0,"must have length of "+(L0===1?"":"n * ")+Mr):qr(M.isArrayLike+"("+fe+")&&"+fe+".length && "+fe+".length % "+Mr+" === 0 && "+fe+".length<="+Mr*L0,"invalid vector, should have length of "+(L0===1?"":"n * ")+Mr,b.commandStr)}function Zg(Mr){E(!Array.isArray(fe),"must not specify a value type"),qr("typeof "+fe+'==="function"&&'+fe+'._reglType==="texture'+(Mr===Dg?"2d":"Cube")+'"',"invalid texture type",b.commandStr)}switch(re){case pp:Ka("number",le);break;case _0:si(2,"number",le);break;case w0:si(3,"number",le);break;case E0:si(4,"number",le);break;case hp:Ka("number",le);break;case g0:si(2,"number",le);break;case y0:si(3,"number",le);break;case x0:si(4,"number",le);break;case mp:Ka("boolean",le);break;case S0:si(2,"boolean",le);break;case b0:si(3,"boolean",le);break;case A0:si(4,"boolean",le);break;case ju:si(4,"number",le);break;case zu:si(9,"number",le);break;case Gu:si(16,"number",le);break;case Uu:Zg(Dg);break;case Vu:Zg(U9);break}});var on=1;switch(re){case Uu:case Vu:var fr=x.def(fe,"._texture");x(B,".uniform1i(",Xe,",",fr,".bind());"),x.exit(fr,".unbind();");continue;case pp:case mp:R="1i";break;case _0:case S0:R="2i",on=2;break;case w0:case b0:R="3i",on=3;break;case E0:case A0:R="4i",on=4;break;case hp:R="1f";break;case g0:R="2f",on=2;break;case y0:R="3f",on=3;break;case x0:R="4f",on=4;break;case ju:R="Matrix2fv";break;case zu:R="Matrix3fv";break;case Gu:R="Matrix4fv";break}if(R.indexOf("Matrix")===-1&&le>1&&(R+="v",on=1),R.charAt(0)==="M"){x(B,".uniform",R,"(",Xe,",");var qa=Math.pow(re-ju+2,2),po=b.global.def("new Float32Array(",qa,")");Array.isArray(fe)?x("false,(",Ut(qa,function(qr){return po+"["+qr+"]="+fe[qr]}),",",po,")"):x("false,(Array.isArray(",fe,")||",fe," instanceof Float32Array)?",fe,":(",Ut(qa,function(qr){return po+"["+qr+"]="+fe+"["+qr+"]"}),",",po,")"),x(");")}else if(on>1){for(var Ui=[],Yo=[],Qa=0;Qa<on;++Qa)Array.isArray(fe)?Yo.push(fe[Qa]):Yo.push(x.def(fe+"["+Qa+"]")),D&&Ui.push(x.def());D&&x("if(!",b.batchId,"||",Ui.map(function(qr,Ka){return qr+"!=="+Yo[Ka]}).join("||"),"){",Ui.map(function(qr,Ka){return qr+"="+Yo[Ka]+";"}).join("")),x(B,".uniform",R,"(",Xe,",",Yo.join(","),");"),D&&x("}")}else{if(E(!Array.isArray(fe),"uniform value must not be an array"),D){var Kg=x.def();x("if(!",b.batchId,"||",Kg,"!==",fe,"){",Kg,"=",fe,";")}x(B,".uniform",R,"(",Xe,",",fe,");"),D&&x("}")}}}function ht(b,x,N,j){var G=b.shared,D=G.gl,M=G.draw,B=j.draw;function A(){var tt=B.elements,Ze,mt=x;return tt?((tt.contextDep&&j.contextDynamic||tt.propDep)&&(mt=N),Ze=tt.append(b,mt),B.elementsActive&&mt("if("+Ze+")"+D+".bindBuffer("+dp+","+Ze+".buffer.buffer);")):(Ze=mt.def(),mt(Ze,"=",M,".",Va,";","if(",Ze,"){",D,".bindBuffer(",dp,",",Ze,".buffer.buffer);}","else if(",G.vao,".currentVAO){",Ze,"=",b.shared.elements+".getElements("+G.vao,".currentVAO.elements);",de?"":"if("+Ze+")"+D+".bindBuffer("+dp+","+Ze+".buffer.buffer);","}")),Ze}function R(){var tt=B.count,Ze,mt=x;return tt?((tt.contextDep&&j.contextDynamic||tt.propDep)&&(mt=N),Ze=tt.append(b,mt),E.optional(function(){tt.MISSING&&b.assert(x,"false","missing vertex count"),tt.DYNAMIC&&b.assert(mt,Ze+">=0","missing vertex count")})):(Ze=mt.def(M,".",Wa),E.optional(function(){b.assert(mt,Ze+">=0","missing vertex count")})),Ze}var T=A();function W(tt){var Ze=B[tt];return Ze?Ze.contextDep&&j.contextDynamic||Ze.propDep?Ze.append(b,N):Ze.append(b,x):x.def(M,".",tt)}var U=W(Ha),re=W(m0),le=R();if(typeof le=="number"){if(le===0)return}else N("if(",le,"){"),N.exit("}");var Ce,vt;_e&&(Ce=W(v0),vt=b.instancing);var ut=T+".type",Xe=B.elements&&Xo(B.elements)&&!B.vaoActive;function fe(){function tt(){N(vt,".drawElementsInstancedANGLE(",[U,le,ut,re+"<<(("+ut+"-"+mg+")>>1)",Ce],");")}function Ze(){N(vt,".drawArraysInstancedANGLE(",[U,re,le,Ce],");")}T&&T!=="null"?Xe?tt():(N("if(",T,"){"),tt(),N("}else{"),Ze(),N("}")):Ze()}function ne(){function tt(){N(D+".drawElements("+[U,le,ut,re+"<<(("+ut+"-"+mg+")>>1)"]+");")}function Ze(){N(D+".drawArrays("+[U,re,le]+");")}T&&T!=="null"?Xe?tt():(N("if(",T,"){"),tt(),N("}else{"),Ze(),N("}")):Ze()}_e&&(typeof Ce!="number"||Ce>=0)?typeof Ce=="string"?(N("if(",Ce,">0){"),fe(),N("}else if(",Ce,"<0){"),ne(),N("}")):fe():ne()}function Ht(b,x,N,j,G){var D=_t(),M=D.proc("body",G);return E.optional(function(){D.commandStr=x.commandStr,D.command=D.link(x.commandStr)}),_e&&(D.instancing=M.def(D.shared.extensions,".angle_instanced_arrays")),b(D,M,N,j),D.compile().body}function qt(b,x,N,j){kn(b,x),N.useVAO?N.drawVAO?x(b.shared.vao,".setVAO(",N.drawVAO.append(b,x),");"):x(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(x(b.shared.vao,".setVAO(null);"),cr(b,x,N,j.attributes,function(){return!0})),nn(b,x,N,j.uniforms,function(){return!0},!1),ht(b,x,x,N)}function Pn(b,x){var N=b.proc("draw",1);kn(b,N),Wn(b,N,x.context),Xn(b,N,x.framebuffer),rr(b,N,x),ur(b,N,x.state),Mt(b,N,x,!1,!0);var j=x.shader.progVar.append(b,N);if(N(b.shared.gl,".useProgram(",j,".program);"),x.shader.program)qt(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var G=b.global.def("{}"),D=N.def(j,".id"),M=N.def(G,"[",D,"]");N(b.cond(M).then(M,".call(this,a0);").else(M,"=",G,"[",D,"]=",b.link(function(B){return Ht(qt,b,x,B,1)}),"(",j,");",M,".call(this,a0);"))}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Gi(b,x,N,j){b.batchId="a1",kn(b,x);function G(){return!0}cr(b,x,N,j.attributes,G),nn(b,x,N,j.uniforms,G,!1),ht(b,x,x,N)}function Ya(b,x,N,j){kn(b,x);var G=N.contextDep,D=x.def(),M="a0",B="a1",A=x.def();b.shared.props=A,b.batchId=D;var R=b.scope(),T=b.scope();x(R.entry,"for(",D,"=0;",D,"<",B,";++",D,"){",A,"=",M,"[",D,"];",T,"}",R.exit);function W(ut){return ut.contextDep&&G||ut.propDep}function U(ut){return!W(ut)}if(N.needsContext&&Wn(b,T,N.context),N.needsFramebuffer&&Xn(b,T,N.framebuffer),ur(b,T,N.state,W),N.profile&&W(N.profile)&&Mt(b,T,N,!1,!0),j)N.useVAO?N.drawVAO?W(N.drawVAO)?T(b.shared.vao,".setVAO(",N.drawVAO.append(b,T),");"):R(b.shared.vao,".setVAO(",N.drawVAO.append(b,R),");"):R(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(R(b.shared.vao,".setVAO(null);"),cr(b,R,N,j.attributes,U),cr(b,T,N,j.attributes,W)),nn(b,R,N,j.uniforms,U,!1),nn(b,T,N,j.uniforms,W,!0),ht(b,R,T,N);else{var re=b.global.def("{}"),le=N.shader.progVar.append(b,T),Ce=T.def(le,".id"),vt=T.def(re,"[",Ce,"]");T(b.shared.gl,".useProgram(",le,".program);","if(!",vt,"){",vt,"=",re,"[",Ce,"]=",b.link(function(ut){return Ht(Gi,b,N,ut,2)}),"(",le,");}",vt,".call(this,a0[",D,"],",D,");")}}function C(b,x){var N=b.proc("batch",2);b.batchId="0",kn(b,N);var j=!1,G=!0;Object.keys(x.context).forEach(function(re){j=j||x.context[re].propDep}),j||(Wn(b,N,x.context),G=!1);var D=x.framebuffer,M=!1;D?(D.propDep?j=M=!0:D.contextDep&&j&&(M=!0),M||Xn(b,N,D)):Xn(b,N,null),x.state.viewport&&x.state.viewport.propDep&&(j=!0);function B(re){return re.contextDep&&j||re.propDep}rr(b,N,x),ur(b,N,x.state,function(re){return!B(re)}),(!x.profile||!B(x.profile))&&Mt(b,N,x,!1,"a1"),x.contextDep=j,x.needsContext=G,x.needsFramebuffer=M;var A=x.shader.progVar;if(A.contextDep&&j||A.propDep)Ya(b,N,x,null);else{var R=A.append(b,N);if(N(b.shared.gl,".useProgram(",R,".program);"),x.shader.program)Ya(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var T=b.global.def("{}"),W=N.def(R,".id"),U=N.def(T,"[",W,"]");N(b.cond(U).then(U,".call(this,a0,a1);").else(U,"=",T,"[",W,"]=",b.link(function(re){return Ht(Ya,b,x,re,2)}),"(",R,");",U,".call(this,a0,a1);"))}}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Q(b,x){var N=b.proc("scope",3);b.batchId="a2";var j=b.shared,G=j.current;Wn(b,N,x.context),x.framebuffer&&x.framebuffer.append(b,N),Vg(Object.keys(x.state)).forEach(function(M){var B=x.state[M],A=B.append(b,N);vn(A)?A.forEach(function(R,T){N.set(b.next[M],"["+T+"]",R)}):N.set(j.next,"."+M,A)}),Mt(b,N,x,!0,!0),[Va,m0,Wa,v0,Ha].forEach(function(M){var B=x.draw[M];B&&N.set(j.draw,"."+M,""+B.append(b,N))}),Object.keys(x.uniforms).forEach(function(M){var B=x.uniforms[M].append(b,N);Array.isArray(B)&&(B="["+B.join()+"]"),N.set(j.uniforms,"["+w.id(M)+"]",B)}),Object.keys(x.attributes).forEach(function(M){var B=x.attributes[M].append(b,N),A=b.scopeAttrib(M);Object.keys(new z).forEach(function(R){N.set(A,"."+R,B[R])})}),x.scopeVAO&&N.set(j.vao,".targetVAO",x.scopeVAO.append(b,N));function D(M){var B=x.shader[M];B&&N.set(j.shader,"."+M,B.append(b,N))}D(Fu),D($u),Object.keys(x.state).length>0&&(N(G,".dirty=true;"),N.exit(G,".dirty=true;")),N("a1(",b.shared.context,",a0,",b.batchId,");")}function X(b){if(!(typeof b!="object"||vn(b))){for(var x=Object.keys(b),N=0;N<x.length;++N)if($t.isDynamic(b[x[N]]))return!0;return!1}}function qe(b,x,N){var j=x.static[N];if(!j||!X(j))return;var G=b.global,D=Object.keys(j),M=!1,B=!1,A=!1,R=b.global.def("{}");D.forEach(function(W){var U=j[W];if($t.isDynamic(U)){typeof U=="function"&&(U=j[W]=$t.unbox(U));var re=Nr(U,null);M=M||re.thisDep,A=A||re.propDep,B=B||re.contextDep}else{switch(G(R,".",W,"="),typeof U){case"number":G(U);break;case"string":G('"',U,'"');break;case"object":Array.isArray(U)&&G("[",U.join(),"]");break;default:G(b.link(U));break}G(";")}});function T(W,U){D.forEach(function(re){var le=j[re];if($t.isDynamic(le)){var Ce=W.invoke(U,le);U(R,".",re,"=",Ce,";")}})}x.dynamic[N]=new $t.DynamicVariable(h0,{thisDep:M,contextDep:B,propDep:A,ref:R,append:T}),delete x.static[N]}function jt(b,x,N,j,G){var D=_t();D.stats=D.link(G),Object.keys(x.static).forEach(function(B){qe(D,x,B)}),j9.forEach(function(B){qe(D,b,B)});var M=zn(b,x,N,j,D);return Pn(D,M),Q(D,M),C(D,M),r(D.compile(),{destroy:function(){M.shader.program.destroy()}})}return{next:Be,current:Ge,procs:function(){var b=_t(),x=b.proc("poll"),N=b.proc("refresh"),j=b.block();x(j),N(j);var G=b.shared,D=G.gl,M=G.next,B=G.current;j(B,".dirty=false;"),Xn(b,x),Xn(b,N,null,!0);var A;_e&&(A=b.link(_e)),k.oes_vertex_array_object&&N(b.link(k.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var R=0;R<q.maxAttributes;++R){var T=N.def(G.attributes,"[",R,"]"),W=b.cond(T,".buffer");W.then(D,".enableVertexAttribArray(",R,");",D,".bindBuffer(",os,",",T,".buffer.buffer);",D,".vertexAttribPointer(",R,",",T,".size,",T,".type,",T,".normalized,",T,".stride,",T,".offset);").else(D,".disableVertexAttribArray(",R,");",D,".vertexAttrib4f(",R,",",T,".x,",T,".y,",T,".z,",T,".w);",T,".buffer=null;"),N(W),_e&&N(A,".vertexAttribDivisorANGLE(",R,",",T,".divisor);")}return N(b.shared.vao,".currentVAO=null;",b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"),Object.keys(ae).forEach(function(U){var re=ae[U],le=j.def(M,".",U),Ce=b.block();Ce("if(",le,"){",D,".enable(",re,")}else{",D,".disable(",re,")}",B,".",U,"=",le,";"),N(Ce),x("if(",le,"!==",B,".",U,"){",Ce,"}")}),Object.keys(ie).forEach(function(U){var re=ie[U],le=Ge[U],Ce,vt,ut=b.block();if(ut(D,".",re,"("),vn(le)){var Xe=le.length;Ce=b.global.def(M,".",U),vt=b.global.def(B,".",U),ut(Ut(Xe,function(fe){return Ce+"["+fe+"]"}),");",Ut(Xe,function(fe){return vt+"["+fe+"]="+Ce+"["+fe+"];"}).join("")),x("if(",Ut(Xe,function(fe){return Ce+"["+fe+"]!=="+vt+"["+fe+"]"}).join("||"),"){",ut,"}")}else Ce=j.def(M,".",U),vt=j.def(B,".",U),ut(Ce,");",B,".",U,"=",Ce,";"),x("if(",Ce,"!==",vt,"){",ut,"}");N(ut)}),b.compile()}(),compile:jt}}function o7(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var a7=34918,l7=34919,Wg=35007,s7=function(p,w){if(!w.ext_disjoint_timer_query)return null;var k=[];function q(){return k.pop()||w.ext_disjoint_timer_query.createQueryEXT()}function oe(_e){k.push(_e)}var Y=[];function J(_e){var Ve=q();w.ext_disjoint_timer_query.beginQueryEXT(Wg,Ve),Y.push(Ve),ge(Y.length-1,Y.length,_e)}function me(){w.ext_disjoint_timer_query.endQueryEXT(Wg)}function pe(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ee=[];function be(){return Ee.pop()||new pe}function Se(_e){Ee.push(_e)}var ke=[];function ge(_e,Ve,de){var Ge=be();Ge.startQueryIndex=_e,Ge.endQueryIndex=Ve,Ge.sum=0,Ge.stats=de,ke.push(Ge)}var we=[],z=[];function Z(){var _e,Ve,de=Y.length;if(de!==0){z.length=Math.max(z.length,de+1),we.length=Math.max(we.length,de+1),we[0]=0,z[0]=0;var Ge=0;for(_e=0,Ve=0;Ve<Y.length;++Ve){var Be=Y[Ve];w.ext_disjoint_timer_query.getQueryObjectEXT(Be,l7)?(Ge+=w.ext_disjoint_timer_query.getQueryObjectEXT(Be,a7),oe(Be)):Y[_e++]=Be,we[Ve+1]=Ge,z[Ve+1]=_e}for(Y.length=_e,_e=0,Ve=0;Ve<ke.length;++Ve){var ct=ke[Ve],ae=ct.startQueryIndex,ie=ct.endQueryIndex;ct.sum+=we[ie]-we[ae];var Qe=z[ae],Ne=z[ie];Ne===Qe?(ct.stats.gpuTime+=ct.sum/1e6,Se(ct)):(ct.startQueryIndex=Qe,ct.endQueryIndex=Ne,ke[_e++]=ct)}ke.length=_e}}return{beginQuery:J,endQuery:me,pushScopeStats:ge,update:Z,getNumPendingQueries:function(){return Y.length},clear:function(){k.push.apply(k,Y);for(var _e=0;_e<k.length;_e++)w.ext_disjoint_timer_query.deleteQueryEXT(k[_e]);Y.length=0,k.length=0},restore:function(){Y.length=0,k.length=0}}},u7=16384,c7=256,f7=1024,d7=34962,Xg="webglcontextlost",Yg="webglcontextrestored",qg=1,h7=2,p7=3;function Qg(p,w){for(var k=0;k<p.length;++k)if(p[k]===w)return k;return-1}function m7(p){var w=it(p);if(!w)return null;var k=w.gl,q=k.getContextAttributes(),oe=k.isContextLost(),Y=wt(k,w);if(!Y)return null;var J=Ln(),me=o7(),pe=Y.extensions,Ee=s7(k,pe),be=pn(),Se=k.drawingBufferWidth,ke=k.drawingBufferHeight,ge={tick:0,time:0,viewportWidth:Se,viewportHeight:ke,framebufferWidth:Se,framebufferHeight:ke,drawingBufferWidth:Se,drawingBufferHeight:ke,pixelRatio:w.pixelRatio},we={},z={elements:null,primitive:4,count:-1,offset:0,instances:-1},Z=df(k,pe),_e=uu(k,me,w,Ge),Ve=pu(k,pe,_e,me),de=Pe(k,pe,Z,me,_e,Ve,z);function Ge(ht){return de.destroyBuffer(ht)}var Be=Qt(k,J,me,w),ct=P1(k,pe,Z,function(){Qe.procs.poll()},ge,me,w),ae=N1(k,pe,Z,me,w),ie=Y1(k,pe,Z,ct,ae,me),Qe=i7(k,J,pe,Z,_e,Ve,ct,ie,we,de,Be,z,ge,Ee,w),Ne=D9(k,ie,Qe.procs.poll,ge,q,pe,Z),xe=Qe.next,Me=k.canvas,$e=[],St=[],_t=[],je=[w.onDestroy],Ue=null;function pt(){if($e.length===0){Ee&&Ee.update(),Ue=null;return}Ue=dn.next(pt),ur();for(var ht=$e.length-1;ht>=0;--ht){var Ht=$e[ht];Ht&&Ht(ge,null,0)}k.flush(),Ee&&Ee.update()}function bt(){!Ue&&$e.length>0&&(Ue=dn.next(pt))}function Vt(){Ue&&(dn.cancel(pt),Ue=null)}function xn(ht){ht.preventDefault(),oe=!0,Vt(),St.forEach(function(Ht){Ht()})}function En(ht){k.getError(),oe=!1,Y.restore(),Be.restore(),_e.restore(),ct.restore(),ae.restore(),ie.restore(),de.restore(),Ee&&Ee.restore(),Qe.procs.refresh(),bt(),_t.forEach(function(Ht){Ht()})}Me&&(Me.addEventListener(Xg,xn,!1),Me.addEventListener(Yg,En,!1));function Xt(){$e.length=0,Vt(),Me&&(Me.removeEventListener(Xg,xn),Me.removeEventListener(Yg,En)),Be.clear(),ie.clear(),ae.clear(),de.clear(),ct.clear(),Ve.clear(),_e.clear(),Ee&&Ee.clear(),je.forEach(function(ht){ht()})}function Hn(ht){E(!!ht,"invalid args to regl({...})"),E.type(ht,"object","invalid args to regl({...})");function Ht(G){var D=r({},G);delete D.uniforms,delete D.attributes,delete D.context,delete D.vao,"stencil"in D&&D.stencil.op&&(D.stencil.opBack=D.stencil.opFront=D.stencil.op,delete D.stencil.op);function M(B){if(B in D){var A=D[B];delete D[B],Object.keys(A).forEach(function(R){D[B+"."+R]=A[R]})}}return M("blend"),M("depth"),M("cull"),M("stencil"),M("polygonOffset"),M("scissor"),M("sample"),"vao"in G&&(D.vao=G.vao),D}function qt(G,D){var M={},B={};return Object.keys(G).forEach(function(A){var R=G[A];if($t.isDynamic(R)){B[A]=$t.unbox(R,A);return}else if(D&&Array.isArray(R)){for(var T=0;T<R.length;++T)if($t.isDynamic(R[T])){B[A]=$t.unbox(R,A);return}}M[A]=R}),{dynamic:B,static:M}}var Pn=qt(ht.context||{},!0),Gi=qt(ht.uniforms||{},!0),Ya=qt(ht.attributes||{},!1),C=qt(Ht(ht),!1),Q={gpuTime:0,cpuTime:0,count:0},X=Qe.compile(C,Ya,Gi,Pn,Q),qe=X.draw,jt=X.batch,b=X.scope,x=[];function N(G){for(;x.length<G;)x.push(null);return x}function j(G,D){var M;if(oe&&E.raise("context lost"),typeof G=="function")return b.call(this,null,G,0);if(typeof D=="function")if(typeof G=="number")for(M=0;M<G;++M)b.call(this,null,D,M);else if(Array.isArray(G))for(M=0;M<G.length;++M)b.call(this,G[M],D,M);else return b.call(this,G,D,0);else if(typeof G=="number"){if(G>0)return jt.call(this,N(G|0),G|0)}else if(Array.isArray(G)){if(G.length)return jt.call(this,G,G.length)}else return qe.call(this,G)}return r(j,{stats:Q,destroy:function(){X.destroy()}})}var gn=ie.setFBO=Hn({framebuffer:$t.define.call(null,qg,"framebuffer")});function zn(ht,Ht){var qt=0;Qe.procs.poll();var Pn=Ht.color;Pn&&(k.clearColor(+Pn[0]||0,+Pn[1]||0,+Pn[2]||0,+Pn[3]||0),qt|=u7),"depth"in Ht&&(k.clearDepth(+Ht.depth),qt|=c7),"stencil"in Ht&&(k.clearStencil(Ht.stencil|0),qt|=f7),E(!!qt,"called regl.clear with no buffer specified"),k.clear(qt)}function Wn(ht){if(E(typeof ht=="object"&&ht,"regl.clear() takes an object as input"),"framebuffer"in ht)if(ht.framebuffer&&ht.framebuffer_reglType==="framebufferCube")for(var Ht=0;Ht<6;++Ht)gn(r({framebuffer:ht.framebuffer.faces[Ht]},ht),zn);else gn(ht,zn);else zn(null,ht)}function Xn(ht){E.type(ht,"function","regl.frame() callback must be a function"),$e.push(ht);function Ht(){var qt=Qg($e,ht);E(qt>=0,"cannot cancel a frame twice");function Pn(){var Gi=Qg($e,Pn);$e[Gi]=$e[$e.length-1],$e.length-=1,$e.length<=0&&Vt()}$e[qt]=Pn}return bt(),{cancel:Ht}}function rr(){var ht=xe.viewport,Ht=xe.scissor_box;ht[0]=ht[1]=Ht[0]=Ht[1]=0,ge.viewportWidth=ge.framebufferWidth=ge.drawingBufferWidth=ht[2]=Ht[2]=k.drawingBufferWidth,ge.viewportHeight=ge.framebufferHeight=ge.drawingBufferHeight=ht[3]=Ht[3]=k.drawingBufferHeight}function ur(){ge.tick+=1,ge.time=Mt(),rr(),Qe.procs.poll()}function kn(){ct.refresh(),rr(),Qe.procs.refresh(),Ee&&Ee.update()}function Mt(){return(pn()-be)/1e3}kn();function cr(ht,Ht){E.type(Ht,"function","listener callback must be a function");var qt;switch(ht){case"frame":return Xn(Ht);case"lost":qt=St;break;case"restore":qt=_t;break;case"destroy":qt=je;break;default:E.raise("invalid event, must be one of frame,lost,restore,destroy")}return qt.push(Ht),{cancel:function(){for(var Pn=0;Pn<qt.length;++Pn)if(qt[Pn]===Ht){qt[Pn]=qt[qt.length-1],qt.pop();return}}}}var nn=r(Hn,{clear:Wn,prop:$t.define.bind(null,qg),context:$t.define.bind(null,h7),this:$t.define.bind(null,p7),draw:Hn({}),buffer:function(ht){return _e.create(ht,d7,!1,!1)},elements:function(ht){return Ve.create(ht,!1)},texture:ct.create2D,cube:ct.createCube,renderbuffer:ae.create,framebuffer:ie.create,framebufferCube:ie.createCube,vao:de.createVAO,attributes:q,frame:Xn,on:cr,limits:Z,hasExtension:function(ht){return Z.extensions.indexOf(ht.toLowerCase())>=0},read:Ne,destroy:Xt,_gl:k,_refresh:kn,poll:function(){ur(),Ee&&Ee.update()},now:Mt,stats:me});return w.onDone(null,nn),nn}return m7})})(m8);var tE=m8.exports;const nE=Zc(tE);var rE=1e-6,yl=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Wp(){var e=new yl(16);return yl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function g3(e){var t=new yl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function hv(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],s=t[6],u=t[7],f=t[8],h=t[9],c=t[10],m=t[11],v=t[12],S=t[13],L=t[14],g=t[15],_=n*l-r*a,y=n*s-i*a,O=n*u-o*a,F=r*s-i*l,V=r*u-o*l,ee=i*u-o*s,K=f*S-h*v,He=f*L-c*v,ve=f*g-m*v,Re=h*L-c*S,Oe=h*g-m*S,Je=c*g-m*L,De=_*Je-y*Oe+O*Re+F*ve-V*He+ee*K;return De?(De=1/De,e[0]=(l*Je-s*Oe+u*Re)*De,e[1]=(i*Oe-r*Je-o*Re)*De,e[2]=(S*ee-L*V+g*F)*De,e[3]=(c*V-h*ee-m*F)*De,e[4]=(s*ve-a*Je-u*He)*De,e[5]=(n*Je-i*ve+o*He)*De,e[6]=(L*O-v*ee-g*y)*De,e[7]=(f*ee-c*O+m*y)*De,e[8]=(a*Oe-l*ve+u*K)*De,e[9]=(r*ve-n*Oe-o*K)*De,e[10]=(v*V-S*O+g*_)*De,e[11]=(h*O-f*V-m*_)*De,e[12]=(l*He-a*Re-s*K)*De,e[13]=(n*Re-r*He+i*K)*De,e[14]=(S*y-v*F-L*_)*De,e[15]=(f*F-h*y+c*_)*De,e):null}function Cr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],s=t[5],u=t[6],f=t[7],h=t[8],c=t[9],m=t[10],v=t[11],S=t[12],L=t[13],g=t[14],_=t[15],y=n[0],O=n[1],F=n[2],V=n[3];return e[0]=y*r+O*l+F*h+V*S,e[1]=y*i+O*s+F*c+V*L,e[2]=y*o+O*u+F*m+V*g,e[3]=y*a+O*f+F*v+V*_,y=n[4],O=n[5],F=n[6],V=n[7],e[4]=y*r+O*l+F*h+V*S,e[5]=y*i+O*s+F*c+V*L,e[6]=y*o+O*u+F*m+V*g,e[7]=y*a+O*f+F*v+V*_,y=n[8],O=n[9],F=n[10],V=n[11],e[8]=y*r+O*l+F*h+V*S,e[9]=y*i+O*s+F*c+V*L,e[10]=y*o+O*u+F*m+V*g,e[11]=y*a+O*f+F*v+V*_,y=n[12],O=n[13],F=n[14],V=n[15],e[12]=y*r+O*l+F*h+V*S,e[13]=y*i+O*s+F*c+V*L,e[14]=y*o+O*u+F*m+V*g,e[15]=y*a+O*f+F*v+V*_,e}function y3(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function yd(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function iE(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,s,u;return a<rE?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+o*l,e[2]=o*r*u-i*l,e[3]=0,e[4]=r*i*u-o*l,e[5]=i*i*u+s,e[6]=o*i*u+r*l,e[7]=0,e[8]=r*o*u+i*l,e[9]=i*o*u-r*l,e[10]=o*o*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function oE(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function aE(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],s=t[8],u=t[9],f=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(s,u,f),e}function lE(){var e=new yl(4);return yl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function xd(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=lE();return function(t,n,r,i,o,a){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function sE(){var e=new yl(2);return yl!=Float32Array&&(e[0]=0,e[1]=0),e}function uE(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=sE();return function(t,n,r,i,o,a){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const cE=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=Wp(),f=[...r.slice(0,2),0,1];const h=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],m=Array.isArray(o[0])?[...o[0]]:[...o],v=Array.isArray(o[0])?[...o[1]]:[...o],S=()=>aE(a,u).slice(0,2),L=()=>{const Ae=S();return Math.min(Ae[0],Ae[1])},g=()=>{const Ae=S();return Math.max(Ae[0],Ae[1])},_=()=>Math.acos(u[0]/g()),y=()=>[[...h],[...c]],O=()=>[[...m],[...v]],F=()=>{const Ae=S();return[1/Ae[0],1/Ae[1]]},V=()=>1/L(),ee=()=>1/g(),K=()=>oE(a,u).slice(0,2),He=()=>xd(a,f,hv(s,u)).slice(0,2),ve=()=>u,Re=()=>f.slice(0,2),Oe=([Ae=0,rt=0]=[],At=1,Pt=0)=>{u=Wp(),Je([-Ae,-rt]),Lt(Pt),De(1/At)},Je=([Ae=0,rt=0]=[])=>{a[0]=Ae,a[1]=rt,a[2]=0;const At=y3(l,a);Cr(u,At,u)},De=(Ae,rt)=>{const At=Array.isArray(Ae);let Pt=At?Ae[0]:Ae,Zt=At?Ae[1]:Ae;if(Pt<=0||Zt<=0||Pt===1&&Zt===1)return;const Bt=S(),yt=Bt[0]*Pt,It=Bt[1]*Zt;if(Pt=Math.max(h[0],Math.min(yt,h[1]))/Bt[0],Zt=Math.max(c[0],Math.min(It,c[1]))/Bt[1],Pt===1&&Zt===1)return;a[0]=Pt,a[1]=Zt,a[2]=1;const zt=yd(l,a),Yt=rt?[...rt,0]:f,cn=y3(a,Yt);Cr(u,cn,Cr(u,zt,Cr(u,hv(s,cn),u)))},Lt=Ae=>{const rt=Wp();iE(rt,Ae,[0,0,1]),Cr(u,rt,u)},at=Ae=>{const rt=Array.isArray(Ae[0]);h[0]=rt?Ae[0][0]:Ae[0],h[1]=rt?Ae[0][1]:Ae[1],c[0]=rt?Ae[1][0]:Ae[0],c[1]=rt?Ae[1][1]:Ae[1]},lt=Ae=>{const rt=Array.isArray(Ae[0]);m[0]=rt?Ae[0][0]:Ae[0],m[1]=rt?Ae[0][1]:Ae[1],v[0]=rt?Ae[1][0]:Ae[0],v[1]=rt?Ae[1][1]:Ae[1]},ye=Ae=>{!Ae||Ae.length<16||(u=Ae)},Le=Ae=>{f=[...Ae.slice(0,2),0,1]},se=()=>{Oe(e,t,n)};return Oe(e,t,n),{get translation(){return K()},get target(){return He()},get scaling(){return S()},get minScaling(){return L()},get maxScaling(){return g()},get scaleBounds(){return y()},get translationBounds(){return O()},get distance(){return F()},get minDistance(){return V()},get maxDistance(){return ee()},get rotation(){return _()},get view(){return ve()},get viewCenter(){return Re()},lookAt:Oe,translate:Je,pan:Je,rotate:Lt,scale:De,zoom:De,reset:se,set:(...Ae)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),ye(...Ae)),setScaleBounds:at,setTranslationBounds:lt,setView:ye,setViewCenter:Le}},fE=["pan","rotate"],x3={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},dE=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:f=1,defaultMouseDownMoveAction:h="pan",mouseDownMoveModKey:c="alt",isZoom:m=!0,zoomSpeed:v=1,viewCenter:S,scaleBounds:L,translationBounds:g,onKeyDown:_=()=>{},onKeyUp:y=()=>{},onMouseDown:O=()=>{},onMouseUp:F=()=>{},onMouseMove:V=()=>{},onWheel:ee=()=>{}}={})=>{let K=cE(n,t,r,S,L,g),He=0,ve=0,Re=0,Oe=0,Je=0,De=0,Lt=!1,at=0,lt=1,ye=1,Le=1,se=!1,Ae=!1,rt=!1,At=h==="pan",Pt=a,Zt=a,Bt=l,yt=l,It=m,zt=m;const Yt=()=>{Pt=Array.isArray(a)?!!a[0]:a,Zt=Array.isArray(a)?!!a[1]:a,Bt=Array.isArray(l)?!!l[0]:l,yt=Array.isArray(l)?!!l[1]:l,It=Array.isArray(m)?!!m[0]:m,zt=Array.isArray(m)?!!m[1]:m};Yt();const cn=i?Te=>Te/lt*2*Le:Te=>Te,Ft=i?Te=>Te/ye*2:Te=>-Te,Jt=i?Te=>(-1+Te/lt*2)*Le:Te=>Te,st=i?Te=>1-Te/ye*2:Te=>Te,Tt=()=>{if(o){const Ie=Ae;return Ae=!1,Ie}se=!1;const Te=He,Rt=ve;if((Pt||Zt)&&Lt&&(At&&!rt||!At&&rt)){const Ie=Bt?Je-Te:Te-Je,Dt=Pt?cn(s*Ie):0,fn=yt?De-Rt:Rt-De,$t=Zt?Ft(s*fn):0;(Dt!==0||$t!==0)&&(K.pan([Dt,$t]),se=!0)}if((It||zt)&&at){const Ie=v*Math.exp(at/ye),Dt=Jt(Re),fn=st(Oe);K.scale([It?1/Ie:1,zt?1/Ie:1],[Dt,fn]),se=!0}if(u&&Lt&&(At&&rt||!At&&!rt)&&Math.abs(Je-Te)+Math.abs(De-Rt)>0){const Ie=lt/2,Dt=ye/2,fn=Je-Ie,$t=Dt-De,dn=Te-Ie,pn=Dt-Rt,Ln=uE([fn,$t],[dn,pn]),wn=fn*pn-dn*$t;K.rotate(f*Ln*Math.sign(wn)),se=!0}at=0,Je=Te,De=Rt;const Wt=se||Ae;return Ae=!1,Wt},Nt=({defaultMouseDownMoveAction:Te=null,isFixed:Rt=null,isPan:Wt=null,isPanInverted:Ie=null,isRotate:Dt=null,isZoom:fn=null,panSpeed:$t=null,rotateSpeed:dn=null,zoomSpeed:pn=null,mouseDownMoveModKey:Ln=null}={})=>{h=Te!==null&&fE.includes(Te)?Te:h,At=h==="pan",o=Rt!==null?Rt:o,a=Wt!==null?Wt:a,l=Ie!==null?Ie:l,u=Dt!==null?Dt:u,m=fn!==null?fn:m,s=+$t>0?$t:s,f=+dn>0?dn:f,v=+pn>0?pn:v,Yt(),c=Ln!==null&&Object.keys(x3).includes(Ln)?Ln:c},Ct=()=>{const Te=e.getBoundingClientRect();lt=Te.width,ye=Te.height,Le=lt/ye},Ke=Te=>{rt=!1,y(Te)},Gt=Te=>{rt=Te[x3[c]],_(Te)},ln=Te=>{Lt=!1,F(Te)},en=Te=>{Lt=Te.buttons===1,O(Te)},E=document.createEvent("MouseEvent").offsetX!==void 0?Te=>{Re=Te.offsetX,Oe=Te.offsetY}:Te=>{const Rt=e.getBoundingClientRect();Re=Te.clientX-Rt.left,Oe=Te.clientY-Rt.top},he=Te=>{He=Te.clientX,ve=Te.clientY},Fe=Te=>{he(Te),V(Te)},ce=Te=>{if(It||zt){Te.preventDefault(),he(Te),E(Te);const Rt=Te.deltaMode===1?12:1;at+=Rt*(Te.deltaY||Te.deltaX||0)}ee(Te)},xt=()=>{K=void 0,window.removeEventListener("keydown",Gt),window.removeEventListener("keyup",Ke),e.removeEventListener("mousedown",en),window.removeEventListener("mouseup",ln),window.removeEventListener("mousemove",Fe),e.removeEventListener("wheel",ce)};window.addEventListener("keydown",Gt,{passive:!0}),window.addEventListener("keyup",Ke,{passive:!0}),e.addEventListener("mousedown",en,{passive:!0}),window.addEventListener("mouseup",ln,{passive:!0}),window.addEventListener("mousemove",Fe,{passive:!0}),e.addEventListener("wheel",ce,{passive:!1}),K.config=Nt,K.dispose=xt,K.refresh=Ct,K.tick=Tt;const dt=Te=>function(){Te.apply(null,arguments),Ae=!0};return K.lookAt=dt(K.lookAt),K.translate=dt(K.translate),K.pan=dt(K.pan),K.rotate=dt(K.rotate),K.scale=dt(K.scale),K.zoom=dt(K.zoom),K.reset=dt(K.reset),K.set=dt(K.set),K.setScaleBounds=dt(K.setScaleBounds),K.setTranslationBounds=dt(K.setTranslationBounds),K.setView=dt(K.setView),K.setViewCenter=dt(K.setViewCenter),Ct(),K};function pv(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;v8(e,t,a,r,i,o%2),pv(e,t,n,r,a-1,o+1),pv(e,t,n,a+1,i,o+1)}function v8(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const u=i-r+1,f=n-r+1,h=Math.log(u),c=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*c*(u-c)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(n-f*c/u+m)),S=Math.min(i,Math.floor(n+(u-f)*c/u+m));v8(e,t,n,v,S,o)}const a=t[2*n+o];let l=r,s=i;for(ec(e,t,r,n),t[2*i+o]>a&&ec(e,t,r,i);l<s;){for(ec(e,t,l,s),l++,s--;t[2*l+o]<a;)l++;for(;t[2*s+o]>a;)s--}t[2*r+o]===a?ec(e,t,r,s):(s++,ec(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function ec(e,t,n,r){Xp(e,n,r),Xp(t,2*n,2*r),Xp(t,2*n+1,2*r+1)}function Xp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hE(e,t,n,r,i,o,a){const l=[0,e.length-1,0],s=[];let u,f;for(;l.length;){const h=l.pop(),c=l.pop(),m=l.pop();if(c-m<=a){for(let L=m;L<=c;L++)u=t[2*L],f=t[2*L+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[L]);continue}const v=Math.floor((m+c)/2);u=t[2*v],f=t[2*v+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[v]);const S=(h+1)%2;(h===0?n<=u:r<=f)&&(l.push(m),l.push(v-1),l.push(S)),(h===0?i>=u:o>=f)&&(l.push(v+1),l.push(c),l.push(S))}return s}function pE(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],s=i*i;for(;a.length;){const u=a.pop(),f=a.pop(),h=a.pop();if(f-h<=o){for(let L=h;L<=f;L++)_3(t[2*L],t[2*L+1],n,r)<=s&&l.push(e[L]);continue}const c=Math.floor((h+f)/2),m=t[2*c],v=t[2*c+1];_3(m,v,n,r)<=s&&l.push(e[c]);const S=(u+1)%2;(u===0?n-i<=m:r-i<=v)&&(a.push(h),a.push(c-1),a.push(S)),(u===0?n+i>=m:r+i>=v)&&(a.push(c+1),a.push(f),a.push(S))}return l}function _3(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const mE=e=>e[0],vE=e=>e[1];class gE{constructor(t,n=mE,r=vE,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),s=this.coords=new o(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);pv(l,s,i,0,l.length-1,0)}range(t,n,r,i){return hE(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return pE(this.ids,this.coords,t,n,r,this.nodeSize)}}const yE=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var xE=yE;const _E=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var wE=_E;const{push:w3,splice:EE}=Array.prototype,Yp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ar=Float32Array.BYTES_PER_ELEMENT,SE=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,s=o+3;t.push(o,a,l,l,a,s)}n+=(r+2)*2}),t},Qr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}w3.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return EE.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const s=a*t;for(let u=0;u<t;u++)o[u]=e[s+u];w3.apply(i,o)}return i}},bE=(e,{projection:t=Yp,model:n=Yp,view:r=Yp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:f=[],miter:h=1,is2d:c=!1,zPos2d:m=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const v=new Float32Array(16);let S,L,g,_,y,O,F,V,ee,K,He,ve,Re,Oe,Je,De,Lt,at,lt=c?2:3;const ye=()=>+(s.length===L||l!==null),Le=()=>{K=e.buffer(),He=e.buffer(),ve=e.buffer(),Je=e.buffer(),De={prevPosition:{buffer:()=>K,offset:0,stride:Ar*3},currPosition:{buffer:()=>K,offset:Ar*3*2,stride:Ar*3},nextPosition:{buffer:()=>K,offset:Ar*3*4,stride:Ar*3},opacity:{buffer:()=>He,offset:Ar*2,stride:Ar},offsetScale:{buffer:()=>ve,offset:Ar*2,stride:Ar},colorIndex:{buffer:()=>Je,offset:Ar*2,stride:Ar}},Lt=e.elements(),at=e({attributes:De,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(st,Tt)=>{const Nt=st.projection||Tt.projection,Ct=st.model||Tt.model,Ke=st.view||Tt.view;return Cr(v,Nt,Cr(v,Ke,Ct))},aspectRatio:({viewportWidth:st,viewportHeight:Tt})=>st/Tt,colorTex:()=>Re,colorTexRes:()=>Oe,colorTexEps:()=>.5/Oe,pixelRatio:({pixelRatio:st})=>st,width:({pixelRatio:st,viewportHeight:Tt})=>u/Tt*st,useOpacity:ye,useColorOpacity:()=>+!ye(),miter:h},elements:()=>Lt,vert:wE,frag:xE})},se=()=>{S===1&&i.length%lt>0&&console.warn(`The length of points (${L}) does not match the dimensions (${lt}). Incomplete points are ignored.`),_=i.flat().slice(0,L*lt),c&&(_=Qr.increaseStride(_,2,3,m)),o.length!==L&&(o=new Array(L).fill(0)),f.length!==L&&(f=new Array(L).fill(1));let st=o.slice(),Tt=s.length===L?s.slice():new Array(L).fill(+l),Nt=f.slice(),Ct=0;g.forEach(Ke=>{const Gt=Ct+Ke-1;Qr.copyElement(_,Gt,Gt,3),Qr.copyElement(_,Ct,Ct,3),Qr.copyElement(st,Gt,Gt,1),Qr.copyElement(st,Ct,Ct,1),Qr.copyElement(Tt,Gt,Gt,1),Qr.copyElement(Tt,Ct,Ct,1),Qr.copyElement(Nt,Gt,Gt,1),Qr.copyElement(Nt,Ct,Ct,1),Ct+=Ke+2}),y=new Float32Array(Qr.duplicate(_,3)),O=Qr.duplicate(st),F=Qr.duplicate(Tt),V=Qr.duplicate(Nt,1,-1),ee=SE(g),K({usage:"dynamic",type:"float",length:y.length*Ar,data:y}),He({usage:"dynamic",type:"float",length:F.length*Ar,data:F}),ve({usage:"dynamic",type:"float",length:V.length*Ar,data:V}),Je({usage:"dynamic",type:"float",length:O.length*Ar,data:O}),Lt({primitive:"triangles",usage:"dynamic",type:ee.length>2**16?"uint32":"uint16",data:ee})},Ae=()=>{rt(),Le()},rt=()=>{i=null,_=null,y=null,V=null,ee=null,K.destroy(),ve.destroy(),Lt.destroy()},At=({projection:st,model:Tt,view:Nt}={})=>{st&&(t=st),Tt&&(n=Tt),Nt&&(r=Nt),i&&i.length>1&&at({projection:t,model:n,view:r})},Pt=(st,Tt)=>{const Nt=Tt.flat(2);return Nt.length===L?Nt:Nt.length===S?g.map((Ct,Ke)=>Array(Ct).fill(Nt[Ke])).flat():st},Zt=()=>i,Bt=(st=[],{colorIndices:Tt=o,opacities:Nt=s,widths:Ct=f,is2d:Ke=c}={})=>{i=st,c=Ke,lt=c?2:3,S=Array.isArray(i[0])?i.length:1,g=S>1?i.map(Gt=>Math.floor(Gt.length/lt)):[Math.floor(i.length/lt)],L=g.reduce((Gt,ln)=>Gt+ln,0),o=Pt(o,Tt),s=Pt(s,Nt),f=Pt(f,Ct),i&&L>1?se():Ae()},yt=(st,Tt=-1)=>Array.isArray(st)?st.length&&!Array.isArray(st[0])?Tt+1:yt(st[0],++Tt):Tt,It=()=>{const st=yt(a)===0?[a]:a;Oe=Math.max(2,Math.ceil(Math.sqrt(st.length)));const Tt=new Uint8Array(Oe**2*4);st.forEach((Nt,Ct)=>{Tt[Ct*4]=Math.min(255,Math.max(0,Math.round(Nt[0]*255))),Tt[Ct*4+1]=Math.min(255,Math.max(0,Math.round(Nt[1]*255))),Tt[Ct*4+2]=Math.min(255,Math.max(0,Math.round(Nt[2]*255))),Tt[Ct*4+3]=Number.isNaN(+Nt[3])?255:Math.min(255,Math.max(0,Math.round(Nt[3]*255)))}),Re=e.texture({data:Tt,shape:[Oe,Oe,4]})},zt=(st,Tt=l)=>{a=st,l=Tt,Re&&Re.destroy(),It()},Yt=()=>({color:a,miter:h,width:u}),cn=({color:st,opacity:Tt,miter:Nt,width:Ct}={})=>{st&&zt(st,Tt),Nt&&(h=Nt),+Ct>0&&(u=Ct)},Ft=()=>({points:K,widths:ve,opacities:He,colorIndices:Je}),Jt=()=>({points:y,widths:V,opacities:F,colorIndices:O});return Le(),It(),i&&i.length>1&&Bt(i),{clear:Ae,destroy:rt,draw:At,getPoints:Zt,setPoints:Bt,getData:Jt,getBuffer:Ft,getStyle:Yt,setStyle:cn}};var Y0=bE;const AE=e=>e*e*e,g8=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,TE=e=>--e*e*e+1,CE=e=>e,LE=e=>e*e,RE=e=>e<.5?2*e*e:-1+(4-2*e)*e,OE=e=>e*(2-e),As=e=>e,kE=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},PE=e=>e.reduce((t,n)=>n>t?n:t,-1/0),E3=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},NE=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},B2=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),ME=(...e)=>t=>e.reduce((n,r)=>r(n),t),IE=e=>t=>B2({__proto__:{constructor:e}},t),S3=(e,t)=>n=>B2(n,{get[e](){return t}}),DE=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),FE=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),ss=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),y8=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let a=!1;const l=(...s)=>{a?(i++,o(...s)):(e(...s),o(...s),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},Yi="auto",$E=0,qp=1,BE=2,b3=3,jE=4,zE=Float32Array.BYTES_PER_ELEMENT,x8=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],A3={color:[0,0,0,0],depth:1},j2="panZoom",_8="lasso",w8="rotate",GE=[j2,_8,w8],UE=j2,VE={cubicIn:AE,cubicInOut:g8,cubicOut:TE,linear:CE,quadIn:LE,quadInOut:RE,quadOut:OE},T3=g8,Wi="continuous",ds="categorical",C3=[Wi,ds],mv="deselect",z2="lassoEnd",HE=[mv,z2],WE=[0,.666666667,1,1],XE=2,YE=!1,qE=10,QE=3,KE=z2,ZE=!1,Jd=750,eh=500,th=100,nh=250,G2="lasso",rh="rotate",ih="merge",JE=[G2,rh,ih],U2="alt",V2="cmd",E8="ctrl",S8="meta",H2="shift",eS=[U2,V2,E8,S8,H2],tS={[U2]:rh,[H2]:G2,[V2]:ih},nS=1,rS=Yi,iS=Yi,oS=1,Qp=1,aS=6,lS=2,sS=2,Kp=null,uS=2,cS=2,Zp=null,fS=null,Jp=null,dS=.66,hS=1,em=null,pS=.15,mS=25,vS=1,gS=1,tc=null,yS=[.66,.66,.66,hS],xS=[0,.55,1,1],_S=[1,1,1,1],wS=[0,0,0,1],tm=null,ES=[.66,.66,.66,.2],SS=[0,.55,1,1],bS=[1,1,1,1],AS=[0,0],TS=1,CS=0,LS=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),RS="IMAGE_LOAD_ERROR",OS=null,kS=!1,PS=[1,1,1,.5],NS=!0,MS=!0,IS=!1,DS=100,FS=1/500,$S="auto",BS=!1,jS=200,zS=500,b8=new Set(["z","valueZ","valueA","value1","category"]),A8=new Set(["w","valueW","valueB","value2","value"]),W2=15e3,L3="Points have not been drawn",GS=(e,t)=>e?x8.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,US=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return x8.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),nE({gl:t,extensions:n})},nm=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),VS=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},HS=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,WS=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),Qo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Ko=e=>!Number.isNaN(+e)&&+e>=0,q0=e=>!Number.isNaN(+e)&&+e>0,R3=(e,t)=>n=>e.indexOf(n)>=0?n:t,XS=(e,t=!1,n=W2)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error(RS))};o.onerror=a,setTimeout(a,n)}),O3=(e,t,n=W2)=>new Promise((r,i)=>{XS(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),YS=(e,t=!1)=>[...WS(e,t),255**!t],qS=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),QS=e=>e>=0&&e<=1,oh=e=>Array.isArray(e)&&e.every(QS),KS=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],o=e[u],a=e[u+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),u=s;return l},vv=e=>typeof e=="string"||e instanceof String,ZS=e=>Number.isInteger(e)&&e>=0&&e<=255,T8=e=>Array.isArray(e)&&e.every(ZS),JS=e=>e.length===3&&(oh(e)||T8(e)),eb=e=>e.length===4&&(oh(e)||T8(e)),Zo=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||vv(e[0])),Q0=(e,t)=>e>t?e:t,k3=(e,t)=>e<t?e:t,Ir=(e,t)=>{if(eb(e)){const n=oh(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(JS(e)){const n=255**!t,r=oh(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return qS(e)?YS(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},P3=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),N3=e=>.21*e[0]+.72*e[1]+.07*e[2],tb=(e,t,n)=>Math.min(n,Math.max(t,e)),nb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=oS}=e;t||(t=US(n));const i=GS(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=L=>{const g=L.getContext("2d");g.clearRect(0,0,L.width,L.height),g.drawImage(n,(n.width-L.width)/2,(n.height-L.height)/2,L.width,L.height,0,0,L.width,L.height)},u=(L,g)=>{t.clear(A3),a.use(()=>{t.clear(A3),L()}),l(),s(g)},f=()=>{t.poll()},h=new Set,c=L=>(h.add(L),()=>{h.delete(L)}),m=t.frame(()=>{const L=h.values();let g=L.next();for(;!g.done;)g.value(),g=L.next()}),v=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",v),window.addEventListener("orientationchange",v),v()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(L){r=+L},get isSupported(){return i},render:u,onFrame:c,refresh:f,destroy:()=>{m.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}}},rb=!0,rm=8,M3=2,ib=2500,ob=250,ab=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},lb=(e,t,n)=>(1-e)*t+n,sb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,ub=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,cb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,fb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,db=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,hb=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,pb=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,mb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,vb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,gb=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,yb=({time:e=Jd,extraTime:t=eh,delay:n=th,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:f})=>{const h=l/360,c=lb(h,e,t),m=Math.round((1-h)*e/c*100),v=Math.round(m/2),S=m+(100-m)/4;return{rules:{main:hb(m,r,i),effect:pb(m,S,o,a),circleRight:gb(v,s),circleLeft:vb(m,l),circle:mb(v,u,f)},names:{main:sb(c,n),effect:ub(c,n),circleLeft:cb(c,n),circleRight:fb(c,n),circle:db(c,n)}}},xb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,_b=e=>`${e}ms linear effectOut 0s 1 normal forwards`,wb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Eb=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Sb=e=>`${e}ms linear circleOut 0s 1 normal forwards`,bb=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Ab=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Tb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,Cb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,Lb=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,Rb=({time:e=nh,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:s})=>{const u=o/360,f=u*e,h=Math.min(100,u*100),c=h>50?Math.round((1-50/h)*100):0;return{rules:{main:bb(t,n),effect:Ab(r,i),circleRight:Tb(c,a),circleLeft:Cb(o),circle:Lb(c,l,s)},names:{main:xb(f),effect:_b(f),circleRight:wb(f),circleLeft:Eb(f),circle:Sb(f)}}},nc=(e,t=null)=>e===null?t:e;let im;const C8=()=>{if(!im){const e=document.createElement("style");document.head.appendChild(e),im=e.sheet}return im},ui=e=>{const t=C8(),n=t.rules.length;return t.insertRule(e,n),n},ci=e=>{C8().deleteRule(e)},Ob=`${ib}ms ease scaleInFadeOut 0s 1 normal backwards`,kb=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let om=null;const Pb=`${ob}ms ease fadeScaleOut 0s 1 normal backwards`,Nb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let am=null;const L8=(e,{onDraw:t=As,onStart:n=As,onEnd:r=As,enableInitiator:i=rb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=rm,minDist:s=M3,pointNorm:u=As}={})=>{let f=i,h=o,c=a,m=t,v=n,S=r,L=u;const g=document.createElement("div"),_=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);g.id=`lasso-initiator-${_}`,g.style.position="fixed",g.style.display="flex",g.style.justifyContent="center",g.style.alignItems="center",g.style.zIndex=99,g.style.width="4rem",g.style.height="4rem",g.style.borderRadius="4rem",g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:y,longPressCircle:O,longPressCircleLeft:F,longPressCircleRight:V,longPressEffect:ee}=ab();let K=!1,He=!1,ve=[],Re=[],Oe,Je=!1,De=null,Lt=null,at=null,lt=null,ye=null,Le=null,se=null,Ae=null,rt=null,At=null;const Pt=()=>{K=!1},Zt=he=>{const{left:Fe,top:ce}=e.getBoundingClientRect();return[he.clientX-Fe,he.clientY-ce]};window.addEventListener("mouseup",Pt);const Bt=()=>{g.style.opacity=.5,g.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},yt=(he,Fe)=>{const ce=getComputedStyle(he),xt=+ce.opacity,dt=ce.transform.match(/([0-9.-]+)+/g),Te=+dt[0],Rt=+dt[1],Wt=Math.sqrt(Te*Te+Rt*Rt);let Ie=Math.atan2(Rt,Te)*(180/Math.PI);return Ie=Fe&&Ie<=0?360+Ie:Ie,{opacity:xt,scale:Wt,rotate:Ie}},It=he=>{if(!f||K)return;const Fe=he.clientX,ce=he.clientY;g.style.top=`${ce}px`,g.style.left=`${Fe}px`;const xt=yt(g),dt=xt.opacity,Te=xt.scale,Rt=xt.rotate;g.style.opacity=dt,g.style.transform=`translate(-50%,-50%) scale(${Te}) rotate(${Rt}deg)`,g.style.animation="none",ss().then(()=>{om!==null&&ci(om),om=ui(kb(dt,Te,Rt)),g.style.animation=Ob,ss().then(()=>{Bt()})})},zt=()=>{const{opacity:he,scale:Fe,rotate:ce}=yt(g);g.style.opacity=he,g.style.transform=`translate(-50%,-50%) scale(${Fe}) rotate(${ce}deg)`,g.style.animation="none",ss(2).then(()=>{am!==null&&ci(am),am=ui(Nb(he,Fe,ce)),g.style.animation=Pb,ss().then(()=>{Bt()})})},Yt=(he,Fe,{time:ce=Jd,extraTime:xt=eh,delay:dt=th}={time:Jd,extraTime:eh,delay:th})=>{Je=!0;const Te=getComputedStyle(y);y.style.color=Te.color,y.style.top=`${Fe}px`,y.style.left=`${he}px`,y.style.animation="none";const Rt=getComputedStyle(O);O.style.clipPath=Rt.clipPath,O.style.opacity=Rt.opacity,O.style.animation="none";const Wt=yt(ee);ee.style.opacity=Wt.opacity,ee.style.transform=`scale(${Wt.scale})`,ee.style.animation="none";const Ie=yt(F);F.style.transform=`rotate(${Ie.rotate}deg)`,F.style.animation="none";const Dt=yt(V);V.style.transform=`rotate(${Dt.rotate}deg)`,V.style.animation="none",ss().then(()=>{if(!Je)return;ye!==null&&ci(ye),lt!==null&&ci(lt),at!==null&&ci(at),Lt!==null&&ci(Lt),De!==null&&ci(De);const{rules:fn,names:$t}=yb({time:ce,extraTime:xt,delay:dt,currentColor:Te.color||"currentcolor",targetColor:y.dataset.activeColor,effectOpacity:Wt.opacity||0,effectScale:Wt.scale||0,circleLeftRotation:Ie.rotate||0,circleRightRotation:Dt.rotate||0,circleClipPath:Rt.clipPath||"inset(0 0 0 50%)",circleOpacity:Rt.opacity||0});De=ui(fn.main),Lt=ui(fn.effect),at=ui(fn.circleLeft),lt=ui(fn.circleRight),ye=ui(fn.circle),y.style.animation=$t.main,ee.style.animation=$t.effect,F.style.animation=$t.circleLeft,V.style.animation=$t.circleRight,O.style.animation=$t.circle})},cn=({time:he=nh}={time:nh})=>{if(!Je)return;Je=!1;const Fe=getComputedStyle(y);y.style.color=Fe.color,y.style.animation="none";const ce=getComputedStyle(O);O.style.clipPath=ce.clipPath,O.style.opacity=ce.opacity,O.style.animation="none";const xt=yt(ee);ee.style.opacity=xt.opacity,ee.style.transform=`scale(${xt.scale})`,ee.style.animation="none";const dt=ce.clipPath.slice(-2,-1)==="x",Te=yt(F,dt);F.style.transform=`rotate(${Te.rotate}deg)`,F.style.animation="none";const Rt=yt(V);V.style.transform=`rotate(${Rt.rotate}deg)`,V.style.animation="none",ss().then(()=>{At!==null&&ci(At),rt!==null&&ci(rt),Ae!==null&&ci(Ae),se!==null&&ci(se),Le!==null&&ci(Le);const{rules:Wt,names:Ie}=Rb({time:he,currentColor:Fe.color||"currentcolor",targetColor:y.dataset.color,effectOpacity:xt.opacity||0,effectScale:xt.scale||0,circleLeftRotation:Te.rotate||0,circleRightRotation:Rt.rotate||0,circleClipPath:ce.clipPath||"inset(0px)",circleOpacity:ce.opacity||1});Le=ui(Wt.main),se=ui(Wt.effect),Ae=ui(Wt.circleLeft),rt=ui(Wt.circleRight),At=ui(Wt.circle),y.style.animation=Ie.main,ee.style.animation=Ie.effect,F.style.animation=Ie.circleLeft,V.style.animation=Ie.circleRight,O.style.animation=Ie.circle})},Ft=()=>{m(ve,Re)},Jt=he=>{if(Oe){if(DE(he[0],he[1],Oe[0],Oe[1])>M3){Oe=he;const ce=L(he);ve.push(ce),Re.push(ce[0],ce[1]),ve.length>1&&Ft()}}else{He||(He=!0,v()),Oe=he;const Fe=L(he);ve=[Fe],Re=[Fe[0],Fe[1]]}},st=y8(Jt,rm,rm),Tt=(he,Fe)=>{const ce=Zt(he);return Fe?st(ce):Jt(ce)},Nt=()=>{ve=[],Re=[],Oe=void 0,Ft()},Ct=he=>{It(he)},Ke=()=>{K=!0,He=!0,Nt(),v()},Gt=()=>{zt()},ln=({merge:he=!1}={})=>{He=!1;const Fe=[...ve],ce=[...Re];return st.cancel(),Nt(),Fe.length&&S(Fe,ce,{merge:he}),Fe},en=({onDraw:he=null,onStart:Fe=null,onEnd:ce=null,enableInitiator:xt=null,initiatorParentElement:dt=null,longPressIndicatorParentElement:Te=null,minDelay:Rt=null,minDist:Wt=null,pointNorm:Ie=null}={})=>{m=nc(he,m),v=nc(Fe,v),S=nc(ce,S),f=nc(xt,f),L=nc(Ie,L),dt!==null&&dt!==h&&(h.removeChild(g),dt.appendChild(g),h=dt),Te!==null&&Te!==c&&(c.removeChild(y),Te.appendChild(y),c=Te),f?(g.addEventListener("click",Ct),g.addEventListener("mousedown",Ke),g.addEventListener("mouseleave",Gt)):(g.removeEventListener("mousedown",Ke),g.removeEventListener("mouseleave",Gt))},qn=()=>{h.removeChild(g),c.removeChild(y),window.removeEventListener("mouseup",Pt),g.removeEventListener("click",Ct),g.removeEventListener("mousedown",Ke),g.removeEventListener("mouseleave",Gt)},E=()=>he=>B2(he,{clear:Nt,destroy:qn,end:ln,extend:Tt,set:en,showInitiator:It,hideInitiator:zt,showLongPressIndicator:Yt,hideLongPressIndicator:cn});return h.appendChild(g),c.appendChild(y),en({onDraw:m,onStart:v,onEnd:S,enableInitiator:f,initiatorParentElement:h}),ME(S3("initiator",g),S3("longPressIndicator",y),E(),IE(L8))({})},Mb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Ib=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Db=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Fb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,$b=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,Bb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,jb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,zb=function(){const t=(u,f,h,c,m)=>{const v=(c-f)*.5,S=(m-h)*.5;return(2*h-2*c+v+S)*u*u*u+(-3*h+3*c-2*v-S)*u*u+v*u+h},n=(u,f,h)=>{const c=h*u,m=Math.floor(c),v=c-m,S=f[Math.max(0,m-1)],L=f[m],g=f[Math.min(h,m+1)],_=f[Math.min(h,m+2)];return[t(v,S[0],L[0],g[0],_[0]),t(v,S[1],L[1],g[1],_[1])]},r=(u,f,h,c)=>(u-h)**2+(f-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,f,h)=>{let c=f[0],m=f[1],v=h[0]-c,S=h[1]-m;if(v!==0||S!==0){const L=((u[0]-c)*v+(u[1]-m)*S)/(v*v+S*S);L>1?(c=h[0],m=h[1]):L>0&&(c+=v*L,m+=S*L)}return v=u[0]-c,S=u[1]-m,v*v+S*S};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(u,f,h,c,m)=>{let v=c,S;for(let L=f+1;L<h;L++){const g=i(u[L],u[f],u[h]);g>v&&(S=L,v=g)}v>c&&(S-f>1&&o(u,f,S,c,m),m.push(u[S]),h-S>1&&o(u,S,h,c,m))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(u,f)=>{const h=u.length-1,c=[u[0]];return o(u,0,h,f,c),c.push(u[h]),c},l=(u,{maxIntPointsPerSegment:f=100,tolerance:h=.002}={})=>{const c=u.length,m=c-1,v=m*f+1,S=h**2;let L=[],g;for(let _=0;_<c-1;_++){let y=[u[_].slice(0,2)];g=u[_];for(let O=1;O<f;O++){const F=(_*f+O)/v,V=n(F,u,m);r(g[0],g[1],V[0],V[1])>S&&(y.push(V),g=V)}y.push(u[_+1]),y=a(y,S),L=L.concat(y.slice(0,y.length-1))}return L.push(u[u.length-1].slice(0,2)),L.flat()},s=u=>{const f={},h=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const m=c[4];f[m]||(f[m]=[]),h?f[m][c[5]]=c:f[m].push(c)}),Object.entries(f).forEach(c=>{f[c[0]]=c[1].filter(m=>m),f[c[0]].reference=c[1][0]}),f};self.onmessage=function(f){(f.data.points?+f.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),f.data.points;const c=s(f.data.points);self.postMessage({points:Object.entries(c).reduce((m,v)=>(m[v[0]]=l(v[1],f.data.options),m[v[0]].reference=v[1].reference,m),{})})}},Gb=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=FE(zb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var Ub="1.8.5";const lm={showRecticle:"showReticle",recticleColor:"reticleColor"},sm=e=>{Object.keys(e).filter(t=>lm[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${lm[t]}" instead.`),e[lm[t]]=e[t],delete e[t]})},fi=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>b8.has(e)?"valueZ":A8.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,um=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},Vb=(e={})=>{const t=Jw({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];sm(e);let{renderer:o,backgroundColor:a=wS,backgroundImage:l=OS,canvas:s=document.createElement("canvas"),colorBy:u=tc,deselectOnDblClick:f=NS,deselectOnEscape:h=MS,lassoColor:c=WE,lassoLineWidth:m=XE,lassoMinDelay:v=qE,lassoMinDist:S=QE,lassoClearEvent:L=KE,lassoInitiator:g=YE,lassoInitiatorParentElement:_=document.body,lassoOnLongPress:y=ZE,lassoLongPressTime:O=Jd,lassoLongPressAfterEffectTime:F=eh,lassoLongPressEffectDelay:V=th,lassoLongPressRevertEffectTime:ee=nh,keyMap:K=tS,mouseMode:He=UE,showReticle:ve=kS,reticleColor:Re=PS,pointColor:Oe=yS,pointColorActive:Je=xS,pointColorHover:De=_S,showPointConnections:Lt=IS,pointConnectionColor:at=ES,pointConnectionColorActive:lt=SS,pointConnectionColorHover:ye=bS,pointConnectionColorBy:Le=tm,pointConnectionOpacity:se=fS,pointConnectionOpacityBy:Ae=Jp,pointConnectionOpacityActive:rt=dS,pointConnectionSize:At=uS,pointConnectionSizeActive:Pt=cS,pointConnectionSizeBy:Zt=Zp,pointConnectionMaxIntPointsPerSegment:Bt=DS,pointConnectionTolerance:yt=FS,pointSize:It=aS,pointSizeSelected:zt=lS,pointSizeMouseDetection:Yt=$S,pointOutlineWidth:cn=sS,opacity:Ft=Yi,opacityBy:Jt=em,opacityByDensityFill:st=pS,opacityInactiveMax:Tt=vS,opacityInactiveScale:Nt=gS,sizeBy:Ct=Kp,height:Ke=iS,width:Gt=rS}=e,ln=Gt===Yi?1:Gt,en=Ke===Yi?1:Ke;const{performanceMode:qn=BS,opacityByDensityDebounceTime:E=mS}=e;o||(o=nb({regl:e.regl,gamma:e.gamma})),a=Ir(a,!0),c=Ir(c,!0),Re=Ir(Re,!0);let he=!1,Fe=N3(a),ce,xt,dt=!1,Te=null,Rt=[0,0],Wt=-1,Ie=[];const Dt=new Set,fn=new Set;let $t=!1;const dn=new Set;let pn=0,Ln=0,wn=!1,lr=[],yn,gr,te=e.aspectRatio||nS,gt,it,wt,Ut,mn,Ye,Et,kt,An,Rn=P3(K),er,sr,Tn,tr=!1,ot=!0,Sr=!1,Oo;Oe=Zo(Oe)?[...Oe]:[Oe],Je=Zo(Je)?[...Je]:[Je],De=Zo(De)?[...De]:[De],Oe=Oe.map(d=>Ir(d,!0)),Je=Je.map(d=>Ir(d,!0)),De=De.map(d=>Ir(d,!0)),Ft=!Array.isArray(Ft)&&Number.isNaN(+Ft)?Oe[0][3]:Ft,Ft=Qo(Ft,Ko,{minLength:1})?[...Ft]:[Ft],It=Qo(It,Ko,{minLength:1})?[...It]:[It];let La=Qp/It[0];at==="inherit"?at=[...Oe]:(at=Zo(at)?[...at]:[at],at=at.map(d=>Ir(d,!0))),lt==="inherit"?lt=[...Je]:(lt=Zo(lt)?[...lt]:[lt],lt=lt.map(d=>Ir(d,!0))),ye==="inherit"?ye=[...De]:(ye=Zo(ye)?[...ye]:[ye],ye=ye.map(d=>Ir(d,!0))),se==="inherit"?se=[...Ft]:se=Qo(se,Ko,{minLength:1})?[...se]:[se],At==="inherit"?At=[...It]:At=Qo(At,Ko,{minLength:1})?[...At]:[At],u=fi(u,tc),Jt=fi(Jt,em,{allowDensity:!0}),Ct=fi(Ct,Kp),Le=fi(Le,tm,{allowSegment:!0}),Ae=fi(Ae,Jp,{allowSegment:!0}),Zt=fi(Zt,Zp,{allowSegment:!0});let zr,Gr,Ur,un,On=0,to=0,Vr,Ra,xi,Ll,Rl,Ol,kl,no=!1,Oa=null,eu,tu,ff=ve,ko,Po=0,Pl,No=0,nu=!1,kr=!1,Di=!1,Fi=ds,ro=ds,Qn,ai=!1,nr=e.xScale||null,$n=e.yScale||null,Mo=0,Nl=0,Ml=0,Il=0;nr&&(Mo=nr.domain()[0],Nl=nr.domain()[1]-nr.domain()[0],nr.range([0,ln])),$n&&(Ml=$n.domain()[0],Il=$n.domain()[1]-$n.domain()[0],$n.range([en,0]));const df=d=>-1+d/ln*2,Pr=d=>1+d/en*-2,br=()=>[df(i[0]),Pr(i[1])],Hr=(d,$)=>{const H=[d,$,1,1],ue=hv(n,Cr(n,gt,Cr(n,ce.view,wt)));return xd(H,H,ue),H.slice(0,2)},hf=(d=0)=>{const $=Fa(),ue=(sr[1]-Tn[1])/s.height;return(An*$+d)*ue},ru=()=>$t?yn.points.filter((d,$)=>dn.has($)):yn.points,Dl=(d,$,H,ue)=>{const Pe=yn.range(d,$,H,ue);return $t?Pe.filter(We=>dn.has(We)):Pe},iu=()=>{const[d,$]=br(),[H,ue]=Hr(d,$),Pe=hf(4),We=Dl(H-Pe,ue-Pe,H+Pe,ue+Pe);let et=Pe,Ot=-1;return We.forEach(tn=>{const[Qt,Bn]=yn.points[tn],an=nm(Qt,Bn,H,ue);an<et&&(et=an,Ot=tn)}),Ot},Jh=(d,$)=>{lr=d,xt.setPoints($),t.publish("lassoExtend",{coordinates:d})},e1=d=>{const $=VS(d);if(!HS($))return[];const H=Dl(...$),ue=[];return H.forEach(Pe=>{KS(d,yn.points[Pe])&&ue.push(Pe)}),ue},Io=()=>{lr=[],xt&&xt.clear()},ka=d=>d&&d.length>4,io=(d,$)=>{if(Ye||!Lt||!ka(yn.points[d[0]]))return;const H=$===0,ue=$===1?et=>fn.add(et):As,Pe=Object.keys(d.reduce((et,Ot)=>{const tn=yn.points[Ot],Bn=Array.isArray(tn[4])?tn[4][0]:tn[4];return et[Bn]=!0,et},{})),We=Ut.getData().opacities;Pe.filter(et=>!fn.has(+et)).forEach(et=>{const Ot=mn[et][0],tn=mn[et][2],Qt=mn[et][3],Bn=Ot*4+Qt*2,an=Bn+tn*2+4;We.__original__===void 0&&(We.__original__=We.slice());for(let Kt=Bn;Kt<an;Kt++)We[Kt]=H?We.__original__[Kt]:rt;ue(et)}),Ut.getBuffer().opacities.subdata(We,0)},Fl=d=>[d%On/On+to,Math.floor(d/On)/On+to],t1=d=>$t&&!dn.has(d),$l=({preventEvent:d=!1}={})=>{L===mv&&Io(),Ie.length&&(d||t.publish("deselect"),fn.clear(),io(Ie,0),Ie=[],Dt.clear(),ot=!0)},Do=(d,{merge:$=!1,preventEvent:H=!1}={})=>{const ue=Array.isArray(d)?d:[d],Pe=[...Ie];if($){if(Ie=NE(Ie,ue),Pe.length===Ie.length){ot=!0;return}}else{if(Ie&&Ie.length&&io(Ie,0),Pe.length>0&&ue.length===0){$l({preventEvent:H});return}Ie=ue}if(kE(Pe,Ie)){ot=!0;return}const We=[];Dt.clear(),fn.clear();for(let et=Ie.length-1;et>=0;et--){const Ot=Ie[et];if(Ot<0||Ot>=pn||t1(Ot)){Ie.splice(et,1);continue}Dt.add(Ot),We.push.apply(We,Fl(Ot))}Ra({usage:"dynamic",type:"float",data:We}),io(Ie,1),H||t.publish("select",{points:Ie}),ot=!0},Pa=(d,{showReticleOnce:$=!1,preventEvent:H=!1}={})=>{let ue=!1;if(d>=0&&d<pn){ue=!0;const Pe=Qn,We=d!==Qn;+Pe>=0&&We&&!Dt.has(Pe)&&io([Pe],0),Qn=d,xi.subdata(Fl(d)),Dt.has(d)||io([d],2),We&&!H&&t.publish("pointover",Qn)}else ue=+Qn>=0,ue&&(Dt.has(Qn)||io([Qn],0),H||t.publish("pointout",Qn)),Qn=void 0;ue&&(ot=!0,Sr=$)},ou=d=>{const $=s.getBoundingClientRect();return i[0]=d.clientX-$.left,i[1]=d.clientY-$.top,[...i]},Un=L8(s,{onStart:()=>{ce.config({isFixed:!0}),dt=!0,wn=!0,Io(),Wt>=0&&(clearTimeout(Wt),Wt=-1),t.publish("lassoStart")},onDraw:Jh,onEnd:(d,$,{merge:H=!1}={})=>{ce.config({isFixed:!1}),lr=[...d];const ue=e1($);Do(ue,{merge:H}),t.publish("lassoEnd",{coordinates:lr}),L===z2&&Io()},enableInitiator:g,initiatorParentElement:_,pointNorm:([d,$])=>Hr(df(d),Pr($))}),Bl=()=>He===_8,Na=(d,$)=>{switch(Rn[$]){case U2:return d.altKey;case V2:return d.metaKey;case E8:return d.ctrlKey;case S8:return d.metaKey;case H2:return d.shiftKey;default:return!1}},pf=d=>document.elementsFromPoint(d.clientX,d.clientY).some($=>$===s),au=d=>{!kr||d.buttons!==1||(dt=!0,Te=performance.now(),Rt=ou(d),wn=Bl()||Na(d,G2),!wn&&y&&(Un.showLongPressIndicator(d.clientX,d.clientY,{time:O,extraTime:F,delay:V}),Wt=setTimeout(()=>{Wt=-1,wn=!0},O)))},lu=d=>{kr&&(dt=!1,Wt>=0&&(clearTimeout(Wt),Wt=-1),wn&&(d.preventDefault(),wn=!1,Un.end({merge:Na(d,ih)})),y&&Un.hideLongPressIndicator({time:ee}))},jl=d=>{if(!kr)return;d.preventDefault();const $=ou(d);if(nm(...$,...Rt)>=S)return;const H=performance.now()-Te;if(!g||H<zS){const ue=iu();ue>=0?(Ie.length&&L===mv&&Io(),Do([ue],{merge:Na(d,ih)})):er||(er=setTimeout(()=>{er=null,Un.showInitiator(d)},jS))}},zl=d=>{Un.hideInitiator(),er&&(clearTimeout(er),er=null),f&&(d.preventDefault(),$l())},_i=d=>{if(Di||(ai=pf(d),Di=!0),!kr||!ai&&!dt)return;const $=ou(d),ue=nm(...$,...Rt)>=S;ai&&!wn&&Pa(iu()),wn?(d.preventDefault(),Un.extend(d,!0)):dt&&y&&ue&&Un.hideLongPressIndicator({time:ee}),Wt>=0&&ue&&(clearTimeout(Wt),Wt=-1),dt&&(ot=!0)},Ma=()=>{Qn=void 0,ai=!1,Di=!1,kr&&(+Qn>=0&&!Dt.has(Qn)&&io([Qn],0),lu(),ot=!0)},Gl=()=>{const d=Math.max(It.length,Ft.length);No=Math.max(2,Math.ceil(Math.sqrt(d)));const $=new Float32Array(No**2*4);for(let H=0;H<d;H++){$[H*4]=It[H]||0,$[H*4+1]=Math.min(1,Ft[H]||0);const ue=Number((Je[H]||Je[0])[3]);$[H*4+2]=Math.min(1,Number.isNaN(ue)?1:ue);const Pe=Number((De[H]||De[0])[3]);$[H*4+3]=Math.min(1,Number.isNaN(Pe)?1:Pe)}return o.regl.texture({data:$,shape:[No,No,4],type:"float"})},su=(d=Oe,$=Je,H=De)=>{const ue=d.length,Pe=$.length,We=H.length,et=[];if(ue===Pe&&Pe===We)for(let Ot=0;Ot<ue;Ot++)et.push(d[Ot],$[Ot],H[Ot],a);else for(let Ot=0;Ot<ue;Ot++){const tn=[d[Ot][0],d[Ot][1],d[Ot][2],1],Qt=u===tc?$[0]:tn,Bn=u===tc?H[0]:tn;et.push(d[Ot],Qt,Bn,a)}return et},uu=()=>{const d=su(),$=d.length;Po=Math.max(2,Math.ceil(Math.sqrt($)));const H=new Float32Array(Po**2*4);return d.forEach((ue,Pe)=>{H[Pe*4]=ue[0],H[Pe*4+1]=ue[1],H[Pe*4+2]=ue[2],H[Pe*4+3]=ue[3]}),o.regl.texture({data:H,shape:[Po,Po,4],type:"float"})},n1=(d,$)=>{it[0]=d/gr,it[5]=$},cu=()=>{gr=ln/en,gt=yd([],[1/gr,1,1]),it=yd([],[1/gr,1,1]),wt=yd([],[te,1,1])},r1=d=>{+d<=0||(te=d)},fu=(d,$)=>H=>{if(!H||!H.length)return;const Pe=[...d()];let We=Zo(H)?H:[H];We=We.map(et=>Ir(et,!0)),ko&&ko.destroy();try{$(We),ko=uu()}catch{console.error("Invalid colors. Switching back to default colors."),$(Pe),ko=uu()}},i1=fu(()=>Oe,d=>{Oe=d}),o1=fu(()=>Je,d=>{Je=d}),$i=fu(()=>De,d=>{De=d}),a1=()=>{const d=Hr(-1,-1),$=Hr(1,1),H=(d[0]+1)/2,ue=($[0]+1)/2,Pe=(d[1]+1)/2,We=($[1]+1)/2,et=[Mo+H*Nl,Mo+ue*Nl],Ot=[Ml+Pe*Il,Ml+We*Il];return[et,Ot]},oo=()=>{if(!nr&&!$n)return;const[d,$]=a1();nr&&nr.domain(d),$n&&$n.domain($)},ao=d=>{en=Math.max(1,d),s.height=Math.floor(en*window.devicePixelRatio),$n&&($n.range([en,0]),oo())},l1=d=>{if(d===Yi){Ke=d,s.style.height="100%",window.requestAnimationFrame(()=>{s&&ao(s.getBoundingClientRect().height)});return}!+d||+d<=0||(Ke=+d,ao(Ke),s.style.height=`${Ke}px`)},Bi=()=>{An=Yt,Yt===Yi&&(An=Array.isArray(It)?PE(It):It)},mf=d=>{Qo(d,Ko,{minLength:1})&&(It=[...d]),q0(+d)&&(It=[+d]),La=Qp/It[0],Pl=Gl(),Bi()},$o=d=>{!+d||+d<0||(zt=+d)},vf=d=>{!+d||+d<0||(cn=+d)},wi=d=>{ln=Math.max(1,d),s.width=Math.floor(ln*window.devicePixelRatio),nr&&(nr.range([0,ln]),oo())},du=d=>{if(d===Yi){Gt=d,s.style.width="100%",window.requestAnimationFrame(()=>{s&&wi(s.getBoundingClientRect().width)});return}!+d||+d<=0||(Gt=+d,wi(Gt),s.style.width=`${ln}px`)},s1=d=>{Qo(d,Ko,{minLength:1})&&(Ft=[...d]),q0(+d)&&(Ft=[+d]),Pl=Gl()},hu=d=>{switch(d){case"valueZ":return Fi;case"valueW":return ro;default:return null}},pu=(d,$)=>{switch(d){case Wi:return H=>Math.round(H*($.length-1));case ds:default:return As}},gf=d=>{u=fi(d,tc)},u1=d=>{Jt=fi(d,em,{allowDensity:!0})},c1=d=>{Ct=fi(d,Kp)},yf=d=>{Le=fi(d,tm,{allowSegment:!0})},vn=d=>{Ae=fi(d,Jp,{allowSegment:!0})},xf=d=>{Zt=fi(d,Zp,{allowSegment:!0})},f1=()=>[s.width,s.height],li=()=>l,mu=()=>ko,Ul=()=>Po,lo=()=>.5/Po,vu=()=>window.devicePixelRatio,Vl=()=>Vr,so=()=>Ra,Hl=()=>Pl,_f=()=>No,gu=()=>.5/No,yu=()=>0,d1=()=>Ur||zr,h1=()=>On,p1=()=>.5/On,wf=()=>it,Wl=()=>ce.view,Ia=()=>wt,Da=()=>Cr(r,it,Cr(r,ce.view,wt)),Fa=()=>ce.scaling[0]>1?Math.asinh(Q0(1,ce.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Q0(La,ce.scaling[0])*window.devicePixelRatio,Bo=()=>$t?dn.size:pn,uo=()=>Ie.length,xu=()=>uo()>0?Tt:1,_u=()=>uo()>0?Nt:1,wu=()=>+(u==="valueZ"),Ef=()=>+(u==="valueW"),Sf=()=>+(Jt==="valueZ"),bf=()=>+(Jt==="valueW"),Af=()=>+(Jt==="density"),Tf=()=>+(Ct==="valueZ"),Cf=()=>+(Ct==="valueW"),Lf=()=>u==="valueZ"?Fi===Wi?Oe.length-1:1:ro===Wi?Oe.length-1:1,Rf=()=>Jt==="valueZ"?Fi===Wi?Ft.length-1:1:ro===Wi?Ft.length-1:1,jo=()=>Ct==="valueZ"?Fi===Wi?It.length-1:1:ro===Wi?It.length-1:1,Eu=d=>{if(Jt!=="density")return 1;const $=Fa(),H=It[0]*$,ue=2/(2/ce.view[0])*(2/(2/ce.view[5])),Pe=d.viewportHeight,We=d.viewportWidth;let et=st*We*Pe/(Ln*H*H)*k3(1,ue);et*=qn?1:1/(.25*Math.PI);const Ot=Q0(Qp,H)+.5;return et*=(H/Ot)**2,k3(1,Q0(0,et))},Su=o.regl({framebuffer:()=>un,vert:jb,frag:Bb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>Gr,endStateTex:()=>zr,t:(d,$)=>$.t},count:3}),Wr=(d,$,H,ue=$E,Pe=xu,We=_u)=>o.regl({frag:qn?Fb:Db,vert:$b(ue),blend:{enable:!qn,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:H,size:2}},uniforms:{resolution:f1,modelViewProjection:Da,devicePixelRatio:vu,pointScale:Fa,encodingTex:Hl,encodingTexRes:_f,encodingTexEps:gu,pointOpacityMax:Pe,pointOpacityScale:We,pointSizeExtra:d,globalState:ue,colorTex:mu,colorTexRes:Ul,colorTexEps:lo,stateTex:d1,stateTexRes:h1,stateTexEps:p1,isColoredByZ:wu,isColoredByW:Ef,isOpacityByZ:Sf,isOpacityByW:bf,isOpacityByDensity:Af,isSizedByZ:Tf,isSizedByW:Cf,colorMultiplicator:Lf,opacityMultiplicator:Rf,opacityDensity:Eu,sizeMultiplicator:jo,numColorStates:jE},count:$,primitive:"points"}),m1=Wr(yu,Bo,Vl),v1=Wr(yu,()=>1,()=>xi,BE,()=>1,()=>1),g1=Wr(()=>(zt+cn*2)*window.devicePixelRatio,uo,so,qp,()=>1,()=>1),bu=Wr(()=>(zt+cn)*window.devicePixelRatio,uo,so,b3,()=>1,()=>1),y1=Wr(()=>zt*window.devicePixelRatio,uo,so,qp,()=>1,()=>1),x1=()=>{g1(),bu(),y1()},_1=o.regl({frag:Mb,vert:Ib,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:Da,texture:li},count:6}),Au=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>lr},uniforms:{modelViewProjection:Da,color:()=>c},elements:()=>Array.from({length:lr.length-2},(d,$)=>[0,$+1,$+2])}),w1=()=>{if(!(Qn>=0))return;const[d,$]=yn.points[Qn].slice(0,2),H=[d,$,0,1];Cr(n,it,Cr(n,ce.view,wt)),xd(H,H,n),Et.setPoints([-1,H[1],1,H[1]]),kt.setPoints([H[0],1,H[0],-1]),Et.draw(),kt.draw(),Wr(()=>(zt+cn*2)*window.devicePixelRatio,()=>1,xi,qp)(),Wr(()=>(zt+cn)*window.devicePixelRatio,()=>1,xi,b3)()},Xl=d=>{const $=new Float32Array(d*2);let H=0;for(let ue=0;ue<d;++ue){const Pe=Fl(ue);$[H]=Pe[0],$[H+1]=Pe[1],H+=2}return $},Tu=(d,$={})=>{const H=d.length;On=Math.max(2,Math.ceil(Math.sqrt(H))),to=.5/On;const ue=new Float32Array(On**2*4);let Pe=!0,We=!0,et=0,Ot=0,tn=0;for(let Qt=0;Qt<H;++Qt)et=Qt*4,ue[et]=d[Qt][0],ue[et+1]=d[Qt][1],Ot=d[Qt][2]||0,tn=d[Qt][3]||0,ue[et+2]=Ot,ue[et+3]=tn,Pe&&(Pe=Number.isInteger(Ot)),We&&(We=Number.isInteger(tn));return $.z&&C3.includes($.z)?Fi=$.z:Fi=Pe?ds:Wi,$.w&&C3.includes($.w)?ro=$.w:ro=We?ds:Wi,o.regl.texture({data:ue,shape:[On,On,4],type:"float"})},Of=(d,$={})=>{if(!zr)return!1;if(no){const H=Gr;Gr=Ur,H.destroy()}else Gr=zr;return Ur=Tu(d,$),un=o.regl.framebuffer({color:Ur,depth:!1,stencil:!1}),zr=void 0,!0},Cu=()=>!!(Gr&&Ur),E1=()=>{Gr&&(Gr.destroy(),Gr=void 0),Ur&&(Ur.destroy(),Ur=void 0)},$a=(d,$={})=>{kr=!1,pn=d.length,Ln=pn,zr&&zr.destroy(),zr=Tu(d,$),Vr({usage:"static",type:"float",data:Xl(pn)}),yn=new gE(d,H=>H[0],H=>H[1],16),kr=!0},kf=(d,$)=>{Ll=ce.target,Rl=d,Ol=ce.distance[0],kl=$},S1=()=>Ll!==void 0&&Rl!==void 0&&Ol!==void 0&&kl!==void 0,b1=()=>{Ll=void 0,Rl=void 0,Ol=void 0,kl=void 0},A1=d=>{const $=Le==="inherit"?u:Le;if($==="segment"){const H=at.length-1;return H<1?[]:d.reduce((ue,Pe,We)=>{let et=0;const Ot=[];for(let Qt=2;Qt<Pe.length;Qt+=2){const Bn=Math.sqrt((Pe[Qt-2]-Pe[Qt])**2+(Pe[Qt-1]-Pe[Qt+1])**2);Ot.push(Bn),et+=Bn}ue[We]=[0];let tn=0;for(let Qt=0;Qt<Pe.length/2-1;Qt++)tn+=Ot[Qt],ue[We].push(Math.floor(tn/et*H)*4);return ue},[])}if($){const H=um($),ue=pu(hu($),Le==="inherit"?Oe:at);return mn.reduce((Pe,[We,et])=>(Pe[We]=ue(et[H])*4,Pe),[])}return Array(mn.length).fill(0)},T1=()=>{const d=Ae==="inherit"?Jt:Ae;if(d==="segment"){const $=se.length-1;return $<1?[]:mn.reduce((H,[ue,Pe,We])=>(H[ue]=E3(We,et=>se[Math.floor(et/(We-1)*$)]),H),[])}if(d){const $=um(d),H=Ae==="inherit"?Ft:se,ue=pu(hu(d),H);return mn.reduce((Pe,[We,et])=>(Pe[We]=H[ue(et[$])],Pe),[])}},C1=()=>{const d=Zt==="inherit"?Ct:Zt;if(d==="segment"){const $=At.length-1;return $<1?[]:mn.reduce((H,[ue,Pe,We])=>(H[ue]=E3(We,et=>At[Math.floor(et/(We-1)*$)]),H),[])}if(d){const $=um(d),H=Zt==="inherit"?It:At,ue=pu(hu(d),H);return mn.reduce((Pe,[We,et])=>(Pe[We]=H[ue(et[$])],Pe),[])}},L1=d=>{mn=[];let $=0;Object.keys(d).forEach((H,ue)=>{mn[H]=[ue,d[H].reference,d[H].length/2,$],$+=d[H].length/2})},zo=d=>new Promise($=>{Ut.setPoints([]),!d||!d.length?$():(Ye=!0,Gb(d,{maxIntPointsPerSegment:Bt,tolerance:yt}).then(H=>{L1(H);const ue=Object.values(H);Ut.setPoints(ue.length===1?ue[0]:ue,{colorIndices:A1(ue),opacities:T1(),widths:C1()}),Ye=!1,$()}))}),Ba=({preventEvent:d=!1}={})=>($t=!1,dn.clear(),Vr.subdata(Xl(pn)),new Promise($=>{const H=()=>{t.subscribe("draw",()=>{d||t.publish("unfilter"),$()},1),ot=!0};Lt||ka(yn.points[0])?zo(ru()).then(()=>{d||t.publish("pointConnectionsDraw"),H()}):H()})),Pf=(d,{preventEvent:$=!1}={})=>{const H=Array.isArray(d)?d:[d];$t=!0,dn.clear();const ue=[],Pe=[];for(let We=H.length-1;We>=0;We--){const et=H[We];if(et<0||et>=pn){H.splice(We,1);continue}dn.add(et),ue.push.apply(ue,Fl(et)),Dt.has(et)&&Pe.push(et)}return Vr.subdata(ue),Do(Pe,{preventEvent:$}),dn.has(Qn)||Pa(-1,{preventEvent:$}),new Promise(We=>{const et=()=>{t.subscribe("draw",()=>{$||t.publish("filter",{points:H}),We()},1),ot=!0};Lt||ka(yn.points[0])?zo(ru()).then(()=>{$||t.publish("pointConnectionsDraw"),Do(Pe,{preventEvent:$}),et()}):et()})},ja=()=>Dl(Tn[0],Tn[1],sr[0],sr[1]),Go=y8(()=>{Ln=ja().length},E),Nf=d=>{const[$,H]=Ll,[ue,Pe]=Rl,We=1-d,et=$*We+ue*d,Ot=H*We+Pe*d,tn=Ol*We+kl*d;ce.lookAt([et,Ot],tn)},Mf=()=>Cu(),If=()=>S1(),Df=(d,$)=>{Oa||(Oa=performance.now());const H=performance.now()-Oa,ue=tb($(H/d),0,1);return Mf()&&Su({t:ue}),If()&&Nf(ue),H<d},Ff=()=>{no=!1,Oa=null,eu=void 0,tu=void 0,ve=ff,E1(),b1(),t.publish("transitionEnd")},Yl=({duration:d=500,easing:$=T3})=>{no&&t.publish("transitionEnd"),no=!0,Oa=null,eu=d,tu=vv($)?VE[$]||T3:$,ff=ve,ve=!1,t.publish("transitionStart")},R1=d=>new Promise(($,H)=>{if(!d||Array.isArray(d))$(d);else{const ue=Array.isArray(d.x)||ArrayBuffer.isView(d.x)?d.x.length:0,Pe=(Array.isArray(d.x)||ArrayBuffer.isView(d.x))&&(an=>d.x[an]),We=(Array.isArray(d.y)||ArrayBuffer.isView(d.y))&&(an=>d.y[an]),et=(Array.isArray(d.line)||ArrayBuffer.isView(d.line))&&(an=>d.line[an]),Ot=(Array.isArray(d.lineOrder)||ArrayBuffer.isView(d.lineOrder))&&(an=>d.lineOrder[an]),tn=Object.keys(d),Qt=(()=>{const an=tn.find(Kt=>b8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})(),Bn=(()=>{const an=tn.find(Kt=>A8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})();Pe&&We&&Qt&&Bn&&et&&Ot?$(d.x.map((an,Kt)=>[an,We(Kt),Qt(Kt),Bn(Kt),et(Kt),Ot(Kt)])):Pe&&We&&Qt&&Bn&&et?$(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt),Bn(Kt),et(Kt)])):Pe&&We&&Qt&&Bn?$(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt),Bn(Kt)])):Pe&&We&&Qt?$(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt),Qt(Kt)])):Pe&&We?$(Array.from({length:ue},(an,Kt)=>[Pe(Kt),We(Kt)])):H(new Error("You need to specify at least x and y"))}}),Uo=(d,$={})=>he?Promise.reject(new Error("The instance was already destroyed")):R1(d).then(H=>new Promise(ue=>{if(he){ue();return}let Pe=!1;(!$.preventFilterReset||(H==null?void 0:H.length)!==pn)&&($t=!1,dn.clear());const We=H&&ka(H[0])&&(Lt||$.showPointConnectionsOnce),{zDataType:et,wDataType:Ot}=$;H&&($.transition&&(H.length===pn?Pe=Of(H,{z:et,w:Ot}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),$a(H,{z:et,w:Ot}),$.hover!==void 0&&Pa($.hover,{preventEvent:!0}),$.select!==void 0&&Do($.select,{preventEvent:!0}),$.filter!==void 0&&Pf($.filter,{preventEvent:!0}),We&&zo(H).then(()=>{t.publish("pointConnectionsDraw"),ot=!0,Sr=$.showReticleOnce})),$.transition&&Pe?(We?Promise.all([new Promise(tn=>{t.subscribe("transitionEnd",()=>{ot=!0,Sr=$.showReticleOnce,tn()},1)}),new Promise(tn=>{t.subscribe("pointConnectionsDraw",tn,1)})]).then(ue):t.subscribe("transitionEnd",()=>{ot=!0,Sr=$.showReticleOnce,ue()},1),Yl({duration:$.transitionDuration,easing:$.transitionEasing})):(We?Promise.all([new Promise(tn=>{t.subscribe("draw",tn,1)}),new Promise(tn=>{t.subscribe("pointConnectionsDraw",tn,1)})]).then(ue):t.subscribe("draw",ue,1),ot=!0,Sr=$.showReticleOnce)})),Vn=d=>(...$)=>{const H=d(...$);return ot=!0,H},$f=d=>{let $=1/0,H=-1/0,ue=1/0,Pe=-1/0;for(let We=0;We<d.length;We++){const[et,Ot]=yn.points[d[We]];$=Math.min($,et),H=Math.max(H,et),ue=Math.min(ue,Ot),Pe=Math.max(Pe,Ot)}return{x:$,y:ue,width:H-$,height:Pe-ue}},Lu=(d,$={})=>new Promise(H=>{const ue=[d.x+d.width/2,d.y+d.height/2],Pe=2*Math.atan(1),We=d.height*gr>d.width?d.height/2/Math.tan(Pe/2):d.width/2/Math.tan(Pe*gr/2);$.transition?(ce.config({isFixed:!0}),kf(ue,We),t.subscribe("transitionEnd",()=>{H(),ce.config({isFixed:!1})},1),Yl({duration:$.transitionDuration,easing:$.transitionEasing})):(ce.lookAt(ue,We),t.subscribe("draw",H,1),ot=!0)}),co=(d,$={})=>{if(!kr)return Promise.reject(new Error(L3));const H=$f(d),ue=H.x+H.width/2,Pe=H.y+H.height/2,We=hf(),et=1+($.padding||0),Ot=Math.max(H.width,We)*et,tn=Math.max(H.height,We)*et,Qt=ue-Ot/2,Bn=Pe-tn/2;return Lu({x:Qt,y:Bn,width:Ot,height:tn},$)},Ru=(d,$,H={})=>new Promise(ue=>{H.transition?(ce.config({isFixed:!0}),kf(d,$),t.subscribe("transitionEnd",()=>{ue(),ce.config({isFixed:!1})},1),Yl({duration:H.transitionDuration,easing:H.transitionEasing})):(ce.lookAt(d,$),t.subscribe("draw",ue,1),ot=!0)}),Bf=(d={})=>Ru([0,0],1,d),O1=d=>{if(!kr)throw new Error(L3);const $=yn.points[d];if(!$)return;const H=[$[0],$[1],0,1];Cr(n,gt,Cr(n,ce.view,wt)),xd(H,H,n);const ue=ln*(H[0]+1)/2,Pe=en*(.5-H[1]/2);return[ue,Pe]},Ou=()=>{Ut.setStyle({color:su(at,lt,ye),opacity:se===null?null:se[0],width:At[0]})},jf=()=>{const d=Math.round(Fe)>.5?0:255;Un.initiator.style.border=`1px dashed rgba(${d}, ${d}, ${d}, 0.33)`,Un.initiator.style.background=`rgba(${d}, ${d}, ${d}, 0.1)`},zf=()=>{const d=Math.round(Fe)>.5?0:255;Un.longPressIndicator.style.color=`rgb(${d}, ${d}, ${d})`,Un.longPressIndicator.dataset.color=`rgb(${d}, ${d}, ${d})`;const $=c.map(H=>Math.round(H*255));Un.longPressIndicator.dataset.activeColor=`rgb(${$[0]}, ${$[1]}, ${$[2]})`},ku=d=>{d&&(a=Ir(d,!0),Fe=N3(a),jf(),zf())},Gf=d=>{d?vv(d)?O3(o.regl,d).then($=>{l=$,ot=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${d}`),l=null}):d._reglType==="texture2d"?l=d:l=null:l=null},k1=d=>{d>0&&ce.lookAt(ce.target,d,ce.rotation)},Uf=d=>{d!==null&&ce.lookAt(ce.target,ce.distance[0],d)},Vf=d=>{d&&ce.lookAt(d,ce.distance[0],ce.rotation)},Hf=d=>{d&&ce.setView(d)},ql=d=>{if(!d)return;c=Ir(d,!0),xt.setStyle({color:c});const $=c.map(H=>Math.round(H*255));Un.longPressIndicator.dataset.activeColor=`rgb(${$[0]}, ${$[1]}, ${$[2]})`},P1=d=>{Number.isNaN(+d)||+d<1||(m=+d,xt.setStyle({width:m}))},ji=d=>{+d&&(v=+d,Un.set({minDelay:v}))},Ql=d=>{+d&&(S=+d,Un.set({minDist:S}))},Wf=d=>{L=R3(HE,L)(d)},Xf=d=>{g=!!d,Un.set({enableInitiator:g})},Yf=d=>{_=d,Un.set({startInitiatorParentElement:_})},qf=d=>{y=!!d},Qf=d=>{O=Number(d)},Kf=d=>{F=Number(d)},Zf=d=>{V=Number(d)},Jf=d=>{ee=Number(d)},e0=d=>{K=Object.entries(d).reduce(($,[H,ue])=>(eS.includes(H)&&JE.includes(ue)&&($[H]=ue),$),{}),Rn=P3(K),Rn[rh]?ce.config({isRotate:!0,mouseDownMoveModKey:Rn[rh]}):ce.config({isRotate:!1})},Yr=d=>{He=R3(GE,j2)(d),ce.config({defaultMouseDownMoveAction:He===w8?"rotate":"pan"})},t0=d=>{d!==null&&(ve=d)},N1=d=>{d&&(Re=Ir(d,!0),Et.setStyle({color:Re}),kt.setStyle({color:Re}))},Ei=d=>{d&&(nr=d,Mo=d.domain()[0],Nl=d?d.domain()[1]-d.domain()[0]:0,nr.range([0,ln]),oo())},Pu=d=>{d&&($n=d,Ml=$n.domain()[0],Il=$n?$n.domain()[1]-$n.domain()[0]:0,$n.range([en,0]),oo())},fo=d=>{f=!!d},Kl=d=>{h=!!d},n0=d=>{Lt=!!d,Lt?ka(yn.points[0])&&zo(ru()).then(()=>{t.publish("pointConnectionsDraw"),ot=!0}):zo()},Zl=(d,$)=>H=>{if(H==="inherit")d([...$()]);else{const ue=Zo(H)?H:[H];d(ue.map(Pe=>Ir(Pe,!0)))}Ou()},r0=Zl(d=>{at=d},()=>Oe),i0=Zl(d=>{lt=d},()=>Je),o0=Zl(d=>{ye=d},()=>De),M1=d=>{Qo(d,Ko,{minLength:1})&&(se=[...d]),q0(+d)&&(se=[+d]),at=at.map($=>($[3]=Number.isNaN(+se[0])?$[3]:+se[0],$)),Ou()},I1=d=>{!Number.isNaN(+d)&&+d&&(rt=+d)},D1=d=>{Qo(d,Ko,{minLength:1})&&(At=[...d]),q0(+d)&&(At=[+d]),Ou()},F1=d=>{!Number.isNaN(+d)&&+d&&(Pt=Math.max(0,d))},$1=d=>{Bt=Math.max(0,d)},B1=d=>{yt=Math.max(0,d)},j1=d=>{Yt=d,Bi()},a0=d=>{st=+d},l0=d=>{Tt=+d},z1=d=>{Nt=+d},G1=d=>{o.gamma=d},Nu=d=>{if(sm({property:!0}),d==="aspectRatio")return te;if(d==="background"||d==="backgroundColor")return a;if(d==="backgroundImage")return l;if(d==="camera")return ce;if(d==="cameraTarget")return ce.target;if(d==="cameraDistance")return ce.distance[0];if(d==="cameraRotation")return ce.rotation;if(d==="cameraView")return ce.view;if(d==="canvas")return s;if(d==="colorBy")return u;if(d==="sizeBy")return Ct;if(d==="deselectOnDblClick")return f;if(d==="deselectOnEscape")return h;if(d==="height")return Ke;if(d==="lassoColor")return c;if(d==="lassoLineWidth")return m;if(d==="lassoMinDelay")return v;if(d==="lassoMinDist")return S;if(d==="lassoClearEvent")return L;if(d==="lassoInitiator")return g;if(d==="lassoInitiatorElement")return Un.initiator;if(d==="lassoInitiatorParentElement")return _;if(d==="keyMap")return{...K};if(d==="mouseMode")return He;if(d==="opacity")return Ft.length===1?Ft[0]:Ft;if(d==="opacityBy")return Jt;if(d==="opacityByDensityFill")return st;if(d==="opacityByDensityDebounceTime")return E;if(d==="opacityInactiveMax")return Tt;if(d==="opacityInactiveScale")return Nt;if(d==="points")return yn.points;if(d==="hoveredPoint")return Qn;if(d==="selectedPoints")return[...Ie];if(d==="filteredPoints")return $t?Array.from(dn):Array.from({length:yn.points.length},($,H)=>H);if(d==="pointsInView")return ja();if(d==="pointColor")return Oe.length===1?Oe[0]:Oe;if(d==="pointColorActive")return Je.length===1?Je[0]:Je;if(d==="pointColorHover")return De.length===1?De[0]:De;if(d==="pointOutlineWidth")return cn;if(d==="pointSize")return It.length===1?It[0]:It;if(d==="pointSizeSelected")return zt;if(d==="pointSizeMouseDetection")return Yt;if(d==="showPointConnections")return Lt;if(d==="pointConnectionColor")return at.length===1?at[0]:at;if(d==="pointConnectionColorActive")return lt.length===1?lt[0]:lt;if(d==="pointConnectionColorHover")return ye.length===1?ye[0]:ye;if(d==="pointConnectionColorBy")return Le;if(d==="pointConnectionOpacity")return se.length===1?se[0]:se;if(d==="pointConnectionOpacityBy")return Ae;if(d==="pointConnectionOpacityActive")return rt;if(d==="pointConnectionSize")return At.length===1?At[0]:At;if(d==="pointConnectionSizeActive")return Pt;if(d==="pointConnectionSizeBy")return Zt;if(d==="pointConnectionMaxIntPointsPerSegment")return Bt;if(d==="pointConnectionTolerance")return yt;if(d==="reticleColor")return Re;if(d==="regl")return o.regl;if(d==="showReticle")return ve;if(d==="version")return Ub;if(d==="width")return Gt;if(d==="xScale")return nr;if(d==="yScale")return $n;if(d==="performanceMode")return qn;if(d==="gamma")return o.gamma;if(d==="renderer")return o;if(d==="isDestroyed")return he;if(d==="isPointsDrawn")return kr;if(d==="isPointsFiltered")return $t;if(d==="zDataType")return Fi;if(d==="wDataType")return ro},za=(d={})=>(sm(d),(d.backgroundColor!==void 0||d.background!==void 0)&&ku(d.backgroundColor||d.background),d.backgroundImage!==void 0&&Gf(d.backgroundImage),d.cameraTarget!==void 0&&Vf(d.cameraTarget),d.cameraDistance!==void 0&&k1(d.cameraDistance),d.cameraRotation!==void 0&&Uf(d.cameraRotation),d.cameraView!==void 0&&Hf(d.cameraView),d.colorBy!==void 0&&gf(d.colorBy),d.pointColor!==void 0&&i1(d.pointColor),d.pointColorActive!==void 0&&o1(d.pointColorActive),d.pointColorHover!==void 0&&$i(d.pointColorHover),d.pointSize!==void 0&&mf(d.pointSize),d.pointSizeSelected!==void 0&&$o(d.pointSizeSelected),d.pointSizeMouseDetection!==void 0&&j1(d.pointSizeMouseDetection),d.sizeBy!==void 0&&c1(d.sizeBy),d.opacity!==void 0&&s1(d.opacity),d.showPointConnections!==void 0&&n0(d.showPointConnections),d.pointConnectionColor!==void 0&&r0(d.pointConnectionColor),d.pointConnectionColorActive!==void 0&&i0(d.pointConnectionColorActive),d.pointConnectionColorHover!==void 0&&o0(d.pointConnectionColorHover),d.pointConnectionColorBy!==void 0&&yf(d.pointConnectionColorBy),d.pointConnectionOpacityBy!==void 0&&vn(d.pointConnectionOpacityBy),d.pointConnectionOpacity!==void 0&&M1(d.pointConnectionOpacity),d.pointConnectionOpacityActive!==void 0&&I1(d.pointConnectionOpacityActive),d.pointConnectionSize!==void 0&&D1(d.pointConnectionSize),d.pointConnectionSizeActive!==void 0&&F1(d.pointConnectionSizeActive),d.pointConnectionSizeBy!==void 0&&xf(d.pointConnectionSizeBy),d.pointConnectionMaxIntPointsPerSegment!==void 0&&$1(d.pointConnectionMaxIntPointsPerSegment),d.pointConnectionTolerance!==void 0&&B1(d.pointConnectionTolerance),d.opacityBy!==void 0&&u1(d.opacityBy),d.lassoColor!==void 0&&ql(d.lassoColor),d.lassoLineWidth!==void 0&&P1(d.lassoLineWidth),d.lassoMinDelay!==void 0&&ji(d.lassoMinDelay),d.lassoMinDist!==void 0&&Ql(d.lassoMinDist),d.lassoClearEvent!==void 0&&Wf(d.lassoClearEvent),d.lassoInitiator!==void 0&&Xf(d.lassoInitiator),d.lassoInitiatorParentElement!==void 0&&Yf(d.lassoInitiatorParentElement),d.lassoOnLongPress!==void 0&&qf(d.lassoOnLongPress),d.lassoLongPressTime!==void 0&&Qf(d.lassoLongPressTime),d.lassoLongPressAfterEffectTime!==void 0&&Kf(d.lassoLongPressAfterEffectTime),d.lassoLongPressEffectDelay!==void 0&&Zf(d.lassoLongPressEffectDelay),d.lassoLongPressRevertEffectTime!==void 0&&Jf(d.lassoLongPressRevertEffectTime),d.keyMap!==void 0&&e0(d.keyMap),d.mouseMode!==void 0&&Yr(d.mouseMode),d.showReticle!==void 0&&t0(d.showReticle),d.reticleColor!==void 0&&N1(d.reticleColor),d.pointOutlineWidth!==void 0&&vf(d.pointOutlineWidth),d.height!==void 0&&l1(d.height),d.width!==void 0&&du(d.width),d.aspectRatio!==void 0&&r1(d.aspectRatio),d.xScale!==void 0&&Ei(d.xScale),d.yScale!==void 0&&Pu(d.yScale),d.deselectOnDblClick!==void 0&&fo(d.deselectOnDblClick),d.deselectOnEscape!==void 0&&Kl(d.deselectOnEscape),d.opacityByDensityFill!==void 0&&a0(d.opacityByDensityFill),d.opacityInactiveMax!==void 0&&l0(d.opacityInactiveMax),d.opacityInactiveScale!==void 0&&z1(d.opacityInactiveScale),d.gamma!==void 0&&G1(d.gamma),new Promise($=>{window.requestAnimationFrame(()=>{s&&(cu(),ce.refresh(),o.refresh(),ot=!0,$())})})),U1=(d,{preventEvent:$=!1}={})=>{Hf(d),ot=!0,tr=$},s0=()=>{ce||(ce=dE(s,{isPanInverted:[!1,!0]})),e.cameraView?ce.setView(g3(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?ce.lookAt([...e.cameraTarget||AS],e.cameraDistance||TS,e.cameraRotation||CS):ce.setView(g3(LS)),sr=Hr(1,1),Tn=Hr(-1,-1)},V1=({preventEvent:d=!1}={})=>{s0(),oo(),!d&&t.publish("view",{view:ce.view,camera:ce,xScale:nr,yScale:$n})},u0=({key:d})=>{switch(d){case"Escape":h&&$l();break}},c0=()=>{ai=!0,Di=!0},Mu=()=>{Pa(),ai=!1,Di=!0,ot=!0},f0=()=>{ot=!0},H1=()=>{$a([]),Ut.clear()},Ga=()=>{ce.refresh();const d=Gt===Yi,$=Ke===Yi;if(d||$){const{width:H,height:ue}=s.getBoundingClientRect();d&&wi(H),$&&ao(ue),cu(),ot=!0}},W1=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),X1=()=>{cu(),s0(),oo(),xt=Y0(o.regl,{color:c,width:m,is2d:!0}),Ut=Y0(o.regl,{color:at,colorHover:ye,colorActive:lt,opacity:se===null?null:se[0],width:At[0],widthActive:Pt,is2d:!0}),Et=Y0(o.regl,{color:Re,width:1,is2d:!0}),kt=Y0(o.regl,{color:Re,width:1,is2d:!0}),Bi(),s.addEventListener("wheel",f0),Vr=o.regl.buffer(),Ra=o.regl.buffer(),xi=o.regl.buffer({usage:"dynamic",type:"float",length:zE*2}),ko=uu(),Pl=Gl();const d=za({backgroundImage:l,width:Gt,height:Ke,keyMap:K});jf(),zf(),window.addEventListener("keyup",u0,!1),window.addEventListener("blur",Ma,!1),window.addEventListener("mouseup",lu,!1),window.addEventListener("mousemove",_i,!1),s.addEventListener("mousedown",au,!1),s.addEventListener("mouseenter",c0,!1),s.addEventListener("mouseleave",Mu,!1),s.addEventListener("click",jl,!1),s.addEventListener("dblclick",zl,!1),"ResizeObserver"in window?(Oo=new ResizeObserver(Ga),Oo.observe(s)):(window.addEventListener("resize",Ga),window.addEventListener("orientationchange",Ga)),d.then(()=>{t.publish("init")})},Vo=o.onFrame(()=>{nu=ce.tick(),!(!kr||!(ot||no))&&(no&&!Df(eu,tu)&&Ff(),nu&&(sr=Hr(1,1),Tn=Hr(-1,-1),Jt==="density"&&Go()),o.render(()=>{const d=s.width/o.canvas.width,$=s.height/o.canvas.height;n1(d,$),l&&l._reglType&&_1(),lr.length>2&&Au(),no||Ut.draw({projection:wf(),model:Ia(),view:Wl()}),m1(),!dt&&(ve||Sr)&&w1(),Qn>=0&&v1(),Ie.length&&x1(),xt.draw({projection:wf(),model:Ia(),view:Wl()})},s),nu&&(oo(),tr?tr=!1:t.publish("view",{view:ce.view,camera:ce,xScale:nr,yScale:$n})),ot=!1,Sr=!1,t.publish("draw"))}),Y1=()=>{ot=!0},q1=()=>{kr=!1,he=!0,Vo(),window.removeEventListener("keyup",u0,!1),window.removeEventListener("blur",Ma,!1),window.removeEventListener("mouseup",lu,!1),window.removeEventListener("mousemove",_i,!1),s.removeEventListener("mousedown",au,!1),s.removeEventListener("mouseenter",c0,!1),s.removeEventListener("mouseleave",Mu,!1),s.removeEventListener("click",jl,!1),s.removeEventListener("dblclick",zl,!1),s.removeEventListener("wheel",f0,!1),Oo?Oo.disconnect():(window.removeEventListener("resize",Ga),window.removeEventListener("orientationchange",Ga)),s=void 0,ce.dispose(),ce=void 0,xt.destroy(),Un.destroy(),Ut.destroy(),Et.destroy(),kt.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return X1(),{get isSupported(){return o.isSupported},clear:Vn(H1),createTextureFromUrl:(d,$=W2)=>O3(o.regl,d,$),deselect:$l,destroy:q1,draw:Uo,filter:Pf,get:Nu,getScreenPosition:O1,hover:Pa,redraw:Y1,refresh:o.refresh,reset:Vn(V1),select:Do,set:za,export:W1,subscribe:t.subscribe,unfilter:Ba,unsubscribe:t.unsubscribe,view:U1,zoomToLocation:Ru,zoomToArea:Lu,zoomToPoints:co,zoomToOrigin:Bf}};function _d(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hb(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R8(e){let t,n,r;e.length!==2?(t=_d,n=(l,s)=>_d(e(l),s),r=(l,s)=>e(l)-s):(t=e===_d||e===Hb?e:Wb,n=e,r=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<0?u=h+1:f=h}while(u<f)}return u}function o(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function a(l,s,u=0,f=l.length){const h=i(l,s,u,f-1);return h>u&&r(l[h-1],s)>-r(l[h],s)?h-1:h}return{left:i,center:a,right:o}}function Wb(){return 0}function Xb(e){return e===null?NaN:+e}const Yb=R8(_d),qb=Yb.right;R8(Xb).center;const Qb=qb;function O8(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Kb extends Map{constructor(t,n=eA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(I3(this,t))}has(t){return super.has(I3(this,t))}set(t,n){return super.set(Zb(this,t),n)}delete(t){return super.delete(Jb(this,t))}}function I3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Jb({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function eA(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tA(e){return e}function nA(e,...t){return rA(e,Array.from,tA,t)}function rA(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new Kb,s=r[a++];let u=-1;for(const f of o){const h=s(f,++u,o),c=l.get(h);c?c.push(f):l.set(h,[f])}for(const[f,h]of l)l.set(f,i(h,a));return t(l)}(e,0)}const iA=Math.sqrt(50),oA=Math.sqrt(10),aA=Math.sqrt(2);function ah(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=iA?10:o>=oA?5:o>=aA?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?ah(e,t,n*2):[l,s,u]}function gv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?ah(t,e,n):ah(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)s[u]=(o-u)/-a;else for(let u=0;u<l;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function yv(e,t,n){return t=+t,e=+e,n=+n,ah(e,t,n)[2]}function lA(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yv(t,e,n):yv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sA(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function X2(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function $h(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Y2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Js(){}var xl=.7,Us=1/xl,Ns="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cA=/^#([0-9a-f]{3,8})$/,fA=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),dA=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),hA=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${zc}\\)$`),pA=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${zc}\\)$`),mA=new RegExp(`^hsl\\(${zc},${Zi},${Zi}\\)$`),vA=new RegExp(`^hsla\\(${zc},${Zi},${Zi},${zc}\\)$`),D3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$h(Js,_l,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F3,formatHex:F3,formatHex8:gA,formatHsl:yA,formatRgb:$3,toString:$3});function F3(){return this.rgb().formatHex()}function gA(){return this.rgb().formatHex8()}function yA(){return P8(this).formatHsl()}function $3(){return this.rgb().formatRgb()}function _l(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?B3(t):n===3?new wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?K0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?K0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fA.exec(e))?new wr(t[1],t[2],t[3],1):(t=dA.exec(e))?new wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hA.exec(e))?K0(t[1],t[2],t[3],t[4]):(t=pA.exec(e))?K0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mA.exec(e))?G3(t[1],t[2]/100,t[3]/100,1):(t=vA.exec(e))?G3(t[1],t[2]/100,t[3]/100,t[4]):D3.hasOwnProperty(e)?B3(D3[e]):e==="transparent"?new wr(NaN,NaN,NaN,0):null}function B3(e){return new wr(e>>16&255,e>>8&255,e&255,1)}function K0(e,t,n,r){return r<=0&&(e=t=n=NaN),new wr(e,t,n,r)}function k8(e){return e instanceof Js||(e=_l(e)),e?(e=e.rgb(),new wr(e.r,e.g,e.b,e.opacity)):new wr}function Gc(e,t,n,r){return arguments.length===1?k8(e):new wr(e,t,n,r??1)}function wr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$h(wr,Gc,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wr(cl(this.r),cl(this.g),cl(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j3,formatHex:j3,formatHex8:xA,formatRgb:z3,toString:z3}));function j3(){return`#${ll(this.r)}${ll(this.g)}${ll(this.b)}`}function xA(){return`#${ll(this.r)}${ll(this.g)}${ll(this.b)}${ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function z3(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ll(e){return e=cl(e),(e<16?"0":"")+e.toString(16)}function G3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oi(e,t,n,r)}function P8(e){if(e instanceof Oi)return new Oi(e.h,e.s,e.l,e.opacity);if(e instanceof Js||(e=_l(e)),!e)return new Oi;if(e instanceof Oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new Oi(a,l,s,e.opacity)}function _A(e,t,n,r){return arguments.length===1?P8(e):new Oi(e,t,n,r??1)}function Oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$h(Oi,_A,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new Oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new Oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wr(cm(e>=240?e-240:e+120,i,r),cm(e,i,r),cm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Oi(U3(this.h),Z0(this.s),Z0(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${U3(this.h)}, ${Z0(this.s)*100}%, ${Z0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function U3(e){return e=(e||0)%360,e<0?e+360:e}function Z0(e){return Math.max(0,Math.min(1,e||0))}function cm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wA=Math.PI/180,EA=180/Math.PI;var N8=-.14861,q2=1.78277,Q2=-.29227,Bh=-.90649,Uc=1.97294,V3=Uc*Bh,H3=Uc*q2,W3=q2*Q2-Bh*N8;function SA(e){if(e instanceof fl)return new fl(e.h,e.s,e.l,e.opacity);e instanceof wr||(e=k8(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(W3*r+V3*t-H3*n)/(W3+V3-H3),o=r-i,a=(Uc*(n-i)-Q2*o)/Bh,l=Math.sqrt(a*a+o*o)/(Uc*i*(1-i)),s=l?Math.atan2(a,o)*EA-120:NaN;return new fl(s<0?s+360:s,l,i,e.opacity)}function _a(e,t,n,r){return arguments.length===1?SA(e):new fl(e,t,n,r??1)}function fl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$h(fl,_a,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new fl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new fl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*wA,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wr(255*(t+n*(N8*r+q2*i)),255*(t+n*(Q2*r+Bh*i)),255*(t+n*(Uc*r)),this.opacity)}}));const jh=e=>()=>e;function M8(e,t){return function(n){return e+n*t}}function bA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function AA(e,t){var n=t-e;return n?M8(e,n>180||n<-180?n-360*Math.round(n/360):n):jh(isNaN(e)?t:e)}function TA(e){return(e=+e)==1?Ms:function(t,n){return n-t?bA(t,n,e):jh(isNaN(t)?n:t)}}function Ms(e,t){var n=t-e;return n?M8(e,n):jh(isNaN(e)?t:e)}const sh=function e(t){var n=TA(t);function r(i,o){var a=n((i=Gc(i)).r,(o=Gc(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),u=Ms(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function CA(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function LA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RA(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=zh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function OA(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ri(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kA(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(xv.source,"g");function PA(e){return function(){return e}}function NA(e){return function(t){return e(t)+""}}function I8(e,t){var n=xv.lastIndex=fm.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=xv.exec(e))&&(i=fm.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:Ri(r,i)})),n=fm.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?NA(s[0].x):PA(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)l[(h=s[f]).i]=h.x(u);return l.join("")})}function zh(e,t){var n=typeof t,r;return t==null||n==="boolean"?jh(t):(n==="number"?Ri:n==="string"?(r=_l(t))?(t=r,sh):I8:t instanceof _l?sh:t instanceof Date?OA:LA(t)?CA:Array.isArray(t)?RA:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kA:Ri)(e,t)}function D8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var X3=180/Math.PI,_v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F8(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*X3,skewX:Math.atan(s)*X3,scaleX:a,scaleY:l}}var J0;function MA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_v:F8(t.a,t.b,t.c,t.d,t.e,t.f)}function IA(e){return e==null||(J0||(J0=document.createElementNS("http://www.w3.org/2000/svg","g")),J0.setAttribute("transform",e),!(e=J0.transform.baseVal.consolidate()))?_v:(e=e.matrix,F8(e.a,e.b,e.c,e.d,e.e,e.f))}function $8(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,c,m,v){if(u!==h||f!==c){var S=m.push("translate(",null,t,null,n);v.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h||c)&&m.push("translate("+h+t+c+n)}function a(u,f,h,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ri(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(u,f,h,c){u!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ri(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function s(u,f,h,c,m,v){if(u!==h||f!==c){var S=m.push(i(m)+"scale(",null,",",null,")");v.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h!==1||c!==1)&&m.push(i(m)+"scale("+h+","+c+")")}return function(u,f){var h=[],c=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,c),a(u.rotate,f.rotate,h,c),l(u.skewX,f.skewX,h,c),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,c),u=f=null,function(m){for(var v=-1,S=c.length,L;++v<S;)h[(L=c[v]).i]=L.x(m);return h.join("")}}}var DA=$8(MA,"px, ","px)","deg)"),FA=$8(IA,", ",")",")");function B8(e){return function t(n){n=+n;function r(i,o){var a=e((i=_a(i)).h,(o=_a(o)).h),l=Ms(i.s,o.s),s=Ms(i.l,o.l),u=Ms(i.opacity,o.opacity);return function(f){return i.h=a(f),i.s=l(f),i.l=s(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}B8(AA);var j8=B8(Ms);function $A(e){return function(){return e}}function BA(e){return+e}var Y3=[0,1];function sa(e){return e}function wv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$A(isNaN(t)?NaN:.5)}function jA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zA(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=wv(i,r),o=n(a,o)):(r=wv(r,i),o=n(o,a)),function(l){return o(r(l))}}function GA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=wv(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var s=Qb(e,l,1,r)-1;return o[s](i[s](l))}}function K2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z2(){var e=Y3,t=Y3,n=zh,r,i,o,a=sa,l,s,u;function f(){var c=Math.min(e.length,t.length);return a!==sa&&(a=jA(e[0],e[c-1])),l=c>2?GA:zA,s=u=null,h}function h(c){return c==null||isNaN(c=+c)?o:(s||(s=l(e.map(r),t,n)))(r(a(c)))}return h.invert=function(c){return a(i((u||(u=l(t,e.map(r),Ri)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,BA),f()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=D8,f()},h.clamp=function(c){return arguments.length?(a=c?!0:sa,f()):a!==sa},h.interpolate=function(c){return arguments.length?(n=c,f()):n},h.unknown=function(c){return arguments.length?(o=c,h):o},function(c,m){return r=c,i=m,f()}}function UA(){return Z2()(sa,sa)}function VA(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vs(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function HA(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function WA(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var XA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vc(e){if(!(t=XA.exec(e)))throw new Error("invalid format: "+e);var t;return new J2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vc.prototype=J2.prototype;function J2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YA(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var z8;function qA(e,t){var n=uh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(z8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+uh(e,Math.max(0,t+o-1))[0]}function q3(e,t){var n=uh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Q3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VA,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q3(e*100,t),r:q3,s:qA,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function K3(e){return e}var Z3=Array.prototype.map,J3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QA(e){var t=e.grouping===void 0||e.thousands===void 0?K3:HA(Z3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?K3:WA(Z3.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Vc(h);var c=h.fill,m=h.align,v=h.sign,S=h.symbol,L=h.zero,g=h.width,_=h.comma,y=h.precision,O=h.trim,F=h.type;F==="n"?(_=!0,F="g"):Q3[F]||(y===void 0&&(y=12),O=!0,F="g"),(L||c==="0"&&m==="=")&&(L=!0,c="0",m="=");var V=S==="$"?n:S==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",ee=S==="$"?r:/[%p]/.test(F)?a:"",K=Q3[F],He=/[defgprs%]/.test(F);y=y===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function ve(Re){var Oe=V,Je=ee,De,Lt,at;if(F==="c")Je=K(Re)+Je,Re="";else{Re=+Re;var lt=Re<0||1/Re<0;if(Re=isNaN(Re)?s:K(Math.abs(Re),y),O&&(Re=YA(Re)),lt&&+Re==0&&v!=="+"&&(lt=!1),Oe=(lt?v==="("?v:l:v==="-"||v==="("?"":v)+Oe,Je=(F==="s"?J3[8+z8/3]:"")+Je+(lt&&v==="("?")":""),He){for(De=-1,Lt=Re.length;++De<Lt;)if(at=Re.charCodeAt(De),48>at||at>57){Je=(at===46?i+Re.slice(De+1):Re.slice(De))+Je,Re=Re.slice(0,De);break}}}_&&!L&&(Re=t(Re,1/0));var ye=Oe.length+Re.length+Je.length,Le=ye<g?new Array(g-ye+1).join(c):"";switch(_&&L&&(Re=t(Le+Re,Le.length?g-Je.length:1/0),Le=""),m){case"<":Re=Oe+Re+Je+Le;break;case"=":Re=Oe+Le+Re+Je;break;case"^":Re=Le.slice(0,ye=Le.length>>1)+Oe+Re+Je+Le.slice(ye);break;default:Re=Le+Oe+Re+Je;break}return o(Re)}return ve.toString=function(){return h+""},ve}function f(h,c){var m=u((h=Vc(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Vs(c)/3)))*3,S=Math.pow(10,-v),L=J3[8+v/3];return function(g){return m(S*g)+L}}return{format:u,formatPrefix:f}}var ed,eg,G8;KA({thousands:",",grouping:[3],currency:["$",""]});function KA(e){return ed=QA(e),eg=ed.format,G8=ed.formatPrefix,ed}function ZA(e){return Math.max(0,-Vs(Math.abs(e)))}function JA(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function eT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function tT(e,t,n,r){var i=lA(e,t,n),o;switch(r=Vc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=JA(i,a))&&(r.precision=o),G8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ZA(i))&&(r.precision=o-(r.type==="%")*2);break}}return eg(r)}function tg(e){var t=e.domain;return e.ticks=function(n){var r=t();return gv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tT(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=o,o=u);f-- >0;){if(u=yv(a,l,n),u===s)return r[i]=a,r[o]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Hc(){var e=UA();return e.copy=function(){return K2(e,Hc())},X2.apply(e,arguments),tg(e)}function nT(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function e6(e){return Math.log(e)}function t6(e){return Math.exp(e)}function rT(e){return-Math.log(-e)}function iT(e){return-Math.exp(-e)}function oT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aT(e){return e===10?oT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n6(e){return(t,n)=>-e(-t,n)}function sT(e){const t=e(e6,t6),n=t.domain;let r=10,i,o;function a(){return i=lT(r),o=aT(r),n()[0]<0?(i=n6(i),o=n6(o),e(rT,iT)):e(e6,t6),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const s=n();let u=s[0],f=s[s.length-1];const h=f<u;h&&([u,f]=[f,u]);let c=i(u),m=i(f),v,S;const L=l==null?10:+l;let g=[];if(!(r%1)&&m-c<L){if(c=Math.floor(c),m=Math.ceil(m),u>0){for(;c<=m;++c)for(v=1;v<r;++v)if(S=c<0?v/o(-c):v*o(c),!(S<u)){if(S>f)break;g.push(S)}}else for(;c<=m;++c)for(v=r-1;v>=1;--v)if(S=c>0?v/o(-c):v*o(c),!(S<u)){if(S>f)break;g.push(S)}g.length*2<L&&(g=gv(u,f,L))}else g=gv(c,m,Math.min(m-c,L)).map(o);return h?g.reverse():g},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Vc(s)).precision==null&&(s.trim=!0),s=eg(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?s(f):""}},t.nice=()=>n(nT(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function ng(){const e=sT(Z2()).domain([1,10]);return e.copy=()=>K2(e,ng()).base(e.base()),X2.apply(e,arguments),e}function r6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uT(e){var t=1,n=e(r6(t),i6(t));return n.constant=function(r){return arguments.length?e(r6(t=+r),i6(t)):t},tg(n)}function U8(){var e=uT(Z2());return e.copy=function(){return K2(e,U8()).constant(e.constant())},X2.apply(e,arguments)}function cT(){var e=0,t=1,n,r,i,o,a=sa,l=!1,s;function u(h){return h==null||isNaN(h=+h)?s:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function f(h){return function(c){var m,v;return arguments.length?([m,v]=c,a=h(m,v),u):[a(0),a(1)]}}return u.range=f(zh),u.rangeRound=f(D8),u.unknown=function(h){return arguments.length?(s=h,u):s},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function fT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ev(){var e=tg(cT()(sa));return e.copy=function(){return fT(e,Ev())},uA.apply(e,arguments)}function Gh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}j8(_a(-100,.75,.35),_a(80,1.5,.8));var dT=j8(_a(260,.75,.35),_a(80,1.5,.8));_a();function Uh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Uh(Gh("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var hT=Uh(Gh("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Uh(Gh("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Uh(Gh("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const pT="_scatter_lrznx_2",mT={scatter:pT};rg.propTypes={points:nt.array.isRequired,colors:nt.array,width:nt.number.isRequired,height:nt.number.isRequired,pointScale:nt.number,colorScaleType:nt.oneOf(["categorical","continuous"]),colorInterpolator:nt.func,opacityBy:nt.string,duration:nt.number,onScatter:nt.func,onView:nt.func,onSelect:nt.func,onHover:nt.func};const vT=e=>ng().domain([100,1e6]).range([6,1]).clamp(!0)(e),gT=e=>ng().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function rg({points:e,width:t,height:n,duration:r=0,pointScale:i=1,colorScaleType:o=null,colorInterpolator:a=dT,opacityBy:l,onScatter:s,onView:u,onSelect:f,onHover:h}){const c=P.useRef(),m=P.useRef([-1,1]),v=P.useRef([-1,1]),S=Hc().domain(m.current),L=Hc().domain(v.current),g=P.useRef(null);P.useEffect(()=>{const y={canvas:c.current,width:t,height:n,pointColorHover:[.1,.1,.1,.5],xScale:S,yScale:L},O=Vb(y);return g.current=O,u&&u(S,L),O.subscribe("view",({camera:F,view:V,xScale:ee,yScale:K})=>{m.current=ee.domain(),v.current=K.domain(),u&&u(m.current,v.current)}),O.subscribe("select",({points:F})=>{f&&f(F)}),O.subscribe("deselect",()=>{f&&f([])}),O.subscribe("pointOver",F=>{h&&h(F)}),O.subscribe("pointOut",()=>{h&&h(null)}),s&&s(O),()=>{g.current=null,O.destroy()}},[t,n,s,u,f,h]);const _=P.useRef();return P.useEffect(()=>{const y=g.current,O=_.current;if(y&&e&&e.length){const F=vT(e.length)*i,V=gT(e.length);let ee=[250/255,128/255,114/255,1];if(o==="categorical"){const K=nA(e.map(ve=>ve[2]),ve=>ve).map(ve=>ve[0]).sort((ve,Re)=>ve-Re),He=Ev(a).domain(O8(K).reverse());ee=K.map(ve=>Gc(He(ve)).hex())}else if(o==="continuous"){let K=sA(0,100);const He=Ev(a).domain([0,100]);ee=K.map(ve=>Gc(He(ve)).hex())}o&&y.set({colorBy:"valueA"}),l?y.set({opacityBy:l,sizeBy:l,opacity:[.1,.2,.3,.4,.5,1],pointSize:[2,4,5,6,F]}):y.set({opacity:V,pointSize:F}),O&&O.length===e.length?(console.log("transitioning scatterplot"),y.draw(e,{transition:!0,transitionDuration:r}).then(()=>{y.set({pointColor:ee}),y.draw(e,{transition:!1})})):(console.log("fresh draw scatterplot"),y.set({pointColor:ee}),y.draw(e,{transition:!1})),_.current=e}},[e,t,n,o,a,r,i]),I.jsx("canvas",{className:mT.scatter,ref:c})}const ia=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:s})=>{const u=P.useRef();return P.useEffect(()=>{if(o&&a){const f=Hc().domain(o).range([0,l]),h=Hc().domain(a).range([s,0]),c=L=>L/(.1+o[1]-o[0]),v=u.current.getContext("2d");v.clearRect(0,0,l,s),v.fillStyle=t,v.strokeStyle=n,v.font=`${c(r)}px monospace`,v.globalAlpha=.75;let S=c(r);if(!e.length)return;e.map(L=>{L&&(t&&v.fillRect(f(L[0])-S/2,h(L[1])-S/2,S,S),n&&v.strokeRect(f(L[0])-S/2,h(L[1])-S/2,S,S),i&&v.fillText(i,f(L[0])-S/3.2,h(L[1])+S/3.2))})}},[e,t,n,r,o,a,l,s]),I.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function us(e){return function(){return e}}const Sv=Math.PI,bv=2*Sv,nl=1e-6,yT=bv-nl;function V8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V8;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let _T=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V8:xT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,s=r-t,u=i-n,f=a-t,h=l-n,c=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>nl)if(!(Math.abs(h*s-u*f)>nl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-l,S=s*s+u*u,L=m*m+v*v,g=Math.sqrt(S),_=Math.sqrt(c),y=o*Math.tan((Sv-Math.acos((S+c-L)/(2*g*_)))/2),O=y/_,F=y/g;Math.abs(O-1)>nl&&this._append`L${t+O*f},${n+O*h}`,this._append`A${o},${o},0,0,${+(h*m>f*v)},${this._x1=t+F*s},${this._y1=n+F*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,f=n+s,h=1^a,c=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>nl||Math.abs(this._y1-f)>nl)&&this._append`L${u},${f}`,r&&(c<0&&(c=c%bv+bv),c>yT?this._append`A${r},${r},0,1,${h},${t-l},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:c>nl&&this._append`A${r},${r},0,${+(c>=Sv)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function wT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _T(t)}function ET(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function H8(e){this._context=e}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ST(e){return new H8(e)}function bT(e){return e[0]}function AT(e){return e[1]}function o6(e,t){var n=us(!0),r=null,i=ST,o=null,a=wT(l);e=typeof e=="function"?e:e===void 0?bT:us(e),t=typeof t=="function"?t:t===void 0?AT:us(t);function l(s){var u,f=(s=ET(s)).length,h,c=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=f;++u)!(u<f&&n(h=s[u],u,s))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+e(h,u,s),+t(h,u,s));if(m)return o=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:us(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:us(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:us(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),l):r},l}function a6(){}function W8(e){this._context=e}W8.prototype={areaStart:a6,areaEnd:a6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l6(e){return new W8(e)}var Av="http://www.w3.org/1999/xhtml";const s6={svg:"http://www.w3.org/2000/svg",xhtml:Av,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),s6.hasOwnProperty(t)?{space:s6[t],local:e}:e}function TT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Av&&t.documentElement.namespaceURI===Av?t.createElement(e):t.createElementNS(n,e)}}function CT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function X8(e){var t=Vh(e);return(t.local?CT:TT)(t)}function LT(){}function ig(e){return e==null?LT:function(){return this.querySelector(e)}}function RT(e){typeof e!="function"&&(e=ig(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=new Array(a),s,u,f=0;f<a;++f)(s=o[f])&&(u=e.call(s,s.__data__,f,o))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new ri(r,this._parents)}function OT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kT(){return[]}function Y8(e){return e==null?kT:function(){return this.querySelectorAll(e)}}function PT(e){return function(){return OT(e.apply(this,arguments))}}function NT(e){typeof e=="function"?e=PT(e):e=Y8(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(r.push(e.call(s,s.__data__,u,a)),i.push(s));return new ri(r,i)}function q8(e){return function(){return this.matches(e)}}function Q8(e){return function(t){return t.matches(e)}}var MT=Array.prototype.find;function IT(e){return function(){return MT.call(this.children,e)}}function DT(){return this.firstElementChild}function FT(e){return this.select(e==null?DT:IT(typeof e=="function"?e:Q8(e)))}var $T=Array.prototype.filter;function BT(){return Array.from(this.children)}function jT(e){return function(){return $T.call(this.children,e)}}function zT(e){return this.selectAll(e==null?BT:jT(typeof e=="function"?e:Q8(e)))}function GT(e){typeof e!="function"&&(e=q8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new ri(r,this._parents)}function K8(e){return new Array(e.length)}function UT(){return new ri(this._enter||this._groups.map(K8),this._parents)}function ch(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ch.prototype={constructor:ch,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function VT(e){return function(){return e}}function HT(e,t,n,r,i,o){for(var a=0,l,s=t.length,u=o.length;a<u;++a)(l=t[a])?(l.__data__=o[a],r[a]=l):n[a]=new ch(e,o[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function WT(e,t,n,r,i,o,a){var l,s,u=new Map,f=t.length,h=o.length,c=new Array(f),m;for(l=0;l<f;++l)(s=t[l])&&(c[l]=m=a.call(s,s.__data__,l,t)+"",u.has(m)?i[l]=s:u.set(m,s));for(l=0;l<h;++l)m=a.call(e,o[l],l,o)+"",(s=u.get(m))?(r[l]=s,s.__data__=o[l],u.delete(m)):n[l]=new ch(e,o[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function XT(e){return e.__data__}function YT(e,t){if(!arguments.length)return Array.from(this,XT);var n=t?WT:HT,r=this._parents,i=this._groups;typeof e!="function"&&(e=VT(e));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],c=h.length,m=qT(e.call(f,f&&f.__data__,u,r)),v=m.length,S=l[u]=new Array(v),L=a[u]=new Array(v),g=s[u]=new Array(c);n(f,h,S,L,g,m,t);for(var _=0,y=0,O,F;_<v;++_)if(O=S[_]){for(_>=y&&(y=_+1);!(F=L[y])&&++y<v;);O._next=F||null}}return a=new ri(a,r),a._enter=l,a._exit=s,a}function qT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QT(){return new ri(this._exit||this._groups.map(K8),this._parents)}function KT(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ZT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],h=u.length,c=l[s]=new Array(h),m,v=0;v<h;++v)(m=u[v]||f[v])&&(c[v]=m);for(;s<i;++s)l[s]=n[s];return new ri(l,this._parents)}function JT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function eC(e){e||(e=tC);function t(h,c){return h&&c?e(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new ri(i,this._parents).order()}function tC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rC(){return Array.from(this)}function iC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function oC(){let e=0;for(const t of this)++e;return e}function aC(){return!this.node()}function lC(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function sC(e){return function(){this.removeAttribute(e)}}function uC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cC(e,t){return function(){this.setAttribute(e,t)}}function fC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pC(e,t){var n=Vh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?uC:sC:typeof t=="function"?n.local?hC:dC:n.local?fC:cC)(n,t))}function Z8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mC(e){return function(){this.style.removeProperty(e)}}function vC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function yC(e,t,n){return arguments.length>1?this.each((t==null?mC:typeof t=="function"?gC:vC)(e,t,n??"")):Hs(this.node(),e)}function Hs(e,t){return e.style.getPropertyValue(t)||Z8(e).getComputedStyle(e,null).getPropertyValue(t)}function xC(e){return function(){delete this[e]}}function _C(e,t){return function(){this[e]=t}}function wC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function EC(e,t){return arguments.length>1?this.each((t==null?xC:typeof t=="function"?wC:_C)(e,t)):this.node()[e]}function J8(e){return e.trim().split(/^|\s+/)}function og(e){return e.classList||new e9(e)}function e9(e){this._node=e,this._names=J8(e.getAttribute("class")||"")}e9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function t9(e,t){for(var n=og(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function n9(e,t){for(var n=og(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function SC(e){return function(){t9(this,e)}}function bC(e){return function(){n9(this,e)}}function AC(e,t){return function(){(t.apply(this,arguments)?t9:n9)(this,e)}}function TC(e,t){var n=J8(e+"");if(arguments.length<2){for(var r=og(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?AC:t?SC:bC)(n,t))}function CC(){this.textContent=""}function LC(e){return function(){this.textContent=e}}function RC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OC(e){return arguments.length?this.each(e==null?CC:(typeof e=="function"?RC:LC)(e)):this.node().textContent}function kC(){this.innerHTML=""}function PC(e){return function(){this.innerHTML=e}}function NC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function MC(e){return arguments.length?this.each(e==null?kC:(typeof e=="function"?NC:PC)(e)):this.node().innerHTML}function IC(){this.nextSibling&&this.parentNode.appendChild(this)}function DC(){return this.each(IC)}function FC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $C(){return this.each(FC)}function BC(e){var t=typeof e=="function"?e:X8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jC(){return null}function zC(e,t){var n=typeof e=="function"?e:X8(e),r=t==null?jC:typeof t=="function"?t:ig(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function GC(){var e=this.parentNode;e&&e.removeChild(this)}function UC(){return this.each(GC)}function VC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function WC(e){return this.select(e?HC:VC)}function XC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function YC(e){return function(t){e.call(this,t,this.__data__)}}function qC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function QC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function KC(e,t,n){return function(){var r=this.__on,i,o=YC(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ZC(e,t,n){var r=qC(e+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?KC:QC,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function r9(e,t,n){var r=Z8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function JC(e,t){return function(){return r9(this,e,t)}}function eL(e,t){return function(){return r9(this,e,t.apply(this,arguments))}}function tL(e,t){return this.each((typeof t=="function"?eL:JC)(e,t))}function*nL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var i9=[null];function ri(e,t){this._groups=e,this._parents=t}function af(){return new ri([[document.documentElement]],i9)}function rL(){return this}ri.prototype=af.prototype={constructor:ri,select:RT,selectAll:NT,selectChild:FT,selectChildren:zT,filter:GT,data:YT,enter:UT,exit:QT,join:KT,merge:ZT,selection:rL,order:JT,sort:eC,call:nC,nodes:rC,node:iC,size:oC,empty:aC,each:lC,attr:pC,style:yC,property:EC,classed:TC,text:OC,html:MC,raise:DC,lower:$C,append:BC,insert:zC,remove:UC,clone:WC,datum:XC,on:ZC,dispatch:tL,[Symbol.iterator]:nL};function u6(e){return typeof e=="string"?new ri([[document.querySelector(e)]],[document.documentElement]):new ri([[e]],i9)}var iL={value:()=>{}};function o9(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wd(n)}function wd(e){this._=e}function oL(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wd.prototype=o9.prototype={constructor:wd,on:function(e,t){var n=this._,r=oL(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=aL(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=c6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=c6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function aL(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function c6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=iL,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ws=0,sc=0,rc=0,a9=1e3,fh,uc,dh=0,wl=0,Hh=0,Wc=typeof performance=="object"&&performance.now?performance:Date,l9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ag(){return wl||(l9(lL),wl=Wc.now()+Hh)}function lL(){wl=0}function hh(){this._call=this._time=this._next=null}hh.prototype=s9.prototype={constructor:hh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ag():+n)+(t==null?0:+t),!this._next&&uc!==this&&(uc?uc._next=this:fh=this,uc=this),this._call=e,this._time=n,Tv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tv())}};function s9(e,t,n){var r=new hh;return r.restart(e,t,n),r}function sL(){ag(),++Ws;for(var e=fh,t;e;)(t=wl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ws}function f6(){wl=(dh=Wc.now())+Hh,Ws=sc=0;try{sL()}finally{Ws=0,cL(),wl=0}}function uL(){var e=Wc.now(),t=e-dh;t>a9&&(Hh-=t,dh=e)}function cL(){for(var e,t=fh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fh=n);uc=e,Tv(r)}function Tv(e){if(!Ws){sc&&(sc=clearTimeout(sc));var t=e-wl;t>24?(e<1/0&&(sc=setTimeout(f6,e-Wc.now()-Hh)),rc&&(rc=clearInterval(rc))):(rc||(dh=Wc.now(),rc=setInterval(uL,a9)),Ws=1,l9(f6))}}function d6(e,t,n){var r=new hh;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fL=o9("start","end","cancel","interrupt"),dL=[],u9=0,h6=1,Cv=2,Ed=3,p6=4,Lv=5,Sd=6;function Wh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;hL(e,n,{name:t,index:r,group:i,on:fL,tween:dL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:u9})}function lg(e,t){var n=Ii(e,t);if(n.state>u9)throw new Error("too late; already scheduled");return n}function eo(e,t){var n=Ii(e,t);if(n.state>Ed)throw new Error("too late; already running");return n}function Ii(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hL(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=s9(o,0,n.time);function o(u){n.state=h6,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,c,m;if(n.state!==h6)return s();for(f in r)if(m=r[f],m.name===n.name){if(m.state===Ed)return d6(a);m.state===p6?(m.state=Sd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=Sd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(d6(function(){n.state===Ed&&(n.state=p6,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Cv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cv){for(n.state=Ed,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Lv,1),h=-1,c=i.length;++h<c;)i[h].call(e,f);n.state===Lv&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Sd,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function pL(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Cv&&r.state<Lv,r.state=Sd,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function mL(e){return this.each(function(){pL(this,e)})}function vL(e,t){var n,r;return function(){var i=eo(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function gL(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=eo(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function yL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ii(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?vL:gL)(n,e,t))}function sg(e,t,n){var r=e._id;return e.each(function(){var i=eo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ii(i,r).value[t]}}function c9(e,t){var n;return(typeof t=="number"?Ri:t instanceof _l?sh:(n=_l(t))?(t=n,sh):I8)(e,t)}function xL(e){return function(){this.removeAttribute(e)}}function _L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function EL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function SL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function bL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function AL(e,t){var n=Vh(e),r=n==="transform"?FA:c9;return this.attrTween(e,typeof t=="function"?(n.local?bL:SL)(n,r,sg(this,"attr."+e,t)):t==null?(n.local?_L:xL)(n):(n.local?EL:wL)(n,r,t))}function TL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function CL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LL(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&CL(e,o)),n}return i._value=t,i}function RL(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&TL(e,o)),n}return i._value=t,i}function OL(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vh(e);return this.tween(n,(r.local?LL:RL)(r,t))}function kL(e,t){return function(){lg(this,e).delay=+t.apply(this,arguments)}}function PL(e,t){return t=+t,function(){lg(this,e).delay=t}}function NL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kL:PL)(t,e)):Ii(this.node(),t).delay}function ML(e,t){return function(){eo(this,e).duration=+t.apply(this,arguments)}}function IL(e,t){return t=+t,function(){eo(this,e).duration=t}}function DL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ML:IL)(t,e)):Ii(this.node(),t).duration}function FL(e,t){if(typeof t!="function")throw new Error;return function(){eo(this,e).ease=t}}function $L(e){var t=this._id;return arguments.length?this.each(FL(t,e)):Ii(this.node(),t).ease}function BL(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;eo(this,e).ease=n}}function jL(e){if(typeof e!="function")throw new Error;return this.each(BL(this._id,e))}function zL(e){typeof e!="function"&&(e=q8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new To(r,this._parents,this._name,this._id)}function GL(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=t[l],u=n[l],f=s.length,h=a[l]=new Array(f),c,m=0;m<f;++m)(c=s[m]||u[m])&&(h[m]=c);for(;l<r;++l)a[l]=t[l];return new To(a,this._parents,this._name,this._id)}function UL(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function VL(e,t,n){var r,i,o=UL(t)?lg:eo;return function(){var a=o(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function HL(e,t){var n=this._id;return arguments.length<2?Ii(this.node(),n).on.on(e):this.each(VL(n,e,t))}function WL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function XL(){return this.on("end.remove",WL(this._id))}function YL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ig(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,h,c=0;c<s;++c)(f=l[c])&&(h=e.call(f,f.__data__,c,l))&&("__data__"in f&&(h.__data__=f.__data__),u[c]=h,Wh(u[c],t,n,c,u,Ii(f,n)));return new To(o,this._parents,t,n)}function qL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Y8(e));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],u=s.length,f,h=0;h<u;++h)if(f=s[h]){for(var c=e.call(f,f.__data__,h,s),m,v=Ii(f,n),S=0,L=c.length;S<L;++S)(m=c[S])&&Wh(m,t,n,S,c,v);o.push(c),a.push(f)}return new To(o,a,t,n)}var QL=af.prototype.constructor;function KL(){return new QL(this._groups,this._parents)}function ZL(e,t){var n,r,i;return function(){var o=Hs(this,e),a=(this.style.removeProperty(e),Hs(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function f9(e){return function(){this.style.removeProperty(e)}}function JL(e,t,n){var r,i=n+"",o;return function(){var a=Hs(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function eR(e,t,n){var r,i,o;return function(){var a=Hs(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Hs(this,e))),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}function tR(e,t){var n,r,i,o="style."+t,a="end."+o,l;return function(){var s=eo(this,e),u=s.on,f=s.value[o]==null?l||(l=f9(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),s.on=r}}function nR(e,t,n){var r=(e+="")=="transform"?DA:c9;return t==null?this.styleTween(e,ZL(e,r)).on("end.style."+e,f9(e)):typeof t=="function"?this.styleTween(e,eR(e,r,sg(this,"style."+e,t))).each(tR(this._id,e)):this.styleTween(e,JL(e,r,t),n).on("end.style."+e,null)}function rR(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function iR(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&rR(e,a,n)),r}return o._value=t,o}function oR(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,iR(e,t,n??""))}function aR(e){return function(){this.textContent=e}}function lR(e){return function(){var t=e(this);this.textContent=t??""}}function sR(e){return this.tween("text",typeof e=="function"?lR(sg(this,"text",e)):aR(e==null?"":e+""))}function uR(e){return function(t){this.textContent=e.call(this,t)}}function cR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&uR(i)),t}return r._value=e,r}function fR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cR(e))}function dR(){for(var e=this._name,t=this._id,n=d9(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=Ii(s,t);Wh(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new To(r,this._parents,e,n)}function hR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=eo(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&o()})}var pR=0;function To(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function d9(){return++pR}var mo=af.prototype;To.prototype={constructor:To,select:YL,selectAll:qL,selectChild:mo.selectChild,selectChildren:mo.selectChildren,filter:zL,merge:GL,selection:KL,transition:dR,call:mo.call,nodes:mo.nodes,node:mo.node,size:mo.size,empty:mo.empty,each:mo.each,on:HL,attr:AL,attrTween:OL,style:nR,styleTween:oR,text:sR,textTween:fR,remove:XL,tween:yL,delay:NL,duration:DL,ease:$L,easeVarying:jL,end:hR,[Symbol.iterator]:mo[Symbol.iterator]};function h9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function mR(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function m6(e){return 1-mR(e)}var vR={time:null,delay:0,duration:250,ease:h9};function gR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yR(e){var t,n;e instanceof To?(t=e._id,e=e._name):(t=d9(),(n=vR).time=ag(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&Wh(s,e,t,u,a,n||gR(s,t));return new To(r,this._parents,e,t)}af.prototype.interrupt=mL;af.prototype.transition=yR;function xR(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[1]*i[0]-r[0]*i[1];return o/2}function _R(e){for(var t=-1,n=e.length,r=e[n-1],i,o,a=r[0],l=r[1],s=0;++t<n;)i=a,o=l,r=e[t],a=r[0],l=r[1],i-=a,o-=l,s+=Math.sqrt(i*i+o*o);return s}var bd={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},wR=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function ER(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&wR.indexOf(e)>=0}function SR(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function bR(e){return(e|32)===97}function cs(e){return e>=48&&e<=57}function AR(e){return e>=48&&e<=57||e===43||e===45||e===46}function TR(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function Ad(e){for(;e.index<e.max&&ER(e.path.charCodeAt(e.index));)e.index++}function CR(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function LR(e){var t=e.index,n=t,r=e.max,i=!1,o=!1,a=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!cs(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&cs(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&cs(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;cs(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!o&&!a){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&cs(e.path.charCodeAt(n)))for(;n<r&&cs(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function dm(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=bd[n]&&(e.result.push([t].concat(r.splice(0,bd[n]))),!!bd[n]););}function RR(e){var t=e.max,n,r,i,o,a;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=bR(n),!SR(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(o=bd[e.path[e.index].toLowerCase()],e.index++,Ad(e),e.data=[],!o){dm(e);return}for(i=!1;;){for(a=o;a>0;a--){if(r&&(a===3||a===4)?CR(e):LR(e),e.err.length){dm(e);return}e.data.push(e.param),Ad(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,Ad(e),i=!0)}if(!i&&(e.index>=e.max||!AR(e.path.charCodeAt(e.index))))break}dm(e)}var OR=function(t){var n=new TR(t),r=n.max;for(Ad(n);n.index<r&&!n.err.length;)RR(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function kR(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function Mi(){if(!(this instanceof Mi))return new Mi;this.queue=[],this.cache=null}Mi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};Mi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};Mi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};Mi.prototype.rotate=function(e,t,n){var r,i,o;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-t,-n)),this};Mi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};Mi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};Mi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=kR(this.cache,this.queue[e]);return this.cache};Mi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var p9=Mi,PR=p9,NR={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},MR=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,IR=/[\s,]+/,DR=function(t){var n=new PR,r,i;return t.split(MR).forEach(function(o){if(o.length){if(typeof NR[o]<"u"){r=o;return}switch(i=o.split(IR).map(function(a){return+a||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},xc=Math.PI*2;function v6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function FR(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,v=f*f,S=h*h,L=c*m-c*S-m*v;L<0&&(L=0),L/=c*S+m*v,L=Math.sqrt(L)*(i===o?-1:1);var g=L*a/l*h,_=L*-l/a*f,y=u*g-s*_+(e+n)/2,O=s*g+u*_+(t+r)/2,F=(f-g)/a,V=(h-_)/l,ee=(-f-g)/a,K=(-h-_)/l,He=v6(1,0,F,V),ve=v6(F,V,ee,K);return o===0&&ve>0&&(ve-=xc),o===1&&ve<0&&(ve+=xc),[y,O,He,ve]}function $R(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}var BR=function(t,n,r,i,o,a,l,s,u){var f=Math.sin(u*xc/360),h=Math.cos(u*xc/360),c=h*(t-r)/2+f*(n-i)/2,m=-f*(t-r)/2+h*(n-i)/2;if(c===0&&m===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var v=c*c/(l*l)+m*m/(s*s);v>1&&(l*=Math.sqrt(v),s*=Math.sqrt(v));var S=FR(t,n,r,i,o,a,l,s,f,h),L=[],g=S[2],_=S[3],y=Math.max(Math.ceil(Math.abs(_)/(xc/4)),1);_/=y;for(var O=0;O<y;O++)L.push($R(g,_)),g+=_;return L.map(function(F){for(var V=0;V<F.length;V+=2){var ee=F[V+0],K=F[V+1];ee*=l,K*=s;var He=h*ee-f*K,ve=f*ee+h*K;F[V+0]=He+S[0],F[V+1]=ve+S[1]}return F})},_c=1e-10,g6=Math.PI/180;function Xc(e,t,n){if(!(this instanceof Xc))return new Xc(e,t,n);this.rx=e,this.ry=t,this.ax=n}Xc.prototype.transform=function(e){var t=Math.cos(this.ax*g6),n=Math.sin(this.ax*g6),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+o)/2;if(a<_c*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];a=Math.sqrt(a);var u=l+a/2,f=l-a/2;return this.ax=Math.abs(s)<_c&&Math.abs(u-o)<_c?90:Math.atan(Math.abs(s)>Math.abs(u-o)?(u-i)/s:s/(u-o))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(u)),this};Xc.prototype.isDegenerate=function(){return this.rx<_c*this.ry||this.ry<_c*this.rx};var jR=Xc,zR=OR,GR=DR,Ca=p9,UR=BR,VR=jR;function In(e){if(!(this instanceof In))return new In(e);var t=zR(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}In.from=function(e){if(typeof e=="string")return new In(e);if(e instanceof In){var t=new In("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return Ca().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};In.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,o,a){var l,s,u,f;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(o,r[1],!1),s=l[0]===e.calc(o,a,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],a,!1),s=l[1]===e.calc(o,a,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var h=e.toArray(),c=VR(r[1],r[2],r[3]).transform(h);if(h[0]*h[3]-h[1]*h[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===o&&r[7]===a||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":f=i>0,l=e.calc(r[1],r[2],f),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],f=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],f),s.push(l[0],l[1])}t.segments[i]=s},!0)};In.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=Ca(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};In.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var o=this.segments[r],a=o[0];a!==t||a==="m"||a==="M"?(a==="m"&&t==="z"&&(e+=" "),e+=a,n=!1):n=!0;for(var l=1;l<o.length;l++){var s=o[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=a}return e};In.prototype.translate=function(e,t){return this.__stack.push(Ca().translate(e,t||0)),this};In.prototype.scale=function(e,t){return this.__stack.push(Ca().scale(e,!t&&t!==0?e:t)),this};In.prototype.rotate=function(e,t,n){return this.__stack.push(Ca().rotate(e,t||0,n||0)),this};In.prototype.skewX=function(e){return this.__stack.push(Ca().skewX(e)),this};In.prototype.skewY=function(e){return this.__stack.push(Ca().skewY(e)),this};In.prototype.matrix=function(e){return this.__stack.push(Ca().matrix(e)),this};In.prototype.transform=function(e){return e.trim()?(this.__stack.push(GR(e)),this):this};In.prototype.round=function(e){var t=0,n=0,r=0,i=0,o;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(a){var l=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":l&&(a[1]+=r),r=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"V":case"v":l&&(a[1]+=i),i=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(a[1]+=r,a[2]+=i),r=a[1]-a[1].toFixed(e),i=a[2]-a[2].toFixed(e),t=r,n=i,a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e);return;case"A":case"a":l&&(a[6]+=r,a[7]+=i),r=a[6]-a[6].toFixed(e),i=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),a[7]=+a[7].toFixed(e);return;default:o=a.length,l&&(a[o-2]+=r,a[o-1]+=i),r=a[o-2]-a[o-2].toFixed(e),i=a[o-1]-a[o-1].toFixed(e),a.forEach(function(s,u){u&&(a[u]=+a[u].toFixed(e))});return}}),this};In.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,o=0,a=0,l=0,s=0,u,f,h;if(t||this.__evaluateStack(),n.forEach(function(c,m){var v=e(c,m,o,a);Array.isArray(v)&&(r[m]=v,i=!0);var S=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":o=c[1]+(S?o:0),a=c[2]+(S?a:0),l=o,s=a;return;case"h":case"H":o=c[1]+(S?o:0);return;case"v":case"V":a=c[1]+(S?a:0);return;case"z":case"Z":o=l,a=s;return;default:o=c[c.length-2]+(S?o:0),a=c[c.length-1]+(S?a:0)}}),!i)return this;for(h=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(f=0;f<r[u].length;f++)h.push(r[u][f]);else h.push(n[u]);return this.segments=h,this};In.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toUpperCase(),a;if(i!==o)switch(e[0]=o,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(a=1;a<e.length;a++)e[a]+=a%2?n:r}},!0),this};In.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toLowerCase(),a;if(i!==o&&!(t===0&&i==="M"))switch(e[0]=o,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(a=1;a<e.length;a++)e[a]-=a%2?n:r}},!0),this};In.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,o,a,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(o=n+e[6],a=r+e[7]):(o=e[6],a=e[7]),i=UR(n,r,o,a,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};In.prototype.unshort=function(){var e=this.segments,t,n,r,i,o;return this.iterate(function(a,l,s,u){var f=a[0],h=f.toUpperCase(),c;l&&(h==="T"?(c=f==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"q":"Q",i,o,a[1],a[2]]):h==="S"&&(c=f==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"c":"C",i,o,a[1],a[2],a[3],a[4]]))}),this};var HR=In,WR=HR;const XR=Zc(WR);var hm={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},YR=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function qR(e){var t=[];return e.replace(YR,function(n,r,i){var o=r.toLowerCase();for(i=KR(i),o==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),o="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===hm[o])return i.unshift(r),t.push(i);if(i.length<hm[o])throw new Error("malformed path data");t.push([r].concat(i.splice(0,hm[o])))}}),t}var QR=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function KR(e){var t=e.match(QR);return t?t.map(Number):[]}function Ai(e,t,n,r,i,o,a,l){return new Rv(e,t,n,r,i,o,a,l)}function Rv(e,t,n,r,i,o,a,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:l},a!=null&&l!==null&&l!==void 0?(this.getArcLength=lO,this.getPoint=eO,this.getDerivative=JR):(this.getArcLength=tO,this.getPoint=m9,this.getDerivative=ZR),this.init()}Rv.prototype={constructor:Rv,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:o.x,y:o.y,tangentX:i.x,tangentY:i.y}}};function ZR(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function JR(e,t,n){var r=m9([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function pm(e,t,n,r,i){for(var o=1,a=e/t,l=(e-n(r,i,a))/t;o>.001;){var s=n(r,i,a+l),u=n(r,i,a-l),f=Math.abs(e-s)/t,h=Math.abs(e-u)/t;f<o?(o=f,a+=l):h<o?(o=h,a-=l):l/=2}return a}function m9(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function eO(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function tO(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],a=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*o+i*a),u=o*o+a*a;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var f=s/(2*l),h=u/l,c=n+f,m=h-f*f;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+m)-f*Math.sqrt(f*f+m)+m*Math.log(Math.abs((c+Math.sqrt(c*c+m))/(f+Math.sqrt(f*f+m)))))}var nO=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],rO=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],iO=[[1],[1,1],[1,2,1],[1,3,3,1]];function oO(e,t){return iO[e][t]}function Ov(e,t,n){var r=n.length-1,i,o,a;if(r===0)return 0;if(e===0){for(o=0,a=0;a<=r;a++)o+=oO(r,a)*Math.pow(1-t,r-a)*Math.pow(t,a)*n[a];return o}else{for(i=new Array(r),a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return Ov(e-1,t,i)}}function aO(e,t,n){var r=Ov(1,n,e),i=Ov(1,n,t),o=r*r+i*i;return Math.sqrt(o)}function lO(e,t,n){var r,i,o,a;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,o=0;o<l;o++)a=r*nO[l][o]+r,i+=rO[l][o]*aO(e,t,a);return r*i}var wc=Math.PI*2;function y6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function sO(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,v=f*f,S=h*h,L=c*m-c*S-m*v;L<0&&(L=0),L/=c*S+m*v,L=Math.sqrt(L)*(i===o?-1:1);var g=L*a/l*h,_=L*-l/a*f,y=u*g-s*_+(e+n)/2,O=s*g+u*_+(t+r)/2,F=(f-g)/a,V=(h-_)/l,ee=(-f-g)/a,K=(-h-_)/l,He=y6(1,0,F,V),ve=y6(F,V,ee,K);return o===0&&ve>0&&(ve-=wc),o===1&&ve<0&&(ve+=wc),[y,O,He,ve]}function uO(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function cO(e,t,n,r,i,o,a,l,s){var u=Math.sin(i*wc/360),f=Math.cos(i*wc/360),h=f*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+f*(t-s)/2;if(h===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var m=h*h/(n*n)+c*c/(r*r);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m));var v=sO(e,t,l,s,o,a,n,r,u,f),S=[],L=v[2],g=v[3],_=Math.max(Math.ceil(Math.abs(g)/(wc/4)),1);g/=_;for(var y=0;y<_;y++)S.push(uO(L,g)),L+=g;return S.map(function(O){for(var F=0;F<O.length;F+=2){var V=O[F+0],ee=O[F+1];V*=n,ee*=r;var K=f*V-u*ee,He=u*V+f*ee;O[F+0]=K+v[0],O[F+1]=He+v[1]}return O})}function x6(e,t,n,r,i,o,a,l,s){return new kv(e,t,n,r,i,o,a,l,s)}function kv(e,t,n,r,i,o,a,l,s){var u=0,f=[],h=[],c=cO(e,t,n,r,i,o,a,l,s);c.forEach(function(m){var v=new Ai(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),S=v.getTotalLength();u+=S,f.push(S),h.push(v)}),this.length=u,this.partialLengths=f,this.curves=h}kv.prototype={constructor:kv,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function bi(e,t,n,r){return new lf(e,t,n,r)}function lf(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}lf.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};lf.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};lf.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};lf.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function fO(e){var t=0,n=[],r=[];function i(a){if(!a)return null;for(var l=qR(a),s=[0,0],u=[0,0],f,h,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],h=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],h=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new bi(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new bi(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new bi(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new bi(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(h[0]-s[0],2)+Math.pow(h[1]-s[1],2)),r.push(new bi(s[0],h[0],s[1],h[1])),s=[h[0],h[1]]):l[c][0]==="C"?(f=new Ai(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+f.getTotalLength(),s=[l[c][5],l[c][6]],r.push(f)):l[c][0]==="c"?(f=new Ai(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+f.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(f)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ai(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):f=new Ai(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+f.getTotalLength(),s=[l[c][3],l[c][4]],r.push(f)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ai(s[0],s[1],s[0]+f.d.x-f.c.x,s[1]+f.d.y-f.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):f=new Ai(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?f=new Ai(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):f=new bi(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+f.getTotalLength(),r.push(f),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?f=new bi(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):f=new Ai(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ai(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):f=new bi(s[0],l[c][1],s[1],l[c][2]),r.push(f),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ai(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):f=new bi(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(f)):l[c][0]==="A"?(f=new x6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+f.getTotalLength(),s=[l[c][6],l[c][7]],r.push(f)):l[c][0]==="a"&&(f=new x6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+f.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(f)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(a){var l=o(a);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(a){var l=o(a);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(a){var l=o(a);return r[l.i].getPropertiesAtLength(l.fraction)};var o=function(a){a<0?a=0:a>t&&(a=t);for(var l=n.length-1;n[l]>=a&&n[l]>0;)l--;return l++,{fraction:a-n[l-1],i:l}};return i(e)}function Xh(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function v9(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function dO(e,t){return Xh(e,t)<1e-9}function hO(e,t,n){let r=e.map((i,o)=>pO(i,t[o]));return function(i){let o=r.map(a=>a(i));return n?gO(o):o}}function pO(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function ph(e){return typeof e=="number"&&isFinite(e)}const Pv=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function mO(e){return new XR(e).abs()}function vO(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function gO(e){return"M"+e.join("L")+"Z"}function yO(e,t){let n=mO(e);return xO(n)||_O(n,t)}function xO(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,o,a]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([o,a]);else if(i==="H")n.push([o,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],o]);else return!1}return n.length?{ring:n}:!1}function _O(e,t){let n=vO(e)[0],r=[],i,o,a=3;if(!n)throw new TypeError(Pv);o=wO(n),i=o.getTotalLength(),t&&ph(t)&&t>0&&(a=Math.max(a,Math.ceil(i/t)));for(let l=0;l<a;l++){let s=o.getPointAtLength(i*l/a);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function wO(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return fO(e)}function _6(e,t){const n=e.length+t,r=_R(e)/t;let i=0,o=0,a=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=Xh(l,s);if(a<=o+u){e.splice(i+1,0,u?v9(l,s,(a-o)/u):l.slice(0)),a+=r;continue}o+=u,i++}}function EO(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;Xh(r,i)>t;)i=v9(r,i,.5),e.splice(n+1,0,i)}}function w6(e,t){let n,r,i;if(typeof e=="string"){let o=yO(e,t);e=o.ring,i=o.skipBisect}else if(!Array.isArray(e))throw new TypeError(Pv);if(n=e.slice(0),!SO(n))throw new TypeError(Pv);return n.length>1&&dO(n[0],n[n.length-1])&&n.pop(),r=xR(n),r>0&&n.reverse(),!i&&t&&ph(t)&&t>0&&EO(n,t),n}function SO(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&ph(t[0])&&ph(t[1])})}function bO(e,t){let n=e.length,r=1/0,i,o,a;for(let l=0;l<n;l++)o=0,t.forEach(function(s,u){let f=Xh(e[(l+u)%n],s);o+=f*f}),o<r&&(r=o,i=l);i&&(a=e.splice(0,i),e.splice(e.length,0,...a))}function AO(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=w6(e,n),o=w6(t,n),a=TO(i,o,r);return!r||typeof e!="string"&&typeof t!="string"?a:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:a(l)}function TO(e,t,n){let r;return r=e.length-t.length,_6(e,r<0?r*-1:0),_6(t,r>0?r:0),bO(e,t),hO(e,t,n)}var g9={exports:{}};g9.exports=Yh;g9.exports.default=Yh;function Yh(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=y9(e,0,i,n,!0),a=[];if(!o||o.next===o.prev)return a;var l,s,u,f,h,c,m;if(r&&(o=kO(e,t,o,n)),e.length>80*n){l=u=e[0],s=f=e[1];for(var v=n;v<i;v+=n)h=e[v],c=e[v+1],h<l&&(l=h),c<s&&(s=c),h>u&&(u=h),c>f&&(f=c);m=Math.max(u-l,f-s),m=m!==0?32767/m:0}return Yc(o,a,n,l,s,m,0),a}function y9(e,t,n,r,i){var o,a;if(i===Iv(e,t,n,r)>0)for(o=t;o<n;o+=r)a=E6(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=E6(o,e[o],e[o+1],a);return a&&qh(a,a.next)&&(Qc(a),a=a.next),a}function El(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(qh(n,n.next)||Mn(n.prev,n,n.next)===0)){if(Qc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Yc(e,t,n,r,i,o,a){if(e){!a&&o&&DO(e,r,i,o);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,o?LO(e,r,i,o):CO(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Qc(e),e=u.next,l=u.next;continue}if(e=u,e===l){a?a===1?(e=RO(El(e),t,n),Yc(e,t,n,r,i,o,2)):a===2&&OO(e,t,n,r,i,o):Yc(El(e),t,n,r,i,o,1);break}}}}function CO(e){var t=e.prev,n=e,r=e.next;if(Mn(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,l=t.y,s=n.y,u=r.y,f=i<o?i<a?i:a:o<a?o:a,h=l<s?l<u?l:u:s<u?s:u,c=i>o?i>a?i:a:o>a?o:a,m=l>s?l>u?l:u:s>u?s:u,v=r.next;v!==t;){if(v.x>=f&&v.x<=c&&v.y>=h&&v.y<=m&&Ts(i,l,o,s,a,u,v.x,v.y)&&Mn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function LO(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Mn(i,o,a)>=0)return!1;for(var l=i.x,s=o.x,u=a.x,f=i.y,h=o.y,c=a.y,m=l<s?l<u?l:u:s<u?s:u,v=f<h?f<c?f:c:h<c?h:c,S=l>s?l>u?l:u:s>u?s:u,L=f>h?f>c?f:c:h>c?h:c,g=Nv(m,v,t,n,r),_=Nv(S,L,t,n,r),y=e.prevZ,O=e.nextZ;y&&y.z>=g&&O&&O.z<=_;){if(y.x>=m&&y.x<=S&&y.y>=v&&y.y<=L&&y!==i&&y!==a&&Ts(l,f,s,h,u,c,y.x,y.y)&&Mn(y.prev,y,y.next)>=0||(y=y.prevZ,O.x>=m&&O.x<=S&&O.y>=v&&O.y<=L&&O!==i&&O!==a&&Ts(l,f,s,h,u,c,O.x,O.y)&&Mn(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;y&&y.z>=g;){if(y.x>=m&&y.x<=S&&y.y>=v&&y.y<=L&&y!==i&&y!==a&&Ts(l,f,s,h,u,c,y.x,y.y)&&Mn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;O&&O.z<=_;){if(O.x>=m&&O.x<=S&&O.y>=v&&O.y<=L&&O!==i&&O!==a&&Ts(l,f,s,h,u,c,O.x,O.y)&&Mn(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function RO(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!qh(i,o)&&x9(i,r,r.next,o)&&qc(i,o)&&qc(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Qc(r),Qc(r.next),r=e=o),r=r.next}while(r!==e);return El(r)}function OO(e,t,n,r,i,o){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&BO(a,l)){var s=_9(a,l);a=El(a,a.next),s=El(s,s.next),Yc(a,t,n,r,i,o,0),Yc(s,t,n,r,i,o,0);return}l=l.next}a=a.next}while(a!==e)}function kO(e,t,n,r){var i=[],o,a,l,s,u;for(o=0,a=t.length;o<a;o++)l=t[o]*r,s=o<a-1?t[o+1]*r:e.length,u=y9(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push($O(u));for(i.sort(PO),o=0;o<i.length;o++)n=NO(i[o],n);return n}function PO(e,t){return e.x-t.x}function NO(e,t){var n=MO(e,t);if(!n)return t;var r=_9(n,e);return El(r,r.next),El(n,n.next)}function MO(e,t){var n=t,r=e.x,i=e.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>o&&(o=l,a=n.x<n.next.x?n:n.next,l===r))return a}n=n.next}while(n!==t);if(!a)return null;var s=a,u=a.x,f=a.y,h=1/0,c;n=a;do r>=n.x&&n.x>=u&&r!==n.x&&Ts(i<f?r:o,i,u,f,i<f?o:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),qc(n,e)&&(c<h||c===h&&(n.x>a.x||n.x===a.x&&IO(a,n)))&&(a=n,h=c)),n=n.next;while(n!==s);return a}function IO(e,t){return Mn(e.prev,e,t.prev)<0&&Mn(t.next,e,e.next)<0}function DO(e,t,n,r){var i=e;do i.z===0&&(i.z=Nv(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,FO(i)}function FO(e){var t,n,r,i,o,a,l,s,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function Nv(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function $O(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Ts(e,t,n,r,i,o,a,l){return(i-a)*(t-l)>=(e-a)*(o-l)&&(e-a)*(r-l)>=(n-a)*(t-l)&&(n-a)*(o-l)>=(i-a)*(r-l)}function BO(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!jO(e,t)&&(qc(e,t)&&qc(t,e)&&zO(e,t)&&(Mn(e.prev,e,t.prev)||Mn(e,t.prev,t))||qh(e,t)&&Mn(e.prev,e,e.next)>0&&Mn(t.prev,t,t.next)>0)}function Mn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function qh(e,t){return e.x===t.x&&e.y===t.y}function x9(e,t,n,r){var i=nd(Mn(e,t,n)),o=nd(Mn(e,t,r)),a=nd(Mn(n,r,e)),l=nd(Mn(n,r,t));return!!(i!==o&&a!==l||i===0&&td(e,n,t)||o===0&&td(e,r,t)||a===0&&td(n,e,r)||l===0&&td(n,t,r))}function td(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function nd(e){return e>0?1:e<0?-1:0}function jO(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&x9(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function qc(e,t){return Mn(e.prev,e,e.next)<0?Mn(e,t,e.next)>=0&&Mn(e,e.prev,t)>=0:Mn(e,t,e.prev)<0||Mn(e,e.next,t)<0}function zO(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function _9(e,t){var n=new Mv(e.i,e.x,e.y),r=new Mv(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E6(e,t,n,r){var i=new Mv(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Mv(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Yh.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(Iv(e,0,o,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,f=l<s-1?t[l+1]*n:e.length;a-=Math.abs(Iv(e,u,f,n))}var h=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,m=r[l+1]*n,v=r[l+2]*n;h+=Math.abs((e[c]-e[v])*(e[m+1]-e[c+1])-(e[c]-e[m])*(e[v+1]-e[c+1]))}return a===0&&h===0?0:Math.abs((h-a)/a)};function Iv(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Yh.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function w9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function GO(e){return e.length===1&&(e=UO(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function UO(e){return function(t,n){return w9(e(t),n)}}GO(w9);const mm=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:o,symbol:a,xDomain:l,yDomain:s,width:u,height:f})=>{const h=P.useRef();P.useRef();const c=P.useRef();return P.useRef(),P.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const v=u6(h.current),S=u/(l[1]-l[0]),L=f/(s[1]-s[0]),g=u/2-S*(l[1]+l[0])/2,_=f/2+L*(s[1]+s[0])/2,y=o/Math.sqrt(S*L)/2,O=v.select("g.hull-container");O.attr("transform",`translate(${g}, ${_}) scale(${S}, ${L})`);const F=o6().x(ee=>ee[0]).y(ee=>-ee[1]).curve(l6);let V=O.selectAll("path.hull").data(e);V.exit().transition().duration(i).delay(r).ease(m6).style("opacity",0).remove(),V.enter().append("path").classed("hull",!0).attr("d",F).style("fill",t).style("stroke",n).style("stroke-width",y).style("opacity",0).transition().delay(r+100).duration(i-100).ease(m6).style("opacity",.75),V.transition().duration(i).delay(r).ease(h9).style("opacity",.75).attrTween("d",function(ee,K){const He=c.current?c.current[K]:null;if(!He)return()=>F(ee);const ve=AO(F(He),F(ee));return function(Re){return ve(Re)}}),setTimeout(()=>{c.current=e},i)},[e]),P.useEffect(()=>{if(!l||!s||!e.length)return;const m=u6(h.current),v=u/(l[1]-l[0]),S=f/(s[1]-s[0]),L=u/2-v*(l[1]+l[0])/2,g=f/2+S*(s[1]+s[0])/2,_=o/Math.sqrt(v*S),y=m.select("g.hull-container");y.attr("transform",`translate(${L}, ${g}) scale(${v}, ${S})`);const O=o6().x(V=>V[0]).y(V=>-V[1]).curve(l6);let F=y.selectAll("path.hull").data(e);F.enter().append("path").classed("hull",!0).attr("d",O).style("fill",t).style("stroke",n).attr("stroke-width",_).style("opacity",.75),F.exit().remove(),F.attr("d",O)},[t,n,o,l,s,u,f]),I.jsx("svg",{ref:h,className:"hull-plot",width:u,height:f,children:I.jsx("g",{className:"hull-container"})})},Kr="https://api.latentscope.com/api",VO=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),S6=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function rd(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function HO(){var gr;const[e,t]=P.useState(null),{dataset:n,scope:r}=D2(),i=Fh(),o=P.useRef(null),[a,l]=s();function s(){const[te,gt]=P.useState([500,500]);return P.useEffect(()=>{function it(){if(!o.current)return;const{height:wt,width:Ut}=o.current.getBoundingClientRect();let mn=Ut>500?500:Ut-50;gt([mn,mn])}return window.addEventListener("resize",it),it(),setTimeout(it,100),()=>window.removeEventListener("resize",it)},[]),te}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[f,h]=P.useState(2);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/meta`).then(te=>te.json()).then(te=>{console.log("dataset",te),t(te)})},[n,t]);const[c,m]=P.useState([]);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes`).then(te=>te.json()).then(te=>{m(te)})},[n,m]);const[v,S]=P.useState(null);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes/${r}`).then(te=>te.json()).then(te=>{console.log("scope",te),S(te)})},[n,r,S]);const[L,g]=P.useState(null),[_,y]=P.useState(null),[O,F]=P.useState([]),[V,ee]=P.useState([]),[K,He]=P.useState(L==null?void 0:L.id),[ve,Re]=P.useState([]);P.useEffect(()=>{fetch(`${Kr}/datasets/${n}/embeddings`).then(te=>te.json()).then(te=>{Re(te)})},[n,Re]);const[Oe,Je]=P.useState([]),[De,Lt]=P.useState([]),[at,lt]=P.useState([]);P.useEffect(()=>{v&&(g(ve.find(te=>te.id==v.embedding_id)),Promise.all([fetch(`${Kr}/datasets/${n}/umaps/${v.umap_id}`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/umaps/${v.umap_id}/points`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id.split("-")[3]||v.cluster_labels_id}`).then(te=>te.json()),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/indices`).then(te=>te.json())]).then(([te,gt,it,wt])=>{y(te);const Ut=gt.map(Ye=>[Ye.x,Ye.y]);Je(Ut);const mn=gt.map((Ye,Et)=>[Ye.x,Ye.y,wt[Et].cluster]);Lt(mn),lt([]),ee(it),F(wt),setTimeout(()=>{lt(rd(it,Ut))},100)}).catch(te=>console.error("Fetching data failed",te)))},[n,v,ve,y,ee,g,He]),P.useMemo(()=>O.map(te=>te.cluster),[O]),P.useEffect(()=>{L&&He(L.id)},[L,He]);const ye=te=>{console.log("selected",te),He(te)},Le=P.useCallback((te,gt,it=[])=>{fetch(`${Kr}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:te})}).then(wt=>wt.json()).then(wt=>{if(!e)return;let Ut=wt.map((mn,Ye)=>({index:te[Ye],...mn}));gt(Ut)})},[e,n]),[se,Ae]=P.useState({}),[rt,At]=P.useState([-1,1]),[Pt,Zt]=P.useState([-1,1]),Bt=P.useCallback((te,gt)=>{At(te),Zt(gt)},[At,Zt]),[yt,It]=P.useState([]),zt=P.useCallback(te=>{console.log("handle selected",te),It(te),h(0)},[It,h]),[Yt,cn]=P.useState(null),[Ft,Jt]=P.useState(null);P.useEffect(()=>{Yt!=null?Le([Yt],te=>{Jt(te[0])}):Jt(null)},[Yt,Jt,Le]);const[st,Tt]=P.useState(null);P.useEffect(()=>{if(Ft&&O.length&&V.length){const te=Ft.index,gt=O[te],it=V[gt==null?void 0:gt.cluster];Tt({cluster:gt.cluster,...it})}else Tt(null)},[Ft,O,V,Tt]);const[Nt,Ct]=P.useState([]);P.useEffect(()=>{Yt!=null?Ct([Oe[Yt]]):Ct([])},[Yt,Oe]);const[Ke,Gt]=P.useState({});P.useEffect(()=>{fetch(`${Kr}/tags?dataset=${n}`).then(te=>te.json()).then(te=>Gt(te))},[n]);const ln=P.useMemo(()=>{const te=[];for(const gt in Ke)te.push(gt);return te},[Ke]),[en,qn]=P.useState(ln[0]),[E,he]=P.useState([]);P.useEffect(()=>{if(Ke[en]){const te=Ke[en].map(gt=>Oe[gt]);he(te)}else he([]),se&&se.config&&(se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ke,en,Oe,se,he]);const[Fe,ce]=P.useState([]),[xt,dt]=P.useState([]),Te=P.useCallback(te=>{fetch(`${Kr}/search/nn?dataset=${n}&query=${te}&embedding_id=${K}`).then(gt=>gt.json()).then(gt=>{dt(gt.distances),ce(gt.indices),se==null||se.zoomToPoints(gt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[K,n,se,dt,ce]),[Rt,Wt]=P.useState([]);P.useEffect(()=>{const te=Fe.map(gt=>Oe[gt]);Wt(te)},[Fe,Oe]);const[Ie,Dt]=P.useState(null),[fn,$t]=P.useState([]);P.useEffect(()=>{if(Ie){const te=Ie.indices.map(gt=>Oe[gt]);$t(te)}else $t([]),se&&se.config&&(se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ie,Oe,se,$t]);const[dn,pn]=P.useState((Ie==null?void 0:Ie.label)||"");P.useEffect(()=>{pn((Ie==null?void 0:Ie.label)||"")},[Ie]);const Ln=P.useCallback(te=>{se==null||se.zoomToPoints([te],{transition:!0,padding:.9,transitionDuration:1500})},[se]),wn=P.useCallback(te=>{cn(te)},[cn]),lr=P.useCallback((te,gt)=>{console.log("update label",te,gt),fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id}/label/${te}?label=${gt}`).then(it=>it.json()).then(it=>{fetch(`${Kr}/datasets/${n}/clusters/${v.cluster_id}/labels/${v.cluster_labels_id}`).then(wt=>wt.json()).then(wt=>{console.log("got new labels",wt),ee(wt),lt(rd(wt,Oe))}).catch(console.error)}).catch(console.error)},[n,v]),yn=P.useCallback(()=>{Dt(null)},[]);return e?I.jsxs("div",{ref:o,className:"container",children:[I.jsxs("div",{className:"left-column",children:[I.jsxs("div",{className:"summary",children:[I.jsxs("div",{className:"scope-card",children:[S6()?I.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,I.jsxs("div",{className:"heading",children:[n,": ",I.jsx("select",{className:"scope-selector",onChange:te=>{yn(),i(`/datasets/${e==null?void 0:e.id}/explore/${te.target.value}`)},children:c.map((te,gt)=>I.jsx("option",{value:te.id,selected:te.id===(v==null?void 0:v.id),children:te.label||te.id},gt))}),null]}),I.jsx("span",{children:v==null?void 0:v.description}),I.jsxs("span",{children:["Embeddings: ",L==null?void 0:L.model_id]}),I.jsxs("span",{children:[V==null?void 0:V.length," clusters"]})]}),I.jsx("div",{className:"dataset-card",children:I.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),I.jsxs("div",{className:"umap-container",children:[I.jsx("div",{className:"scatters",style:{width:a,height:l},children:Oe.length?I.jsxs(I.Fragment,{children:[VO()?I.jsx(ia,{points:Oe,fill:"gray",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}):I.jsx(rg,{points:De,duration:2e3,width:a,height:l,colorScaleType:"categorical",onScatter:Ae,onView:Bt,onSelect:zt,onHover:wn}),st&&st.hull&&!v.ignore_hulls?I.jsx(mm,{hulls:rd([st],Oe),fill:"lightgray",duration:0,xDomain:rt,yDomain:Pt,width:a,height:l}):null,Ie&&Ie.hull&&!v.ignore_hulls?I.jsx(mm,{hulls:rd([Ie],Oe),fill:"darkgray",strokeWidth:2,duration:0,xDomain:rt,yDomain:Pt,width:a,height:l}):null,at.length&&!v.ignore_hulls?I.jsx(mm,{hulls:at,stroke:"black",fill:"none",delay:2e3,duration:200,strokeWidth:1,xDomain:rt,yDomain:Pt,width:a,height:l}):null,I.jsx(ia,{points:Rt,stroke:"black",fill:"steelblue",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}),I.jsx(ia,{points:fn,fill:"darkred",size:"8",xDomain:rt,yDomain:Pt,width:a,height:l}),I.jsx(ia,{points:E,symbol:en,size:"20",xDomain:rt,yDomain:Pt,width:a,height:l}),I.jsx(ia,{points:Nt,stroke:"black",fill:"orange",size:"16",xDomain:rt,yDomain:Pt,width:a,height:l})]}):null}),S6()?null:I.jsxs("div",{className:"hovered-point",children:[st?I.jsxs("span",{children:[I.jsxs("span",{className:"key",children:["Cluster ",st.index,":"]}),I.jsx("span",{className:"value",children:st.label})]}):null,Ft&&Object.keys(Ft).map(te=>I.jsxs("span",{children:[I.jsxs("span",{className:"key",children:[te,":"]}),I.jsx("span",{className:"value",children:Ft[te]})]},te))]})]})]}),I.jsxs("div",{className:"data",children:[I.jsx("div",{className:"tab-header",children:u.map(te=>I.jsx("button",{onClick:()=>h(te.id),className:te.id===f?"tab-active":"tab-inactive",children:te.name},te.id))}),f===0?I.jsxs("div",{className:"tab-content",children:[I.jsxs("span",{children:["Selected: ",yt==null?void 0:yt.length,(yt==null?void 0:yt.length)>0?I.jsx("button",{className:"deselect",onClick:()=>{It([]),se==null||se.select([]),se==null||se.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(yt==null?void 0:yt.length)>0?I.jsx(al,{indices:yt,clusterIndices:O,clusterLabels:V,tagset:Ke,dataset:e,maxRows:150,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null,f===1?I.jsxs("div",{className:"tab-content",children:[I.jsx("div",{className:"search-box",children:I.jsxs("form",{onSubmit:te=>{te.preventDefault(),Te(te.target.elements.searchBox.value),h(1)},children:[I.jsx("input",{type:"text",id:"searchBox"}),I.jsx("button",{type:"submit",children:"Similarity Search"}),I.jsx("br",{}),I.jsx("label",{htmlFor:"embeddingModel"}),I.jsx("select",{id:"embeddingModel",onChange:te=>ye(te.target.value),value:K,children:ve.filter(te=>te.model_id).map((te,gt)=>I.jsxs("option",{value:te.id,children:[te.id," - ",te.model_id," - ",te.dimensions]},gt))})]})}),I.jsxs("span",{children:[Fe.length?I.jsxs("span",{children:["Nearest Neighbors: ",Fe.length," (capped at 150) "]}):null,Fe.length>0?I.jsx("button",{className:"deselect",onClick:()=>{ce([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Fe.length>0?I.jsx(al,{indices:Fe,distances:xt,clusterIndices:O,clusterLabels:V,tagset:Ke,dataset:e,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null,f===2?I.jsxs("div",{className:"tab-content",children:[I.jsx("div",{className:"clusters-select",children:I.jsxs("select",{onChange:te=>{const gt=V.find(it=>it.index===+te.target.value);gt&&Dt(gt)},value:Ie==null?void 0:Ie.index,children:[I.jsx("option",{value:"",children:"Select a cluster"}),V.map((te,gt)=>I.jsxs("option",{value:te.index,children:[te.index,": ",te.label]},gt))]})}),I.jsxs("div",{className:"cluster-selected",children:[Ie?I.jsxs("form",{onSubmit:te=>{te.preventDefault(),lr(Ie.index,dn)},children:[I.jsx("input",{type:"text",id:"new-label",value:dn,onChange:te=>pn(te.target.value)}),I.jsx("button",{type:"submit",children:"Update Label"})]}):null,I.jsxs("span",{children:[Ie==null?void 0:Ie.indices.length," ",Ie!=null&&Ie.indices.length?"Rows":"",Ie?I.jsx("button",{className:"deselect",onClick:()=>{Dt(null)},children:"X"}):null]})]}),I.jsx("div",{className:"cluster-table",children:Ie!=null&&Ie.indices?I.jsx(al,{indices:Ie==null?void 0:Ie.indices,clusterIndices:O,clusterLabels:V,dataset:e,tagset:Ke,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null})]}):null,f===3?I.jsxs("div",{className:"tab-content",children:[I.jsxs("div",{className:"tags-box",children:[I.jsxs("div",{className:"tags-select",children:["Tags: ",ln.map(te=>I.jsxs("button",{className:"dataset--tag-link",onClick:()=>{qn(te),h(3),se==null||se.zoomToPoints(Ke[te],{transition:!0,padding:.2,transitionDuration:1500})},children:[te,"(",Ke[te].length,")"]},te))]}),null]}),I.jsxs("span",{children:[en," ",(gr=Ke[en])==null?void 0:gr.length,en?I.jsx("button",{className:"deselect",onClick:()=>{qn(null)},children:"X"}):null]}),Ke[en]?I.jsx(al,{indices:Ke[en],clusterIndices:O,clusterLabels:V,tagset:Ke,dataset:e,onTagset:te=>Gt(te),onHover:wn,onClick:Ln}):null]}):null]})]}):I.jsx("div",{children:"Loading..."})}const WO="_container_j6tyv_1",XO="_data_j6tyv_12",YO="_scatters_j6tyv_25",qO="_scatter_j6tyv_25",QO="_controls_j6tyv_36",KO="_summary_j6tyv_42",ZO="_heading_j6tyv_52",JO="_key_j6tyv_104",ek="_value_j6tyv_108",tk="_deselect_j6tyv_248",nk="_cluster_j6tyv_280",ir={container:WO,data:XO,"umap-container":"_umap-container_j6tyv_19",scatters:YO,scatter:qO,"tab-tables":"_tab-tables_j6tyv_29",controls:QO,summary:KO,heading:ZO,"scope-card":"_scope-card_j6tyv_71","scope-selector":"_scope-selector_j6tyv_76","umap-selectors":"_umap-selectors_j6tyv_80","hovered-point":"_hovered-point_j6tyv_98",key:JO,value:ek,"tab-header":"_tab-header_j6tyv_125","tab-active":"_tab-active_j6tyv_154","tab-content":"_tab-content_j6tyv_175","tags-box":"_tags-box_j6tyv_214","new-tag":"_new-tag_j6tyv_222","search-box":"_search-box_j6tyv_238","tab-neighbors":"_tab-neighbors_j6tyv_248",deselect:tk,"slide-bar":"_slide-bar_j6tyv_261",cluster:nk};console.log("styles",ir);const Jo="https://api.latentscope.com/api",rk=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),ik=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function ok(){const[e,t]=P.useState(null),{dataset:n}=D2();Fh();const r=P.useRef(null),[i,o]=a();function a(){const[he,Fe]=P.useState([500,500]);return P.useEffect(()=>{function ce(){if(!r.current)return;const{height:xt,width:dt}=r.current.getBoundingClientRect();Fe([dt-15,xt-25])}return window.addEventListener("resize",ce),ce(),setTimeout(ce,200),()=>window.removeEventListener("resize",ce)},[]),he}const l=[{id:0,name:"Selected"},{id:1,name:"Search"}],[s,u]=P.useState(0);P.useEffect(()=>{fetch(`${Jo}/datasets/${n}/meta`).then(he=>he.json()).then(he=>{console.log("dataset",he),t(he)})},[n,t]);const[f,h]=P.useState([]),[c,m]=P.useState([]);P.useEffect(()=>{Promise.all([fetch(`${Jo}/datasets/${n}/embeddings`).then(he=>he.json()),fetch(`${Jo}/datasets/${n}/umaps`).then(he=>he.json())]).then(([he,Fe])=>{console.log("embeddings",he),console.log("umaps",Fe),h(he),Fe.sort((ce,xt)=>xt.align_id<ce.align_id?-1:xt.align_id>ce.align_id?1:ce.id<xt.id?-1:ce.id>xt.id?1:0),m(Fe)})},[n,h,m]);const[v,S]=P.useState("left"),[L,g]=P.useState(null),[_,y]=P.useState(null);P.useEffect(()=>{c&&(g(c[0]),y(c[1]))},[c]);const[O,F]=P.useState(null),[V,ee]=P.useState([]),[K,He]=P.useState([]),ve=P.useRef([]),Re=P.useRef([]);P.useEffect(()=>{if(c&&L&&_&&v){const he=v==="left"?L:_;Promise.all([fetch(`${Jo}/datasets/${n}/umaps/${he.id}`).then(Fe=>Fe.json()),fetch(`${Jo}/datasets/${n}/umaps/${he.id}/points`).then(Fe=>Fe.json())]).then(([Fe,ce])=>{F(Fe);const xt=ce.map(Te=>[Te.x,Te.y]);ee(xt),Re.current=xt;const dt=ce.map((Te,Rt)=>{let Wt=ve.current[Rt];return[Te.x,Te.y,Wt?Wt[2]:0]});He(dt),ve.current=dt}).catch(Fe=>console.error("Fetching data failed",Fe))}},[n,v,L,_,c,F,ee,He]);let Oe=P.useRef(!1),Je=P.useRef("");const[De,Lt]=P.useState(!1);P.useEffect(()=>{let he=(L==null?void 0:L.id)+(_==null?void 0:_.id)+Oe.current;L&&_&&V.length&&Je.current!==he&&(Lt(!0),fetch(`${Jo}/search/compare?dataset=${n}&umap_left=${L.id}&umap_right=${_.id}&k=10`).then(Fe=>Fe.json()).then(Fe=>{const ce=U8(O8(Fe),[0,1]),xt=Re.current.map((dt,Te)=>[dt[0],dt[1],ce(Fe[Te])]);He(xt),ve.current=xt,Lt(!1),Oe.current=!0,Je.current=(L==null?void 0:L.id)+(_==null?void 0:_.id)+Oe.current}))},[n,L,_,V]);const[at,lt]=P.useState(null);P.useEffect(()=>{f&&lt(f[0])},[f,lt]);const ye=P.useCallback(he=>{console.log("selected",he),lt(f.find(Fe=>Fe.id==he))},[f]);P.useCallback((he,Fe,ce=[])=>{fetch(`${Jo}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:he})}).then(xt=>xt.json()).then(xt=>{if(!e)return;let dt=xt.map((Te,Rt)=>({index:he[Rt],...Te}));Fe(dt)})},[e,n]);const[Le,se]=P.useState({}),[Ae,rt]=P.useState([-1,1]),[At,Pt]=P.useState([-1,1]),Zt=P.useCallback((he,Fe)=>{rt(he),Pt(Fe)},[rt,Pt]),[Bt,yt]=P.useState([]),It=P.useCallback(he=>{console.log("handle selected",he),yt(he),u(0)},[yt,u]),[zt,Yt]=P.useState(null);P.useState(null);const[cn,Ft]=P.useState([]);P.useEffect(()=>{zt!=null?Ft([V[zt]]):Ft([])},[zt,V]);const[Jt,st]=P.useState([]),[Tt,Nt]=P.useState([]),Ct=P.useCallback(he=>{fetch(`${Jo}/search/nn?dataset=${n}&query=${he}&embedding_id=${at.id}&dimensions=${at.dimensions}`).then(Fe=>Fe.json()).then(Fe=>{Nt(Fe.distances),st(Fe.indices),Le==null||Le.zoomToPoints(Fe.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[at,n,Le,Nt,st]),[Ke,Gt]=P.useState([]);P.useEffect(()=>{const he=Jt.map(Fe=>V[Fe]);Gt(he)},[Jt,V]);const ln=P.useCallback(he=>{Le==null||Le.zoomToPoints([he],{transition:!0,padding:.9,transitionDuration:1500})},[Le]),en=P.useCallback(he=>{Yt(he)},[Yt]),qn=P.useCallback(he=>{g(c.find(Fe=>Fe.id==he.target.value)),S("left")},[c,g,S]),E=P.useCallback(he=>{y(c.find(Fe=>Fe.id==he.target.value)),S("right")},[c,y,S]);return e?I.jsxs("div",{className:ir.container,children:[I.jsx("div",{className:ir.controls,children:I.jsxs("div",{className:ir.summary,children:[I.jsxs("div",{className:ir["scope-card"],children:[ik()?I.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,I.jsxs("div",{className:ir.heading,children:[I.jsx("b",{children:n}),I.jsxs("span",{children:[e==null?void 0:e.length," rows"]}),null]})]}),I.jsxs("div",{className:ir["umap-selectors"],children:[I.jsx("select",{name:"left",value:L==null?void 0:L.id,onChange:qn,children:c.map((he,Fe)=>{let ce=f.find(xt=>he.embedding_id==xt.id);return I.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ce==null?void 0:ce.model_id," [",ce==null?void 0:ce.dimensions,"] ",he.align_id]},Fe)})}),I.jsxs("div",{children:[I.jsxs("label",{children:["",I.jsx("input",{type:"radio",value:"left",name:"direction",checked:v==="left",onChange:()=>S("left")})]}),I.jsxs("label",{children:[I.jsx("input",{type:"radio",value:"right",name:"direction",checked:v==="right",onChange:()=>S("right")})," "]})]}),I.jsx("select",{name:"right",onChange:E,value:_==null?void 0:_.id,children:c.map((he,Fe)=>{let ce=f.find(xt=>he.embedding_id==xt.id);return I.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ce==null?void 0:ce.model_id," [",ce==null?void 0:ce.dimensions,"] ",he.align_id]},Fe)})})]})]})}),I.jsx("div",{ref:r,className:ir["umap-container"],children:I.jsx("div",{className:ir.scatters,style:{width:i,height:o},children:V.length?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:ir.scatter,children:rk()?I.jsx(ia,{points:V,fill:"gray",size:"8",xDomain:Ae,yDomain:At,width:i,height:o}):I.jsx(rg,{points:K,duration:2e3,pointScale:1.5,width:i,height:o,colorScaleType:"continuous",colorInterpolator:hT,opacityBy:"valueA",onScatter:se,onView:Zt,onSelect:It,onHover:en})}),I.jsx(ia,{points:Ke,stroke:"black",fill:"steelblue",size:"8",xDomain:Ae,yDomain:At,width:i,height:o}),I.jsx(ia,{points:cn,stroke:"black",fill:"orange",size:"16",xDomain:Ae,yDomain:At,width:i,height:o})]}):null})}),I.jsxs("div",{className:ir.data,children:[I.jsx("div",{className:ir["tab-header"],children:l.map(he=>I.jsx("button",{onClick:()=>u(he.id),className:he.id===s?ir["tab-active"]:ir["tab-inactive"],children:he.name},he.id))}),s===0?I.jsxs("div",{className:ir["tab-content"],children:[I.jsxs("span",{children:["Selected: ",Bt==null?void 0:Bt.length,(Bt==null?void 0:Bt.length)>0?I.jsx("button",{className:ir.deselect,onClick:()=>{yt([]),Le==null||Le.select([]),Le==null||Le.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Bt==null?void 0:Bt.length)>0?I.jsx(al,{indices:Bt,dataset:e,maxRows:150,onHover:en,onClick:ln}):null]}):null,s===1?I.jsxs("div",{className:ir["tab-content"],children:[I.jsx("div",{className:ir["search-box"],children:I.jsxs("form",{onSubmit:he=>{he.preventDefault(),Ct(he.target.elements.searchBox.value),u(1)},children:[I.jsx("input",{type:"text",id:"searchBox"}),I.jsx("button",{type:"submit",children:"Similarity Search"}),I.jsx("br",{}),I.jsx("label",{htmlFor:"embeddingModel"}),I.jsx("select",{id:"embeddingModel",onChange:he=>ye(he.target.value),defaultValue:at==null?void 0:at.id,children:f.map((he,Fe)=>I.jsxs("option",{value:he.id,children:[he.id," - ",he.model_id," - ",he.dimensions]},Fe))})]})}),I.jsxs("span",{children:[Jt.length?I.jsxs("span",{children:["Nearest Neighbors: ",Jt.length," (capped at 150) "]}):null,Jt.length>0?I.jsx("button",{className:ir.deselect,onClick:()=>{st([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Jt.length>0?I.jsx(al,{indices:Jt,distances:Tt,dataset:e,onHover:en,onClick:ln}):null]}):null]})]}):I.jsx("div",{children:"Loading..."})}const Xs=Math.min,dl=Math.max,mh=Math.round,id=Math.floor,wa=e=>({x:e,y:e}),ak={left:"right",right:"left",bottom:"top",top:"bottom"},lk={start:"end",end:"start"};function Dv(e,t,n){return dl(e,Xs(t,n))}function sf(e,t){return typeof e=="function"?e(t):e}function Sl(e){return e.split("-")[0]}function uf(e){return e.split("-")[1]}function E9(e){return e==="x"?"y":"x"}function ug(e){return e==="y"?"height":"width"}function Qh(e){return["top","bottom"].includes(Sl(e))?"y":"x"}function cg(e){return E9(Qh(e))}function sk(e,t,n){n===void 0&&(n=!1);const r=uf(e),i=cg(e),o=ug(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=vh(a)),[a,vh(a)]}function uk(e){const t=vh(e);return[Fv(e),t,Fv(t)]}function Fv(e){return e.replace(/start|end/g,t=>lk[t])}function ck(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function fk(e,t,n,r){const i=uf(e);let o=ck(Sl(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Fv)))),o}function vh(e){return e.replace(/left|right|bottom|top/g,t=>ak[t])}function dk(e){return{top:0,right:0,bottom:0,left:0,...e}}function S9(e){return typeof e!="number"?dk(e):{top:e,right:e,bottom:e,left:e}}function gh(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function b6(e,t,n){let{reference:r,floating:i}=e;const o=Qh(t),a=cg(t),l=ug(a),s=Sl(t),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,c=r[l]/2-i[l]/2;let m;switch(s){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(uf(t)){case"start":m[a]-=c*(n&&u?-1:1);break;case"end":m[a]+=c*(n&&u?-1:1);break}return m}const hk=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=b6(u,r,s),c=r,m={},v=0;for(let S=0;S<l.length;S++){const{name:L,fn:g}=l[S],{x:_,y,data:O,reset:F}=await g({x:f,y:h,initialPlacement:r,placement:c,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=_??f,h=y??h,m={...m,[L]:{...m[L],...O}},F&&v<=50&&(v++,typeof F=="object"&&(F.placement&&(c=F.placement),F.rects&&(u=F.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:f,y:h}=b6(u,c,s)),S=-1)}return{x:f,y:h,placement:c,strategy:i,middlewareData:m}};async function b9(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:c=!1,padding:m=0}=sf(t,e),v=S9(m),L=l[c?h==="floating"?"reference":"floating":h],g=gh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(L)))==null||n?L:L.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:s})),_=h==="floating"?{...a.floating,x:r,y:i}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),O=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},F=gh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:y,strategy:s}):_);return{top:(g.top-F.top+v.top)/O.y,bottom:(F.bottom-g.bottom+v.bottom)/O.y,left:(g.left-F.left+v.left)/O.x,right:(F.right-g.right+v.right)/O.x}}const pk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:s}=t,{element:u,padding:f=0}=sf(e,t)||{};if(u==null)return{};const h=S9(f),c={x:n,y:r},m=cg(i),v=ug(m),S=await a.getDimensions(u),L=m==="y",g=L?"top":"left",_=L?"bottom":"right",y=L?"clientHeight":"clientWidth",O=o.reference[v]+o.reference[m]-c[m]-o.floating[v],F=c[m]-o.reference[m],V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let ee=V?V[y]:0;(!ee||!await(a.isElement==null?void 0:a.isElement(V)))&&(ee=l.floating[y]||o.floating[v]);const K=O/2-F/2,He=ee/2-S[v]/2-1,ve=Xs(h[g],He),Re=Xs(h[_],He),Oe=ve,Je=ee-S[v]-Re,De=ee/2-S[v]/2+K,Lt=Dv(Oe,De,Je),at=!s.arrow&&uf(i)!=null&&De!==Lt&&o.reference[v]/2-(De<Oe?ve:Re)-S[v]/2<0,lt=at?De<Oe?De-Oe:De-Je:0;return{[m]:c[m]+lt,data:{[m]:Lt,centerOffset:De-Lt-lt,...at&&{alignmentOffset:lt}},reset:at}}}),mk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:c,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...L}=sf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=Sl(i),_=Sl(l)===l,y=await(s.isRTL==null?void 0:s.isRTL(u.floating)),O=c||(_||!S?[vh(l)]:uk(l));!c&&v!=="none"&&O.push(...fk(l,S,v,y));const F=[l,...O],V=await b9(t,L),ee=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&ee.push(V[g]),h){const Oe=sk(i,a,y);ee.push(V[Oe[0]],V[Oe[1]])}if(K=[...K,{placement:i,overflows:ee}],!ee.every(Oe=>Oe<=0)){var He,ve;const Oe=(((He=o.flip)==null?void 0:He.index)||0)+1,Je=F[Oe];if(Je)return{data:{index:Oe,overflows:K},reset:{placement:Je}};let De=(ve=K.filter(Lt=>Lt.overflows[0]<=0).sort((Lt,at)=>Lt.overflows[1]-at.overflows[1])[0])==null?void 0:ve.placement;if(!De)switch(m){case"bestFit":{var Re;const Lt=(Re=K.map(at=>[at.placement,at.overflows.filter(lt=>lt>0).reduce((lt,ye)=>lt+ye,0)]).sort((at,lt)=>at[1]-lt[1])[0])==null?void 0:Re[0];Lt&&(De=Lt);break}case"initialPlacement":De=l;break}if(i!==De)return{reset:{placement:De}}}return{}}}};async function vk(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Sl(n),l=uf(n),s=Qh(n)==="y",u=["left","top"].includes(a)?-1:1,f=o&&s?-1:1,h=sf(t,e);let{mainAxis:c,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),s?{x:m*f,y:c*u}:{x:c*u,y:m*f}}const gk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=t,s=await vk(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:a}}}}},yk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:L=>{let{x:g,y:_}=L;return{x:g,y:_}}},...s}=sf(e,t),u={x:n,y:r},f=await b9(t,s),h=Qh(Sl(i)),c=E9(h);let m=u[c],v=u[h];if(o){const L=c==="y"?"top":"left",g=c==="y"?"bottom":"right",_=m+f[L],y=m-f[g];m=Dv(_,m,y)}if(a){const L=h==="y"?"top":"left",g=h==="y"?"bottom":"right",_=v+f[L],y=v-f[g];v=Dv(_,v,y)}const S=l.fn({...t,[c]:m,[h]:v});return{...S,data:{x:S.x-n,y:S.y-r}}}}};function Ea(e){return A9(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(e){var t;return(t=(A9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function A9(e){return e instanceof Node||e instanceof ti(e).Node}function Co(e){return e instanceof Element||e instanceof ti(e).Element}function Ji(e){return e instanceof HTMLElement||e instanceof ti(e).HTMLElement}function A6(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot}function cf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function xk(e){return["table","td","th"].includes(Ea(e))}function fg(e){const t=dg(),n=yi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _k(e){let t=Ys(e);for(;Ji(t)&&!Kh(t);){if(fg(t))return t;t=Ys(t)}return null}function dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(e){return["html","body","#document"].includes(Ea(e))}function yi(e){return ti(e).getComputedStyle(e)}function Zh(e){return Co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ys(e){if(Ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||A6(e)&&e.host||Ro(e);return A6(t)?t.host:t}function T9(e){const t=Ys(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ji(t)&&cf(t)?t:T9(t)}function Kc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=T9(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=ti(i);return o?t.concat(a,a.visualViewport||[],cf(i)?i:[],a.frameElement&&n?Kc(a.frameElement):[]):t.concat(i,Kc(i,[],n))}function C9(e){const t=yi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ji(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=mh(n)!==o||mh(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function hg(e){return Co(e)?e:e.contextElement}function Is(e){const t=hg(e);if(!Ji(t))return wa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=C9(t);let a=(o?mh(n.width):n.width)/r,l=(o?mh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const wk=wa(0);function L9(e){const t=ti(e);return!dg()||!t.visualViewport?wk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ek(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ti(e)?!1:t}function bl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=hg(e);let a=wa(1);t&&(r?Co(r)&&(a=Is(r)):a=Is(e));const l=Ek(o,n,r)?L9(o):wa(0);let s=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(o){const c=ti(o),m=r&&Co(r)?ti(r):r;let v=c,S=v.frameElement;for(;S&&r&&m!==v;){const L=Is(S),g=S.getBoundingClientRect(),_=yi(S),y=g.left+(S.clientLeft+parseFloat(_.paddingLeft))*L.x,O=g.top+(S.clientTop+parseFloat(_.paddingTop))*L.y;s*=L.x,u*=L.y,f*=L.x,h*=L.y,s+=y,u+=O,v=ti(S),S=v.frameElement}}return gh({width:f,height:h,x:s,y:u})}const Sk=[":popover-open",":modal"];function R9(e){return Sk.some(t=>{try{return e.matches(t)}catch{return!1}})}function bk(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Ro(r),l=t?R9(t.floating):!1;if(r===a||l&&o)return n;let s={scrollLeft:0,scrollTop:0},u=wa(1);const f=wa(0),h=Ji(r);if((h||!h&&!o)&&((Ea(r)!=="body"||cf(a))&&(s=Zh(r)),Ji(r))){const c=bl(r);u=Is(r),f.x=c.x+r.clientLeft,f.y=c.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Ak(e){return Array.from(e.getClientRects())}function O9(e){return bl(Ro(e)).left+Zh(e).scrollLeft}function Tk(e){const t=Ro(e),n=Zh(e),r=e.ownerDocument.body,i=dl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=dl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+O9(e);const l=-n.scrollTop;return yi(r).direction==="rtl"&&(a+=dl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}function Ck(e,t){const n=ti(e),r=Ro(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,s=0;if(i){o=i.width,a=i.height;const u=dg();(!u||u&&t==="fixed")&&(l=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:l,y:s}}function Lk(e,t){const n=bl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ji(e)?Is(e):wa(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,s=i*o.x,u=r*o.y;return{width:a,height:l,x:s,y:u}}function T6(e,t,n){let r;if(t==="viewport")r=Ck(e,n);else if(t==="document")r=Tk(Ro(e));else if(Co(t))r=Lk(t,n);else{const i=L9(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return gh(r)}function k9(e,t){const n=Ys(e);return n===t||!Co(n)||Kh(n)?!1:yi(n).position==="fixed"||k9(n,t)}function Rk(e,t){const n=t.get(e);if(n)return n;let r=Kc(e,[],!1).filter(l=>Co(l)&&Ea(l)!=="body"),i=null;const o=yi(e).position==="fixed";let a=o?Ys(e):e;for(;Co(a)&&!Kh(a);){const l=yi(a),s=fg(a);!s&&l.position==="fixed"&&(i=null),(o?!s&&!i:!s&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cf(a)&&!s&&k9(e,a))?r=r.filter(f=>f!==a):i=l,a=Ys(a)}return t.set(e,r),r}function Ok(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Rk(t,this._c):[].concat(n),r],l=a[0],s=a.reduce((u,f)=>{const h=T6(t,f,i);return u.top=dl(h.top,u.top),u.right=Xs(h.right,u.right),u.bottom=Xs(h.bottom,u.bottom),u.left=dl(h.left,u.left),u},T6(t,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function kk(e){const{width:t,height:n}=C9(e);return{width:t,height:n}}function Pk(e,t,n){const r=Ji(t),i=Ro(t),o=n==="fixed",a=bl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const s=wa(0);if(r||!r&&!o)if((Ea(t)!=="body"||cf(i))&&(l=Zh(t)),r){const h=bl(t,!0,o,t);s.x=h.x+t.clientLeft,s.y=h.y+t.clientTop}else i&&(s.x=O9(i));const u=a.left+l.scrollLeft-s.x,f=a.top+l.scrollTop-s.y;return{x:u,y:f,width:a.width,height:a.height}}function C6(e,t){return!Ji(e)||yi(e).position==="fixed"?null:t?t(e):e.offsetParent}function P9(e,t){const n=ti(e);if(!Ji(e)||R9(e))return n;let r=C6(e,t);for(;r&&xk(r)&&yi(r).position==="static";)r=C6(r,t);return r&&(Ea(r)==="html"||Ea(r)==="body"&&yi(r).position==="static"&&!fg(r))?n:r||_k(e)||n}const Nk=async function(e){const t=this.getOffsetParent||P9,n=this.getDimensions;return{reference:Pk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Mk(e){return yi(e).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:bk,getDocumentElement:Ro,getClippingRect:Ok,getOffsetParent:P9,getElementRects:Nk,getClientRects:Ak,getDimensions:kk,getScale:Is,isElement:Co,isRTL:Mk};function Dk(e,t){let n=null,r;const i=Ro(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),o();const{left:u,top:f,width:h,height:c}=e.getBoundingClientRect();if(l||t(),!h||!c)return;const m=id(f),v=id(i.clientWidth-(u+h)),S=id(i.clientHeight-(f+c)),L=id(u),_={rootMargin:-m+"px "+-v+"px "+-S+"px "+-L+"px",threshold:dl(0,Xs(1,s))||1};let y=!0;function O(F){const V=F[0].intersectionRatio;if(V!==s){if(!y)return a();V?a(!1,V):r=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{n=new IntersectionObserver(O,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,_)}n.observe(e)}return a(!0),o}function Fk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=hg(e),f=i||o?[...u?Kc(u):[],...Kc(t)]:[];f.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&l?Dk(u,n):null;let c=-1,m=null;a&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!s&&m.observe(u),m.observe(t));let v,S=s?bl(e):null;s&&L();function L(){const g=bl(e);S&&(g.x!==S.x||g.y!==S.y||g.width!==S.width||g.height!==S.height)&&n(),S=g,v=requestAnimationFrame(L)}return n(),()=>{var g;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,s&&cancelAnimationFrame(v)}}const $k=yk,Bk=mk,jk=pk,L6=(e,t,n)=>{const r=new Map,i={platform:Ik,...n},o={...i.platform,_c:r};return hk(e,t,{...i,platform:o})};var N9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)t.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(N9);var zk=N9.exports;const $v=Zc(zk);var R6={};const Gk="react-tooltip-core-styles",Uk="react-tooltip-base-styles",O6={core:!1,base:!1};function k6({css:e,id:t=Uk,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||O6[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:R6)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:R6)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Gk),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css",a==="top"&&l.firstChild?l.insertBefore(s,l.firstChild):l.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),O6[n]=!0}const P6=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:a=[gk(Number(i)),Bk({fallbackAxisSideDirection:"start"}),$k({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const s=a;return n?(s.push(jk({element:n,padding:5})),L6(e,t,{placement:r,strategy:o,middleware:s}).then(({x:u,y:f,placement:h,middlewareData:c})=>{var m,v;const S={left:`${u}px`,top:`${f}px`,border:l},{x:L,y:g}=(m=c.arrow)!==null&&m!==void 0?m:{x:0,y:0},_=(v={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&v!==void 0?v:"bottom",y=l&&{borderBottom:l,borderRight:l};let O=0;if(l){const F=`${l}`.match(/(\d+)px/);O=F!=null&&F[1]?Number(F[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:L!=null?`${L}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",...y,[_]:`-${4+O}px`},place:h}})):L6(e,t,{placement:"bottom",strategy:o,middleware:s}).then(({x:u,y:f,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},N6=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),M6=(e,t,n)=>{let r=null;const i=function(...o){const a=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},I6=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Bv=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>Bv(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!I6(e)||!I6(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Bv(e[i],t[i]))},Vk=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},D6=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Vk(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Hk=typeof window<"u"?P.useLayoutEffect:P.useEffect,Wk="DEFAULT_TOOLTIP_ID",Xk={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Yk=P.createContext({getTooltipData:()=>Xk});function M9(e=Wk){return P.useContext(Yk).getTooltipData(e)}var fs={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},vm={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const qk=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:a,place:l="top",offset:s=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:h="absolute",middlewares:c,wrapper:m,delayShow:v=0,delayHide:S=0,float:L=!1,hidden:g=!1,noArrow:_=!1,clickable:y=!1,closeOnEsc:O=!1,closeOnScroll:F=!1,closeOnResize:V=!1,openEvents:ee,closeEvents:K,globalCloseEvents:He,imperativeModeOnly:ve,style:Re,position:Oe,afterShow:Je,afterHide:De,content:Lt,contentWrapperRef:at,isOpen:lt,defaultIsOpen:ye=!1,setIsOpen:Le,activeAnchor:se,setActiveAnchor:Ae,border:rt,opacity:At,arrowColor:Pt,role:Zt="tooltip"})=>{var Bt;const yt=P.useRef(null),It=P.useRef(null),zt=P.useRef(null),Yt=P.useRef(null),cn=P.useRef(null),[Ft,Jt]=P.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[st,Tt]=P.useState(!1),[Nt,Ct]=P.useState(!1),[Ke,Gt]=P.useState(null),ln=P.useRef(!1),en=P.useRef(null),{anchorRefs:qn,setActiveAnchor:E}=M9(t),he=P.useRef(!1),[Fe,ce]=P.useState([]),xt=P.useRef(!1),dt=f||u.includes("click"),Te=dt||(ee==null?void 0:ee.click)||(ee==null?void 0:ee.dblclick)||(ee==null?void 0:ee.mousedown),Rt=ee?{...ee}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!ee&&dt&&Object.assign(Rt,{mouseenter:!1,focus:!1,click:!0});const Wt=K?{...K}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!K&&dt&&Object.assign(Wt,{mouseleave:!1,blur:!1});const Ie=He?{...He}:{escape:O||!1,scroll:F||!1,resize:V||!1,clickOutsideAnchor:Te||!1};ve&&(Object.assign(Rt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Wt,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ie,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Hk(()=>(xt.current=!0,()=>{xt.current=!1}),[]);const Dt=Ye=>{xt.current&&(Ye&&Ct(!0),setTimeout(()=>{xt.current&&(Le==null||Le(Ye),lt===void 0&&Tt(Ye))},10))};P.useEffect(()=>{if(lt===void 0)return()=>null;lt&&Ct(!0);const Ye=setTimeout(()=>{Tt(lt)},10);return()=>{clearTimeout(Ye)}},[lt]),P.useEffect(()=>{if(st!==ln.current)if(cn.current&&clearTimeout(cn.current),ln.current=st,st)Je==null||Je();else{const Ye=(Et=>{const kt=Et.match(/^([\d.]+)(ms|s)$/);if(!kt)return 0;const[,An,Rn]=kt;return Number(An)*(Rn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));cn.current=setTimeout(()=>{Ct(!1),Gt(null),De==null||De()},Ye+25)}},[st]);const fn=Ye=>{Jt(Et=>Bv(Et,Ye)?Et:Ye)},$t=(Ye=v)=>{zt.current&&clearTimeout(zt.current),Nt?Dt(!0):zt.current=setTimeout(()=>{Dt(!0)},Ye)},dn=(Ye=S)=>{Yt.current&&clearTimeout(Yt.current),Yt.current=setTimeout(()=>{he.current||Dt(!1)},Ye)},pn=Ye=>{var Et;if(!Ye)return;const kt=(Et=Ye.currentTarget)!==null&&Et!==void 0?Et:Ye.target;if(!(kt!=null&&kt.isConnected))return Ae(null),void E({current:null});v?$t():Dt(!0),Ae(kt),E({current:kt}),Yt.current&&clearTimeout(Yt.current)},Ln=()=>{y?dn(S||100):S?dn():Dt(!1),zt.current&&clearTimeout(zt.current)},wn=({x:Ye,y:Et})=>{var kt;const An={getBoundingClientRect:()=>({x:Ye,y:Et,width:0,height:0,top:Et,left:Ye,right:Ye,bottom:Et})};P6({place:(kt=Ke==null?void 0:Ke.place)!==null&&kt!==void 0?kt:l,offset:s,elementReference:An,tooltipReference:yt.current,tooltipArrowReference:It.current,strategy:h,middlewares:c,border:rt}).then(Rn=>{fn(Rn)})},lr=Ye=>{if(!Ye)return;const Et=Ye,kt={x:Et.clientX,y:Et.clientY};wn(kt),en.current=kt},yn=Ye=>{var Et;if(!st)return;const kt=Ye.target;kt.isConnected&&(!((Et=yt.current)===null||Et===void 0)&&Et.contains(kt)||[document.querySelector(`[id='${o}']`),...Fe].some(An=>An==null?void 0:An.contains(kt))||(Dt(!1),zt.current&&clearTimeout(zt.current)))},gr=M6(pn,50,!0),te=M6(Ln,50,!0),gt=Ye=>{te.cancel(),gr(Ye)},it=()=>{gr.cancel(),te()},wt=P.useCallback(()=>{var Ye,Et;const kt=(Ye=Ke==null?void 0:Ke.position)!==null&&Ye!==void 0?Ye:Oe;kt?wn(kt):L?en.current&&wn(en.current):se!=null&&se.isConnected&&P6({place:(Et=Ke==null?void 0:Ke.place)!==null&&Et!==void 0?Et:l,offset:s,elementReference:se,tooltipReference:yt.current,tooltipArrowReference:It.current,strategy:h,middlewares:c,border:rt}).then(An=>{xt.current&&fn(An)})},[st,se,Lt,Re,l,Ke==null?void 0:Ke.place,s,h,Oe,Ke==null?void 0:Ke.position,L]);P.useEffect(()=>{var Ye,Et;const kt=new Set(qn);Fe.forEach(un=>{kt.add({current:un})});const An=document.querySelector(`[id='${o}']`);An&&kt.add({current:An});const Rn=()=>{Dt(!1)},er=D6(se),sr=D6(yt.current);Ie.scroll&&(window.addEventListener("scroll",Rn),er==null||er.addEventListener("scroll",Rn),sr==null||sr.addEventListener("scroll",Rn));let Tn=null;Ie.resize?window.addEventListener("resize",Rn):se&&yt.current&&(Tn=Fk(se,yt.current,wt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const tr=un=>{un.key==="Escape"&&Dt(!1)};Ie.escape&&window.addEventListener("keydown",tr),Ie.clickOutsideAnchor&&window.addEventListener("click",yn);const ot=[],Sr=un=>{st&&(un==null?void 0:un.target)===se||pn(un)},Oo=un=>{st&&(un==null?void 0:un.target)===se&&Ln()},La=["mouseenter","mouseleave","focus","blur"],zr=["click","dblclick","mousedown","mouseup"];Object.entries(Rt).forEach(([un,On])=>{On&&(La.includes(un)?ot.push({event:un,listener:gt}):zr.includes(un)&&ot.push({event:un,listener:Sr}))}),Object.entries(Wt).forEach(([un,On])=>{On&&(La.includes(un)?ot.push({event:un,listener:it}):zr.includes(un)&&ot.push({event:un,listener:Oo}))}),L&&ot.push({event:"pointermove",listener:lr});const Gr=()=>{he.current=!0},Ur=()=>{he.current=!1,Ln()};return y&&!Te&&((Ye=yt.current)===null||Ye===void 0||Ye.addEventListener("mouseenter",Gr),(Et=yt.current)===null||Et===void 0||Et.addEventListener("mouseleave",Ur)),ot.forEach(({event:un,listener:On})=>{kt.forEach(to=>{var Vr;(Vr=to.current)===null||Vr===void 0||Vr.addEventListener(un,On)})}),()=>{var un,On;Ie.scroll&&(window.removeEventListener("scroll",Rn),er==null||er.removeEventListener("scroll",Rn),sr==null||sr.removeEventListener("scroll",Rn)),Ie.resize?window.removeEventListener("resize",Rn):Tn==null||Tn(),Ie.clickOutsideAnchor&&window.removeEventListener("click",yn),Ie.escape&&window.removeEventListener("keydown",tr),y&&!Te&&((un=yt.current)===null||un===void 0||un.removeEventListener("mouseenter",Gr),(On=yt.current)===null||On===void 0||On.removeEventListener("mouseleave",Ur)),ot.forEach(({event:to,listener:Vr})=>{kt.forEach(Ra=>{var xi;(xi=Ra.current)===null||xi===void 0||xi.removeEventListener(to,Vr)})})}},[se,wt,Nt,qn,Fe,ee,K,He,dt,v,S]),P.useEffect(()=>{var Ye,Et;let kt=(Et=(Ye=Ke==null?void 0:Ke.anchorSelect)!==null&&Ye!==void 0?Ye:a)!==null&&Et!==void 0?Et:"";!kt&&t&&(kt=`[data-tooltip-id='${t}']`);const An=new MutationObserver(Rn=>{const er=[],sr=[];Rn.forEach(Tn=>{if(Tn.type==="attributes"&&Tn.attributeName==="data-tooltip-id"&&(Tn.target.getAttribute("data-tooltip-id")===t?er.push(Tn.target):Tn.oldValue===t&&sr.push(Tn.target)),Tn.type==="childList"){if(se){const tr=[...Tn.removedNodes].filter(ot=>ot.nodeType===1);if(kt)try{sr.push(...tr.filter(ot=>ot.matches(kt))),sr.push(...tr.flatMap(ot=>[...ot.querySelectorAll(kt)]))}catch{}tr.some(ot=>{var Sr;return!!(!((Sr=ot==null?void 0:ot.contains)===null||Sr===void 0)&&Sr.call(ot,se))&&(Ct(!1),Dt(!1),Ae(null),zt.current&&clearTimeout(zt.current),Yt.current&&clearTimeout(Yt.current),!0)})}if(kt)try{const tr=[...Tn.addedNodes].filter(ot=>ot.nodeType===1);er.push(...tr.filter(ot=>ot.matches(kt))),er.push(...tr.flatMap(ot=>[...ot.querySelectorAll(kt)]))}catch{}}}),(er.length||sr.length)&&ce(Tn=>[...Tn.filter(tr=>!sr.includes(tr)),...er])});return An.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{An.disconnect()}},[t,a,Ke==null?void 0:Ke.anchorSelect,se]),P.useEffect(()=>{wt()},[wt]),P.useEffect(()=>{if(!(at!=null&&at.current))return()=>null;const Ye=new ResizeObserver(()=>{setTimeout(()=>wt())});return Ye.observe(at.current),()=>{Ye.disconnect()}},[Lt,at==null?void 0:at.current]),P.useEffect(()=>{var Ye;const Et=document.querySelector(`[id='${o}']`),kt=[...Fe,Et];se&&kt.includes(se)||Ae((Ye=Fe[0])!==null&&Ye!==void 0?Ye:Et)},[o,Fe,se]),P.useEffect(()=>(ye&&Dt(!0),()=>{zt.current&&clearTimeout(zt.current),Yt.current&&clearTimeout(Yt.current)}),[]),P.useEffect(()=>{var Ye;let Et=(Ye=Ke==null?void 0:Ke.anchorSelect)!==null&&Ye!==void 0?Ye:a;if(!Et&&t&&(Et=`[data-tooltip-id='${t}']`),Et)try{const kt=Array.from(document.querySelectorAll(Et));ce(kt)}catch{ce([])}},[t,a,Ke==null?void 0:Ke.anchorSelect]),P.useEffect(()=>{zt.current&&(clearTimeout(zt.current),$t(v))},[v]);const Ut=(Bt=Ke==null?void 0:Ke.content)!==null&&Bt!==void 0?Bt:Lt,mn=st&&Object.keys(Ft.tooltipStyles).length>0;return P.useImperativeHandle(e,()=>({open:Ye=>{if(Ye!=null&&Ye.anchorSelect)try{document.querySelector(Ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ye.anchorSelect}" is not a valid CSS selector`)}Gt(Ye??null),Ye!=null&&Ye.delay?$t(Ye.delay):Dt(!0)},close:Ye=>{Ye!=null&&Ye.delay?dn(Ye.delay):Dt(!1)},activeAnchor:se,place:Ft.place,isOpen:!!(Nt&&!g&&Ut&&mn)})),Nt&&!g&&Ut?yo.createElement(m,{id:t,role:Zt,className:$v("react-tooltip",fs.tooltip,vm.tooltip,vm[i],n,`react-tooltip__place-${Ft.place}`,fs[mn?"show":"closing"],mn?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&fs.fixed,y&&fs.clickable),onTransitionEnd:Ye=>{cn.current&&clearTimeout(cn.current),st||Ye.propertyName!=="opacity"||(Ct(!1),Gt(null),De==null||De())},style:{...Re,...Ft.tooltipStyles,opacity:At!==void 0&&mn?At:void 0},ref:yt},Ut,yo.createElement(m,{className:$v("react-tooltip-arrow",fs.arrow,vm.arrow,r,_&&fs.noArrow),style:{...Ft.tooltipArrowStyles,background:Pt?`linear-gradient(to right bottom, transparent 50%, ${Pt} 50%)`:void 0},ref:It})):null},Qk=({content:e})=>yo.createElement("span",{dangerouslySetInnerHTML:{__html:e}});yo.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:a,classNameArrow:l,variant:s="dark",place:u="top",offset:f=10,wrapper:h="div",children:c=null,events:m=["hover"],openOnClick:v=!1,positionStrategy:S="absolute",middlewares:L,delayShow:g=0,delayHide:_=0,float:y=!1,hidden:O=!1,noArrow:F=!1,clickable:V=!1,closeOnEsc:ee=!1,closeOnScroll:K=!1,closeOnResize:He=!1,openEvents:ve,closeEvents:Re,globalCloseEvents:Oe,imperativeModeOnly:Je=!1,style:De,position:Lt,isOpen:at,defaultIsOpen:lt=!1,disableStyleInjection:ye=!1,border:Le,opacity:se,arrowColor:Ae,setIsOpen:rt,afterShow:At,afterHide:Pt,role:Zt="tooltip"},Bt)=>{const[yt,It]=P.useState(r),[zt,Yt]=P.useState(i),[cn,Ft]=P.useState(u),[Jt,st]=P.useState(s),[Tt,Nt]=P.useState(f),[Ct,Ke]=P.useState(g),[Gt,ln]=P.useState(_),[en,qn]=P.useState(y),[E,he]=P.useState(O),[Fe,ce]=P.useState(h),[xt,dt]=P.useState(m),[Te,Rt]=P.useState(S),[Wt,Ie]=P.useState(null),[Dt,fn]=P.useState(null),$t=P.useRef(ye),{anchorRefs:dn,activeAnchor:pn}=M9(e),Ln=te=>te==null?void 0:te.getAttributeNames().reduce((gt,it)=>{var wt;return it.startsWith("data-tooltip-")&&(gt[it.replace(/^data-tooltip-/,"")]=(wt=te==null?void 0:te.getAttribute(it))!==null&&wt!==void 0?wt:null),gt},{}),wn=te=>{const gt={place:it=>{var wt;Ft((wt=it)!==null&&wt!==void 0?wt:u)},content:it=>{It(it??r)},html:it=>{Yt(it??i)},variant:it=>{var wt;st((wt=it)!==null&&wt!==void 0?wt:s)},offset:it=>{Nt(it===null?f:Number(it))},wrapper:it=>{var wt;ce((wt=it)!==null&&wt!==void 0?wt:h)},events:it=>{const wt=it==null?void 0:it.split(" ");dt(wt??m)},"position-strategy":it=>{var wt;Rt((wt=it)!==null&&wt!==void 0?wt:S)},"delay-show":it=>{Ke(it===null?g:Number(it))},"delay-hide":it=>{ln(it===null?_:Number(it))},float:it=>{qn(it===null?y:it==="true")},hidden:it=>{he(it===null?O:it==="true")},"class-name":it=>{Ie(it)}};Object.values(gt).forEach(it=>it(null)),Object.entries(te).forEach(([it,wt])=>{var Ut;(Ut=gt[it])===null||Ut===void 0||Ut.call(gt,wt)})};P.useEffect(()=>{It(r)},[r]),P.useEffect(()=>{Yt(i)},[i]),P.useEffect(()=>{Ft(u)},[u]),P.useEffect(()=>{st(s)},[s]),P.useEffect(()=>{Nt(f)},[f]),P.useEffect(()=>{Ke(g)},[g]),P.useEffect(()=>{ln(_)},[_]),P.useEffect(()=>{qn(y)},[y]),P.useEffect(()=>{he(O)},[O]),P.useEffect(()=>{Rt(S)},[S]),P.useEffect(()=>{$t.current!==ye&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ye]),P.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ye==="core",disableBase:ye}}))},[]),P.useEffect(()=>{var te;const gt=new Set(dn);let it=n;if(!it&&e&&(it=`[data-tooltip-id='${e}']`),it)try{document.querySelectorAll(it).forEach(Et=>{gt.add({current:Et})})}catch{console.warn(`[react-tooltip] "${it}" is not a valid CSS selector`)}const wt=document.querySelector(`[id='${t}']`);if(wt&&gt.add({current:wt}),!gt.size)return()=>null;const Ut=(te=Dt??wt)!==null&&te!==void 0?te:pn.current,mn=new MutationObserver(Et=>{Et.forEach(kt=>{var An;if(!Ut||kt.type!=="attributes"||!(!((An=kt.attributeName)===null||An===void 0)&&An.startsWith("data-tooltip-")))return;const Rn=Ln(Ut);wn(Rn)})}),Ye={attributes:!0,childList:!1,subtree:!1};if(Ut){const Et=Ln(Ut);wn(Et),mn.observe(Ut,Ye)}return()=>{mn.disconnect()}},[dn,pn,Dt,t,n]),P.useEffect(()=>{De!=null&&De.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Le&&!N6("border",`${Le}`)&&console.warn(`[react-tooltip] "${Le}" is not a valid \`border\`.`),De!=null&&De.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),se&&!N6("opacity",`${se}`)&&console.warn(`[react-tooltip] "${se}" is not a valid \`opacity\`.`)},[]);let lr=c;const yn=P.useRef(null);if(o){const te=o({content:(Dt==null?void 0:Dt.getAttribute("data-tooltip-content"))||yt||null,activeAnchor:Dt});lr=te?yo.createElement("div",{ref:yn,className:"react-tooltip-content-wrapper"},te):null}else yt&&(lr=yt);zt&&(lr=yo.createElement(Qk,{content:zt}));const gr={forwardRef:Bt,id:e,anchorId:t,anchorSelect:n,className:$v(a,Wt),classNameArrow:l,content:lr,contentWrapperRef:yn,place:cn,variant:Jt,offset:Tt,wrapper:Fe,events:xt,openOnClick:v,positionStrategy:Te,middlewares:L,delayShow:Ct,delayHide:Gt,float:en,hidden:E,noArrow:F,clickable:V,closeOnEsc:ee,closeOnScroll:K,closeOnResize:He,openEvents:ve,closeEvents:Re,globalCloseEvents:Oe,imperativeModeOnly:Je,style:De,position:Lt,isOpen:at,defaultIsOpen:lt,border:Le,opacity:se,arrowColor:Ae,setIsOpen:rt,afterShow:At,afterHide:Pt,activeAnchor:Dt,setActiveAnchor:te=>fn(te),role:Zt};return yo.createElement(qk,{...gr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||k6({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||k6({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});nt.shape({id:nt.string.isRequired}).isRequired,nt.string.isRequired,nt.object,nt.array,nt.array,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.array.isRequired,nt.array.isRequired,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.array,nt.func.isRequired,nt.func.isRequired;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.string,nt.func.isRequired,nt.func,nt.func,nt.func,nt.func;nt.shape({id:nt.string.isRequired}).isRequired,nt.object,nt.object,nt.object,nt.object,nt.string,nt.func.isRequired,nt.func.isRequired;const Kk="_page_1chtn_1",Zk="_header_1chtn_4",Jk="_description_1chtn_44",eP="_path_1chtn_48",tP="_size_1chtn_53",Za={page:Kk,header:Zk,"scope-files":"_scope-files_1chtn_18","dataset-files":"_dataset-files_1chtn_24",description:Jk,path:eP,size:tP},od="https://api.latentscope.com/api";function nP(e){const t=["B","KB","MB","GB"];let n=0;for(;e>1024;)e=e/1024,n++;return`${e.toFixed(0)}${t[n]}`}function F6(){const[e,t]=P.useState(null),{dataset:n,scope:r}=D2();P.useEffect(()=>{fetch(`${od}/datasets/${n}/meta`).then(u=>u.json()).then(t).catch(console.error)},[n,t]);const[i,o]=P.useState(null);P.useEffect(()=>{fetch(`${od}/datasets/${n}/scopes/${r}`).then(u=>u.json()).then(u=>{console.log("scope",u),o(u)}).catch(console.error)},[n,r,o]);const[a,l]=P.useState([]);P.useEffect(()=>{fetch(`${od}/datasets/${n}/export/list`).then(u=>u.json()).then(u=>{console.log("export list",u),l(u)}).catch(console.error)},[n]);const s=P.useCallback((u,f)=>I.jsxs("li",{children:[I.jsx("a",{href:`${od}/files/${n}/${u[2]}`,children:u[0]}),I.jsx("span",{className:Za.size,children:nP(u[4])}),I.jsx("span",{className:Za.path,children:u[3]})]},f),[n]);return I.jsxs("div",{className:Za.page,children:[I.jsxs("div",{className:Za.header,children:[I.jsxs("h2",{children:["Export Data for ",e==null?void 0:e.id," ",r]}),I.jsxs(jc,{to:`/datasets/${n}/setup/${r}`,children:["Setup ",e==null?void 0:e.id," ",r]}),r?I.jsxs(jc,{to:`/datasets/${n}/explore/${r}`,children:["Explore ",e==null?void 0:e.id," ",r]}):null]}),I.jsxs("div",{className:Za["scope-files"],children:[I.jsxs("h3",{children:["Scope ",r]}),I.jsx("p",{className:Za.description,children:"These two files combine the data from each step into a single parquet (x,y from UMAP, cluster and label from clustering and labeling)."}),I.jsx("ul",{children:a.filter(u=>u[0].indexOf(r)==0).map(s)})]}),I.jsxs("div",{className:Za["dataset-files"],children:[I.jsx("h3",{children:"Dataset"}),I.jsx("ul",{children:a.filter(u=>u[1]==".").map(s)}),I.jsx("h3",{children:"Embeddings"}),I.jsx("ul",{children:a.filter(u=>u[1]=="embeddings").map(s)}),I.jsx("h3",{children:"Umaps"}),I.jsx("ul",{children:a.filter(u=>u[1]=="umaps").map(s)}),I.jsx("h3",{children:"Clusters"}),I.jsx("ul",{children:a.filter(u=>u[1]=="clusters").map(s)}),I.jsx("h3",{children:"Scopes"}),I.jsx("ul",{children:a.filter(u=>u[1]=="scopes").map(s)}),I.jsx("h3",{children:"tags"}),I.jsx("ul",{children:a.filter(u=>u[1]=="tags").map(s)})]})]})}const rP=()=>I.jsx("nav",{children:I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(jc,{to:"/",children:"Latent Scope"})}),I.jsx("li",{className:"settings",children:I.jsx(jc,{to:"/settings",children:" settings"})})]})});var iP={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const I9=iP;console.log("ENV",I9);function oP(){return I.jsxs(Fw,{basename:I9.BASE_NAME,children:[I.jsx(rP,{}),I.jsx("div",{className:"page",children:I.jsxs(kw,{children:[I.jsx(tl,{path:"/",element:I.jsx(Ww,{})}),I.jsx(tl,{path:"/settings",element:I.jsx(Qw,{})}),I.jsx(tl,{path:"/datasets/:dataset/explore/:scope",element:I.jsx(HO,{})}),I.jsx(tl,{path:"/datasets/:dataset/compare/",element:I.jsx(ok,{})}),I.jsx(tl,{path:"/datasets/:dataset/export",element:I.jsx(F6,{})}),I.jsx(tl,{path:"/datasets/:dataset/export/:scope",element:I.jsx(F6,{})}),null,null,null,null]})})]})}gm.createRoot(document.getElementById("root")).render(I.jsx(yo.StrictMode,{children:I.jsx(oP,{})}));
