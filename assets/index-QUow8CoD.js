function v7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var g7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $6={exports:{}},yh={},B6={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),y7=Symbol.for("react.portal"),x7=Symbol.for("react.fragment"),_7=Symbol.for("react.strict_mode"),w7=Symbol.for("react.profiler"),E7=Symbol.for("react.provider"),S7=Symbol.for("react.context"),b7=Symbol.for("react.forward_ref"),T7=Symbol.for("react.suspense"),A7=Symbol.for("react.memo"),C7=Symbol.for("react.lazy"),Jg=Symbol.iterator;function L7(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var j6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z6=Object.assign,G6={};function qs(e,t,n){this.props=e,this.context=t,this.refs=G6,this.updater=n||j6}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U6(){}U6.prototype=qs.prototype;function jv(e,t,n){this.props=e,this.context=t,this.refs=G6,this.updater=n||j6}var zv=jv.prototype=new U6;zv.constructor=jv;z6(zv,qs.prototype);zv.isPureReactComponent=!0;var ey=Array.isArray,V6=Object.prototype.hasOwnProperty,Gv={current:null},H6={key:!0,ref:!0,__self:!0,__source:!0};function W6(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)V6.call(t,r)&&!H6.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Jc,type:e,key:o,ref:a,props:i,_owner:Gv.current}}function R7(e,t){return{$$typeof:Jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function k7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ty=/\/+/g;function xp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k7(""+e.key):t.toString(36)}function ad(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Jc:case y7:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+xp(a,0):r,ey(i)?(n="",e!=null&&(n=e.replace(ty,"$&/")+"/"),ad(i,t,n,"",function(u){return u})):i!=null&&(Uv(i)&&(i=R7(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ty,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",ey(e))for(var l=0;l<e.length;l++){o=e[l];var s=r+xp(o,l);a+=ad(o,t,n,s,i)}else if(s=L7(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=r+xp(o,l++),a+=ad(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function R0(e,t,n){if(e==null)return e;var r=[],i=0;return ad(e,r,"","",function(o){return t.call(n,o,i++)}),r}function O7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},ld={transition:null},P7={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:ld,ReactCurrentOwner:Gv};nn.Children={map:R0,forEach:function(e,t,n){R0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R0(e,function(){t++}),t},toArray:function(e){return R0(e,function(t){return t})||[]},only:function(e){if(!Uv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nn.Component=qs;nn.Fragment=x7;nn.Profiler=w7;nn.PureComponent=jv;nn.StrictMode=_7;nn.Suspense=T7;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P7;nn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=z6({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Gv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)V6.call(t,s)&&!H6.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Jc,type:e.type,key:i,ref:o,props:r,_owner:a}};nn.createContext=function(e){return e={$$typeof:S7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E7,_context:e},e.Consumer=e};nn.createElement=W6;nn.createFactory=function(e){var t=W6.bind(null,e);return t.type=e,t};nn.createRef=function(){return{current:null}};nn.forwardRef=function(e){return{$$typeof:b7,render:e}};nn.isValidElement=Uv;nn.lazy=function(e){return{$$typeof:C7,_payload:{_status:-1,_result:e},_init:O7}};nn.memo=function(e,t){return{$$typeof:A7,type:e,compare:t===void 0?null:t}};nn.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(e,t){return Rr.current.useCallback(e,t)};nn.useContext=function(e){return Rr.current.useContext(e)};nn.useDebugValue=function(){};nn.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};nn.useEffect=function(e,t){return Rr.current.useEffect(e,t)};nn.useId=function(){return Rr.current.useId()};nn.useImperativeHandle=function(e,t,n){return Rr.current.useImperativeHandle(e,t,n)};nn.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};nn.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};nn.useMemo=function(e,t){return Rr.current.useMemo(e,t)};nn.useReducer=function(e,t,n){return Rr.current.useReducer(e,t,n)};nn.useRef=function(e){return Rr.current.useRef(e)};nn.useState=function(e){return Rr.current.useState(e)};nn.useSyncExternalStore=function(e,t,n){return Rr.current.useSyncExternalStore(e,t,n)};nn.useTransition=function(){return Rr.current.useTransition()};nn.version="18.2.0";B6.exports=nn;var O=B6.exports;const yo=Zc(O),N7=v7({__proto__:null,default:yo},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=O,I7=Symbol.for("react.element"),D7=Symbol.for("react.fragment"),F7=Object.prototype.hasOwnProperty,$7=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B7={key:!0,ref:!0,__self:!0,__source:!0};function X6(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)F7.call(t,r)&&!B7.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:I7,type:e,key:o,ref:a,props:i,_owner:$7.current}}yh.Fragment=D7;yh.jsx=X6;yh.jsxs=X6;$6.exports=yh;var M=$6.exports,gm={},Y6={exports:{}},ii={},q6={exports:{}},Q6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ve,Re){var Ae=ve.length;ve.push(Re);e:for(;0<Ae;){var Te=Ae-1>>>1,De=ve[Te];if(0<i(De,Re))ve[Te]=Re,ve[Ae]=De,Ae=Te;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Re=ve[0],Ae=ve.pop();if(Ae!==Re){ve[0]=Ae;e:for(var Te=0,De=ve.length,kt=De>>>1;Te<kt;){var Mt=2*(Te+1)-1,Zt=ve[Mt],Ot=Mt+1,It=ve[Ot];if(0>i(Zt,Ae))Ot<De&&0>i(It,Zt)?(ve[Te]=It,ve[Ot]=Ae,Te=Ot):(ve[Te]=Zt,ve[Mt]=Ae,Te=Mt);else if(Ot<De&&0>i(It,Ae))ve[Te]=It,ve[Ot]=Ae,Te=Ot;else break e}}return Re}function i(ve,Re){var Ae=ve.sortIndex-Re.sortIndex;return Ae!==0?Ae:ve.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],u=[],f=1,h=null,c=3,m=!1,g=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ve){for(var Re=n(u);Re!==null;){if(Re.callback===null)r(u);else if(Re.startTime<=ve)r(u),Re.sortIndex=Re.expirationTime,t(s,Re);else break;Re=n(u)}}function P(ve){if(S=!1,y(ve),!g)if(n(s)!==null)g=!0,it(F);else{var Re=n(u);Re!==null&&at(P,Re.startTime-ve)}}function F(ve,Re){g=!1,S&&(S=!1,v(K),K=-1),m=!0;var Ae=c;try{for(y(Re),h=n(s);h!==null&&(!(h.expirationTime>Re)||ve&&!Ce());){var Te=h.callback;if(typeof Te=="function"){h.callback=null,c=h.priorityLevel;var De=Te(h.expirationTime<=Re);Re=e.unstable_now(),typeof De=="function"?h.callback=De:h===n(s)&&r(s),y(Re)}else r(s);h=n(s)}if(h!==null)var kt=!0;else{var Mt=n(u);Mt!==null&&at(P,Mt.startTime-Re),kt=!1}return kt}finally{h=null,c=Ae,m=!1}}var H=!1,te=null,K=-1,Ye=5,de=-1;function Ce(){return!(e.unstable_now()-de<Ye)}function ze(){if(te!==null){var ve=e.unstable_now();de=ve;var Re=!0;try{Re=te(!0,ve)}finally{Re?Je():(H=!1,te=null)}}else H=!1}var Je;if(typeof _=="function")Je=function(){_(ze)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Rt=be.port2;be.port1.onmessage=ze,Je=function(){Rt.postMessage(null)}}else Je=function(){A(ze,0)};function it(ve){te=ve,H||(H=!0,Je())}function at(ve,Re){K=A(function(){ve(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,it(F))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ye=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(ve){switch(c){case 1:case 2:case 3:var Re=3;break;default:Re=c}var Ae=c;c=Re;try{return ve()}finally{c=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,Re){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ae=c;c=ve;try{return Re()}finally{c=Ae}},e.unstable_scheduleCallback=function(ve,Re,Ae){var Te=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Te+Ae:Te):Ae=Te,ve){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=Ae+De,ve={id:f++,callback:Re,priorityLevel:ve,startTime:Ae,expirationTime:De,sortIndex:-1},Ae>Te?(ve.sortIndex=Ae,t(u,ve),n(s)===null&&ve===n(u)&&(S?(v(K),K=-1):S=!0,at(P,Ae-Te))):(ve.sortIndex=De,t(s,ve),g||m||(g=!0,it(F))),ve},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(ve){var Re=c;return function(){var Ae=c;c=Re;try{return ve.apply(this,arguments)}finally{c=Ae}}}})(Q6);q6.exports=Q6;var j7=q6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6=O,ni=j7;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z6=new Set,Ec={};function Tl(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Ec[e]=t,e=0;e<t.length;e++)Z6.add(t[e])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,z7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function G7(e){return ym.call(ry,e)?!0:ym.call(ny,e)?!1:z7.test(e)?ry[e]=!0:(ny[e]=!0,!1)}function U7(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V7(e,t,n,r){if(t===null||typeof t>"u"||U7(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function Hv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vv,Hv);vr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wv(e,t,n,r){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V7(t,n,i,r)&&(n=null),r||i===null?G7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lo=K6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k0=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),J6=Symbol.for("react.provider"),e4=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),t4=Symbol.for("react.offscreen"),iy=Symbol.iterator;function Wu(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,_p;function ic(e){if(_p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_p=t&&t[1]||""}return`
`+_p+e}var wp=!1;function Ep(e,t){if(!e||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var s=`
`+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ic(e):""}function H7(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=Ep(e.type,!1),e;case 11:return e=Ep(e.type.render,!1),e;case 1:return e=Ep(e.type,!0),e;default:return""}}function Em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case hs:return"Portal";case xm:return"Profiler";case Xv:return"StrictMode";case _m:return"Suspense";case wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e4:return(e.displayName||"Context")+".Consumer";case J6:return(e._context.displayName||"Context")+".Provider";case Yv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qv:return t=e.displayName||null,t!==null?t:Em(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return Em(e(t))}catch{}}return null}function W7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(t);case 8:return t===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X7(e){var t=n4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function O0(e){e._valueTracker||(e._valueTracker=X7(e))}function r4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sm(e,t){var n=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ya(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i4(e,t){t=t.checked,t!=null&&Wv(e,"checked",t,!1)}function bm(e,t){i4(e,t);var n=ya(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ay(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tm(e,t,n){(t!=="number"||Ad(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oc=Array.isArray;function Cs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ya(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ly(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(je(92));if(oc(n)){if(1<n.length)throw Error(je(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ya(n)}}function o4(e,t){var n=ya(t.value),r=ya(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var P0,l4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(P0=P0||document.createElement("div"),P0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=P0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y7=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(e){Y7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cc[t]=cc[e]})});function s4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cc.hasOwnProperty(e)&&cc[e]?(""+t).trim():t+"px"}function u4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=s4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var q7=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(e,t){if(t){if(q7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function Rm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function Qv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Om=null,Ls=null,Rs=null;function uy(e){if(e=nf(e)){if(typeof Om!="function")throw Error(je(280));var t=e.stateNode;t&&(t=Sh(t),Om(e.stateNode,e.type,t))}}function c4(e){Ls?Rs?Rs.push(e):Rs=[e]:Ls=e}function f4(){if(Ls){var e=Ls,t=Rs;if(Rs=Ls=null,uy(e),t)for(e=0;e<t.length;e++)uy(t[e])}}function d4(e,t){return e(t)}function h4(){}var Sp=!1;function p4(e,t,n){if(Sp)return e(t,n);Sp=!0;try{return d4(e,t,n)}finally{Sp=!1,(Ls!==null||Rs!==null)&&(h4(),f4())}}function bc(e,t){var n=e.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(je(231,t,typeof n));return n}var Pm=!1;if(Eo)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){Pm=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Pm=!1}function Q7(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var fc=!1,Cd=null,Ld=!1,Nm=null,K7={onError:function(e){fc=!0,Cd=e}};function Z7(e,t,n,r,i,o,a,l,s){fc=!1,Cd=null,Q7.apply(K7,arguments)}function J7(e,t,n,r,i,o,a,l,s){if(Z7.apply(this,arguments),fc){if(fc){var u=Cd;fc=!1,Cd=null}else throw Error(je(198));Ld||(Ld=!0,Nm=u)}}function Al(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cy(e){if(Al(e)!==e)throw Error(je(188))}function ex(e){var t=e.alternate;if(!t){if(t=Al(e),t===null)throw Error(je(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cy(i),e;if(o===r)return cy(i),t;o=o.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?e:t}function v4(e){return e=ex(e),e!==null?g4(e):null}function g4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g4(e);if(t!==null)return t;e=e.sibling}return null}var y4=ni.unstable_scheduleCallback,fy=ni.unstable_cancelCallback,tx=ni.unstable_shouldYield,nx=ni.unstable_requestPaint,qn=ni.unstable_now,rx=ni.unstable_getCurrentPriorityLevel,Kv=ni.unstable_ImmediatePriority,x4=ni.unstable_UserBlockingPriority,Rd=ni.unstable_NormalPriority,ix=ni.unstable_LowPriority,_4=ni.unstable_IdlePriority,xh=null,Qi=null;function ox(e){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var Oi=Math.clz32?Math.clz32:sx,ax=Math.log,lx=Math.LN2;function sx(e){return e>>>=0,e===0?32:31-(ax(e)/lx|0)|0}var N0=64,M0=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ac(l):(o&=a,o!==0&&(r=ac(o)))}else a=n&~i,a!==0?r=ac(a):o!==0&&(r=ac(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Oi(t),i=1<<n,r|=e[n],t&=~i;return r}function ux(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Oi(o),l=1<<a,s=i[a];s===-1?(!(l&n)||l&r)&&(i[a]=ux(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function Mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w4(){var e=N0;return N0<<=1,!(N0&4194240)&&(N0=64),e}function bp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ef(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oi(t),e[t]=n}function fx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Oi(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pn=0;function E4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S4,Jv,b4,T4,A4,Im=!1,I0=[],ua=null,ca=null,fa=null,Tc=new Map,Ac=new Map,na=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(t.pointerId)}}function Yu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=nf(t),t!==null&&Jv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hx(e,t,n,r,i){switch(t){case"focusin":return ua=Yu(ua,e,t,n,r,i),!0;case"dragenter":return ca=Yu(ca,e,t,n,r,i),!0;case"mouseover":return fa=Yu(fa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tc.set(o,Yu(Tc.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ac.set(o,Yu(Ac.get(o)||null,e,t,n,r,i)),!0}return!1}function C4(e){var t=rl(e.target);if(t!==null){var n=Al(t);if(n!==null){if(t=n.tag,t===13){if(t=m4(n),t!==null){e.blockedOn=t,A4(e.priority,function(){b4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);km=r,n.target.dispatchEvent(r),km=null}else return t=nf(n),t!==null&&Jv(t),e.blockedOn=n,!1;t.shift()}return!0}function hy(e,t,n){sd(e)&&n.delete(t)}function px(){Im=!1,ua!==null&&sd(ua)&&(ua=null),ca!==null&&sd(ca)&&(ca=null),fa!==null&&sd(fa)&&(fa=null),Tc.forEach(hy),Ac.forEach(hy)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,Im||(Im=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,px)))}function Cc(e){function t(i){return qu(i,e)}if(0<I0.length){qu(I0[0],e);for(var n=1;n<I0.length;n++){var r=I0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ua!==null&&qu(ua,e),ca!==null&&qu(ca,e),fa!==null&&qu(fa,e),Tc.forEach(t),Ac.forEach(t),n=0;n<na.length;n++)r=na[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)C4(n),n.blockedOn===null&&na.shift()}var ks=Lo.ReactCurrentBatchConfig,Od=!0;function mx(e,t,n,r){var i=pn,o=ks.transition;ks.transition=null;try{pn=1,e2(e,t,n,r)}finally{pn=i,ks.transition=o}}function vx(e,t,n,r){var i=pn,o=ks.transition;ks.transition=null;try{pn=4,e2(e,t,n,r)}finally{pn=i,ks.transition=o}}function e2(e,t,n,r){if(Od){var i=Dm(e,t,n,r);if(i===null)Mp(e,t,r,Pd,n),dy(e,r);else if(hx(i,e,t,n,r))r.stopPropagation();else if(dy(e,r),t&4&&-1<dx.indexOf(e)){for(;i!==null;){var o=nf(i);if(o!==null&&S4(o),o=Dm(e,t,n,r),o===null&&Mp(e,t,r,Pd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Mp(e,t,r,null,n)}}var Pd=null;function Dm(e,t,n,r){if(Pd=null,e=Qv(r),e=rl(e),e!==null)if(t=Al(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pd=e,null}function L4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case Kv:return 1;case x4:return 4;case Rd:case ix:return 16;case _4:return 536870912;default:return 16}default:return 16}}var oa=null,t2=null,ud=null;function R4(){if(ud)return ud;var e,t=t2,n=t.length,r,i="value"in oa?oa.value:oa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return ud=i.slice(e,1<r?1-r:void 0)}function cd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function D0(){return!0}function py(){return!1}function oi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?D0:py,this.isPropagationStopped=py,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=D0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=D0)},persist:function(){},isPersistent:D0}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n2=oi(Qs),tf=Mn({},Qs,{view:0,detail:0}),gx=oi(tf),Tp,Ap,Qu,_h=Mn({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Tp=e.screenX-Qu.screenX,Ap=e.screenY-Qu.screenY):Ap=Tp=0,Qu=e),Tp)},movementY:function(e){return"movementY"in e?e.movementY:Ap}}),my=oi(_h),yx=Mn({},_h,{dataTransfer:0}),xx=oi(yx),_x=Mn({},tf,{relatedTarget:0}),Cp=oi(_x),wx=Mn({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=oi(wx),Sx=Mn({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bx=oi(Sx),Tx=Mn({},Qs,{data:0}),vy=oi(Tx),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function r2(){return Rx}var kx=Mn({},tf,{key:function(e){if(e.key){var t=Ax[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(e){return e.type==="keypress"?cd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ox=oi(kx),Px=Mn({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=oi(Px),Nx=Mn({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),Mx=oi(Nx),Ix=Mn({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=oi(Ix),Fx=Mn({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=oi(Fx),Bx=[9,13,27,32],i2=Eo&&"CompositionEvent"in window,dc=null;Eo&&"documentMode"in document&&(dc=document.documentMode);var jx=Eo&&"TextEvent"in window&&!dc,k4=Eo&&(!i2||dc&&8<dc&&11>=dc),yy=" ",xy=!1;function O4(e,t){switch(e){case"keyup":return Bx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function zx(e,t){switch(e){case"compositionend":return P4(t);case"keypress":return t.which!==32?null:(xy=!0,yy);case"textInput":return e=t.data,e===yy&&xy?null:e;default:return null}}function Gx(e,t){if(ms)return e==="compositionend"||!i2&&O4(e,t)?(e=R4(),ud=t2=oa=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k4&&t.locale!=="ko"?null:t.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ux[e.type]:t==="textarea"}function N4(e,t,n,r){c4(r),t=Nd(t,"onChange"),0<t.length&&(n=new n2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hc=null,Lc=null;function Vx(e){V4(e,0)}function wh(e){var t=ys(e);if(r4(t))return e}function Hx(e,t){if(e==="change")return t}var M4=!1;if(Eo){var Lp;if(Eo){var Rp="oninput"in document;if(!Rp){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Rp=typeof wy.oninput=="function"}Lp=Rp}else Lp=!1;M4=Lp&&(!document.documentMode||9<document.documentMode)}function Ey(){hc&&(hc.detachEvent("onpropertychange",I4),Lc=hc=null)}function I4(e){if(e.propertyName==="value"&&wh(Lc)){var t=[];N4(t,Lc,e,Qv(e)),p4(Vx,t)}}function Wx(e,t,n){e==="focusin"?(Ey(),hc=t,Lc=n,hc.attachEvent("onpropertychange",I4)):e==="focusout"&&Ey()}function Xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(Lc)}function Yx(e,t){if(e==="click")return wh(t)}function qx(e,t){if(e==="input"||e==="change")return wh(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:Qx;function Rc(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ym.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function Sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var n=Sy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sy(n)}}function D4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F4(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ad(e.document)}return t}function o2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kx(e){var t=F4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D4(n.ownerDocument.documentElement,n)){if(r!==null&&o2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=by(n,o);var a=by(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zx=Eo&&"documentMode"in document&&11>=document.documentMode,vs=null,Fm=null,pc=null,$m=!1;function Ty(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$m||vs==null||vs!==Ad(r)||(r=vs,"selectionStart"in r&&o2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&Rc(pc,r)||(pc=r,r=Nd(Fm,"onSelect"),0<r.length&&(t=new n2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function F0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gs={animationend:F0("Animation","AnimationEnd"),animationiteration:F0("Animation","AnimationIteration"),animationstart:F0("Animation","AnimationStart"),transitionend:F0("Transition","TransitionEnd")},kp={},$4={};Eo&&($4=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Eh(e){if(kp[e])return kp[e];if(!gs[e])return e;var t=gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $4)return kp[e]=t[n];return e}var B4=Eh("animationend"),j4=Eh("animationiteration"),z4=Eh("animationstart"),G4=Eh("transitionend"),U4=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){U4.set(e,t),Tl(t,[e])}for(var Op=0;Op<Ay.length;Op++){var Pp=Ay[Op],Jx=Pp.toLowerCase(),e_=Pp[0].toUpperCase()+Pp.slice(1);Sa(Jx,"on"+e_)}Sa(B4,"onAnimationEnd");Sa(j4,"onAnimationIteration");Sa(z4,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(G4,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Cy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J7(r,t,void 0,e),e.currentTarget=null}function V4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Cy(i,l,u),o=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Cy(i,l,u),o=s}}}if(Ld)throw e=Nm,Ld=!1,Nm=null,e}function En(e,t){var n=t[Um];n===void 0&&(n=t[Um]=new Set);var r=e+"__bubble";n.has(r)||(H4(t,e,2,!1),n.add(r))}function Np(e,t,n){var r=0;t&&(r|=4),H4(n,e,r,t)}var $0="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[$0]){e[$0]=!0,Z6.forEach(function(n){n!=="selectionchange"&&(t_.has(n)||Np(n,!1,e),Np(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$0]||(t[$0]=!0,Np("selectionchange",!1,t))}}function H4(e,t,n,r){switch(L4(t)){case 1:var i=mx;break;case 4:i=vx;break;default:i=e2}n=i.bind(null,t,n,e),i=void 0,!Pm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mp(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;a=a.return}for(;l!==null;){if(a=rl(l),a===null)return;if(s=a.tag,s===5||s===6){r=o=a;continue e}l=l.parentNode}}r=r.return}p4(function(){var u=o,f=Qv(n),h=[];e:{var c=U4.get(e);if(c!==void 0){var m=n2,g=e;switch(e){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":m=Ox;break;case"focusin":g="focus",m=Cp;break;case"focusout":g="blur",m=Cp;break;case"beforeblur":case"afterblur":m=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mx;break;case B4:case j4:case z4:m=Ex;break;case G4:m=Dx;break;case"scroll":m=gx;break;case"wheel":m=$x;break;case"copy":case"cut":case"paste":m=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gy}var S=(t&4)!==0,A=!S&&e==="scroll",v=S?c!==null?c+"Capture":null:c;S=[];for(var _=u,y;_!==null;){y=_;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,v!==null&&(P=bc(_,v),P!=null&&S.push(Oc(_,P,y)))),A)break;_=_.return}0<S.length&&(c=new m(c,g,null,n,f),h.push({event:c,listeners:S}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",c&&n!==km&&(g=n.relatedTarget||n.fromElement)&&(rl(g)||g[So]))break e;if((m||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?rl(g):null,g!==null&&(A=Al(g),g!==A||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(S=my,P="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=gy,P="onPointerLeave",v="onPointerEnter",_="pointer"),A=m==null?c:ys(m),y=g==null?c:ys(g),c=new S(P,_+"leave",m,n,f),c.target=A,c.relatedTarget=y,P=null,rl(f)===u&&(S=new S(v,_+"enter",g,n,f),S.target=y,S.relatedTarget=A,P=S),A=P,m&&g)t:{for(S=m,v=g,_=0,y=S;y;y=ls(y))_++;for(y=0,P=v;P;P=ls(P))y++;for(;0<_-y;)S=ls(S),_--;for(;0<y-_;)v=ls(v),y--;for(;_--;){if(S===v||v!==null&&S===v.alternate)break t;S=ls(S),v=ls(v)}S=null}else S=null;m!==null&&Ly(h,c,m,S,!1),g!==null&&A!==null&&Ly(h,A,g,S,!0)}}e:{if(c=u?ys(u):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var F=Hx;else if(_y(c))if(M4)F=qx;else{F=Xx;var H=Wx}else(m=c.nodeName)&&m.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(F=Yx);if(F&&(F=F(e,u))){N4(h,F,n,f);break e}H&&H(e,c,u),e==="focusout"&&(H=c._wrapperState)&&H.controlled&&c.type==="number"&&Tm(c,"number",c.value)}switch(H=u?ys(u):window,e){case"focusin":(_y(H)||H.contentEditable==="true")&&(vs=H,Fm=u,pc=null);break;case"focusout":pc=Fm=vs=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,Ty(h,n,f);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":Ty(h,n,f)}var te;if(i2)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else ms?O4(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(k4&&n.locale!=="ko"&&(ms||K!=="onCompositionStart"?K==="onCompositionEnd"&&ms&&(te=R4()):(oa=f,t2="value"in oa?oa.value:oa.textContent,ms=!0)),H=Nd(u,K),0<H.length&&(K=new vy(K,e,null,n,f),h.push({event:K,listeners:H}),te?K.data=te:(te=P4(n),te!==null&&(K.data=te)))),(te=jx?zx(e,n):Gx(e,n))&&(u=Nd(u,"onBeforeInput"),0<u.length&&(f=new vy("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=te))}V4(h,t)})}function Oc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bc(e,n),o!=null&&r.unshift(Oc(e,o,i)),o=bc(e,t),o!=null&&r.push(Oc(e,o,i))),e=e.return}return r}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=bc(n,o),s!=null&&a.unshift(Oc(n,s,l))):i||(s=bc(n,o),s!=null&&a.push(Oc(n,s,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var n_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(n_,`
`).replace(r_,"")}function B0(e,t,n){if(t=Ry(t),Ry(e)!==t&&n)throw Error(je(425))}function Md(){}var Bm=null,jm=null;function zm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,i_=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(a_)}:Gm;function a_(e){setTimeout(function(){throw e})}function Ip(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cc(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),qi="__reactFiber$"+Ks,Pc="__reactProps$"+Ks,So="__reactContainer$"+Ks,Um="__reactEvents$"+Ks,l_="__reactListeners$"+Ks,s_="__reactHandles$"+Ks;function rl(e){var t=e[qi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[So]||n[qi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oy(e);e!==null;){if(n=e[qi])return n;e=Oy(e)}return t}e=n,n=e.parentNode}return null}function nf(e){return e=e[qi]||e[So],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function Sh(e){return e[Pc]||null}var Vm=[],xs=-1;function ba(e){return{current:e}}function Sn(e){0>xs||(e.current=Vm[xs],Vm[xs]=null,xs--)}function _n(e,t){xs++,Vm[xs]=e.current,e.current=t}var xa={},wr=ba(xa),$r=ba(!1),hl=xa;function Fs(e,t){var n=e.type.contextTypes;if(!n)return xa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Br(e){return e=e.childContextTypes,e!=null}function Id(){Sn($r),Sn(wr)}function Py(e,t,n){if(wr.current!==xa)throw Error(je(168));_n(wr,t),_n($r,n)}function W4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(je(108,W7(e)||"Unknown",i));return Mn({},n,r)}function Dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,hl=wr.current,_n(wr,e),_n($r,$r.current),!0}function Ny(e,t,n){var r=e.stateNode;if(!r)throw Error(je(169));n?(e=W4(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,Sn($r),Sn(wr),_n(wr,e)):Sn($r),_n($r,n)}var go=null,bh=!1,Dp=!1;function X4(e){go===null?go=[e]:go.push(e)}function u_(e){bh=!0,X4(e)}function Ta(){if(!Dp&&go!==null){Dp=!0;var e=0,t=pn;try{var n=go;for(pn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}go=null,bh=!1}catch(i){throw go!==null&&(go=go.slice(e+1)),y4(Kv,Ta),i}finally{pn=t,Dp=!1}}return null}var _s=[],ws=0,Fd=null,$d=0,di=[],hi=0,pl=null,xo=1,_o="";function Ja(e,t){_s[ws++]=$d,_s[ws++]=Fd,Fd=e,$d=t}function Y4(e,t,n){di[hi++]=xo,di[hi++]=_o,di[hi++]=pl,pl=e;var r=xo;e=_o;var i=32-Oi(r)-1;r&=~(1<<i),n+=1;var o=32-Oi(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,xo=1<<32-Oi(t)+i|n<<i|r,_o=o+e}else xo=1<<o|n<<i|r,_o=e}function a2(e){e.return!==null&&(Ja(e,1),Y4(e,1,0))}function l2(e){for(;e===Fd;)Fd=_s[--ws],_s[ws]=null,$d=_s[--ws],_s[ws]=null;for(;e===pl;)pl=di[--hi],di[hi]=null,_o=di[--hi],di[hi]=null,xo=di[--hi],di[hi]=null}var ei=null,Jr=null,Tn=!1,Li=null;function q4(e,t){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function My(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Jr=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pl!==null?{id:xo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ei=e,Jr=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wm(e){if(Tn){var t=Jr;if(t){var n=t;if(!My(e,t)){if(Hm(e))throw Error(je(418));t=da(n.nextSibling);var r=ei;t&&My(e,t)?q4(r,n):(e.flags=e.flags&-4097|2,Tn=!1,ei=e)}}else{if(Hm(e))throw Error(je(418));e.flags=e.flags&-4097|2,Tn=!1,ei=e}}}function Iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function j0(e){if(e!==ei)return!1;if(!Tn)return Iy(e),Tn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zm(e.type,e.memoizedProps)),t&&(t=Jr)){if(Hm(e))throw Q4(),Error(je(418));for(;t;)q4(e,t),t=da(t.nextSibling)}if(Iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jr=da(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=ei?da(e.stateNode.nextSibling):null;return!0}function Q4(){for(var e=Jr;e;)e=da(e.nextSibling)}function $s(){Jr=ei=null,Tn=!1}function s2(e){Li===null?Li=[e]:Li.push(e)}var c_=Lo.ReactCurrentBatchConfig;function Ai(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Bd=ba(null),jd=null,Es=null,u2=null;function c2(){u2=Es=jd=null}function f2(e){var t=Bd.current;Sn(Bd),e._currentValue=t}function Xm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){jd=e,u2=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fr=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(u2!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(jd===null)throw Error(je(308));Es=e,jd.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var il=null;function d2(e){il===null?il=[e]:il.push(e)}function K4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,d2(t)):(n.next=i.next,i.next=n),t.interleaved=n,bo(e,r)}function bo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ta=!1;function h2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ln&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bo(e,n)}return i=r.interleaved,i===null?(t.next=t,d2(r)):(t.next=i.next,i.next=t),r.interleaved=t,bo(e,n)}function fd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zv(e,n)}}function Dy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zd(e,t,n,r){var i=e.updateQueue;ta=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,a===null?o=u:a.next=u,a=s;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=s))}if(o!==null){var h=i.baseState;a=0,f=u=s=null,l=o;do{var c=l.lane,m=l.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,S=l;switch(c=t,m=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){h=g.call(m,h,c);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,c=typeof g=="function"?g.call(m,h,c):g,c==null)break e;h=Mn({},h,c);break e;case 2:ta=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else m={eventTime:m,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,s=h):f=f.next=m,a|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(s=h),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);vl|=a,e.lanes=a,e.memoizedState=h}}function Fy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var J4=new K6.Component().refs;function Ym(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Th={isMounted:function(e){return(e=e._reactInternals)?Al(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=ma(e),o=wo(r,i);o.payload=t,n!=null&&(o.callback=n),t=ha(e,o,i),t!==null&&(Pi(t,e,i,r),fd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lr(),i=ma(e),o=wo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ha(e,o,i),t!==null&&(Pi(t,e,i,r),fd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lr(),r=ma(e),i=wo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ha(e,i,r),t!==null&&(Pi(t,e,r,n),fd(t,e,r))}};function $y(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Rc(n,r)||!Rc(i,o):!0}function e5(e,t,n){var r=!1,i=xa,o=t.contextType;return typeof o=="object"&&o!==null?o=vi(o):(i=Br(t)?hl:wr.current,r=t.contextTypes,o=(r=r!=null)?Fs(e,i):xa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Th,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function By(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Th.enqueueReplaceState(t,t.state,null)}function qm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=J4,h2(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vi(o):(o=Br(t)?hl:wr.current,i.context=Fs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ym(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Th.enqueueReplaceState(i,i.state,null),zd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ku(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===J4&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,e))}return e}function z0(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jy(e){var t=e._init;return t(e._payload)}function t5(e){function t(v,_){if(e){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function n(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=va(v,_),v.index=0,v.sibling=null,v}function o(v,_,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,_,y,P){return _===null||_.tag!==6?(_=Up(y,v.mode,P),_.return=v,_):(_=i(_,y),_.return=v,_)}function s(v,_,y,P){var F=y.type;return F===ps?f(v,_,y.props.children,P,y.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ea&&jy(F)===_.type)?(P=i(_,y.props),P.ref=Ku(v,_,y),P.return=v,P):(P=gd(y.type,y.key,y.props,null,v.mode,P),P.ref=Ku(v,_,y),P.return=v,P)}function u(v,_,y,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=Vp(y,v.mode,P),_.return=v,_):(_=i(_,y.children||[]),_.return=v,_)}function f(v,_,y,P,F){return _===null||_.tag!==7?(_=ul(y,v.mode,P,F),_.return=v,_):(_=i(_,y),_.return=v,_)}function h(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Up(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k0:return y=gd(_.type,_.key,_.props,null,v.mode,y),y.ref=Ku(v,null,_),y.return=v,y;case hs:return _=Vp(_,v.mode,y),_.return=v,_;case ea:var P=_._init;return h(v,P(_._payload),y)}if(oc(_)||Wu(_))return _=ul(_,v.mode,y,null),_.return=v,_;z0(v,_)}return null}function c(v,_,y,P){var F=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return F!==null?null:l(v,_,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case k0:return y.key===F?s(v,_,y,P):null;case hs:return y.key===F?u(v,_,y,P):null;case ea:return F=y._init,c(v,_,F(y._payload),P)}if(oc(y)||Wu(y))return F!==null?null:f(v,_,y,P,null);z0(v,y)}return null}function m(v,_,y,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(y)||null,l(_,v,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k0:return v=v.get(P.key===null?y:P.key)||null,s(_,v,P,F);case hs:return v=v.get(P.key===null?y:P.key)||null,u(_,v,P,F);case ea:var H=P._init;return m(v,_,y,H(P._payload),F)}if(oc(P)||Wu(P))return v=v.get(y)||null,f(_,v,P,F,null);z0(_,P)}return null}function g(v,_,y,P){for(var F=null,H=null,te=_,K=_=0,Ye=null;te!==null&&K<y.length;K++){te.index>K?(Ye=te,te=null):Ye=te.sibling;var de=c(v,te,y[K],P);if(de===null){te===null&&(te=Ye);break}e&&te&&de.alternate===null&&t(v,te),_=o(de,_,K),H===null?F=de:H.sibling=de,H=de,te=Ye}if(K===y.length)return n(v,te),Tn&&Ja(v,K),F;if(te===null){for(;K<y.length;K++)te=h(v,y[K],P),te!==null&&(_=o(te,_,K),H===null?F=te:H.sibling=te,H=te);return Tn&&Ja(v,K),F}for(te=r(v,te);K<y.length;K++)Ye=m(te,v,K,y[K],P),Ye!==null&&(e&&Ye.alternate!==null&&te.delete(Ye.key===null?K:Ye.key),_=o(Ye,_,K),H===null?F=Ye:H.sibling=Ye,H=Ye);return e&&te.forEach(function(Ce){return t(v,Ce)}),Tn&&Ja(v,K),F}function S(v,_,y,P){var F=Wu(y);if(typeof F!="function")throw Error(je(150));if(y=F.call(y),y==null)throw Error(je(151));for(var H=F=null,te=_,K=_=0,Ye=null,de=y.next();te!==null&&!de.done;K++,de=y.next()){te.index>K?(Ye=te,te=null):Ye=te.sibling;var Ce=c(v,te,de.value,P);if(Ce===null){te===null&&(te=Ye);break}e&&te&&Ce.alternate===null&&t(v,te),_=o(Ce,_,K),H===null?F=Ce:H.sibling=Ce,H=Ce,te=Ye}if(de.done)return n(v,te),Tn&&Ja(v,K),F;if(te===null){for(;!de.done;K++,de=y.next())de=h(v,de.value,P),de!==null&&(_=o(de,_,K),H===null?F=de:H.sibling=de,H=de);return Tn&&Ja(v,K),F}for(te=r(v,te);!de.done;K++,de=y.next())de=m(te,v,K,de.value,P),de!==null&&(e&&de.alternate!==null&&te.delete(de.key===null?K:de.key),_=o(de,_,K),H===null?F=de:H.sibling=de,H=de);return e&&te.forEach(function(ze){return t(v,ze)}),Tn&&Ja(v,K),F}function A(v,_,y,P){if(typeof y=="object"&&y!==null&&y.type===ps&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case k0:e:{for(var F=y.key,H=_;H!==null;){if(H.key===F){if(F=y.type,F===ps){if(H.tag===7){n(v,H.sibling),_=i(H,y.props.children),_.return=v,v=_;break e}}else if(H.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ea&&jy(F)===H.type){n(v,H.sibling),_=i(H,y.props),_.ref=Ku(v,H,y),_.return=v,v=_;break e}n(v,H);break}else t(v,H);H=H.sibling}y.type===ps?(_=ul(y.props.children,v.mode,P,y.key),_.return=v,v=_):(P=gd(y.type,y.key,y.props,null,v.mode,P),P.ref=Ku(v,_,y),P.return=v,v=P)}return a(v);case hs:e:{for(H=y.key;_!==null;){if(_.key===H)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(v,_.sibling),_=i(_,y.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else t(v,_);_=_.sibling}_=Vp(y,v.mode,P),_.return=v,v=_}return a(v);case ea:return H=y._init,A(v,_,H(y._payload),P)}if(oc(y))return g(v,_,y,P);if(Wu(y))return S(v,_,y,P);z0(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,y),_.return=v,v=_):(n(v,_),_=Up(y,v.mode,P),_.return=v,v=_),a(v)):n(v,_)}return A}var Bs=t5(!0),n5=t5(!1),rf={},Ki=ba(rf),Nc=ba(rf),Mc=ba(rf);function ol(e){if(e===rf)throw Error(je(174));return e}function p2(e,t){switch(_n(Mc,t),_n(Nc,e),_n(Ki,rf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cm(t,e)}Sn(Ki),_n(Ki,t)}function js(){Sn(Ki),Sn(Nc),Sn(Mc)}function r5(e){ol(Mc.current);var t=ol(Ki.current),n=Cm(t,e.type);t!==n&&(_n(Nc,e),_n(Ki,n))}function m2(e){Nc.current===e&&(Sn(Ki),Sn(Nc))}var kn=ba(0);function Gd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fp=[];function v2(){for(var e=0;e<Fp.length;e++)Fp[e]._workInProgressVersionPrimary=null;Fp.length=0}var dd=Lo.ReactCurrentDispatcher,$p=Lo.ReactCurrentBatchConfig,ml=0,Nn=null,ar=null,dr=null,Ud=!1,mc=!1,Ic=0,f_=0;function gr(){throw Error(je(321))}function g2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function y2(e,t,n,r,i,o){if(ml=o,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dd.current=e===null||e.memoizedState===null?m_:v_,e=n(r,i),mc){o=0;do{if(mc=!1,Ic=0,25<=o)throw Error(je(301));o+=1,dr=ar=null,t.updateQueue=null,dd.current=g_,e=n(r,i)}while(mc)}if(dd.current=Vd,t=ar!==null&&ar.next!==null,ml=0,dr=ar=Nn=null,Ud=!1,t)throw Error(je(300));return e}function x2(){var e=Ic!==0;return Ic=0,e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Nn.memoizedState=dr=e:dr=dr.next=e,dr}function gi(){if(ar===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=dr===null?Nn.memoizedState:dr.next;if(t!==null)dr=t,ar=e;else{if(e===null)throw Error(je(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},dr===null?Nn.memoizedState=dr=e:dr=dr.next=e}return dr}function Dc(e,t){return typeof t=="function"?t(e):t}function Bp(e){var t=gi(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,s=null,u=o;do{var f=u.lane;if((ml&f)===f)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=h,a=r):s=s.next=h,Nn.lanes|=f,vl|=f}u=u.next}while(u!==null&&u!==o);s===null?a=r:s.next=l,Ni(r,t.memoizedState)||(Fr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Nn.lanes|=o,vl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jp(e){var t=gi(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ni(o,t.memoizedState)||(Fr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function i5(){}function o5(e,t){var n=Nn,r=gi(),i=t(),o=!Ni(r.memoizedState,i);if(o&&(r.memoizedState=i,Fr=!0),r=r.queue,_2(s5.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Fc(9,l5.bind(null,n,r,i,t),void 0,null),hr===null)throw Error(je(349));ml&30||a5(n,t,i)}return i}function a5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l5(e,t,n,r){t.value=n,t.getSnapshot=r,u5(t)&&c5(e)}function s5(e,t,n){return n(function(){u5(t)&&c5(e)})}function u5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function c5(e){var t=bo(e,1);t!==null&&Pi(t,e,1,-1)}function zy(e){var t=Xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:e},t.queue=e,e=e.dispatch=p_.bind(null,Nn,e),[t.memoizedState,e]}function Fc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function f5(){return gi().memoizedState}function hd(e,t,n,r){var i=Xi();Nn.flags|=e,i.memoizedState=Fc(1|t,n,void 0,r===void 0?null:r)}function Ah(e,t,n,r){var i=gi();r=r===void 0?null:r;var o=void 0;if(ar!==null){var a=ar.memoizedState;if(o=a.destroy,r!==null&&g2(r,a.deps)){i.memoizedState=Fc(t,n,o,r);return}}Nn.flags|=e,i.memoizedState=Fc(1|t,n,o,r)}function Gy(e,t){return hd(8390656,8,e,t)}function _2(e,t){return Ah(2048,8,e,t)}function d5(e,t){return Ah(4,2,e,t)}function h5(e,t){return Ah(4,4,e,t)}function p5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m5(e,t,n){return n=n!=null?n.concat([e]):null,Ah(4,4,p5.bind(null,t,e),n)}function w2(){}function v5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g5(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y5(e,t,n){return ml&21?(Ni(n,t)||(n=w4(),Nn.lanes|=n,vl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fr=!0),e.memoizedState=n)}function d_(e,t){var n=pn;pn=n!==0&&4>n?n:4,e(!0);var r=$p.transition;$p.transition={};try{e(!1),t()}finally{pn=n,$p.transition=r}}function x5(){return gi().memoizedState}function h_(e,t,n){var r=ma(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_5(e))w5(t,n);else if(n=K4(e,t,n,r),n!==null){var i=Lr();Pi(n,e,r,i),E5(n,t,r)}}function p_(e,t,n){var r=ma(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_5(e))w5(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ni(l,a)){var s=t.interleaved;s===null?(i.next=i,d2(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=K4(e,t,i,r),n!==null&&(i=Lr(),Pi(n,e,r,i),E5(n,t,r))}}function _5(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function w5(e,t){mc=Ud=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zv(e,n)}}var Vd={readContext:vi,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},m_={readContext:vi,useCallback:function(e,t){return Xi().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:Gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4194308,4,p5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h_.bind(null,Nn,e),[r.memoizedState,e]},useRef:function(e){var t=Xi();return e={current:e},t.memoizedState=e},useState:zy,useDebugValue:w2,useDeferredValue:function(e){return Xi().memoizedState=e},useTransition:function(){var e=zy(!1),t=e[0];return e=d_.bind(null,e[1]),Xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nn,i=Xi();if(Tn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=t(),hr===null)throw Error(je(349));ml&30||a5(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Gy(s5.bind(null,r,o,e),[e]),r.flags|=2048,Fc(9,l5.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xi(),t=hr.identifierPrefix;if(Tn){var n=_o,r=xo;n=(r&~(1<<32-Oi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v_={readContext:vi,useCallback:v5,useContext:vi,useEffect:_2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:Bp,useRef:f5,useState:function(){return Bp(Dc)},useDebugValue:w2,useDeferredValue:function(e){var t=gi();return y5(t,ar.memoizedState,e)},useTransition:function(){var e=Bp(Dc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:o5,useId:x5,unstable_isNewReconciler:!1},g_={readContext:vi,useCallback:v5,useContext:vi,useEffect:_2,useImperativeHandle:m5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:jp,useRef:f5,useState:function(){return jp(Dc)},useDebugValue:w2,useDeferredValue:function(e){var t=gi();return ar===null?t.memoizedState=e:y5(t,ar.memoizedState,e)},useTransition:function(){var e=jp(Dc)[0],t=gi().memoizedState;return[e,t]},useMutableSource:i5,useSyncExternalStore:o5,useId:x5,unstable_isNewReconciler:!1};function zs(e,t){try{var n="",r=t;do n+=H7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function zp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y_=typeof WeakMap=="function"?WeakMap:Map;function S5(e,t,n){n=wo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wd||(Wd=!0,av=r),Qm(e,t)},n}function b5(e,t,n){n=wo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qm(e,t),typeof r!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Uy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=P_.bind(null,e,t,n),t.then(e,e))}function Vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wo(-1,1),t.tag=2,ha(n,t,1))),n.lanes|=1),e)}var x_=Lo.ReactCurrentOwner,Fr=!1;function Ar(e,t,n,r){t.child=e===null?n5(t,null,n,r):Bs(t,e.child,n,r)}function Wy(e,t,n,r,i){n=n.render;var o=t.ref;return Os(t,i),r=y2(e,t,n,r,o,i),n=x2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,To(e,t,i)):(Tn&&n&&a2(t),t.flags|=1,Ar(e,t,r,i),t.child)}function Xy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!R2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,T5(e,t,o,r,i)):(e=gd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(a,r)&&e.ref===t.ref)return To(e,t,i)}return t.flags|=1,e=va(o,r),e.ref=t.ref,e.return=t,t.child=e}function T5(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Rc(o,r)&&e.ref===t.ref)if(Fr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Fr=!0);else return t.lanes=e.lanes,To(e,t,i)}return Km(e,t,n,r,i)}function A5(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(bs,Zr),Zr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_n(bs,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_n(bs,Zr),Zr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_n(bs,Zr),Zr|=r;return Ar(e,t,i,n),t.child}function C5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Km(e,t,n,r,i){var o=Br(n)?hl:wr.current;return o=Fs(t,o),Os(t,i),n=y2(e,t,n,r,o,i),r=x2(),e!==null&&!Fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,To(e,t,i)):(Tn&&r&&a2(t),t.flags|=1,Ar(e,t,n,i),t.child)}function Yy(e,t,n,r,i){if(Br(n)){var o=!0;Dd(t)}else o=!1;if(Os(t,i),t.stateNode===null)pd(e,t),e5(t,n,r),qm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vi(u):(u=Br(n)?hl:wr.current,u=Fs(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==u)&&By(t,a,r,u),ta=!1;var c=t.memoizedState;a.state=c,zd(t,r,a,i),s=t.memoizedState,l!==r||c!==s||$r.current||ta?(typeof f=="function"&&(Ym(t,n,f,r),s=t.memoizedState),(l=ta||$y(t,n,l,r,c,s,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Z4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ai(t.type,l),a.props=u,h=t.pendingProps,c=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=vi(s):(s=Br(n)?hl:wr.current,s=Fs(t,s));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||c!==s)&&By(t,a,r,s),ta=!1,c=t.memoizedState,a.state=c,zd(t,r,a,i);var g=t.memoizedState;l!==h||c!==g||$r.current||ta?(typeof m=="function"&&(Ym(t,n,m,r),g=t.memoizedState),(u=ta||$y(t,n,u,r,c,g,s)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Zm(e,t,n,r,o,i)}function Zm(e,t,n,r,i,o){C5(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ny(t,n,!1),To(e,t,o);r=t.stateNode,x_.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Bs(t,e.child,null,o),t.child=Bs(t,null,l,o)):Ar(e,t,l,o),t.memoizedState=r.state,i&&Ny(t,n,!0),t.child}function L5(e){var t=e.stateNode;t.pendingContext?Py(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Py(e,t.context,!1),p2(e,t.containerInfo)}function qy(e,t,n,r,i){return $s(),s2(i),t.flags|=256,Ar(e,t,n,r),t.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function R5(e,t,n){var r=t.pendingProps,i=kn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_n(kn,i&1),e===null)return Wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Rh(a,r,0,null),e=ul(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ev(n),t.memoizedState=Jm,e):E2(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return __(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=va(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=va(l,o):(o=ul(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ev(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Jm,r}return o=e.child,e=o.sibling,r=va(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function E2(e,t){return t=Rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function G0(e,t,n,r){return r!==null&&s2(r),Bs(t,e.child,null,n),e=E2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function __(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=zp(Error(je(422))),G0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rh({mode:"visible",children:r.children},i,0,null),o=ul(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Bs(t,e.child,null,a),t.child.memoizedState=ev(a),t.memoizedState=Jm,o);if(!(t.mode&1))return G0(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(je(419)),r=zp(o,r,void 0),G0(e,t,a,r)}if(l=(a&e.childLanes)!==0,Fr||l){if(r=hr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bo(e,i),Pi(r,e,i,-1))}return L2(),r=zp(Error(je(421))),G0(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=N_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jr=da(i.nextSibling),ei=t,Tn=!0,Li=null,e!==null&&(di[hi++]=xo,di[hi++]=_o,di[hi++]=pl,xo=e.id,_o=e.overflow,pl=t),t=E2(t,r.children),t.flags|=4096,t)}function Qy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xm(e.return,t,n)}function Gp(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function k5(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ar(e,t,r.children,n),r=kn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qy(e,n,t);else if(e.tag===19)Qy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_n(kn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Gd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gp(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gp(t,!0,n,null,o);break;case"together":Gp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function To(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,n=va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w_(e,t,n){switch(t.tag){case 3:L5(t),$s();break;case 5:r5(t);break;case 1:Br(t.type)&&Dd(t);break;case 4:p2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_n(Bd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_n(kn,kn.current&1),t.flags|=128,null):n&t.child.childLanes?R5(e,t,n):(_n(kn,kn.current&1),e=To(e,t,n),e!==null?e.sibling:null);_n(kn,kn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return k5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(kn,kn.current),r)break;return null;case 22:case 23:return t.lanes=0,A5(e,t,n)}return To(e,t,n)}var O5,tv,P5,N5;O5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};P5=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ol(Ki.current);var o=null;switch(n){case"input":i=Sm(e,i),r=Sm(e,r),o=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),o=[];break;case"textarea":i=Am(e,i),r=Am(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Md)}Lm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&En("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};N5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zu(e,t){if(!Tn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E_(e,t,n){var r=t.pendingProps;switch(l2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return Br(t.type)&&Id(),yr(t),null;case 3:return r=t.stateNode,js(),Sn($r),Sn(wr),v2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(j0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li!==null&&(uv(Li),Li=null))),tv(e,t),yr(t),null;case 5:m2(t);var i=ol(Mc.current);if(n=t.type,e!==null&&t.stateNode!=null)P5(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(je(166));return yr(t),null}if(e=ol(Ki.current),j0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qi]=t,r[Pc]=o,e=(t.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<lc.length;i++)En(lc[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":oy(r,o),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},En("invalid",r);break;case"textarea":ly(r,o),En("invalid",r)}Lm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,l,e),i=["children",""+l]):Ec.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&En("scroll",r)}switch(n){case"input":O0(r),ay(r,o,!0);break;case"textarea":O0(r),sy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Md)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qi]=t,e[Pc]=r,O5(e,t,!1,!1),t.stateNode=e;e:{switch(a=Rm(n,r),n){case"dialog":En("cancel",e),En("close",e),i=r;break;case"iframe":case"object":case"embed":En("load",e),i=r;break;case"video":case"audio":for(i=0;i<lc.length;i++)En(lc[i],e);i=r;break;case"source":En("error",e),i=r;break;case"img":case"image":case"link":En("error",e),En("load",e),i=r;break;case"details":En("toggle",e),i=r;break;case"input":oy(e,r),i=Sm(e,r),En("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),En("invalid",e);break;case"textarea":ly(e,r),i=Am(e,r),En("invalid",e);break;default:i=r}Lm(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?u4(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&l4(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Sc(e,s):typeof s=="number"&&Sc(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ec.hasOwnProperty(o)?s!=null&&o==="onScroll"&&En("scroll",e):s!=null&&Wv(e,o,s,a))}switch(n){case"input":O0(e),ay(e,r,!1);break;case"textarea":O0(e),sy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ya(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Cs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Cs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)N5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(je(166));if(n=ol(Mc.current),ol(Ki.current),j0(t)){if(r=t.stateNode,n=t.memoizedProps,r[qi]=t,(o=r.nodeValue!==n)&&(e=ei,e!==null))switch(e.tag){case 3:B0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&B0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=t,t.stateNode=r}return yr(t),null;case 13:if(Sn(kn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tn&&Jr!==null&&t.mode&1&&!(t.flags&128))Q4(),$s(),t.flags|=98560,o=!1;else if(o=j0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(je(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[qi]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),o=!1}else Li!==null&&(uv(Li),Li=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||kn.current&1?lr===0&&(lr=3):L2())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return js(),tv(e,t),e===null&&kc(t.stateNode.containerInfo),yr(t),null;case 10:return f2(t.type._context),yr(t),null;case 17:return Br(t.type)&&Id(),yr(t),null;case 19:if(Sn(kn),o=t.memoizedState,o===null)return yr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Zu(o,!1);else{if(lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Gd(e),a!==null){for(t.flags|=128,Zu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _n(kn,kn.current&1|2),t.child}e=e.sibling}o.tail!==null&&qn()>Gs&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304)}else{if(!r)if(e=Gd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Tn)return yr(t),null}else 2*qn()-o.renderingStartTime>Gs&&n!==1073741824&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qn(),t.sibling=null,n=kn.current,_n(kn,r?n&1|2:n&1),t):(yr(t),null);case 22:case 23:return C2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zr&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function S_(e,t){switch(l2(t),t.tag){case 1:return Br(t.type)&&Id(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(),Sn($r),Sn(wr),v2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return m2(t),null;case 13:if(Sn(kn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Sn(kn),null;case 4:return js(),null;case 10:return f2(t.type._context),null;case 22:case 23:return C2(),null;case 24:return null;default:return null}}var U0=!1,xr=!1,b_=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zn(e,t,r)}else n.current=null}function nv(e,t,n){try{n()}catch(r){zn(e,t,r)}}var Ky=!1;function T_(e,t){if(Bm=Od,e=F4(),o2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,u=0,f=0,h=e,c=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(s=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)c=h,h=m;for(;;){if(h===e)break t;if(c===n&&++u===i&&(l=a),c===o&&++f===r&&(s=a),(m=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=m}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:e,selectionRange:n},Od=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,A=g.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ai(t.type,S),A);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(P){zn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return g=Ky,Ky=!1,g}function vc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&nv(t,n,o)}i=i.next}while(i!==r)}}function Ch(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function M5(e){var t=e.alternate;t!==null&&(e.alternate=null,M5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qi],delete t[Pc],delete t[Um],delete t[l_],delete t[s_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I5(e){return e.tag===5||e.tag===3||e.tag===4}function Zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Md));else if(r!==4&&(e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}function ov(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ov(e,t,n),e=e.sibling;e!==null;)ov(e,t,n),e=e.sibling}var pr=null,Ci=!1;function qo(e,t,n){for(n=n.child;n!==null;)D5(e,t,n),n=n.sibling}function D5(e,t,n){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:xr||Ss(n,t);case 6:var r=pr,i=Ci;pr=null,qo(e,t,n),pr=r,Ci=i,pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ci?(e=pr,n=n.stateNode,e.nodeType===8?Ip(e.parentNode,n):e.nodeType===1&&Ip(e,n),Cc(e)):Ip(pr,n.stateNode));break;case 4:r=pr,i=Ci,pr=n.stateNode.containerInfo,Ci=!0,qo(e,t,n),pr=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&nv(n,t,a),i=i.next}while(i!==r)}qo(e,t,n);break;case 1:if(!xr&&(Ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){zn(n,t,l)}qo(e,t,n);break;case 21:qo(e,t,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,qo(e,t,n),xr=r):qo(e,t,n);break;default:qo(e,t,n)}}function Jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b_),t.forEach(function(r){var i=M_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,Ci=!1;break e;case 3:pr=l.stateNode.containerInfo,Ci=!0;break e;case 4:pr=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(pr===null)throw Error(je(160));D5(o,a,i),pr=null,Ci=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){zn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F5(t,e),t=t.sibling}function F5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),Vi(e),r&4){try{vc(3,e,e.return),Ch(3,e)}catch(S){zn(e,e.return,S)}try{vc(5,e,e.return)}catch(S){zn(e,e.return,S)}}break;case 1:Si(t,e),Vi(e),r&512&&n!==null&&Ss(n,n.return);break;case 5:if(Si(t,e),Vi(e),r&512&&n!==null&&Ss(n,n.return),e.flags&32){var i=e.stateNode;try{Sc(i,"")}catch(S){zn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&i4(i,o),Rm(l,a);var u=Rm(l,o);for(a=0;a<s.length;a+=2){var f=s[a],h=s[a+1];f==="style"?u4(i,h):f==="dangerouslySetInnerHTML"?l4(i,h):f==="children"?Sc(i,h):Wv(i,f,h,u)}switch(l){case"input":bm(i,o);break;case"textarea":o4(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Cs(i,!!o.multiple,m,!1):c!==!!o.multiple&&(o.defaultValue!=null?Cs(i,!!o.multiple,o.defaultValue,!0):Cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pc]=o}catch(S){zn(e,e.return,S)}}break;case 6:if(Si(t,e),Vi(e),r&4){if(e.stateNode===null)throw Error(je(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){zn(e,e.return,S)}}break;case 3:if(Si(t,e),Vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cc(t.containerInfo)}catch(S){zn(e,e.return,S)}break;case 4:Si(t,e),Vi(e);break;case 13:Si(t,e),Vi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(T2=qn())),r&4&&Jy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(xr=(u=xr)||f,Si(t,e),xr=u):Si(t,e),Vi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ft=e,f=e.child;f!==null;){for(h=ft=f;ft!==null;){switch(c=ft,m=c.child,c.tag){case 0:case 11:case 14:case 15:vc(4,c,c.return);break;case 1:Ss(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(S){zn(r,n,S)}}break;case 5:Ss(c,c.return);break;case 22:if(c.memoizedState!==null){t3(h);continue}}m!==null?(m.return=c,ft=m):t3(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,s=h.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=s4("display",a))}catch(S){zn(e,e.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){zn(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Si(t,e),Vi(e),r&4&&Jy(e);break;case 21:break;default:Si(t,e),Vi(e)}}function Vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I5(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sc(i,""),r.flags&=-33);var o=Zy(e);ov(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Zy(e);iv(e,l,a);break;default:throw Error(je(161))}}catch(s){zn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A_(e,t,n){ft=e,$5(e)}function $5(e,t,n){for(var r=(e.mode&1)!==0;ft!==null;){var i=ft,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||U0;if(!a){var l=i.alternate,s=l!==null&&l.memoizedState!==null||xr;l=U0;var u=xr;if(U0=a,(xr=s)&&!u)for(ft=i;ft!==null;)a=ft,s=a.child,a.tag===22&&a.memoizedState!==null?n3(i):s!==null?(s.return=a,ft=s):n3(i);for(;o!==null;)ft=o,$5(o),o=o.sibling;ft=i,U0=l,xr=u}e3(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ft=o):e3(e)}}function e3(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xr||Ch(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ai(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Fy(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fy(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Cc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}xr||t.flags&512&&rv(t)}catch(c){zn(t,t.return,c)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function t3(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function n3(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ch(4,t)}catch(s){zn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){zn(t,i,s)}}var o=t.return;try{rv(t)}catch(s){zn(t,o,s)}break;case 5:var a=t.return;try{rv(t)}catch(s){zn(t,a,s)}}}catch(s){zn(t,t.return,s)}if(t===e){ft=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ft=l;break}ft=t.return}}var C_=Math.ceil,Hd=Lo.ReactCurrentDispatcher,S2=Lo.ReactCurrentOwner,mi=Lo.ReactCurrentBatchConfig,ln=0,hr=null,Jn=null,mr=0,Zr=0,bs=ba(0),lr=0,$c=null,vl=0,Lh=0,b2=0,gc=null,Dr=null,T2=0,Gs=1/0,vo=null,Wd=!1,av=null,pa=null,V0=!1,aa=null,Xd=0,yc=0,lv=null,md=-1,vd=0;function Lr(){return ln&6?qn():md!==-1?md:md=qn()}function ma(e){return e.mode&1?ln&2&&mr!==0?mr&-mr:c_.transition!==null?(vd===0&&(vd=w4()),vd):(e=pn,e!==0||(e=window.event,e=e===void 0?16:L4(e.type)),e):1}function Pi(e,t,n,r){if(50<yc)throw yc=0,lv=null,Error(je(185));ef(e,n,r),(!(ln&2)||e!==hr)&&(e===hr&&(!(ln&2)&&(Lh|=n),lr===4&&ra(e,mr)),jr(e,r),n===1&&ln===0&&!(t.mode&1)&&(Gs=qn()+500,bh&&Ta()))}function jr(e,t){var n=e.callbackNode;cx(e,t);var r=kd(e,e===hr?mr:0);if(r===0)n!==null&&fy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fy(n),t===1)e.tag===0?u_(r3.bind(null,e)):X4(r3.bind(null,e)),o_(function(){!(ln&6)&&Ta()}),n=null;else{switch(E4(r)){case 1:n=Kv;break;case 4:n=x4;break;case 16:n=Rd;break;case 536870912:n=_4;break;default:n=Rd}n=W5(n,B5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B5(e,t){if(md=-1,vd=0,ln&6)throw Error(je(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var r=kd(e,e===hr?mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yd(e,r);else{t=r;var i=ln;ln|=2;var o=z5();(hr!==e||mr!==t)&&(vo=null,Gs=qn()+500,sl(e,t));do try{k_();break}catch(l){j5(e,l)}while(!0);c2(),Hd.current=o,ln=i,Jn!==null?t=0:(hr=null,mr=0,t=lr)}if(t!==0){if(t===2&&(i=Mm(e),i!==0&&(r=i,t=sv(e,i))),t===1)throw n=$c,sl(e,0),ra(e,r),jr(e,qn()),n;if(t===6)ra(e,r);else{if(i=e.current.alternate,!(r&30)&&!L_(i)&&(t=Yd(e,r),t===2&&(o=Mm(e),o!==0&&(r=o,t=sv(e,o))),t===1))throw n=$c,sl(e,0),ra(e,r),jr(e,qn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(je(345));case 2:el(e,Dr,vo);break;case 3:if(ra(e,r),(r&130023424)===r&&(t=T2+500-qn(),10<t)){if(kd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gm(el.bind(null,e,Dr,vo),t);break}el(e,Dr,vo);break;case 4:if(ra(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Oi(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C_(r/1960))-r,10<r){e.timeoutHandle=Gm(el.bind(null,e,Dr,vo),r);break}el(e,Dr,vo);break;case 5:el(e,Dr,vo);break;default:throw Error(je(329))}}}return jr(e,qn()),e.callbackNode===n?B5.bind(null,e):null}function sv(e,t){var n=gc;return e.current.memoizedState.isDehydrated&&(sl(e,t).flags|=256),e=Yd(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&uv(t)),e}function uv(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function L_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ni(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t){for(t&=~b2,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oi(t),r=1<<n;e[n]=-1,t&=~r}}function r3(e){if(ln&6)throw Error(je(327));Ps();var t=kd(e,0);if(!(t&1))return jr(e,qn()),null;var n=Yd(e,t);if(e.tag!==0&&n===2){var r=Mm(e);r!==0&&(t=r,n=sv(e,r))}if(n===1)throw n=$c,sl(e,0),ra(e,t),jr(e,qn()),n;if(n===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,el(e,Dr,vo),jr(e,qn()),null}function A2(e,t){var n=ln;ln|=1;try{return e(t)}finally{ln=n,ln===0&&(Gs=qn()+500,bh&&Ta())}}function gl(e){aa!==null&&aa.tag===0&&!(ln&6)&&Ps();var t=ln;ln|=1;var n=mi.transition,r=pn;try{if(mi.transition=null,pn=1,e)return e()}finally{pn=r,mi.transition=n,ln=t,!(ln&6)&&Ta()}}function C2(){Zr=bs.current,Sn(bs)}function sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i_(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(l2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:js(),Sn($r),Sn(wr),v2();break;case 5:m2(r);break;case 4:js();break;case 13:Sn(kn);break;case 19:Sn(kn);break;case 10:f2(r.type._context);break;case 22:case 23:C2()}n=n.return}if(hr=e,Jn=e=va(e.current,null),mr=Zr=t,lr=0,$c=null,b2=Lh=vl=0,Dr=gc=null,il!==null){for(t=0;t<il.length;t++)if(n=il[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}il=null}return e}function j5(e,t){do{var n=Jn;try{if(c2(),dd.current=Vd,Ud){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ud=!1}if(ml=0,dr=ar=Nn=null,mc=!1,Ic=0,S2.current=null,n===null||n.return===null){lr=1,$c=t,Jn=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=mr,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Vy(a);if(m!==null){m.flags&=-257,Hy(m,a,l,o,t),m.mode&1&&Uy(o,u,t),t=m,s=u;var g=t.updateQueue;if(g===null){var S=new Set;S.add(s),t.updateQueue=S}else g.add(s);break e}else{if(!(t&1)){Uy(o,u,t),L2();break e}s=Error(je(426))}}else if(Tn&&l.mode&1){var A=Vy(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Hy(A,a,l,o,t),s2(zs(s,l));break e}}o=s=zs(s,l),lr!==4&&(lr=2),gc===null?gc=[o]:gc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=S5(o,s,t);Dy(o,v);break e;case 1:l=s;var _=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pa===null||!pa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=b5(o,l,t);Dy(o,P);break e}}o=o.return}while(o!==null)}U5(n)}catch(F){t=F,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(!0)}function z5(){var e=Hd.current;return Hd.current=Vd,e===null?Vd:e}function L2(){(lr===0||lr===3||lr===2)&&(lr=4),hr===null||!(vl&268435455)&&!(Lh&268435455)||ra(hr,mr)}function Yd(e,t){var n=ln;ln|=2;var r=z5();(hr!==e||mr!==t)&&(vo=null,sl(e,t));do try{R_();break}catch(i){j5(e,i)}while(!0);if(c2(),ln=n,Hd.current=r,Jn!==null)throw Error(je(261));return hr=null,mr=0,lr}function R_(){for(;Jn!==null;)G5(Jn)}function k_(){for(;Jn!==null&&!tx();)G5(Jn)}function G5(e){var t=H5(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?U5(e):Jn=t,S2.current=null}function U5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=S_(n,t),n!==null){n.flags&=32767,Jn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lr=6,Jn=null;return}}else if(n=E_(n,t,Zr),n!==null){Jn=n;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);lr===0&&(lr=5)}function el(e,t,n){var r=pn,i=mi.transition;try{mi.transition=null,pn=1,O_(e,t,n,r)}finally{mi.transition=i,pn=r}return null}function O_(e,t,n,r){do Ps();while(aa!==null);if(ln&6)throw Error(je(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(fx(e,o),e===hr&&(Jn=hr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||V0||(V0=!0,W5(Rd,function(){return Ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var a=pn;pn=1;var l=ln;ln|=4,S2.current=null,T_(e,n),F5(n,e),Kx(jm),Od=!!Bm,jm=Bm=null,e.current=n,A_(n),nx(),ln=l,pn=a,mi.transition=o}else e.current=n;if(V0&&(V0=!1,aa=e,Xd=i),o=e.pendingLanes,o===0&&(pa=null),ox(n.stateNode),jr(e,qn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,e=av,av=null,e;return Xd&1&&e.tag!==0&&Ps(),o=e.pendingLanes,o&1?e===lv?yc++:(yc=0,lv=e):yc=0,Ta(),null}function Ps(){if(aa!==null){var e=E4(Xd),t=mi.transition,n=pn;try{if(mi.transition=null,pn=16>e?16:e,aa===null)var r=!1;else{if(e=aa,aa=null,Xd=0,ln&6)throw Error(je(331));var i=ln;for(ln|=4,ft=e.current;ft!==null;){var o=ft,a=o.child;if(ft.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(ft=u;ft!==null;){var f=ft;switch(f.tag){case 0:case 11:case 15:vc(8,f,o)}var h=f.child;if(h!==null)h.return=f,ft=h;else for(;ft!==null;){f=ft;var c=f.sibling,m=f.return;if(M5(f),f===u){ft=null;break}if(c!==null){c.return=m,ft=c;break}ft=m}}}var g=o.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}ft=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ft=a;else e:for(;ft!==null;){if(o=ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ft=v;break e}ft=o.return}}var _=e.current;for(ft=_;ft!==null;){a=ft;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ft=y;else e:for(a=_;ft!==null;){if(l=ft,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ch(9,l)}}catch(F){zn(l,l.return,F)}if(l===a){ft=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,ft=P;break e}ft=l.return}}if(ln=i,Ta(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(xh,e)}catch{}r=!0}return r}finally{pn=n,mi.transition=t}}return!1}function i3(e,t,n){t=zs(n,t),t=S5(e,t,1),e=ha(e,t,1),t=Lr(),e!==null&&(ef(e,1,t),jr(e,t))}function zn(e,t,n){if(e.tag===3)i3(e,e,n);else for(;t!==null;){if(t.tag===3){i3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pa===null||!pa.has(r))){e=zs(n,e),e=b5(t,e,1),t=ha(t,e,1),e=Lr(),t!==null&&(ef(t,1,e),jr(t,e));break}}t=t.return}}function P_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&n,hr===e&&(mr&n)===n&&(lr===4||lr===3&&(mr&130023424)===mr&&500>qn()-T2?sl(e,0):b2|=n),jr(e,t)}function V5(e,t){t===0&&(e.mode&1?(t=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):t=1);var n=Lr();e=bo(e,t),e!==null&&(ef(e,t,n),jr(e,n))}function N_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V5(e,n)}function M_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(t),V5(e,n)}var H5;H5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Fr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fr=!1,w_(e,t,n);Fr=!!(e.flags&131072)}else Fr=!1,Tn&&t.flags&1048576&&Y4(t,$d,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pd(e,t),e=t.pendingProps;var i=Fs(t,wr.current);Os(t,n),i=y2(null,t,r,e,i,n);var o=x2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(r)?(o=!0,Dd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h2(t),i.updater=Th,t.stateNode=i,i._reactInternals=t,qm(t,r,e,n),t=Zm(null,t,r,!0,o,n)):(t.tag=0,Tn&&o&&a2(t),Ar(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=D_(r),e=Ai(r,e),i){case 0:t=Km(null,t,r,e,n);break e;case 1:t=Yy(null,t,r,e,n);break e;case 11:t=Wy(null,t,r,e,n);break e;case 14:t=Xy(null,t,r,Ai(r.type,e),n);break e}throw Error(je(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Km(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Yy(e,t,r,i,n);case 3:e:{if(L5(t),e===null)throw Error(je(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Z4(e,t),zd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zs(Error(je(423)),t),t=qy(e,t,r,n,i);break e}else if(r!==i){i=zs(Error(je(424)),t),t=qy(e,t,r,n,i);break e}else for(Jr=da(t.stateNode.containerInfo.firstChild),ei=t,Tn=!0,Li=null,n=n5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),r===i){t=To(e,t,n);break e}Ar(e,t,r,n)}t=t.child}return t;case 5:return r5(t),e===null&&Wm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,zm(r,i)?a=null:o!==null&&zm(r,o)&&(t.flags|=32),C5(e,t),Ar(e,t,a,n),t.child;case 6:return e===null&&Wm(t),null;case 13:return R5(e,t,n);case 4:return p2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bs(t,null,r,n):Ar(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Wy(e,t,r,i,n);case 7:return Ar(e,t,t.pendingProps,n),t.child;case 8:return Ar(e,t,t.pendingProps.children,n),t.child;case 12:return Ar(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_n(Bd,r._currentValue),r._currentValue=a,o!==null)if(Ni(o.value,a)){if(o.children===i.children&&!$r.current){t=To(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=wo(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Xm(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(je(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xm(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ar(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Os(t,n),i=vi(i),r=r(i),t.flags|=1,Ar(e,t,r,n),t.child;case 14:return r=t.type,i=Ai(r,t.pendingProps),i=Ai(r.type,i),Xy(e,t,r,i,n);case 15:return T5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),pd(e,t),t.tag=1,Br(r)?(e=!0,Dd(t)):e=!1,Os(t,n),e5(t,r,i),qm(t,r,i,n),Zm(null,t,r,!0,e,n);case 19:return k5(e,t,n);case 22:return A5(e,t,n)}throw Error(je(156,t.tag))};function W5(e,t){return y4(e,t)}function I_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,t,n,r){return new I_(e,t,n,r)}function R2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D_(e){if(typeof e=="function")return R2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yv)return 11;if(e===qv)return 14}return 2}function va(e,t){var n=e.alternate;return n===null?(n=pi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gd(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")R2(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ps:return ul(n.children,i,o,t);case Xv:a=8,i|=8;break;case xm:return e=pi(12,n,t,i|2),e.elementType=xm,e.lanes=o,e;case _m:return e=pi(13,n,t,i),e.elementType=_m,e.lanes=o,e;case wm:return e=pi(19,n,t,i),e.elementType=wm,e.lanes=o,e;case t4:return Rh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J6:a=10;break e;case e4:a=9;break e;case Yv:a=11;break e;case qv:a=14;break e;case ea:a=16,r=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=pi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ul(e,t,n,r){return e=pi(7,e,r,t),e.lanes=n,e}function Rh(e,t,n,r){return e=pi(22,e,r,t),e.elementType=t4,e.lanes=n,e.stateNode={isHidden:!1},e}function Up(e,t,n){return e=pi(6,e,null,t),e.lanes=n,e}function Vp(e,t,n){return t=pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k2(e,t,n,r,i,o,a,l,s){return e=new F_(e,t,n,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(o),e}function $_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X5(e){if(!e)return xa;e=e._reactInternals;e:{if(Al(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var n=e.type;if(Br(n))return W4(e,n,t)}return t}function Y5(e,t,n,r,i,o,a,l,s){return e=k2(n,r,!0,e,i,o,a,l,s),e.context=X5(null),n=e.current,r=Lr(),i=ma(n),o=wo(r,i),o.callback=t??null,ha(n,o,i),e.current.lanes=i,ef(e,i,r),jr(e,r),e}function kh(e,t,n,r){var i=t.current,o=Lr(),a=ma(i);return n=X5(n),t.context===null?t.context=n:t.pendingContext=n,t=wo(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ha(i,t,a),e!==null&&(Pi(e,i,a,o),fd(e,i,a)),a}function qd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O2(e,t){o3(e,t),(e=e.alternate)&&o3(e,t)}function B_(){return null}var q5=typeof reportError=="function"?reportError:function(e){console.error(e)};function P2(e){this._internalRoot=e}Oh.prototype.render=P2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));kh(e,t,null,null)};Oh.prototype.unmount=P2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){kh(null,e,null,null)}),t[So]=null}};function Oh(e){this._internalRoot=e}Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=T4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&C4(e)}};function N2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function a3(){}function j_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qd(a);o.call(u)}}var a=Y5(t,r,e,0,null,!1,!1,"",a3);return e._reactRootContainer=a,e[So]=a.current,kc(e.nodeType===8?e.parentNode:e),gl(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=qd(s);l.call(u)}}var s=k2(e,0,!1,null,null,!1,!1,"",a3);return e._reactRootContainer=s,e[So]=s.current,kc(e.nodeType===8?e.parentNode:e),gl(function(){kh(t,s,n,r)}),s}function Nh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var s=qd(a);l.call(s)}}kh(t,a,e,i)}else a=j_(n,t,e,i,r);return qd(a)}S4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ac(t.pendingLanes);n!==0&&(Zv(t,n|1),jr(t,qn()),!(ln&6)&&(Gs=qn()+500,Ta()))}break;case 13:gl(function(){var r=bo(e,1);if(r!==null){var i=Lr();Pi(r,e,1,i)}}),O2(e,1)}};Jv=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var n=Lr();Pi(t,e,134217728,n)}O2(e,134217728)}};b4=function(e){if(e.tag===13){var t=ma(e),n=bo(e,t);if(n!==null){var r=Lr();Pi(n,e,t,r)}O2(e,t)}};T4=function(){return pn};A4=function(e,t){var n=pn;try{return pn=e,t()}finally{pn=n}};Om=function(e,t,n){switch(t){case"input":if(bm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sh(r);if(!i)throw Error(je(90));r4(r),bm(r,i)}}}break;case"textarea":o4(e,n);break;case"select":t=n.value,t!=null&&Cs(e,!!n.multiple,t,!1)}};d4=A2;h4=gl;var z_={usingClientEntryPoint:!1,Events:[nf,ys,Sh,c4,f4,A2]},Ju={findFiberByHostInstance:rl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},G_={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||B_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H0.isDisabled&&H0.supportsFiber)try{xh=H0.inject(G_),Qi=H0}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z_;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N2(t))throw Error(je(200));return $_(e,t,null,n)};ii.createRoot=function(e,t){if(!N2(e))throw Error(je(299));var n=!1,r="",i=q5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=k2(e,1,!1,null,null,n,!1,r,i),e[So]=t.current,kc(e.nodeType===8?e.parentNode:e),new P2(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=v4(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return gl(e)};ii.hydrate=function(e,t,n){if(!Ph(t))throw Error(je(200));return Nh(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!N2(e))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=q5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Y5(t,null,e,1,n??null,i,!1,o,a),e[So]=t.current,kc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Oh(t)};ii.render=function(e,t,n){if(!Ph(t))throw Error(je(200));return Nh(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(je(40));return e._reactRootContainer?(gl(function(){Nh(null,null,e,!1,function(){e._reactRootContainer=null,e[So]=null})}),!0):!1};ii.unstable_batchedUpdates=A2;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ph(n))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return Nh(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function Q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q5)}catch(e){console.error(e)}}Q5(),Y6.exports=ii;var U_=Y6.exports,l3=U_;gm.createRoot=l3.createRoot,gm.hydrateRoot=l3.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}var la;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(la||(la={}));const s3="popstate";function V_(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:s=""}=Cl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),cv("",{pathname:a,search:l,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof o=="string"?o:Qd(o))}function r(i,o){Mh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return W_(t,n,r,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H_(){return Math.random().toString(36).substr(2,8)}function u3(e,t){return{usr:e.state,key:e.key,idx:t}}function cv(e,t,n,r){return n===void 0&&(n=null),Bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cl(t):t,{state:n,key:t&&t.key||r||H_()})}function Qd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=la.Pop,s=null,u=f();u==null&&(u=0,a.replaceState(Bc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){l=la.Pop;let A=f(),v=A==null?null:A-u;u=A,s&&s({action:l,location:S.location,delta:v})}function c(A,v){l=la.Push;let _=cv(S.location,A,v);n&&n(_,A),u=f()+1;let y=u3(_,u),P=S.createHref(_);try{a.pushState(y,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}o&&s&&s({action:l,location:S.location,delta:1})}function m(A,v){l=la.Replace;let _=cv(S.location,A,v);n&&n(_,A),u=f();let y=u3(_,u),P=S.createHref(_);a.replaceState(y,"",P),o&&s&&s({action:l,location:S.location,delta:0})}function g(A){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:Qd(A);return er(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let S={get action(){return l},get location(){return e(i,a)},listen(A){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(s3,h),s=A,()=>{i.removeEventListener(s3,h),s=null}},createHref(A){return t(i,A)},createURL:g,encodeLocation(A){let v=g(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:c,replace:m,go(A){return a.go(A)}};return S}var c3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c3||(c3={}));function X_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Cl(t):t,i=M2(r.pathname||"/",n);if(i==null)return null;let o=K5(e);Y_(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=rw(o[l],aw(i));return a}function K5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let s={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};s.relativePath.startsWith("/")&&(er(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=ga([r,s.relativePath]),f=n.concat(s);o.children&&o.children.length>0&&(er(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K5(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tw(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let s of Z5(o.path))i(o,a,s)}),t}function Z5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Z5(r.join("/")),l=[];return l.push(...a.map(s=>s===""?o:[o,s].join("/"))),i&&l.push(...a),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function Y_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q_=/^:\w+$/,Q_=3,K_=2,Z_=1,J_=10,ew=-2,f3=e=>e==="*";function tw(e,t){let n=e.split("/"),r=n.length;return n.some(f3)&&(r+=ew),t&&(r+=K_),n.filter(i=>!f3(i)).reduce((i,o)=>i+(q_.test(o)?Q_:o===""?Z_:J_),r)}function nw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rw(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],s=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!f)return null;Object.assign(r,f.params);let h=l.route;o.push({params:r,pathname:ga([i,f.pathname]),pathnameBase:cw(ga([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ga([i,f.pathnameBase]))}return o}function iw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ow(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:c,isOptional:m}=f;if(c==="*"){let S=l[h]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[c]=void 0:u[c]=lw(g||"",c),u},{}),pathname:o,pathnameBase:a,pattern:e}}function ow(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Mh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function aw(e){try{return decodeURI(e)}catch(t){return Mh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lw(e,t){try{return decodeURIComponent(e)}catch(n){return Mh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function M2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:uw(n,t):t,search:fw(r),hash:dw(i)}}function uw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e8(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Cl(e):(i=Bc({},e),er(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h.pop();i.pathname=c.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(a.startsWith("..")){let c=a.split("/");for(;c[0]==="..";)c.shift(),h-=1;i.pathname=c.join("/")}l=h>=0?t[h]:"/"}let s=sw(i,l),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||f)&&(s.pathname+="/"),s}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),cw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t8=["post","put","patch","delete"];new Set(t8);const pw=["get",...t8];new Set(pw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}const I2=O.createContext(null),mw=O.createContext(null),Zs=O.createContext(null),Ih=O.createContext(null),Aa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),n8=O.createContext(null);function vw(e,t){let{relative:n}=t===void 0?{}:t;of()||er(!1);let{basename:r,navigator:i}=O.useContext(Zs),{hash:o,pathname:a,search:l}=i8(e,{relative:n}),s=a;return r!=="/"&&(s=a==="/"?r:ga([r,a])),i.createHref({pathname:s,search:l,hash:o})}function of(){return O.useContext(Ih)!=null}function Dh(){return of()||er(!1),O.useContext(Ih).location}function r8(e){O.useContext(Zs).static||O.useLayoutEffect(e)}function Fh(){let{isDataRoute:e}=O.useContext(Aa);return e?Rw():gw()}function gw(){of()||er(!1);let e=O.useContext(I2),{basename:t,navigator:n}=O.useContext(Zs),{matches:r}=O.useContext(Aa),{pathname:i}=Dh(),o=JSON.stringify(J5(r).map(s=>s.pathnameBase)),a=O.useRef(!1);return r8(()=>{a.current=!0}),O.useCallback(function(s,u){if(u===void 0&&(u={}),!a.current)return;if(typeof s=="number"){n.go(s);return}let f=e8(s,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ga([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function D2(){let{matches:e}=O.useContext(Aa),t=e[e.length-1];return t?t.params:{}}function i8(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=O.useContext(Aa),{pathname:i}=Dh(),o=JSON.stringify(J5(r).map(a=>a.pathnameBase));return O.useMemo(()=>e8(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function yw(e,t){return xw(e,t)}function xw(e,t,n){of()||er(!1);let{navigator:r}=O.useContext(Zs),{matches:i}=O.useContext(Aa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let s=Dh(),u;if(t){var f;let S=typeof t=="string"?Cl(t):t;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||er(!1),u=S}else u=s;let h=u.pathname||"/",c=l==="/"?h:h.slice(l.length)||"/",m=X_(e,{pathname:c}),g=bw(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ga([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ga([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n);return t&&g?O.createElement(Ih.Provider,{value:{location:Kd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:la.Pop}},g):g}function _w(){let e=Lw(),t=hw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,o)}const ww=O.createElement(_w,null);class Ew extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?O.createElement(Aa.Provider,{value:this.props.routeContext},O.createElement(n8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sw(e){let{routeContext:t,match:n,children:r}=e,i=O.useContext(I2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Aa.Provider,{value:t},r)}function bw(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(s=>s.route.id&&(a==null?void 0:a[s.route.id]));l>=0||er(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,s,u)=>{let f=s.route.id?a==null?void 0:a[s.route.id]:null,h=null;n&&(h=s.route.errorElement||ww);let c=t.concat(o.slice(0,u+1)),m=()=>{let g;return f?g=h:s.route.Component?g=O.createElement(s.route.Component,null):s.route.element?g=s.route.element:g=l,O.createElement(Sw,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:g})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?O.createElement(Ew,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:m(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):m()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),Zd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zd||{});function Tw(e){let t=O.useContext(I2);return t||er(!1),t}function Aw(e){let t=O.useContext(mw);return t||er(!1),t}function Cw(e){let t=O.useContext(Aa);return t||er(!1),t}function a8(e){let t=Cw(),n=t.matches[t.matches.length-1];return n.route.id||er(!1),n.route.id}function Lw(){var e;let t=O.useContext(n8),n=Aw(Zd.UseRouteError),r=a8(Zd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Rw(){let{router:e}=Tw(o8.UseNavigateStable),t=a8(Zd.UseNavigateStable),n=O.useRef(!1);return r8(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Kd({fromRouteId:t},o)))},[e,t])}function tl(e){er(!1)}function kw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=la.Pop,navigator:o,static:a=!1}=e;of()&&er(!1);let l=t.replace(/^\/*/,"/"),s=O.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=Cl(r));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:m="default"}=r,g=O.useMemo(()=>{let S=M2(u,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:c,key:m},navigationType:i}},[l,u,f,h,c,m,i]);return g==null?null:O.createElement(Zs.Provider,{value:s},O.createElement(Ih.Provider,{children:n,value:g}))}function Ow(e){let{children:t,location:n}=e;return yw(fv(t),n)}new Promise(()=>{});function fv(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let o=[...t,i];if(r.type===O.Fragment){n.push.apply(n,fv(r.props.children,o));return}r.type!==tl&&er(!1),!r.props.index||!r.props.children||er(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=fv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}function Pw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mw(e,t){return e.button===0&&(!t||t==="_self")&&!Nw(e)}const Iw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dw="startTransition",d3=N7[Dw];function Fw(e){let{basename:t,children:n,future:r,window:i}=e,o=O.useRef();o.current==null&&(o.current=V_({window:i,v5Compat:!0}));let a=o.current,[l,s]=O.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=O.useCallback(h=>{u&&d3?d3(()=>s(h)):s(h)},[s,u]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(kw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=O.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:s,to:u,preventScrollReset:f,unstable_viewTransition:h}=t,c=Pw(t,Iw),{basename:m}=O.useContext(Zs),g,S=!1;if(typeof u=="string"&&Bw.test(u)&&(g=u,$w))try{let y=new URL(window.location.href),P=u.startsWith("//")?new URL(y.protocol+u):new URL(u),F=M2(P.pathname,m);P.origin===y.origin&&F!=null?u=F+P.search+P.hash:S=!0}catch{}let A=vw(u,{relative:i}),v=jw(u,{replace:a,state:l,target:s,preventScrollReset:f,relative:i,unstable_viewTransition:h});function _(y){r&&r(y),y.defaultPrevented||v(y)}return O.createElement("a",dv({},c,{href:g||A,onClick:S||o?r:_,ref:n,target:s}))});var h3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h3||(h3={}));var p3;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p3||(p3={}));function jw(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,s=Fh(),u=Dh(),f=i8(e,{relative:a});return O.useCallback(h=>{if(Mw(h,n)){h.preventDefault();let c=r!==void 0?r:Qd(u)===Qd(f);s(e,{replace:c,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[u,s,f,r,i,n,e,o,a,l])}var l8={exports:{}},zw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gw=zw,Uw=Gw;function s8(){}function u8(){}u8.resetWarningCache=s8;var Vw=function(){function e(r,i,o,a,l,s){if(s!==Uw){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u8,resetWarningCache:s8};return n.PropTypes=n,n};l8.exports=Vw();var Hw=l8.exports;const Pe=Zc(Hw);Pe.object,Pe.bool,Pe.func,Pe.func,Pe.func;const W0="https://api.latentscope.com/api";function Ww(){const[e,t]=O.useState([]);O.useEffect(()=>{fetch(`${W0}/datasets`).then(f=>f.json()).then(f=>t(f))},[]);const[n,r]=O.useState({});O.useEffect(()=>{e.forEach(f=>{fetch(`${W0}/datasets/${f.id}/scopes`).then(h=>h.json()).then(h=>r(c=>{const m={...c};return m[f.id]=h,m}))})},[e]),O.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=O.useState(null);function a(f){let h=f.substring(0,f.lastIndexOf("."));return h=h.replace(/\s/g,"-"),h}O.useCallback(f=>{const h=f.target.files[0].name,c=a(h),m=e.some(g=>g.id===c);console.log("is name taken?",m,c,e),u(!!m),document.getElementById("dataset-name").value=c},[e]);const l=Fh();O.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){l(`/datasets/${i.dataset}/setup`)},1e3)},[i,l]);const[s,u]=O.useState(!1);return M.jsxs("div",{className:"home",children:[null,M.jsxs("div",{className:"section datasets",children:[M.jsx("h3",{children:"Datasets"}),M.jsx("div",{className:"datasets-content",children:e.map(f=>{var h;return M.jsxs("div",{className:"dataset",children:[M.jsxs("h3",{children:[" ",f.id," ",null]}),M.jsxs("span",{children:[f.length," rows"]}),M.jsx("div",{className:"scope-links",children:n[f.id]&&n[f.id].map&&((h=n[f.id])==null?void 0:h.map((c,m)=>M.jsxs("div",{className:"scope-link",children:[M.jsxs(jc,{to:`/datasets/${f.id}/explore/${c.id}`,children:[c.label||c.id,M.jsx("br",{}),c.ignore_hulls?M.jsx("img",{src:`${W0}/files/${f.id}/umaps/${c.umap_id}.png`}):M.jsx("img",{src:`${W0}/files/${f.id}/clusters/${c.cluster_id}.png`})]}),M.jsx("br",{}),M.jsx("span",{className:"scope-description",children:c.description}),M.jsx("br",{}),null,null]},m)))})]},f.id)})})]})]})}const Xw="_settings_rf3gr_2",Yw="_header_rf3gr_5",Hi={settings:Xw,header:Yw,"dot-env":"_dot-env_rf3gr_14","data-dir":"_data-dir_rf3gr_17","api-keys":"_api-keys_rf3gr_21","api-key":"_api-key_rf3gr_21","key-text":"_key-text_rf3gr_34","api-key-input":"_api-key-input_rf3gr_39"},qw="https://api.latentscope.com/api",Qw=()=>{var o;const[e,t]=O.useState({}),[n,r]=O.useState(0);O.useEffect(()=>{fetch(`${qw}/settings`).then(a=>a.json()).then(a=>{t(a),console.log("settings data",a)}).catch(a=>console.error("Error fetching settings:",a))},[n]);const i=O.useCallback((a,l)=>{l.preventDefault(),l.target.elements[0].value,console.error("Settings are read-only")},[n]);return M.jsxs("div",{className:Hi.settings,children:[M.jsx("h2",{className:Hi.header,children:"Settings"}),M.jsxs("div",{className:Hi["dot-env"],children:["Settings are stored in the following ",M.jsx("code",{children:".env"})," file:",M.jsx("br",{}),M.jsx("code",{children:e.env_file})]}),M.jsxs("div",{className:Hi["data-dir"],children:["All data is stored in the following directory:",M.jsx("br",{}),M.jsx("code",{children:e.data_dir}),M.jsx("br",{}),"As set in the environment variable ",M.jsx("code",{children:"LATENT_SCOPE_DATA"})]}),M.jsxs("div",{className:Hi["api-keys"],children:[M.jsx("b",{children:"The following API keys are available for use:"}),(o=e.supported_api_keys)==null?void 0:o.map(a=>M.jsxs("span",{className:Hi["api-key"],children:[e.api_keys.indexOf(a)>=0?M.jsx("span",{className:Hi["api-key-status"],children:""}):M.jsx("span",{className:Hi["api-key-status"],children:""}),"",M.jsx("span",{className:Hi["key-text"],children:a}),M.jsxs("form",{onSubmit:l=>i(a,l),children:[M.jsx("input",{type:"password",className:Hi["api-key-input"]}),M.jsx("button",{children:e.api_keys.indexOf(a)>=0?"Update":"Save"})]})]},a))]})]})},m3="https://api.latentscope.com/api";c8.propTypes={data:Pe.array.isRequired,tagset:Pe.object,dataset:Pe.object,maxRows:Pe.number,onTagset:Pe.func,onHover:Pe.func,onClick:Pe.func};function c8({data:e,tagset:t,dataset:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return M.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(h,c){console.log("tag",h),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[h]),t[h].includes(c)?(console.log("removing"),fetch(`${m3}/tags/remove?dataset=${n==null?void 0:n.id}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("removed",m),i(m)})):(console.log("adding"),fetch(`${m3}/tags/add?dataset=${n==null?void 0:n.id}&tag=${h}&index=${c}`).then(m=>m.json()).then(m=>{console.log("added",m),i(m)}))}t&&(s=Object.keys(t));const f=r?e.slice(0,r):e;return M.jsxs(M.Fragment,{children:[M.jsxs("table",{className:"datatable",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[l.map((h,c)=>M.jsx("th",{children:h},c)),s?M.jsx("th",{children:"tags"}):null]})}),M.jsx("tbody",{children:f.map((h,c)=>M.jsxs("tr",{onMouseEnter:()=>o&&o(h.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(h.index),children:[l.map((m,g)=>{let S=h[m];typeof S=="object"&&!Array.isArray(S)&&(S=JSON.stringify(S));let A=(n==null?void 0:n.column_metadata)&&(n==null?void 0:n.column_metadata[m]);return A&&A.image?M.jsx("td",{children:M.jsx("img",{src:S,alt:m,height:64})},g):A&&A.url?M.jsx("td",{children:M.jsx("a",{href:S,children:"url"})},g):A&&A.type=="array"?M.jsxs("td",{children:["[",S.length,"]"]},g):M.jsx("td",{children:S},g)}),s?M.jsx("td",{children:s.map((m,g)=>M.jsx("button",{onClick:S=>{u(m,h.index),S.preventDefault(),S.stopPropagation()},className:t[m].includes(h.index)?"tag-active":"tag-inactive",children:m},g))}):null]},c))})]}),r&&e.length>r?M.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const Kw="https://api.latentscope.com/api";al.propTypes={dataset:Pe.object.isRequired,indices:Pe.array.isRequired,distances:Pe.array,clusterIndices:Pe.array,clusterLabels:Pe.array,maxRows:Pe.number,tagset:Pe.object,onHover:Pe.func,onClick:Pe.func,onTagset:Pe.func};function al({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:s,onTagset:u}){const[f,h]=O.useState([]),c=O.useCallback(m=>{e&&fetch(`${Kw}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:m})}).then(g=>g.json()).then(g=>{let S=g.map((A,v)=>{let _=m[v],y={index:_,...A};return n&&n.length&&(y.distance=n[v]),r&&r.length&&i&&i.length&&(y.cluster=i[r[_].cluster].label),y});h(S)})},[e,n,r,i]);return O.useEffect(()=>{t&&t.length&&c(t)},[t]),M.jsx("div",{children:M.jsx(c8,{data:f,tagset:a,dataset:e,maxRows:o,onTagset:u,onHover:l,onClick:s})})}Pe.object.isRequired,Pe.array.isRequired,Pe.array,Pe.array,Pe.array,Pe.string,Pe.number,Pe.object,Pe.func,Pe.func,Pe.func;Pe.object.isRequired,Pe.object.isRequired;Pe.oneOfType([Pe.string,Pe.number]).isRequired,Pe.func.isRequired,Pe.number,Pe.object;const f8=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),F2=(e,t)=>t?e.toLowerCase():e,d8=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=F2(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},$2=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=F2(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},v3=(e,t)=>()=>{e.forEach(n=>n(t))},h8=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=$2(e);return(o,a,l={})=>{const s=F2(o,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((f,h)=>{--e.__times__[s][h]<1&&i(s,f)}),r||l.async?setTimeout(v3(u,a),0):v3(u,a)(),t&&!l.isNoGlobalBroadcast)try{f8.postMessage({event:s,news:a})}catch(f){if(f instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw f}}},Zw=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},p8=()=>({__times__:{}}),Jw=({async:e=!1,caseInsensitive:t=!1,stack:n=p8()}={})=>(n.__times__||(n.__times__={}),{publish:h8(n,{async:e,caseInsensitive:t}),subscribe:d8(n,{caseInsensitive:t}),unsubscribe:$2(n,{caseInsensitive:t}),clear:Zw(n),stack:n}),X0=p8(),eE={publish:h8(X0,{isGlobal:!0}),subscribe:d8(X0),unsubscribe:$2(X0),stack:X0};f8.onmessage=({data:{event:e,news:t}})=>eE.publish(e,t,{isNoGlobalBroadcast:!0});var m8={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(g7,function(){var n=function(p){return p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float32Array||p instanceof Float64Array||p instanceof Uint8ClampedArray},r=function(p,E){for(var k=Object.keys(E),Q=0;Q<k.length;++Q)p[k[Q]]=E[k[Q]];return p},i=`
`;function o(p){return typeof atob<"u"?atob(p):"base64:"+p}function a(p){var E=new Error("(regl) "+p);throw console.error(E),E}function l(p,E){p||a(E)}function s(p){return p?": "+p:""}function u(p,E,k){p in E||a("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(E).join())}function f(p,E){n(p)||a("invalid parameter type"+s(E)+". must be a typed array")}function h(p,E){switch(E){case"number":return typeof p=="number";case"object":return typeof p=="object";case"string":return typeof p=="string";case"boolean":return typeof p=="boolean";case"function":return typeof p=="function";case"undefined":return typeof p>"u";case"symbol":return typeof p=="symbol"}}function c(p,E,k){h(p,E)||a("invalid parameter type"+s(k)+". expected "+E+", got "+typeof p)}function m(p,E){p>=0&&(p|0)===p||a("invalid parameter type, ("+p+")"+s(E)+". must be a nonnegative integer")}function g(p,E,k){E.indexOf(p)<0&&a("invalid value"+s(k)+". must be one of: "+E)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function A(p){Object.keys(p).forEach(function(E){S.indexOf(E)<0&&a('invalid regl constructor argument "'+E+'". must be one of '+S)})}function v(p,E){for(p=p+"";p.length<E;)p=" "+p;return p}function _(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(p,E){this.number=p,this.line=E,this.errors=[]}function P(p,E,k){this.file=p,this.line=E,this.message=k}function F(){var p=new Error,E=(p.stack||p).toString(),k=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(E);if(k)return k[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(E);return Q?Q[1]:"unknown"}function H(){var p=new Error,E=(p.stack||p).toString(),k=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(E);if(k)return k[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(E);return Q?Q[1]:"unknown"}function te(p,E){var k=p.split(`
`),Q=1,oe=0,q={unknown:new _,0:new _};q.unknown.name=q[0].name=E||F(),q.unknown.lines.push(new y(0,""));for(var ee=0;ee<k.length;++ee){var me=k[ee],pe=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(me);if(pe)switch(pe[1]){case"line":var we=/(\d+)(\s+\d+)?/.exec(pe[2]);we&&(Q=we[1]|0,we[2]&&(oe=we[2]|0,oe in q||(q[oe]=new _)));break;case"define":var Se=/SHADER_NAME(_B64)?\s+(.*)$/.exec(pe[2]);Se&&(q[oe].name=Se[1]?o(Se[2]):Se[2]);break}q[oe].lines.push(new y(Q++,me))}return Object.keys(q).forEach(function(Ee){var Oe=q[Ee];Oe.lines.forEach(function(ge){Oe.index[ge.number]=ge})}),q}function K(p){var E=[];return p.split(`
`).forEach(function(k){if(!(k.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(k);Q?E.push(new P(Q[1]|0,Q[2]|0,Q[3].trim())):k.length>0&&E.push(new P("unknown",0,k))}}),E}function Ye(p,E){E.forEach(function(k){var Q=p[k.file];if(Q){var oe=Q.index[k.line];if(oe){oe.errors.push(k),Q.hasErrors=!0;return}}p.unknown.hasErrors=!0,p.unknown.lines[0].errors.push(k)})}function de(p,E,k,Q,oe){if(!p.getShaderParameter(E,p.COMPILE_STATUS)){var q=p.getShaderInfoLog(E),ee=Q===p.FRAGMENT_SHADER?"fragment":"vertex";at(k,"string",ee+" shader source must be a string",oe);var me=te(k,oe),pe=K(q);Ye(me,pe),Object.keys(me).forEach(function(we){var Se=me[we];if(!Se.hasErrors)return;var Ee=[""],Oe=[""];function ge(_e,z){Ee.push(_e),Oe.push(z||"")}ge("file number "+we+": "+Se.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Se.lines.forEach(function(_e){if(_e.errors.length>0){ge(v(_e.number,4)+"|  ","background-color:yellow; font-weight:bold"),ge(_e.line+i,"color:red; background-color:yellow; font-weight:bold");var z=0;_e.errors.forEach(function(J){var xe=J.message,Xe=/^\s*'(.*)'\s*:\s*(.*)$/.exec(xe);if(Xe){var fe=Xe[1];switch(xe=Xe[2],fe){case"assign":fe="=";break}z=Math.max(_e.line.indexOf(fe,z),0)}else z=0;ge(v("| ",6)),ge(v("^^^",z+3)+i,"font-weight:bold"),ge(v("| ",6)),ge(xe+i,"font-weight:bold")}),ge(v("| ",6)+i)}else ge(v(_e.number,4)+"|  "),ge(_e.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Oe[0]=Ee.join("%c"),console.log.apply(console,Oe)):console.log(Ee.join(""))}),l.raise("Error compiling "+ee+" shader, "+me[0].name)}}function Ce(p,E,k,Q,oe){if(!p.getProgramParameter(E,p.LINK_STATUS)){var q=p.getProgramInfoLog(E),ee=te(k,oe),me=te(Q,oe),pe='Error linking program with vertex shader, "'+me[0].name+'", and fragment shader "'+ee[0].name+'"';typeof document<"u"?console.log("%c"+pe+i+"%c"+q,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(pe+i+q),l.raise(pe)}}function ze(p){p._commandRef=F()}function Je(p,E,k,Q){ze(p);function oe(pe){return pe?Q.id(pe):0}p._fragId=oe(p.static.frag),p._vertId=oe(p.static.vert);function q(pe,we){Object.keys(we).forEach(function(Se){pe[Q.id(Se)]=!0})}var ee=p._uniformSet={};q(ee,E.static),q(ee,E.dynamic);var me=p._attributeSet={};q(me,k.static),q(me,k.dynamic),p._hasCount="count"in p.static||"count"in p.dynamic||"elements"in p.static||"elements"in p.dynamic}function be(p,E){var k=H();a(p+" in command "+(E||F())+(k==="unknown"?"":" called from "+k))}function Rt(p,E,k){p||be(E,k||F())}function it(p,E,k,Q){p in E||be("unknown parameter ("+p+")"+s(k)+". possible values: "+Object.keys(E).join(),Q||F())}function at(p,E,k,Q){h(p,E)||be("invalid parameter type"+s(k)+". expected "+E+", got "+typeof p,Q||F())}function ve(p){p()}function Re(p,E,k){p.texture?g(p.texture._texture.internalformat,E,"unsupported texture format for attachment"):g(p.renderbuffer._renderbuffer.format,k,"unsupported renderbuffer format for attachment")}var Ae=33071,Te=9728,De=9984,kt=9985,Mt=9986,Zt=9987,Ot=5120,It=5121,Bt=5122,Ct=5123,rn=5124,fn=5125,Dt=5126,Jt=32819,ot=32820,Lt=33635,St=34042,bt=36193,st={};st[Ot]=st[It]=1,st[Bt]=st[Ct]=st[bt]=st[Lt]=st[Jt]=st[ot]=2,st[rn]=st[fn]=st[Dt]=st[St]=4;function Xt(p,E){return p===ot||p===Jt||p===Lt?2:p===St?4:st[p]*E}function Gt(p){return!(p&p-1)&&!!p}function sn(p,E,k){var Q,oe=E.width,q=E.height,ee=E.channels;l(oe>0&&oe<=k.maxTextureSize&&q>0&&q<=k.maxTextureSize,"invalid texture shape"),(p.wrapS!==Ae||p.wrapT!==Ae)&&l(Gt(oe)&&Gt(q),"incompatible wrap mode for texture, both width and height must be power of 2"),E.mipmask===1?oe!==1&&q!==1&&l(p.minFilter!==De&&p.minFilter!==Mt&&p.minFilter!==kt&&p.minFilter!==Zt,"min filter requires mipmap"):(l(Gt(oe)&&Gt(q),"texture must be a square power of 2 to support mipmapping"),l(E.mipmask===(oe<<1)-1,"missing or incomplete mipmap data")),E.type===Dt&&(k.extensions.indexOf("oes_texture_float_linear")<0&&l(p.minFilter===Te&&p.magFilter===Te,"filter not supported, must enable oes_texture_float_linear"),l(!p.genMipmaps,"mipmap generation not supported with float textures"));var me=E.images;for(Q=0;Q<16;++Q)if(me[Q]){var pe=oe>>Q,we=q>>Q;l(E.mipmask&1<<Q,"missing mipmap data");var Se=me[Q];if(l(Se.width===pe&&Se.height===we,"invalid shape for mip images"),l(Se.format===E.format&&Se.internalformat===E.internalformat&&Se.type===E.type,"incompatible type for mip image"),!Se.compressed)if(Se.data){var Ee=Math.ceil(Xt(Se.type,ee)*pe/Se.unpackAlignment)*Se.unpackAlignment;l(Se.data.byteLength===Ee*we,"invalid data for image, buffer size is inconsistent with image format")}else Se.element||Se.copy}else p.genMipmaps||l((E.mipmask&1<<Q)===0,"extra mipmap data");E.compressed&&l(!p.genMipmaps,"mipmap generation for compressed images not supported")}function Qn(p,E,k,Q){var oe=p.width,q=p.height,ee=p.channels;l(oe>0&&oe<=Q.maxTextureSize&&q>0&&q<=Q.maxTextureSize,"invalid texture shape"),l(oe===q,"cube map must be square"),l(E.wrapS===Ae&&E.wrapT===Ae,"wrap mode not supported by cube map");for(var me=0;me<k.length;++me){var pe=k[me];l(pe.width===oe&&pe.height===q,"inconsistent cube map face shape"),E.genMipmaps&&(l(!pe.compressed,"can not generate mipmap for compressed textures"),l(pe.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var we=pe.images,Se=0;Se<16;++Se){var Ee=we[Se];if(Ee){var Oe=oe>>Se,ge=q>>Se;l(pe.mipmask&1<<Se,"missing mipmap data"),l(Ee.width===Oe&&Ee.height===ge,"invalid shape for mip images"),l(Ee.format===p.format&&Ee.internalformat===p.internalformat&&Ee.type===p.type,"incompatible type for mip image"),Ee.compressed||(Ee.data?l(Ee.data.byteLength===Oe*ge*Math.max(Xt(Ee.type,ee),Ee.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ee.element||Ee.copy)}}}}var w=r(l,{optional:ve,raise:a,commandRaise:be,command:Rt,parameter:u,commandParameter:it,constructor:A,type:c,commandType:at,isTypedArray:f,nni:m,oneOf:g,shaderError:de,linkError:Ce,callSite:H,saveCommandRef:ze,saveDrawInfo:Je,framebufferFormat:Re,guessCommand:F,texture2D:sn,textureCube:Qn}),he=0,We=0,ue=5,dt=6;function ht(p,E){this.id=he++,this.type=p,this.data=E}function Le(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Pt(p){if(p.length===0)return[];var E=p.charAt(0),k=p.charAt(p.length-1);if(p.length>1&&E===k&&(E==='"'||E==="'"))return['"'+Le(p.substr(1,p.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(p);if(Q)return Pt(p.substr(0,Q.index)).concat(Pt(Q[1])).concat(Pt(p.substr(Q.index+Q[0].length)));var oe=p.split(".");if(oe.length===1)return['"'+Le(p)+'"'];for(var q=[],ee=0;ee<oe.length;++ee)q=q.concat(Pt(oe[ee]));return q}function Ht(p){return"["+Pt(p).join("][")+"]"}function ut(p,E){return new ht(p,Ht(E+""))}function jt(p){return typeof p=="function"&&!p._reglType||p instanceof ht}function xt(p,E){if(typeof p=="function")return new ht(We,p);if(typeof p=="number"||typeof p=="boolean")return new ht(ue,p);if(Array.isArray(p))return new ht(dt,p.map(function(k,Q){return xt(k,E+"["+Q+"]")}));if(p instanceof ht)return p;w(!1,"invalid option type in uniform "+E)}var $t={DynamicVariable:ht,define:ut,isDynamic:jt,unbox:xt,accessor:Ht},dn={next:typeof requestAnimationFrame=="function"?function(p){return requestAnimationFrame(p)}:function(p){return setTimeout(p,16)},cancel:typeof cancelAnimationFrame=="function"?function(p){return cancelAnimationFrame(p)}:clearTimeout},hn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Gn(){var p={"":0},E=[""];return{id:function(k){var Q=p[k];return Q||(Q=p[k]=E.length,E.push(k),Q)},str:function(k){return E[k]}}}function In(p,E,k){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),p.appendChild(Q),p===document.body&&(Q.style.position="absolute",r(p.style,{margin:0,padding:0}));function oe(){var me=window.innerWidth,pe=window.innerHeight;if(p!==document.body){var we=Q.getBoundingClientRect();me=we.right-we.left,pe=we.bottom-we.top}Q.width=k*me,Q.height=k*pe}var q;p!==document.body&&typeof ResizeObserver=="function"?(q=new ResizeObserver(function(){setTimeout(oe)}),q.observe(p)):window.addEventListener("resize",oe,!1);function ee(){q?q.disconnect():window.removeEventListener("resize",oe),p.removeChild(Q)}return oe(),{canvas:Q,onDestroy:ee}}function Un(p,E){function k(Q){try{return p.getContext(Q,E)}catch{return null}}return k("webgl")||k("experimental-webgl")||k("webgl-experimental")}function cn(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function Er(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function gn(p){return typeof p=="string"?p.split():(w(Array.isArray(p),"invalid extension array"),p)}function Dn(p){return typeof p=="string"?(w(typeof document<"u","not supported outside of DOM"),document.querySelector(p)):p}function U(p){var E=p||{},k,Q,oe,q,ee={},me=[],pe=[],we=typeof window>"u"?1:window.devicePixelRatio,Se=!1,Ee=function(_e){_e&&w.raise(_e)},Oe=function(){};if(typeof E=="string"?(w(typeof document<"u","selector queries only supported in DOM enviroments"),k=document.querySelector(E),w(k,"invalid query string for element")):typeof E=="object"?cn(E)?k=E:Er(E)?(q=E,oe=q.canvas):(w.constructor(E),"gl"in E?q=E.gl:"canvas"in E?oe=Dn(E.canvas):"container"in E&&(Q=Dn(E.container)),"attributes"in E&&(ee=E.attributes,w.type(ee,"object","invalid context attributes")),"extensions"in E&&(me=gn(E.extensions)),"optionalExtensions"in E&&(pe=gn(E.optionalExtensions)),"onDone"in E&&(w.type(E.onDone,"function","invalid or missing onDone callback"),Ee=E.onDone),"profile"in E&&(Se=!!E.profile),"pixelRatio"in E&&(we=+E.pixelRatio,w(we>0,"invalid pixel ratio"))):w.raise("invalid arguments to regl"),k&&(k.nodeName.toLowerCase()==="canvas"?oe=k:Q=k),!q){if(!oe){w(typeof document<"u","must manually specify webgl context outside of DOM environments");var ge=In(Q||document.body,Ee,we);if(!ge)return null;oe=ge.canvas,Oe=ge.onDestroy}ee.premultipliedAlpha===void 0&&(ee.premultipliedAlpha=!0),q=Un(oe,ee)}return q?{gl:q,canvas:oe,container:Q,extensions:me,optionalExtensions:pe,pixelRatio:we,profile:Se,onDone:Ee,onDestroy:Oe}:(Oe(),Ee("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ue(p,E){var k={};function Q(ee){w.type(ee,"string","extension name must be string");var me=ee.toLowerCase(),pe;try{pe=k[me]=p.getExtension(me)}catch{}return!!pe}for(var oe=0;oe<E.extensions.length;++oe){var q=E.extensions[oe];if(!Q(q))return E.onDestroy(),E.onDone('"'+q+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return E.optionalExtensions.forEach(Q),{extensions:k,restore:function(){Object.keys(k).forEach(function(ee){if(k[ee]&&!Q(ee))throw new Error("(regl): error restoring extension "+ee)})}}}function mt(p,E){for(var k=Array(p),Q=0;Q<p;++Q)k[Q]=E(Q);return k}var Yt=5120,Ve=5121,vt=5122,wt=5123,yn=5124,An=5125,tr=5126;function sr(p){for(var E=16;E<=1<<28;E*=16)if(p<=E)return E;return 0}function bn(p){var E,k;return E=(p>65535)<<4,p>>>=E,k=(p>255)<<3,p>>>=k,E|=k,k=(p>15)<<2,p>>>=k,E|=k,k=(p>3)<<1,p>>>=k,E|=k,E|p>>1}function nr(){var p=mt(8,function(){return[]});function E(q){var ee=sr(q),me=p[bn(ee)>>2];return me.length>0?me.pop():new ArrayBuffer(ee)}function k(q){p[bn(q.byteLength)>>2].push(q)}function Q(q,ee){var me=null;switch(q){case Yt:me=new Int8Array(E(ee),0,ee);break;case Ve:me=new Uint8Array(E(ee),0,ee);break;case vt:me=new Int16Array(E(2*ee),0,ee);break;case wt:me=new Uint16Array(E(2*ee),0,ee);break;case yn:me=new Int32Array(E(4*ee),0,ee);break;case An:me=new Uint32Array(E(4*ee),0,ee);break;case tr:me=new Float32Array(E(4*ee),0,ee);break;default:return null}return me.length!==ee?me.subarray(0,ee):me}function oe(q){k(q.buffer)}return{alloc:E,free:k,allocType:Q,freeType:oe}}var rt=nr();rt.zero=nr();var Sr=3408,ko=3410,La=3411,zr=3412,Gr=3413,Ur=3414,un=3415,Cn=33901,to=33902,Vr=3379,Ra=3386,xi=34921,Ll=36347,Rl=36348,kl=35661,Ol=35660,no=34930,ka=36349,eu=34076,tu=34024,ff=7936,Oo=7937,Po=7938,Pl=35724,No=34047,nu=36063,Or=34852,Di=3553,Fi=34067,ro=34069,Kn=33984,ai=6408,rr=5126,Fn=5121,Mo=36160,Nl=36053,Ml=36064,Il=16384,df=function(p,E){var k=1;E.ext_texture_filter_anisotropic&&(k=p.getParameter(No));var Q=1,oe=1;E.webgl_draw_buffers&&(Q=p.getParameter(Or),oe=p.getParameter(nu));var q=!!E.oes_texture_float;if(q){var ee=p.createTexture();p.bindTexture(Di,ee),p.texImage2D(Di,0,ai,1,1,0,ai,rr,null);var me=p.createFramebuffer();if(p.bindFramebuffer(Mo,me),p.framebufferTexture2D(Mo,Ml,Di,ee,0),p.bindTexture(Di,null),p.checkFramebufferStatus(Mo)!==Nl)q=!1;else{p.viewport(0,0,1,1),p.clearColor(1,0,0,1),p.clear(Il);var pe=rt.allocType(rr,4);p.readPixels(0,0,1,1,ai,rr,pe),p.getError()?q=!1:(p.deleteFramebuffer(me),p.deleteTexture(ee),q=pe[0]===1),rt.freeType(pe)}}var we=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Se=!0;if(!we){var Ee=p.createTexture(),Oe=rt.allocType(Fn,36);p.activeTexture(Kn),p.bindTexture(Fi,Ee),p.texImage2D(ro,0,ai,3,3,0,ai,Fn,Oe),rt.freeType(Oe),p.bindTexture(Fi,null),p.deleteTexture(Ee),Se=!p.getError()}return{colorBits:[p.getParameter(ko),p.getParameter(La),p.getParameter(zr),p.getParameter(Gr)],depthBits:p.getParameter(Ur),stencilBits:p.getParameter(un),subpixelBits:p.getParameter(Sr),extensions:Object.keys(E).filter(function(ge){return!!E[ge]}),maxAnisotropic:k,maxDrawbuffers:Q,maxColorAttachments:oe,pointSizeDims:p.getParameter(Cn),lineWidthDims:p.getParameter(to),maxViewportDims:p.getParameter(Ra),maxCombinedTextureUnits:p.getParameter(kl),maxCubeMapSize:p.getParameter(eu),maxRenderbufferSize:p.getParameter(tu),maxTextureUnits:p.getParameter(no),maxTextureSize:p.getParameter(Vr),maxAttributes:p.getParameter(xi),maxVertexUniforms:p.getParameter(Ll),maxVertexTextureUnits:p.getParameter(Ol),maxVaryingVectors:p.getParameter(Rl),maxFragmentUniforms:p.getParameter(ka),glsl:p.getParameter(Pl),renderer:p.getParameter(Oo),vendor:p.getParameter(ff),version:p.getParameter(Po),readFloat:q,npotTextureCube:Se}};function Pr(p){return!!p&&typeof p=="object"&&Array.isArray(p.shape)&&Array.isArray(p.stride)&&typeof p.offset=="number"&&p.shape.length===p.stride.length&&(Array.isArray(p.data)||n(p.data))}var br=function(p){return Object.keys(p).map(function(E){return p[E]})},Hr={shape:e1,flatten:Jh};function hf(p,E,k){for(var Q=0;Q<E;++Q)k[Q]=p[Q]}function ru(p,E,k,Q){for(var oe=0,q=0;q<E;++q)for(var ee=p[q],me=0;me<k;++me)Q[oe++]=ee[me]}function Dl(p,E,k,Q,oe,q){for(var ee=q,me=0;me<E;++me)for(var pe=p[me],we=0;we<k;++we)for(var Se=pe[we],Ee=0;Ee<Q;++Ee)oe[ee++]=Se[Ee]}function iu(p,E,k,Q,oe){for(var q=1,ee=k+1;ee<E.length;++ee)q*=E[ee];var me=E[k];if(E.length-k===4){var pe=E[k+1],we=E[k+2],Se=E[k+3];for(ee=0;ee<me;++ee)Dl(p[ee],pe,we,Se,Q,oe),oe+=q}else for(ee=0;ee<me;++ee)iu(p[ee],E,k+1,Q,oe),oe+=q}function Jh(p,E,k,Q){var oe=1;if(E.length)for(var q=0;q<E.length;++q)oe*=E[q];else oe=0;var ee=Q||rt.allocType(k,oe);switch(E.length){case 0:break;case 1:hf(p,E[0],ee);break;case 2:ru(p,E[0],E[1],ee);break;case 3:Dl(p,E[0],E[1],E[2],ee,0);break;default:iu(p,E,0,ee,0)}return ee}function e1(p){for(var E=[],k=p;k.length;k=k[0])E.push(k.length);return E}var Io={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Oa=5120,io=5122,Fl=5124,t1=5121,$l=5123,Do=5125,Pa=5126,ou=5126,Fo={int8:Oa,int16:io,int32:Fl,uint8:t1,uint16:$l,uint32:Do,float:Pa,float32:ou},pg=35048,Vn=35040,Bl={dynamic:pg,stream:Vn,static:35044},Na=Hr.flatten,pf=Hr.shape,au=35044,lu=35040,jl=5121,zl=5126,_i=[];_i[5120]=1,_i[5122]=2,_i[5124]=4,_i[5121]=1,_i[5123]=2,_i[5125]=4,_i[5126]=4;function Ma(p){return Io[Object.prototype.toString.call(p)]|0}function Gl(p,E){for(var k=0;k<E.length;++k)p[k]=E[k]}function su(p,E,k,Q,oe,q,ee){for(var me=0,pe=0;pe<k;++pe)for(var we=0;we<Q;++we)p[me++]=E[oe*pe+q*we+ee]}function uu(p,E,k,Q){var oe=0,q={};function ee(z){this.id=oe++,this.buffer=p.createBuffer(),this.type=z,this.usage=au,this.byteLength=0,this.dimension=1,this.dtype=jl,this.persistentData=null,k.profile&&(this.stats={size:0})}ee.prototype.bind=function(){p.bindBuffer(this.type,this.buffer)},ee.prototype.destroy=function(){Oe(this)};var me=[];function pe(z,J){var xe=me.pop();return xe||(xe=new ee(z)),xe.bind(),Ee(xe,J,lu,0,1,!1),xe}function we(z){me.push(z)}function Se(z,J,xe){z.byteLength=J.byteLength,p.bufferData(z.type,J,xe)}function Ee(z,J,xe,Xe,fe,Ge){var $e;if(z.usage=xe,Array.isArray(J)){if(z.dtype=Xe||zl,J.length>0){var ct;if(Array.isArray(J[0])){$e=pf(J);for(var ae=1,ie=1;ie<$e.length;++ie)ae*=$e[ie];z.dimension=ae,ct=Na(J,$e,z.dtype),Se(z,ct,xe),Ge?z.persistentData=ct:rt.freeType(ct)}else if(typeof J[0]=="number"){z.dimension=fe;var Ze=rt.allocType(z.dtype,J.length);Gl(Ze,J),Se(z,Ze,xe),Ge?z.persistentData=Ze:rt.freeType(Ze)}else n(J[0])?(z.dimension=J[0].length,z.dtype=Xe||Ma(J[0])||zl,ct=Na(J,[J.length,J[0].length],z.dtype),Se(z,ct,xe),Ge?z.persistentData=ct:rt.freeType(ct)):w.raise("invalid buffer data")}}else if(n(J))z.dtype=Xe||Ma(J),z.dimension=fe,Se(z,J,xe),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(J.buffer)));else if(Pr(J)){$e=J.shape;var Me=J.stride,ye=J.offset,Ie=0,Fe=0,Tt=0,Et=0;$e.length===1?(Ie=$e[0],Fe=1,Tt=Me[0],Et=0):$e.length===2?(Ie=$e[0],Fe=$e[1],Tt=Me[0],Et=Me[1]):w.raise("invalid shape"),z.dtype=Xe||Ma(J.data)||zl,z.dimension=Fe;var Be=rt.allocType(z.dtype,Ie*Fe);su(Be,J.data,Ie,Fe,Tt,Et,ye),Se(z,Be,xe),Ge?z.persistentData=Be:rt.freeType(Be)}else J instanceof ArrayBuffer?(z.dtype=jl,z.dimension=fe,Se(z,J,xe),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(J)))):w.raise("invalid buffer data")}function Oe(z){E.bufferCount--,Q(z);var J=z.buffer;w(J,"buffer must not be deleted already"),p.deleteBuffer(J),z.buffer=null,delete q[z.id]}function ge(z,J,xe,Xe){E.bufferCount++;var fe=new ee(J);q[fe.id]=fe;function Ge(ae){var ie=au,Ze=null,Me=0,ye=0,Ie=1;return Array.isArray(ae)||n(ae)||Pr(ae)||ae instanceof ArrayBuffer?Ze=ae:typeof ae=="number"?Me=ae|0:ae&&(w.type(ae,"object","buffer arguments must be an object, a number or an array"),"data"in ae&&(w(Ze===null||Array.isArray(Ze)||n(Ze)||Pr(Ze),"invalid data for buffer"),Ze=ae.data),"usage"in ae&&(w.parameter(ae.usage,Bl,"invalid buffer usage"),ie=Bl[ae.usage]),"type"in ae&&(w.parameter(ae.type,Fo,"invalid buffer type"),ye=Fo[ae.type]),"dimension"in ae&&(w.type(ae.dimension,"number","invalid dimension"),Ie=ae.dimension|0),"length"in ae&&(w.nni(Me,"buffer length must be a nonnegative integer"),Me=ae.length|0)),fe.bind(),Ze?Ee(fe,Ze,ie,ye,Ie,Xe):(Me&&p.bufferData(fe.type,Me,ie),fe.dtype=ye||jl,fe.usage=ie,fe.dimension=Ie,fe.byteLength=Me),k.profile&&(fe.stats.size=fe.byteLength*_i[fe.dtype]),Ge}function $e(ae,ie){w(ie+ae.byteLength<=fe.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ae.byteLength+" starting from offset "+ie+" to a buffer of size "+fe.byteLength),p.bufferSubData(fe.type,ie,ae)}function ct(ae,ie){var Ze=(ie||0)|0,Me;if(fe.bind(),n(ae)||ae instanceof ArrayBuffer)$e(ae,Ze);else if(Array.isArray(ae)){if(ae.length>0)if(typeof ae[0]=="number"){var ye=rt.allocType(fe.dtype,ae.length);Gl(ye,ae),$e(ye,Ze),rt.freeType(ye)}else if(Array.isArray(ae[0])||n(ae[0])){Me=pf(ae);var Ie=Na(ae,Me,fe.dtype);$e(Ie,Ze),rt.freeType(Ie)}else w.raise("invalid buffer data")}else if(Pr(ae)){Me=ae.shape;var Fe=ae.stride,Tt=0,Et=0,Be=0,He=0;Me.length===1?(Tt=Me[0],Et=1,Be=Fe[0],He=0):Me.length===2?(Tt=Me[0],Et=Me[1],Be=Fe[0],He=Fe[1]):w.raise("invalid shape");var gt=Array.isArray(ae.data)?fe.dtype:Ma(ae.data),At=rt.allocType(gt,Tt*Et);su(At,ae.data,Tt,Et,Be,He,ae.offset),$e(At,Ze),rt.freeType(At)}else w.raise("invalid data for buffer subdata");return Ge}return xe||Ge(z),Ge._reglType="buffer",Ge._buffer=fe,Ge.subdata=ct,k.profile&&(Ge.stats=fe.stats),Ge.destroy=function(){Oe(fe)},Ge}function _e(){br(q).forEach(function(z){z.buffer=p.createBuffer(),p.bindBuffer(z.type,z.buffer),p.bufferData(z.type,z.persistentData||z.byteLength,z.usage)})}return k.profile&&(E.getTotalBufferSize=function(){var z=0;return Object.keys(q).forEach(function(J){z+=q[J].stats.size}),z}),{create:ge,createStream:pe,destroyStream:we,clear:function(){br(q).forEach(Oe),me.forEach(Oe)},getBuffer:function(z){return z&&z._buffer instanceof ee?z._buffer:null},restore:_e,_initBuffer:Ee}}var n1=0,cu=0,r1=1,fu=1,i1=4,o1=4,$i={points:n1,point:cu,lines:r1,line:fu,triangles:i1,triangle:o1,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},a1=0,oo=1,ao=4,l1=5120,Bi=5121,mf=5122,$o=5123,vf=5124,wi=5125,du=34963,s1=35040,hu=35044;function pu(p,E,k,Q){var oe={},q=0,ee={uint8:Bi,uint16:$o};E.oes_element_index_uint&&(ee.uint32=wi);function me(_e){this.id=q++,oe[this.id]=this,this.buffer=_e,this.primType=ao,this.vertCount=0,this.type=0}me.prototype.bind=function(){this.buffer.bind()};var pe=[];function we(_e){var z=pe.pop();return z||(z=new me(k.create(null,du,!0,!1)._buffer)),Ee(z,_e,s1,-1,-1,0,0),z}function Se(_e){pe.push(_e)}function Ee(_e,z,J,xe,Xe,fe,Ge){_e.buffer.bind();var $e;if(z){var ct=Ge;!Ge&&(!n(z)||Pr(z)&&!n(z.data))&&(ct=E.oes_element_index_uint?wi:$o),k._initBuffer(_e.buffer,z,J,ct,3)}else p.bufferData(du,fe,J),_e.buffer.dtype=$e||Bi,_e.buffer.usage=J,_e.buffer.dimension=3,_e.buffer.byteLength=fe;if($e=Ge,!Ge){switch(_e.buffer.dtype){case Bi:case l1:$e=Bi;break;case $o:case mf:$e=$o;break;case wi:case vf:$e=wi;break;default:w.raise("unsupported type for element array")}_e.buffer.dtype=$e}_e.type=$e,w($e!==wi||!!E.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ae=Xe;ae<0&&(ae=_e.buffer.byteLength,$e===$o?ae>>=1:$e===wi&&(ae>>=2)),_e.vertCount=ae;var ie=xe;if(xe<0){ie=ao;var Ze=_e.buffer.dimension;Ze===1&&(ie=a1),Ze===2&&(ie=oo),Ze===3&&(ie=ao)}_e.primType=ie}function Oe(_e){Q.elementsCount--,w(_e.buffer!==null,"must not double destroy elements"),delete oe[_e.id],_e.buffer.destroy(),_e.buffer=null}function ge(_e,z){var J=k.create(null,du,!0),xe=new me(J._buffer);Q.elementsCount++;function Xe(fe){if(!fe)J(),xe.primType=ao,xe.vertCount=0,xe.type=Bi;else if(typeof fe=="number")J(fe),xe.primType=ao,xe.vertCount=fe|0,xe.type=Bi;else{var Ge=null,$e=hu,ct=-1,ae=-1,ie=0,Ze=0;Array.isArray(fe)||n(fe)||Pr(fe)?Ge=fe:(w.type(fe,"object","invalid arguments for elements"),"data"in fe&&(Ge=fe.data,w(Array.isArray(Ge)||n(Ge)||Pr(Ge),"invalid data for element buffer")),"usage"in fe&&(w.parameter(fe.usage,Bl,"invalid element buffer usage"),$e=Bl[fe.usage]),"primitive"in fe&&(w.parameter(fe.primitive,$i,"invalid element buffer primitive"),ct=$i[fe.primitive]),"count"in fe&&(w(typeof fe.count=="number"&&fe.count>=0,"invalid vertex count for elements"),ae=fe.count|0),"type"in fe&&(w.parameter(fe.type,ee,"invalid buffer type"),Ze=ee[fe.type]),"length"in fe?ie=fe.length|0:(ie=ae,Ze===$o||Ze===mf?ie*=2:(Ze===wi||Ze===vf)&&(ie*=4))),Ee(xe,Ge,$e,ct,ae,ie,Ze)}return Xe}return Xe(_e),Xe._reglType="elements",Xe._elements=xe,Xe.subdata=function(fe,Ge){return J.subdata(fe,Ge),Xe},Xe.destroy=function(){Oe(xe)},Xe}return{create:ge,createStream:we,destroyStream:Se,getElements:function(_e){return typeof _e=="function"&&_e._elements instanceof me?_e._elements:null},clear:function(){br(oe).forEach(Oe)}}}var gf=new Float32Array(1),u1=new Uint32Array(gf.buffer),c1=5123;function yf(p){for(var E=rt.allocType(c1,p.length),k=0;k<p.length;++k)if(isNaN(p[k]))E[k]=65535;else if(p[k]===1/0)E[k]=31744;else if(p[k]===-1/0)E[k]=64512;else{gf[0]=p[k];var Q=u1[0],oe=Q>>>31<<15,q=(Q<<1>>>24)-127,ee=Q>>13&1023;if(q<-24)E[k]=oe;else if(q<-14){var me=-14-q;E[k]=oe+(ee+1024>>me)}else q>15?E[k]=oe+31744:E[k]=oe+(q+15<<10)+ee}return E}function mn(p){return Array.isArray(p)||n(p)}var xf=function(p){return!(p&p-1)&&!!p},f1=34467,li=3553,mu=34067,Ul=34069,lo=6408,vu=6406,Vl=6407,so=6409,Hl=6410,_f=32854,gu=32855,yu=36194,d1=32819,h1=32820,p1=33635,wf=34042,Wl=6402,Ia=34041,Da=35904,Fa=35906,Bo=36193,uo=33776,xu=33777,_u=33778,wu=33779,Ef=35986,Sf=35987,bf=34798,Tf=35840,Af=35841,Cf=35842,Lf=35843,Rf=36196,jo=5121,Eu=5123,Su=5125,Wr=5126,m1=10242,v1=10243,g1=10497,bu=33071,y1=33648,x1=10240,_1=10241,Tu=9728,w1=9729,Xl=9984,Au=9985,kf=9986,Cu=9987,E1=33170,$a=4352,Of=4353,S1=4354,b1=34046,T1=3317,A1=37440,C1=37441,L1=37443,zo=37444,Ba=33984,Pf=[Xl,kf,Au,Cu],ja=[0,so,Hl,Vl,lo],Xr={};Xr[so]=Xr[vu]=Xr[Wl]=1,Xr[Ia]=Xr[Hl]=2,Xr[Vl]=Xr[Da]=3,Xr[lo]=Xr[Fa]=4;function Go(p){return"[object "+p+"]"}var Nf=Go("HTMLCanvasElement"),Mf=Go("OffscreenCanvas"),If=Go("CanvasRenderingContext2D"),Df=Go("ImageBitmap"),Ff=Go("HTMLImageElement"),Yl=Go("HTMLVideoElement"),R1=Object.keys(Io).concat([Nf,Mf,If,Df,Ff,Yl]),Uo=[];Uo[jo]=1,Uo[Wr]=4,Uo[Bo]=2,Uo[Eu]=2,Uo[Su]=4;var Hn=[];Hn[_f]=2,Hn[gu]=2,Hn[yu]=2,Hn[Ia]=4,Hn[uo]=.5,Hn[xu]=.5,Hn[_u]=1,Hn[wu]=1,Hn[Ef]=.5,Hn[Sf]=1,Hn[bf]=1,Hn[Tf]=.5,Hn[Af]=.25,Hn[Cf]=.5,Hn[Lf]=.25,Hn[Rf]=.5;function $f(p){return Array.isArray(p)&&(p.length===0||typeof p[0]=="number")}function Lu(p){if(!Array.isArray(p))return!1;var E=p.length;return!(E===0||!mn(p[0]))}function co(p){return Object.prototype.toString.call(p)}function Ru(p){return co(p)===Nf}function Bf(p){return co(p)===Mf}function k1(p){return co(p)===If}function ku(p){return co(p)===Df}function jf(p){return co(p)===Ff}function zf(p){return co(p)===Yl}function Ou(p){if(!p)return!1;var E=co(p);return R1.indexOf(E)>=0?!0:$f(p)||Lu(p)||Pr(p)}function Gf(p){return Io[Object.prototype.toString.call(p)]|0}function O1(p,E){var k=E.length;switch(p.type){case jo:case Eu:case Su:case Wr:var Q=rt.allocType(p.type,k);Q.set(E),p.data=Q;break;case Bo:p.data=yf(E);break;default:w.raise("unsupported texture type, must specify a typed array")}}function Uf(p,E){return rt.allocType(p.type===Bo?Wr:p.type,E)}function Vf(p,E){p.type===Bo?(p.data=yf(E),rt.freeType(E)):p.data=E}function Hf(p,E,k,Q,oe,q){for(var ee=p.width,me=p.height,pe=p.channels,we=ee*me*pe,Se=Uf(p,we),Ee=0,Oe=0;Oe<me;++Oe)for(var ge=0;ge<ee;++ge)for(var _e=0;_e<pe;++_e)Se[Ee++]=E[k*ge+Q*Oe+oe*_e+q];Vf(p,Se)}function ql(p,E,k,Q,oe,q){var ee;if(typeof Hn[p]<"u"?ee=Hn[p]:ee=Xr[p]*Uo[E],q&&(ee*=6),oe){for(var me=0,pe=k;pe>=1;)me+=ee*pe*pe,pe/=2;return me}else return ee*k*Q}function P1(p,E,k,Q,oe,q,ee){var me={"don't care":$a,"dont care":$a,nice:S1,fast:Of},pe={repeat:g1,clamp:bu,mirror:y1},we={nearest:Tu,linear:w1},Se=r({mipmap:Cu,"nearest mipmap nearest":Xl,"linear mipmap nearest":Au,"nearest mipmap linear":kf,"linear mipmap linear":Cu},we),Ee={none:0,browser:zo},Oe={uint8:jo,rgba4:d1,rgb565:p1,"rgb5 a1":h1},ge={alpha:vu,luminance:so,"luminance alpha":Hl,rgb:Vl,rgba:lo,rgba4:_f,"rgb5 a1":gu,rgb565:yu},_e={};E.ext_srgb&&(ge.srgb=Da,ge.srgba=Fa),E.oes_texture_float&&(Oe.float32=Oe.float=Wr),E.oes_texture_half_float&&(Oe.float16=Oe["half float"]=Bo),E.webgl_depth_texture&&(r(ge,{depth:Wl,"depth stencil":Ia}),r(Oe,{uint16:Eu,uint32:Su,"depth stencil":wf})),E.webgl_compressed_texture_s3tc&&r(_e,{"rgb s3tc dxt1":uo,"rgba s3tc dxt1":xu,"rgba s3tc dxt3":_u,"rgba s3tc dxt5":wu}),E.webgl_compressed_texture_atc&&r(_e,{"rgb atc":Ef,"rgba atc explicit alpha":Sf,"rgba atc interpolated alpha":bf}),E.webgl_compressed_texture_pvrtc&&r(_e,{"rgb pvrtc 4bppv1":Tf,"rgb pvrtc 2bppv1":Af,"rgba pvrtc 4bppv1":Cf,"rgba pvrtc 2bppv1":Lf}),E.webgl_compressed_texture_etc1&&(_e["rgb etc1"]=Rf);var z=Array.prototype.slice.call(p.getParameter(f1));Object.keys(_e).forEach(function(L){var Z=_e[L];z.indexOf(Z)>=0&&(ge[L]=Z)});var J=Object.keys(ge);k.textureFormats=J;var xe=[];Object.keys(ge).forEach(function(L){var Z=ge[L];xe[Z]=L});var Xe=[];Object.keys(Oe).forEach(function(L){var Z=Oe[L];Xe[Z]=L});var fe=[];Object.keys(we).forEach(function(L){var Z=we[L];fe[Z]=L});var Ge=[];Object.keys(Se).forEach(function(L){var Z=Se[L];Ge[Z]=L});var $e=[];Object.keys(pe).forEach(function(L){var Z=pe[L];$e[Z]=L});var ct=J.reduce(function(L,Z){var Y=ge[Z];return Y===so||Y===vu||Y===so||Y===Hl||Y===Wl||Y===Ia||E.ext_srgb&&(Y===Da||Y===Fa)?L[Y]=Y:Y===gu||Z.indexOf("rgba")>=0?L[Y]=lo:L[Y]=Vl,L},{});function ae(){this.internalformat=lo,this.format=lo,this.type=jo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=zo,this.width=0,this.height=0,this.channels=0}function ie(L,Z){L.internalformat=Z.internalformat,L.format=Z.format,L.type=Z.type,L.compressed=Z.compressed,L.premultiplyAlpha=Z.premultiplyAlpha,L.flipY=Z.flipY,L.unpackAlignment=Z.unpackAlignment,L.colorSpace=Z.colorSpace,L.width=Z.width,L.height=Z.height,L.channels=Z.channels}function Ze(L,Z){if(!(typeof Z!="object"||!Z)){if("premultiplyAlpha"in Z&&(w.type(Z.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),L.premultiplyAlpha=Z.premultiplyAlpha),"flipY"in Z&&(w.type(Z.flipY,"boolean","invalid texture flip"),L.flipY=Z.flipY),"alignment"in Z&&(w.oneOf(Z.alignment,[1,2,4,8],"invalid texture unpack alignment"),L.unpackAlignment=Z.alignment),"colorSpace"in Z&&(w.parameter(Z.colorSpace,Ee,"invalid colorSpace"),L.colorSpace=Ee[Z.colorSpace]),"type"in Z){var Y=Z.type;w(E.oes_texture_float||!(Y==="float"||Y==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),w(E.oes_texture_half_float||!(Y==="half float"||Y==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),w(E.webgl_depth_texture||!(Y==="uint16"||Y==="uint32"||Y==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(Y,Oe,"invalid texture type"),L.type=Oe[Y]}var Ke=L.width,zt=L.height,b=L.channels,x=!1;"shape"in Z?(w(Array.isArray(Z.shape)&&Z.shape.length>=2,"shape must be an array"),Ke=Z.shape[0],zt=Z.shape[1],Z.shape.length===3&&(b=Z.shape[2],w(b>0&&b<=4,"invalid number of channels"),x=!0),w(Ke>=0&&Ke<=k.maxTextureSize,"invalid width"),w(zt>=0&&zt<=k.maxTextureSize,"invalid height")):("radius"in Z&&(Ke=zt=Z.radius,w(Ke>=0&&Ke<=k.maxTextureSize,"invalid radius")),"width"in Z&&(Ke=Z.width,w(Ke>=0&&Ke<=k.maxTextureSize,"invalid width")),"height"in Z&&(zt=Z.height,w(zt>=0&&zt<=k.maxTextureSize,"invalid height")),"channels"in Z&&(b=Z.channels,w(b>0&&b<=4,"invalid number of channels"),x=!0)),L.width=Ke|0,L.height=zt|0,L.channels=b|0;var N=!1;if("format"in Z){var j=Z.format;w(E.webgl_depth_texture||!(j==="depth"||j==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(j,ge,"invalid texture format");var G=L.internalformat=ge[j];L.format=ct[G],j in Oe&&("type"in Z||(L.type=Oe[j])),j in _e&&(L.compressed=!0),N=!0}!x&&N?L.channels=Xr[L.format]:x&&!N?L.channels!==ja[L.format]&&(L.format=L.internalformat=ja[L.channels]):N&&x&&w(L.channels===Xr[L.format],"number of channels inconsistent with specified format")}}function Me(L){p.pixelStorei(A1,L.flipY),p.pixelStorei(C1,L.premultiplyAlpha),p.pixelStorei(L1,L.colorSpace),p.pixelStorei(T1,L.unpackAlignment)}function ye(){ae.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ie(L,Z){var Y=null;if(Ou(Z)?Y=Z:Z&&(w.type(Z,"object","invalid pixel data type"),Ze(L,Z),"x"in Z&&(L.xOffset=Z.x|0),"y"in Z&&(L.yOffset=Z.y|0),Ou(Z.data)&&(Y=Z.data)),w(!L.compressed||Y instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Z.copy){w(!Y,"can not specify copy and data field for the same texture");var Ke=oe.viewportWidth,zt=oe.viewportHeight;L.width=L.width||Ke-L.xOffset,L.height=L.height||zt-L.yOffset,L.needsCopy=!0,w(L.xOffset>=0&&L.xOffset<Ke&&L.yOffset>=0&&L.yOffset<zt&&L.width>0&&L.width<=Ke&&L.height>0&&L.height<=zt,"copy texture read out of bounds")}else if(!Y)L.width=L.width||1,L.height=L.height||1,L.channels=L.channels||4;else if(n(Y))L.channels=L.channels||4,L.data=Y,!("type"in Z)&&L.type===jo&&(L.type=Gf(Y));else if($f(Y))L.channels=L.channels||4,O1(L,Y),L.alignment=1,L.needsFree=!0;else if(Pr(Y)){var b=Y.data;!Array.isArray(b)&&L.type===jo&&(L.type=Gf(b));var x=Y.shape,N=Y.stride,j,G,D,I,B,T;x.length===3?(D=x[2],T=N[2]):(w(x.length===2,"invalid ndarray pixel data, must be 2 or 3D"),D=1,T=1),j=x[0],G=x[1],I=N[0],B=N[1],L.alignment=1,L.width=j,L.height=G,L.channels=D,L.format=L.internalformat=ja[D],L.needsFree=!0,Hf(L,b,I,B,T,Y.offset)}else if(Ru(Y)||Bf(Y)||k1(Y))Ru(Y)||Bf(Y)?L.element=Y:L.element=Y.canvas,L.width=L.element.width,L.height=L.element.height,L.channels=4;else if(ku(Y))L.element=Y,L.width=Y.width,L.height=Y.height,L.channels=4;else if(jf(Y))L.element=Y,L.width=Y.naturalWidth,L.height=Y.naturalHeight,L.channels=4;else if(zf(Y))L.element=Y,L.width=Y.videoWidth,L.height=Y.videoHeight,L.channels=4;else if(Lu(Y)){var R=L.width||Y[0].length,C=L.height||Y.length,X=L.channels;mn(Y[0][0])?X=X||Y[0][0].length:X=X||1;for(var V=Hr.shape(Y),re=1,le=0;le<V.length;++le)re*=V[le];var ke=Uf(L,re);Hr.flatten(Y,V,"",ke),Vf(L,ke),L.alignment=1,L.width=R,L.height=C,L.channels=X,L.format=L.internalformat=ja[X],L.needsFree=!0}L.type===Wr?w(k.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):L.type===Bo&&w(k.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Fe(L,Z,Y){var Ke=L.element,zt=L.data,b=L.internalformat,x=L.format,N=L.type,j=L.width,G=L.height;Me(L),Ke?p.texImage2D(Z,Y,x,x,N,Ke):L.compressed?p.compressedTexImage2D(Z,Y,b,j,G,0,zt):L.needsCopy?(Q(),p.copyTexImage2D(Z,Y,x,L.xOffset,L.yOffset,j,G,0)):p.texImage2D(Z,Y,x,j,G,0,x,N,zt||null)}function Tt(L,Z,Y,Ke,zt){var b=L.element,x=L.data,N=L.internalformat,j=L.format,G=L.type,D=L.width,I=L.height;Me(L),b?p.texSubImage2D(Z,zt,Y,Ke,j,G,b):L.compressed?p.compressedTexSubImage2D(Z,zt,Y,Ke,N,D,I,x):L.needsCopy?(Q(),p.copyTexSubImage2D(Z,zt,Y,Ke,L.xOffset,L.yOffset,D,I)):p.texSubImage2D(Z,zt,Y,Ke,D,I,j,G,x)}var Et=[];function Be(){return Et.pop()||new ye}function He(L){L.needsFree&&rt.freeType(L.data),ye.call(L),Et.push(L)}function gt(){ae.call(this),this.genMipmaps=!1,this.mipmapHint=$a,this.mipmask=0,this.images=Array(16)}function At(L,Z,Y){var Ke=L.images[0]=Be();L.mipmask=1,Ke.width=L.width=Z,Ke.height=L.height=Y,Ke.channels=L.channels=4}function Ut(L,Z){var Y=null;if(Ou(Z))Y=L.images[0]=Be(),ie(Y,L),Ie(Y,Z),L.mipmask=1;else if(Ze(L,Z),Array.isArray(Z.mipmap))for(var Ke=Z.mipmap,zt=0;zt<Ke.length;++zt)Y=L.images[zt]=Be(),ie(Y,L),Y.width>>=zt,Y.height>>=zt,Ie(Y,Ke[zt]),L.mipmask|=1<<zt;else Y=L.images[0]=Be(),ie(Y,L),Ie(Y,Z),L.mipmask=1;ie(L,L.images[0]),L.compressed&&(L.internalformat===uo||L.internalformat===xu||L.internalformat===_u||L.internalformat===wu)&&w(L.width%4===0&&L.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function xn(L,Z){for(var Y=L.images,Ke=0;Ke<Y.length;++Ke){if(!Y[Ke])return;Fe(Y[Ke],Z,Ke)}}var wn=[];function Wt(){var L=wn.pop()||new gt;ae.call(L),L.mipmask=0;for(var Z=0;Z<16;++Z)L.images[Z]=null;return L}function Wn(L){for(var Z=L.images,Y=0;Y<Z.length;++Y)Z[Y]&&He(Z[Y]),Z[Y]=null;wn.push(L)}function vn(){this.minFilter=Tu,this.magFilter=Tu,this.wrapS=bu,this.wrapT=bu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=$a}function jn(L,Z){if("min"in Z){var Y=Z.min;w.parameter(Y,Se),L.minFilter=Se[Y],Pf.indexOf(L.minFilter)>=0&&!("faces"in Z)&&(L.genMipmaps=!0)}if("mag"in Z){var Ke=Z.mag;w.parameter(Ke,we),L.magFilter=we[Ke]}var zt=L.wrapS,b=L.wrapT;if("wrap"in Z){var x=Z.wrap;typeof x=="string"?(w.parameter(x,pe),zt=b=pe[x]):Array.isArray(x)&&(w.parameter(x[0],pe),w.parameter(x[1],pe),zt=pe[x[0]],b=pe[x[1]])}else{if("wrapS"in Z){var N=Z.wrapS;w.parameter(N,pe),zt=pe[N]}if("wrapT"in Z){var j=Z.wrapT;w.parameter(j,pe),b=pe[j]}}if(L.wrapS=zt,L.wrapT=b,"anisotropic"in Z){var G=Z.anisotropic;w(typeof G=="number"&&G>=1&&G<=k.maxAnisotropic,"aniso samples must be between 1 and "),L.anisotropic=Z.anisotropic}if("mipmap"in Z){var D=!1;switch(typeof Z.mipmap){case"string":w.parameter(Z.mipmap,me,"invalid mipmap hint"),L.mipmapHint=me[Z.mipmap],L.genMipmaps=!0,D=!0;break;case"boolean":D=L.genMipmaps=Z.mipmap;break;case"object":w(Array.isArray(Z.mipmap),"invalid mipmap type"),L.genMipmaps=!1,D=!0;break;default:w.raise("invalid mipmap type")}D&&!("min"in Z)&&(L.minFilter=Xl)}}function Xn(L,Z){p.texParameteri(Z,_1,L.minFilter),p.texParameteri(Z,x1,L.magFilter),p.texParameteri(Z,m1,L.wrapS),p.texParameteri(Z,v1,L.wrapT),E.ext_texture_filter_anisotropic&&p.texParameteri(Z,b1,L.anisotropic),L.genMipmaps&&(p.hint(E1,L.mipmapHint),p.generateMipmap(Z))}var Yn=0,ir={},ur=k.maxTextureUnits,Ln=Array(ur).map(function(){return null});function Ft(L){ae.call(this),this.mipmask=0,this.internalformat=lo,this.id=Yn++,this.refCount=1,this.target=L,this.texture=p.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new vn,ee.profile&&(this.stats={size:0})}function cr(L){p.activeTexture(Ba),p.bindTexture(L.target,L.texture)}function tn(){var L=Ln[0];L?p.bindTexture(L.target,L.texture):p.bindTexture(li,null)}function pt(L){var Z=L.texture;w(Z,"must not double destroy texture");var Y=L.unit,Ke=L.target;Y>=0&&(p.activeTexture(Ba+Y),p.bindTexture(Ke,null),Ln[Y]=null),p.deleteTexture(Z),L.texture=null,L.params=null,L.pixels=null,L.refCount=0,delete ir[L.id],q.textureCount--}r(Ft.prototype,{bind:function(){var L=this;L.bindCount+=1;var Z=L.unit;if(Z<0){for(var Y=0;Y<ur;++Y){var Ke=Ln[Y];if(Ke){if(Ke.bindCount>0)continue;Ke.unit=-1}Ln[Y]=L,Z=Y;break}Z>=ur&&w.raise("insufficient number of texture units"),ee.profile&&q.maxTextureUnits<Z+1&&(q.maxTextureUnits=Z+1),L.unit=Z,p.activeTexture(Ba+Z),p.bindTexture(L.target,L.texture)}return Z},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&pt(this)}});function Vt(L,Z){var Y=new Ft(li);ir[Y.id]=Y,q.textureCount++;function Ke(x,N){var j=Y.texInfo;vn.call(j);var G=Wt();return typeof x=="number"?typeof N=="number"?At(G,x|0,N|0):At(G,x|0,x|0):x?(w.type(x,"object","invalid arguments to regl.texture"),jn(j,x),Ut(G,x)):At(G,1,1),j.genMipmaps&&(G.mipmask=(G.width<<1)-1),Y.mipmask=G.mipmask,ie(Y,G),w.texture2D(j,G,k),Y.internalformat=G.internalformat,Ke.width=G.width,Ke.height=G.height,cr(Y),xn(G,li),Xn(j,li),tn(),Wn(G),ee.profile&&(Y.stats.size=ql(Y.internalformat,Y.type,G.width,G.height,j.genMipmaps,!1)),Ke.format=xe[Y.internalformat],Ke.type=Xe[Y.type],Ke.mag=fe[j.magFilter],Ke.min=Ge[j.minFilter],Ke.wrapS=$e[j.wrapS],Ke.wrapT=$e[j.wrapT],Ke}function zt(x,N,j,G){w(!!x,"must specify image data");var D=N|0,I=j|0,B=G|0,T=Be();return ie(T,Y),T.width=0,T.height=0,Ie(T,x),T.width=T.width||(Y.width>>B)-D,T.height=T.height||(Y.height>>B)-I,w(Y.type===T.type&&Y.format===T.format&&Y.internalformat===T.internalformat,"incompatible format for texture.subimage"),w(D>=0&&I>=0&&D+T.width<=Y.width&&I+T.height<=Y.height,"texture.subimage write out of bounds"),w(Y.mipmask&1<<B,"missing mipmap data"),w(T.data||T.element||T.needsCopy,"missing image data"),cr(Y),Tt(T,li,D,I,B),tn(),He(T),Ke}function b(x,N){var j=x|0,G=N|0||j;if(j===Y.width&&G===Y.height)return Ke;Ke.width=Y.width=j,Ke.height=Y.height=G,cr(Y);for(var D=0;Y.mipmask>>D;++D){var I=j>>D,B=G>>D;if(!I||!B)break;p.texImage2D(li,D,Y.format,I,B,0,Y.format,Y.type,null)}return tn(),ee.profile&&(Y.stats.size=ql(Y.internalformat,Y.type,j,G,!1,!1)),Ke}return Ke(L,Z),Ke.subimage=zt,Ke.resize=b,Ke._reglType="texture2d",Ke._texture=Y,ee.profile&&(Ke.stats=Y.stats),Ke.destroy=function(){Y.decRef()},Ke}function qt(L,Z,Y,Ke,zt,b){var x=new Ft(mu);ir[x.id]=x,q.cubeCount++;var N=new Array(6);function j(I,B,T,R,C,X){var V,re=x.texInfo;for(vn.call(re),V=0;V<6;++V)N[V]=Wt();if(typeof I=="number"||!I){var le=I|0||1;for(V=0;V<6;++V)At(N[V],le,le)}else if(typeof I=="object")if(B)Ut(N[0],I),Ut(N[1],B),Ut(N[2],T),Ut(N[3],R),Ut(N[4],C),Ut(N[5],X);else if(jn(re,I),Ze(x,I),"faces"in I){var ke=I.faces;for(w(Array.isArray(ke)&&ke.length===6,"cube faces must be a length 6 array"),V=0;V<6;++V)w(typeof ke[V]=="object"&&!!ke[V],"invalid input for cube map face"),ie(N[V],x),Ut(N[V],ke[V])}else for(V=0;V<6;++V)Ut(N[V],I);else w.raise("invalid arguments to cube map");for(ie(x,N[0]),w.optional(function(){k.npotTextureCube||w(xf(x.width)&&xf(x.height),"your browser does not support non power or two texture dimensions")}),re.genMipmaps?x.mipmask=(N[0].width<<1)-1:x.mipmask=N[0].mipmask,w.textureCube(x,re,N,k),x.internalformat=N[0].internalformat,j.width=N[0].width,j.height=N[0].height,cr(x),V=0;V<6;++V)xn(N[V],Ul+V);for(Xn(re,mu),tn(),ee.profile&&(x.stats.size=ql(x.internalformat,x.type,j.width,j.height,re.genMipmaps,!0)),j.format=xe[x.internalformat],j.type=Xe[x.type],j.mag=fe[re.magFilter],j.min=Ge[re.minFilter],j.wrapS=$e[re.wrapS],j.wrapT=$e[re.wrapT],V=0;V<6;++V)Wn(N[V]);return j}function G(I,B,T,R,C){w(!!B,"must specify image data"),w(typeof I=="number"&&I===(I|0)&&I>=0&&I<6,"invalid face");var X=T|0,V=R|0,re=C|0,le=Be();return ie(le,x),le.width=0,le.height=0,Ie(le,B),le.width=le.width||(x.width>>re)-X,le.height=le.height||(x.height>>re)-V,w(x.type===le.type&&x.format===le.format&&x.internalformat===le.internalformat,"incompatible format for texture.subimage"),w(X>=0&&V>=0&&X+le.width<=x.width&&V+le.height<=x.height,"texture.subimage write out of bounds"),w(x.mipmask&1<<re,"missing mipmap data"),w(le.data||le.element||le.needsCopy,"missing image data"),cr(x),Tt(le,Ul+I,X,V,re),tn(),He(le),j}function D(I){var B=I|0;if(B!==x.width){j.width=x.width=B,j.height=x.height=B,cr(x);for(var T=0;T<6;++T)for(var R=0;x.mipmask>>R;++R)p.texImage2D(Ul+T,R,x.format,B>>R,B>>R,0,x.format,x.type,null);return tn(),ee.profile&&(x.stats.size=ql(x.internalformat,x.type,j.width,j.height,!1,!0)),j}}return j(L,Z,Y,Ke,zt,b),j.subimage=G,j.resize=D,j._reglType="textureCube",j._texture=x,ee.profile&&(j.stats=x.stats),j.destroy=function(){x.decRef()},j}function Rn(){for(var L=0;L<ur;++L)p.activeTexture(Ba+L),p.bindTexture(li,null),Ln[L]=null;br(ir).forEach(pt),q.cubeCount=0,q.textureCount=0}ee.profile&&(q.getTotalTextureSize=function(){var L=0;return Object.keys(ir).forEach(function(Z){L+=ir[Z].stats.size}),L});function Gi(){for(var L=0;L<ur;++L){var Z=Ln[L];Z&&(Z.bindCount=0,Z.unit=-1,Ln[L]=null)}br(ir).forEach(function(Y){Y.texture=p.createTexture(),p.bindTexture(Y.target,Y.texture);for(var Ke=0;Ke<32;++Ke)if(Y.mipmask&1<<Ke)if(Y.target===li)p.texImage2D(li,Ke,Y.internalformat,Y.width>>Ke,Y.height>>Ke,0,Y.internalformat,Y.type,null);else for(var zt=0;zt<6;++zt)p.texImage2D(Ul+zt,Ke,Y.internalformat,Y.width>>Ke,Y.height>>Ke,0,Y.internalformat,Y.type,null);Xn(Y.texInfo,Y.target)})}function Ya(){for(var L=0;L<ur;++L){var Z=Ln[L];Z&&(Z.bindCount=0,Z.unit=-1,Ln[L]=null),p.activeTexture(Ba+L),p.bindTexture(li,null),p.bindTexture(mu,null)}}return{create2D:Vt,createCube:qt,clear:Rn,getTexture:function(L){return null},restore:Gi,refresh:Ya}}var ji=36161,Ql=32854,Wf=32855,Xf=36194,Yf=33189,qf=36168,Qf=34041,Kf=35907,Zf=34836,Jf=34842,e0=34843,Yr=[];Yr[Ql]=2,Yr[Wf]=2,Yr[Xf]=2,Yr[Yf]=2,Yr[qf]=1,Yr[Qf]=4,Yr[Kf]=4,Yr[Zf]=16,Yr[Jf]=8,Yr[e0]=6;function t0(p,E,k){return Yr[p]*E*k}var N1=function(p,E,k,Q,oe){var q={rgba4:Ql,rgb565:Xf,"rgb5 a1":Wf,depth:Yf,stencil:qf,"depth stencil":Qf};E.ext_srgb&&(q.srgba=Kf),E.ext_color_buffer_half_float&&(q.rgba16f=Jf,q.rgb16f=e0),E.webgl_color_buffer_float&&(q.rgba32f=Zf);var ee=[];Object.keys(q).forEach(function(ge){var _e=q[ge];ee[_e]=ge});var me=0,pe={};function we(ge){this.id=me++,this.refCount=1,this.renderbuffer=ge,this.format=Ql,this.width=0,this.height=0,oe.profile&&(this.stats={size:0})}we.prototype.decRef=function(){--this.refCount<=0&&Se(this)};function Se(ge){var _e=ge.renderbuffer;w(_e,"must not double destroy renderbuffer"),p.bindRenderbuffer(ji,null),p.deleteRenderbuffer(_e),ge.renderbuffer=null,ge.refCount=0,delete pe[ge.id],Q.renderbufferCount--}function Ee(ge,_e){var z=new we(p.createRenderbuffer());pe[z.id]=z,Q.renderbufferCount++;function J(Xe,fe){var Ge=0,$e=0,ct=Ql;if(typeof Xe=="object"&&Xe){var ae=Xe;if("shape"in ae){var ie=ae.shape;w(Array.isArray(ie)&&ie.length>=2,"invalid renderbuffer shape"),Ge=ie[0]|0,$e=ie[1]|0}else"radius"in ae&&(Ge=$e=ae.radius|0),"width"in ae&&(Ge=ae.width|0),"height"in ae&&($e=ae.height|0);"format"in ae&&(w.parameter(ae.format,q,"invalid renderbuffer format"),ct=q[ae.format])}else typeof Xe=="number"?(Ge=Xe|0,typeof fe=="number"?$e=fe|0:$e=Ge):Xe?w.raise("invalid arguments to renderbuffer constructor"):Ge=$e=1;if(w(Ge>0&&$e>0&&Ge<=k.maxRenderbufferSize&&$e<=k.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===z.width&&$e===z.height&&ct===z.format))return J.width=z.width=Ge,J.height=z.height=$e,z.format=ct,p.bindRenderbuffer(ji,z.renderbuffer),p.renderbufferStorage(ji,ct,Ge,$e),w(p.getError()===0,"invalid render buffer format"),oe.profile&&(z.stats.size=t0(z.format,z.width,z.height)),J.format=ee[z.format],J}function xe(Xe,fe){var Ge=Xe|0,$e=fe|0||Ge;return Ge===z.width&&$e===z.height||(w(Ge>0&&$e>0&&Ge<=k.maxRenderbufferSize&&$e<=k.maxRenderbufferSize,"invalid renderbuffer size"),J.width=z.width=Ge,J.height=z.height=$e,p.bindRenderbuffer(ji,z.renderbuffer),p.renderbufferStorage(ji,z.format,Ge,$e),w(p.getError()===0,"invalid render buffer format"),oe.profile&&(z.stats.size=t0(z.format,z.width,z.height))),J}return J(ge,_e),J.resize=xe,J._reglType="renderbuffer",J._renderbuffer=z,oe.profile&&(J.stats=z.stats),J.destroy=function(){z.decRef()},J}oe.profile&&(Q.getTotalRenderbufferSize=function(){var ge=0;return Object.keys(pe).forEach(function(_e){ge+=pe[_e].stats.size}),ge});function Oe(){br(pe).forEach(function(ge){ge.renderbuffer=p.createRenderbuffer(),p.bindRenderbuffer(ji,ge.renderbuffer),p.renderbufferStorage(ji,ge.format,ge.width,ge.height)}),p.bindRenderbuffer(ji,null)}return{create:Ee,clear:function(){br(pe).forEach(Se)},restore:Oe}},Ei=36160,Pu=36161,fo=3553,Kl=34069,n0=36064,Zl=36096,r0=36128,i0=33306,o0=36053,M1=36054,I1=36055,D1=36057,F1=36061,$1=36193,B1=5121,j1=5126,a0=6407,l0=6408,z1=6402,G1=[a0,l0],Nu=[];Nu[l0]=4,Nu[a0]=3;var za=[];za[B1]=1,za[j1]=4,za[$1]=2;var U1=32854,s0=32855,V1=36194,u0=33189,c0=36168,Mu=34041,f0=35907,H1=34836,Ga=34842,W1=34843,X1=[U1,s0,V1,f0,Ga,W1,H1],Vo={};Vo[o0]="complete",Vo[M1]="incomplete attachment",Vo[D1]="incomplete dimensions",Vo[I1]="incomplete, missing attachment",Vo[F1]="unsupported";function Y1(p,E,k,Q,oe,q){var ee={cur:null,next:null,dirty:!1,setFBO:null},me=["rgba"],pe=["rgba4","rgb565","rgb5 a1"];E.ext_srgb&&pe.push("srgba"),E.ext_color_buffer_half_float&&pe.push("rgba16f","rgb16f"),E.webgl_color_buffer_float&&pe.push("rgba32f");var we=["uint8"];E.oes_texture_half_float&&we.push("half float","float16"),E.oes_texture_float&&we.push("float","float32");function Se(ye,Ie,Fe){this.target=ye,this.texture=Ie,this.renderbuffer=Fe;var Tt=0,Et=0;Ie?(Tt=Ie.width,Et=Ie.height):Fe&&(Tt=Fe.width,Et=Fe.height),this.width=Tt,this.height=Et}function Ee(ye){ye&&(ye.texture&&ye.texture._texture.decRef(),ye.renderbuffer&&ye.renderbuffer._renderbuffer.decRef())}function Oe(ye,Ie,Fe){if(ye)if(ye.texture){var Tt=ye.texture._texture,Et=Math.max(1,Tt.width),Be=Math.max(1,Tt.height);w(Et===Ie&&Be===Fe,"inconsistent width/height for supplied texture"),Tt.refCount+=1}else{var He=ye.renderbuffer._renderbuffer;w(He.width===Ie&&He.height===Fe,"inconsistent width/height for renderbuffer"),He.refCount+=1}}function ge(ye,Ie){Ie&&(Ie.texture?p.framebufferTexture2D(Ei,ye,Ie.target,Ie.texture._texture.texture,0):p.framebufferRenderbuffer(Ei,ye,Pu,Ie.renderbuffer._renderbuffer.renderbuffer))}function _e(ye){var Ie=fo,Fe=null,Tt=null,Et=ye;typeof ye=="object"&&(Et=ye.data,"target"in ye&&(Ie=ye.target|0)),w.type(Et,"function","invalid attachment data");var Be=Et._reglType;return Be==="texture2d"?(Fe=Et,w(Ie===fo)):Be==="textureCube"?(Fe=Et,w(Ie>=Kl&&Ie<Kl+6,"invalid cube map target")):Be==="renderbuffer"?(Tt=Et,Ie=Pu):w.raise("invalid regl object for attachment"),new Se(Ie,Fe,Tt)}function z(ye,Ie,Fe,Tt,Et){if(Fe){var Be=Q.create2D({width:ye,height:Ie,format:Tt,type:Et});return Be._texture.refCount=0,new Se(fo,Be,null)}else{var He=oe.create({width:ye,height:Ie,format:Tt});return He._renderbuffer.refCount=0,new Se(Pu,null,He)}}function J(ye){return ye&&(ye.texture||ye.renderbuffer)}function xe(ye,Ie,Fe){ye&&(ye.texture?ye.texture.resize(Ie,Fe):ye.renderbuffer&&ye.renderbuffer.resize(Ie,Fe),ye.width=Ie,ye.height=Fe)}var Xe=0,fe={};function Ge(){this.id=Xe++,fe[this.id]=this,this.framebuffer=p.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function $e(ye){ye.colorAttachments.forEach(Ee),Ee(ye.depthAttachment),Ee(ye.stencilAttachment),Ee(ye.depthStencilAttachment)}function ct(ye){var Ie=ye.framebuffer;w(Ie,"must not double destroy framebuffer"),p.deleteFramebuffer(Ie),ye.framebuffer=null,q.framebufferCount--,delete fe[ye.id]}function ae(ye){var Ie;p.bindFramebuffer(Ei,ye.framebuffer);var Fe=ye.colorAttachments;for(Ie=0;Ie<Fe.length;++Ie)ge(n0+Ie,Fe[Ie]);for(Ie=Fe.length;Ie<k.maxColorAttachments;++Ie)p.framebufferTexture2D(Ei,n0+Ie,fo,null,0);p.framebufferTexture2D(Ei,i0,fo,null,0),p.framebufferTexture2D(Ei,Zl,fo,null,0),p.framebufferTexture2D(Ei,r0,fo,null,0),ge(Zl,ye.depthAttachment),ge(r0,ye.stencilAttachment),ge(i0,ye.depthStencilAttachment);var Tt=p.checkFramebufferStatus(Ei);!p.isContextLost()&&Tt!==o0&&w.raise("framebuffer configuration not supported, status = "+Vo[Tt]),p.bindFramebuffer(Ei,ee.next?ee.next.framebuffer:null),ee.cur=ee.next,p.getError()}function ie(ye,Ie){var Fe=new Ge;q.framebufferCount++;function Tt(Be,He){var gt;w(ee.next!==Fe,"can not update framebuffer which is currently in use");var At=0,Ut=0,xn=!0,wn=!0,Wt=null,Wn=!0,vn="rgba",jn="uint8",Xn=1,Yn=null,ir=null,ur=null,Ln=!1;if(typeof Be=="number")At=Be|0,Ut=He|0||At;else if(!Be)At=Ut=1;else{w.type(Be,"object","invalid arguments for framebuffer");var Ft=Be;if("shape"in Ft){var cr=Ft.shape;w(Array.isArray(cr)&&cr.length>=2,"invalid shape for framebuffer"),At=cr[0],Ut=cr[1]}else"radius"in Ft&&(At=Ut=Ft.radius),"width"in Ft&&(At=Ft.width),"height"in Ft&&(Ut=Ft.height);("color"in Ft||"colors"in Ft)&&(Wt=Ft.color||Ft.colors,Array.isArray(Wt)&&w(Wt.length===1||E.webgl_draw_buffers,"multiple render targets not supported")),Wt||("colorCount"in Ft&&(Xn=Ft.colorCount|0,w(Xn>0,"invalid color buffer count")),"colorTexture"in Ft&&(Wn=!!Ft.colorTexture,vn="rgba4"),"colorType"in Ft&&(jn=Ft.colorType,Wn?(w(E.oes_texture_float||!(jn==="float"||jn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),w(E.oes_texture_half_float||!(jn==="half float"||jn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):jn==="half float"||jn==="float16"?(w(E.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),vn="rgba16f"):(jn==="float"||jn==="float32")&&(w(E.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),vn="rgba32f"),w.oneOf(jn,we,"invalid color type")),"colorFormat"in Ft&&(vn=Ft.colorFormat,me.indexOf(vn)>=0?Wn=!0:pe.indexOf(vn)>=0?Wn=!1:w.optional(function(){Wn?w.oneOf(Ft.colorFormat,me,"invalid color format for texture"):w.oneOf(Ft.colorFormat,pe,"invalid color format for renderbuffer")}))),("depthTexture"in Ft||"depthStencilTexture"in Ft)&&(Ln=!!(Ft.depthTexture||Ft.depthStencilTexture),w(!Ln||E.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ft&&(typeof Ft.depth=="boolean"?xn=Ft.depth:(Yn=Ft.depth,wn=!1)),"stencil"in Ft&&(typeof Ft.stencil=="boolean"?wn=Ft.stencil:(ir=Ft.stencil,xn=!1)),"depthStencil"in Ft&&(typeof Ft.depthStencil=="boolean"?xn=wn=Ft.depthStencil:(ur=Ft.depthStencil,xn=!1,wn=!1))}var tn=null,pt=null,Vt=null,qt=null;if(Array.isArray(Wt))tn=Wt.map(_e);else if(Wt)tn=[_e(Wt)];else for(tn=new Array(Xn),gt=0;gt<Xn;++gt)tn[gt]=z(At,Ut,Wn,vn,jn);w(E.webgl_draw_buffers||tn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),w(tn.length<=k.maxColorAttachments,"too many color attachments, not supported"),At=At||tn[0].width,Ut=Ut||tn[0].height,Yn?pt=_e(Yn):xn&&!wn&&(pt=z(At,Ut,Ln,"depth","uint32")),ir?Vt=_e(ir):wn&&!xn&&(Vt=z(At,Ut,!1,"stencil","uint8")),ur?qt=_e(ur):!Yn&&!ir&&wn&&xn&&(qt=z(At,Ut,Ln,"depth stencil","depth stencil")),w(!!Yn+!!ir+!!ur<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Rn=null;for(gt=0;gt<tn.length;++gt)if(Oe(tn[gt],At,Ut),w(!tn[gt]||tn[gt].texture&&G1.indexOf(tn[gt].texture._texture.format)>=0||tn[gt].renderbuffer&&X1.indexOf(tn[gt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+gt+" is invalid"),tn[gt]&&tn[gt].texture){var Gi=Nu[tn[gt].texture._texture.format]*za[tn[gt].texture._texture.type];Rn===null?Rn=Gi:w(Rn===Gi,"all color attachments much have the same number of bits per pixel.")}return Oe(pt,At,Ut),w(!pt||pt.texture&&pt.texture._texture.format===z1||pt.renderbuffer&&pt.renderbuffer._renderbuffer.format===u0,"invalid depth attachment for framebuffer object"),Oe(Vt,At,Ut),w(!Vt||Vt.renderbuffer&&Vt.renderbuffer._renderbuffer.format===c0,"invalid stencil attachment for framebuffer object"),Oe(qt,At,Ut),w(!qt||qt.texture&&qt.texture._texture.format===Mu||qt.renderbuffer&&qt.renderbuffer._renderbuffer.format===Mu,"invalid depth-stencil attachment for framebuffer object"),$e(Fe),Fe.width=At,Fe.height=Ut,Fe.colorAttachments=tn,Fe.depthAttachment=pt,Fe.stencilAttachment=Vt,Fe.depthStencilAttachment=qt,Tt.color=tn.map(J),Tt.depth=J(pt),Tt.stencil=J(Vt),Tt.depthStencil=J(qt),Tt.width=Fe.width,Tt.height=Fe.height,ae(Fe),Tt}function Et(Be,He){w(ee.next!==Fe,"can not resize a framebuffer which is currently in use");var gt=Math.max(Be|0,1),At=Math.max(He|0||gt,1);if(gt===Fe.width&&At===Fe.height)return Tt;for(var Ut=Fe.colorAttachments,xn=0;xn<Ut.length;++xn)xe(Ut[xn],gt,At);return xe(Fe.depthAttachment,gt,At),xe(Fe.stencilAttachment,gt,At),xe(Fe.depthStencilAttachment,gt,At),Fe.width=Tt.width=gt,Fe.height=Tt.height=At,ae(Fe),Tt}return Tt(ye,Ie),r(Tt,{resize:Et,_reglType:"framebuffer",_framebuffer:Fe,destroy:function(){ct(Fe),$e(Fe)},use:function(Be){ee.setFBO({framebuffer:Tt},Be)}})}function Ze(ye){var Ie=Array(6);function Fe(Et){var Be;w(Ie.indexOf(ee.next)<0,"can not update framebuffer which is currently in use");var He={color:null},gt=0,At=null,Ut="rgba",xn="uint8",wn=1;if(typeof Et=="number")gt=Et|0;else if(!Et)gt=1;else{w.type(Et,"object","invalid arguments for framebuffer");var Wt=Et;if("shape"in Wt){var Wn=Wt.shape;w(Array.isArray(Wn)&&Wn.length>=2,"invalid shape for framebuffer"),w(Wn[0]===Wn[1],"cube framebuffer must be square"),gt=Wn[0]}else"radius"in Wt&&(gt=Wt.radius|0),"width"in Wt?(gt=Wt.width|0,"height"in Wt&&w(Wt.height===gt,"must be square")):"height"in Wt&&(gt=Wt.height|0);("color"in Wt||"colors"in Wt)&&(At=Wt.color||Wt.colors,Array.isArray(At)&&w(At.length===1||E.webgl_draw_buffers,"multiple render targets not supported")),At||("colorCount"in Wt&&(wn=Wt.colorCount|0,w(wn>0,"invalid color buffer count")),"colorType"in Wt&&(w.oneOf(Wt.colorType,we,"invalid color type"),xn=Wt.colorType),"colorFormat"in Wt&&(Ut=Wt.colorFormat,w.oneOf(Wt.colorFormat,me,"invalid color format for texture"))),"depth"in Wt&&(He.depth=Wt.depth),"stencil"in Wt&&(He.stencil=Wt.stencil),"depthStencil"in Wt&&(He.depthStencil=Wt.depthStencil)}var vn;if(At)if(Array.isArray(At))for(vn=[],Be=0;Be<At.length;++Be)vn[Be]=At[Be];else vn=[At];else{vn=Array(wn);var jn={radius:gt,format:Ut,type:xn};for(Be=0;Be<wn;++Be)vn[Be]=Q.createCube(jn)}for(He.color=Array(vn.length),Be=0;Be<vn.length;++Be){var Xn=vn[Be];w(typeof Xn=="function"&&Xn._reglType==="textureCube","invalid cube map"),gt=gt||Xn.width,w(Xn.width===gt&&Xn.height===gt,"invalid cube map shape"),He.color[Be]={target:Kl,data:vn[Be]}}for(Be=0;Be<6;++Be){for(var Yn=0;Yn<vn.length;++Yn)He.color[Yn].target=Kl+Be;Be>0&&(He.depth=Ie[0].depth,He.stencil=Ie[0].stencil,He.depthStencil=Ie[0].depthStencil),Ie[Be]?Ie[Be](He):Ie[Be]=ie(He)}return r(Fe,{width:gt,height:gt,color:vn})}function Tt(Et){var Be,He=Et|0;if(w(He>0&&He<=k.maxCubeMapSize,"invalid radius for cube fbo"),He===Fe.width)return Fe;var gt=Fe.color;for(Be=0;Be<gt.length;++Be)gt[Be].resize(He);for(Be=0;Be<6;++Be)Ie[Be].resize(He);return Fe.width=Fe.height=He,Fe}return Fe(ye),r(Fe,{faces:Ie,resize:Tt,_reglType:"framebufferCube",destroy:function(){Ie.forEach(function(Et){Et.destroy()})}})}function Me(){ee.cur=null,ee.next=null,ee.dirty=!0,br(fe).forEach(function(ye){ye.framebuffer=p.createFramebuffer(),ae(ye)})}return r(ee,{getFramebuffer:function(ye){if(typeof ye=="function"&&ye._reglType==="framebuffer"){var Ie=ye._framebuffer;if(Ie instanceof Ge)return Ie}return null},create:ie,createCube:Ze,clear:function(){br(fe).forEach(ct)},restore:Me})}var q1=5126,d=34962,$=34963,W=["attributes","elements","offset","count","primitive","instances"];function se(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=q1,this.offset=0,this.stride=0,this.divisor=0}function Ne(p,E,k,Q,oe,q,ee){for(var me=k.maxAttributes,pe=new Array(me),we=0;we<me;++we)pe[we]=new se;var Se=0,Ee={},Oe={Record:se,scope:{},state:pe,currentVAO:null,targetVAO:null,restore:_e()?$e:function(){},createVAO:ct,getVAO:J,destroyBuffer:ge,setVAO:_e()?xe:Xe,clear:_e()?fe:function(){}};function ge(ae){for(var ie=0;ie<pe.length;++ie){var Ze=pe[ie];Ze.buffer===ae&&(p.disableVertexAttribArray(ie),Ze.buffer=null)}}function _e(){return E.oes_vertex_array_object}function z(){return E.angle_instanced_arrays}function J(ae){return typeof ae=="function"&&ae._vao?ae._vao:null}function xe(ae){if(ae!==Oe.currentVAO){var ie=_e();ae?ie.bindVertexArrayOES(ae.vao):ie.bindVertexArrayOES(null),Oe.currentVAO=ae}}function Xe(ae){if(ae!==Oe.currentVAO){if(ae)ae.bindAttrs();else{for(var ie=z(),Ze=0;Ze<pe.length;++Ze){var Me=pe[Ze];Me.buffer?(p.enableVertexAttribArray(Ze),Me.buffer.bind(),p.vertexAttribPointer(Ze,Me.size,Me.type,Me.normalized,Me.stride,Me.offfset),ie&&Me.divisor&&ie.vertexAttribDivisorANGLE(Ze,Me.divisor)):(p.disableVertexAttribArray(Ze),p.vertexAttrib4f(Ze,Me.x,Me.y,Me.z,Me.w))}ee.elements?p.bindBuffer($,ee.elements.buffer.buffer):p.bindBuffer($,null)}Oe.currentVAO=ae}}function fe(){br(Ee).forEach(function(ae){ae.destroy()})}function Ge(){this.id=++Se,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ae=_e();ae?this.vao=ae.createVertexArrayOES():this.vao=null,Ee[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var ae=z(),ie=this.attributes,Ze=0;Ze<ie.length;++Ze){var Me=ie[Ze];Me.buffer?(p.enableVertexAttribArray(Ze),p.bindBuffer(d,Me.buffer.buffer),p.vertexAttribPointer(Ze,Me.size,Me.type,Me.normalized,Me.stride,Me.offset),ae&&Me.divisor&&ae.vertexAttribDivisorANGLE(Ze,Me.divisor)):(p.disableVertexAttribArray(Ze),p.vertexAttrib4f(Ze,Me.x,Me.y,Me.z,Me.w))}for(var ye=ie.length;ye<me;++ye)p.disableVertexAttribArray(ye);var Ie=q.getElements(this.elements);Ie?p.bindBuffer($,Ie.buffer.buffer):p.bindBuffer($,null)},Ge.prototype.refresh=function(){var ae=_e();ae&&(ae.bindVertexArrayOES(this.vao),this.bindAttrs(),Oe.currentVAO=null,ae.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var ae=_e();this===Oe.currentVAO&&(Oe.currentVAO=null,ae.bindVertexArrayOES(null)),ae.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Ee[this.id]&&(delete Ee[this.id],Q.vaoCount-=1)};function $e(){var ae=_e();ae&&br(Ee).forEach(function(ie){ie.refresh()})}function ct(ae){var ie=new Ge;Q.vaoCount+=1;function Ze(Me){var ye;if(Array.isArray(Me))ye=Me,ie.elements&&ie.ownsElements&&ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1,ie.offset=0,ie.count=0,ie.instances=-1,ie.primitive=4;else{if(w(typeof Me=="object","invalid arguments for create vao"),w("attributes"in Me,"must specify attributes for vao"),Me.elements){var Ie=Me.elements;ie.ownsElements?typeof Ie=="function"&&Ie._reglType==="elements"?(ie.elements.destroy(),ie.ownsElements=!1):(ie.elements(Ie),ie.ownsElements=!1):q.getElements(Me.elements)?(ie.elements=Me.elements,ie.ownsElements=!1):(ie.elements=q.create(Me.elements),ie.ownsElements=!0)}else ie.elements=null,ie.ownsElements=!1;ye=Me.attributes,ie.offset=0,ie.count=-1,ie.instances=-1,ie.primitive=4,ie.elements&&(ie.count=ie.elements._elements.vertCount,ie.primitive=ie.elements._elements.primType),"offset"in Me&&(ie.offset=Me.offset|0),"count"in Me&&(ie.count=Me.count|0),"instances"in Me&&(ie.instances=Me.instances|0),"primitive"in Me&&(w(Me.primitive in $i,"bad primitive type: "+Me.primitive),ie.primitive=$i[Me.primitive]),w.optional(()=>{for(var xn=Object.keys(Me),wn=0;wn<xn.length;++wn)w(W.indexOf(xn[wn])>=0,'invalid option for vao: "'+xn[wn]+'" valid options are '+W)}),w(Array.isArray(ye),"attributes must be an array")}w(ye.length<me,"too many attributes"),w(ye.length>0,"must specify at least one attribute");var Fe={},Tt=ie.attributes;Tt.length=ye.length;for(var Et=0;Et<ye.length;++Et){var Be=ye[Et],He=Tt[Et]=new se,gt=Be.data||Be;if(Array.isArray(gt)||n(gt)||Pr(gt)){var At;ie.buffers[Et]&&(At=ie.buffers[Et],n(gt)&&At._buffer.byteLength>=gt.byteLength?At.subdata(gt):(At.destroy(),ie.buffers[Et]=null)),ie.buffers[Et]||(At=ie.buffers[Et]=oe.create(Be,d,!1,!0)),He.buffer=oe.getBuffer(At),He.size=He.buffer.dimension|0,He.normalized=!1,He.type=He.buffer.dtype,He.offset=0,He.stride=0,He.divisor=0,He.state=1,Fe[Et]=1}else oe.getBuffer(Be)?(He.buffer=oe.getBuffer(Be),He.size=He.buffer.dimension|0,He.normalized=!1,He.type=He.buffer.dtype,He.offset=0,He.stride=0,He.divisor=0,He.state=1):oe.getBuffer(Be.buffer)?(He.buffer=oe.getBuffer(Be.buffer),He.size=(+Be.size||He.buffer.dimension)|0,He.normalized=!!Be.normalized||!1,"type"in Be?(w.parameter(Be.type,Fo,"invalid buffer type"),He.type=Fo[Be.type]):He.type=He.buffer.dtype,He.offset=(Be.offset||0)|0,He.stride=(Be.stride||0)|0,He.divisor=(Be.divisor||0)|0,He.state=1,w(He.size>=1&&He.size<=4,"size must be between 1 and 4"),w(He.offset>=0,"invalid offset"),w(He.stride>=0&&He.stride<=255,"stride must be between 0 and 255"),w(He.divisor>=0,"divisor must be positive"),w(!He.divisor||!!E.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Be?(w(Et>0,"first attribute must not be a constant"),He.x=+Be.x||0,He.y=+Be.y||0,He.z=+Be.z||0,He.w=+Be.w||0,He.state=2):w(!1,"invalid attribute spec for location "+Et)}for(var Ut=0;Ut<ie.buffers.length;++Ut)!Fe[Ut]&&ie.buffers[Ut]&&(ie.buffers[Ut].destroy(),ie.buffers[Ut]=null);return ie.refresh(),Ze}return Ze.destroy=function(){for(var Me=0;Me<ie.buffers.length;++Me)ie.buffers[Me]&&ie.buffers[Me].destroy();ie.buffers.length=0,ie.ownsElements&&(ie.elements.destroy(),ie.elements=null,ie.ownsElements=!1),ie.destroy()},Ze._vao=ie,Ze._reglType="vao",Ze(ae)}return Oe}var qe=35632,tt=35633,Nt=35718,en=35721;function Qt(p,E,k,Q){var oe={},q={};function ee(z,J,xe,Xe){this.name=z,this.id=J,this.location=xe,this.info=Xe}function me(z,J){for(var xe=0;xe<z.length;++xe)if(z[xe].id===J.id){z[xe].location=J.location;return}z.push(J)}function pe(z,J,xe){var Xe=z===qe?oe:q,fe=Xe[J];if(!fe){var Ge=E.str(J);fe=p.createShader(z),p.shaderSource(fe,Ge),p.compileShader(fe),w.shaderError(p,fe,Ge,z,xe),Xe[J]=fe}return fe}var we={},Se=[],Ee=0;function Oe(z,J){this.id=Ee++,this.fragId=z,this.vertId=J,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ge(z,J,xe){var Xe,fe,Ge=pe(qe,z.fragId),$e=pe(tt,z.vertId),ct=z.program=p.createProgram();if(p.attachShader(ct,Ge),p.attachShader(ct,$e),xe)for(Xe=0;Xe<xe.length;++Xe){var ae=xe[Xe];p.bindAttribLocation(ct,ae[0],ae[1])}p.linkProgram(ct),w.linkError(p,ct,E.str(z.fragId),E.str(z.vertId),J);var ie=p.getProgramParameter(ct,Nt);Q.profile&&(z.stats.uniformsCount=ie);var Ze=z.uniforms;for(Xe=0;Xe<ie;++Xe)if(fe=p.getActiveUniform(ct,Xe),fe){if(fe.size>1)for(var Me=0;Me<fe.size;++Me){var ye=fe.name.replace("[0]","["+Me+"]");me(Ze,new ee(ye,E.id(ye),p.getUniformLocation(ct,ye),fe))}var Ie=fe.name;fe.size>1&&(Ie=Ie.replace("[0]","")),me(Ze,new ee(Ie,E.id(Ie),p.getUniformLocation(ct,Ie),fe))}var Fe=p.getProgramParameter(ct,en);Q.profile&&(z.stats.attributesCount=Fe);var Tt=z.attributes;for(Xe=0;Xe<Fe;++Xe)fe=p.getActiveAttrib(ct,Xe),fe&&me(Tt,new ee(fe.name,E.id(fe.name),p.getAttribLocation(ct,fe.name),fe))}Q.profile&&(k.getMaxUniformsCount=function(){var z=0;return Se.forEach(function(J){J.stats.uniformsCount>z&&(z=J.stats.uniformsCount)}),z},k.getMaxAttributesCount=function(){var z=0;return Se.forEach(function(J){J.stats.attributesCount>z&&(z=J.stats.attributesCount)}),z});function _e(){oe={},q={};for(var z=0;z<Se.length;++z)ge(Se[z],null,Se[z].attributes.map(function(J){return[J.location,J.name]}))}return{clear:function(){var z=p.deleteShader.bind(p);br(oe).forEach(z),oe={},br(q).forEach(z),q={},Se.forEach(function(J){p.deleteProgram(J.program)}),Se.length=0,we={},k.shaderCount=0},program:function(z,J,xe,Xe){w.command(z>=0,"missing vertex shader",xe),w.command(J>=0,"missing fragment shader",xe);var fe=we[J];fe||(fe=we[J]={});var Ge=fe[z];if(Ge&&(Ge.refCount++,!Xe))return Ge;var $e=new Oe(J,z);return k.shaderCount++,ge($e,xe,Xe),Ge||(fe[z]=$e),Se.push($e),r($e,{destroy:function(){if($e.refCount--,$e.refCount<=0){p.deleteProgram($e.program);var ct=Se.indexOf($e);Se.splice(ct,1),k.shaderCount--}fe[$e.vertId].refCount<=0&&(p.deleteShader(q[$e.vertId]),delete q[$e.vertId],delete we[$e.fragId][$e.vertId]),Object.keys(we[$e.fragId]).length||(p.deleteShader(oe[$e.fragId]),delete oe[$e.fragId],delete we[$e.fragId])}})},restore:_e,shader:pe,frag:-1,vert:-1}}var $n=6408,an=5121,Kt=3333,d0=5126;function D9(p,E,k,Q,oe,q,ee){function me(Se){var Ee;E.next===null?(w(oe.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ee=an):(w(E.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ee=E.next.colorAttachments[0].texture._texture.type,w.optional(function(){q.oes_texture_float?(w(Ee===an||Ee===d0,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ee===d0&&w(ee.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):w(Ee===an,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Oe=0,ge=0,_e=Q.framebufferWidth,z=Q.framebufferHeight,J=null;n(Se)?J=Se:Se&&(w.type(Se,"object","invalid arguments to regl.read()"),Oe=Se.x|0,ge=Se.y|0,w(Oe>=0&&Oe<Q.framebufferWidth,"invalid x offset for regl.read"),w(ge>=0&&ge<Q.framebufferHeight,"invalid y offset for regl.read"),_e=(Se.width||Q.framebufferWidth-Oe)|0,z=(Se.height||Q.framebufferHeight-ge)|0,J=Se.data||null),J&&(Ee===an?w(J instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ee===d0&&w(J instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),w(_e>0&&_e+Oe<=Q.framebufferWidth,"invalid width for read pixels"),w(z>0&&z+ge<=Q.framebufferHeight,"invalid height for read pixels"),k();var xe=_e*z*4;return J||(Ee===an?J=new Uint8Array(xe):Ee===d0&&(J=J||new Float32Array(xe))),w.isTypedArray(J,"data buffer for regl.read() must be a typedarray"),w(J.byteLength>=xe,"data buffer for regl.read() too small"),p.pixelStorei(Kt,4),p.readPixels(Oe,ge,_e,z,$n,Ee,J),J}function pe(Se){var Ee;return E.setFBO({framebuffer:Se.framebuffer},function(){Ee=me(Se)}),Ee}function we(Se){return!Se||!("framebuffer"in Se)?me(Se):pe(Se)}return we}function Jl(p){return Array.prototype.slice.call(p)}function es(p){return Jl(p).join("")}function F9(){var p=0,E=[],k=[];function Q(Ee){for(var Oe=0;Oe<k.length;++Oe)if(k[Oe]===Ee)return E[Oe];var ge="g"+p++;return E.push(ge),k.push(Ee),ge}function oe(){var Ee=[];function Oe(){Ee.push.apply(Ee,Jl(arguments))}var ge=[];function _e(){var z="v"+p++;return ge.push(z),arguments.length>0&&(Ee.push(z,"="),Ee.push.apply(Ee,Jl(arguments)),Ee.push(";")),z}return r(Oe,{def:_e,toString:function(){return es([ge.length>0?"var "+ge.join(",")+";":"",es(Ee)])}})}function q(){var Ee=oe(),Oe=oe(),ge=Ee.toString,_e=Oe.toString;function z(J,xe){Oe(J,xe,"=",Ee.def(J,xe),";")}return r(function(){Ee.apply(Ee,Jl(arguments))},{def:Ee.def,entry:Ee,exit:Oe,save:z,set:function(J,xe,Xe){z(J,xe),Ee(J,xe,"=",Xe,";")},toString:function(){return ge()+_e()}})}function ee(){var Ee=es(arguments),Oe=q(),ge=q(),_e=Oe.toString,z=ge.toString;return r(Oe,{then:function(){return Oe.apply(Oe,Jl(arguments)),this},else:function(){return ge.apply(ge,Jl(arguments)),this},toString:function(){var J=z();return J&&(J="else{"+J+"}"),es(["if(",Ee,"){",_e(),"}",J])}})}var me=oe(),pe={};function we(Ee,Oe){var ge=[];function _e(){var fe="a"+ge.length;return ge.push(fe),fe}Oe=Oe||0;for(var z=0;z<Oe;++z)_e();var J=q(),xe=J.toString,Xe=pe[Ee]=r(J,{arg:_e,toString:function(){return es(["function(",ge.join(),"){",xe(),"}"])}});return Xe}function Se(){var Ee=['"use strict";',me,"return {"];Object.keys(pe).forEach(function(_e){Ee.push('"',_e,'":',pe[_e].toString(),",")}),Ee.push("}");var Oe=es(Ee).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ge=Function.apply(null,E.concat(Oe));return ge.apply(null,k)}return{global:me,link:Q,block:oe,proc:we,scope:q,cond:ee,compile:Se}}var ts="xyzw".split(""),mg=5121,ns=1,Q1=2,K1=0,Z1=1,J1=2,ep=3,h0=4,vg=5,gg=6,yg="dither",xg="blend.enable",_g="blend.color",tp="blend.equation",np="blend.func",wg="depth.enable",Eg="depth.func",Sg="depth.range",bg="depth.mask",rp="colorMask",Tg="cull.enable",Ag="cull.face",ip="frontFace",op="lineWidth",Cg="polygonOffset.enable",ap="polygonOffset.offset",Lg="sample.alpha",Rg="sample.enable",lp="sample.coverage",kg="stencil.enable",Og="stencil.mask",sp="stencil.func",up="stencil.opFront",Iu="stencil.opBack",Pg="scissor.enable",p0="scissor.box",ho="viewport",Du="profile",Ua="framebuffer",Fu="vert",$u="frag",Va="elements",Ha="primitive",Wa="count",m0="offset",v0="instances",Bu="vao",cp="Width",fp="Height",rs=Ua+cp,is=Ua+fp,$9=ho+cp,B9=ho+fp,Ng="drawingBuffer",Mg=Ng+cp,Ig=Ng+fp,j9=[np,tp,sp,up,Iu,lp,ho,p0,ap],os=34962,dp=34963,z9=35632,G9=35633,Dg=3553,U9=34067,V9=2884,H9=3042,W9=3024,X9=2960,Y9=2929,q9=3089,Q9=32823,K9=32926,Z9=32928,hp=5126,g0=35664,y0=35665,x0=35666,pp=5124,_0=35667,w0=35668,E0=35669,mp=35670,S0=35671,b0=35672,T0=35673,ju=35674,zu=35675,Gu=35676,Uu=35678,Vu=35680,vp=4,Hu=1028,Xa=1029,Fg=2304,gp=2305,J9=32775,e7=32776,t7=519,Ho=7680,$g=0,Bg=1,jg=32774,n7=513,zg=36160,r7=36064,zi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gg=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],as={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Wo={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ug={frag:z9,vert:G9},yp={cw:Fg,ccw:gp};function A0(p){return Array.isArray(p)||n(p)||Pr(p)}function Vg(p){return p.sort(function(E,k){return E===ho?-1:k===ho?1:E<k?-1:1})}function Zn(p,E,k,Q){this.thisDep=p,this.contextDep=E,this.propDep=k,this.append=Q}function Xo(p){return p&&!(p.thisDep||p.contextDep||p.propDep)}function Bn(p){return new Zn(!1,!1,!1,p)}function Nr(p,E){var k=p.type;if(k===K1){var Q=p.data.length;return new Zn(!0,Q>=1,Q>=2,E)}else if(k===h0){var oe=p.data;return new Zn(oe.thisDep,oe.contextDep,oe.propDep,E)}else{if(k===vg)return new Zn(!1,!1,!1,E);if(k===gg){for(var q=!1,ee=!1,me=!1,pe=0;pe<p.data.length;++pe){var we=p.data[pe];if(we.type===Z1)me=!0;else if(we.type===J1)ee=!0;else if(we.type===ep)q=!0;else if(we.type===K1){q=!0;var Se=we.data;Se>=1&&(ee=!0),Se>=2&&(me=!0)}else we.type===h0&&(q=q||we.data.thisDep,ee=ee||we.data.contextDep,me=me||we.data.propDep)}return new Zn(q,ee,me,E)}else return new Zn(k===ep,k===J1,k===Z1,E)}}var Hg=new Zn(!1,!1,!1,function(){});function i7(p,E,k,Q,oe,q,ee,me,pe,we,Se,Ee,Oe,ge,_e){var z=we.Record,J={add:32774,subtract:32778,"reverse subtract":32779};k.ext_blend_minmax&&(J.min=J9,J.max=e7);var xe=k.angle_instanced_arrays,Xe=k.webgl_draw_buffers,fe=k.oes_vertex_array_object,Ge={dirty:!0,profile:_e.profile},$e={},ct=[],ae={},ie={};function Ze(b){return b.replace(".","_")}function Me(b,x,N){var j=Ze(b);ct.push(b),$e[j]=Ge[j]=!!N,ae[j]=x}function ye(b,x,N){var j=Ze(b);ct.push(b),Array.isArray(N)?(Ge[j]=N.slice(),$e[j]=N.slice()):Ge[j]=$e[j]=N,ie[j]=x}Me(yg,W9),Me(xg,H9),ye(_g,"blendColor",[0,0,0,0]),ye(tp,"blendEquationSeparate",[jg,jg]),ye(np,"blendFuncSeparate",[Bg,$g,Bg,$g]),Me(wg,Y9,!0),ye(Eg,"depthFunc",n7),ye(Sg,"depthRange",[0,1]),ye(bg,"depthMask",!0),ye(rp,rp,[!0,!0,!0,!0]),Me(Tg,V9),ye(Ag,"cullFace",Xa),ye(ip,ip,gp),ye(op,op,1),Me(Cg,Q9),ye(ap,"polygonOffset",[0,0]),Me(Lg,K9),Me(Rg,Z9),ye(lp,"sampleCoverage",[1,!1]),Me(kg,X9),ye(Og,"stencilMask",-1),ye(sp,"stencilFunc",[t7,0,-1]),ye(up,"stencilOpSeparate",[Hu,Ho,Ho,Ho]),ye(Iu,"stencilOpSeparate",[Xa,Ho,Ho,Ho]),Me(Pg,q9),ye(p0,"scissor",[0,0,p.drawingBufferWidth,p.drawingBufferHeight]),ye(ho,ho,[0,0,p.drawingBufferWidth,p.drawingBufferHeight]);var Ie={gl:p,context:Oe,strings:E,next:$e,current:Ge,draw:Ee,elements:q,buffer:oe,shader:Se,attributes:we.state,vao:we,uniforms:pe,framebuffer:me,extensions:k,timer:ge,isBufferArgs:A0},Fe={primTypes:$i,compareFuncs:as,blendFuncs:zi,blendEquations:J,stencilOps:Wo,glTypes:Fo,orientationType:yp};w.optional(function(){Ie.isArrayLike=mn}),Xe&&(Fe.backBuffer=[Xa],Fe.drawBuffer=mt(Q.maxDrawbuffers,function(b){return b===0?[0]:mt(b,function(x){return r7+x})}));var Tt=0;function Et(){var b=F9(),x=b.link,N=b.global;b.id=Tt++,b.batchId="0";var j=x(Ie),G=b.shared={props:"a0"};Object.keys(Ie).forEach(function(R){G[R]=N.def(j,".",R)}),w.optional(function(){b.CHECK=x(w),b.commandStr=w.guessCommand(),b.command=x(b.commandStr),b.assert=function(R,C,X){R("if(!(",C,"))",this.CHECK,".commandRaise(",x(X),",",this.command,");")},Fe.invalidBlendCombinations=Gg});var D=b.next={},I=b.current={};Object.keys(ie).forEach(function(R){Array.isArray(Ge[R])&&(D[R]=N.def(G.next,".",R),I[R]=N.def(G.current,".",R))});var B=b.constants={};Object.keys(Fe).forEach(function(R){B[R]=N.def(JSON.stringify(Fe[R]))}),b.invoke=function(R,C){switch(C.type){case K1:var X=["this",G.context,G.props,b.batchId];return R.def(x(C.data),".call(",X.slice(0,Math.max(C.data.length+1,4)),")");case Z1:return R.def(G.props,C.data);case J1:return R.def(G.context,C.data);case ep:return R.def("this",C.data);case h0:return C.data.append(b,R),C.data.ref;case vg:return C.data.toString();case gg:return C.data.map(function(V){return b.invoke(R,V)})}},b.attribCache={};var T={};return b.scopeAttrib=function(R){var C=E.id(R);if(C in T)return T[C];var X=we.scope[C];X||(X=we.scope[C]=new z);var V=T[C]=x(X);return V},b}function Be(b){var x=b.static,N=b.dynamic,j;if(Du in x){var G=!!x[Du];j=Bn(function(I,B){return G}),j.enable=G}else if(Du in N){var D=N[Du];j=Nr(D,function(I,B){return I.invoke(B,D)})}return j}function He(b,x){var N=b.static,j=b.dynamic;if(Ua in N){var G=N[Ua];return G?(G=me.getFramebuffer(G),w.command(G,"invalid framebuffer object"),Bn(function(I,B){var T=I.link(G),R=I.shared;B.set(R.framebuffer,".next",T);var C=R.context;return B.set(C,"."+rs,T+".width"),B.set(C,"."+is,T+".height"),T})):Bn(function(I,B){var T=I.shared;B.set(T.framebuffer,".next","null");var R=T.context;return B.set(R,"."+rs,R+"."+Mg),B.set(R,"."+is,R+"."+Ig),"null"})}else if(Ua in j){var D=j[Ua];return Nr(D,function(I,B){var T=I.invoke(B,D),R=I.shared,C=R.framebuffer,X=B.def(C,".getFramebuffer(",T,")");w.optional(function(){I.assert(B,"!"+T+"||"+X,"invalid framebuffer object")}),B.set(C,".next",X);var V=R.context;return B.set(V,"."+rs,X+"?"+X+".width:"+V+"."+Mg),B.set(V,"."+is,X+"?"+X+".height:"+V+"."+Ig),X})}else return null}function gt(b,x,N){var j=b.static,G=b.dynamic;function D(T){if(T in j){var R=j[T];w.commandType(R,"object","invalid "+T,N.commandStr);var C=!0,X=R.x|0,V=R.y|0,re,le;return"width"in R?(re=R.width|0,w.command(re>=0,"invalid "+T,N.commandStr)):C=!1,"height"in R?(le=R.height|0,w.command(le>=0,"invalid "+T,N.commandStr)):C=!1,new Zn(!C&&x&&x.thisDep,!C&&x&&x.contextDep,!C&&x&&x.propDep,function(lt,Qe){var ce=lt.shared.context,ne=re;"width"in R||(ne=Qe.def(ce,".",rs,"-",X));var nt=le;return"height"in R||(nt=Qe.def(ce,".",is,"-",V)),[X,V,ne,nt]})}else if(T in G){var ke=G[T],_t=Nr(ke,function(lt,Qe){var ce=lt.invoke(Qe,ke);w.optional(function(){lt.assert(Qe,ce+"&&typeof "+ce+'==="object"',"invalid "+T)});var ne=lt.shared.context,nt=Qe.def(ce,".x|0"),et=Qe.def(ce,".y|0"),yt=Qe.def('"width" in ',ce,"?",ce,".width|0:","(",ne,".",rs,"-",nt,")"),on=Qe.def('"height" in ',ce,"?",ce,".height|0:","(",ne,".",is,"-",et,")");return w.optional(function(){lt.assert(Qe,yt+">=0&&"+on+">=0","invalid "+T)}),[nt,et,yt,on]});return x&&(_t.thisDep=_t.thisDep||x.thisDep,_t.contextDep=_t.contextDep||x.contextDep,_t.propDep=_t.propDep||x.propDep),_t}else return x?new Zn(x.thisDep,x.contextDep,x.propDep,function(lt,Qe){var ce=lt.shared.context;return[0,0,Qe.def(ce,".",rs),Qe.def(ce,".",is)]}):null}var I=D(ho);if(I){var B=I;I=new Zn(I.thisDep,I.contextDep,I.propDep,function(T,R){var C=B.append(T,R),X=T.shared.context;return R.set(X,"."+$9,C[2]),R.set(X,"."+B9,C[3]),C})}return{viewport:I,scissor_box:D(p0)}}function At(b,x){var N=b.static,j=typeof N[$u]=="string"&&typeof N[Fu]=="string";if(j){if(Object.keys(x.dynamic).length>0)return null;var G=x.static,D=Object.keys(G);if(D.length>0&&typeof G[D[0]]=="number"){for(var I=[],B=0;B<D.length;++B)w(typeof G[D[B]]=="number","must specify all vertex attribute locations when using vaos"),I.push([G[D[B]]|0,D[B]]);return I}}return null}function Ut(b,x,N){var j=b.static,G=b.dynamic;function D(C){if(C in j){var X=E.id(j[C]);w.optional(function(){Se.shader(Ug[C],X,w.guessCommand())});var V=Bn(function(){return X});return V.id=X,V}else if(C in G){var re=G[C];return Nr(re,function(le,ke){var _t=le.invoke(ke,re),lt=ke.def(le.shared.strings,".id(",_t,")");return w.optional(function(){ke(le.shared.shader,".shader(",Ug[C],",",lt,",",le.command,");")}),lt})}return null}var I=D($u),B=D(Fu),T=null,R;return Xo(I)&&Xo(B)?(T=Se.program(B.id,I.id,null,N),R=Bn(function(C,X){return C.link(T)})):R=new Zn(I&&I.thisDep||B&&B.thisDep,I&&I.contextDep||B&&B.contextDep,I&&I.propDep||B&&B.propDep,function(C,X){var V=C.shared.shader,re;I?re=I.append(C,X):re=X.def(V,".",$u);var le;B?le=B.append(C,X):le=X.def(V,".",Fu);var ke=V+".program("+le+","+re;return w.optional(function(){ke+=","+C.command}),X.def(ke+")")}),{frag:I,vert:B,progVar:R,program:T}}function xn(b,x){var N=b.static,j=b.dynamic,G={},D=!1;function I(){if(Bu in N){var Qe=N[Bu];return Qe!==null&&we.getVAO(Qe)===null&&(Qe=we.createVAO(Qe)),D=!0,G.vao=Qe,Bn(function(ne){var nt=we.getVAO(Qe);return nt?ne.link(nt):"null"})}else if(Bu in j){D=!0;var ce=j[Bu];return Nr(ce,function(ne,nt){var et=ne.invoke(nt,ce);return nt.def(ne.shared.vao+".getVAO("+et+")")})}return null}var B=I(),T=!1;function R(){if(Va in N){var Qe=N[Va];if(G.elements=Qe,A0(Qe)){var ce=G.elements=q.create(Qe,!0);Qe=q.getElements(ce),T=!0}else Qe&&(Qe=q.getElements(Qe),T=!0,w.command(Qe,"invalid elements",x.commandStr));var ne=Bn(function(et,yt){if(Qe){var on=et.link(Qe);return et.ELEMENTS=on,on}return et.ELEMENTS=null,null});return ne.value=Qe,ne}else if(Va in j){T=!0;var nt=j[Va];return Nr(nt,function(et,yt){var on=et.shared,fr=on.isBufferArgs,qa=on.elements,po=et.invoke(yt,nt),Ui=yt.def("null"),Yo=yt.def(fr,"(",po,")"),Qa=et.cond(Yo).then(Ui,"=",qa,".createStream(",po,");").else(Ui,"=",qa,".getElements(",po,");");return w.optional(function(){et.assert(Qa.else,"!"+po+"||"+Ui,"invalid elements")}),yt.entry(Qa),yt.exit(et.cond(Yo).then(qa,".destroyStream(",Ui,");")),et.ELEMENTS=Ui,Ui})}else if(D)return new Zn(B.thisDep,B.contextDep,B.propDep,function(et,yt){return yt.def(et.shared.vao+".currentVAO?"+et.shared.elements+".getElements("+et.shared.vao+".currentVAO.elements):null")});return null}var C=R();function X(){if(Ha in N){var Qe=N[Ha];return G.primitive=Qe,w.commandParameter(Qe,$i,"invalid primitve",x.commandStr),Bn(function(ne,nt){return $i[Qe]})}else if(Ha in j){var ce=j[Ha];return Nr(ce,function(ne,nt){var et=ne.constants.primTypes,yt=ne.invoke(nt,ce);return w.optional(function(){ne.assert(nt,yt+" in "+et,"invalid primitive, must be one of "+Object.keys($i))}),nt.def(et,"[",yt,"]")})}else{if(T)return Xo(C)?C.value?Bn(function(ne,nt){return nt.def(ne.ELEMENTS,".primType")}):Bn(function(){return vp}):new Zn(C.thisDep,C.contextDep,C.propDep,function(ne,nt){var et=ne.ELEMENTS;return nt.def(et,"?",et,".primType:",vp)});if(D)return new Zn(B.thisDep,B.contextDep,B.propDep,function(ne,nt){return nt.def(ne.shared.vao+".currentVAO?"+ne.shared.vao+".currentVAO.primitive:"+vp)})}return null}function V(Qe,ce){if(Qe in N){var ne=N[Qe]|0;return ce?G.offset=ne:G.instances=ne,w.command(!ce||ne>=0,"invalid "+Qe,x.commandStr),Bn(function(et,yt){return ce&&(et.OFFSET=ne),ne})}else if(Qe in j){var nt=j[Qe];return Nr(nt,function(et,yt){var on=et.invoke(yt,nt);return ce&&(et.OFFSET=on,w.optional(function(){et.assert(yt,on+">=0","invalid "+Qe)})),on})}else if(ce){if(T)return Bn(function(et,yt){return et.OFFSET=0,0});if(D)return new Zn(B.thisDep,B.contextDep,B.propDep,function(et,yt){return yt.def(et.shared.vao+".currentVAO?"+et.shared.vao+".currentVAO.offset:0")})}else if(D)return new Zn(B.thisDep,B.contextDep,B.propDep,function(et,yt){return yt.def(et.shared.vao+".currentVAO?"+et.shared.vao+".currentVAO.instances:-1")});return null}var re=V(m0,!0);function le(){if(Wa in N){var Qe=N[Wa]|0;return G.count=Qe,w.command(typeof Qe=="number"&&Qe>=0,"invalid vertex count",x.commandStr),Bn(function(){return Qe})}else if(Wa in j){var ce=j[Wa];return Nr(ce,function(yt,on){var fr=yt.invoke(on,ce);return w.optional(function(){yt.assert(on,"typeof "+fr+'==="number"&&'+fr+">=0&&"+fr+"===("+fr+"|0)","invalid vertex count")}),fr})}else if(T)if(Xo(C)){if(C)return re?new Zn(re.thisDep,re.contextDep,re.propDep,function(yt,on){var fr=on.def(yt.ELEMENTS,".vertCount-",yt.OFFSET);return w.optional(function(){yt.assert(on,fr+">=0","invalid vertex offset/element buffer too small")}),fr}):Bn(function(yt,on){return on.def(yt.ELEMENTS,".vertCount")});var ne=Bn(function(){return-1});return w.optional(function(){ne.MISSING=!0}),ne}else{var nt=new Zn(C.thisDep||re.thisDep,C.contextDep||re.contextDep,C.propDep||re.propDep,function(yt,on){var fr=yt.ELEMENTS;return yt.OFFSET?on.def(fr,"?",fr,".vertCount-",yt.OFFSET,":-1"):on.def(fr,"?",fr,".vertCount:-1")});return w.optional(function(){nt.DYNAMIC=!0}),nt}else if(D){var et=new Zn(B.thisDep,B.contextDep,B.propDep,function(yt,on){return on.def(yt.shared.vao,".currentVAO?",yt.shared.vao,".currentVAO.count:-1")});return et}return null}var ke=X(),_t=le(),lt=V(v0,!1);return{elements:C,primitive:ke,count:_t,instances:lt,offset:re,vao:B,vaoActive:D,elementsActive:T,static:G}}function wn(b,x){var N=b.static,j=b.dynamic,G={};return ct.forEach(function(D){var I=Ze(D);function B(T,R){if(D in N){var C=T(N[D]);G[I]=Bn(function(){return C})}else if(D in j){var X=j[D];G[I]=Nr(X,function(V,re){return R(V,re,V.invoke(re,X))})}}switch(D){case Tg:case xg:case yg:case kg:case wg:case Pg:case Cg:case Lg:case Rg:case bg:return B(function(T){return w.commandType(T,"boolean",D,x.commandStr),T},function(T,R,C){return w.optional(function(){T.assert(R,"typeof "+C+'==="boolean"',"invalid flag "+D,T.commandStr)}),C});case Eg:return B(function(T){return w.commandParameter(T,as,"invalid "+D,x.commandStr),as[T]},function(T,R,C){var X=T.constants.compareFuncs;return w.optional(function(){T.assert(R,C+" in "+X,"invalid "+D+", must be one of "+Object.keys(as))}),R.def(X,"[",C,"]")});case Sg:return B(function(T){return w.command(mn(T)&&T.length===2&&typeof T[0]=="number"&&typeof T[1]=="number"&&T[0]<=T[1],"depth range is 2d array",x.commandStr),T},function(T,R,C){w.optional(function(){T.assert(R,T.shared.isArrayLike+"("+C+")&&"+C+".length===2&&typeof "+C+'[0]==="number"&&typeof '+C+'[1]==="number"&&'+C+"[0]<="+C+"[1]","depth range must be a 2d array")});var X=R.def("+",C,"[0]"),V=R.def("+",C,"[1]");return[X,V]});case np:return B(function(T){w.commandType(T,"object","blend.func",x.commandStr);var R="srcRGB"in T?T.srcRGB:T.src,C="srcAlpha"in T?T.srcAlpha:T.src,X="dstRGB"in T?T.dstRGB:T.dst,V="dstAlpha"in T?T.dstAlpha:T.dst;return w.commandParameter(R,zi,I+".srcRGB",x.commandStr),w.commandParameter(C,zi,I+".srcAlpha",x.commandStr),w.commandParameter(X,zi,I+".dstRGB",x.commandStr),w.commandParameter(V,zi,I+".dstAlpha",x.commandStr),w.command(Gg.indexOf(R+", "+X)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+R+", "+X+")",x.commandStr),[zi[R],zi[X],zi[C],zi[V]]},function(T,R,C){var X=T.constants.blendFuncs;w.optional(function(){T.assert(R,C+"&&typeof "+C+'==="object"',"invalid blend func, must be an object")});function V(ce,ne){var nt=R.def('"',ce,ne,'" in ',C,"?",C,".",ce,ne,":",C,".",ce);return w.optional(function(){T.assert(R,nt+" in "+X,"invalid "+D+"."+ce+ne+", must be one of "+Object.keys(zi))}),nt}var re=V("src","RGB"),le=V("dst","RGB");w.optional(function(){var ce=T.constants.invalidBlendCombinations;T.assert(R,ce+".indexOf("+re+'+", "+'+le+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var ke=R.def(X,"[",re,"]"),_t=R.def(X,"[",V("src","Alpha"),"]"),lt=R.def(X,"[",le,"]"),Qe=R.def(X,"[",V("dst","Alpha"),"]");return[ke,lt,_t,Qe]});case tp:return B(function(T){if(typeof T=="string")return w.commandParameter(T,J,"invalid "+D,x.commandStr),[J[T],J[T]];if(typeof T=="object")return w.commandParameter(T.rgb,J,D+".rgb",x.commandStr),w.commandParameter(T.alpha,J,D+".alpha",x.commandStr),[J[T.rgb],J[T.alpha]];w.commandRaise("invalid blend.equation",x.commandStr)},function(T,R,C){var X=T.constants.blendEquations,V=R.def(),re=R.def(),le=T.cond("typeof ",C,'==="string"');return w.optional(function(){function ke(_t,lt,Qe){T.assert(_t,Qe+" in "+X,"invalid "+lt+", must be one of "+Object.keys(J))}ke(le.then,D,C),T.assert(le.else,C+"&&typeof "+C+'==="object"',"invalid "+D),ke(le.else,D+".rgb",C+".rgb"),ke(le.else,D+".alpha",C+".alpha")}),le.then(V,"=",re,"=",X,"[",C,"];"),le.else(V,"=",X,"[",C,".rgb];",re,"=",X,"[",C,".alpha];"),R(le),[V,re]});case _g:return B(function(T){return w.command(mn(T)&&T.length===4,"blend.color must be a 4d array",x.commandStr),mt(4,function(R){return+T[R]})},function(T,R,C){return w.optional(function(){T.assert(R,T.shared.isArrayLike+"("+C+")&&"+C+".length===4","blend.color must be a 4d array")}),mt(4,function(X){return R.def("+",C,"[",X,"]")})});case Og:return B(function(T){return w.commandType(T,"number",I,x.commandStr),T|0},function(T,R,C){return w.optional(function(){T.assert(R,"typeof "+C+'==="number"',"invalid stencil.mask")}),R.def(C,"|0")});case sp:return B(function(T){w.commandType(T,"object",I,x.commandStr);var R=T.cmp||"keep",C=T.ref||0,X="mask"in T?T.mask:-1;return w.commandParameter(R,as,D+".cmp",x.commandStr),w.commandType(C,"number",D+".ref",x.commandStr),w.commandType(X,"number",D+".mask",x.commandStr),[as[R],C,X]},function(T,R,C){var X=T.constants.compareFuncs;w.optional(function(){function ke(){T.assert(R,Array.prototype.join.call(arguments,""),"invalid stencil.func")}ke(C+"&&typeof ",C,'==="object"'),ke('!("cmp" in ',C,")||(",C,".cmp in ",X,")")});var V=R.def('"cmp" in ',C,"?",X,"[",C,".cmp]",":",Ho),re=R.def(C,".ref|0"),le=R.def('"mask" in ',C,"?",C,".mask|0:-1");return[V,re,le]});case up:case Iu:return B(function(T){w.commandType(T,"object",I,x.commandStr);var R=T.fail||"keep",C=T.zfail||"keep",X=T.zpass||"keep";return w.commandParameter(R,Wo,D+".fail",x.commandStr),w.commandParameter(C,Wo,D+".zfail",x.commandStr),w.commandParameter(X,Wo,D+".zpass",x.commandStr),[D===Iu?Xa:Hu,Wo[R],Wo[C],Wo[X]]},function(T,R,C){var X=T.constants.stencilOps;w.optional(function(){T.assert(R,C+"&&typeof "+C+'==="object"',"invalid "+D)});function V(re){return w.optional(function(){T.assert(R,'!("'+re+'" in '+C+")||("+C+"."+re+" in "+X+")","invalid "+D+"."+re+", must be one of "+Object.keys(Wo))}),R.def('"',re,'" in ',C,"?",X,"[",C,".",re,"]:",Ho)}return[D===Iu?Xa:Hu,V("fail"),V("zfail"),V("zpass")]});case ap:return B(function(T){w.commandType(T,"object",I,x.commandStr);var R=T.factor|0,C=T.units|0;return w.commandType(R,"number",I+".factor",x.commandStr),w.commandType(C,"number",I+".units",x.commandStr),[R,C]},function(T,R,C){w.optional(function(){T.assert(R,C+"&&typeof "+C+'==="object"',"invalid "+D)});var X=R.def(C,".factor|0"),V=R.def(C,".units|0");return[X,V]});case Ag:return B(function(T){var R=0;return T==="front"?R=Hu:T==="back"&&(R=Xa),w.command(!!R,I,x.commandStr),R},function(T,R,C){return w.optional(function(){T.assert(R,C+'==="front"||'+C+'==="back"',"invalid cull.face")}),R.def(C,'==="front"?',Hu,":",Xa)});case op:return B(function(T){return w.command(typeof T=="number"&&T>=Q.lineWidthDims[0]&&T<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],x.commandStr),T},function(T,R,C){return w.optional(function(){T.assert(R,"typeof "+C+'==="number"&&'+C+">="+Q.lineWidthDims[0]+"&&"+C+"<="+Q.lineWidthDims[1],"invalid line width")}),C});case ip:return B(function(T){return w.commandParameter(T,yp,I,x.commandStr),yp[T]},function(T,R,C){return w.optional(function(){T.assert(R,C+'==="cw"||'+C+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),R.def(C+'==="cw"?'+Fg+":"+gp)});case rp:return B(function(T){return w.command(mn(T)&&T.length===4,"color.mask must be length 4 array",x.commandStr),T.map(function(R){return!!R})},function(T,R,C){return w.optional(function(){T.assert(R,T.shared.isArrayLike+"("+C+")&&"+C+".length===4","invalid color.mask")}),mt(4,function(X){return"!!"+C+"["+X+"]"})});case lp:return B(function(T){w.command(typeof T=="object"&&T,I,x.commandStr);var R="value"in T?T.value:1,C=!!T.invert;return w.command(typeof R=="number"&&R>=0&&R<=1,"sample.coverage.value must be a number between 0 and 1",x.commandStr),[R,C]},function(T,R,C){w.optional(function(){T.assert(R,C+"&&typeof "+C+'==="object"',"invalid sample.coverage")});var X=R.def('"value" in ',C,"?+",C,".value:1"),V=R.def("!!",C,".invert");return[X,V]})}}),G}function Wt(b,x){var N=b.static,j=b.dynamic,G={};return Object.keys(N).forEach(function(D){var I=N[D],B;if(typeof I=="number"||typeof I=="boolean")B=Bn(function(){return I});else if(typeof I=="function"){var T=I._reglType;T==="texture2d"||T==="textureCube"?B=Bn(function(R){return R.link(I)}):T==="framebuffer"||T==="framebufferCube"?(w.command(I.color.length>0,'missing color attachment for framebuffer sent to uniform "'+D+'"',x.commandStr),B=Bn(function(R){return R.link(I.color[0])})):w.commandRaise('invalid data for uniform "'+D+'"',x.commandStr)}else mn(I)?B=Bn(function(R){var C=R.global.def("[",mt(I.length,function(X){return w.command(typeof I[X]=="number"||typeof I[X]=="boolean","invalid uniform "+D,R.commandStr),I[X]}),"]");return C}):w.commandRaise('invalid or missing data for uniform "'+D+'"',x.commandStr);B.value=I,G[D]=B}),Object.keys(j).forEach(function(D){var I=j[D];G[D]=Nr(I,function(B,T){return B.invoke(T,I)})}),G}function Wn(b,x){var N=b.static,j=b.dynamic,G={};return Object.keys(N).forEach(function(D){var I=N[D],B=E.id(D),T=new z;if(A0(I))T.state=ns,T.buffer=oe.getBuffer(oe.create(I,os,!1,!0)),T.type=0;else{var R=oe.getBuffer(I);if(R)T.state=ns,T.buffer=R,T.type=0;else if(w.command(typeof I=="object"&&I,"invalid data for attribute "+D,x.commandStr),"constant"in I){var C=I.constant;T.buffer="null",T.state=Q1,typeof C=="number"?T.x=C:(w.command(mn(C)&&C.length>0&&C.length<=4,"invalid constant for attribute "+D,x.commandStr),ts.forEach(function(lt,Qe){Qe<C.length&&(T[lt]=C[Qe])}))}else{A0(I.buffer)?R=oe.getBuffer(oe.create(I.buffer,os,!1,!0)):R=oe.getBuffer(I.buffer),w.command(!!R,'missing buffer for attribute "'+D+'"',x.commandStr);var X=I.offset|0;w.command(X>=0,'invalid offset for attribute "'+D+'"',x.commandStr);var V=I.stride|0;w.command(V>=0&&V<256,'invalid stride for attribute "'+D+'", must be integer betweeen [0, 255]',x.commandStr);var re=I.size|0;w.command(!("size"in I)||re>0&&re<=4,'invalid size for attribute "'+D+'", must be 1,2,3,4',x.commandStr);var le=!!I.normalized,ke=0;"type"in I&&(w.commandParameter(I.type,Fo,"invalid type for attribute "+D,x.commandStr),ke=Fo[I.type]);var _t=I.divisor|0;w.optional(function(){"divisor"in I&&(w.command(_t===0||xe,'cannot specify divisor for attribute "'+D+'", instancing not supported',x.commandStr),w.command(_t>=0,'invalid divisor for attribute "'+D+'"',x.commandStr));var lt=x.commandStr,Qe=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(I).forEach(function(ce){w.command(Qe.indexOf(ce)>=0,'unknown parameter "'+ce+'" for attribute pointer "'+D+'" (valid parameters are '+Qe+")",lt)})}),T.buffer=R,T.state=ns,T.size=re,T.normalized=le,T.type=ke||R.dtype,T.offset=X,T.stride=V,T.divisor=_t}}G[D]=Bn(function(lt,Qe){var ce=lt.attribCache;if(B in ce)return ce[B];var ne={isStream:!1};return Object.keys(T).forEach(function(nt){ne[nt]=T[nt]}),T.buffer&&(ne.buffer=lt.link(T.buffer),ne.type=ne.type||ne.buffer+".dtype"),ce[B]=ne,ne})}),Object.keys(j).forEach(function(D){var I=j[D];function B(T,R){var C=T.invoke(R,I),X=T.shared,V=T.constants,re=X.isBufferArgs,le=X.buffer;w.optional(function(){T.assert(R,C+"&&(typeof "+C+'==="object"||typeof '+C+'==="function")&&('+re+"("+C+")||"+le+".getBuffer("+C+")||"+le+".getBuffer("+C+".buffer)||"+re+"("+C+'.buffer)||("constant" in '+C+"&&(typeof "+C+'.constant==="number"||'+X.isArrayLike+"("+C+".constant))))",'invalid dynamic attribute "'+D+'"')});var ke={isStream:R.def(!1)},_t=new z;_t.state=ns,Object.keys(_t).forEach(function(ne){ke[ne]=R.def(""+_t[ne])});var lt=ke.buffer,Qe=ke.type;R("if(",re,"(",C,")){",ke.isStream,"=true;",lt,"=",le,".createStream(",os,",",C,");",Qe,"=",lt,".dtype;","}else{",lt,"=",le,".getBuffer(",C,");","if(",lt,"){",Qe,"=",lt,".dtype;",'}else if("constant" in ',C,"){",ke.state,"=",Q1,";","if(typeof "+C+'.constant === "number"){',ke[ts[0]],"=",C,".constant;",ts.slice(1).map(function(ne){return ke[ne]}).join("="),"=0;","}else{",ts.map(function(ne,nt){return ke[ne]+"="+C+".constant.length>"+nt+"?"+C+".constant["+nt+"]:0;"}).join(""),"}}else{","if(",re,"(",C,".buffer)){",lt,"=",le,".createStream(",os,",",C,".buffer);","}else{",lt,"=",le,".getBuffer(",C,".buffer);","}",Qe,'="type" in ',C,"?",V.glTypes,"[",C,".type]:",lt,".dtype;",ke.normalized,"=!!",C,".normalized;");function ce(ne){R(ke[ne],"=",C,".",ne,"|0;")}return ce("size"),ce("offset"),ce("stride"),ce("divisor"),R("}}"),R.exit("if(",ke.isStream,"){",le,".destroyStream(",lt,");","}"),ke}G[D]=Nr(I,B)}),G}function vn(b){var x=b.static,N=b.dynamic,j={};return Object.keys(x).forEach(function(G){var D=x[G];j[G]=Bn(function(I,B){return typeof D=="number"||typeof D=="boolean"?""+D:I.link(D)})}),Object.keys(N).forEach(function(G){var D=N[G];j[G]=Nr(D,function(I,B){return I.invoke(B,D)})}),j}function jn(b,x,N,j,G){var D=b.static,I=b.dynamic;w.optional(function(){var ce=[Ua,Fu,$u,Va,Ha,m0,Wa,v0,Du,Bu].concat(ct);function ne(nt){Object.keys(nt).forEach(function(et){w.command(ce.indexOf(et)>=0,'unknown parameter "'+et+'"',G.commandStr)})}ne(D),ne(I)});var B=At(b,x),T=He(b),R=gt(b,T,G),C=xn(b,G),X=wn(b,G),V=Ut(b,G,B);function re(ce){var ne=R[ce];ne&&(X[ce]=ne)}re(ho),re(Ze(p0));var le=Object.keys(X).length>0,ke={framebuffer:T,draw:C,shader:V,state:X,dirty:le,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ke.profile=Be(b),ke.uniforms=Wt(N,G),ke.drawVAO=ke.scopeVAO=C.vao,!ke.drawVAO&&V.program&&!B&&k.angle_instanced_arrays&&C.static.elements){var _t=!0,lt=V.program.attributes.map(function(ce){var ne=x.static[ce];return _t=_t&&!!ne,ne});if(_t&&lt.length>0){var Qe=we.getVAO(we.createVAO({attributes:lt,elements:C.static.elements}));ke.drawVAO=new Zn(null,null,null,function(ce,ne){return ce.link(Qe)}),ke.useVAO=!0}}return B?ke.useVAO=!0:ke.attributes=Wn(x,G),ke.context=vn(j),ke}function Xn(b,x,N){var j=b.shared,G=j.context,D=b.scope();Object.keys(N).forEach(function(I){x.save(G,"."+I);var B=N[I],T=B.append(b,x);Array.isArray(T)?D(G,".",I,"=[",T.join(),"];"):D(G,".",I,"=",T,";")}),x(D)}function Yn(b,x,N,j){var G=b.shared,D=G.gl,I=G.framebuffer,B;Xe&&(B=x.def(G.extensions,".webgl_draw_buffers"));var T=b.constants,R=T.drawBuffer,C=T.backBuffer,X;N?X=N.append(b,x):X=x.def(I,".next"),j||x("if(",X,"!==",I,".cur){"),x("if(",X,"){",D,".bindFramebuffer(",zg,",",X,".framebuffer);"),Xe&&x(B,".drawBuffersWEBGL(",R,"[",X,".colorAttachments.length]);"),x("}else{",D,".bindFramebuffer(",zg,",null);"),Xe&&x(B,".drawBuffersWEBGL(",C,");"),x("}",I,".cur=",X,";"),j||x("}")}function ir(b,x,N){var j=b.shared,G=j.gl,D=b.current,I=b.next,B=j.current,T=j.next,R=b.cond(B,".dirty");ct.forEach(function(C){var X=Ze(C);if(!(X in N.state)){var V,re;if(X in I){V=I[X],re=D[X];var le=mt(Ge[X].length,function(_t){return R.def(V,"[",_t,"]")});R(b.cond(le.map(function(_t,lt){return _t+"!=="+re+"["+lt+"]"}).join("||")).then(G,".",ie[X],"(",le,");",le.map(function(_t,lt){return re+"["+lt+"]="+_t}).join(";"),";"))}else{V=R.def(T,".",X);var ke=b.cond(V,"!==",B,".",X);R(ke),X in ae?ke(b.cond(V).then(G,".enable(",ae[X],");").else(G,".disable(",ae[X],");"),B,".",X,"=",V,";"):ke(G,".",ie[X],"(",V,");",B,".",X,"=",V,";")}}}),Object.keys(N.state).length===0&&R(B,".dirty=false;"),x(R)}function ur(b,x,N,j){var G=b.shared,D=b.current,I=G.current,B=G.gl;Vg(Object.keys(N)).forEach(function(T){var R=N[T];if(!(j&&!j(R))){var C=R.append(b,x);if(ae[T]){var X=ae[T];Xo(R)?C?x(B,".enable(",X,");"):x(B,".disable(",X,");"):x(b.cond(C).then(B,".enable(",X,");").else(B,".disable(",X,");")),x(I,".",T,"=",C,";")}else if(mn(C)){var V=D[T];x(B,".",ie[T],"(",C,");",C.map(function(re,le){return V+"["+le+"]="+re}).join(";"),";")}else x(B,".",ie[T],"(",C,");",I,".",T,"=",C,";")}})}function Ln(b,x){xe&&(b.instancing=x.def(b.shared.extensions,".angle_instanced_arrays"))}function Ft(b,x,N,j,G){var D=b.shared,I=b.stats,B=D.current,T=D.timer,R=N.profile;function C(){return typeof performance>"u"?"Date.now()":"performance.now()"}var X,V;function re(ce){X=x.def(),ce(X,"=",C(),";"),typeof G=="string"?ce(I,".count+=",G,";"):ce(I,".count++;"),ge&&(j?(V=x.def(),ce(V,"=",T,".getNumPendingQueries();")):ce(T,".beginQuery(",I,");"))}function le(ce){ce(I,".cpuTime+=",C(),"-",X,";"),ge&&(j?ce(T,".pushScopeStats(",V,",",T,".getNumPendingQueries(),",I,");"):ce(T,".endQuery();"))}function ke(ce){var ne=x.def(B,".profile");x(B,".profile=",ce,";"),x.exit(B,".profile=",ne,";")}var _t;if(R){if(Xo(R)){R.enable?(re(x),le(x.exit),ke("true")):ke("false");return}_t=R.append(b,x),ke(_t)}else _t=x.def(B,".profile");var lt=b.block();re(lt),x("if(",_t,"){",lt,"}");var Qe=b.block();le(Qe),x.exit("if(",_t,"){",Qe,"}")}function cr(b,x,N,j,G){var D=b.shared;function I(T){switch(T){case g0:case _0:case S0:return 2;case y0:case w0:case b0:return 3;case x0:case E0:case T0:return 4;default:return 1}}function B(T,R,C){var X=D.gl,V=x.def(T,".location"),re=x.def(D.attributes,"[",V,"]"),le=C.state,ke=C.buffer,_t=[C.x,C.y,C.z,C.w],lt=["buffer","normalized","offset","stride"];function Qe(){x("if(!",re,".buffer){",X,".enableVertexAttribArray(",V,");}");var ne=C.type,nt;if(C.size?nt=x.def(C.size,"||",R):nt=R,x("if(",re,".type!==",ne,"||",re,".size!==",nt,"||",lt.map(function(yt){return re+"."+yt+"!=="+C[yt]}).join("||"),"){",X,".bindBuffer(",os,",",ke,".buffer);",X,".vertexAttribPointer(",[V,nt,ne,C.normalized,C.stride,C.offset],");",re,".type=",ne,";",re,".size=",nt,";",lt.map(function(yt){return re+"."+yt+"="+C[yt]+";"}).join(""),"}"),xe){var et=C.divisor;x("if(",re,".divisor!==",et,"){",b.instancing,".vertexAttribDivisorANGLE(",[V,et],");",re,".divisor=",et,";}")}}function ce(){x("if(",re,".buffer){",X,".disableVertexAttribArray(",V,");",re,".buffer=null;","}if(",ts.map(function(ne,nt){return re+"."+ne+"!=="+_t[nt]}).join("||"),"){",X,".vertexAttrib4f(",V,",",_t,");",ts.map(function(ne,nt){return re+"."+ne+"="+_t[nt]+";"}).join(""),"}")}le===ns?Qe():le===Q1?ce():(x("if(",le,"===",ns,"){"),Qe(),x("}else{"),ce(),x("}"))}j.forEach(function(T){var R=T.name,C=N.attributes[R],X;if(C){if(!G(C))return;X=C.append(b,x)}else{if(!G(Hg))return;var V=b.scopeAttrib(R);w.optional(function(){b.assert(x,V+".state","missing attribute "+R)}),X={},Object.keys(new z).forEach(function(re){X[re]=x.def(V,".",re)})}B(b.link(T),I(T.info.type),X)})}function tn(b,x,N,j,G,D){for(var I=b.shared,B=I.gl,T={},R,C=0;C<j.length;++C){var X=j[C],V=X.name,re=X.info.type,le=X.info.size,ke=N.uniforms[V];if(le>1){if(!ke)continue;var _t=V.replace("[0]","");if(T[_t])continue;T[_t]=1}var lt=b.link(X),Qe=lt+".location",ce;if(ke){if(!G(ke))continue;if(Xo(ke)){var ne=ke.value;if(w.command(ne!==null&&typeof ne<"u",'missing uniform "'+V+'"',b.commandStr),re===Uu||re===Vu){w.command(typeof ne=="function"&&(re===Uu&&(ne._reglType==="texture2d"||ne._reglType==="framebuffer")||re===Vu&&(ne._reglType==="textureCube"||ne._reglType==="framebufferCube")),"invalid texture for uniform "+V,b.commandStr);var nt=b.link(ne._texture||ne.color[0]._texture);x(B,".uniform1i(",Qe,",",nt+".bind());"),x.exit(nt,".unbind();")}else if(re===ju||re===zu||re===Gu){w.optional(function(){w.command(mn(ne),"invalid matrix for uniform "+V,b.commandStr),w.command(re===ju&&ne.length===4||re===zu&&ne.length===9||re===Gu&&ne.length===16,"invalid length for matrix uniform "+V,b.commandStr)});var et=b.global.def("new Float32Array(["+Array.prototype.slice.call(ne)+"])"),yt=2;re===zu?yt=3:re===Gu&&(yt=4),x(B,".uniformMatrix",yt,"fv(",Qe,",false,",et,");")}else{switch(re){case hp:le===1?w.commandType(ne,"number","uniform "+V,b.commandStr):w.command(mn(ne)&&ne.length===le,"uniform "+V,b.commandStr),R="1f";break;case g0:w.command(mn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+V,b.commandStr),R="2f";break;case y0:w.command(mn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+V,b.commandStr),R="3f";break;case x0:w.command(mn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+V,b.commandStr),R="4f";break;case mp:le===1?w.commandType(ne,"boolean","uniform "+V,b.commandStr):w.command(mn(ne)&&ne.length===le,"uniform "+V,b.commandStr),R="1i";break;case pp:le===1?w.commandType(ne,"number","uniform "+V,b.commandStr):w.command(mn(ne)&&ne.length===le,"uniform "+V,b.commandStr),R="1i";break;case S0:w.command(mn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+V,b.commandStr),R="2i";break;case _0:w.command(mn(ne)&&ne.length&&ne.length%2===0&&ne.length<=le*2,"uniform "+V,b.commandStr),R="2i";break;case b0:w.command(mn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+V,b.commandStr),R="3i";break;case w0:w.command(mn(ne)&&ne.length&&ne.length%3===0&&ne.length<=le*3,"uniform "+V,b.commandStr),R="3i";break;case T0:w.command(mn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+V,b.commandStr),R="4i";break;case E0:w.command(mn(ne)&&ne.length&&ne.length%4===0&&ne.length<=le*4,"uniform "+V,b.commandStr),R="4i";break}le>1?(R+="v",ne=b.global.def("["+Array.prototype.slice.call(ne)+"]")):ne=mn(ne)?Array.prototype.slice.call(ne):ne,x(B,".uniform",R,"(",Qe,",",ne,");")}continue}else ce=ke.append(b,x)}else{if(!G(Hg))continue;ce=x.def(I.uniforms,"[",E.id(V),"]")}re===Uu?(w(!Array.isArray(ce),"must specify a scalar prop for textures"),x("if(",ce,"&&",ce,'._reglType==="framebuffer"){',ce,"=",ce,".color[0];","}")):re===Vu&&(w(!Array.isArray(ce),"must specify a scalar prop for cube maps"),x("if(",ce,"&&",ce,'._reglType==="framebufferCube"){',ce,"=",ce,".color[0];","}")),w.optional(function(){function qr(Mr,C0){b.assert(x,Mr,'bad data or missing for uniform "'+V+'".  '+C0)}function Ka(Mr,C0){C0===1&&w(!Array.isArray(ce),"must not specify an array type for uniform"),qr("Array.isArray("+ce+") && typeof "+ce+'[0]===" '+Mr+'" || typeof '+ce+'==="'+Mr+'"',"invalid type, expected "+Mr)}function si(Mr,C0,L0){Array.isArray(ce)?w(ce.length&&ce.length%Mr===0&&ce.length<=Mr*L0,"must have length of "+(L0===1?"":"n * ")+Mr):qr(I.isArrayLike+"("+ce+")&&"+ce+".length && "+ce+".length % "+Mr+" === 0 && "+ce+".length<="+Mr*L0,"invalid vector, should have length of "+(L0===1?"":"n * ")+Mr,b.commandStr)}function Zg(Mr){w(!Array.isArray(ce),"must not specify a value type"),qr("typeof "+ce+'==="function"&&'+ce+'._reglType==="texture'+(Mr===Dg?"2d":"Cube")+'"',"invalid texture type",b.commandStr)}switch(re){case pp:Ka("number",le);break;case _0:si(2,"number",le);break;case w0:si(3,"number",le);break;case E0:si(4,"number",le);break;case hp:Ka("number",le);break;case g0:si(2,"number",le);break;case y0:si(3,"number",le);break;case x0:si(4,"number",le);break;case mp:Ka("boolean",le);break;case S0:si(2,"boolean",le);break;case b0:si(3,"boolean",le);break;case T0:si(4,"boolean",le);break;case ju:si(4,"number",le);break;case zu:si(9,"number",le);break;case Gu:si(16,"number",le);break;case Uu:Zg(Dg);break;case Vu:Zg(U9);break}});var on=1;switch(re){case Uu:case Vu:var fr=x.def(ce,"._texture");x(B,".uniform1i(",Qe,",",fr,".bind());"),x.exit(fr,".unbind();");continue;case pp:case mp:R="1i";break;case _0:case S0:R="2i",on=2;break;case w0:case b0:R="3i",on=3;break;case E0:case T0:R="4i",on=4;break;case hp:R="1f";break;case g0:R="2f",on=2;break;case y0:R="3f",on=3;break;case x0:R="4f",on=4;break;case ju:R="Matrix2fv";break;case zu:R="Matrix3fv";break;case Gu:R="Matrix4fv";break}if(R.indexOf("Matrix")===-1&&le>1&&(R+="v",on=1),R.charAt(0)==="M"){x(B,".uniform",R,"(",Qe,",");var qa=Math.pow(re-ju+2,2),po=b.global.def("new Float32Array(",qa,")");Array.isArray(ce)?x("false,(",mt(qa,function(qr){return po+"["+qr+"]="+ce[qr]}),",",po,")"):x("false,(Array.isArray(",ce,")||",ce," instanceof Float32Array)?",ce,":(",mt(qa,function(qr){return po+"["+qr+"]="+ce+"["+qr+"]"}),",",po,")"),x(");")}else if(on>1){for(var Ui=[],Yo=[],Qa=0;Qa<on;++Qa)Array.isArray(ce)?Yo.push(ce[Qa]):Yo.push(x.def(ce+"["+Qa+"]")),D&&Ui.push(x.def());D&&x("if(!",b.batchId,"||",Ui.map(function(qr,Ka){return qr+"!=="+Yo[Ka]}).join("||"),"){",Ui.map(function(qr,Ka){return qr+"="+Yo[Ka]+";"}).join("")),x(B,".uniform",R,"(",Qe,",",Yo.join(","),");"),D&&x("}")}else{if(w(!Array.isArray(ce),"uniform value must not be an array"),D){var Kg=x.def();x("if(!",b.batchId,"||",Kg,"!==",ce,"){",Kg,"=",ce,";")}x(B,".uniform",R,"(",Qe,",",ce,");"),D&&x("}")}}}function pt(b,x,N,j){var G=b.shared,D=G.gl,I=G.draw,B=j.draw;function T(){var nt=B.elements,et,yt=x;return nt?((nt.contextDep&&j.contextDynamic||nt.propDep)&&(yt=N),et=nt.append(b,yt),B.elementsActive&&yt("if("+et+")"+D+".bindBuffer("+dp+","+et+".buffer.buffer);")):(et=yt.def(),yt(et,"=",I,".",Va,";","if(",et,"){",D,".bindBuffer(",dp,",",et,".buffer.buffer);}","else if(",G.vao,".currentVAO){",et,"=",b.shared.elements+".getElements("+G.vao,".currentVAO.elements);",fe?"":"if("+et+")"+D+".bindBuffer("+dp+","+et+".buffer.buffer);","}")),et}function R(){var nt=B.count,et,yt=x;return nt?((nt.contextDep&&j.contextDynamic||nt.propDep)&&(yt=N),et=nt.append(b,yt),w.optional(function(){nt.MISSING&&b.assert(x,"false","missing vertex count"),nt.DYNAMIC&&b.assert(yt,et+">=0","missing vertex count")})):(et=yt.def(I,".",Wa),w.optional(function(){b.assert(yt,et+">=0","missing vertex count")})),et}var C=T();function X(nt){var et=B[nt];return et?et.contextDep&&j.contextDynamic||et.propDep?et.append(b,N):et.append(b,x):x.def(I,".",nt)}var V=X(Ha),re=X(m0),le=R();if(typeof le=="number"){if(le===0)return}else N("if(",le,"){"),N.exit("}");var ke,_t;xe&&(ke=X(v0),_t=b.instancing);var lt=C+".type",Qe=B.elements&&Xo(B.elements)&&!B.vaoActive;function ce(){function nt(){N(_t,".drawElementsInstancedANGLE(",[V,le,lt,re+"<<(("+lt+"-"+mg+")>>1)",ke],");")}function et(){N(_t,".drawArraysInstancedANGLE(",[V,re,le,ke],");")}C&&C!=="null"?Qe?nt():(N("if(",C,"){"),nt(),N("}else{"),et(),N("}")):et()}function ne(){function nt(){N(D+".drawElements("+[V,le,lt,re+"<<(("+lt+"-"+mg+")>>1)"]+");")}function et(){N(D+".drawArrays("+[V,re,le]+");")}C&&C!=="null"?Qe?nt():(N("if(",C,"){"),nt(),N("}else{"),et(),N("}")):et()}xe&&(typeof ke!="number"||ke>=0)?typeof ke=="string"?(N("if(",ke,">0){"),ce(),N("}else if(",ke,"<0){"),ne(),N("}")):ce():ne()}function Vt(b,x,N,j,G){var D=Et(),I=D.proc("body",G);return w.optional(function(){D.commandStr=x.commandStr,D.command=D.link(x.commandStr)}),xe&&(D.instancing=I.def(D.shared.extensions,".angle_instanced_arrays")),b(D,I,N,j),D.compile().body}function qt(b,x,N,j){Ln(b,x),N.useVAO?N.drawVAO?x(b.shared.vao,".setVAO(",N.drawVAO.append(b,x),");"):x(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(x(b.shared.vao,".setVAO(null);"),cr(b,x,N,j.attributes,function(){return!0})),tn(b,x,N,j.uniforms,function(){return!0},!1),pt(b,x,x,N)}function Rn(b,x){var N=b.proc("draw",1);Ln(b,N),Xn(b,N,x.context),Yn(b,N,x.framebuffer),ir(b,N,x),ur(b,N,x.state),Ft(b,N,x,!1,!0);var j=x.shader.progVar.append(b,N);if(N(b.shared.gl,".useProgram(",j,".program);"),x.shader.program)qt(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var G=b.global.def("{}"),D=N.def(j,".id"),I=N.def(G,"[",D,"]");N(b.cond(I).then(I,".call(this,a0);").else(I,"=",G,"[",D,"]=",b.link(function(B){return Vt(qt,b,x,B,1)}),"(",j,");",I,".call(this,a0);"))}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Gi(b,x,N,j){b.batchId="a1",Ln(b,x);function G(){return!0}cr(b,x,N,j.attributes,G),tn(b,x,N,j.uniforms,G,!1),pt(b,x,x,N)}function Ya(b,x,N,j){Ln(b,x);var G=N.contextDep,D=x.def(),I="a0",B="a1",T=x.def();b.shared.props=T,b.batchId=D;var R=b.scope(),C=b.scope();x(R.entry,"for(",D,"=0;",D,"<",B,";++",D,"){",T,"=",I,"[",D,"];",C,"}",R.exit);function X(lt){return lt.contextDep&&G||lt.propDep}function V(lt){return!X(lt)}if(N.needsContext&&Xn(b,C,N.context),N.needsFramebuffer&&Yn(b,C,N.framebuffer),ur(b,C,N.state,X),N.profile&&X(N.profile)&&Ft(b,C,N,!1,!0),j)N.useVAO?N.drawVAO?X(N.drawVAO)?C(b.shared.vao,".setVAO(",N.drawVAO.append(b,C),");"):R(b.shared.vao,".setVAO(",N.drawVAO.append(b,R),");"):R(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(R(b.shared.vao,".setVAO(null);"),cr(b,R,N,j.attributes,V),cr(b,C,N,j.attributes,X)),tn(b,R,N,j.uniforms,V,!1),tn(b,C,N,j.uniforms,X,!0),pt(b,R,C,N);else{var re=b.global.def("{}"),le=N.shader.progVar.append(b,C),ke=C.def(le,".id"),_t=C.def(re,"[",ke,"]");C(b.shared.gl,".useProgram(",le,".program);","if(!",_t,"){",_t,"=",re,"[",ke,"]=",b.link(function(lt){return Vt(Gi,b,N,lt,2)}),"(",le,");}",_t,".call(this,a0[",D,"],",D,");")}}function L(b,x){var N=b.proc("batch",2);b.batchId="0",Ln(b,N);var j=!1,G=!0;Object.keys(x.context).forEach(function(re){j=j||x.context[re].propDep}),j||(Xn(b,N,x.context),G=!1);var D=x.framebuffer,I=!1;D?(D.propDep?j=I=!0:D.contextDep&&j&&(I=!0),I||Yn(b,N,D)):Yn(b,N,null),x.state.viewport&&x.state.viewport.propDep&&(j=!0);function B(re){return re.contextDep&&j||re.propDep}ir(b,N,x),ur(b,N,x.state,function(re){return!B(re)}),(!x.profile||!B(x.profile))&&Ft(b,N,x,!1,"a1"),x.contextDep=j,x.needsContext=G,x.needsFramebuffer=I;var T=x.shader.progVar;if(T.contextDep&&j||T.propDep)Ya(b,N,x,null);else{var R=T.append(b,N);if(N(b.shared.gl,".useProgram(",R,".program);"),x.shader.program)Ya(b,N,x,x.shader.program);else{N(b.shared.vao,".setVAO(null);");var C=b.global.def("{}"),X=N.def(R,".id"),V=N.def(C,"[",X,"]");N(b.cond(V).then(V,".call(this,a0,a1);").else(V,"=",C,"[",X,"]=",b.link(function(re){return Vt(Ya,b,x,re,2)}),"(",R,");",V,".call(this,a0,a1);"))}}Object.keys(x.state).length>0&&N(b.shared.current,".dirty=true;"),b.shared.vao&&N(b.shared.vao,".setVAO(null);")}function Z(b,x){var N=b.proc("scope",3);b.batchId="a2";var j=b.shared,G=j.current;Xn(b,N,x.context),x.framebuffer&&x.framebuffer.append(b,N),Vg(Object.keys(x.state)).forEach(function(I){var B=x.state[I],T=B.append(b,N);mn(T)?T.forEach(function(R,C){N.set(b.next[I],"["+C+"]",R)}):N.set(j.next,"."+I,T)}),Ft(b,N,x,!0,!0),[Va,m0,Wa,v0,Ha].forEach(function(I){var B=x.draw[I];B&&N.set(j.draw,"."+I,""+B.append(b,N))}),Object.keys(x.uniforms).forEach(function(I){var B=x.uniforms[I].append(b,N);Array.isArray(B)&&(B="["+B.join()+"]"),N.set(j.uniforms,"["+E.id(I)+"]",B)}),Object.keys(x.attributes).forEach(function(I){var B=x.attributes[I].append(b,N),T=b.scopeAttrib(I);Object.keys(new z).forEach(function(R){N.set(T,"."+R,B[R])})}),x.scopeVAO&&N.set(j.vao,".targetVAO",x.scopeVAO.append(b,N));function D(I){var B=x.shader[I];B&&N.set(j.shader,"."+I,B.append(b,N))}D(Fu),D($u),Object.keys(x.state).length>0&&(N(G,".dirty=true;"),N.exit(G,".dirty=true;")),N("a1(",b.shared.context,",a0,",b.batchId,");")}function Y(b){if(!(typeof b!="object"||mn(b))){for(var x=Object.keys(b),N=0;N<x.length;++N)if($t.isDynamic(b[x[N]]))return!0;return!1}}function Ke(b,x,N){var j=x.static[N];if(!j||!Y(j))return;var G=b.global,D=Object.keys(j),I=!1,B=!1,T=!1,R=b.global.def("{}");D.forEach(function(X){var V=j[X];if($t.isDynamic(V)){typeof V=="function"&&(V=j[X]=$t.unbox(V));var re=Nr(V,null);I=I||re.thisDep,T=T||re.propDep,B=B||re.contextDep}else{switch(G(R,".",X,"="),typeof V){case"number":G(V);break;case"string":G('"',V,'"');break;case"object":Array.isArray(V)&&G("[",V.join(),"]");break;default:G(b.link(V));break}G(";")}});function C(X,V){D.forEach(function(re){var le=j[re];if($t.isDynamic(le)){var ke=X.invoke(V,le);V(R,".",re,"=",ke,";")}})}x.dynamic[N]=new $t.DynamicVariable(h0,{thisDep:I,contextDep:B,propDep:T,ref:R,append:C}),delete x.static[N]}function zt(b,x,N,j,G){var D=Et();D.stats=D.link(G),Object.keys(x.static).forEach(function(B){Ke(D,x,B)}),j9.forEach(function(B){Ke(D,b,B)});var I=jn(b,x,N,j,D);return Rn(D,I),Z(D,I),L(D,I),r(D.compile(),{destroy:function(){I.shader.program.destroy()}})}return{next:$e,current:Ge,procs:function(){var b=Et(),x=b.proc("poll"),N=b.proc("refresh"),j=b.block();x(j),N(j);var G=b.shared,D=G.gl,I=G.next,B=G.current;j(B,".dirty=false;"),Yn(b,x),Yn(b,N,null,!0);var T;xe&&(T=b.link(xe)),k.oes_vertex_array_object&&N(b.link(k.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var R=0;R<Q.maxAttributes;++R){var C=N.def(G.attributes,"[",R,"]"),X=b.cond(C,".buffer");X.then(D,".enableVertexAttribArray(",R,");",D,".bindBuffer(",os,",",C,".buffer.buffer);",D,".vertexAttribPointer(",R,",",C,".size,",C,".type,",C,".normalized,",C,".stride,",C,".offset);").else(D,".disableVertexAttribArray(",R,");",D,".vertexAttrib4f(",R,",",C,".x,",C,".y,",C,".z,",C,".w);",C,".buffer=null;"),N(X),xe&&N(T,".vertexAttribDivisorANGLE(",R,",",C,".divisor);")}return N(b.shared.vao,".currentVAO=null;",b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"),Object.keys(ae).forEach(function(V){var re=ae[V],le=j.def(I,".",V),ke=b.block();ke("if(",le,"){",D,".enable(",re,")}else{",D,".disable(",re,")}",B,".",V,"=",le,";"),N(ke),x("if(",le,"!==",B,".",V,"){",ke,"}")}),Object.keys(ie).forEach(function(V){var re=ie[V],le=Ge[V],ke,_t,lt=b.block();if(lt(D,".",re,"("),mn(le)){var Qe=le.length;ke=b.global.def(I,".",V),_t=b.global.def(B,".",V),lt(mt(Qe,function(ce){return ke+"["+ce+"]"}),");",mt(Qe,function(ce){return _t+"["+ce+"]="+ke+"["+ce+"];"}).join("")),x("if(",mt(Qe,function(ce){return ke+"["+ce+"]!=="+_t+"["+ce+"]"}).join("||"),"){",lt,"}")}else ke=j.def(I,".",V),_t=j.def(B,".",V),lt(ke,");",B,".",V,"=",ke,";"),x("if(",ke,"!==",_t,"){",lt,"}");N(lt)}),b.compile()}(),compile:zt}}function o7(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var a7=34918,l7=34919,Wg=35007,s7=function(p,E){if(!E.ext_disjoint_timer_query)return null;var k=[];function Q(){return k.pop()||E.ext_disjoint_timer_query.createQueryEXT()}function oe(xe){k.push(xe)}var q=[];function ee(xe){var Xe=Q();E.ext_disjoint_timer_query.beginQueryEXT(Wg,Xe),q.push(Xe),ge(q.length-1,q.length,xe)}function me(){E.ext_disjoint_timer_query.endQueryEXT(Wg)}function pe(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var we=[];function Se(){return we.pop()||new pe}function Ee(xe){we.push(xe)}var Oe=[];function ge(xe,Xe,fe){var Ge=Se();Ge.startQueryIndex=xe,Ge.endQueryIndex=Xe,Ge.sum=0,Ge.stats=fe,Oe.push(Ge)}var _e=[],z=[];function J(){var xe,Xe,fe=q.length;if(fe!==0){z.length=Math.max(z.length,fe+1),_e.length=Math.max(_e.length,fe+1),_e[0]=0,z[0]=0;var Ge=0;for(xe=0,Xe=0;Xe<q.length;++Xe){var $e=q[Xe];E.ext_disjoint_timer_query.getQueryObjectEXT($e,l7)?(Ge+=E.ext_disjoint_timer_query.getQueryObjectEXT($e,a7),oe($e)):q[xe++]=$e,_e[Xe+1]=Ge,z[Xe+1]=xe}for(q.length=xe,xe=0,Xe=0;Xe<Oe.length;++Xe){var ct=Oe[Xe],ae=ct.startQueryIndex,ie=ct.endQueryIndex;ct.sum+=_e[ie]-_e[ae];var Ze=z[ae],Me=z[ie];Me===Ze?(ct.stats.gpuTime+=ct.sum/1e6,Ee(ct)):(ct.startQueryIndex=Ze,ct.endQueryIndex=Me,Oe[xe++]=ct)}Oe.length=xe}}return{beginQuery:ee,endQuery:me,pushScopeStats:ge,update:J,getNumPendingQueries:function(){return q.length},clear:function(){k.push.apply(k,q);for(var xe=0;xe<k.length;xe++)E.ext_disjoint_timer_query.deleteQueryEXT(k[xe]);q.length=0,k.length=0},restore:function(){q.length=0,k.length=0}}},u7=16384,c7=256,f7=1024,d7=34962,Xg="webglcontextlost",Yg="webglcontextrestored",qg=1,h7=2,p7=3;function Qg(p,E){for(var k=0;k<p.length;++k)if(p[k]===E)return k;return-1}function m7(p){var E=U(p);if(!E)return null;var k=E.gl,Q=k.getContextAttributes(),oe=k.isContextLost(),q=Ue(k,E);if(!q)return null;var ee=Gn(),me=o7(),pe=q.extensions,we=s7(k,pe),Se=hn(),Ee=k.drawingBufferWidth,Oe=k.drawingBufferHeight,ge={tick:0,time:0,viewportWidth:Ee,viewportHeight:Oe,framebufferWidth:Ee,framebufferHeight:Oe,drawingBufferWidth:Ee,drawingBufferHeight:Oe,pixelRatio:E.pixelRatio},_e={},z={elements:null,primitive:4,count:-1,offset:0,instances:-1},J=df(k,pe),xe=uu(k,me,E,Ge),Xe=pu(k,pe,xe,me),fe=Ne(k,pe,J,me,xe,Xe,z);function Ge(pt){return fe.destroyBuffer(pt)}var $e=Qt(k,ee,me,E),ct=P1(k,pe,J,function(){Ze.procs.poll()},ge,me,E),ae=N1(k,pe,J,me,E),ie=Y1(k,pe,J,ct,ae,me),Ze=i7(k,ee,pe,J,xe,Xe,ct,ie,_e,fe,$e,z,ge,we,E),Me=D9(k,ie,Ze.procs.poll,ge,Q,pe,J),ye=Ze.next,Ie=k.canvas,Fe=[],Tt=[],Et=[],Be=[E.onDestroy],He=null;function gt(){if(Fe.length===0){we&&we.update(),He=null;return}He=dn.next(gt),ur();for(var pt=Fe.length-1;pt>=0;--pt){var Vt=Fe[pt];Vt&&Vt(ge,null,0)}k.flush(),we&&we.update()}function At(){!He&&Fe.length>0&&(He=dn.next(gt))}function Ut(){He&&(dn.cancel(gt),He=null)}function xn(pt){pt.preventDefault(),oe=!0,Ut(),Tt.forEach(function(Vt){Vt()})}function wn(pt){k.getError(),oe=!1,q.restore(),$e.restore(),xe.restore(),ct.restore(),ae.restore(),ie.restore(),fe.restore(),we&&we.restore(),Ze.procs.refresh(),At(),Et.forEach(function(Vt){Vt()})}Ie&&(Ie.addEventListener(Xg,xn,!1),Ie.addEventListener(Yg,wn,!1));function Wt(){Fe.length=0,Ut(),Ie&&(Ie.removeEventListener(Xg,xn),Ie.removeEventListener(Yg,wn)),$e.clear(),ie.clear(),ae.clear(),fe.clear(),ct.clear(),Xe.clear(),xe.clear(),we&&we.clear(),Be.forEach(function(pt){pt()})}function Wn(pt){w(!!pt,"invalid args to regl({...})"),w.type(pt,"object","invalid args to regl({...})");function Vt(G){var D=r({},G);delete D.uniforms,delete D.attributes,delete D.context,delete D.vao,"stencil"in D&&D.stencil.op&&(D.stencil.opBack=D.stencil.opFront=D.stencil.op,delete D.stencil.op);function I(B){if(B in D){var T=D[B];delete D[B],Object.keys(T).forEach(function(R){D[B+"."+R]=T[R]})}}return I("blend"),I("depth"),I("cull"),I("stencil"),I("polygonOffset"),I("scissor"),I("sample"),"vao"in G&&(D.vao=G.vao),D}function qt(G,D){var I={},B={};return Object.keys(G).forEach(function(T){var R=G[T];if($t.isDynamic(R)){B[T]=$t.unbox(R,T);return}else if(D&&Array.isArray(R)){for(var C=0;C<R.length;++C)if($t.isDynamic(R[C])){B[T]=$t.unbox(R,T);return}}I[T]=R}),{dynamic:B,static:I}}var Rn=qt(pt.context||{},!0),Gi=qt(pt.uniforms||{},!0),Ya=qt(pt.attributes||{},!1),L=qt(Vt(pt),!1),Z={gpuTime:0,cpuTime:0,count:0},Y=Ze.compile(L,Ya,Gi,Rn,Z),Ke=Y.draw,zt=Y.batch,b=Y.scope,x=[];function N(G){for(;x.length<G;)x.push(null);return x}function j(G,D){var I;if(oe&&w.raise("context lost"),typeof G=="function")return b.call(this,null,G,0);if(typeof D=="function")if(typeof G=="number")for(I=0;I<G;++I)b.call(this,null,D,I);else if(Array.isArray(G))for(I=0;I<G.length;++I)b.call(this,G[I],D,I);else return b.call(this,G,D,0);else if(typeof G=="number"){if(G>0)return zt.call(this,N(G|0),G|0)}else if(Array.isArray(G)){if(G.length)return zt.call(this,G,G.length)}else return Ke.call(this,G)}return r(j,{stats:Z,destroy:function(){Y.destroy()}})}var vn=ie.setFBO=Wn({framebuffer:$t.define.call(null,qg,"framebuffer")});function jn(pt,Vt){var qt=0;Ze.procs.poll();var Rn=Vt.color;Rn&&(k.clearColor(+Rn[0]||0,+Rn[1]||0,+Rn[2]||0,+Rn[3]||0),qt|=u7),"depth"in Vt&&(k.clearDepth(+Vt.depth),qt|=c7),"stencil"in Vt&&(k.clearStencil(Vt.stencil|0),qt|=f7),w(!!qt,"called regl.clear with no buffer specified"),k.clear(qt)}function Xn(pt){if(w(typeof pt=="object"&&pt,"regl.clear() takes an object as input"),"framebuffer"in pt)if(pt.framebuffer&&pt.framebuffer_reglType==="framebufferCube")for(var Vt=0;Vt<6;++Vt)vn(r({framebuffer:pt.framebuffer.faces[Vt]},pt),jn);else vn(pt,jn);else jn(null,pt)}function Yn(pt){w.type(pt,"function","regl.frame() callback must be a function"),Fe.push(pt);function Vt(){var qt=Qg(Fe,pt);w(qt>=0,"cannot cancel a frame twice");function Rn(){var Gi=Qg(Fe,Rn);Fe[Gi]=Fe[Fe.length-1],Fe.length-=1,Fe.length<=0&&Ut()}Fe[qt]=Rn}return At(),{cancel:Vt}}function ir(){var pt=ye.viewport,Vt=ye.scissor_box;pt[0]=pt[1]=Vt[0]=Vt[1]=0,ge.viewportWidth=ge.framebufferWidth=ge.drawingBufferWidth=pt[2]=Vt[2]=k.drawingBufferWidth,ge.viewportHeight=ge.framebufferHeight=ge.drawingBufferHeight=pt[3]=Vt[3]=k.drawingBufferHeight}function ur(){ge.tick+=1,ge.time=Ft(),ir(),Ze.procs.poll()}function Ln(){ct.refresh(),ir(),Ze.procs.refresh(),we&&we.update()}function Ft(){return(hn()-Se)/1e3}Ln();function cr(pt,Vt){w.type(Vt,"function","listener callback must be a function");var qt;switch(pt){case"frame":return Yn(Vt);case"lost":qt=Tt;break;case"restore":qt=Et;break;case"destroy":qt=Be;break;default:w.raise("invalid event, must be one of frame,lost,restore,destroy")}return qt.push(Vt),{cancel:function(){for(var Rn=0;Rn<qt.length;++Rn)if(qt[Rn]===Vt){qt[Rn]=qt[qt.length-1],qt.pop();return}}}}var tn=r(Wn,{clear:Xn,prop:$t.define.bind(null,qg),context:$t.define.bind(null,h7),this:$t.define.bind(null,p7),draw:Wn({}),buffer:function(pt){return xe.create(pt,d7,!1,!1)},elements:function(pt){return Xe.create(pt,!1)},texture:ct.create2D,cube:ct.createCube,renderbuffer:ae.create,framebuffer:ie.create,framebufferCube:ie.createCube,vao:fe.createVAO,attributes:Q,frame:Yn,on:cr,limits:J,hasExtension:function(pt){return J.extensions.indexOf(pt.toLowerCase())>=0},read:Me,destroy:Wt,_gl:k,_refresh:Ln,poll:function(){ur(),we&&we.update()},now:Ft,stats:me});return E.onDone(null,tn),tn}return m7})})(m8);var tE=m8.exports;const nE=Zc(tE);var rE=1e-6,yl=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Wp(){var e=new yl(16);return yl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function g3(e){var t=new yl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function hv(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],s=t[6],u=t[7],f=t[8],h=t[9],c=t[10],m=t[11],g=t[12],S=t[13],A=t[14],v=t[15],_=n*l-r*a,y=n*s-i*a,P=n*u-o*a,F=r*s-i*l,H=r*u-o*l,te=i*u-o*s,K=f*S-h*g,Ye=f*A-c*g,de=f*v-m*g,Ce=h*A-c*S,ze=h*v-m*S,Je=c*v-m*A,be=_*Je-y*ze+P*Ce+F*de-H*Ye+te*K;return be?(be=1/be,e[0]=(l*Je-s*ze+u*Ce)*be,e[1]=(i*ze-r*Je-o*Ce)*be,e[2]=(S*te-A*H+v*F)*be,e[3]=(c*H-h*te-m*F)*be,e[4]=(s*de-a*Je-u*Ye)*be,e[5]=(n*Je-i*de+o*Ye)*be,e[6]=(A*P-g*te-v*y)*be,e[7]=(f*te-c*P+m*y)*be,e[8]=(a*ze-l*de+u*K)*be,e[9]=(r*de-n*ze-o*K)*be,e[10]=(g*H-S*P+v*_)*be,e[11]=(h*P-f*H-m*_)*be,e[12]=(l*Ye-a*Ce-s*K)*be,e[13]=(n*Ce-r*Ye+i*K)*be,e[14]=(S*y-g*F-A*_)*be,e[15]=(f*F-h*y+c*_)*be,e):null}function Cr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],s=t[5],u=t[6],f=t[7],h=t[8],c=t[9],m=t[10],g=t[11],S=t[12],A=t[13],v=t[14],_=t[15],y=n[0],P=n[1],F=n[2],H=n[3];return e[0]=y*r+P*l+F*h+H*S,e[1]=y*i+P*s+F*c+H*A,e[2]=y*o+P*u+F*m+H*v,e[3]=y*a+P*f+F*g+H*_,y=n[4],P=n[5],F=n[6],H=n[7],e[4]=y*r+P*l+F*h+H*S,e[5]=y*i+P*s+F*c+H*A,e[6]=y*o+P*u+F*m+H*v,e[7]=y*a+P*f+F*g+H*_,y=n[8],P=n[9],F=n[10],H=n[11],e[8]=y*r+P*l+F*h+H*S,e[9]=y*i+P*s+F*c+H*A,e[10]=y*o+P*u+F*m+H*v,e[11]=y*a+P*f+F*g+H*_,y=n[12],P=n[13],F=n[14],H=n[15],e[12]=y*r+P*l+F*h+H*S,e[13]=y*i+P*s+F*c+H*A,e[14]=y*o+P*u+F*m+H*v,e[15]=y*a+P*f+F*g+H*_,e}function y3(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function yd(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function iE(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,s,u;return a<rE?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+o*l,e[2]=o*r*u-i*l,e[3]=0,e[4]=r*i*u-o*l,e[5]=i*i*u+s,e[6]=o*i*u+r*l,e[7]=0,e[8]=r*o*u+i*l,e[9]=i*o*u-r*l,e[10]=o*o*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function oE(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function aE(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],s=t[8],u=t[9],f=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(s,u,f),e}function lE(){var e=new yl(4);return yl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function xd(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=lE();return function(t,n,r,i,o,a){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function sE(){var e=new yl(2);return yl!=Float32Array&&(e[0]=0,e[1]=0),e}function uE(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=sE();return function(t,n,r,i,o,a){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const cE=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=Wp(),f=[...r.slice(0,2),0,1];const h=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],m=Array.isArray(o[0])?[...o[0]]:[...o],g=Array.isArray(o[0])?[...o[1]]:[...o],S=()=>aE(a,u).slice(0,2),A=()=>{const Te=S();return Math.min(Te[0],Te[1])},v=()=>{const Te=S();return Math.max(Te[0],Te[1])},_=()=>Math.acos(u[0]/v()),y=()=>[[...h],[...c]],P=()=>[[...m],[...g]],F=()=>{const Te=S();return[1/Te[0],1/Te[1]]},H=()=>1/A(),te=()=>1/v(),K=()=>oE(a,u).slice(0,2),Ye=()=>xd(a,f,hv(s,u)).slice(0,2),de=()=>u,Ce=()=>f.slice(0,2),ze=([Te=0,De=0]=[],kt=1,Mt=0)=>{u=Wp(),Je([-Te,-De]),Rt(Mt),be(1/kt)},Je=([Te=0,De=0]=[])=>{a[0]=Te,a[1]=De,a[2]=0;const kt=y3(l,a);Cr(u,kt,u)},be=(Te,De)=>{const kt=Array.isArray(Te);let Mt=kt?Te[0]:Te,Zt=kt?Te[1]:Te;if(Mt<=0||Zt<=0||Mt===1&&Zt===1)return;const Ot=S(),It=Ot[0]*Mt,Bt=Ot[1]*Zt;if(Mt=Math.max(h[0],Math.min(It,h[1]))/Ot[0],Zt=Math.max(c[0],Math.min(Bt,c[1]))/Ot[1],Mt===1&&Zt===1)return;a[0]=Mt,a[1]=Zt,a[2]=1;const Ct=yd(l,a),rn=De?[...De,0]:f,fn=y3(a,rn);Cr(u,fn,Cr(u,Ct,Cr(u,hv(s,fn),u)))},Rt=Te=>{const De=Wp();iE(De,Te,[0,0,1]),Cr(u,De,u)},it=Te=>{const De=Array.isArray(Te[0]);h[0]=De?Te[0][0]:Te[0],h[1]=De?Te[0][1]:Te[1],c[0]=De?Te[1][0]:Te[0],c[1]=De?Te[1][1]:Te[1]},at=Te=>{const De=Array.isArray(Te[0]);m[0]=De?Te[0][0]:Te[0],m[1]=De?Te[0][1]:Te[1],g[0]=De?Te[1][0]:Te[0],g[1]=De?Te[1][1]:Te[1]},ve=Te=>{!Te||Te.length<16||(u=Te)},Re=Te=>{f=[...Te.slice(0,2),0,1]},Ae=()=>{ze(e,t,n)};return ze(e,t,n),{get translation(){return K()},get target(){return Ye()},get scaling(){return S()},get minScaling(){return A()},get maxScaling(){return v()},get scaleBounds(){return y()},get translationBounds(){return P()},get distance(){return F()},get minDistance(){return H()},get maxDistance(){return te()},get rotation(){return _()},get view(){return de()},get viewCenter(){return Ce()},lookAt:ze,translate:Je,pan:Je,rotate:Rt,scale:be,zoom:be,reset:Ae,set:(...Te)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),ve(...Te)),setScaleBounds:it,setTranslationBounds:at,setView:ve,setViewCenter:Re}},fE=["pan","rotate"],x3={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},dE=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:f=1,defaultMouseDownMoveAction:h="pan",mouseDownMoveModKey:c="alt",isZoom:m=!0,zoomSpeed:g=1,viewCenter:S,scaleBounds:A,translationBounds:v,onKeyDown:_=()=>{},onKeyUp:y=()=>{},onMouseDown:P=()=>{},onMouseUp:F=()=>{},onMouseMove:H=()=>{},onWheel:te=()=>{}}={})=>{let K=cE(n,t,r,S,A,v),Ye=0,de=0,Ce=0,ze=0,Je=0,be=0,Rt=!1,it=0,at=1,ve=1,Re=1,Ae=!1,Te=!1,De=!1,kt=h==="pan",Mt=a,Zt=a,Ot=l,It=l,Bt=m,Ct=m;const rn=()=>{Mt=Array.isArray(a)?!!a[0]:a,Zt=Array.isArray(a)?!!a[1]:a,Ot=Array.isArray(l)?!!l[0]:l,It=Array.isArray(l)?!!l[1]:l,Bt=Array.isArray(m)?!!m[0]:m,Ct=Array.isArray(m)?!!m[1]:m};rn();const fn=i?Le=>Le/at*2*Re:Le=>Le,Dt=i?Le=>Le/ve*2:Le=>-Le,Jt=i?Le=>(-1+Le/at*2)*Re:Le=>Le,ot=i?Le=>1-Le/ve*2:Le=>Le,Lt=()=>{if(o){const ut=Te;return Te=!1,ut}Ae=!1;const Le=Ye,Pt=de;if((Mt||Zt)&&Rt&&(kt&&!De||!kt&&De)){const ut=Ot?Je-Le:Le-Je,jt=Mt?fn(s*ut):0,xt=It?be-Pt:Pt-be,$t=Zt?Dt(s*xt):0;(jt!==0||$t!==0)&&(K.pan([jt,$t]),Ae=!0)}if((Bt||Ct)&&it){const ut=g*Math.exp(it/ve),jt=Jt(Ce),xt=ot(ze);K.scale([Bt?1/ut:1,Ct?1/ut:1],[jt,xt]),Ae=!0}if(u&&Rt&&(kt&&De||!kt&&!De)&&Math.abs(Je-Le)+Math.abs(be-Pt)>0){const ut=at/2,jt=ve/2,xt=Je-ut,$t=jt-be,dn=Le-ut,hn=jt-Pt,Gn=uE([xt,$t],[dn,hn]),In=xt*hn-dn*$t;K.rotate(f*Gn*Math.sign(In)),Ae=!0}it=0,Je=Le,be=Pt;const Ht=Ae||Te;return Te=!1,Ht},St=({defaultMouseDownMoveAction:Le=null,isFixed:Pt=null,isPan:Ht=null,isPanInverted:ut=null,isRotate:jt=null,isZoom:xt=null,panSpeed:$t=null,rotateSpeed:dn=null,zoomSpeed:hn=null,mouseDownMoveModKey:Gn=null}={})=>{h=Le!==null&&fE.includes(Le)?Le:h,kt=h==="pan",o=Pt!==null?Pt:o,a=Ht!==null?Ht:a,l=ut!==null?ut:l,u=jt!==null?jt:u,m=xt!==null?xt:m,s=+$t>0?$t:s,f=+dn>0?dn:f,g=+hn>0?hn:g,rn(),c=Gn!==null&&Object.keys(x3).includes(Gn)?Gn:c},bt=()=>{const Le=e.getBoundingClientRect();at=Le.width,ve=Le.height,Re=at/ve},st=Le=>{De=!1,y(Le)},Xt=Le=>{De=Le[x3[c]],_(Le)},Gt=Le=>{Rt=!1,F(Le)},sn=Le=>{Rt=Le.buttons===1,P(Le)},w=document.createEvent("MouseEvent").offsetX!==void 0?Le=>{Ce=Le.offsetX,ze=Le.offsetY}:Le=>{const Pt=e.getBoundingClientRect();Ce=Le.clientX-Pt.left,ze=Le.clientY-Pt.top},he=Le=>{Ye=Le.clientX,de=Le.clientY},We=Le=>{he(Le),H(Le)},ue=Le=>{if(Bt||Ct){Le.preventDefault(),he(Le),w(Le);const Pt=Le.deltaMode===1?12:1;it+=Pt*(Le.deltaY||Le.deltaX||0)}te(Le)},dt=()=>{K=void 0,window.removeEventListener("keydown",Xt),window.removeEventListener("keyup",st),e.removeEventListener("mousedown",sn),window.removeEventListener("mouseup",Gt),window.removeEventListener("mousemove",We),e.removeEventListener("wheel",ue)};window.addEventListener("keydown",Xt,{passive:!0}),window.addEventListener("keyup",st,{passive:!0}),e.addEventListener("mousedown",sn,{passive:!0}),window.addEventListener("mouseup",Gt,{passive:!0}),window.addEventListener("mousemove",We,{passive:!0}),e.addEventListener("wheel",ue,{passive:!1}),K.config=St,K.dispose=dt,K.refresh=bt,K.tick=Lt;const ht=Le=>function(){Le.apply(null,arguments),Te=!0};return K.lookAt=ht(K.lookAt),K.translate=ht(K.translate),K.pan=ht(K.pan),K.rotate=ht(K.rotate),K.scale=ht(K.scale),K.zoom=ht(K.zoom),K.reset=ht(K.reset),K.set=ht(K.set),K.setScaleBounds=ht(K.setScaleBounds),K.setTranslationBounds=ht(K.setTranslationBounds),K.setView=ht(K.setView),K.setViewCenter=ht(K.setViewCenter),bt(),K};function pv(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;v8(e,t,a,r,i,o%2),pv(e,t,n,r,a-1,o+1),pv(e,t,n,a+1,i,o+1)}function v8(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const u=i-r+1,f=n-r+1,h=Math.log(u),c=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*c*(u-c)/u)*(f-u/2<0?-1:1),g=Math.max(r,Math.floor(n-f*c/u+m)),S=Math.min(i,Math.floor(n+(u-f)*c/u+m));v8(e,t,n,g,S,o)}const a=t[2*n+o];let l=r,s=i;for(ec(e,t,r,n),t[2*i+o]>a&&ec(e,t,r,i);l<s;){for(ec(e,t,l,s),l++,s--;t[2*l+o]<a;)l++;for(;t[2*s+o]>a;)s--}t[2*r+o]===a?ec(e,t,r,s):(s++,ec(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function ec(e,t,n,r){Xp(e,n,r),Xp(t,2*n,2*r),Xp(t,2*n+1,2*r+1)}function Xp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hE(e,t,n,r,i,o,a){const l=[0,e.length-1,0],s=[];let u,f;for(;l.length;){const h=l.pop(),c=l.pop(),m=l.pop();if(c-m<=a){for(let A=m;A<=c;A++)u=t[2*A],f=t[2*A+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[A]);continue}const g=Math.floor((m+c)/2);u=t[2*g],f=t[2*g+1],u>=n&&u<=i&&f>=r&&f<=o&&s.push(e[g]);const S=(h+1)%2;(h===0?n<=u:r<=f)&&(l.push(m),l.push(g-1),l.push(S)),(h===0?i>=u:o>=f)&&(l.push(g+1),l.push(c),l.push(S))}return s}function pE(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],s=i*i;for(;a.length;){const u=a.pop(),f=a.pop(),h=a.pop();if(f-h<=o){for(let A=h;A<=f;A++)_3(t[2*A],t[2*A+1],n,r)<=s&&l.push(e[A]);continue}const c=Math.floor((h+f)/2),m=t[2*c],g=t[2*c+1];_3(m,g,n,r)<=s&&l.push(e[c]);const S=(u+1)%2;(u===0?n-i<=m:r-i<=g)&&(a.push(h),a.push(c-1),a.push(S)),(u===0?n+i>=m:r+i>=g)&&(a.push(c+1),a.push(f),a.push(S))}return l}function _3(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const mE=e=>e[0],vE=e=>e[1];class gE{constructor(t,n=mE,r=vE,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),s=this.coords=new o(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);pv(l,s,i,0,l.length-1,0)}range(t,n,r,i){return hE(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return pE(this.ids,this.coords,t,n,r,this.nodeSize)}}const yE=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var xE=yE;const _E=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var wE=_E;const{push:w3,splice:EE}=Array.prototype,Yp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Tr=Float32Array.BYTES_PER_ELEMENT,SE=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,s=o+3;t.push(o,a,l,l,a,s)}n+=(r+2)*2}),t},Qr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}w3.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return EE.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const s=a*t;for(let u=0;u<t;u++)o[u]=e[s+u];w3.apply(i,o)}return i}},bE=(e,{projection:t=Yp,model:n=Yp,view:r=Yp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:f=[],miter:h=1,is2d:c=!1,zPos2d:m=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const g=new Float32Array(16);let S,A,v,_,y,P,F,H,te,K,Ye,de,Ce,ze,Je,be,Rt,it,at=c?2:3;const ve=()=>+(s.length===A||l!==null),Re=()=>{K=e.buffer(),Ye=e.buffer(),de=e.buffer(),Je=e.buffer(),be={prevPosition:{buffer:()=>K,offset:0,stride:Tr*3},currPosition:{buffer:()=>K,offset:Tr*3*2,stride:Tr*3},nextPosition:{buffer:()=>K,offset:Tr*3*4,stride:Tr*3},opacity:{buffer:()=>Ye,offset:Tr*2,stride:Tr},offsetScale:{buffer:()=>de,offset:Tr*2,stride:Tr},colorIndex:{buffer:()=>Je,offset:Tr*2,stride:Tr}},Rt=e.elements(),it=e({attributes:be,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(ot,Lt)=>{const St=ot.projection||Lt.projection,bt=ot.model||Lt.model,st=ot.view||Lt.view;return Cr(g,St,Cr(g,st,bt))},aspectRatio:({viewportWidth:ot,viewportHeight:Lt})=>ot/Lt,colorTex:()=>Ce,colorTexRes:()=>ze,colorTexEps:()=>.5/ze,pixelRatio:({pixelRatio:ot})=>ot,width:({pixelRatio:ot,viewportHeight:Lt})=>u/Lt*ot,useOpacity:ve,useColorOpacity:()=>+!ve(),miter:h},elements:()=>Rt,vert:wE,frag:xE})},Ae=()=>{S===1&&i.length%at>0&&console.warn(`The length of points (${A}) does not match the dimensions (${at}). Incomplete points are ignored.`),_=i.flat().slice(0,A*at),c&&(_=Qr.increaseStride(_,2,3,m)),o.length!==A&&(o=new Array(A).fill(0)),f.length!==A&&(f=new Array(A).fill(1));let ot=o.slice(),Lt=s.length===A?s.slice():new Array(A).fill(+l),St=f.slice(),bt=0;v.forEach(st=>{const Xt=bt+st-1;Qr.copyElement(_,Xt,Xt,3),Qr.copyElement(_,bt,bt,3),Qr.copyElement(ot,Xt,Xt,1),Qr.copyElement(ot,bt,bt,1),Qr.copyElement(Lt,Xt,Xt,1),Qr.copyElement(Lt,bt,bt,1),Qr.copyElement(St,Xt,Xt,1),Qr.copyElement(St,bt,bt,1),bt+=st+2}),y=new Float32Array(Qr.duplicate(_,3)),P=Qr.duplicate(ot),F=Qr.duplicate(Lt),H=Qr.duplicate(St,1,-1),te=SE(v),K({usage:"dynamic",type:"float",length:y.length*Tr,data:y}),Ye({usage:"dynamic",type:"float",length:F.length*Tr,data:F}),de({usage:"dynamic",type:"float",length:H.length*Tr,data:H}),Je({usage:"dynamic",type:"float",length:P.length*Tr,data:P}),Rt({primitive:"triangles",usage:"dynamic",type:te.length>2**16?"uint32":"uint16",data:te})},Te=()=>{De(),Re()},De=()=>{i=null,_=null,y=null,H=null,te=null,K.destroy(),de.destroy(),Rt.destroy()},kt=({projection:ot,model:Lt,view:St}={})=>{ot&&(t=ot),Lt&&(n=Lt),St&&(r=St),i&&i.length>1&&it({projection:t,model:n,view:r})},Mt=(ot,Lt)=>{const St=Lt.flat(2);return St.length===A?St:St.length===S?v.map((bt,st)=>Array(bt).fill(St[st])).flat():ot},Zt=()=>i,Ot=(ot=[],{colorIndices:Lt=o,opacities:St=s,widths:bt=f,is2d:st=c}={})=>{i=ot,c=st,at=c?2:3,S=Array.isArray(i[0])?i.length:1,v=S>1?i.map(Xt=>Math.floor(Xt.length/at)):[Math.floor(i.length/at)],A=v.reduce((Xt,Gt)=>Xt+Gt,0),o=Mt(o,Lt),s=Mt(s,St),f=Mt(f,bt),i&&A>1?Ae():Te()},It=(ot,Lt=-1)=>Array.isArray(ot)?ot.length&&!Array.isArray(ot[0])?Lt+1:It(ot[0],++Lt):Lt,Bt=()=>{const ot=It(a)===0?[a]:a;ze=Math.max(2,Math.ceil(Math.sqrt(ot.length)));const Lt=new Uint8Array(ze**2*4);ot.forEach((St,bt)=>{Lt[bt*4]=Math.min(255,Math.max(0,Math.round(St[0]*255))),Lt[bt*4+1]=Math.min(255,Math.max(0,Math.round(St[1]*255))),Lt[bt*4+2]=Math.min(255,Math.max(0,Math.round(St[2]*255))),Lt[bt*4+3]=Number.isNaN(+St[3])?255:Math.min(255,Math.max(0,Math.round(St[3]*255)))}),Ce=e.texture({data:Lt,shape:[ze,ze,4]})},Ct=(ot,Lt=l)=>{a=ot,l=Lt,Ce&&Ce.destroy(),Bt()},rn=()=>({color:a,miter:h,width:u}),fn=({color:ot,opacity:Lt,miter:St,width:bt}={})=>{ot&&Ct(ot,Lt),St&&(h=St),+bt>0&&(u=bt)},Dt=()=>({points:K,widths:de,opacities:Ye,colorIndices:Je}),Jt=()=>({points:y,widths:H,opacities:F,colorIndices:P});return Re(),Bt(),i&&i.length>1&&Ot(i),{clear:Te,destroy:De,draw:kt,getPoints:Zt,setPoints:Ot,getData:Jt,getBuffer:Dt,getStyle:rn,setStyle:fn}};var Y0=bE;const TE=e=>e*e*e,g8=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,AE=e=>--e*e*e+1,CE=e=>e,LE=e=>e*e,RE=e=>e<.5?2*e*e:-1+(4-2*e)*e,kE=e=>e*(2-e),Ts=e=>e,OE=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},PE=e=>e.reduce((t,n)=>n>t?n:t,-1/0),E3=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},NE=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},B2=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),ME=(...e)=>t=>e.reduce((n,r)=>r(n),t),IE=e=>t=>B2({__proto__:{constructor:e}},t),S3=(e,t)=>n=>B2(n,{get[e](){return t}}),DE=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),FE=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),ss=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),y8=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let a=!1;const l=(...s)=>{a?(i++,o(...s)):(e(...s),o(...s),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},Yi="auto",$E=0,qp=1,BE=2,b3=3,jE=4,zE=Float32Array.BYTES_PER_ELEMENT,x8=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],T3={color:[0,0,0,0],depth:1},j2="panZoom",_8="lasso",w8="rotate",GE=[j2,_8,w8],UE=j2,VE={cubicIn:TE,cubicInOut:g8,cubicOut:AE,linear:CE,quadIn:LE,quadInOut:RE,quadOut:kE},A3=g8,Wi="continuous",ds="categorical",C3=[Wi,ds],mv="deselect",z2="lassoEnd",HE=[mv,z2],WE=[0,.666666667,1,1],XE=2,YE=!1,qE=10,QE=3,KE=z2,ZE=!1,Jd=750,eh=500,th=100,nh=250,G2="lasso",rh="rotate",ih="merge",JE=[G2,rh,ih],U2="alt",V2="cmd",E8="ctrl",S8="meta",H2="shift",eS=[U2,V2,E8,S8,H2],tS={[U2]:rh,[H2]:G2,[V2]:ih},nS=1,rS=Yi,iS=Yi,oS=1,Qp=1,aS=6,lS=2,sS=2,Kp=null,uS=2,cS=2,Zp=null,fS=null,Jp=null,dS=.66,hS=1,em=null,pS=.15,mS=25,vS=1,gS=1,tc=null,yS=[.66,.66,.66,hS],xS=[0,.55,1,1],_S=[1,1,1,1],wS=[0,0,0,1],tm=null,ES=[.66,.66,.66,.2],SS=[0,.55,1,1],bS=[1,1,1,1],TS=[0,0],AS=1,CS=0,LS=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),RS="IMAGE_LOAD_ERROR",kS=null,OS=!1,PS=[1,1,1,.5],NS=!0,MS=!0,IS=!1,DS=100,FS=1/500,$S="auto",BS=!1,jS=200,zS=500,b8=new Set(["z","valueZ","valueA","value1","category"]),T8=new Set(["w","valueW","valueB","value2","value"]),W2=15e3,L3="Points have not been drawn",GS=(e,t)=>e?x8.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,US=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return x8.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),nE({gl:t,extensions:n})},nm=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),VS=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},HS=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,WS=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),Qo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Ko=e=>!Number.isNaN(+e)&&+e>=0,q0=e=>!Number.isNaN(+e)&&+e>0,R3=(e,t)=>n=>e.indexOf(n)>=0?n:t,XS=(e,t=!1,n=W2)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error(RS))};o.onerror=a,setTimeout(a,n)}),k3=(e,t,n=W2)=>new Promise((r,i)=>{XS(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),YS=(e,t=!1)=>[...WS(e,t),255**!t],qS=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),QS=e=>e>=0&&e<=1,oh=e=>Array.isArray(e)&&e.every(QS),KS=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],o=e[u],a=e[u+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),u=s;return l},vv=e=>typeof e=="string"||e instanceof String,ZS=e=>Number.isInteger(e)&&e>=0&&e<=255,A8=e=>Array.isArray(e)&&e.every(ZS),JS=e=>e.length===3&&(oh(e)||A8(e)),eb=e=>e.length===4&&(oh(e)||A8(e)),Zo=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||vv(e[0])),Q0=(e,t)=>e>t?e:t,O3=(e,t)=>e<t?e:t,Ir=(e,t)=>{if(eb(e)){const n=oh(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(JS(e)){const n=255**!t,r=oh(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return qS(e)?YS(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},P3=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),N3=e=>.21*e[0]+.72*e[1]+.07*e[2],tb=(e,t,n)=>Math.min(n,Math.max(t,e)),nb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=oS}=e;t||(t=US(n));const i=GS(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=A=>{const v=A.getContext("2d");v.clearRect(0,0,A.width,A.height),v.drawImage(n,(n.width-A.width)/2,(n.height-A.height)/2,A.width,A.height,0,0,A.width,A.height)},u=(A,v)=>{t.clear(T3),a.use(()=>{t.clear(T3),A()}),l(),s(v)},f=()=>{t.poll()},h=new Set,c=A=>(h.add(A),()=>{h.delete(A)}),m=t.frame(()=>{const A=h.values();let v=A.next();for(;!v.done;)v.value(),v=A.next()}),g=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",g),window.addEventListener("orientationchange",g),g()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(A){r=+A},get isSupported(){return i},render:u,onFrame:c,refresh:f,destroy:()=>{m.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}}},rb=!0,rm=8,M3=2,ib=2500,ob=250,ab=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},lb=(e,t,n)=>(1-e)*t+n,sb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,ub=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,cb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,fb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,db=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,hb=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,pb=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,mb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,vb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,gb=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,yb=({time:e=Jd,extraTime:t=eh,delay:n=th,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:f})=>{const h=l/360,c=lb(h,e,t),m=Math.round((1-h)*e/c*100),g=Math.round(m/2),S=m+(100-m)/4;return{rules:{main:hb(m,r,i),effect:pb(m,S,o,a),circleRight:gb(g,s),circleLeft:vb(m,l),circle:mb(g,u,f)},names:{main:sb(c,n),effect:ub(c,n),circleLeft:cb(c,n),circleRight:fb(c,n),circle:db(c,n)}}},xb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,_b=e=>`${e}ms linear effectOut 0s 1 normal forwards`,wb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Eb=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Sb=e=>`${e}ms linear circleOut 0s 1 normal forwards`,bb=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Tb=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Ab=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,Cb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,Lb=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,Rb=({time:e=nh,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:s})=>{const u=o/360,f=u*e,h=Math.min(100,u*100),c=h>50?Math.round((1-50/h)*100):0;return{rules:{main:bb(t,n),effect:Tb(r,i),circleRight:Ab(c,a),circleLeft:Cb(o),circle:Lb(c,l,s)},names:{main:xb(f),effect:_b(f),circleRight:wb(f),circleLeft:Eb(f),circle:Sb(f)}}},nc=(e,t=null)=>e===null?t:e;let im;const C8=()=>{if(!im){const e=document.createElement("style");document.head.appendChild(e),im=e.sheet}return im},ui=e=>{const t=C8(),n=t.rules.length;return t.insertRule(e,n),n},ci=e=>{C8().deleteRule(e)},kb=`${ib}ms ease scaleInFadeOut 0s 1 normal backwards`,Ob=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let om=null;const Pb=`${ob}ms ease fadeScaleOut 0s 1 normal backwards`,Nb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let am=null;const L8=(e,{onDraw:t=Ts,onStart:n=Ts,onEnd:r=Ts,enableInitiator:i=rb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=rm,minDist:s=M3,pointNorm:u=Ts}={})=>{let f=i,h=o,c=a,m=t,g=n,S=r,A=u;const v=document.createElement("div"),_=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);v.id=`lasso-initiator-${_}`,v.style.position="fixed",v.style.display="flex",v.style.justifyContent="center",v.style.alignItems="center",v.style.zIndex=99,v.style.width="4rem",v.style.height="4rem",v.style.borderRadius="4rem",v.style.opacity=.5,v.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:y,longPressCircle:P,longPressCircleLeft:F,longPressCircleRight:H,longPressEffect:te}=ab();let K=!1,Ye=!1,de=[],Ce=[],ze,Je=!1,be=null,Rt=null,it=null,at=null,ve=null,Re=null,Ae=null,Te=null,De=null,kt=null;const Mt=()=>{K=!1},Zt=he=>{const{left:We,top:ue}=e.getBoundingClientRect();return[he.clientX-We,he.clientY-ue]};window.addEventListener("mouseup",Mt);const Ot=()=>{v.style.opacity=.5,v.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},It=(he,We)=>{const ue=getComputedStyle(he),dt=+ue.opacity,ht=ue.transform.match(/([0-9.-]+)+/g),Le=+ht[0],Pt=+ht[1],Ht=Math.sqrt(Le*Le+Pt*Pt);let ut=Math.atan2(Pt,Le)*(180/Math.PI);return ut=We&&ut<=0?360+ut:ut,{opacity:dt,scale:Ht,rotate:ut}},Bt=he=>{if(!f||K)return;const We=he.clientX,ue=he.clientY;v.style.top=`${ue}px`,v.style.left=`${We}px`;const dt=It(v),ht=dt.opacity,Le=dt.scale,Pt=dt.rotate;v.style.opacity=ht,v.style.transform=`translate(-50%,-50%) scale(${Le}) rotate(${Pt}deg)`,v.style.animation="none",ss().then(()=>{om!==null&&ci(om),om=ui(Ob(ht,Le,Pt)),v.style.animation=kb,ss().then(()=>{Ot()})})},Ct=()=>{const{opacity:he,scale:We,rotate:ue}=It(v);v.style.opacity=he,v.style.transform=`translate(-50%,-50%) scale(${We}) rotate(${ue}deg)`,v.style.animation="none",ss(2).then(()=>{am!==null&&ci(am),am=ui(Nb(he,We,ue)),v.style.animation=Pb,ss().then(()=>{Ot()})})},rn=(he,We,{time:ue=Jd,extraTime:dt=eh,delay:ht=th}={time:Jd,extraTime:eh,delay:th})=>{Je=!0;const Le=getComputedStyle(y);y.style.color=Le.color,y.style.top=`${We}px`,y.style.left=`${he}px`,y.style.animation="none";const Pt=getComputedStyle(P);P.style.clipPath=Pt.clipPath,P.style.opacity=Pt.opacity,P.style.animation="none";const Ht=It(te);te.style.opacity=Ht.opacity,te.style.transform=`scale(${Ht.scale})`,te.style.animation="none";const ut=It(F);F.style.transform=`rotate(${ut.rotate}deg)`,F.style.animation="none";const jt=It(H);H.style.transform=`rotate(${jt.rotate}deg)`,H.style.animation="none",ss().then(()=>{if(!Je)return;ve!==null&&ci(ve),at!==null&&ci(at),it!==null&&ci(it),Rt!==null&&ci(Rt),be!==null&&ci(be);const{rules:xt,names:$t}=yb({time:ue,extraTime:dt,delay:ht,currentColor:Le.color||"currentcolor",targetColor:y.dataset.activeColor,effectOpacity:Ht.opacity||0,effectScale:Ht.scale||0,circleLeftRotation:ut.rotate||0,circleRightRotation:jt.rotate||0,circleClipPath:Pt.clipPath||"inset(0 0 0 50%)",circleOpacity:Pt.opacity||0});be=ui(xt.main),Rt=ui(xt.effect),it=ui(xt.circleLeft),at=ui(xt.circleRight),ve=ui(xt.circle),y.style.animation=$t.main,te.style.animation=$t.effect,F.style.animation=$t.circleLeft,H.style.animation=$t.circleRight,P.style.animation=$t.circle})},fn=({time:he=nh}={time:nh})=>{if(!Je)return;Je=!1;const We=getComputedStyle(y);y.style.color=We.color,y.style.animation="none";const ue=getComputedStyle(P);P.style.clipPath=ue.clipPath,P.style.opacity=ue.opacity,P.style.animation="none";const dt=It(te);te.style.opacity=dt.opacity,te.style.transform=`scale(${dt.scale})`,te.style.animation="none";const ht=ue.clipPath.slice(-2,-1)==="x",Le=It(F,ht);F.style.transform=`rotate(${Le.rotate}deg)`,F.style.animation="none";const Pt=It(H);H.style.transform=`rotate(${Pt.rotate}deg)`,H.style.animation="none",ss().then(()=>{kt!==null&&ci(kt),De!==null&&ci(De),Te!==null&&ci(Te),Ae!==null&&ci(Ae),Re!==null&&ci(Re);const{rules:Ht,names:ut}=Rb({time:he,currentColor:We.color||"currentcolor",targetColor:y.dataset.color,effectOpacity:dt.opacity||0,effectScale:dt.scale||0,circleLeftRotation:Le.rotate||0,circleRightRotation:Pt.rotate||0,circleClipPath:ue.clipPath||"inset(0px)",circleOpacity:ue.opacity||1});Re=ui(Ht.main),Ae=ui(Ht.effect),Te=ui(Ht.circleLeft),De=ui(Ht.circleRight),kt=ui(Ht.circle),y.style.animation=ut.main,te.style.animation=ut.effect,F.style.animation=ut.circleLeft,H.style.animation=ut.circleRight,P.style.animation=ut.circle})},Dt=()=>{m(de,Ce)},Jt=he=>{if(ze){if(DE(he[0],he[1],ze[0],ze[1])>M3){ze=he;const ue=A(he);de.push(ue),Ce.push(ue[0],ue[1]),de.length>1&&Dt()}}else{Ye||(Ye=!0,g()),ze=he;const We=A(he);de=[We],Ce=[We[0],We[1]]}},ot=y8(Jt,rm,rm),Lt=(he,We)=>{const ue=Zt(he);return We?ot(ue):Jt(ue)},St=()=>{de=[],Ce=[],ze=void 0,Dt()},bt=he=>{Bt(he)},st=()=>{K=!0,Ye=!0,St(),g()},Xt=()=>{Ct()},Gt=({merge:he=!1}={})=>{Ye=!1;const We=[...de],ue=[...Ce];return ot.cancel(),St(),We.length&&S(We,ue,{merge:he}),We},sn=({onDraw:he=null,onStart:We=null,onEnd:ue=null,enableInitiator:dt=null,initiatorParentElement:ht=null,longPressIndicatorParentElement:Le=null,minDelay:Pt=null,minDist:Ht=null,pointNorm:ut=null}={})=>{m=nc(he,m),g=nc(We,g),S=nc(ue,S),f=nc(dt,f),A=nc(ut,A),ht!==null&&ht!==h&&(h.removeChild(v),ht.appendChild(v),h=ht),Le!==null&&Le!==c&&(c.removeChild(y),Le.appendChild(y),c=Le),f?(v.addEventListener("click",bt),v.addEventListener("mousedown",st),v.addEventListener("mouseleave",Xt)):(v.removeEventListener("mousedown",st),v.removeEventListener("mouseleave",Xt))},Qn=()=>{h.removeChild(v),c.removeChild(y),window.removeEventListener("mouseup",Mt),v.removeEventListener("click",bt),v.removeEventListener("mousedown",st),v.removeEventListener("mouseleave",Xt)},w=()=>he=>B2(he,{clear:St,destroy:Qn,end:Gt,extend:Lt,set:sn,showInitiator:Bt,hideInitiator:Ct,showLongPressIndicator:rn,hideLongPressIndicator:fn});return h.appendChild(v),c.appendChild(y),sn({onDraw:m,onStart:g,onEnd:S,enableInitiator:f,initiatorParentElement:h}),ME(S3("initiator",v),S3("longPressIndicator",y),w(),IE(L8))({})},Mb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Ib=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Db=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Fb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,$b=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,Bb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,jb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,zb=function(){const t=(u,f,h,c,m)=>{const g=(c-f)*.5,S=(m-h)*.5;return(2*h-2*c+g+S)*u*u*u+(-3*h+3*c-2*g-S)*u*u+g*u+h},n=(u,f,h)=>{const c=h*u,m=Math.floor(c),g=c-m,S=f[Math.max(0,m-1)],A=f[m],v=f[Math.min(h,m+1)],_=f[Math.min(h,m+2)];return[t(g,S[0],A[0],v[0],_[0]),t(g,S[1],A[1],v[1],_[1])]},r=(u,f,h,c)=>(u-h)**2+(f-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,f,h)=>{let c=f[0],m=f[1],g=h[0]-c,S=h[1]-m;if(g!==0||S!==0){const A=((u[0]-c)*g+(u[1]-m)*S)/(g*g+S*S);A>1?(c=h[0],m=h[1]):A>0&&(c+=g*A,m+=S*A)}return g=u[0]-c,S=u[1]-m,g*g+S*S};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(u,f,h,c,m)=>{let g=c,S;for(let A=f+1;A<h;A++){const v=i(u[A],u[f],u[h]);v>g&&(S=A,g=v)}g>c&&(S-f>1&&o(u,f,S,c,m),m.push(u[S]),h-S>1&&o(u,S,h,c,m))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(u,f)=>{const h=u.length-1,c=[u[0]];return o(u,0,h,f,c),c.push(u[h]),c},l=(u,{maxIntPointsPerSegment:f=100,tolerance:h=.002}={})=>{const c=u.length,m=c-1,g=m*f+1,S=h**2;let A=[],v;for(let _=0;_<c-1;_++){let y=[u[_].slice(0,2)];v=u[_];for(let P=1;P<f;P++){const F=(_*f+P)/g,H=n(F,u,m);r(v[0],v[1],H[0],H[1])>S&&(y.push(H),v=H)}y.push(u[_+1]),y=a(y,S),A=A.concat(y.slice(0,y.length-1))}return A.push(u[u.length-1].slice(0,2)),A.flat()},s=u=>{const f={},h=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const m=c[4];f[m]||(f[m]=[]),h?f[m][c[5]]=c:f[m].push(c)}),Object.entries(f).forEach(c=>{f[c[0]]=c[1].filter(m=>m),f[c[0]].reference=c[1][0]}),f};self.onmessage=function(f){(f.data.points?+f.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),f.data.points;const c=s(f.data.points);self.postMessage({points:Object.entries(c).reduce((m,g)=>(m[g[0]]=l(g[1],f.data.options),m[g[0]].reference=g[1].reference,m),{})})}},Gb=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=FE(zb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var Ub="1.8.5";const lm={showRecticle:"showReticle",recticleColor:"reticleColor"},sm=e=>{Object.keys(e).filter(t=>lm[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${lm[t]}" instead.`),e[lm[t]]=e[t],delete e[t]})},fi=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>b8.has(e)?"valueZ":T8.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,um=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},Vb=(e={})=>{const t=Jw({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];sm(e);let{renderer:o,backgroundColor:a=wS,backgroundImage:l=kS,canvas:s=document.createElement("canvas"),colorBy:u=tc,deselectOnDblClick:f=NS,deselectOnEscape:h=MS,lassoColor:c=WE,lassoLineWidth:m=XE,lassoMinDelay:g=qE,lassoMinDist:S=QE,lassoClearEvent:A=KE,lassoInitiator:v=YE,lassoInitiatorParentElement:_=document.body,lassoOnLongPress:y=ZE,lassoLongPressTime:P=Jd,lassoLongPressAfterEffectTime:F=eh,lassoLongPressEffectDelay:H=th,lassoLongPressRevertEffectTime:te=nh,keyMap:K=tS,mouseMode:Ye=UE,showReticle:de=OS,reticleColor:Ce=PS,pointColor:ze=yS,pointColorActive:Je=xS,pointColorHover:be=_S,showPointConnections:Rt=IS,pointConnectionColor:it=ES,pointConnectionColorActive:at=SS,pointConnectionColorHover:ve=bS,pointConnectionColorBy:Re=tm,pointConnectionOpacity:Ae=fS,pointConnectionOpacityBy:Te=Jp,pointConnectionOpacityActive:De=dS,pointConnectionSize:kt=uS,pointConnectionSizeActive:Mt=cS,pointConnectionSizeBy:Zt=Zp,pointConnectionMaxIntPointsPerSegment:Ot=DS,pointConnectionTolerance:It=FS,pointSize:Bt=aS,pointSizeSelected:Ct=lS,pointSizeMouseDetection:rn=$S,pointOutlineWidth:fn=sS,opacity:Dt=Yi,opacityBy:Jt=em,opacityByDensityFill:ot=pS,opacityInactiveMax:Lt=vS,opacityInactiveScale:St=gS,sizeBy:bt=Kp,height:st=iS,width:Xt=rS}=e,Gt=Xt===Yi?1:Xt,sn=st===Yi?1:st;const{performanceMode:Qn=BS,opacityByDensityDebounceTime:w=mS}=e;o||(o=nb({regl:e.regl,gamma:e.gamma})),a=Ir(a,!0),c=Ir(c,!0),Ce=Ir(Ce,!0);let he=!1,We=N3(a),ue,dt,ht=!1,Le=null,Pt=[0,0],Ht=-1,ut=[];const jt=new Set,xt=new Set;let $t=!1;const dn=new Set;let hn=0,Gn=0,In=!1,Un=[],cn,Er,gn=e.aspectRatio||nS,Dn,U,Ue,mt,Yt,Ve,vt,wt,yn,An=P3(K),tr,sr,bn,nr=!1,rt=!0,Sr=!1,ko;ze=Zo(ze)?[...ze]:[ze],Je=Zo(Je)?[...Je]:[Je],be=Zo(be)?[...be]:[be],ze=ze.map(d=>Ir(d,!0)),Je=Je.map(d=>Ir(d,!0)),be=be.map(d=>Ir(d,!0)),Dt=!Array.isArray(Dt)&&Number.isNaN(+Dt)?ze[0][3]:Dt,Dt=Qo(Dt,Ko,{minLength:1})?[...Dt]:[Dt],Bt=Qo(Bt,Ko,{minLength:1})?[...Bt]:[Bt];let La=Qp/Bt[0];it==="inherit"?it=[...ze]:(it=Zo(it)?[...it]:[it],it=it.map(d=>Ir(d,!0))),at==="inherit"?at=[...Je]:(at=Zo(at)?[...at]:[at],at=at.map(d=>Ir(d,!0))),ve==="inherit"?ve=[...be]:(ve=Zo(ve)?[...ve]:[ve],ve=ve.map(d=>Ir(d,!0))),Ae==="inherit"?Ae=[...Dt]:Ae=Qo(Ae,Ko,{minLength:1})?[...Ae]:[Ae],kt==="inherit"?kt=[...Bt]:kt=Qo(kt,Ko,{minLength:1})?[...kt]:[kt],u=fi(u,tc),Jt=fi(Jt,em,{allowDensity:!0}),bt=fi(bt,Kp),Re=fi(Re,tm,{allowSegment:!0}),Te=fi(Te,Jp,{allowSegment:!0}),Zt=fi(Zt,Zp,{allowSegment:!0});let zr,Gr,Ur,un,Cn=0,to=0,Vr,Ra,xi,Ll,Rl,kl,Ol,no=!1,ka=null,eu,tu,ff=de,Oo,Po=0,Pl,No=0,nu=!1,Or=!1,Di=!1,Fi=ds,ro=ds,Kn,ai=!1,rr=e.xScale||null,Fn=e.yScale||null,Mo=0,Nl=0,Ml=0,Il=0;rr&&(Mo=rr.domain()[0],Nl=rr.domain()[1]-rr.domain()[0],rr.range([0,Gt])),Fn&&(Ml=Fn.domain()[0],Il=Fn.domain()[1]-Fn.domain()[0],Fn.range([sn,0]));const df=d=>-1+d/Gt*2,Pr=d=>1+d/sn*-2,br=()=>[df(i[0]),Pr(i[1])],Hr=(d,$)=>{const W=[d,$,1,1],se=hv(n,Cr(n,Dn,Cr(n,ue.view,Ue)));return xd(W,W,se),W.slice(0,2)},hf=(d=0)=>{const $=Fa(),se=(sr[1]-bn[1])/s.height;return(yn*$+d)*se},ru=()=>$t?cn.points.filter((d,$)=>dn.has($)):cn.points,Dl=(d,$,W,se)=>{const Ne=cn.range(d,$,W,se);return $t?Ne.filter(qe=>dn.has(qe)):Ne},iu=()=>{const[d,$]=br(),[W,se]=Hr(d,$),Ne=hf(4),qe=Dl(W-Ne,se-Ne,W+Ne,se+Ne);let tt=Ne,Nt=-1;return qe.forEach(en=>{const[Qt,$n]=cn.points[en],an=nm(Qt,$n,W,se);an<tt&&(tt=an,Nt=en)}),Nt},Jh=(d,$)=>{Un=d,dt.setPoints($),t.publish("lassoExtend",{coordinates:d})},e1=d=>{const $=VS(d);if(!HS($))return[];const W=Dl(...$),se=[];return W.forEach(Ne=>{KS(d,cn.points[Ne])&&se.push(Ne)}),se},Io=()=>{Un=[],dt&&dt.clear()},Oa=d=>d&&d.length>4,io=(d,$)=>{if(Ve||!Rt||!Oa(cn.points[d[0]]))return;const W=$===0,se=$===1?tt=>xt.add(tt):Ts,Ne=Object.keys(d.reduce((tt,Nt)=>{const en=cn.points[Nt],$n=Array.isArray(en[4])?en[4][0]:en[4];return tt[$n]=!0,tt},{})),qe=mt.getData().opacities;Ne.filter(tt=>!xt.has(+tt)).forEach(tt=>{const Nt=Yt[tt][0],en=Yt[tt][2],Qt=Yt[tt][3],$n=Nt*4+Qt*2,an=$n+en*2+4;qe.__original__===void 0&&(qe.__original__=qe.slice());for(let Kt=$n;Kt<an;Kt++)qe[Kt]=W?qe.__original__[Kt]:De;se(tt)}),mt.getBuffer().opacities.subdata(qe,0)},Fl=d=>[d%Cn/Cn+to,Math.floor(d/Cn)/Cn+to],t1=d=>$t&&!dn.has(d),$l=({preventEvent:d=!1}={})=>{A===mv&&Io(),ut.length&&(d||t.publish("deselect"),xt.clear(),io(ut,0),ut=[],jt.clear(),rt=!0)},Do=(d,{merge:$=!1,preventEvent:W=!1}={})=>{const se=Array.isArray(d)?d:[d],Ne=[...ut];if($){if(ut=NE(ut,se),Ne.length===ut.length){rt=!0;return}}else{if(ut&&ut.length&&io(ut,0),Ne.length>0&&se.length===0){$l({preventEvent:W});return}ut=se}if(OE(Ne,ut)){rt=!0;return}const qe=[];jt.clear(),xt.clear();for(let tt=ut.length-1;tt>=0;tt--){const Nt=ut[tt];if(Nt<0||Nt>=hn||t1(Nt)){ut.splice(tt,1);continue}jt.add(Nt),qe.push.apply(qe,Fl(Nt))}Ra({usage:"dynamic",type:"float",data:qe}),io(ut,1),W||t.publish("select",{points:ut}),rt=!0},Pa=(d,{showReticleOnce:$=!1,preventEvent:W=!1}={})=>{let se=!1;if(d>=0&&d<hn){se=!0;const Ne=Kn,qe=d!==Kn;+Ne>=0&&qe&&!jt.has(Ne)&&io([Ne],0),Kn=d,xi.subdata(Fl(d)),jt.has(d)||io([d],2),qe&&!W&&t.publish("pointover",Kn)}else se=+Kn>=0,se&&(jt.has(Kn)||io([Kn],0),W||t.publish("pointout",Kn)),Kn=void 0;se&&(rt=!0,Sr=$)},ou=d=>{const $=s.getBoundingClientRect();return i[0]=d.clientX-$.left,i[1]=d.clientY-$.top,[...i]},Vn=L8(s,{onStart:()=>{ue.config({isFixed:!0}),ht=!0,In=!0,Io(),Ht>=0&&(clearTimeout(Ht),Ht=-1),t.publish("lassoStart")},onDraw:Jh,onEnd:(d,$,{merge:W=!1}={})=>{ue.config({isFixed:!1}),Un=[...d];const se=e1($);Do(se,{merge:W}),t.publish("lassoEnd",{coordinates:Un}),A===z2&&Io()},enableInitiator:v,initiatorParentElement:_,pointNorm:([d,$])=>Hr(df(d),Pr($))}),Bl=()=>Ye===_8,Na=(d,$)=>{switch(An[$]){case U2:return d.altKey;case V2:return d.metaKey;case E8:return d.ctrlKey;case S8:return d.metaKey;case H2:return d.shiftKey;default:return!1}},pf=d=>document.elementsFromPoint(d.clientX,d.clientY).some($=>$===s),au=d=>{!Or||d.buttons!==1||(ht=!0,Le=performance.now(),Pt=ou(d),In=Bl()||Na(d,G2),!In&&y&&(Vn.showLongPressIndicator(d.clientX,d.clientY,{time:P,extraTime:F,delay:H}),Ht=setTimeout(()=>{Ht=-1,In=!0},P)))},lu=d=>{Or&&(ht=!1,Ht>=0&&(clearTimeout(Ht),Ht=-1),In&&(d.preventDefault(),In=!1,Vn.end({merge:Na(d,ih)})),y&&Vn.hideLongPressIndicator({time:te}))},jl=d=>{if(!Or)return;d.preventDefault();const $=ou(d);if(nm(...$,...Pt)>=S)return;const W=performance.now()-Le;if(!v||W<zS){const se=iu();se>=0?(ut.length&&A===mv&&Io(),Do([se],{merge:Na(d,ih)})):tr||(tr=setTimeout(()=>{tr=null,Vn.showInitiator(d)},jS))}},zl=d=>{Vn.hideInitiator(),tr&&(clearTimeout(tr),tr=null),f&&(d.preventDefault(),$l())},_i=d=>{if(Di||(ai=pf(d),Di=!0),!Or||!ai&&!ht)return;const $=ou(d),se=nm(...$,...Pt)>=S;ai&&!In&&Pa(iu()),In?(d.preventDefault(),Vn.extend(d,!0)):ht&&y&&se&&Vn.hideLongPressIndicator({time:te}),Ht>=0&&se&&(clearTimeout(Ht),Ht=-1),ht&&(rt=!0)},Ma=()=>{Kn=void 0,ai=!1,Di=!1,Or&&(+Kn>=0&&!jt.has(Kn)&&io([Kn],0),lu(),rt=!0)},Gl=()=>{const d=Math.max(Bt.length,Dt.length);No=Math.max(2,Math.ceil(Math.sqrt(d)));const $=new Float32Array(No**2*4);for(let W=0;W<d;W++){$[W*4]=Bt[W]||0,$[W*4+1]=Math.min(1,Dt[W]||0);const se=Number((Je[W]||Je[0])[3]);$[W*4+2]=Math.min(1,Number.isNaN(se)?1:se);const Ne=Number((be[W]||be[0])[3]);$[W*4+3]=Math.min(1,Number.isNaN(Ne)?1:Ne)}return o.regl.texture({data:$,shape:[No,No,4],type:"float"})},su=(d=ze,$=Je,W=be)=>{const se=d.length,Ne=$.length,qe=W.length,tt=[];if(se===Ne&&Ne===qe)for(let Nt=0;Nt<se;Nt++)tt.push(d[Nt],$[Nt],W[Nt],a);else for(let Nt=0;Nt<se;Nt++){const en=[d[Nt][0],d[Nt][1],d[Nt][2],1],Qt=u===tc?$[0]:en,$n=u===tc?W[0]:en;tt.push(d[Nt],Qt,$n,a)}return tt},uu=()=>{const d=su(),$=d.length;Po=Math.max(2,Math.ceil(Math.sqrt($)));const W=new Float32Array(Po**2*4);return d.forEach((se,Ne)=>{W[Ne*4]=se[0],W[Ne*4+1]=se[1],W[Ne*4+2]=se[2],W[Ne*4+3]=se[3]}),o.regl.texture({data:W,shape:[Po,Po,4],type:"float"})},n1=(d,$)=>{U[0]=d/Er,U[5]=$},cu=()=>{Er=Gt/sn,Dn=yd([],[1/Er,1,1]),U=yd([],[1/Er,1,1]),Ue=yd([],[gn,1,1])},r1=d=>{+d<=0||(gn=d)},fu=(d,$)=>W=>{if(!W||!W.length)return;const Ne=[...d()];let qe=Zo(W)?W:[W];qe=qe.map(tt=>Ir(tt,!0)),Oo&&Oo.destroy();try{$(qe),Oo=uu()}catch{console.error("Invalid colors. Switching back to default colors."),$(Ne),Oo=uu()}},i1=fu(()=>ze,d=>{ze=d}),o1=fu(()=>Je,d=>{Je=d}),$i=fu(()=>be,d=>{be=d}),a1=()=>{const d=Hr(-1,-1),$=Hr(1,1),W=(d[0]+1)/2,se=($[0]+1)/2,Ne=(d[1]+1)/2,qe=($[1]+1)/2,tt=[Mo+W*Nl,Mo+se*Nl],Nt=[Ml+Ne*Il,Ml+qe*Il];return[tt,Nt]},oo=()=>{if(!rr&&!Fn)return;const[d,$]=a1();rr&&rr.domain(d),Fn&&Fn.domain($)},ao=d=>{sn=Math.max(1,d),s.height=Math.floor(sn*window.devicePixelRatio),Fn&&(Fn.range([sn,0]),oo())},l1=d=>{if(d===Yi){st=d,s.style.height="100%",window.requestAnimationFrame(()=>{s&&ao(s.getBoundingClientRect().height)});return}!+d||+d<=0||(st=+d,ao(st),s.style.height=`${st}px`)},Bi=()=>{yn=rn,rn===Yi&&(yn=Array.isArray(Bt)?PE(Bt):Bt)},mf=d=>{Qo(d,Ko,{minLength:1})&&(Bt=[...d]),q0(+d)&&(Bt=[+d]),La=Qp/Bt[0],Pl=Gl(),Bi()},$o=d=>{!+d||+d<0||(Ct=+d)},vf=d=>{!+d||+d<0||(fn=+d)},wi=d=>{Gt=Math.max(1,d),s.width=Math.floor(Gt*window.devicePixelRatio),rr&&(rr.range([0,Gt]),oo())},du=d=>{if(d===Yi){Xt=d,s.style.width="100%",window.requestAnimationFrame(()=>{s&&wi(s.getBoundingClientRect().width)});return}!+d||+d<=0||(Xt=+d,wi(Xt),s.style.width=`${Gt}px`)},s1=d=>{Qo(d,Ko,{minLength:1})&&(Dt=[...d]),q0(+d)&&(Dt=[+d]),Pl=Gl()},hu=d=>{switch(d){case"valueZ":return Fi;case"valueW":return ro;default:return null}},pu=(d,$)=>{switch(d){case Wi:return W=>Math.round(W*($.length-1));case ds:default:return Ts}},gf=d=>{u=fi(d,tc)},u1=d=>{Jt=fi(d,em,{allowDensity:!0})},c1=d=>{bt=fi(d,Kp)},yf=d=>{Re=fi(d,tm,{allowSegment:!0})},mn=d=>{Te=fi(d,Jp,{allowSegment:!0})},xf=d=>{Zt=fi(d,Zp,{allowSegment:!0})},f1=()=>[s.width,s.height],li=()=>l,mu=()=>Oo,Ul=()=>Po,lo=()=>.5/Po,vu=()=>window.devicePixelRatio,Vl=()=>Vr,so=()=>Ra,Hl=()=>Pl,_f=()=>No,gu=()=>.5/No,yu=()=>0,d1=()=>Ur||zr,h1=()=>Cn,p1=()=>.5/Cn,wf=()=>U,Wl=()=>ue.view,Ia=()=>Ue,Da=()=>Cr(r,U,Cr(r,ue.view,Ue)),Fa=()=>ue.scaling[0]>1?Math.asinh(Q0(1,ue.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Q0(La,ue.scaling[0])*window.devicePixelRatio,Bo=()=>$t?dn.size:hn,uo=()=>ut.length,xu=()=>uo()>0?Lt:1,_u=()=>uo()>0?St:1,wu=()=>+(u==="valueZ"),Ef=()=>+(u==="valueW"),Sf=()=>+(Jt==="valueZ"),bf=()=>+(Jt==="valueW"),Tf=()=>+(Jt==="density"),Af=()=>+(bt==="valueZ"),Cf=()=>+(bt==="valueW"),Lf=()=>u==="valueZ"?Fi===Wi?ze.length-1:1:ro===Wi?ze.length-1:1,Rf=()=>Jt==="valueZ"?Fi===Wi?Dt.length-1:1:ro===Wi?Dt.length-1:1,jo=()=>bt==="valueZ"?Fi===Wi?Bt.length-1:1:ro===Wi?Bt.length-1:1,Eu=d=>{if(Jt!=="density")return 1;const $=Fa(),W=Bt[0]*$,se=2/(2/ue.view[0])*(2/(2/ue.view[5])),Ne=d.viewportHeight,qe=d.viewportWidth;let tt=ot*qe*Ne/(Gn*W*W)*O3(1,se);tt*=Qn?1:1/(.25*Math.PI);const Nt=Q0(Qp,W)+.5;return tt*=(W/Nt)**2,O3(1,Q0(0,tt))},Su=o.regl({framebuffer:()=>un,vert:jb,frag:Bb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>Gr,endStateTex:()=>zr,t:(d,$)=>$.t},count:3}),Wr=(d,$,W,se=$E,Ne=xu,qe=_u)=>o.regl({frag:Qn?Fb:Db,vert:$b(se),blend:{enable:!Qn,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:W,size:2}},uniforms:{resolution:f1,modelViewProjection:Da,devicePixelRatio:vu,pointScale:Fa,encodingTex:Hl,encodingTexRes:_f,encodingTexEps:gu,pointOpacityMax:Ne,pointOpacityScale:qe,pointSizeExtra:d,globalState:se,colorTex:mu,colorTexRes:Ul,colorTexEps:lo,stateTex:d1,stateTexRes:h1,stateTexEps:p1,isColoredByZ:wu,isColoredByW:Ef,isOpacityByZ:Sf,isOpacityByW:bf,isOpacityByDensity:Tf,isSizedByZ:Af,isSizedByW:Cf,colorMultiplicator:Lf,opacityMultiplicator:Rf,opacityDensity:Eu,sizeMultiplicator:jo,numColorStates:jE},count:$,primitive:"points"}),m1=Wr(yu,Bo,Vl),v1=Wr(yu,()=>1,()=>xi,BE,()=>1,()=>1),g1=Wr(()=>(Ct+fn*2)*window.devicePixelRatio,uo,so,qp,()=>1,()=>1),bu=Wr(()=>(Ct+fn)*window.devicePixelRatio,uo,so,b3,()=>1,()=>1),y1=Wr(()=>Ct*window.devicePixelRatio,uo,so,qp,()=>1,()=>1),x1=()=>{g1(),bu(),y1()},_1=o.regl({frag:Mb,vert:Ib,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:Da,texture:li},count:6}),Tu=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>Un},uniforms:{modelViewProjection:Da,color:()=>c},elements:()=>Array.from({length:Un.length-2},(d,$)=>[0,$+1,$+2])}),w1=()=>{if(!(Kn>=0))return;const[d,$]=cn.points[Kn].slice(0,2),W=[d,$,0,1];Cr(n,U,Cr(n,ue.view,Ue)),xd(W,W,n),vt.setPoints([-1,W[1],1,W[1]]),wt.setPoints([W[0],1,W[0],-1]),vt.draw(),wt.draw(),Wr(()=>(Ct+fn*2)*window.devicePixelRatio,()=>1,xi,qp)(),Wr(()=>(Ct+fn)*window.devicePixelRatio,()=>1,xi,b3)()},Xl=d=>{const $=new Float32Array(d*2);let W=0;for(let se=0;se<d;++se){const Ne=Fl(se);$[W]=Ne[0],$[W+1]=Ne[1],W+=2}return $},Au=(d,$={})=>{const W=d.length;Cn=Math.max(2,Math.ceil(Math.sqrt(W))),to=.5/Cn;const se=new Float32Array(Cn**2*4);let Ne=!0,qe=!0,tt=0,Nt=0,en=0;for(let Qt=0;Qt<W;++Qt)tt=Qt*4,se[tt]=d[Qt][0],se[tt+1]=d[Qt][1],Nt=d[Qt][2]||0,en=d[Qt][3]||0,se[tt+2]=Nt,se[tt+3]=en,Ne&&(Ne=Number.isInteger(Nt)),qe&&(qe=Number.isInteger(en));return $.z&&C3.includes($.z)?Fi=$.z:Fi=Ne?ds:Wi,$.w&&C3.includes($.w)?ro=$.w:ro=qe?ds:Wi,o.regl.texture({data:se,shape:[Cn,Cn,4],type:"float"})},kf=(d,$={})=>{if(!zr)return!1;if(no){const W=Gr;Gr=Ur,W.destroy()}else Gr=zr;return Ur=Au(d,$),un=o.regl.framebuffer({color:Ur,depth:!1,stencil:!1}),zr=void 0,!0},Cu=()=>!!(Gr&&Ur),E1=()=>{Gr&&(Gr.destroy(),Gr=void 0),Ur&&(Ur.destroy(),Ur=void 0)},$a=(d,$={})=>{Or=!1,hn=d.length,Gn=hn,zr&&zr.destroy(),zr=Au(d,$),Vr({usage:"static",type:"float",data:Xl(hn)}),cn=new gE(d,W=>W[0],W=>W[1],16),Or=!0},Of=(d,$)=>{Ll=ue.target,Rl=d,kl=ue.distance[0],Ol=$},S1=()=>Ll!==void 0&&Rl!==void 0&&kl!==void 0&&Ol!==void 0,b1=()=>{Ll=void 0,Rl=void 0,kl=void 0,Ol=void 0},T1=d=>{const $=Re==="inherit"?u:Re;if($==="segment"){const W=it.length-1;return W<1?[]:d.reduce((se,Ne,qe)=>{let tt=0;const Nt=[];for(let Qt=2;Qt<Ne.length;Qt+=2){const $n=Math.sqrt((Ne[Qt-2]-Ne[Qt])**2+(Ne[Qt-1]-Ne[Qt+1])**2);Nt.push($n),tt+=$n}se[qe]=[0];let en=0;for(let Qt=0;Qt<Ne.length/2-1;Qt++)en+=Nt[Qt],se[qe].push(Math.floor(en/tt*W)*4);return se},[])}if($){const W=um($),se=pu(hu($),Re==="inherit"?ze:it);return Yt.reduce((Ne,[qe,tt])=>(Ne[qe]=se(tt[W])*4,Ne),[])}return Array(Yt.length).fill(0)},A1=()=>{const d=Te==="inherit"?Jt:Te;if(d==="segment"){const $=Ae.length-1;return $<1?[]:Yt.reduce((W,[se,Ne,qe])=>(W[se]=E3(qe,tt=>Ae[Math.floor(tt/(qe-1)*$)]),W),[])}if(d){const $=um(d),W=Te==="inherit"?Dt:Ae,se=pu(hu(d),W);return Yt.reduce((Ne,[qe,tt])=>(Ne[qe]=W[se(tt[$])],Ne),[])}},C1=()=>{const d=Zt==="inherit"?bt:Zt;if(d==="segment"){const $=kt.length-1;return $<1?[]:Yt.reduce((W,[se,Ne,qe])=>(W[se]=E3(qe,tt=>kt[Math.floor(tt/(qe-1)*$)]),W),[])}if(d){const $=um(d),W=Zt==="inherit"?Bt:kt,se=pu(hu(d),W);return Yt.reduce((Ne,[qe,tt])=>(Ne[qe]=W[se(tt[$])],Ne),[])}},L1=d=>{Yt=[];let $=0;Object.keys(d).forEach((W,se)=>{Yt[W]=[se,d[W].reference,d[W].length/2,$],$+=d[W].length/2})},zo=d=>new Promise($=>{mt.setPoints([]),!d||!d.length?$():(Ve=!0,Gb(d,{maxIntPointsPerSegment:Ot,tolerance:It}).then(W=>{L1(W);const se=Object.values(W);mt.setPoints(se.length===1?se[0]:se,{colorIndices:T1(se),opacities:A1(),widths:C1()}),Ve=!1,$()}))}),Ba=({preventEvent:d=!1}={})=>($t=!1,dn.clear(),Vr.subdata(Xl(hn)),new Promise($=>{const W=()=>{t.subscribe("draw",()=>{d||t.publish("unfilter"),$()},1),rt=!0};Rt||Oa(cn.points[0])?zo(ru()).then(()=>{d||t.publish("pointConnectionsDraw"),W()}):W()})),Pf=(d,{preventEvent:$=!1}={})=>{const W=Array.isArray(d)?d:[d];$t=!0,dn.clear();const se=[],Ne=[];for(let qe=W.length-1;qe>=0;qe--){const tt=W[qe];if(tt<0||tt>=hn){W.splice(qe,1);continue}dn.add(tt),se.push.apply(se,Fl(tt)),jt.has(tt)&&Ne.push(tt)}return Vr.subdata(se),Do(Ne,{preventEvent:$}),dn.has(Kn)||Pa(-1,{preventEvent:$}),new Promise(qe=>{const tt=()=>{t.subscribe("draw",()=>{$||t.publish("filter",{points:W}),qe()},1),rt=!0};Rt||Oa(cn.points[0])?zo(ru()).then(()=>{$||t.publish("pointConnectionsDraw"),Do(Ne,{preventEvent:$}),tt()}):tt()})},ja=()=>Dl(bn[0],bn[1],sr[0],sr[1]),Go=y8(()=>{Gn=ja().length},w),Nf=d=>{const[$,W]=Ll,[se,Ne]=Rl,qe=1-d,tt=$*qe+se*d,Nt=W*qe+Ne*d,en=kl*qe+Ol*d;ue.lookAt([tt,Nt],en)},Mf=()=>Cu(),If=()=>S1(),Df=(d,$)=>{ka||(ka=performance.now());const W=performance.now()-ka,se=tb($(W/d),0,1);return Mf()&&Su({t:se}),If()&&Nf(se),W<d},Ff=()=>{no=!1,ka=null,eu=void 0,tu=void 0,de=ff,E1(),b1(),t.publish("transitionEnd")},Yl=({duration:d=500,easing:$=A3})=>{no&&t.publish("transitionEnd"),no=!0,ka=null,eu=d,tu=vv($)?VE[$]||A3:$,ff=de,de=!1,t.publish("transitionStart")},R1=d=>new Promise(($,W)=>{if(!d||Array.isArray(d))$(d);else{const se=Array.isArray(d.x)||ArrayBuffer.isView(d.x)?d.x.length:0,Ne=(Array.isArray(d.x)||ArrayBuffer.isView(d.x))&&(an=>d.x[an]),qe=(Array.isArray(d.y)||ArrayBuffer.isView(d.y))&&(an=>d.y[an]),tt=(Array.isArray(d.line)||ArrayBuffer.isView(d.line))&&(an=>d.line[an]),Nt=(Array.isArray(d.lineOrder)||ArrayBuffer.isView(d.lineOrder))&&(an=>d.lineOrder[an]),en=Object.keys(d),Qt=(()=>{const an=en.find(Kt=>b8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})(),$n=(()=>{const an=en.find(Kt=>T8.has(Kt));return an&&(Array.isArray(d[an])||ArrayBuffer.isView(d[an]))&&(Kt=>d[an][Kt])})();Ne&&qe&&Qt&&$n&&tt&&Nt?$(d.x.map((an,Kt)=>[an,qe(Kt),Qt(Kt),$n(Kt),tt(Kt),Nt(Kt)])):Ne&&qe&&Qt&&$n&&tt?$(Array.from({length:se},(an,Kt)=>[Ne(Kt),qe(Kt),Qt(Kt),$n(Kt),tt(Kt)])):Ne&&qe&&Qt&&$n?$(Array.from({length:se},(an,Kt)=>[Ne(Kt),qe(Kt),Qt(Kt),$n(Kt)])):Ne&&qe&&Qt?$(Array.from({length:se},(an,Kt)=>[Ne(Kt),qe(Kt),Qt(Kt)])):Ne&&qe?$(Array.from({length:se},(an,Kt)=>[Ne(Kt),qe(Kt)])):W(new Error("You need to specify at least x and y"))}}),Uo=(d,$={})=>he?Promise.reject(new Error("The instance was already destroyed")):R1(d).then(W=>new Promise(se=>{if(he){se();return}let Ne=!1;(!$.preventFilterReset||(W==null?void 0:W.length)!==hn)&&($t=!1,dn.clear());const qe=W&&Oa(W[0])&&(Rt||$.showPointConnectionsOnce),{zDataType:tt,wDataType:Nt}=$;W&&($.transition&&(W.length===hn?Ne=kf(W,{z:tt,w:Nt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),$a(W,{z:tt,w:Nt}),$.hover!==void 0&&Pa($.hover,{preventEvent:!0}),$.select!==void 0&&Do($.select,{preventEvent:!0}),$.filter!==void 0&&Pf($.filter,{preventEvent:!0}),qe&&zo(W).then(()=>{t.publish("pointConnectionsDraw"),rt=!0,Sr=$.showReticleOnce})),$.transition&&Ne?(qe?Promise.all([new Promise(en=>{t.subscribe("transitionEnd",()=>{rt=!0,Sr=$.showReticleOnce,en()},1)}),new Promise(en=>{t.subscribe("pointConnectionsDraw",en,1)})]).then(se):t.subscribe("transitionEnd",()=>{rt=!0,Sr=$.showReticleOnce,se()},1),Yl({duration:$.transitionDuration,easing:$.transitionEasing})):(qe?Promise.all([new Promise(en=>{t.subscribe("draw",en,1)}),new Promise(en=>{t.subscribe("pointConnectionsDraw",en,1)})]).then(se):t.subscribe("draw",se,1),rt=!0,Sr=$.showReticleOnce)})),Hn=d=>(...$)=>{const W=d(...$);return rt=!0,W},$f=d=>{let $=1/0,W=-1/0,se=1/0,Ne=-1/0;for(let qe=0;qe<d.length;qe++){const[tt,Nt]=cn.points[d[qe]];$=Math.min($,tt),W=Math.max(W,tt),se=Math.min(se,Nt),Ne=Math.max(Ne,Nt)}return{x:$,y:se,width:W-$,height:Ne-se}},Lu=(d,$={})=>new Promise(W=>{const se=[d.x+d.width/2,d.y+d.height/2],Ne=2*Math.atan(1),qe=d.height*Er>d.width?d.height/2/Math.tan(Ne/2):d.width/2/Math.tan(Ne*Er/2);$.transition?(ue.config({isFixed:!0}),Of(se,qe),t.subscribe("transitionEnd",()=>{W(),ue.config({isFixed:!1})},1),Yl({duration:$.transitionDuration,easing:$.transitionEasing})):(ue.lookAt(se,qe),t.subscribe("draw",W,1),rt=!0)}),co=(d,$={})=>{if(!Or)return Promise.reject(new Error(L3));const W=$f(d),se=W.x+W.width/2,Ne=W.y+W.height/2,qe=hf(),tt=1+($.padding||0),Nt=Math.max(W.width,qe)*tt,en=Math.max(W.height,qe)*tt,Qt=se-Nt/2,$n=Ne-en/2;return Lu({x:Qt,y:$n,width:Nt,height:en},$)},Ru=(d,$,W={})=>new Promise(se=>{W.transition?(ue.config({isFixed:!0}),Of(d,$),t.subscribe("transitionEnd",()=>{se(),ue.config({isFixed:!1})},1),Yl({duration:W.transitionDuration,easing:W.transitionEasing})):(ue.lookAt(d,$),t.subscribe("draw",se,1),rt=!0)}),Bf=(d={})=>Ru([0,0],1,d),k1=d=>{if(!Or)throw new Error(L3);const $=cn.points[d];if(!$)return;const W=[$[0],$[1],0,1];Cr(n,Dn,Cr(n,ue.view,Ue)),xd(W,W,n);const se=Gt*(W[0]+1)/2,Ne=sn*(.5-W[1]/2);return[se,Ne]},ku=()=>{mt.setStyle({color:su(it,at,ve),opacity:Ae===null?null:Ae[0],width:kt[0]})},jf=()=>{const d=Math.round(We)>.5?0:255;Vn.initiator.style.border=`1px dashed rgba(${d}, ${d}, ${d}, 0.33)`,Vn.initiator.style.background=`rgba(${d}, ${d}, ${d}, 0.1)`},zf=()=>{const d=Math.round(We)>.5?0:255;Vn.longPressIndicator.style.color=`rgb(${d}, ${d}, ${d})`,Vn.longPressIndicator.dataset.color=`rgb(${d}, ${d}, ${d})`;const $=c.map(W=>Math.round(W*255));Vn.longPressIndicator.dataset.activeColor=`rgb(${$[0]}, ${$[1]}, ${$[2]})`},Ou=d=>{d&&(a=Ir(d,!0),We=N3(a),jf(),zf())},Gf=d=>{d?vv(d)?k3(o.regl,d).then($=>{l=$,rt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${d}`),l=null}):d._reglType==="texture2d"?l=d:l=null:l=null},O1=d=>{d>0&&ue.lookAt(ue.target,d,ue.rotation)},Uf=d=>{d!==null&&ue.lookAt(ue.target,ue.distance[0],d)},Vf=d=>{d&&ue.lookAt(d,ue.distance[0],ue.rotation)},Hf=d=>{d&&ue.setView(d)},ql=d=>{if(!d)return;c=Ir(d,!0),dt.setStyle({color:c});const $=c.map(W=>Math.round(W*255));Vn.longPressIndicator.dataset.activeColor=`rgb(${$[0]}, ${$[1]}, ${$[2]})`},P1=d=>{Number.isNaN(+d)||+d<1||(m=+d,dt.setStyle({width:m}))},ji=d=>{+d&&(g=+d,Vn.set({minDelay:g}))},Ql=d=>{+d&&(S=+d,Vn.set({minDist:S}))},Wf=d=>{A=R3(HE,A)(d)},Xf=d=>{v=!!d,Vn.set({enableInitiator:v})},Yf=d=>{_=d,Vn.set({startInitiatorParentElement:_})},qf=d=>{y=!!d},Qf=d=>{P=Number(d)},Kf=d=>{F=Number(d)},Zf=d=>{H=Number(d)},Jf=d=>{te=Number(d)},e0=d=>{K=Object.entries(d).reduce(($,[W,se])=>(eS.includes(W)&&JE.includes(se)&&($[W]=se),$),{}),An=P3(K),An[rh]?ue.config({isRotate:!0,mouseDownMoveModKey:An[rh]}):ue.config({isRotate:!1})},Yr=d=>{Ye=R3(GE,j2)(d),ue.config({defaultMouseDownMoveAction:Ye===w8?"rotate":"pan"})},t0=d=>{d!==null&&(de=d)},N1=d=>{d&&(Ce=Ir(d,!0),vt.setStyle({color:Ce}),wt.setStyle({color:Ce}))},Ei=d=>{d&&(rr=d,Mo=d.domain()[0],Nl=d?d.domain()[1]-d.domain()[0]:0,rr.range([0,Gt]),oo())},Pu=d=>{d&&(Fn=d,Ml=Fn.domain()[0],Il=Fn?Fn.domain()[1]-Fn.domain()[0]:0,Fn.range([sn,0]),oo())},fo=d=>{f=!!d},Kl=d=>{h=!!d},n0=d=>{Rt=!!d,Rt?Oa(cn.points[0])&&zo(ru()).then(()=>{t.publish("pointConnectionsDraw"),rt=!0}):zo()},Zl=(d,$)=>W=>{if(W==="inherit")d([...$()]);else{const se=Zo(W)?W:[W];d(se.map(Ne=>Ir(Ne,!0)))}ku()},r0=Zl(d=>{it=d},()=>ze),i0=Zl(d=>{at=d},()=>Je),o0=Zl(d=>{ve=d},()=>be),M1=d=>{Qo(d,Ko,{minLength:1})&&(Ae=[...d]),q0(+d)&&(Ae=[+d]),it=it.map($=>($[3]=Number.isNaN(+Ae[0])?$[3]:+Ae[0],$)),ku()},I1=d=>{!Number.isNaN(+d)&&+d&&(De=+d)},D1=d=>{Qo(d,Ko,{minLength:1})&&(kt=[...d]),q0(+d)&&(kt=[+d]),ku()},F1=d=>{!Number.isNaN(+d)&&+d&&(Mt=Math.max(0,d))},$1=d=>{Ot=Math.max(0,d)},B1=d=>{It=Math.max(0,d)},j1=d=>{rn=d,Bi()},a0=d=>{ot=+d},l0=d=>{Lt=+d},z1=d=>{St=+d},G1=d=>{o.gamma=d},Nu=d=>{if(sm({property:!0}),d==="aspectRatio")return gn;if(d==="background"||d==="backgroundColor")return a;if(d==="backgroundImage")return l;if(d==="camera")return ue;if(d==="cameraTarget")return ue.target;if(d==="cameraDistance")return ue.distance[0];if(d==="cameraRotation")return ue.rotation;if(d==="cameraView")return ue.view;if(d==="canvas")return s;if(d==="colorBy")return u;if(d==="sizeBy")return bt;if(d==="deselectOnDblClick")return f;if(d==="deselectOnEscape")return h;if(d==="height")return st;if(d==="lassoColor")return c;if(d==="lassoLineWidth")return m;if(d==="lassoMinDelay")return g;if(d==="lassoMinDist")return S;if(d==="lassoClearEvent")return A;if(d==="lassoInitiator")return v;if(d==="lassoInitiatorElement")return Vn.initiator;if(d==="lassoInitiatorParentElement")return _;if(d==="keyMap")return{...K};if(d==="mouseMode")return Ye;if(d==="opacity")return Dt.length===1?Dt[0]:Dt;if(d==="opacityBy")return Jt;if(d==="opacityByDensityFill")return ot;if(d==="opacityByDensityDebounceTime")return w;if(d==="opacityInactiveMax")return Lt;if(d==="opacityInactiveScale")return St;if(d==="points")return cn.points;if(d==="hoveredPoint")return Kn;if(d==="selectedPoints")return[...ut];if(d==="filteredPoints")return $t?Array.from(dn):Array.from({length:cn.points.length},($,W)=>W);if(d==="pointsInView")return ja();if(d==="pointColor")return ze.length===1?ze[0]:ze;if(d==="pointColorActive")return Je.length===1?Je[0]:Je;if(d==="pointColorHover")return be.length===1?be[0]:be;if(d==="pointOutlineWidth")return fn;if(d==="pointSize")return Bt.length===1?Bt[0]:Bt;if(d==="pointSizeSelected")return Ct;if(d==="pointSizeMouseDetection")return rn;if(d==="showPointConnections")return Rt;if(d==="pointConnectionColor")return it.length===1?it[0]:it;if(d==="pointConnectionColorActive")return at.length===1?at[0]:at;if(d==="pointConnectionColorHover")return ve.length===1?ve[0]:ve;if(d==="pointConnectionColorBy")return Re;if(d==="pointConnectionOpacity")return Ae.length===1?Ae[0]:Ae;if(d==="pointConnectionOpacityBy")return Te;if(d==="pointConnectionOpacityActive")return De;if(d==="pointConnectionSize")return kt.length===1?kt[0]:kt;if(d==="pointConnectionSizeActive")return Mt;if(d==="pointConnectionSizeBy")return Zt;if(d==="pointConnectionMaxIntPointsPerSegment")return Ot;if(d==="pointConnectionTolerance")return It;if(d==="reticleColor")return Ce;if(d==="regl")return o.regl;if(d==="showReticle")return de;if(d==="version")return Ub;if(d==="width")return Xt;if(d==="xScale")return rr;if(d==="yScale")return Fn;if(d==="performanceMode")return Qn;if(d==="gamma")return o.gamma;if(d==="renderer")return o;if(d==="isDestroyed")return he;if(d==="isPointsDrawn")return Or;if(d==="isPointsFiltered")return $t;if(d==="zDataType")return Fi;if(d==="wDataType")return ro},za=(d={})=>(sm(d),(d.backgroundColor!==void 0||d.background!==void 0)&&Ou(d.backgroundColor||d.background),d.backgroundImage!==void 0&&Gf(d.backgroundImage),d.cameraTarget!==void 0&&Vf(d.cameraTarget),d.cameraDistance!==void 0&&O1(d.cameraDistance),d.cameraRotation!==void 0&&Uf(d.cameraRotation),d.cameraView!==void 0&&Hf(d.cameraView),d.colorBy!==void 0&&gf(d.colorBy),d.pointColor!==void 0&&i1(d.pointColor),d.pointColorActive!==void 0&&o1(d.pointColorActive),d.pointColorHover!==void 0&&$i(d.pointColorHover),d.pointSize!==void 0&&mf(d.pointSize),d.pointSizeSelected!==void 0&&$o(d.pointSizeSelected),d.pointSizeMouseDetection!==void 0&&j1(d.pointSizeMouseDetection),d.sizeBy!==void 0&&c1(d.sizeBy),d.opacity!==void 0&&s1(d.opacity),d.showPointConnections!==void 0&&n0(d.showPointConnections),d.pointConnectionColor!==void 0&&r0(d.pointConnectionColor),d.pointConnectionColorActive!==void 0&&i0(d.pointConnectionColorActive),d.pointConnectionColorHover!==void 0&&o0(d.pointConnectionColorHover),d.pointConnectionColorBy!==void 0&&yf(d.pointConnectionColorBy),d.pointConnectionOpacityBy!==void 0&&mn(d.pointConnectionOpacityBy),d.pointConnectionOpacity!==void 0&&M1(d.pointConnectionOpacity),d.pointConnectionOpacityActive!==void 0&&I1(d.pointConnectionOpacityActive),d.pointConnectionSize!==void 0&&D1(d.pointConnectionSize),d.pointConnectionSizeActive!==void 0&&F1(d.pointConnectionSizeActive),d.pointConnectionSizeBy!==void 0&&xf(d.pointConnectionSizeBy),d.pointConnectionMaxIntPointsPerSegment!==void 0&&$1(d.pointConnectionMaxIntPointsPerSegment),d.pointConnectionTolerance!==void 0&&B1(d.pointConnectionTolerance),d.opacityBy!==void 0&&u1(d.opacityBy),d.lassoColor!==void 0&&ql(d.lassoColor),d.lassoLineWidth!==void 0&&P1(d.lassoLineWidth),d.lassoMinDelay!==void 0&&ji(d.lassoMinDelay),d.lassoMinDist!==void 0&&Ql(d.lassoMinDist),d.lassoClearEvent!==void 0&&Wf(d.lassoClearEvent),d.lassoInitiator!==void 0&&Xf(d.lassoInitiator),d.lassoInitiatorParentElement!==void 0&&Yf(d.lassoInitiatorParentElement),d.lassoOnLongPress!==void 0&&qf(d.lassoOnLongPress),d.lassoLongPressTime!==void 0&&Qf(d.lassoLongPressTime),d.lassoLongPressAfterEffectTime!==void 0&&Kf(d.lassoLongPressAfterEffectTime),d.lassoLongPressEffectDelay!==void 0&&Zf(d.lassoLongPressEffectDelay),d.lassoLongPressRevertEffectTime!==void 0&&Jf(d.lassoLongPressRevertEffectTime),d.keyMap!==void 0&&e0(d.keyMap),d.mouseMode!==void 0&&Yr(d.mouseMode),d.showReticle!==void 0&&t0(d.showReticle),d.reticleColor!==void 0&&N1(d.reticleColor),d.pointOutlineWidth!==void 0&&vf(d.pointOutlineWidth),d.height!==void 0&&l1(d.height),d.width!==void 0&&du(d.width),d.aspectRatio!==void 0&&r1(d.aspectRatio),d.xScale!==void 0&&Ei(d.xScale),d.yScale!==void 0&&Pu(d.yScale),d.deselectOnDblClick!==void 0&&fo(d.deselectOnDblClick),d.deselectOnEscape!==void 0&&Kl(d.deselectOnEscape),d.opacityByDensityFill!==void 0&&a0(d.opacityByDensityFill),d.opacityInactiveMax!==void 0&&l0(d.opacityInactiveMax),d.opacityInactiveScale!==void 0&&z1(d.opacityInactiveScale),d.gamma!==void 0&&G1(d.gamma),new Promise($=>{window.requestAnimationFrame(()=>{s&&(cu(),ue.refresh(),o.refresh(),rt=!0,$())})})),U1=(d,{preventEvent:$=!1}={})=>{Hf(d),rt=!0,nr=$},s0=()=>{ue||(ue=dE(s,{isPanInverted:[!1,!0]})),e.cameraView?ue.setView(g3(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?ue.lookAt([...e.cameraTarget||TS],e.cameraDistance||AS,e.cameraRotation||CS):ue.setView(g3(LS)),sr=Hr(1,1),bn=Hr(-1,-1)},V1=({preventEvent:d=!1}={})=>{s0(),oo(),!d&&t.publish("view",{view:ue.view,camera:ue,xScale:rr,yScale:Fn})},u0=({key:d})=>{switch(d){case"Escape":h&&$l();break}},c0=()=>{ai=!0,Di=!0},Mu=()=>{Pa(),ai=!1,Di=!0,rt=!0},f0=()=>{rt=!0},H1=()=>{$a([]),mt.clear()},Ga=()=>{ue.refresh();const d=Xt===Yi,$=st===Yi;if(d||$){const{width:W,height:se}=s.getBoundingClientRect();d&&wi(W),$&&ao(se),cu(),rt=!0}},W1=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),X1=()=>{cu(),s0(),oo(),dt=Y0(o.regl,{color:c,width:m,is2d:!0}),mt=Y0(o.regl,{color:it,colorHover:ve,colorActive:at,opacity:Ae===null?null:Ae[0],width:kt[0],widthActive:Mt,is2d:!0}),vt=Y0(o.regl,{color:Ce,width:1,is2d:!0}),wt=Y0(o.regl,{color:Ce,width:1,is2d:!0}),Bi(),s.addEventListener("wheel",f0),Vr=o.regl.buffer(),Ra=o.regl.buffer(),xi=o.regl.buffer({usage:"dynamic",type:"float",length:zE*2}),Oo=uu(),Pl=Gl();const d=za({backgroundImage:l,width:Xt,height:st,keyMap:K});jf(),zf(),window.addEventListener("keyup",u0,!1),window.addEventListener("blur",Ma,!1),window.addEventListener("mouseup",lu,!1),window.addEventListener("mousemove",_i,!1),s.addEventListener("mousedown",au,!1),s.addEventListener("mouseenter",c0,!1),s.addEventListener("mouseleave",Mu,!1),s.addEventListener("click",jl,!1),s.addEventListener("dblclick",zl,!1),"ResizeObserver"in window?(ko=new ResizeObserver(Ga),ko.observe(s)):(window.addEventListener("resize",Ga),window.addEventListener("orientationchange",Ga)),d.then(()=>{t.publish("init")})},Vo=o.onFrame(()=>{nu=ue.tick(),!(!Or||!(rt||no))&&(no&&!Df(eu,tu)&&Ff(),nu&&(sr=Hr(1,1),bn=Hr(-1,-1),Jt==="density"&&Go()),o.render(()=>{const d=s.width/o.canvas.width,$=s.height/o.canvas.height;n1(d,$),l&&l._reglType&&_1(),Un.length>2&&Tu(),no||mt.draw({projection:wf(),model:Ia(),view:Wl()}),m1(),!ht&&(de||Sr)&&w1(),Kn>=0&&v1(),ut.length&&x1(),dt.draw({projection:wf(),model:Ia(),view:Wl()})},s),nu&&(oo(),nr?nr=!1:t.publish("view",{view:ue.view,camera:ue,xScale:rr,yScale:Fn})),rt=!1,Sr=!1,t.publish("draw"))}),Y1=()=>{rt=!0},q1=()=>{Or=!1,he=!0,Vo(),window.removeEventListener("keyup",u0,!1),window.removeEventListener("blur",Ma,!1),window.removeEventListener("mouseup",lu,!1),window.removeEventListener("mousemove",_i,!1),s.removeEventListener("mousedown",au,!1),s.removeEventListener("mouseenter",c0,!1),s.removeEventListener("mouseleave",Mu,!1),s.removeEventListener("click",jl,!1),s.removeEventListener("dblclick",zl,!1),s.removeEventListener("wheel",f0,!1),ko?ko.disconnect():(window.removeEventListener("resize",Ga),window.removeEventListener("orientationchange",Ga)),s=void 0,ue.dispose(),ue=void 0,dt.destroy(),Vn.destroy(),mt.destroy(),vt.destroy(),wt.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return X1(),{get isSupported(){return o.isSupported},clear:Hn(H1),createTextureFromUrl:(d,$=W2)=>k3(o.regl,d,$),deselect:$l,destroy:q1,draw:Uo,filter:Pf,get:Nu,getScreenPosition:k1,hover:Pa,redraw:Y1,refresh:o.refresh,reset:Hn(V1),select:Do,set:za,export:W1,subscribe:t.subscribe,unfilter:Ba,unsubscribe:t.unsubscribe,view:U1,zoomToLocation:Ru,zoomToArea:Lu,zoomToPoints:co,zoomToOrigin:Bf}};function _d(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hb(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R8(e){let t,n,r;e.length!==2?(t=_d,n=(l,s)=>_d(e(l),s),r=(l,s)=>e(l)-s):(t=e===_d||e===Hb?e:Wb,n=e,r=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<0?u=h+1:f=h}while(u<f)}return u}function o(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function a(l,s,u=0,f=l.length){const h=i(l,s,u,f-1);return h>u&&r(l[h-1],s)>-r(l[h],s)?h-1:h}return{left:i,center:a,right:o}}function Wb(){return 0}function Xb(e){return e===null?NaN:+e}const Yb=R8(_d),qb=Yb.right;R8(Xb).center;const Qb=qb;function k8(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Kb extends Map{constructor(t,n=eT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(I3(this,t))}has(t){return super.has(I3(this,t))}set(t,n){return super.set(Zb(this,t),n)}delete(t){return super.delete(Jb(this,t))}}function I3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Jb({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function eT(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tT(e){return e}function nT(e,...t){return rT(e,Array.from,tT,t)}function rT(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new Kb,s=r[a++];let u=-1;for(const f of o){const h=s(f,++u,o),c=l.get(h);c?c.push(f):l.set(h,[f])}for(const[f,h]of l)l.set(f,i(h,a));return t(l)}(e,0)}const iT=Math.sqrt(50),oT=Math.sqrt(10),aT=Math.sqrt(2);function ah(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=iT?10:o>=oT?5:o>=aT?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?ah(e,t,n*2):[l,s,u]}function gv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?ah(t,e,n):ah(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)s[u]=(o-u)/-a;else for(let u=0;u<l;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function yv(e,t,n){return t=+t,e=+e,n=+n,ah(e,t,n)[2]}function lT(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yv(t,e,n):yv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sT(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function X2(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uT(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function $h(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Y2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Js(){}var xl=.7,Us=1/xl,Ns="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cT=/^#([0-9a-f]{3,8})$/,fT=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),dT=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),hT=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${zc}\\)$`),pT=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${zc}\\)$`),mT=new RegExp(`^hsl\\(${zc},${Zi},${Zi}\\)$`),vT=new RegExp(`^hsla\\(${zc},${Zi},${Zi},${zc}\\)$`),D3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$h(Js,_l,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F3,formatHex:F3,formatHex8:gT,formatHsl:yT,formatRgb:$3,toString:$3});function F3(){return this.rgb().formatHex()}function gT(){return this.rgb().formatHex8()}function yT(){return P8(this).formatHsl()}function $3(){return this.rgb().formatRgb()}function _l(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?B3(t):n===3?new _r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?K0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?K0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fT.exec(e))?new _r(t[1],t[2],t[3],1):(t=dT.exec(e))?new _r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hT.exec(e))?K0(t[1],t[2],t[3],t[4]):(t=pT.exec(e))?K0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mT.exec(e))?G3(t[1],t[2]/100,t[3]/100,1):(t=vT.exec(e))?G3(t[1],t[2]/100,t[3]/100,t[4]):D3.hasOwnProperty(e)?B3(D3[e]):e==="transparent"?new _r(NaN,NaN,NaN,0):null}function B3(e){return new _r(e>>16&255,e>>8&255,e&255,1)}function K0(e,t,n,r){return r<=0&&(e=t=n=NaN),new _r(e,t,n,r)}function O8(e){return e instanceof Js||(e=_l(e)),e?(e=e.rgb(),new _r(e.r,e.g,e.b,e.opacity)):new _r}function Gc(e,t,n,r){return arguments.length===1?O8(e):new _r(e,t,n,r??1)}function _r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$h(_r,Gc,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _r(cl(this.r),cl(this.g),cl(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j3,formatHex:j3,formatHex8:xT,formatRgb:z3,toString:z3}));function j3(){return`#${ll(this.r)}${ll(this.g)}${ll(this.b)}`}function xT(){return`#${ll(this.r)}${ll(this.g)}${ll(this.b)}${ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function z3(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ll(e){return e=cl(e),(e<16?"0":"")+e.toString(16)}function G3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ki(e,t,n,r)}function P8(e){if(e instanceof ki)return new ki(e.h,e.s,e.l,e.opacity);if(e instanceof Js||(e=_l(e)),!e)return new ki;if(e instanceof ki)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new ki(a,l,s,e.opacity)}function _T(e,t,n,r){return arguments.length===1?P8(e):new ki(e,t,n,r??1)}function ki(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$h(ki,_T,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new ki(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new ki(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _r(cm(e>=240?e-240:e+120,i,r),cm(e,i,r),cm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ki(U3(this.h),Z0(this.s),Z0(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${U3(this.h)}, ${Z0(this.s)*100}%, ${Z0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function U3(e){return e=(e||0)%360,e<0?e+360:e}function Z0(e){return Math.max(0,Math.min(1,e||0))}function cm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wT=Math.PI/180,ET=180/Math.PI;var N8=-.14861,q2=1.78277,Q2=-.29227,Bh=-.90649,Uc=1.97294,V3=Uc*Bh,H3=Uc*q2,W3=q2*Q2-Bh*N8;function ST(e){if(e instanceof fl)return new fl(e.h,e.s,e.l,e.opacity);e instanceof _r||(e=O8(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(W3*r+V3*t-H3*n)/(W3+V3-H3),o=r-i,a=(Uc*(n-i)-Q2*o)/Bh,l=Math.sqrt(a*a+o*o)/(Uc*i*(1-i)),s=l?Math.atan2(a,o)*ET-120:NaN;return new fl(s<0?s+360:s,l,i,e.opacity)}function _a(e,t,n,r){return arguments.length===1?ST(e):new fl(e,t,n,r??1)}function fl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$h(fl,_a,Y2(Js,{brighter(e){return e=e==null?Us:Math.pow(Us,e),new fl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xl:Math.pow(xl,e),new fl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*wT,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _r(255*(t+n*(N8*r+q2*i)),255*(t+n*(Q2*r+Bh*i)),255*(t+n*(Uc*r)),this.opacity)}}));const jh=e=>()=>e;function M8(e,t){return function(n){return e+n*t}}function bT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function TT(e,t){var n=t-e;return n?M8(e,n>180||n<-180?n-360*Math.round(n/360):n):jh(isNaN(e)?t:e)}function AT(e){return(e=+e)==1?Ms:function(t,n){return n-t?bT(t,n,e):jh(isNaN(t)?n:t)}}function Ms(e,t){var n=t-e;return n?M8(e,n):jh(isNaN(e)?t:e)}const sh=function e(t){var n=AT(t);function r(i,o){var a=n((i=Gc(i)).r,(o=Gc(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),u=Ms(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function CT(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function LT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RT(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=zh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function kT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ri(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OT(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(xv.source,"g");function PT(e){return function(){return e}}function NT(e){return function(t){return e(t)+""}}function I8(e,t){var n=xv.lastIndex=fm.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=xv.exec(e))&&(i=fm.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:Ri(r,i)})),n=fm.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?NT(s[0].x):PT(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)l[(h=s[f]).i]=h.x(u);return l.join("")})}function zh(e,t){var n=typeof t,r;return t==null||n==="boolean"?jh(t):(n==="number"?Ri:n==="string"?(r=_l(t))?(t=r,sh):I8:t instanceof _l?sh:t instanceof Date?kT:LT(t)?CT:Array.isArray(t)?RT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?OT:Ri)(e,t)}function D8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var X3=180/Math.PI,_v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F8(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*X3,skewX:Math.atan(s)*X3,scaleX:a,scaleY:l}}var J0;function MT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_v:F8(t.a,t.b,t.c,t.d,t.e,t.f)}function IT(e){return e==null||(J0||(J0=document.createElementNS("http://www.w3.org/2000/svg","g")),J0.setAttribute("transform",e),!(e=J0.transform.baseVal.consolidate()))?_v:(e=e.matrix,F8(e.a,e.b,e.c,e.d,e.e,e.f))}function $8(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,c,m,g){if(u!==h||f!==c){var S=m.push("translate(",null,t,null,n);g.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h||c)&&m.push("translate("+h+t+c+n)}function a(u,f,h,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ri(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(u,f,h,c){u!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ri(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function s(u,f,h,c,m,g){if(u!==h||f!==c){var S=m.push(i(m)+"scale(",null,",",null,")");g.push({i:S-4,x:Ri(u,h)},{i:S-2,x:Ri(f,c)})}else(h!==1||c!==1)&&m.push(i(m)+"scale("+h+","+c+")")}return function(u,f){var h=[],c=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,c),a(u.rotate,f.rotate,h,c),l(u.skewX,f.skewX,h,c),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,c),u=f=null,function(m){for(var g=-1,S=c.length,A;++g<S;)h[(A=c[g]).i]=A.x(m);return h.join("")}}}var DT=$8(MT,"px, ","px)","deg)"),FT=$8(IT,", ",")",")");function B8(e){return function t(n){n=+n;function r(i,o){var a=e((i=_a(i)).h,(o=_a(o)).h),l=Ms(i.s,o.s),s=Ms(i.l,o.l),u=Ms(i.opacity,o.opacity);return function(f){return i.h=a(f),i.s=l(f),i.l=s(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}B8(TT);var j8=B8(Ms);function $T(e){return function(){return e}}function BT(e){return+e}var Y3=[0,1];function sa(e){return e}function wv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$T(isNaN(t)?NaN:.5)}function jT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=wv(i,r),o=n(a,o)):(r=wv(r,i),o=n(o,a)),function(l){return o(r(l))}}function GT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=wv(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var s=Qb(e,l,1,r)-1;return o[s](i[s](l))}}function K2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z2(){var e=Y3,t=Y3,n=zh,r,i,o,a=sa,l,s,u;function f(){var c=Math.min(e.length,t.length);return a!==sa&&(a=jT(e[0],e[c-1])),l=c>2?GT:zT,s=u=null,h}function h(c){return c==null||isNaN(c=+c)?o:(s||(s=l(e.map(r),t,n)))(r(a(c)))}return h.invert=function(c){return a(i((u||(u=l(t,e.map(r),Ri)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,BT),f()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=D8,f()},h.clamp=function(c){return arguments.length?(a=c?!0:sa,f()):a!==sa},h.interpolate=function(c){return arguments.length?(n=c,f()):n},h.unknown=function(c){return arguments.length?(o=c,h):o},function(c,m){return r=c,i=m,f()}}function UT(){return Z2()(sa,sa)}function VT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vs(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function HT(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function WT(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var XT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vc(e){if(!(t=XT.exec(e)))throw new Error("invalid format: "+e);var t;return new J2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vc.prototype=J2.prototype;function J2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var z8;function qT(e,t){var n=uh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(z8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+uh(e,Math.max(0,t+o-1))[0]}function q3(e,t){var n=uh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Q3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q3(e*100,t),r:q3,s:qT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function K3(e){return e}var Z3=Array.prototype.map,J3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QT(e){var t=e.grouping===void 0||e.thousands===void 0?K3:HT(Z3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?K3:WT(Z3.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Vc(h);var c=h.fill,m=h.align,g=h.sign,S=h.symbol,A=h.zero,v=h.width,_=h.comma,y=h.precision,P=h.trim,F=h.type;F==="n"?(_=!0,F="g"):Q3[F]||(y===void 0&&(y=12),P=!0,F="g"),(A||c==="0"&&m==="=")&&(A=!0,c="0",m="=");var H=S==="$"?n:S==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",te=S==="$"?r:/[%p]/.test(F)?a:"",K=Q3[F],Ye=/[defgprs%]/.test(F);y=y===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function de(Ce){var ze=H,Je=te,be,Rt,it;if(F==="c")Je=K(Ce)+Je,Ce="";else{Ce=+Ce;var at=Ce<0||1/Ce<0;if(Ce=isNaN(Ce)?s:K(Math.abs(Ce),y),P&&(Ce=YT(Ce)),at&&+Ce==0&&g!=="+"&&(at=!1),ze=(at?g==="("?g:l:g==="-"||g==="("?"":g)+ze,Je=(F==="s"?J3[8+z8/3]:"")+Je+(at&&g==="("?")":""),Ye){for(be=-1,Rt=Ce.length;++be<Rt;)if(it=Ce.charCodeAt(be),48>it||it>57){Je=(it===46?i+Ce.slice(be+1):Ce.slice(be))+Je,Ce=Ce.slice(0,be);break}}}_&&!A&&(Ce=t(Ce,1/0));var ve=ze.length+Ce.length+Je.length,Re=ve<v?new Array(v-ve+1).join(c):"";switch(_&&A&&(Ce=t(Re+Ce,Re.length?v-Je.length:1/0),Re=""),m){case"<":Ce=ze+Ce+Je+Re;break;case"=":Ce=ze+Re+Ce+Je;break;case"^":Ce=Re.slice(0,ve=Re.length>>1)+ze+Ce+Je+Re.slice(ve);break;default:Ce=Re+ze+Ce+Je;break}return o(Ce)}return de.toString=function(){return h+""},de}function f(h,c){var m=u((h=Vc(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Vs(c)/3)))*3,S=Math.pow(10,-g),A=J3[8+g/3];return function(v){return m(S*v)+A}}return{format:u,formatPrefix:f}}var ed,eg,G8;KT({thousands:",",grouping:[3],currency:["$",""]});function KT(e){return ed=QT(e),eg=ed.format,G8=ed.formatPrefix,ed}function ZT(e){return Math.max(0,-Vs(Math.abs(e)))}function JT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function eA(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function tA(e,t,n,r){var i=lT(e,t,n),o;switch(r=Vc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=JT(i,a))&&(r.precision=o),G8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eA(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ZT(i))&&(r.precision=o-(r.type==="%")*2);break}}return eg(r)}function tg(e){var t=e.domain;return e.ticks=function(n){var r=t();return gv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tA(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=o,o=u);f-- >0;){if(u=yv(a,l,n),u===s)return r[i]=a,r[o]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Hc(){var e=UT();return e.copy=function(){return K2(e,Hc())},X2.apply(e,arguments),tg(e)}function nA(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function e6(e){return Math.log(e)}function t6(e){return Math.exp(e)}function rA(e){return-Math.log(-e)}function iA(e){return-Math.exp(-e)}function oA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aA(e){return e===10?oA:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lA(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n6(e){return(t,n)=>-e(-t,n)}function sA(e){const t=e(e6,t6),n=t.domain;let r=10,i,o;function a(){return i=lA(r),o=aA(r),n()[0]<0?(i=n6(i),o=n6(o),e(rA,iA)):e(e6,t6),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const s=n();let u=s[0],f=s[s.length-1];const h=f<u;h&&([u,f]=[f,u]);let c=i(u),m=i(f),g,S;const A=l==null?10:+l;let v=[];if(!(r%1)&&m-c<A){if(c=Math.floor(c),m=Math.ceil(m),u>0){for(;c<=m;++c)for(g=1;g<r;++g)if(S=c<0?g/o(-c):g*o(c),!(S<u)){if(S>f)break;v.push(S)}}else for(;c<=m;++c)for(g=r-1;g>=1;--g)if(S=c>0?g/o(-c):g*o(c),!(S<u)){if(S>f)break;v.push(S)}v.length*2<A&&(v=gv(u,f,A))}else v=gv(c,m,Math.min(m-c,A)).map(o);return h?v.reverse():v},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Vc(s)).precision==null&&(s.trim=!0),s=eg(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?s(f):""}},t.nice=()=>n(nA(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function ng(){const e=sA(Z2()).domain([1,10]);return e.copy=()=>K2(e,ng()).base(e.base()),X2.apply(e,arguments),e}function r6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uA(e){var t=1,n=e(r6(t),i6(t));return n.constant=function(r){return arguments.length?e(r6(t=+r),i6(t)):t},tg(n)}function U8(){var e=uA(Z2());return e.copy=function(){return K2(e,U8()).constant(e.constant())},X2.apply(e,arguments)}function cA(){var e=0,t=1,n,r,i,o,a=sa,l=!1,s;function u(h){return h==null||isNaN(h=+h)?s:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function f(h){return function(c){var m,g;return arguments.length?([m,g]=c,a=h(m,g),u):[a(0),a(1)]}}return u.range=f(zh),u.rangeRound=f(D8),u.unknown=function(h){return arguments.length?(s=h,u):s},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function fA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ev(){var e=tg(cA()(sa));return e.copy=function(){return fA(e,Ev())},uT.apply(e,arguments)}function Gh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}j8(_a(-100,.75,.35),_a(80,1.5,.8));var dA=j8(_a(260,.75,.35),_a(80,1.5,.8));_a();function Uh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Uh(Gh("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var hA=Uh(Gh("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Uh(Gh("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Uh(Gh("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const pA="_scatter_lrznx_2",mA={scatter:pA};rg.propTypes={points:Pe.array.isRequired,colors:Pe.array,width:Pe.number.isRequired,height:Pe.number.isRequired,pointScale:Pe.number,colorScaleType:Pe.oneOf(["categorical","continuous"]),colorInterpolator:Pe.func,opacityBy:Pe.string,duration:Pe.number,onScatter:Pe.func,onView:Pe.func,onSelect:Pe.func,onHover:Pe.func};const vA=e=>ng().domain([100,1e6]).range([6,1]).clamp(!0)(e),gA=e=>ng().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function rg({points:e,width:t,height:n,duration:r=0,pointScale:i=1,colorScaleType:o=null,colorInterpolator:a=dA,opacityBy:l,onScatter:s,onView:u,onSelect:f,onHover:h}){const c=O.useRef(),m=O.useRef([-1,1]),g=O.useRef([-1,1]),S=Hc().domain(m.current),A=Hc().domain(g.current),v=O.useRef(null);O.useEffect(()=>{const y={canvas:c.current,width:t,height:n,pointColorHover:[.1,.1,.1,.5],xScale:S,yScale:A},P=Vb(y);return v.current=P,u&&u(S,A),P.subscribe("view",({camera:F,view:H,xScale:te,yScale:K})=>{m.current=te.domain(),g.current=K.domain(),u&&u(m.current,g.current)}),P.subscribe("select",({points:F})=>{f&&f(F)}),P.subscribe("deselect",()=>{f&&f([])}),P.subscribe("pointOver",F=>{h&&h(F)}),P.subscribe("pointOut",()=>{h&&h(null)}),s&&s(P),()=>{v.current=null,P.destroy()}},[t,n,s,u,f,h]);const _=O.useRef();return O.useEffect(()=>{const y=v.current,P=_.current;if(y&&e&&e.length){const F=vA(e.length)*i,H=gA(e.length);let te=[250/255,128/255,114/255,1];if(o==="categorical"){const K=nT(e.map(de=>de[2]),de=>de).map(de=>de[0]).sort((de,Ce)=>de-Ce),Ye=Ev(a).domain(k8(K).reverse());te=K.map(de=>Gc(Ye(de)).hex())}else if(o==="continuous"){let K=sT(0,100);const Ye=Ev(a).domain([0,100]);te=K.map(de=>Gc(Ye(de)).hex())}o&&y.set({colorBy:"valueA"}),l?y.set({opacityBy:l,sizeBy:l,opacity:[.1,.2,.3,.4,.5,1],pointSize:[2,4,5,6,F]}):y.set({opacity:H,pointSize:F}),P&&P.length===e.length?(console.log("transitioning scatterplot"),y.draw(e,{transition:!0,transitionDuration:r}).then(()=>{y.set({pointColor:te}),y.draw(e,{transition:!1})})):(console.log("fresh draw scatterplot"),y.set({pointColor:te}),y.draw(e,{transition:!1})),_.current=e}},[e,t,n,o,a,r,i]),M.jsx("canvas",{className:mA.scatter,ref:c})}const ia=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:s})=>{const u=O.useRef();return O.useEffect(()=>{if(o&&a){const f=Hc().domain(o).range([0,l]),h=Hc().domain(a).range([s,0]),c=A=>A/(.1+o[1]-o[0]),g=u.current.getContext("2d");g.clearRect(0,0,l,s),g.fillStyle=t,g.strokeStyle=n,g.font=`${c(r)}px monospace`,g.globalAlpha=.75;let S=c(r);if(!e.length)return;e.map(A=>{A&&(t&&g.fillRect(f(A[0])-S/2,h(A[1])-S/2,S,S),n&&g.strokeRect(f(A[0])-S/2,h(A[1])-S/2,S,S),i&&g.fillText(i,f(A[0])-S/3.2,h(A[1])+S/3.2))})}},[e,t,n,r,o,a,l,s]),M.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function us(e){return function(){return e}}const Sv=Math.PI,bv=2*Sv,nl=1e-6,yA=bv-nl;function V8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xA(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V8;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let _A=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V8:xA(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,s=r-t,u=i-n,f=a-t,h=l-n,c=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>nl)if(!(Math.abs(h*s-u*f)>nl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,g=i-l,S=s*s+u*u,A=m*m+g*g,v=Math.sqrt(S),_=Math.sqrt(c),y=o*Math.tan((Sv-Math.acos((S+c-A)/(2*v*_)))/2),P=y/_,F=y/v;Math.abs(P-1)>nl&&this._append`L${t+P*f},${n+P*h}`,this._append`A${o},${o},0,0,${+(h*m>f*g)},${this._x1=t+F*s},${this._y1=n+F*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,f=n+s,h=1^a,c=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>nl||Math.abs(this._y1-f)>nl)&&this._append`L${u},${f}`,r&&(c<0&&(c=c%bv+bv),c>yA?this._append`A${r},${r},0,1,${h},${t-l},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:c>nl&&this._append`A${r},${r},0,${+(c>=Sv)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function wA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _A(t)}function EA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function H8(e){this._context=e}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function SA(e){return new H8(e)}function bA(e){return e[0]}function TA(e){return e[1]}function o6(e,t){var n=us(!0),r=null,i=SA,o=null,a=wA(l);e=typeof e=="function"?e:e===void 0?bA:us(e),t=typeof t=="function"?t:t===void 0?TA:us(t);function l(s){var u,f=(s=EA(s)).length,h,c=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=f;++u)!(u<f&&n(h=s[u],u,s))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+e(h,u,s),+t(h,u,s));if(m)return o=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:us(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:us(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:us(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),l):r},l}function a6(){}function W8(e){this._context=e}W8.prototype={areaStart:a6,areaEnd:a6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l6(e){return new W8(e)}var Tv="http://www.w3.org/1999/xhtml";const s6={svg:"http://www.w3.org/2000/svg",xhtml:Tv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),s6.hasOwnProperty(t)?{space:s6[t],local:e}:e}function AA(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tv&&t.documentElement.namespaceURI===Tv?t.createElement(e):t.createElementNS(n,e)}}function CA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function X8(e){var t=Vh(e);return(t.local?CA:AA)(t)}function LA(){}function ig(e){return e==null?LA:function(){return this.querySelector(e)}}function RA(e){typeof e!="function"&&(e=ig(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=new Array(a),s,u,f=0;f<a;++f)(s=o[f])&&(u=e.call(s,s.__data__,f,o))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new ri(r,this._parents)}function kA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OA(){return[]}function Y8(e){return e==null?OA:function(){return this.querySelectorAll(e)}}function PA(e){return function(){return kA(e.apply(this,arguments))}}function NA(e){typeof e=="function"?e=PA(e):e=Y8(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(r.push(e.call(s,s.__data__,u,a)),i.push(s));return new ri(r,i)}function q8(e){return function(){return this.matches(e)}}function Q8(e){return function(t){return t.matches(e)}}var MA=Array.prototype.find;function IA(e){return function(){return MA.call(this.children,e)}}function DA(){return this.firstElementChild}function FA(e){return this.select(e==null?DA:IA(typeof e=="function"?e:Q8(e)))}var $A=Array.prototype.filter;function BA(){return Array.from(this.children)}function jA(e){return function(){return $A.call(this.children,e)}}function zA(e){return this.selectAll(e==null?BA:jA(typeof e=="function"?e:Q8(e)))}function GA(e){typeof e!="function"&&(e=q8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new ri(r,this._parents)}function K8(e){return new Array(e.length)}function UA(){return new ri(this._enter||this._groups.map(K8),this._parents)}function ch(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ch.prototype={constructor:ch,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function VA(e){return function(){return e}}function HA(e,t,n,r,i,o){for(var a=0,l,s=t.length,u=o.length;a<u;++a)(l=t[a])?(l.__data__=o[a],r[a]=l):n[a]=new ch(e,o[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function WA(e,t,n,r,i,o,a){var l,s,u=new Map,f=t.length,h=o.length,c=new Array(f),m;for(l=0;l<f;++l)(s=t[l])&&(c[l]=m=a.call(s,s.__data__,l,t)+"",u.has(m)?i[l]=s:u.set(m,s));for(l=0;l<h;++l)m=a.call(e,o[l],l,o)+"",(s=u.get(m))?(r[l]=s,s.__data__=o[l],u.delete(m)):n[l]=new ch(e,o[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function XA(e){return e.__data__}function YA(e,t){if(!arguments.length)return Array.from(this,XA);var n=t?WA:HA,r=this._parents,i=this._groups;typeof e!="function"&&(e=VA(e));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],c=h.length,m=qA(e.call(f,f&&f.__data__,u,r)),g=m.length,S=l[u]=new Array(g),A=a[u]=new Array(g),v=s[u]=new Array(c);n(f,h,S,A,v,m,t);for(var _=0,y=0,P,F;_<g;++_)if(P=S[_]){for(_>=y&&(y=_+1);!(F=A[y])&&++y<g;);P._next=F||null}}return a=new ri(a,r),a._enter=l,a._exit=s,a}function qA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QA(){return new ri(this._exit||this._groups.map(K8),this._parents)}function KA(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ZA(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],h=u.length,c=l[s]=new Array(h),m,g=0;g<h;++g)(m=u[g]||f[g])&&(c[g]=m);for(;s<i;++s)l[s]=n[s];return new ri(l,this._parents)}function JA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function eC(e){e||(e=tC);function t(h,c){return h&&c?e(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new ri(i,this._parents).order()}function tC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rC(){return Array.from(this)}function iC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function oC(){let e=0;for(const t of this)++e;return e}function aC(){return!this.node()}function lC(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function sC(e){return function(){this.removeAttribute(e)}}function uC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cC(e,t){return function(){this.setAttribute(e,t)}}function fC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pC(e,t){var n=Vh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?uC:sC:typeof t=="function"?n.local?hC:dC:n.local?fC:cC)(n,t))}function Z8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mC(e){return function(){this.style.removeProperty(e)}}function vC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function yC(e,t,n){return arguments.length>1?this.each((t==null?mC:typeof t=="function"?gC:vC)(e,t,n??"")):Hs(this.node(),e)}function Hs(e,t){return e.style.getPropertyValue(t)||Z8(e).getComputedStyle(e,null).getPropertyValue(t)}function xC(e){return function(){delete this[e]}}function _C(e,t){return function(){this[e]=t}}function wC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function EC(e,t){return arguments.length>1?this.each((t==null?xC:typeof t=="function"?wC:_C)(e,t)):this.node()[e]}function J8(e){return e.trim().split(/^|\s+/)}function og(e){return e.classList||new e9(e)}function e9(e){this._node=e,this._names=J8(e.getAttribute("class")||"")}e9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function t9(e,t){for(var n=og(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function n9(e,t){for(var n=og(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function SC(e){return function(){t9(this,e)}}function bC(e){return function(){n9(this,e)}}function TC(e,t){return function(){(t.apply(this,arguments)?t9:n9)(this,e)}}function AC(e,t){var n=J8(e+"");if(arguments.length<2){for(var r=og(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?TC:t?SC:bC)(n,t))}function CC(){this.textContent=""}function LC(e){return function(){this.textContent=e}}function RC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kC(e){return arguments.length?this.each(e==null?CC:(typeof e=="function"?RC:LC)(e)):this.node().textContent}function OC(){this.innerHTML=""}function PC(e){return function(){this.innerHTML=e}}function NC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function MC(e){return arguments.length?this.each(e==null?OC:(typeof e=="function"?NC:PC)(e)):this.node().innerHTML}function IC(){this.nextSibling&&this.parentNode.appendChild(this)}function DC(){return this.each(IC)}function FC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $C(){return this.each(FC)}function BC(e){var t=typeof e=="function"?e:X8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jC(){return null}function zC(e,t){var n=typeof e=="function"?e:X8(e),r=t==null?jC:typeof t=="function"?t:ig(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function GC(){var e=this.parentNode;e&&e.removeChild(this)}function UC(){return this.each(GC)}function VC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function WC(e){return this.select(e?HC:VC)}function XC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function YC(e){return function(t){e.call(this,t,this.__data__)}}function qC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function QC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function KC(e,t,n){return function(){var r=this.__on,i,o=YC(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ZC(e,t,n){var r=qC(e+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?KC:QC,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function r9(e,t,n){var r=Z8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function JC(e,t){return function(){return r9(this,e,t)}}function eL(e,t){return function(){return r9(this,e,t.apply(this,arguments))}}function tL(e,t){return this.each((typeof t=="function"?eL:JC)(e,t))}function*nL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var i9=[null];function ri(e,t){this._groups=e,this._parents=t}function af(){return new ri([[document.documentElement]],i9)}function rL(){return this}ri.prototype=af.prototype={constructor:ri,select:RA,selectAll:NA,selectChild:FA,selectChildren:zA,filter:GA,data:YA,enter:UA,exit:QA,join:KA,merge:ZA,selection:rL,order:JA,sort:eC,call:nC,nodes:rC,node:iC,size:oC,empty:aC,each:lC,attr:pC,style:yC,property:EC,classed:AC,text:kC,html:MC,raise:DC,lower:$C,append:BC,insert:zC,remove:UC,clone:WC,datum:XC,on:ZC,dispatch:tL,[Symbol.iterator]:nL};function u6(e){return typeof e=="string"?new ri([[document.querySelector(e)]],[document.documentElement]):new ri([[e]],i9)}var iL={value:()=>{}};function o9(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wd(n)}function wd(e){this._=e}function oL(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wd.prototype=o9.prototype={constructor:wd,on:function(e,t){var n=this._,r=oL(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=aL(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=c6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=c6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function aL(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function c6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=iL,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ws=0,sc=0,rc=0,a9=1e3,fh,uc,dh=0,wl=0,Hh=0,Wc=typeof performance=="object"&&performance.now?performance:Date,l9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ag(){return wl||(l9(lL),wl=Wc.now()+Hh)}function lL(){wl=0}function hh(){this._call=this._time=this._next=null}hh.prototype=s9.prototype={constructor:hh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ag():+n)+(t==null?0:+t),!this._next&&uc!==this&&(uc?uc._next=this:fh=this,uc=this),this._call=e,this._time=n,Av()},stop:function(){this._call&&(this._call=null,this._time=1/0,Av())}};function s9(e,t,n){var r=new hh;return r.restart(e,t,n),r}function sL(){ag(),++Ws;for(var e=fh,t;e;)(t=wl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ws}function f6(){wl=(dh=Wc.now())+Hh,Ws=sc=0;try{sL()}finally{Ws=0,cL(),wl=0}}function uL(){var e=Wc.now(),t=e-dh;t>a9&&(Hh-=t,dh=e)}function cL(){for(var e,t=fh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fh=n);uc=e,Av(r)}function Av(e){if(!Ws){sc&&(sc=clearTimeout(sc));var t=e-wl;t>24?(e<1/0&&(sc=setTimeout(f6,e-Wc.now()-Hh)),rc&&(rc=clearInterval(rc))):(rc||(dh=Wc.now(),rc=setInterval(uL,a9)),Ws=1,l9(f6))}}function d6(e,t,n){var r=new hh;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fL=o9("start","end","cancel","interrupt"),dL=[],u9=0,h6=1,Cv=2,Ed=3,p6=4,Lv=5,Sd=6;function Wh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;hL(e,n,{name:t,index:r,group:i,on:fL,tween:dL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:u9})}function lg(e,t){var n=Ii(e,t);if(n.state>u9)throw new Error("too late; already scheduled");return n}function eo(e,t){var n=Ii(e,t);if(n.state>Ed)throw new Error("too late; already running");return n}function Ii(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hL(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=s9(o,0,n.time);function o(u){n.state=h6,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,c,m;if(n.state!==h6)return s();for(f in r)if(m=r[f],m.name===n.name){if(m.state===Ed)return d6(a);m.state===p6?(m.state=Sd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=Sd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(d6(function(){n.state===Ed&&(n.state=p6,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Cv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cv){for(n.state=Ed,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Lv,1),h=-1,c=i.length;++h<c;)i[h].call(e,f);n.state===Lv&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Sd,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function pL(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Cv&&r.state<Lv,r.state=Sd,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function mL(e){return this.each(function(){pL(this,e)})}function vL(e,t){var n,r;return function(){var i=eo(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function gL(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=eo(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function yL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ii(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?vL:gL)(n,e,t))}function sg(e,t,n){var r=e._id;return e.each(function(){var i=eo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ii(i,r).value[t]}}function c9(e,t){var n;return(typeof t=="number"?Ri:t instanceof _l?sh:(n=_l(t))?(t=n,sh):I8)(e,t)}function xL(e){return function(){this.removeAttribute(e)}}function _L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function EL(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function SL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function bL(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function TL(e,t){var n=Vh(e),r=n==="transform"?FT:c9;return this.attrTween(e,typeof t=="function"?(n.local?bL:SL)(n,r,sg(this,"attr."+e,t)):t==null?(n.local?_L:xL)(n):(n.local?EL:wL)(n,r,t))}function AL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function CL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LL(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&CL(e,o)),n}return i._value=t,i}function RL(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&AL(e,o)),n}return i._value=t,i}function kL(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vh(e);return this.tween(n,(r.local?LL:RL)(r,t))}function OL(e,t){return function(){lg(this,e).delay=+t.apply(this,arguments)}}function PL(e,t){return t=+t,function(){lg(this,e).delay=t}}function NL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OL:PL)(t,e)):Ii(this.node(),t).delay}function ML(e,t){return function(){eo(this,e).duration=+t.apply(this,arguments)}}function IL(e,t){return t=+t,function(){eo(this,e).duration=t}}function DL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ML:IL)(t,e)):Ii(this.node(),t).duration}function FL(e,t){if(typeof t!="function")throw new Error;return function(){eo(this,e).ease=t}}function $L(e){var t=this._id;return arguments.length?this.each(FL(t,e)):Ii(this.node(),t).ease}function BL(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;eo(this,e).ease=n}}function jL(e){if(typeof e!="function")throw new Error;return this.each(BL(this._id,e))}function zL(e){typeof e!="function"&&(e=q8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new Ao(r,this._parents,this._name,this._id)}function GL(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=t[l],u=n[l],f=s.length,h=a[l]=new Array(f),c,m=0;m<f;++m)(c=s[m]||u[m])&&(h[m]=c);for(;l<r;++l)a[l]=t[l];return new Ao(a,this._parents,this._name,this._id)}function UL(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function VL(e,t,n){var r,i,o=UL(t)?lg:eo;return function(){var a=o(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function HL(e,t){var n=this._id;return arguments.length<2?Ii(this.node(),n).on.on(e):this.each(VL(n,e,t))}function WL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function XL(){return this.on("end.remove",WL(this._id))}function YL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ig(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,h,c=0;c<s;++c)(f=l[c])&&(h=e.call(f,f.__data__,c,l))&&("__data__"in f&&(h.__data__=f.__data__),u[c]=h,Wh(u[c],t,n,c,u,Ii(f,n)));return new Ao(o,this._parents,t,n)}function qL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Y8(e));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],u=s.length,f,h=0;h<u;++h)if(f=s[h]){for(var c=e.call(f,f.__data__,h,s),m,g=Ii(f,n),S=0,A=c.length;S<A;++S)(m=c[S])&&Wh(m,t,n,S,c,g);o.push(c),a.push(f)}return new Ao(o,a,t,n)}var QL=af.prototype.constructor;function KL(){return new QL(this._groups,this._parents)}function ZL(e,t){var n,r,i;return function(){var o=Hs(this,e),a=(this.style.removeProperty(e),Hs(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function f9(e){return function(){this.style.removeProperty(e)}}function JL(e,t,n){var r,i=n+"",o;return function(){var a=Hs(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function eR(e,t,n){var r,i,o;return function(){var a=Hs(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Hs(this,e))),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}function tR(e,t){var n,r,i,o="style."+t,a="end."+o,l;return function(){var s=eo(this,e),u=s.on,f=s.value[o]==null?l||(l=f9(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),s.on=r}}function nR(e,t,n){var r=(e+="")=="transform"?DT:c9;return t==null?this.styleTween(e,ZL(e,r)).on("end.style."+e,f9(e)):typeof t=="function"?this.styleTween(e,eR(e,r,sg(this,"style."+e,t))).each(tR(this._id,e)):this.styleTween(e,JL(e,r,t),n).on("end.style."+e,null)}function rR(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function iR(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&rR(e,a,n)),r}return o._value=t,o}function oR(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,iR(e,t,n??""))}function aR(e){return function(){this.textContent=e}}function lR(e){return function(){var t=e(this);this.textContent=t??""}}function sR(e){return this.tween("text",typeof e=="function"?lR(sg(this,"text",e)):aR(e==null?"":e+""))}function uR(e){return function(t){this.textContent=e.call(this,t)}}function cR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&uR(i)),t}return r._value=e,r}function fR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cR(e))}function dR(){for(var e=this._name,t=this._id,n=d9(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=Ii(s,t);Wh(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ao(r,this._parents,e,n)}function hR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=eo(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&o()})}var pR=0;function Ao(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function d9(){return++pR}var mo=af.prototype;Ao.prototype={constructor:Ao,select:YL,selectAll:qL,selectChild:mo.selectChild,selectChildren:mo.selectChildren,filter:zL,merge:GL,selection:KL,transition:dR,call:mo.call,nodes:mo.nodes,node:mo.node,size:mo.size,empty:mo.empty,each:mo.each,on:HL,attr:TL,attrTween:kL,style:nR,styleTween:oR,text:sR,textTween:fR,remove:XL,tween:yL,delay:NL,duration:DL,ease:$L,easeVarying:jL,end:hR,[Symbol.iterator]:mo[Symbol.iterator]};function h9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function mR(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function m6(e){return 1-mR(e)}var vR={time:null,delay:0,duration:250,ease:h9};function gR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yR(e){var t,n;e instanceof Ao?(t=e._id,e=e._name):(t=d9(),(n=vR).time=ag(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&Wh(s,e,t,u,a,n||gR(s,t));return new Ao(r,this._parents,e,t)}af.prototype.interrupt=mL;af.prototype.transition=yR;function xR(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[1]*i[0]-r[0]*i[1];return o/2}function _R(e){for(var t=-1,n=e.length,r=e[n-1],i,o,a=r[0],l=r[1],s=0;++t<n;)i=a,o=l,r=e[t],a=r[0],l=r[1],i-=a,o-=l,s+=Math.sqrt(i*i+o*o);return s}var bd={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},wR=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function ER(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&wR.indexOf(e)>=0}function SR(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function bR(e){return(e|32)===97}function cs(e){return e>=48&&e<=57}function TR(e){return e>=48&&e<=57||e===43||e===45||e===46}function AR(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function Td(e){for(;e.index<e.max&&ER(e.path.charCodeAt(e.index));)e.index++}function CR(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function LR(e){var t=e.index,n=t,r=e.max,i=!1,o=!1,a=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!cs(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&cs(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&cs(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;cs(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!o&&!a){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&cs(e.path.charCodeAt(n)))for(;n<r&&cs(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function dm(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=bd[n]&&(e.result.push([t].concat(r.splice(0,bd[n]))),!!bd[n]););}function RR(e){var t=e.max,n,r,i,o,a;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=bR(n),!SR(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(o=bd[e.path[e.index].toLowerCase()],e.index++,Td(e),e.data=[],!o){dm(e);return}for(i=!1;;){for(a=o;a>0;a--){if(r&&(a===3||a===4)?CR(e):LR(e),e.err.length){dm(e);return}e.data.push(e.param),Td(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,Td(e),i=!0)}if(!i&&(e.index>=e.max||!TR(e.path.charCodeAt(e.index))))break}dm(e)}var kR=function(t){var n=new AR(t),r=n.max;for(Td(n);n.index<r&&!n.err.length;)RR(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function OR(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function Mi(){if(!(this instanceof Mi))return new Mi;this.queue=[],this.cache=null}Mi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};Mi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};Mi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};Mi.prototype.rotate=function(e,t,n){var r,i,o;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-t,-n)),this};Mi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};Mi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};Mi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=OR(this.cache,this.queue[e]);return this.cache};Mi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var p9=Mi,PR=p9,NR={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},MR=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,IR=/[\s,]+/,DR=function(t){var n=new PR,r,i;return t.split(MR).forEach(function(o){if(o.length){if(typeof NR[o]<"u"){r=o;return}switch(i=o.split(IR).map(function(a){return+a||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},xc=Math.PI*2;function v6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function FR(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,g=f*f,S=h*h,A=c*m-c*S-m*g;A<0&&(A=0),A/=c*S+m*g,A=Math.sqrt(A)*(i===o?-1:1);var v=A*a/l*h,_=A*-l/a*f,y=u*v-s*_+(e+n)/2,P=s*v+u*_+(t+r)/2,F=(f-v)/a,H=(h-_)/l,te=(-f-v)/a,K=(-h-_)/l,Ye=v6(1,0,F,H),de=v6(F,H,te,K);return o===0&&de>0&&(de-=xc),o===1&&de<0&&(de+=xc),[y,P,Ye,de]}function $R(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}var BR=function(t,n,r,i,o,a,l,s,u){var f=Math.sin(u*xc/360),h=Math.cos(u*xc/360),c=h*(t-r)/2+f*(n-i)/2,m=-f*(t-r)/2+h*(n-i)/2;if(c===0&&m===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var g=c*c/(l*l)+m*m/(s*s);g>1&&(l*=Math.sqrt(g),s*=Math.sqrt(g));var S=FR(t,n,r,i,o,a,l,s,f,h),A=[],v=S[2],_=S[3],y=Math.max(Math.ceil(Math.abs(_)/(xc/4)),1);_/=y;for(var P=0;P<y;P++)A.push($R(v,_)),v+=_;return A.map(function(F){for(var H=0;H<F.length;H+=2){var te=F[H+0],K=F[H+1];te*=l,K*=s;var Ye=h*te-f*K,de=f*te+h*K;F[H+0]=Ye+S[0],F[H+1]=de+S[1]}return F})},_c=1e-10,g6=Math.PI/180;function Xc(e,t,n){if(!(this instanceof Xc))return new Xc(e,t,n);this.rx=e,this.ry=t,this.ax=n}Xc.prototype.transform=function(e){var t=Math.cos(this.ax*g6),n=Math.sin(this.ax*g6),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+o)/2;if(a<_c*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];a=Math.sqrt(a);var u=l+a/2,f=l-a/2;return this.ax=Math.abs(s)<_c&&Math.abs(u-o)<_c?90:Math.atan(Math.abs(s)>Math.abs(u-o)?(u-i)/s:s/(u-o))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(u)),this};Xc.prototype.isDegenerate=function(){return this.rx<_c*this.ry||this.ry<_c*this.rx};var jR=Xc,zR=kR,GR=DR,Ca=p9,UR=BR,VR=jR;function Pn(e){if(!(this instanceof Pn))return new Pn(e);var t=zR(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}Pn.from=function(e){if(typeof e=="string")return new Pn(e);if(e instanceof Pn){var t=new Pn("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return Ca().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};Pn.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,o,a){var l,s,u,f;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(o,r[1],!1),s=l[0]===e.calc(o,a,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],a,!1),s=l[1]===e.calc(o,a,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var h=e.toArray(),c=VR(r[1],r[2],r[3]).transform(h);if(h[0]*h[3]-h[1]*h[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===o&&r[7]===a||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":f=i>0,l=e.calc(r[1],r[2],f),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],f=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],f),s.push(l[0],l[1])}t.segments[i]=s},!0)};Pn.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=Ca(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};Pn.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var o=this.segments[r],a=o[0];a!==t||a==="m"||a==="M"?(a==="m"&&t==="z"&&(e+=" "),e+=a,n=!1):n=!0;for(var l=1;l<o.length;l++){var s=o[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=a}return e};Pn.prototype.translate=function(e,t){return this.__stack.push(Ca().translate(e,t||0)),this};Pn.prototype.scale=function(e,t){return this.__stack.push(Ca().scale(e,!t&&t!==0?e:t)),this};Pn.prototype.rotate=function(e,t,n){return this.__stack.push(Ca().rotate(e,t||0,n||0)),this};Pn.prototype.skewX=function(e){return this.__stack.push(Ca().skewX(e)),this};Pn.prototype.skewY=function(e){return this.__stack.push(Ca().skewY(e)),this};Pn.prototype.matrix=function(e){return this.__stack.push(Ca().matrix(e)),this};Pn.prototype.transform=function(e){return e.trim()?(this.__stack.push(GR(e)),this):this};Pn.prototype.round=function(e){var t=0,n=0,r=0,i=0,o;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(a){var l=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":l&&(a[1]+=r),r=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"V":case"v":l&&(a[1]+=i),i=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(a[1]+=r,a[2]+=i),r=a[1]-a[1].toFixed(e),i=a[2]-a[2].toFixed(e),t=r,n=i,a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e);return;case"A":case"a":l&&(a[6]+=r,a[7]+=i),r=a[6]-a[6].toFixed(e),i=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),a[7]=+a[7].toFixed(e);return;default:o=a.length,l&&(a[o-2]+=r,a[o-1]+=i),r=a[o-2]-a[o-2].toFixed(e),i=a[o-1]-a[o-1].toFixed(e),a.forEach(function(s,u){u&&(a[u]=+a[u].toFixed(e))});return}}),this};Pn.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,o=0,a=0,l=0,s=0,u,f,h;if(t||this.__evaluateStack(),n.forEach(function(c,m){var g=e(c,m,o,a);Array.isArray(g)&&(r[m]=g,i=!0);var S=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":o=c[1]+(S?o:0),a=c[2]+(S?a:0),l=o,s=a;return;case"h":case"H":o=c[1]+(S?o:0);return;case"v":case"V":a=c[1]+(S?a:0);return;case"z":case"Z":o=l,a=s;return;default:o=c[c.length-2]+(S?o:0),a=c[c.length-1]+(S?a:0)}}),!i)return this;for(h=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(f=0;f<r[u].length;f++)h.push(r[u][f]);else h.push(n[u]);return this.segments=h,this};Pn.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toUpperCase(),a;if(i!==o)switch(e[0]=o,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(a=1;a<e.length;a++)e[a]+=a%2?n:r}},!0),this};Pn.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],o=i.toLowerCase(),a;if(i!==o&&!(t===0&&i==="M"))switch(e[0]=o,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(a=1;a<e.length;a++)e[a]-=a%2?n:r}},!0),this};Pn.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,o,a,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(o=n+e[6],a=r+e[7]):(o=e[6],a=e[7]),i=UR(n,r,o,a,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};Pn.prototype.unshort=function(){var e=this.segments,t,n,r,i,o;return this.iterate(function(a,l,s,u){var f=a[0],h=f.toUpperCase(),c;l&&(h==="T"?(c=f==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"q":"Q",i,o,a[1],a[2]]):h==="S"&&(c=f==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,o=-n,c||(i+=s,o+=u),e[l]=[c?"c":"C",i,o,a[1],a[2],a[3],a[4]]))}),this};var HR=Pn,WR=HR;const XR=Zc(WR);var hm={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},YR=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function qR(e){var t=[];return e.replace(YR,function(n,r,i){var o=r.toLowerCase();for(i=KR(i),o==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),o="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===hm[o])return i.unshift(r),t.push(i);if(i.length<hm[o])throw new Error("malformed path data");t.push([r].concat(i.splice(0,hm[o])))}}),t}var QR=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function KR(e){var t=e.match(QR);return t?t.map(Number):[]}function Ti(e,t,n,r,i,o,a,l){return new Rv(e,t,n,r,i,o,a,l)}function Rv(e,t,n,r,i,o,a,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:l},a!=null&&l!==null&&l!==void 0?(this.getArcLength=lk,this.getPoint=ek,this.getDerivative=JR):(this.getArcLength=tk,this.getPoint=m9,this.getDerivative=ZR),this.init()}Rv.prototype={constructor:Rv,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=pm(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:o.x,y:o.y,tangentX:i.x,tangentY:i.y}}};function ZR(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function JR(e,t,n){var r=m9([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function pm(e,t,n,r,i){for(var o=1,a=e/t,l=(e-n(r,i,a))/t;o>.001;){var s=n(r,i,a+l),u=n(r,i,a-l),f=Math.abs(e-s)/t,h=Math.abs(e-u)/t;f<o?(o=f,a+=l):h<o?(o=h,a-=l):l/=2}return a}function m9(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function ek(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function tk(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],a=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*o+i*a),u=o*o+a*a;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var f=s/(2*l),h=u/l,c=n+f,m=h-f*f;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+m)-f*Math.sqrt(f*f+m)+m*Math.log(Math.abs((c+Math.sqrt(c*c+m))/(f+Math.sqrt(f*f+m)))))}var nk=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],rk=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],ik=[[1],[1,1],[1,2,1],[1,3,3,1]];function ok(e,t){return ik[e][t]}function kv(e,t,n){var r=n.length-1,i,o,a;if(r===0)return 0;if(e===0){for(o=0,a=0;a<=r;a++)o+=ok(r,a)*Math.pow(1-t,r-a)*Math.pow(t,a)*n[a];return o}else{for(i=new Array(r),a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return kv(e-1,t,i)}}function ak(e,t,n){var r=kv(1,n,e),i=kv(1,n,t),o=r*r+i*i;return Math.sqrt(o)}function lk(e,t,n){var r,i,o,a;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,o=0;o<l;o++)a=r*nk[l][o]+r,i+=rk[l][o]*ak(e,t,a);return r*i}var wc=Math.PI*2;function y6(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function sk(e,t,n,r,i,o,a,l,s,u){var f=u*(e-n)/2+s*(t-r)/2,h=-s*(e-n)/2+u*(t-r)/2,c=a*a,m=l*l,g=f*f,S=h*h,A=c*m-c*S-m*g;A<0&&(A=0),A/=c*S+m*g,A=Math.sqrt(A)*(i===o?-1:1);var v=A*a/l*h,_=A*-l/a*f,y=u*v-s*_+(e+n)/2,P=s*v+u*_+(t+r)/2,F=(f-v)/a,H=(h-_)/l,te=(-f-v)/a,K=(-h-_)/l,Ye=y6(1,0,F,H),de=y6(F,H,te,K);return o===0&&de>0&&(de-=wc),o===1&&de<0&&(de+=wc),[y,P,Ye,de]}function uk(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function ck(e,t,n,r,i,o,a,l,s){var u=Math.sin(i*wc/360),f=Math.cos(i*wc/360),h=f*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+f*(t-s)/2;if(h===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var m=h*h/(n*n)+c*c/(r*r);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m));var g=sk(e,t,l,s,o,a,n,r,u,f),S=[],A=g[2],v=g[3],_=Math.max(Math.ceil(Math.abs(v)/(wc/4)),1);v/=_;for(var y=0;y<_;y++)S.push(uk(A,v)),A+=v;return S.map(function(P){for(var F=0;F<P.length;F+=2){var H=P[F+0],te=P[F+1];H*=n,te*=r;var K=f*H-u*te,Ye=u*H+f*te;P[F+0]=K+g[0],P[F+1]=Ye+g[1]}return P})}function x6(e,t,n,r,i,o,a,l,s){return new Ov(e,t,n,r,i,o,a,l,s)}function Ov(e,t,n,r,i,o,a,l,s){var u=0,f=[],h=[],c=ck(e,t,n,r,i,o,a,l,s);c.forEach(function(m){var g=new Ti(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),S=g.getTotalLength();u+=S,f.push(S),h.push(g)}),this.length=u,this.partialLengths=f,this.curves=h}Ov.prototype={constructor:Ov,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function bi(e,t,n,r){return new lf(e,t,n,r)}function lf(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}lf.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};lf.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};lf.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};lf.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function fk(e){var t=0,n=[],r=[];function i(a){if(!a)return null;for(var l=qR(a),s=[0,0],u=[0,0],f,h,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],h=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],h=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new bi(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new bi(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new bi(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new bi(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new bi(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(h[0]-s[0],2)+Math.pow(h[1]-s[1],2)),r.push(new bi(s[0],h[0],s[1],h[1])),s=[h[0],h[1]]):l[c][0]==="C"?(f=new Ti(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+f.getTotalLength(),s=[l[c][5],l[c][6]],r.push(f)):l[c][0]==="c"?(f=new Ti(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+f.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(f)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):f=new Ti(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+f.getTotalLength(),s=[l[c][3],l[c][4]],r.push(f)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],s[0]+f.d.x-f.c.x,s[1]+f.d.y-f.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):f=new Ti(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?f=new Ti(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):f=new bi(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+f.getTotalLength(),r.push(f),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?f=new bi(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):f=new Ti(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+f.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(f)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):f=new bi(s[0],l[c][1],s[1],l[c][2]),r.push(f),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?f=new Ti(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):f=new bi(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+f.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(f)):l[c][0]==="A"?(f=new x6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+f.getTotalLength(),s=[l[c][6],l[c][7]],r.push(f)):l[c][0]==="a"&&(f=new x6(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+f.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(f)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(a){var l=o(a);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(a){var l=o(a);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(a){var l=o(a);return r[l.i].getPropertiesAtLength(l.fraction)};var o=function(a){a<0?a=0:a>t&&(a=t);for(var l=n.length-1;n[l]>=a&&n[l]>0;)l--;return l++,{fraction:a-n[l-1],i:l}};return i(e)}function Xh(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function v9(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function dk(e,t){return Xh(e,t)<1e-9}function hk(e,t,n){let r=e.map((i,o)=>pk(i,t[o]));return function(i){let o=r.map(a=>a(i));return n?gk(o):o}}function pk(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function ph(e){return typeof e=="number"&&isFinite(e)}const Pv=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function mk(e){return new XR(e).abs()}function vk(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function gk(e){return"M"+e.join("L")+"Z"}function yk(e,t){let n=mk(e);return xk(n)||_k(n,t)}function xk(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,o,a]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([o,a]);else if(i==="H")n.push([o,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],o]);else return!1}return n.length?{ring:n}:!1}function _k(e,t){let n=vk(e)[0],r=[],i,o,a=3;if(!n)throw new TypeError(Pv);o=wk(n),i=o.getTotalLength(),t&&ph(t)&&t>0&&(a=Math.max(a,Math.ceil(i/t)));for(let l=0;l<a;l++){let s=o.getPointAtLength(i*l/a);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function wk(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return fk(e)}function _6(e,t){const n=e.length+t,r=_R(e)/t;let i=0,o=0,a=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=Xh(l,s);if(a<=o+u){e.splice(i+1,0,u?v9(l,s,(a-o)/u):l.slice(0)),a+=r;continue}o+=u,i++}}function Ek(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;Xh(r,i)>t;)i=v9(r,i,.5),e.splice(n+1,0,i)}}function w6(e,t){let n,r,i;if(typeof e=="string"){let o=yk(e,t);e=o.ring,i=o.skipBisect}else if(!Array.isArray(e))throw new TypeError(Pv);if(n=e.slice(0),!Sk(n))throw new TypeError(Pv);return n.length>1&&dk(n[0],n[n.length-1])&&n.pop(),r=xR(n),r>0&&n.reverse(),!i&&t&&ph(t)&&t>0&&Ek(n,t),n}function Sk(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&ph(t[0])&&ph(t[1])})}function bk(e,t){let n=e.length,r=1/0,i,o,a;for(let l=0;l<n;l++)o=0,t.forEach(function(s,u){let f=Xh(e[(l+u)%n],s);o+=f*f}),o<r&&(r=o,i=l);i&&(a=e.splice(0,i),e.splice(e.length,0,...a))}function Tk(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=w6(e,n),o=w6(t,n),a=Ak(i,o,r);return!r||typeof e!="string"&&typeof t!="string"?a:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:a(l)}function Ak(e,t,n){let r;return r=e.length-t.length,_6(e,r<0?r*-1:0),_6(t,r>0?r:0),bk(e,t),hk(e,t,n)}var g9={exports:{}};g9.exports=Yh;g9.exports.default=Yh;function Yh(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=y9(e,0,i,n,!0),a=[];if(!o||o.next===o.prev)return a;var l,s,u,f,h,c,m;if(r&&(o=Ok(e,t,o,n)),e.length>80*n){l=u=e[0],s=f=e[1];for(var g=n;g<i;g+=n)h=e[g],c=e[g+1],h<l&&(l=h),c<s&&(s=c),h>u&&(u=h),c>f&&(f=c);m=Math.max(u-l,f-s),m=m!==0?32767/m:0}return Yc(o,a,n,l,s,m,0),a}function y9(e,t,n,r,i){var o,a;if(i===Iv(e,t,n,r)>0)for(o=t;o<n;o+=r)a=E6(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=E6(o,e[o],e[o+1],a);return a&&qh(a,a.next)&&(Qc(a),a=a.next),a}function El(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(qh(n,n.next)||On(n.prev,n,n.next)===0)){if(Qc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Yc(e,t,n,r,i,o,a){if(e){!a&&o&&Dk(e,r,i,o);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,o?Lk(e,r,i,o):Ck(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Qc(e),e=u.next,l=u.next;continue}if(e=u,e===l){a?a===1?(e=Rk(El(e),t,n),Yc(e,t,n,r,i,o,2)):a===2&&kk(e,t,n,r,i,o):Yc(El(e),t,n,r,i,o,1);break}}}}function Ck(e){var t=e.prev,n=e,r=e.next;if(On(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,l=t.y,s=n.y,u=r.y,f=i<o?i<a?i:a:o<a?o:a,h=l<s?l<u?l:u:s<u?s:u,c=i>o?i>a?i:a:o>a?o:a,m=l>s?l>u?l:u:s>u?s:u,g=r.next;g!==t;){if(g.x>=f&&g.x<=c&&g.y>=h&&g.y<=m&&As(i,l,o,s,a,u,g.x,g.y)&&On(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Lk(e,t,n,r){var i=e.prev,o=e,a=e.next;if(On(i,o,a)>=0)return!1;for(var l=i.x,s=o.x,u=a.x,f=i.y,h=o.y,c=a.y,m=l<s?l<u?l:u:s<u?s:u,g=f<h?f<c?f:c:h<c?h:c,S=l>s?l>u?l:u:s>u?s:u,A=f>h?f>c?f:c:h>c?h:c,v=Nv(m,g,t,n,r),_=Nv(S,A,t,n,r),y=e.prevZ,P=e.nextZ;y&&y.z>=v&&P&&P.z<=_;){if(y.x>=m&&y.x<=S&&y.y>=g&&y.y<=A&&y!==i&&y!==a&&As(l,f,s,h,u,c,y.x,y.y)&&On(y.prev,y,y.next)>=0||(y=y.prevZ,P.x>=m&&P.x<=S&&P.y>=g&&P.y<=A&&P!==i&&P!==a&&As(l,f,s,h,u,c,P.x,P.y)&&On(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;y&&y.z>=v;){if(y.x>=m&&y.x<=S&&y.y>=g&&y.y<=A&&y!==i&&y!==a&&As(l,f,s,h,u,c,y.x,y.y)&&On(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;P&&P.z<=_;){if(P.x>=m&&P.x<=S&&P.y>=g&&P.y<=A&&P!==i&&P!==a&&As(l,f,s,h,u,c,P.x,P.y)&&On(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function Rk(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!qh(i,o)&&x9(i,r,r.next,o)&&qc(i,o)&&qc(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Qc(r),Qc(r.next),r=e=o),r=r.next}while(r!==e);return El(r)}function kk(e,t,n,r,i,o){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&Bk(a,l)){var s=_9(a,l);a=El(a,a.next),s=El(s,s.next),Yc(a,t,n,r,i,o,0),Yc(s,t,n,r,i,o,0);return}l=l.next}a=a.next}while(a!==e)}function Ok(e,t,n,r){var i=[],o,a,l,s,u;for(o=0,a=t.length;o<a;o++)l=t[o]*r,s=o<a-1?t[o+1]*r:e.length,u=y9(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push($k(u));for(i.sort(Pk),o=0;o<i.length;o++)n=Nk(i[o],n);return n}function Pk(e,t){return e.x-t.x}function Nk(e,t){var n=Mk(e,t);if(!n)return t;var r=_9(n,e);return El(r,r.next),El(n,n.next)}function Mk(e,t){var n=t,r=e.x,i=e.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>o&&(o=l,a=n.x<n.next.x?n:n.next,l===r))return a}n=n.next}while(n!==t);if(!a)return null;var s=a,u=a.x,f=a.y,h=1/0,c;n=a;do r>=n.x&&n.x>=u&&r!==n.x&&As(i<f?r:o,i,u,f,i<f?o:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),qc(n,e)&&(c<h||c===h&&(n.x>a.x||n.x===a.x&&Ik(a,n)))&&(a=n,h=c)),n=n.next;while(n!==s);return a}function Ik(e,t){return On(e.prev,e,t.prev)<0&&On(t.next,e,e.next)<0}function Dk(e,t,n,r){var i=e;do i.z===0&&(i.z=Nv(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Fk(i)}function Fk(e){var t,n,r,i,o,a,l,s,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function Nv(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function $k(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function As(e,t,n,r,i,o,a,l){return(i-a)*(t-l)>=(e-a)*(o-l)&&(e-a)*(r-l)>=(n-a)*(t-l)&&(n-a)*(o-l)>=(i-a)*(r-l)}function Bk(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!jk(e,t)&&(qc(e,t)&&qc(t,e)&&zk(e,t)&&(On(e.prev,e,t.prev)||On(e,t.prev,t))||qh(e,t)&&On(e.prev,e,e.next)>0&&On(t.prev,t,t.next)>0)}function On(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function qh(e,t){return e.x===t.x&&e.y===t.y}function x9(e,t,n,r){var i=nd(On(e,t,n)),o=nd(On(e,t,r)),a=nd(On(n,r,e)),l=nd(On(n,r,t));return!!(i!==o&&a!==l||i===0&&td(e,n,t)||o===0&&td(e,r,t)||a===0&&td(n,e,r)||l===0&&td(n,t,r))}function td(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function nd(e){return e>0?1:e<0?-1:0}function jk(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&x9(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function qc(e,t){return On(e.prev,e,e.next)<0?On(e,t,e.next)>=0&&On(e,e.prev,t)>=0:On(e,t,e.prev)<0||On(e,e.next,t)<0}function zk(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function _9(e,t){var n=new Mv(e.i,e.x,e.y),r=new Mv(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E6(e,t,n,r){var i=new Mv(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Mv(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Yh.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(Iv(e,0,o,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,f=l<s-1?t[l+1]*n:e.length;a-=Math.abs(Iv(e,u,f,n))}var h=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,m=r[l+1]*n,g=r[l+2]*n;h+=Math.abs((e[c]-e[g])*(e[m+1]-e[c+1])-(e[c]-e[m])*(e[g+1]-e[c+1]))}return a===0&&h===0?0:Math.abs((h-a)/a)};function Iv(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Yh.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function w9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gk(e){return e.length===1&&(e=Uk(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function Uk(e){return function(t,n){return w9(e(t),n)}}Gk(w9);const mm=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:o,symbol:a,xDomain:l,yDomain:s,width:u,height:f})=>{const h=O.useRef();O.useRef();const c=O.useRef();return O.useRef(),O.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const g=u6(h.current),S=u/(l[1]-l[0]),A=f/(s[1]-s[0]),v=u/2-S*(l[1]+l[0])/2,_=f/2+A*(s[1]+s[0])/2,y=o/Math.sqrt(S*A)/2,P=g.select("g.hull-container");P.attr("transform",`translate(${v}, ${_}) scale(${S}, ${A})`);const F=o6().x(te=>te[0]).y(te=>-te[1]).curve(l6);let H=P.selectAll("path.hull").data(e);H.exit().transition().duration(i).delay(r).ease(m6).style("opacity",0).remove(),H.enter().append("path").classed("hull",!0).attr("d",F).style("fill",t).style("stroke",n).style("stroke-width",y).style("opacity",0).transition().delay(r+100).duration(i-100).ease(m6).style("opacity",.75),H.transition().duration(i).delay(r).ease(h9).style("opacity",.75).attrTween("d",function(te,K){const Ye=c.current?c.current[K]:null;if(!Ye)return()=>F(te);const de=Tk(F(Ye),F(te));return function(Ce){return de(Ce)}}),setTimeout(()=>{c.current=e},i)},[e]),O.useEffect(()=>{if(!l||!s||!e.length)return;const m=u6(h.current),g=u/(l[1]-l[0]),S=f/(s[1]-s[0]),A=u/2-g*(l[1]+l[0])/2,v=f/2+S*(s[1]+s[0])/2,_=o/Math.sqrt(g*S),y=m.select("g.hull-container");y.attr("transform",`translate(${A}, ${v}) scale(${g}, ${S})`);const P=o6().x(H=>H[0]).y(H=>-H[1]).curve(l6);let F=y.selectAll("path.hull").data(e);F.enter().append("path").classed("hull",!0).attr("d",P).style("fill",t).style("stroke",n).attr("stroke-width",_).style("opacity",.75),F.exit().remove(),F.attr("d",P)},[t,n,o,l,s,u,f]),M.jsx("svg",{ref:h,className:"hull-plot",width:u,height:f,children:M.jsx("g",{className:"hull-container"})})},Kr="https://api.latentscope.com/api",Vk=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),S6=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function rd(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function Hk(){var Dn;const[e,t]=O.useState(null),{dataset:n,scope:r}=D2(),i=Fh(),o=O.useRef(null),[a,l]=s();function s(){const[U,Ue]=O.useState([500,500]);return O.useEffect(()=>{function mt(){if(!o.current)return;const{height:Yt,width:Ve}=o.current.getBoundingClientRect();let vt=Ve>500?500:Ve-50;Ue([vt,vt])}return window.addEventListener("resize",mt),mt(),setTimeout(mt,100),()=>window.removeEventListener("resize",mt)},[]),U}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[f,h]=O.useState(0);O.useEffect(()=>{fetch(`${Kr}/datasets/${n}/meta`).then(U=>U.json()).then(U=>{console.log("dataset",U),t(U)})},[n,t]);const[c,m]=O.useState([]);O.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes`).then(U=>U.json()).then(U=>{m(U)})},[n,m]);const[g,S]=O.useState(200),[A,v]=O.useState(null);O.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes/${r}`).then(U=>U.json()).then(U=>{console.log("scope",U),v(U)})},[n,r,v]);const[_,y]=O.useState(null),[P,F]=O.useState(null),[H,te]=O.useState([]),[K,Ye]=O.useState([]),[de,Ce]=O.useState(_==null?void 0:_.id),[ze,Je]=O.useState([]);O.useEffect(()=>{fetch(`${Kr}/datasets/${n}/embeddings`).then(U=>U.json()).then(U=>{Je(U)})},[n,Je]);const[be,Rt]=O.useState([]),[it,at]=O.useState([]),[ve,Re]=O.useState([]);O.useEffect(()=>{A&&(y(ze.find(U=>U.id==A.embedding_id)),Promise.all([fetch(`${Kr}/datasets/${n}/umaps/${A.umap_id}`).then(U=>U.json()),fetch(`${Kr}/datasets/${n}/umaps/${A.umap_id}/points`).then(U=>U.json()),fetch(`${Kr}/datasets/${n}/clusters/${A.cluster_id}/labels/${A.cluster_labels_id.split("-")[3]||A.cluster_labels_id}`).then(U=>U.json()),fetch(`${Kr}/datasets/${n}/clusters/${A.cluster_id}/indices`).then(U=>U.json())]).then(([U,Ue,mt,Yt])=>{F(U);const Ve=Ue.map(wt=>[wt.x,wt.y]);Rt(Ve);const vt=Ue.map((wt,yn)=>[wt.x,wt.y,Yt[yn].cluster]);at(vt),Re([]),Ye(mt),te(Yt),setTimeout(()=>{Re(rd(mt,Ve))},100)}).catch(U=>console.error("Fetching data failed",U)))},[n,A,ze,F,Ye,y,Ce]),O.useMemo(()=>H.map(U=>U.cluster),[H]),O.useEffect(()=>{if(_&&_.model_id)Ce(_.id);else if(ze.length){const U=ze.find(Ue=>!!Ue.model_id);U&&Ce(U.id)}},[_,ze,Ce]),O.useEffect(()=>{console.log("search model",de)},[de]);const Ae=U=>{console.log("selected",U),Ce(U)},Te=O.useCallback((U,Ue,mt=[])=>{fetch(`${Kr}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:U})}).then(Yt=>Yt.json()).then(Yt=>{if(!e)return;let Ve=Yt.map((vt,wt)=>({index:U[wt],...vt}));Ue(Ve)})},[e,n]),[De,kt]=O.useState({}),[Mt,Zt]=O.useState([-1,1]),[Ot,It]=O.useState([-1,1]),Bt=O.useCallback((U,Ue)=>{Zt(U),It(Ue)},[Zt,It]),[Ct,rn]=O.useState([]),fn=O.useCallback(U=>{console.log("handle selected",U),rn(U),h(0)},[rn,h]),[Dt,Jt]=O.useState(null),[ot,Lt]=O.useState(null);O.useEffect(()=>{Dt!=null?Te([Dt],U=>{Lt(U[0])}):Lt(null)},[Dt,Lt,Te]);const[St,bt]=O.useState(null);O.useEffect(()=>{if(ot&&H.length&&K.length){const U=ot.index,Ue=H[U],mt=K[Ue==null?void 0:Ue.cluster];bt({cluster:Ue.cluster,...mt})}else bt(null)},[ot,H,K,bt]);const[st,Xt]=O.useState([]);O.useEffect(()=>{Dt!=null?Xt([be[Dt]]):Xt([])},[Dt,be]);const[Gt,sn]=O.useState({});O.useEffect(()=>{fetch(`${Kr}/tags?dataset=${n}`).then(U=>U.json()).then(U=>sn(U))},[n]);const Qn=O.useMemo(()=>{const U=[];for(const Ue in Gt)U.push(Ue);return U},[Gt]),[w,he]=O.useState(Qn[0]),[We,ue]=O.useState([]);O.useEffect(()=>{if(Gt[w]){const U=Gt[w].map(Ue=>be[Ue]);ue(U)}else ue([]),De&&De.config&&(De==null||De.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Gt,w,be,De,ue]);const[dt,ht]=O.useState([]),[Le,Pt]=O.useState([]),Ht=O.useCallback(U=>{fetch(`${Kr}/search/nn?dataset=${n}&query=${U}&embedding_id=${de}`).then(Ue=>Ue.json()).then(Ue=>{Pt(Ue.distances),ht(Ue.indices),De==null||De.zoomToPoints(Ue.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[de,n,De,Pt,ht]),[ut,jt]=O.useState([]);O.useEffect(()=>{const U=dt.map(Ue=>be[Ue]);jt(U)},[dt,be]);const[xt,$t]=O.useState(null),[dn,hn]=O.useState([]);O.useEffect(()=>{if(xt){const U=xt.indices.map(Ue=>be[Ue]);hn(U)}else hn([]),De&&De.config&&(De==null||De.zoomToOrigin({transition:!0,transitionDuration:1500}))},[xt,be,De,hn]);const[Gn,In]=O.useState((xt==null?void 0:xt.label)||"");O.useEffect(()=>{In((xt==null?void 0:xt.label)||"")},[xt]);const Un=O.useCallback(U=>{De==null||De.zoomToPoints([U],{transition:!0,padding:.9,transitionDuration:1500})},[De]),cn=O.useCallback(U=>{Jt(U)},[Jt]),Er=O.useCallback((U,Ue)=>{console.log("update label",U,Ue),fetch(`${Kr}/datasets/${n}/clusters/${A.cluster_id}/labels/${A.cluster_labels_id}/label/${U}?label=${Ue}`).then(mt=>mt.json()).then(mt=>{fetch(`${Kr}/datasets/${n}/clusters/${A.cluster_id}/labels/${A.cluster_labels_id}`).then(Yt=>Yt.json()).then(Yt=>{console.log("got new labels",Yt),Ye(Yt),Re(rd(Yt,be))}).catch(console.error)}).catch(console.error)},[n,A]),gn=O.useCallback(()=>{$t(null)},[]);return e?M.jsxs("div",{ref:o,className:"container",children:[M.jsxs("div",{className:"left-column",children:[M.jsxs("div",{className:"summary",children:[M.jsxs("div",{className:"scope-card",children:[S6()?M.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,M.jsxs("div",{className:"heading",children:[M.jsx("select",{className:"scope-selector",onChange:U=>{gn(),S(2e3),i(`/datasets/${e==null?void 0:e.id}/explore/${U.target.value}`)},children:c.map((U,Ue)=>M.jsxs("option",{value:U.id,selected:U.id===(A==null?void 0:A.id),children:[U.label," (",U.id,")"]},Ue))}),null,null]}),M.jsx("span",{children:A==null?void 0:A.description}),M.jsx("span",{children:_==null?void 0:_.model_id}),M.jsxs("span",{children:[K==null?void 0:K.length," clusters"]})]}),M.jsx("div",{className:"dataset-card",children:M.jsxs("span",{children:[M.jsx("b",{children:n}),"  ",e==null?void 0:e.length," rows"]})})]}),M.jsxs("div",{className:"umap-container",children:[M.jsx("div",{className:"scatters",style:{width:a,height:l},children:be.length?M.jsxs(M.Fragment,{children:[Vk()?M.jsx(ia,{points:be,fill:"gray",size:"8",xDomain:Mt,yDomain:Ot,width:a,height:l}):M.jsx(rg,{points:it,duration:2e3,width:a,height:l,colorScaleType:"categorical",onScatter:kt,onView:Bt,onSelect:fn,onHover:cn}),St&&St.hull&&!A.ignore_hulls?M.jsx(mm,{hulls:rd([St],be),fill:"lightgray",duration:0,xDomain:Mt,yDomain:Ot,width:a,height:l}):null,xt&&xt.hull&&!A.ignore_hulls?M.jsx(mm,{hulls:rd([xt],be),fill:"darkgray",strokeWidth:2,duration:0,xDomain:Mt,yDomain:Ot,width:a,height:l}):null,ve.length&&!A.ignore_hulls?M.jsx(mm,{hulls:ve,stroke:"black",fill:"none",delay:g,duration:200,strokeWidth:1,xDomain:Mt,yDomain:Ot,width:a,height:l}):null,M.jsx(ia,{points:ut,stroke:"black",fill:"steelblue",size:"8",xDomain:Mt,yDomain:Ot,width:a,height:l}),M.jsx(ia,{points:dn,fill:"darkred",size:"8",xDomain:Mt,yDomain:Ot,width:a,height:l}),M.jsx(ia,{points:We,symbol:w,size:"20",xDomain:Mt,yDomain:Ot,width:a,height:l}),M.jsx(ia,{points:st,stroke:"black",fill:"orange",size:"16",xDomain:Mt,yDomain:Ot,width:a,height:l})]}):null}),S6()?null:M.jsxs("div",{className:"hovered-point",children:[St?M.jsxs("span",{children:[M.jsxs("span",{className:"key",children:["Cluster ",St.index,":"]}),M.jsx("span",{className:"value",children:St.label})]}):null,ot&&Object.keys(ot).map((U,Ue)=>{let mt=ot[U];typeof mt=="object"&&!Array.isArray(mt)&&(mt=JSON.stringify(mt));let Yt=e.column_metadata&&e.column_metadata[U],Ve;return Yt&&Yt.image?Ve=M.jsx("span",{className:"value",children:M.jsx("img",{src:mt,alt:U,height:64})},Ue):Yt&&Yt.url?Ve=M.jsx("span",{className:"value",children:M.jsx("a",{href:mt,children:"url"})},Ue):Yt&&Yt.type=="array"?Ve=M.jsxs("span",{className:"value",children:["[",mt.length,"]"]},Ue):Ve=M.jsx("span",{className:"value",children:mt},Ue),M.jsxs("span",{children:[M.jsxs("span",{className:"key",children:[U,":"]}),Ve]},U)})]})]})]}),M.jsxs("div",{className:"data",children:[M.jsx("div",{className:"tab-header",children:u.map(U=>M.jsx("button",{onClick:()=>h(U.id),className:U.id===f?"tab-active":"tab-inactive",children:U.name},U.id))}),f===0?M.jsxs("div",{className:"tab-content",children:[M.jsxs("span",{children:["Selected: ",Ct==null?void 0:Ct.length,(Ct==null?void 0:Ct.length)>0?M.jsx("button",{className:"deselect",onClick:()=>{rn([]),De==null||De.select([]),De==null||De.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Ct==null?void 0:Ct.length)>0?M.jsx(al,{indices:Ct,clusterIndices:H,clusterLabels:K,tagset:Gt,dataset:e,maxRows:150,onTagset:U=>sn(U),onHover:cn,onClick:Un}):null]}):null,f===1?M.jsxs("div",{className:"tab-content",children:[M.jsx("div",{className:"search-box",children:M.jsxs("form",{onSubmit:U=>{U.preventDefault(),Ht(U.target.elements.searchBox.value),h(1)},children:[M.jsx("input",{type:"text",id:"searchBox"}),M.jsx("button",{type:"submit",children:"Similarity Search"}),M.jsx("br",{}),M.jsx("label",{htmlFor:"embeddingModel"}),M.jsx("select",{id:"embeddingModel",onChange:U=>Ae(U.target.value),value:de,children:ze.filter(U=>U.model_id).map((U,Ue)=>M.jsxs("option",{value:U.id,children:[U.id," - ",U.model_id," - ",U.dimensions]},Ue))})]})}),M.jsxs("span",{children:[dt.length?M.jsxs("span",{children:["Nearest Neighbors: ",dt.length," (capped at 150) "]}):null,dt.length>0?M.jsx("button",{className:"deselect",onClick:()=>{ht([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),dt.length>0?M.jsx(al,{indices:dt,distances:Le,clusterIndices:H,clusterLabels:K,tagset:Gt,dataset:e,onTagset:U=>sn(U),onHover:cn,onClick:Un}):null]}):null,f===2?M.jsxs("div",{className:"tab-content",children:[M.jsx("div",{className:"clusters-select",children:M.jsxs("select",{onChange:U=>{const Ue=K.find(mt=>mt.index===+U.target.value);Ue&&$t(Ue)},value:xt==null?void 0:xt.index,children:[M.jsx("option",{value:"",children:"Select a cluster"}),K.map((U,Ue)=>M.jsxs("option",{value:U.index,children:[U.index,": ",U.label]},Ue))]})}),M.jsxs("div",{className:"cluster-selected",children:[xt?M.jsxs("form",{onSubmit:U=>{U.preventDefault(),Er(xt.index,Gn)},children:[M.jsx("input",{type:"text",id:"new-label",value:Gn,onChange:U=>In(U.target.value)}),M.jsx("button",{type:"submit",children:"Update Label"})]}):null,M.jsxs("span",{children:[xt==null?void 0:xt.indices.length," ",xt!=null&&xt.indices.length?"Rows":"",xt?M.jsx("button",{className:"deselect",onClick:()=>{$t(null)},children:"X"}):null]})]}),M.jsx("div",{className:"cluster-table",children:xt!=null&&xt.indices?M.jsx(al,{indices:xt==null?void 0:xt.indices,clusterIndices:H,clusterLabels:K,dataset:e,tagset:Gt,onTagset:U=>sn(U),onHover:cn,onClick:Un}):null})]}):null,f===3?M.jsxs("div",{className:"tab-content",children:[M.jsxs("div",{className:"tags-box",children:[M.jsxs("div",{className:"tags-select",children:["Tags: ",Qn.map(U=>M.jsxs("button",{className:"dataset--tag-link",onClick:()=>{he(U),h(3),De==null||De.zoomToPoints(Gt[U],{transition:!0,padding:.2,transitionDuration:1500})},children:[U,"(",Gt[U].length,")"]},U))]}),null]}),M.jsxs("span",{children:[w," ",(Dn=Gt[w])==null?void 0:Dn.length,w?M.jsx("button",{className:"deselect",onClick:()=>{he(null)},children:"X"}):null]}),Gt[w]?M.jsx(al,{indices:Gt[w],clusterIndices:H,clusterLabels:K,tagset:Gt,dataset:e,onTagset:U=>sn(U),onHover:cn,onClick:Un}):null]}):null]})]}):M.jsx("div",{children:"Loading..."})}const Wk="_container_j6tyv_1",Xk="_data_j6tyv_12",Yk="_scatters_j6tyv_25",qk="_scatter_j6tyv_25",Qk="_controls_j6tyv_36",Kk="_summary_j6tyv_42",Zk="_heading_j6tyv_52",Jk="_key_j6tyv_104",eO="_value_j6tyv_108",tO="_deselect_j6tyv_248",nO="_cluster_j6tyv_280",or={container:Wk,data:Xk,"umap-container":"_umap-container_j6tyv_19",scatters:Yk,scatter:qk,"tab-tables":"_tab-tables_j6tyv_29",controls:Qk,summary:Kk,heading:Zk,"scope-card":"_scope-card_j6tyv_71","scope-selector":"_scope-selector_j6tyv_76","umap-selectors":"_umap-selectors_j6tyv_80","hovered-point":"_hovered-point_j6tyv_98",key:Jk,value:eO,"tab-header":"_tab-header_j6tyv_125","tab-active":"_tab-active_j6tyv_154","tab-content":"_tab-content_j6tyv_175","tags-box":"_tags-box_j6tyv_214","new-tag":"_new-tag_j6tyv_222","search-box":"_search-box_j6tyv_238","tab-neighbors":"_tab-neighbors_j6tyv_248",deselect:tO,"slide-bar":"_slide-bar_j6tyv_261",cluster:nO};console.log("styles",or);const Jo="https://api.latentscope.com/api",rO=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),iO=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function oO(){const[e,t]=O.useState(null),{dataset:n}=D2();Fh();const r=O.useRef(null),[i,o]=a();function a(){const[he,We]=O.useState([500,500]);return O.useEffect(()=>{function ue(){if(!r.current)return;const{height:dt,width:ht}=r.current.getBoundingClientRect();We([ht-15,dt-25])}return window.addEventListener("resize",ue),ue(),setTimeout(ue,200),()=>window.removeEventListener("resize",ue)},[]),he}const l=[{id:0,name:"Selected"},{id:1,name:"Search"}],[s,u]=O.useState(0);O.useEffect(()=>{fetch(`${Jo}/datasets/${n}/meta`).then(he=>he.json()).then(he=>{console.log("dataset",he),t(he)})},[n,t]);const[f,h]=O.useState([]),[c,m]=O.useState([]);O.useEffect(()=>{Promise.all([fetch(`${Jo}/datasets/${n}/embeddings`).then(he=>he.json()),fetch(`${Jo}/datasets/${n}/umaps`).then(he=>he.json())]).then(([he,We])=>{console.log("embeddings",he),console.log("umaps",We),h(he),We.sort((ue,dt)=>dt.align_id<ue.align_id?-1:dt.align_id>ue.align_id?1:ue.id<dt.id?-1:ue.id>dt.id?1:0),m(We)})},[n,h,m]);const[g,S]=O.useState("left"),[A,v]=O.useState(null),[_,y]=O.useState(null);O.useEffect(()=>{c&&(v(c[0]),y(c[1]))},[c]);const[P,F]=O.useState(null),[H,te]=O.useState([]),[K,Ye]=O.useState([]),de=O.useRef([]),Ce=O.useRef([]);O.useEffect(()=>{if(c&&A&&_&&g){const he=g==="left"?A:_;Promise.all([fetch(`${Jo}/datasets/${n}/umaps/${he.id}`).then(We=>We.json()),fetch(`${Jo}/datasets/${n}/umaps/${he.id}/points`).then(We=>We.json())]).then(([We,ue])=>{F(We);const dt=ue.map(Le=>[Le.x,Le.y]);te(dt),Ce.current=dt;const ht=ue.map((Le,Pt)=>{let Ht=de.current[Pt];return[Le.x,Le.y,Ht?Ht[2]:0]});Ye(ht),de.current=ht}).catch(We=>console.error("Fetching data failed",We))}},[n,g,A,_,c,F,te,Ye]);let ze=O.useRef(!1),Je=O.useRef("");const[be,Rt]=O.useState(!1);O.useEffect(()=>{let he=(A==null?void 0:A.id)+(_==null?void 0:_.id)+ze.current;A&&_&&H.length&&Je.current!==he&&(Rt(!0),fetch(`${Jo}/search/compare?dataset=${n}&umap_left=${A.id}&umap_right=${_.id}&k=10`).then(We=>We.json()).then(We=>{const ue=U8(k8(We),[0,1]),dt=Ce.current.map((ht,Le)=>[ht[0],ht[1],ue(We[Le])]);Ye(dt),de.current=dt,Rt(!1),ze.current=!0,Je.current=(A==null?void 0:A.id)+(_==null?void 0:_.id)+ze.current}))},[n,A,_,H]);const[it,at]=O.useState(null);O.useEffect(()=>{f&&at(f[0])},[f,at]);const ve=O.useCallback(he=>{console.log("selected",he),at(f.find(We=>We.id==he))},[f]);O.useCallback((he,We,ue=[])=>{fetch(`${Jo}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:he})}).then(dt=>dt.json()).then(dt=>{if(!e)return;let ht=dt.map((Le,Pt)=>({index:he[Pt],...Le}));We(ht)})},[e,n]);const[Re,Ae]=O.useState({}),[Te,De]=O.useState([-1,1]),[kt,Mt]=O.useState([-1,1]),Zt=O.useCallback((he,We)=>{De(he),Mt(We)},[De,Mt]),[Ot,It]=O.useState([]),Bt=O.useCallback(he=>{console.log("handle selected",he),It(he),u(0)},[It,u]),[Ct,rn]=O.useState(null);O.useState(null);const[fn,Dt]=O.useState([]);O.useEffect(()=>{Ct!=null?Dt([H[Ct]]):Dt([])},[Ct,H]);const[Jt,ot]=O.useState([]),[Lt,St]=O.useState([]),bt=O.useCallback(he=>{fetch(`${Jo}/search/nn?dataset=${n}&query=${he}&embedding_id=${it.id}&dimensions=${it.dimensions}`).then(We=>We.json()).then(We=>{St(We.distances),ot(We.indices),Re==null||Re.zoomToPoints(We.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[it,n,Re,St,ot]),[st,Xt]=O.useState([]);O.useEffect(()=>{const he=Jt.map(We=>H[We]);Xt(he)},[Jt,H]);const Gt=O.useCallback(he=>{Re==null||Re.zoomToPoints([he],{transition:!0,padding:.9,transitionDuration:1500})},[Re]),sn=O.useCallback(he=>{rn(he)},[rn]),Qn=O.useCallback(he=>{v(c.find(We=>We.id==he.target.value)),S("left")},[c,v,S]),w=O.useCallback(he=>{y(c.find(We=>We.id==he.target.value)),S("right")},[c,y,S]);return e?M.jsxs("div",{className:or.container,children:[M.jsx("div",{className:or.controls,children:M.jsxs("div",{className:or.summary,children:[M.jsxs("div",{className:or["scope-card"],children:[iO()?M.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,M.jsxs("div",{className:or.heading,children:[M.jsx("b",{children:n}),M.jsxs("span",{children:[e==null?void 0:e.length," rows"]}),null]})]}),M.jsxs("div",{className:or["umap-selectors"],children:[M.jsx("select",{name:"left",value:A==null?void 0:A.id,onChange:Qn,children:c.map((he,We)=>{let ue=f.find(dt=>he.embedding_id==dt.id);return M.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ue==null?void 0:ue.model_id," [",ue==null?void 0:ue.dimensions,"] ",he.align_id]},We)})}),M.jsxs("div",{children:[M.jsxs("label",{children:["",M.jsx("input",{type:"radio",value:"left",name:"direction",checked:g==="left",onChange:()=>S("left")})]}),M.jsxs("label",{children:[M.jsx("input",{type:"radio",value:"right",name:"direction",checked:g==="right",onChange:()=>S("right")})," "]})]}),M.jsx("select",{name:"right",onChange:w,value:_==null?void 0:_.id,children:c.map((he,We)=>{let ue=f.find(dt=>he.embedding_id==dt.id);return M.jsxs("option",{value:he.id,children:[he.embedding_id," - ",he.id," - ",ue==null?void 0:ue.model_id," [",ue==null?void 0:ue.dimensions,"] ",he.align_id]},We)})})]})]})}),M.jsx("div",{ref:r,className:or["umap-container"],children:M.jsx("div",{className:or.scatters,style:{width:i,height:o},children:H.length?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:or.scatter,children:rO()?M.jsx(ia,{points:H,fill:"gray",size:"8",xDomain:Te,yDomain:kt,width:i,height:o}):M.jsx(rg,{points:K,duration:2e3,pointScale:1.5,width:i,height:o,colorScaleType:"continuous",colorInterpolator:hA,opacityBy:"valueA",onScatter:Ae,onView:Zt,onSelect:Bt,onHover:sn})}),M.jsx(ia,{points:st,stroke:"black",fill:"steelblue",size:"8",xDomain:Te,yDomain:kt,width:i,height:o}),M.jsx(ia,{points:fn,stroke:"black",fill:"orange",size:"16",xDomain:Te,yDomain:kt,width:i,height:o})]}):null})}),M.jsxs("div",{className:or.data,children:[M.jsx("div",{className:or["tab-header"],children:l.map(he=>M.jsx("button",{onClick:()=>u(he.id),className:he.id===s?or["tab-active"]:or["tab-inactive"],children:he.name},he.id))}),s===0?M.jsxs("div",{className:or["tab-content"],children:[M.jsxs("span",{children:["Selected: ",Ot==null?void 0:Ot.length,(Ot==null?void 0:Ot.length)>0?M.jsx("button",{className:or.deselect,onClick:()=>{It([]),Re==null||Re.select([]),Re==null||Re.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Ot==null?void 0:Ot.length)>0?M.jsx(al,{indices:Ot,dataset:e,maxRows:150,onHover:sn,onClick:Gt}):null]}):null,s===1?M.jsxs("div",{className:or["tab-content"],children:[M.jsx("div",{className:or["search-box"],children:M.jsxs("form",{onSubmit:he=>{he.preventDefault(),bt(he.target.elements.searchBox.value),u(1)},children:[M.jsx("input",{type:"text",id:"searchBox"}),M.jsx("button",{type:"submit",children:"Similarity Search"}),M.jsx("br",{}),M.jsx("label",{htmlFor:"embeddingModel"}),M.jsx("select",{id:"embeddingModel",onChange:he=>ve(he.target.value),defaultValue:it==null?void 0:it.id,children:f.map((he,We)=>M.jsxs("option",{value:he.id,children:[he.id," - ",he.model_id," - ",he.dimensions]},We))})]})}),M.jsxs("span",{children:[Jt.length?M.jsxs("span",{children:["Nearest Neighbors: ",Jt.length," (capped at 150) "]}):null,Jt.length>0?M.jsx("button",{className:or.deselect,onClick:()=>{ot([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Jt.length>0?M.jsx(al,{indices:Jt,distances:Lt,dataset:e,onHover:sn,onClick:Gt}):null]}):null]})]}):M.jsx("div",{children:"Loading..."})}const Xs=Math.min,dl=Math.max,mh=Math.round,id=Math.floor,wa=e=>({x:e,y:e}),aO={left:"right",right:"left",bottom:"top",top:"bottom"},lO={start:"end",end:"start"};function Dv(e,t,n){return dl(e,Xs(t,n))}function sf(e,t){return typeof e=="function"?e(t):e}function Sl(e){return e.split("-")[0]}function uf(e){return e.split("-")[1]}function E9(e){return e==="x"?"y":"x"}function ug(e){return e==="y"?"height":"width"}function Qh(e){return["top","bottom"].includes(Sl(e))?"y":"x"}function cg(e){return E9(Qh(e))}function sO(e,t,n){n===void 0&&(n=!1);const r=uf(e),i=cg(e),o=ug(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=vh(a)),[a,vh(a)]}function uO(e){const t=vh(e);return[Fv(e),t,Fv(t)]}function Fv(e){return e.replace(/start|end/g,t=>lO[t])}function cO(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function fO(e,t,n,r){const i=uf(e);let o=cO(Sl(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Fv)))),o}function vh(e){return e.replace(/left|right|bottom|top/g,t=>aO[t])}function dO(e){return{top:0,right:0,bottom:0,left:0,...e}}function S9(e){return typeof e!="number"?dO(e):{top:e,right:e,bottom:e,left:e}}function gh(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function b6(e,t,n){let{reference:r,floating:i}=e;const o=Qh(t),a=cg(t),l=ug(a),s=Sl(t),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,c=r[l]/2-i[l]/2;let m;switch(s){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(uf(t)){case"start":m[a]-=c*(n&&u?-1:1);break;case"end":m[a]+=c*(n&&u?-1:1);break}return m}const hO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=b6(u,r,s),c=r,m={},g=0;for(let S=0;S<l.length;S++){const{name:A,fn:v}=l[S],{x:_,y,data:P,reset:F}=await v({x:f,y:h,initialPlacement:r,placement:c,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=_??f,h=y??h,m={...m,[A]:{...m[A],...P}},F&&g<=50&&(g++,typeof F=="object"&&(F.placement&&(c=F.placement),F.rects&&(u=F.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:f,y:h}=b6(u,c,s)),S=-1)}return{x:f,y:h,placement:c,strategy:i,middlewareData:m}};async function b9(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:c=!1,padding:m=0}=sf(t,e),g=S9(m),A=l[c?h==="floating"?"reference":"floating":h],v=gh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(A)))==null||n?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:s})),_=h==="floating"?{...a.floating,x:r,y:i}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),P=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},F=gh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:y,strategy:s}):_);return{top:(v.top-F.top+g.top)/P.y,bottom:(F.bottom-v.bottom+g.bottom)/P.y,left:(v.left-F.left+g.left)/P.x,right:(F.right-v.right+g.right)/P.x}}const pO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:s}=t,{element:u,padding:f=0}=sf(e,t)||{};if(u==null)return{};const h=S9(f),c={x:n,y:r},m=cg(i),g=ug(m),S=await a.getDimensions(u),A=m==="y",v=A?"top":"left",_=A?"bottom":"right",y=A?"clientHeight":"clientWidth",P=o.reference[g]+o.reference[m]-c[m]-o.floating[g],F=c[m]-o.reference[m],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let te=H?H[y]:0;(!te||!await(a.isElement==null?void 0:a.isElement(H)))&&(te=l.floating[y]||o.floating[g]);const K=P/2-F/2,Ye=te/2-S[g]/2-1,de=Xs(h[v],Ye),Ce=Xs(h[_],Ye),ze=de,Je=te-S[g]-Ce,be=te/2-S[g]/2+K,Rt=Dv(ze,be,Je),it=!s.arrow&&uf(i)!=null&&be!==Rt&&o.reference[g]/2-(be<ze?de:Ce)-S[g]/2<0,at=it?be<ze?be-ze:be-Je:0;return{[m]:c[m]+at,data:{[m]:Rt,centerOffset:be-Rt-at,...it&&{alignmentOffset:at}},reset:it}}}),mO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:c,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:S=!0,...A}=sf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Sl(i),_=Sl(l)===l,y=await(s.isRTL==null?void 0:s.isRTL(u.floating)),P=c||(_||!S?[vh(l)]:uO(l));!c&&g!=="none"&&P.push(...fO(l,S,g,y));const F=[l,...P],H=await b9(t,A),te=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&te.push(H[v]),h){const ze=sO(i,a,y);te.push(H[ze[0]],H[ze[1]])}if(K=[...K,{placement:i,overflows:te}],!te.every(ze=>ze<=0)){var Ye,de;const ze=(((Ye=o.flip)==null?void 0:Ye.index)||0)+1,Je=F[ze];if(Je)return{data:{index:ze,overflows:K},reset:{placement:Je}};let be=(de=K.filter(Rt=>Rt.overflows[0]<=0).sort((Rt,it)=>Rt.overflows[1]-it.overflows[1])[0])==null?void 0:de.placement;if(!be)switch(m){case"bestFit":{var Ce;const Rt=(Ce=K.map(it=>[it.placement,it.overflows.filter(at=>at>0).reduce((at,ve)=>at+ve,0)]).sort((it,at)=>it[1]-at[1])[0])==null?void 0:Ce[0];Rt&&(be=Rt);break}case"initialPlacement":be=l;break}if(i!==be)return{reset:{placement:be}}}return{}}}};async function vO(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Sl(n),l=uf(n),s=Qh(n)==="y",u=["left","top"].includes(a)?-1:1,f=o&&s?-1:1,h=sf(t,e);let{mainAxis:c,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),s?{x:m*f,y:c*u}:{x:c*u,y:m*f}}const gO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=t,s=await vO(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:a}}}}},yO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:A=>{let{x:v,y:_}=A;return{x:v,y:_}}},...s}=sf(e,t),u={x:n,y:r},f=await b9(t,s),h=Qh(Sl(i)),c=E9(h);let m=u[c],g=u[h];if(o){const A=c==="y"?"top":"left",v=c==="y"?"bottom":"right",_=m+f[A],y=m-f[v];m=Dv(_,m,y)}if(a){const A=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=g+f[A],y=g-f[v];g=Dv(_,g,y)}const S=l.fn({...t,[c]:m,[h]:g});return{...S,data:{x:S.x-n,y:S.y-r}}}}};function Ea(e){return T9(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(e){var t;return(t=(T9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function T9(e){return e instanceof Node||e instanceof ti(e).Node}function Co(e){return e instanceof Element||e instanceof ti(e).Element}function Ji(e){return e instanceof HTMLElement||e instanceof ti(e).HTMLElement}function T6(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot}function cf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function xO(e){return["table","td","th"].includes(Ea(e))}function fg(e){const t=dg(),n=yi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _O(e){let t=Ys(e);for(;Ji(t)&&!Kh(t);){if(fg(t))return t;t=Ys(t)}return null}function dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(e){return["html","body","#document"].includes(Ea(e))}function yi(e){return ti(e).getComputedStyle(e)}function Zh(e){return Co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ys(e){if(Ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||T6(e)&&e.host||Ro(e);return T6(t)?t.host:t}function A9(e){const t=Ys(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ji(t)&&cf(t)?t:A9(t)}function Kc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=A9(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=ti(i);return o?t.concat(a,a.visualViewport||[],cf(i)?i:[],a.frameElement&&n?Kc(a.frameElement):[]):t.concat(i,Kc(i,[],n))}function C9(e){const t=yi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ji(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=mh(n)!==o||mh(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function hg(e){return Co(e)?e:e.contextElement}function Is(e){const t=hg(e);if(!Ji(t))return wa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=C9(t);let a=(o?mh(n.width):n.width)/r,l=(o?mh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const wO=wa(0);function L9(e){const t=ti(e);return!dg()||!t.visualViewport?wO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ti(e)?!1:t}function bl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=hg(e);let a=wa(1);t&&(r?Co(r)&&(a=Is(r)):a=Is(e));const l=EO(o,n,r)?L9(o):wa(0);let s=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(o){const c=ti(o),m=r&&Co(r)?ti(r):r;let g=c,S=g.frameElement;for(;S&&r&&m!==g;){const A=Is(S),v=S.getBoundingClientRect(),_=yi(S),y=v.left+(S.clientLeft+parseFloat(_.paddingLeft))*A.x,P=v.top+(S.clientTop+parseFloat(_.paddingTop))*A.y;s*=A.x,u*=A.y,f*=A.x,h*=A.y,s+=y,u+=P,g=ti(S),S=g.frameElement}}return gh({width:f,height:h,x:s,y:u})}const SO=[":popover-open",":modal"];function R9(e){return SO.some(t=>{try{return e.matches(t)}catch{return!1}})}function bO(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Ro(r),l=t?R9(t.floating):!1;if(r===a||l&&o)return n;let s={scrollLeft:0,scrollTop:0},u=wa(1);const f=wa(0),h=Ji(r);if((h||!h&&!o)&&((Ea(r)!=="body"||cf(a))&&(s=Zh(r)),Ji(r))){const c=bl(r);u=Is(r),f.x=c.x+r.clientLeft,f.y=c.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function TO(e){return Array.from(e.getClientRects())}function k9(e){return bl(Ro(e)).left+Zh(e).scrollLeft}function AO(e){const t=Ro(e),n=Zh(e),r=e.ownerDocument.body,i=dl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=dl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+k9(e);const l=-n.scrollTop;return yi(r).direction==="rtl"&&(a+=dl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}function CO(e,t){const n=ti(e),r=Ro(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,s=0;if(i){o=i.width,a=i.height;const u=dg();(!u||u&&t==="fixed")&&(l=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:l,y:s}}function LO(e,t){const n=bl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ji(e)?Is(e):wa(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,s=i*o.x,u=r*o.y;return{width:a,height:l,x:s,y:u}}function A6(e,t,n){let r;if(t==="viewport")r=CO(e,n);else if(t==="document")r=AO(Ro(e));else if(Co(t))r=LO(t,n);else{const i=L9(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return gh(r)}function O9(e,t){const n=Ys(e);return n===t||!Co(n)||Kh(n)?!1:yi(n).position==="fixed"||O9(n,t)}function RO(e,t){const n=t.get(e);if(n)return n;let r=Kc(e,[],!1).filter(l=>Co(l)&&Ea(l)!=="body"),i=null;const o=yi(e).position==="fixed";let a=o?Ys(e):e;for(;Co(a)&&!Kh(a);){const l=yi(a),s=fg(a);!s&&l.position==="fixed"&&(i=null),(o?!s&&!i:!s&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cf(a)&&!s&&O9(e,a))?r=r.filter(f=>f!==a):i=l,a=Ys(a)}return t.set(e,r),r}function kO(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?RO(t,this._c):[].concat(n),r],l=a[0],s=a.reduce((u,f)=>{const h=A6(t,f,i);return u.top=dl(h.top,u.top),u.right=Xs(h.right,u.right),u.bottom=Xs(h.bottom,u.bottom),u.left=dl(h.left,u.left),u},A6(t,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function OO(e){const{width:t,height:n}=C9(e);return{width:t,height:n}}function PO(e,t,n){const r=Ji(t),i=Ro(t),o=n==="fixed",a=bl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const s=wa(0);if(r||!r&&!o)if((Ea(t)!=="body"||cf(i))&&(l=Zh(t)),r){const h=bl(t,!0,o,t);s.x=h.x+t.clientLeft,s.y=h.y+t.clientTop}else i&&(s.x=k9(i));const u=a.left+l.scrollLeft-s.x,f=a.top+l.scrollTop-s.y;return{x:u,y:f,width:a.width,height:a.height}}function C6(e,t){return!Ji(e)||yi(e).position==="fixed"?null:t?t(e):e.offsetParent}function P9(e,t){const n=ti(e);if(!Ji(e)||R9(e))return n;let r=C6(e,t);for(;r&&xO(r)&&yi(r).position==="static";)r=C6(r,t);return r&&(Ea(r)==="html"||Ea(r)==="body"&&yi(r).position==="static"&&!fg(r))?n:r||_O(e)||n}const NO=async function(e){const t=this.getOffsetParent||P9,n=this.getDimensions;return{reference:PO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function MO(e){return yi(e).direction==="rtl"}const IO={convertOffsetParentRelativeRectToViewportRelativeRect:bO,getDocumentElement:Ro,getClippingRect:kO,getOffsetParent:P9,getElementRects:NO,getClientRects:TO,getDimensions:OO,getScale:Is,isElement:Co,isRTL:MO};function DO(e,t){let n=null,r;const i=Ro(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),o();const{left:u,top:f,width:h,height:c}=e.getBoundingClientRect();if(l||t(),!h||!c)return;const m=id(f),g=id(i.clientWidth-(u+h)),S=id(i.clientHeight-(f+c)),A=id(u),_={rootMargin:-m+"px "+-g+"px "+-S+"px "+-A+"px",threshold:dl(0,Xs(1,s))||1};let y=!0;function P(F){const H=F[0].intersectionRatio;if(H!==s){if(!y)return a();H?a(!1,H):r=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{n=new IntersectionObserver(P,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,_)}n.observe(e)}return a(!0),o}function FO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=hg(e),f=i||o?[...u?Kc(u):[],...Kc(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&l?DO(u,n):null;let c=-1,m=null;a&&(m=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!s&&m.observe(u),m.observe(t));let g,S=s?bl(e):null;s&&A();function A(){const v=bl(e);S&&(v.x!==S.x||v.y!==S.y||v.width!==S.width||v.height!==S.height)&&n(),S=v,g=requestAnimationFrame(A)}return n(),()=>{var v;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,s&&cancelAnimationFrame(g)}}const $O=yO,BO=mO,jO=pO,L6=(e,t,n)=>{const r=new Map,i={platform:IO,...n},o={...i.platform,_c:r};return hO(e,t,{...i,platform:o})};var N9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)t.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(N9);var zO=N9.exports;const $v=Zc(zO);var R6={};const GO="react-tooltip-core-styles",UO="react-tooltip-base-styles",k6={core:!1,base:!1};function O6({css:e,id:t=UO,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||k6[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:R6)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:R6)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=GO),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css",a==="top"&&l.firstChild?l.insertBefore(s,l.firstChild):l.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),k6[n]=!0}const P6=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:a=[gO(Number(i)),BO({fallbackAxisSideDirection:"start"}),$O({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const s=a;return n?(s.push(jO({element:n,padding:5})),L6(e,t,{placement:r,strategy:o,middleware:s}).then(({x:u,y:f,placement:h,middlewareData:c})=>{var m,g;const S={left:`${u}px`,top:`${f}px`,border:l},{x:A,y:v}=(m=c.arrow)!==null&&m!==void 0?m:{x:0,y:0},_=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&g!==void 0?g:"bottom",y=l&&{borderBottom:l,borderRight:l};let P=0;if(l){const F=`${l}`.match(/(\d+)px/);P=F!=null&&F[1]?Number(F[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:A!=null?`${A}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...y,[_]:`-${4+P}px`},place:h}})):L6(e,t,{placement:"bottom",strategy:o,middleware:s}).then(({x:u,y:f,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},N6=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),M6=(e,t,n)=>{let r=null;const i=function(...o){const a=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},I6=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Bv=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>Bv(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!I6(e)||!I6(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Bv(e[i],t[i]))},VO=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},D6=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(VO(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},HO=typeof window<"u"?O.useLayoutEffect:O.useEffect,WO="DEFAULT_TOOLTIP_ID",XO={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},YO=O.createContext({getTooltipData:()=>XO});function M9(e=WO){return O.useContext(YO).getTooltipData(e)}var fs={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},vm={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const qO=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:a,place:l="top",offset:s=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:h="absolute",middlewares:c,wrapper:m,delayShow:g=0,delayHide:S=0,float:A=!1,hidden:v=!1,noArrow:_=!1,clickable:y=!1,closeOnEsc:P=!1,closeOnScroll:F=!1,closeOnResize:H=!1,openEvents:te,closeEvents:K,globalCloseEvents:Ye,imperativeModeOnly:de,style:Ce,position:ze,afterShow:Je,afterHide:be,content:Rt,contentWrapperRef:it,isOpen:at,defaultIsOpen:ve=!1,setIsOpen:Re,activeAnchor:Ae,setActiveAnchor:Te,border:De,opacity:kt,arrowColor:Mt,role:Zt="tooltip"})=>{var Ot;const It=O.useRef(null),Bt=O.useRef(null),Ct=O.useRef(null),rn=O.useRef(null),fn=O.useRef(null),[Dt,Jt]=O.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[ot,Lt]=O.useState(!1),[St,bt]=O.useState(!1),[st,Xt]=O.useState(null),Gt=O.useRef(!1),sn=O.useRef(null),{anchorRefs:Qn,setActiveAnchor:w}=M9(t),he=O.useRef(!1),[We,ue]=O.useState([]),dt=O.useRef(!1),ht=f||u.includes("click"),Le=ht||(te==null?void 0:te.click)||(te==null?void 0:te.dblclick)||(te==null?void 0:te.mousedown),Pt=te?{...te}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!te&&ht&&Object.assign(Pt,{mouseenter:!1,focus:!1,click:!0});const Ht=K?{...K}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!K&&ht&&Object.assign(Ht,{mouseleave:!1,blur:!1});const ut=Ye?{...Ye}:{escape:P||!1,scroll:F||!1,resize:H||!1,clickOutsideAnchor:Le||!1};de&&(Object.assign(Pt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ht,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ut,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),HO(()=>(dt.current=!0,()=>{dt.current=!1}),[]);const jt=Ve=>{dt.current&&(Ve&&bt(!0),setTimeout(()=>{dt.current&&(Re==null||Re(Ve),at===void 0&&Lt(Ve))},10))};O.useEffect(()=>{if(at===void 0)return()=>null;at&&bt(!0);const Ve=setTimeout(()=>{Lt(at)},10);return()=>{clearTimeout(Ve)}},[at]),O.useEffect(()=>{if(ot!==Gt.current)if(fn.current&&clearTimeout(fn.current),Gt.current=ot,ot)Je==null||Je();else{const Ve=(vt=>{const wt=vt.match(/^([\d.]+)(ms|s)$/);if(!wt)return 0;const[,yn,An]=wt;return Number(yn)*(An==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));fn.current=setTimeout(()=>{bt(!1),Xt(null),be==null||be()},Ve+25)}},[ot]);const xt=Ve=>{Jt(vt=>Bv(vt,Ve)?vt:Ve)},$t=(Ve=g)=>{Ct.current&&clearTimeout(Ct.current),St?jt(!0):Ct.current=setTimeout(()=>{jt(!0)},Ve)},dn=(Ve=S)=>{rn.current&&clearTimeout(rn.current),rn.current=setTimeout(()=>{he.current||jt(!1)},Ve)},hn=Ve=>{var vt;if(!Ve)return;const wt=(vt=Ve.currentTarget)!==null&&vt!==void 0?vt:Ve.target;if(!(wt!=null&&wt.isConnected))return Te(null),void w({current:null});g?$t():jt(!0),Te(wt),w({current:wt}),rn.current&&clearTimeout(rn.current)},Gn=()=>{y?dn(S||100):S?dn():jt(!1),Ct.current&&clearTimeout(Ct.current)},In=({x:Ve,y:vt})=>{var wt;const yn={getBoundingClientRect:()=>({x:Ve,y:vt,width:0,height:0,top:vt,left:Ve,right:Ve,bottom:vt})};P6({place:(wt=st==null?void 0:st.place)!==null&&wt!==void 0?wt:l,offset:s,elementReference:yn,tooltipReference:It.current,tooltipArrowReference:Bt.current,strategy:h,middlewares:c,border:De}).then(An=>{xt(An)})},Un=Ve=>{if(!Ve)return;const vt=Ve,wt={x:vt.clientX,y:vt.clientY};In(wt),sn.current=wt},cn=Ve=>{var vt;if(!ot)return;const wt=Ve.target;wt.isConnected&&(!((vt=It.current)===null||vt===void 0)&&vt.contains(wt)||[document.querySelector(`[id='${o}']`),...We].some(yn=>yn==null?void 0:yn.contains(wt))||(jt(!1),Ct.current&&clearTimeout(Ct.current)))},Er=M6(hn,50,!0),gn=M6(Gn,50,!0),Dn=Ve=>{gn.cancel(),Er(Ve)},U=()=>{Er.cancel(),gn()},Ue=O.useCallback(()=>{var Ve,vt;const wt=(Ve=st==null?void 0:st.position)!==null&&Ve!==void 0?Ve:ze;wt?In(wt):A?sn.current&&In(sn.current):Ae!=null&&Ae.isConnected&&P6({place:(vt=st==null?void 0:st.place)!==null&&vt!==void 0?vt:l,offset:s,elementReference:Ae,tooltipReference:It.current,tooltipArrowReference:Bt.current,strategy:h,middlewares:c,border:De}).then(yn=>{dt.current&&xt(yn)})},[ot,Ae,Rt,Ce,l,st==null?void 0:st.place,s,h,ze,st==null?void 0:st.position,A]);O.useEffect(()=>{var Ve,vt;const wt=new Set(Qn);We.forEach(un=>{wt.add({current:un})});const yn=document.querySelector(`[id='${o}']`);yn&&wt.add({current:yn});const An=()=>{jt(!1)},tr=D6(Ae),sr=D6(It.current);ut.scroll&&(window.addEventListener("scroll",An),tr==null||tr.addEventListener("scroll",An),sr==null||sr.addEventListener("scroll",An));let bn=null;ut.resize?window.addEventListener("resize",An):Ae&&It.current&&(bn=FO(Ae,It.current,Ue,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const nr=un=>{un.key==="Escape"&&jt(!1)};ut.escape&&window.addEventListener("keydown",nr),ut.clickOutsideAnchor&&window.addEventListener("click",cn);const rt=[],Sr=un=>{ot&&(un==null?void 0:un.target)===Ae||hn(un)},ko=un=>{ot&&(un==null?void 0:un.target)===Ae&&Gn()},La=["mouseenter","mouseleave","focus","blur"],zr=["click","dblclick","mousedown","mouseup"];Object.entries(Pt).forEach(([un,Cn])=>{Cn&&(La.includes(un)?rt.push({event:un,listener:Dn}):zr.includes(un)&&rt.push({event:un,listener:Sr}))}),Object.entries(Ht).forEach(([un,Cn])=>{Cn&&(La.includes(un)?rt.push({event:un,listener:U}):zr.includes(un)&&rt.push({event:un,listener:ko}))}),A&&rt.push({event:"pointermove",listener:Un});const Gr=()=>{he.current=!0},Ur=()=>{he.current=!1,Gn()};return y&&!Le&&((Ve=It.current)===null||Ve===void 0||Ve.addEventListener("mouseenter",Gr),(vt=It.current)===null||vt===void 0||vt.addEventListener("mouseleave",Ur)),rt.forEach(({event:un,listener:Cn})=>{wt.forEach(to=>{var Vr;(Vr=to.current)===null||Vr===void 0||Vr.addEventListener(un,Cn)})}),()=>{var un,Cn;ut.scroll&&(window.removeEventListener("scroll",An),tr==null||tr.removeEventListener("scroll",An),sr==null||sr.removeEventListener("scroll",An)),ut.resize?window.removeEventListener("resize",An):bn==null||bn(),ut.clickOutsideAnchor&&window.removeEventListener("click",cn),ut.escape&&window.removeEventListener("keydown",nr),y&&!Le&&((un=It.current)===null||un===void 0||un.removeEventListener("mouseenter",Gr),(Cn=It.current)===null||Cn===void 0||Cn.removeEventListener("mouseleave",Ur)),rt.forEach(({event:to,listener:Vr})=>{wt.forEach(Ra=>{var xi;(xi=Ra.current)===null||xi===void 0||xi.removeEventListener(to,Vr)})})}},[Ae,Ue,St,Qn,We,te,K,Ye,ht,g,S]),O.useEffect(()=>{var Ve,vt;let wt=(vt=(Ve=st==null?void 0:st.anchorSelect)!==null&&Ve!==void 0?Ve:a)!==null&&vt!==void 0?vt:"";!wt&&t&&(wt=`[data-tooltip-id='${t}']`);const yn=new MutationObserver(An=>{const tr=[],sr=[];An.forEach(bn=>{if(bn.type==="attributes"&&bn.attributeName==="data-tooltip-id"&&(bn.target.getAttribute("data-tooltip-id")===t?tr.push(bn.target):bn.oldValue===t&&sr.push(bn.target)),bn.type==="childList"){if(Ae){const nr=[...bn.removedNodes].filter(rt=>rt.nodeType===1);if(wt)try{sr.push(...nr.filter(rt=>rt.matches(wt))),sr.push(...nr.flatMap(rt=>[...rt.querySelectorAll(wt)]))}catch{}nr.some(rt=>{var Sr;return!!(!((Sr=rt==null?void 0:rt.contains)===null||Sr===void 0)&&Sr.call(rt,Ae))&&(bt(!1),jt(!1),Te(null),Ct.current&&clearTimeout(Ct.current),rn.current&&clearTimeout(rn.current),!0)})}if(wt)try{const nr=[...bn.addedNodes].filter(rt=>rt.nodeType===1);tr.push(...nr.filter(rt=>rt.matches(wt))),tr.push(...nr.flatMap(rt=>[...rt.querySelectorAll(wt)]))}catch{}}}),(tr.length||sr.length)&&ue(bn=>[...bn.filter(nr=>!sr.includes(nr)),...tr])});return yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{yn.disconnect()}},[t,a,st==null?void 0:st.anchorSelect,Ae]),O.useEffect(()=>{Ue()},[Ue]),O.useEffect(()=>{if(!(it!=null&&it.current))return()=>null;const Ve=new ResizeObserver(()=>{setTimeout(()=>Ue())});return Ve.observe(it.current),()=>{Ve.disconnect()}},[Rt,it==null?void 0:it.current]),O.useEffect(()=>{var Ve;const vt=document.querySelector(`[id='${o}']`),wt=[...We,vt];Ae&&wt.includes(Ae)||Te((Ve=We[0])!==null&&Ve!==void 0?Ve:vt)},[o,We,Ae]),O.useEffect(()=>(ve&&jt(!0),()=>{Ct.current&&clearTimeout(Ct.current),rn.current&&clearTimeout(rn.current)}),[]),O.useEffect(()=>{var Ve;let vt=(Ve=st==null?void 0:st.anchorSelect)!==null&&Ve!==void 0?Ve:a;if(!vt&&t&&(vt=`[data-tooltip-id='${t}']`),vt)try{const wt=Array.from(document.querySelectorAll(vt));ue(wt)}catch{ue([])}},[t,a,st==null?void 0:st.anchorSelect]),O.useEffect(()=>{Ct.current&&(clearTimeout(Ct.current),$t(g))},[g]);const mt=(Ot=st==null?void 0:st.content)!==null&&Ot!==void 0?Ot:Rt,Yt=ot&&Object.keys(Dt.tooltipStyles).length>0;return O.useImperativeHandle(e,()=>({open:Ve=>{if(Ve!=null&&Ve.anchorSelect)try{document.querySelector(Ve.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ve.anchorSelect}" is not a valid CSS selector`)}Xt(Ve??null),Ve!=null&&Ve.delay?$t(Ve.delay):jt(!0)},close:Ve=>{Ve!=null&&Ve.delay?dn(Ve.delay):jt(!1)},activeAnchor:Ae,place:Dt.place,isOpen:!!(St&&!v&&mt&&Yt)})),St&&!v&&mt?yo.createElement(m,{id:t,role:Zt,className:$v("react-tooltip",fs.tooltip,vm.tooltip,vm[i],n,`react-tooltip__place-${Dt.place}`,fs[Yt?"show":"closing"],Yt?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&fs.fixed,y&&fs.clickable),onTransitionEnd:Ve=>{fn.current&&clearTimeout(fn.current),ot||Ve.propertyName!=="opacity"||(bt(!1),Xt(null),be==null||be())},style:{...Ce,...Dt.tooltipStyles,opacity:kt!==void 0&&Yt?kt:void 0},ref:It},mt,yo.createElement(m,{className:$v("react-tooltip-arrow",fs.arrow,vm.arrow,r,_&&fs.noArrow),style:{...Dt.tooltipArrowStyles,background:Mt?`linear-gradient(to right bottom, transparent 50%, ${Mt} 50%)`:void 0},ref:Bt})):null},QO=({content:e})=>yo.createElement("span",{dangerouslySetInnerHTML:{__html:e}});yo.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:a,classNameArrow:l,variant:s="dark",place:u="top",offset:f=10,wrapper:h="div",children:c=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:S="absolute",middlewares:A,delayShow:v=0,delayHide:_=0,float:y=!1,hidden:P=!1,noArrow:F=!1,clickable:H=!1,closeOnEsc:te=!1,closeOnScroll:K=!1,closeOnResize:Ye=!1,openEvents:de,closeEvents:Ce,globalCloseEvents:ze,imperativeModeOnly:Je=!1,style:be,position:Rt,isOpen:it,defaultIsOpen:at=!1,disableStyleInjection:ve=!1,border:Re,opacity:Ae,arrowColor:Te,setIsOpen:De,afterShow:kt,afterHide:Mt,role:Zt="tooltip"},Ot)=>{const[It,Bt]=O.useState(r),[Ct,rn]=O.useState(i),[fn,Dt]=O.useState(u),[Jt,ot]=O.useState(s),[Lt,St]=O.useState(f),[bt,st]=O.useState(v),[Xt,Gt]=O.useState(_),[sn,Qn]=O.useState(y),[w,he]=O.useState(P),[We,ue]=O.useState(h),[dt,ht]=O.useState(m),[Le,Pt]=O.useState(S),[Ht,ut]=O.useState(null),[jt,xt]=O.useState(null),$t=O.useRef(ve),{anchorRefs:dn,activeAnchor:hn}=M9(e),Gn=gn=>gn==null?void 0:gn.getAttributeNames().reduce((Dn,U)=>{var Ue;return U.startsWith("data-tooltip-")&&(Dn[U.replace(/^data-tooltip-/,"")]=(Ue=gn==null?void 0:gn.getAttribute(U))!==null&&Ue!==void 0?Ue:null),Dn},{}),In=gn=>{const Dn={place:U=>{var Ue;Dt((Ue=U)!==null&&Ue!==void 0?Ue:u)},content:U=>{Bt(U??r)},html:U=>{rn(U??i)},variant:U=>{var Ue;ot((Ue=U)!==null&&Ue!==void 0?Ue:s)},offset:U=>{St(U===null?f:Number(U))},wrapper:U=>{var Ue;ue((Ue=U)!==null&&Ue!==void 0?Ue:h)},events:U=>{const Ue=U==null?void 0:U.split(" ");ht(Ue??m)},"position-strategy":U=>{var Ue;Pt((Ue=U)!==null&&Ue!==void 0?Ue:S)},"delay-show":U=>{st(U===null?v:Number(U))},"delay-hide":U=>{Gt(U===null?_:Number(U))},float:U=>{Qn(U===null?y:U==="true")},hidden:U=>{he(U===null?P:U==="true")},"class-name":U=>{ut(U)}};Object.values(Dn).forEach(U=>U(null)),Object.entries(gn).forEach(([U,Ue])=>{var mt;(mt=Dn[U])===null||mt===void 0||mt.call(Dn,Ue)})};O.useEffect(()=>{Bt(r)},[r]),O.useEffect(()=>{rn(i)},[i]),O.useEffect(()=>{Dt(u)},[u]),O.useEffect(()=>{ot(s)},[s]),O.useEffect(()=>{St(f)},[f]),O.useEffect(()=>{st(v)},[v]),O.useEffect(()=>{Gt(_)},[_]),O.useEffect(()=>{Qn(y)},[y]),O.useEffect(()=>{he(P)},[P]),O.useEffect(()=>{Pt(S)},[S]),O.useEffect(()=>{$t.current!==ve&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ve]),O.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ve==="core",disableBase:ve}}))},[]),O.useEffect(()=>{var gn;const Dn=new Set(dn);let U=n;if(!U&&e&&(U=`[data-tooltip-id='${e}']`),U)try{document.querySelectorAll(U).forEach(vt=>{Dn.add({current:vt})})}catch{console.warn(`[react-tooltip] "${U}" is not a valid CSS selector`)}const Ue=document.querySelector(`[id='${t}']`);if(Ue&&Dn.add({current:Ue}),!Dn.size)return()=>null;const mt=(gn=jt??Ue)!==null&&gn!==void 0?gn:hn.current,Yt=new MutationObserver(vt=>{vt.forEach(wt=>{var yn;if(!mt||wt.type!=="attributes"||!(!((yn=wt.attributeName)===null||yn===void 0)&&yn.startsWith("data-tooltip-")))return;const An=Gn(mt);In(An)})}),Ve={attributes:!0,childList:!1,subtree:!1};if(mt){const vt=Gn(mt);In(vt),Yt.observe(mt,Ve)}return()=>{Yt.disconnect()}},[dn,hn,jt,t,n]),O.useEffect(()=>{be!=null&&be.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Re&&!N6("border",`${Re}`)&&console.warn(`[react-tooltip] "${Re}" is not a valid \`border\`.`),be!=null&&be.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),Ae&&!N6("opacity",`${Ae}`)&&console.warn(`[react-tooltip] "${Ae}" is not a valid \`opacity\`.`)},[]);let Un=c;const cn=O.useRef(null);if(o){const gn=o({content:(jt==null?void 0:jt.getAttribute("data-tooltip-content"))||It||null,activeAnchor:jt});Un=gn?yo.createElement("div",{ref:cn,className:"react-tooltip-content-wrapper"},gn):null}else It&&(Un=It);Ct&&(Un=yo.createElement(QO,{content:Ct}));const Er={forwardRef:Ot,id:e,anchorId:t,anchorSelect:n,className:$v(a,Ht),classNameArrow:l,content:Un,contentWrapperRef:cn,place:fn,variant:Jt,offset:Lt,wrapper:We,events:dt,openOnClick:g,positionStrategy:Le,middlewares:A,delayShow:bt,delayHide:Xt,float:sn,hidden:w,noArrow:F,clickable:H,closeOnEsc:te,closeOnScroll:K,closeOnResize:Ye,openEvents:de,closeEvents:Ce,globalCloseEvents:ze,imperativeModeOnly:Je,style:be,position:Rt,isOpen:it,defaultIsOpen:at,border:Re,opacity:Ae,arrowColor:Te,setIsOpen:De,afterShow:kt,afterHide:Mt,activeAnchor:jt,setActiveAnchor:gn=>xt(gn),role:Zt};return yo.createElement(qO,{...Er})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||O6({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||O6({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});Pe.shape({id:Pe.string.isRequired,potential_embeddings:Pe.array}).isRequired,Pe.string.isRequired,Pe.object,Pe.array,Pe.array,Pe.func.isRequired,Pe.func.isRequired,Pe.func.isRequired,Pe.func.isRequired;Pe.shape({id:Pe.string.isRequired}).isRequired,Pe.object,Pe.object,Pe.array.isRequired,Pe.array.isRequired,Pe.func.isRequired,Pe.func.isRequired;Pe.shape({id:Pe.string.isRequired}).isRequired,Pe.object,Pe.object,Pe.array,Pe.func.isRequired,Pe.func.isRequired;Pe.shape({id:Pe.string.isRequired}).isRequired,Pe.object,Pe.object,Pe.string,Pe.func.isRequired,Pe.func,Pe.func,Pe.func,Pe.func;Pe.shape({id:Pe.string.isRequired}).isRequired,Pe.object,Pe.object,Pe.object,Pe.object,Pe.string,Pe.func.isRequired,Pe.func.isRequired;const KO="_page_1chtn_1",ZO="_header_1chtn_4",JO="_description_1chtn_44",eP="_path_1chtn_48",tP="_size_1chtn_53",Za={page:KO,header:ZO,"scope-files":"_scope-files_1chtn_18","dataset-files":"_dataset-files_1chtn_24",description:JO,path:eP,size:tP},od="https://api.latentscope.com/api";function nP(e){const t=["B","KB","MB","GB"];let n=0;for(;e>1024;)e=e/1024,n++;return`${e.toFixed(0)}${t[n]}`}function F6(){const[e,t]=O.useState(null),{dataset:n,scope:r}=D2();O.useEffect(()=>{fetch(`${od}/datasets/${n}/meta`).then(u=>u.json()).then(t).catch(console.error)},[n,t]);const[i,o]=O.useState(null);O.useEffect(()=>{fetch(`${od}/datasets/${n}/scopes/${r}`).then(u=>u.json()).then(u=>{console.log("scope",u),o(u)}).catch(console.error)},[n,r,o]);const[a,l]=O.useState([]);O.useEffect(()=>{fetch(`${od}/datasets/${n}/export/list`).then(u=>u.json()).then(u=>{console.log("export list",u),l(u)}).catch(console.error)},[n]);const s=O.useCallback((u,f)=>M.jsxs("li",{children:[M.jsx("a",{href:`${od}/files/${n}/${u[2]}`,children:u[0]}),M.jsx("span",{className:Za.size,children:nP(u[4])}),M.jsx("span",{className:Za.path,children:u[3]})]},f),[n]);return M.jsxs("div",{className:Za.page,children:[M.jsxs("div",{className:Za.header,children:[M.jsxs("h2",{children:["Export Data for ",e==null?void 0:e.id," ",r]}),M.jsxs(jc,{to:`/datasets/${n}/setup/${r}`,children:["Setup ",e==null?void 0:e.id," ",r]}),r?M.jsxs(jc,{to:`/datasets/${n}/explore/${r}`,children:["Explore ",e==null?void 0:e.id," ",r]}):null]}),M.jsxs("div",{className:Za["scope-files"],children:[M.jsxs("h3",{children:["Scope ",r]}),M.jsx("p",{className:Za.description,children:"These two files combine the data from each step into a single parquet (x,y from UMAP, cluster and label from clustering and labeling)."}),M.jsx("ul",{children:a.filter(u=>u[0].indexOf(r)==0).map(s)})]}),M.jsxs("div",{className:Za["dataset-files"],children:[M.jsx("h3",{children:"Dataset"}),M.jsx("ul",{children:a.filter(u=>u[1]==".").map(s)}),M.jsx("h3",{children:"Embeddings"}),M.jsx("ul",{children:a.filter(u=>u[1]=="embeddings").map(s)}),M.jsx("h3",{children:"Umaps"}),M.jsx("ul",{children:a.filter(u=>u[1]=="umaps").map(s)}),M.jsx("h3",{children:"Clusters"}),M.jsx("ul",{children:a.filter(u=>u[1]=="clusters").map(s)}),M.jsx("h3",{children:"Scopes"}),M.jsx("ul",{children:a.filter(u=>u[1]=="scopes").map(s)}),M.jsx("h3",{children:"tags"}),M.jsx("ul",{children:a.filter(u=>u[1]=="tags").map(s)})]})]})}const rP=()=>M.jsx("nav",{children:M.jsxs("ul",{children:[M.jsx("li",{children:M.jsx(jc,{to:"/",children:"Latent Scope"})}),M.jsx("li",{className:"settings",children:M.jsx(jc,{to:"/settings",children:" settings"})})]})});var iP={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const I9=iP;console.log("ENV",I9);function oP(){return M.jsxs(Fw,{basename:I9.BASE_NAME,children:[M.jsx(rP,{}),M.jsx("div",{className:"page",children:M.jsxs(Ow,{children:[M.jsx(tl,{path:"/",element:M.jsx(Ww,{})}),M.jsx(tl,{path:"/settings",element:M.jsx(Qw,{})}),M.jsx(tl,{path:"/datasets/:dataset/explore/:scope",element:M.jsx(Hk,{})}),M.jsx(tl,{path:"/datasets/:dataset/compare/",element:M.jsx(oO,{})}),M.jsx(tl,{path:"/datasets/:dataset/export",element:M.jsx(F6,{})}),M.jsx(tl,{path:"/datasets/:dataset/export/:scope",element:M.jsx(F6,{})}),null,null,null,null]})})]})}gm.createRoot(document.getElementById("root")).render(M.jsx(yo.StrictMode,{children:M.jsx(oP,{})}));
