function J8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var e9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L3={exports:{}},Hd={},R3={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),t9=Symbol.for("react.portal"),n9=Symbol.for("react.fragment"),r9=Symbol.for("react.strict_mode"),i9=Symbol.for("react.profiler"),a9=Symbol.for("react.provider"),o9=Symbol.for("react.context"),l9=Symbol.for("react.forward_ref"),s9=Symbol.for("react.suspense"),u9=Symbol.for("react.memo"),c9=Symbol.for("react.lazy"),ag=Symbol.iterator;function f9(e){return e===null||typeof e!="object"?null:(e=ag&&e[ag]||e["@@iterator"],typeof e=="function"?e:null)}var k3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P3=Object.assign,O3={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=O3,this.updater=n||k3}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N3(){}N3.prototype=Cs.prototype;function nv(e,t,n){this.props=e,this.context=t,this.refs=O3,this.updater=n||k3}var rv=nv.prototype=new N3;rv.constructor=nv;P3(rv,Cs.prototype);rv.isPureReactComponent=!0;var og=Array.isArray,M3=Object.prototype.hasOwnProperty,iv={current:null},I3={key:!0,ref:!0,__self:!0,__source:!0};function D3(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)M3.call(t,r)&&!I3.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Rc,type:e,key:a,ref:o,props:i,_owner:iv.current}}function d9(e,t){return{$$typeof:Rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function av(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rc}function h9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lg=/\/+/g;function z1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h9(""+e.key):t.toString(36)}function N0(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rc:case t9:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+z1(o,0):r,og(i)?(n="",e!=null&&(n=e.replace(lg,"$&/")+"/"),N0(i,t,n,"",function(u){return u})):i!=null&&(av(i)&&(i=d9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",og(e))for(var l=0;l<e.length;l++){a=e[l];var s=r+z1(a,l);o+=N0(a,t,n,s,i)}else if(s=f9(e),typeof s=="function")for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=r+z1(a,l++),o+=N0(a,t,n,s,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function i0(e,t,n){if(e==null)return e;var r=[],i=0;return N0(e,r,"","",function(a){return t.call(n,a,i++)}),r}function p9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},M0={transition:null},m9={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:M0,ReactCurrentOwner:iv};Ut.Children={map:i0,forEach:function(e,t,n){i0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return i0(e,function(){t++}),t},toArray:function(e){return i0(e,function(t){return t})||[]},only:function(e){if(!av(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=Cs;Ut.Fragment=n9;Ut.Profiler=i9;Ut.PureComponent=nv;Ut.StrictMode=r9;Ut.Suspense=s9;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m9;Ut.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=P3({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=iv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)M3.call(t,s)&&!I3.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Rc,type:e.type,key:i,ref:a,props:r,_owner:o}};Ut.createContext=function(e){return e={$$typeof:o9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a9,_context:e},e.Consumer=e};Ut.createElement=D3;Ut.createFactory=function(e){var t=D3.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:l9,render:e}};Ut.isValidElement=av;Ut.lazy=function(e){return{$$typeof:c9,_payload:{_status:-1,_result:e},_init:p9}};Ut.memo=function(e,t){return{$$typeof:u9,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=M0.transition;M0.transition={};try{e()}finally{M0.transition=t}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(e,t){return mr.current.useCallback(e,t)};Ut.useContext=function(e){return mr.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return mr.current.useEffect(e,t)};Ut.useId=function(){return mr.current.useId()};Ut.useImperativeHandle=function(e,t,n){return mr.current.useImperativeHandle(e,t,n)};Ut.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return mr.current.useMemo(e,t)};Ut.useReducer=function(e,t,n){return mr.current.useReducer(e,t,n)};Ut.useRef=function(e){return mr.current.useRef(e)};Ut.useState=function(e){return mr.current.useState(e)};Ut.useSyncExternalStore=function(e,t,n){return mr.current.useSyncExternalStore(e,t,n)};Ut.useTransition=function(){return mr.current.useTransition()};Ut.version="18.2.0";R3.exports=Ut;var G=R3.exports;const F3=Vd(G),v9=J8({__proto__:null,default:F3},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g9=G,y9=Symbol.for("react.element"),x9=Symbol.for("react.fragment"),_9=Object.prototype.hasOwnProperty,w9=g9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E9={key:!0,ref:!0,__self:!0,__source:!0};function B3(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_9.call(t,r)&&!E9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:y9,type:e,key:a,ref:o,props:i,_owner:w9.current}}Hd.Fragment=x9;Hd.jsx=B3;Hd.jsxs=B3;L3.exports=Hd;var W=L3.exports,Bp={},$3={exports:{}},zr={},j3={exports:{}},z3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_e,Xe){var ge=_e.length;_e.push(Xe);e:for(;0<ge;){var Ee=ge-1>>>1,Je=_e[Ee];if(0<i(Je,Xe))_e[Ee]=Xe,_e[ge]=Je,ge=Ee;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var Xe=_e[0],ge=_e.pop();if(ge!==Xe){_e[0]=ge;e:for(var Ee=0,Je=_e.length,Et=Je>>>1;Ee<Et;){var vt=2*(Ee+1)-1,Xt=_e[vt],Jt=vt+1,Pt=_e[Jt];if(0>i(Xt,ge))Jt<Je&&0>i(Pt,Xt)?(_e[Ee]=Pt,_e[Jt]=ge,Ee=Jt):(_e[Ee]=Xt,_e[vt]=ge,Ee=vt);else if(Jt<Je&&0>i(Pt,ge))_e[Ee]=Pt,_e[Jt]=ge,Ee=Jt;else break e}}return Xe}function i(_e,Xe){var ge=_e.sortIndex-Xe.sortIndex;return ge!==0?ge:_e.id-Xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,p=null,c=3,g=!1,_=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_e){for(var Xe=n(u);Xe!==null;){if(Xe.callback===null)r(u);else if(Xe.startTime<=_e)r(u),Xe.sortIndex=Xe.expirationTime,t(s,Xe);else break;Xe=n(u)}}function P(_e){if(L=!1,w(_e),!_)if(n(s)!==null)_=!0,gt(j);else{var Xe=n(u);Xe!==null&&pt(P,Xe.startTime-_e)}}function j(_e,Xe){_=!1,L&&(L=!1,y(ne),ne=-1),g=!0;var ge=c;try{for(w(Xe),p=n(s);p!==null&&(!(p.expirationTime>Xe)||_e&&!Be());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,c=p.priorityLevel;var Je=Ee(p.expirationTime<=Xe);Xe=e.unstable_now(),typeof Je=="function"?p.callback=Je:p===n(s)&&r(s),w(Xe)}else r(s);p=n(s)}if(p!==null)var Et=!0;else{var vt=n(u);vt!==null&&pt(P,vt.startTime-Xe),Et=!1}return Et}finally{p=null,c=ge,g=!1}}var Q=!1,ce=null,ne=-1,We=5,Ce=-1;function Be(){return!(e.unstable_now()-Ce<We)}function qe(){if(ce!==null){var _e=e.unstable_now();Ce=_e;var Xe=!0;try{Xe=ce(!0,_e)}finally{Xe?et():(Q=!1,ce=null)}}else Q=!1}var et;if(typeof E=="function")et=function(){E(qe)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Vt=Ge.port2;Ge.port1.onmessage=qe,et=function(){Vt.postMessage(null)}}else et=function(){N(qe,0)};function gt(_e){ce=_e,Q||(Q=!0,et())}function pt(_e,Xe){ne=N(function(){_e(e.unstable_now())},Xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_e){_e.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,gt(j))},e.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):We=0<_e?Math.floor(1e3/_e):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(_e){switch(c){case 1:case 2:case 3:var Xe=3;break;default:Xe=c}var ge=c;c=Xe;try{return _e()}finally{c=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_e,Xe){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ge=c;c=_e;try{return Xe()}finally{c=ge}},e.unstable_scheduleCallback=function(_e,Xe,ge){var Ee=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,_e){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ge+Je,_e={id:d++,callback:Xe,priorityLevel:_e,startTime:ge,expirationTime:Je,sortIndex:-1},ge>Ee?(_e.sortIndex=ge,t(u,_e),n(s)===null&&_e===n(u)&&(L?(y(ne),ne=-1):L=!0,pt(P,ge-Ee))):(_e.sortIndex=Je,t(s,_e),_||g||(_=!0,gt(j))),_e},e.unstable_shouldYield=Be,e.unstable_wrapCallback=function(_e){var Xe=c;return function(){var ge=c;c=Xe;try{return _e.apply(this,arguments)}finally{c=ge}}}})(z3);j3.exports=z3;var S9=j3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3=G,$r=S9;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U3=new Set,nc={};function rl(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(nc[e]=t,e=0;e<t.length;e++)U3.add(t[e])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,T9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sg={},ug={};function A9(e){return $p.call(ug,e)?!0:$p.call(sg,e)?!1:T9.test(e)?ug[e]=!0:(sg[e]=!0,!1)}function C9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b9(e,t,n,r){if(t===null||typeof t>"u"||C9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function lv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ov,lv);rr[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ov,lv);rr[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ov,lv);rr[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function sv(e,t,n,r){var i=rr.hasOwnProperty(t)?rr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b9(t,n,i,r)&&(n=null),r||i===null?A9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ca=G3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a0=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Yl=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),V3=Symbol.for("react.provider"),H3=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),W3=Symbol.for("react.offscreen"),cg=Symbol.iterator;function Cu(e){return e===null||typeof e!="object"?null:(e=cg&&e[cg]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Object.assign,G1;function Bu(e){if(G1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G1=t&&t[1]||""}return`
`+G1+e}var U1=!1;function V1(e,t){if(!e||U1)return"";U1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var s=`
`+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l);break}}}finally{U1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bu(e):""}function L9(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=V1(e.type,!1),e;case 11:return e=V1(e.type.render,!1),e;case 1:return e=V1(e.type,!0),e;default:return""}}function Up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yl:return"Fragment";case Xl:return"Portal";case jp:return"Profiler";case uv:return"StrictMode";case zp:return"Suspense";case Gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H3:return(e.displayName||"Context")+".Consumer";case V3:return(e._context.displayName||"Context")+".Provider";case cv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fv:return t=e.displayName||null,t!==null?t:Up(e.type)||"Memo";case Ia:t=e._payload,e=e._init;try{return Up(e(t))}catch{}}return null}function R9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k9(e){var t=X3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function o0(e){e._valueTracker||(e._valueTracker=k9(e))}function Y3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vp(e,t){var n=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ja(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q3(e,t){t=t.checked,t!=null&&sv(e,"checked",t,!1)}function Hp(e,t){q3(e,t);var n=Ja(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wp(e,t.type,Ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wp(e,t,n){(t!=="number"||ed(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $u=Array.isArray;function ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ja(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Me(92));if($u(n)){if(1<n.length)throw Error(Me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ja(n)}}function Q3(e,t){var n=Ja(t.value),r=Ja(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Z3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Z3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var l0,K3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(l0=l0||document.createElement("div"),l0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=l0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P9=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(e){P9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vu[t]=Vu[e]})});function J3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vu.hasOwnProperty(e)&&Vu[e]?(""+t).trim():t+"px"}function e4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=J3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var O9=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(e,t){if(t){if(O9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function Qp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function dv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kp=null,ss=null,us=null;function mg(e){if(e=Oc(e)){if(typeof Kp!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=Qd(t),Kp(e.stateNode,e.type,t))}}function t4(e){ss?us?us.push(e):us=[e]:ss=e}function n4(){if(ss){var e=ss,t=us;if(us=ss=null,mg(e),t)for(e=0;e<t.length;e++)mg(t[e])}}function r4(e,t){return e(t)}function i4(){}var H1=!1;function a4(e,t,n){if(H1)return e(t,n);H1=!0;try{return r4(e,t,n)}finally{H1=!1,(ss!==null||us!==null)&&(i4(),n4())}}function ic(e,t){var n=e.stateNode;if(n===null)return null;var r=Qd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Me(231,t,typeof n));return n}var Jp=!1;if(aa)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{Jp=!1}function N9(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hu=!1,td=null,nd=!1,em=null,M9={onError:function(e){Hu=!0,td=e}};function I9(e,t,n,r,i,a,o,l,s){Hu=!1,td=null,N9.apply(M9,arguments)}function D9(e,t,n,r,i,a,o,l,s){if(I9.apply(this,arguments),Hu){if(Hu){var u=td;Hu=!1,td=null}else throw Error(Me(198));nd||(nd=!0,em=u)}}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vg(e){if(il(e)!==e)throw Error(Me(188))}function F9(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return vg(i),e;if(a===r)return vg(i),t;a=a.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?e:t}function l4(e){return e=F9(e),e!==null?s4(e):null}function s4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s4(e);if(t!==null)return t;e=e.sibling}return null}var u4=$r.unstable_scheduleCallback,gg=$r.unstable_cancelCallback,B9=$r.unstable_shouldYield,$9=$r.unstable_requestPaint,Fn=$r.unstable_now,j9=$r.unstable_getCurrentPriorityLevel,hv=$r.unstable_ImmediatePriority,c4=$r.unstable_UserBlockingPriority,rd=$r.unstable_NormalPriority,z9=$r.unstable_LowPriority,f4=$r.unstable_IdlePriority,Wd=null,Ii=null;function G9(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Wd,e,void 0,(e.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:H9,U9=Math.log,V9=Math.LN2;function H9(e){return e>>>=0,e===0?32:31-(U9(e)/V9|0)|0}var s0=64,u0=4194304;function ju(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ju(l):(a&=o,a!==0&&(r=ju(a)))}else o=n&~i,o!==0?r=ju(o):a!==0&&(r=ju(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pi(t),i=1<<n,r|=e[n],t&=~i;return r}function W9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-pi(a),l=1<<o,s=i[o];s===-1?(!(l&n)||l&r)&&(i[o]=W9(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}function tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d4(){var e=s0;return s0<<=1,!(s0&4194240)&&(s0=64),e}function W1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pi(t),e[t]=n}function Y9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function pv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var en=0;function h4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p4,mv,m4,v4,g4,nm=!1,c0=[],Va=null,Ha=null,Wa=null,ac=new Map,oc=new Map,Fa=[],q9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function Lu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Oc(t),t!==null&&mv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Q9(e,t,n,r,i){switch(t){case"focusin":return Va=Lu(Va,e,t,n,r,i),!0;case"dragenter":return Ha=Lu(Ha,e,t,n,r,i),!0;case"mouseover":return Wa=Lu(Wa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ac.set(a,Lu(ac.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,oc.set(a,Lu(oc.get(a)||null,e,t,n,r,i)),!0}return!1}function y4(e){var t=Bo(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=o4(n),t!==null){e.blockedOn=t,g4(e.priority,function(){m4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function I0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zp=r,n.target.dispatchEvent(r),Zp=null}else return t=Oc(n),t!==null&&mv(t),e.blockedOn=n,!1;t.shift()}return!0}function xg(e,t,n){I0(e)&&n.delete(t)}function Z9(){nm=!1,Va!==null&&I0(Va)&&(Va=null),Ha!==null&&I0(Ha)&&(Ha=null),Wa!==null&&I0(Wa)&&(Wa=null),ac.forEach(xg),oc.forEach(xg)}function Ru(e,t){e.blockedOn===t&&(e.blockedOn=null,nm||(nm=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,Z9)))}function lc(e){function t(i){return Ru(i,e)}if(0<c0.length){Ru(c0[0],e);for(var n=1;n<c0.length;n++){var r=c0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Va!==null&&Ru(Va,e),Ha!==null&&Ru(Ha,e),Wa!==null&&Ru(Wa,e),ac.forEach(t),oc.forEach(t),n=0;n<Fa.length;n++)r=Fa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fa.length&&(n=Fa[0],n.blockedOn===null);)y4(n),n.blockedOn===null&&Fa.shift()}var cs=ca.ReactCurrentBatchConfig,ad=!0;function K9(e,t,n,r){var i=en,a=cs.transition;cs.transition=null;try{en=1,vv(e,t,n,r)}finally{en=i,cs.transition=a}}function J9(e,t,n,r){var i=en,a=cs.transition;cs.transition=null;try{en=4,vv(e,t,n,r)}finally{en=i,cs.transition=a}}function vv(e,t,n,r){if(ad){var i=rm(e,t,n,r);if(i===null)np(e,t,r,od,n),yg(e,r);else if(Q9(i,e,t,n,r))r.stopPropagation();else if(yg(e,r),t&4&&-1<q9.indexOf(e)){for(;i!==null;){var a=Oc(i);if(a!==null&&p4(a),a=rm(e,t,n,r),a===null&&np(e,t,r,od,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else np(e,t,r,null,n)}}var od=null;function rm(e,t,n,r){if(od=null,e=dv(r),e=Bo(e),e!==null)if(t=il(e),t===null)e=null;else if(n=t.tag,n===13){if(e=o4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return od=e,null}function x4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j9()){case hv:return 1;case c4:return 4;case rd:case z9:return 16;case f4:return 536870912;default:return 16}default:return 16}}var ja=null,gv=null,D0=null;function _4(){if(D0)return D0;var e,t=gv,n=t.length,r,i="value"in ja?ja.value:ja.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return D0=i.slice(e,1<r?1-r:void 0)}function F0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function f0(){return!0}function _g(){return!1}function Gr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?f0:_g,this.isPropagationStopped=_g,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=f0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=f0)},persist:function(){},isPersistent:f0}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=Gr(bs),Pc=Tn({},bs,{view:0,detail:0}),e7=Gr(Pc),X1,Y1,ku,Xd=Tn({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ku&&(ku&&e.type==="mousemove"?(X1=e.screenX-ku.screenX,Y1=e.screenY-ku.screenY):Y1=X1=0,ku=e),X1)},movementY:function(e){return"movementY"in e?e.movementY:Y1}}),wg=Gr(Xd),t7=Tn({},Xd,{dataTransfer:0}),n7=Gr(t7),r7=Tn({},Pc,{relatedTarget:0}),q1=Gr(r7),i7=Tn({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),a7=Gr(i7),o7=Tn({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l7=Gr(o7),s7=Tn({},bs,{data:0}),Eg=Gr(s7),u7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f7[e])?!!t[e]:!1}function xv(){return d7}var h7=Tn({},Pc,{key:function(e){if(e.key){var t=u7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=F0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(e){return e.type==="keypress"?F0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p7=Gr(h7),m7=Tn({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=Gr(m7),v7=Tn({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),g7=Gr(v7),y7=Tn({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x7=Gr(y7),_7=Tn({},Xd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w7=Gr(_7),E7=[9,13,27,32],_v=aa&&"CompositionEvent"in window,Wu=null;aa&&"documentMode"in document&&(Wu=document.documentMode);var S7=aa&&"TextEvent"in window&&!Wu,w4=aa&&(!_v||Wu&&8<Wu&&11>=Wu),Tg=" ",Ag=!1;function E4(e,t){switch(e){case"keyup":return E7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ql=!1;function T7(e,t){switch(e){case"compositionend":return S4(t);case"keypress":return t.which!==32?null:(Ag=!0,Tg);case"textInput":return e=t.data,e===Tg&&Ag?null:e;default:return null}}function A7(e,t){if(ql)return e==="compositionend"||!_v&&E4(e,t)?(e=_4(),D0=gv=ja=null,ql=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w4&&t.locale!=="ko"?null:t.data;default:return null}}var C7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C7[e.type]:t==="textarea"}function T4(e,t,n,r){t4(r),t=ld(t,"onChange"),0<t.length&&(n=new yv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xu=null,sc=null;function b7(e){I4(e,0)}function Yd(e){var t=Kl(e);if(Y3(t))return e}function L7(e,t){if(e==="change")return t}var A4=!1;if(aa){var Q1;if(aa){var Z1="oninput"in document;if(!Z1){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Z1=typeof bg.oninput=="function"}Q1=Z1}else Q1=!1;A4=Q1&&(!document.documentMode||9<document.documentMode)}function Lg(){Xu&&(Xu.detachEvent("onpropertychange",C4),sc=Xu=null)}function C4(e){if(e.propertyName==="value"&&Yd(sc)){var t=[];T4(t,sc,e,dv(e)),a4(b7,t)}}function R7(e,t,n){e==="focusin"?(Lg(),Xu=t,sc=n,Xu.attachEvent("onpropertychange",C4)):e==="focusout"&&Lg()}function k7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(sc)}function P7(e,t){if(e==="click")return Yd(t)}function O7(e,t){if(e==="input"||e==="change")return Yd(t)}function N7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vi=typeof Object.is=="function"?Object.is:N7;function uc(e,t){if(vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$p.call(t,i)||!vi(e[i],t[i]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,t){var n=Rg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rg(n)}}function b4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L4(){for(var e=window,t=ed();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ed(e.document)}return t}function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M7(e){var t=L4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b4(n.ownerDocument.documentElement,n)){if(r!==null&&wv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=kg(n,a);var o=kg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I7=aa&&"documentMode"in document&&11>=document.documentMode,Ql=null,im=null,Yu=null,am=!1;function Pg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;am||Ql==null||Ql!==ed(r)||(r=Ql,"selectionStart"in r&&wv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yu&&uc(Yu,r)||(Yu=r,r=ld(im,"onSelect"),0<r.length&&(t=new yv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ql)))}function d0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zl={animationend:d0("Animation","AnimationEnd"),animationiteration:d0("Animation","AnimationIteration"),animationstart:d0("Animation","AnimationStart"),transitionend:d0("Transition","TransitionEnd")},K1={},R4={};aa&&(R4=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function qd(e){if(K1[e])return K1[e];if(!Zl[e])return e;var t=Zl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R4)return K1[e]=t[n];return e}var k4=qd("animationend"),P4=qd("animationiteration"),O4=qd("animationstart"),N4=qd("transitionend"),M4=new Map,Og="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(e,t){M4.set(e,t),rl(t,[e])}for(var J1=0;J1<Og.length;J1++){var ep=Og[J1],D7=ep.toLowerCase(),F7=ep[0].toUpperCase()+ep.slice(1);no(D7,"on"+F7)}no(k4,"onAnimationEnd");no(P4,"onAnimationIteration");no(O4,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(N4,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B7=new Set("cancel close invalid load scroll toggle".split(" ").concat(zu));function Ng(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,D9(r,t,void 0,e),e.currentTarget=null}function I4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;Ng(i,l,u),a=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;Ng(i,l,u),a=s}}}if(nd)throw e=em,nd=!1,em=null,e}function dn(e,t){var n=t[cm];n===void 0&&(n=t[cm]=new Set);var r=e+"__bubble";n.has(r)||(D4(t,e,2,!1),n.add(r))}function tp(e,t,n){var r=0;t&&(r|=4),D4(n,e,r,t)}var h0="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[h0]){e[h0]=!0,U3.forEach(function(n){n!=="selectionchange"&&(B7.has(n)||tp(n,!1,e),tp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[h0]||(t[h0]=!0,tp("selectionchange",!1,t))}}function D4(e,t,n,r){switch(x4(t)){case 1:var i=K9;break;case 4:i=J9;break;default:i=vv}n=i.bind(null,t,n,e),i=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function np(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Bo(l),o===null)return;if(s=o.tag,s===5||s===6){r=a=o;continue e}l=l.parentNode}}r=r.return}a4(function(){var u=a,d=dv(n),p=[];e:{var c=M4.get(e);if(c!==void 0){var g=yv,_=e;switch(e){case"keypress":if(F0(n)===0)break e;case"keydown":case"keyup":g=p7;break;case"focusin":_="focus",g=q1;break;case"focusout":_="blur",g=q1;break;case"beforeblur":case"afterblur":g=q1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=n7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=g7;break;case k4:case P4:case O4:g=a7;break;case N4:g=x7;break;case"scroll":g=e7;break;case"wheel":g=w7;break;case"copy":case"cut":case"paste":g=l7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sg}var L=(t&4)!==0,N=!L&&e==="scroll",y=L?c!==null?c+"Capture":null:c;L=[];for(var E=u,w;E!==null;){w=E;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,y!==null&&(P=ic(E,y),P!=null&&L.push(fc(E,P,w)))),N)break;E=E.return}0<L.length&&(c=new g(c,_,null,n,d),p.push({event:c,listeners:L}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",c&&n!==Zp&&(_=n.relatedTarget||n.fromElement)&&(Bo(_)||_[oa]))break e;if((g||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Bo(_):null,_!==null&&(N=il(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(L=wg,P="onMouseLeave",y="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(L=Sg,P="onPointerLeave",y="onPointerEnter",E="pointer"),N=g==null?c:Kl(g),w=_==null?c:Kl(_),c=new L(P,E+"leave",g,n,d),c.target=N,c.relatedTarget=w,P=null,Bo(d)===u&&(L=new L(y,E+"enter",_,n,d),L.target=w,L.relatedTarget=N,P=L),N=P,g&&_)t:{for(L=g,y=_,E=0,w=L;w;w=Gl(w))E++;for(w=0,P=y;P;P=Gl(P))w++;for(;0<E-w;)L=Gl(L),E--;for(;0<w-E;)y=Gl(y),w--;for(;E--;){if(L===y||y!==null&&L===y.alternate)break t;L=Gl(L),y=Gl(y)}L=null}else L=null;g!==null&&Mg(p,c,g,L,!1),_!==null&&N!==null&&Mg(p,N,_,L,!0)}}e:{if(c=u?Kl(u):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var j=L7;else if(Cg(c))if(A4)j=O7;else{j=k7;var Q=R7}else(g=c.nodeName)&&g.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(j=P7);if(j&&(j=j(e,u))){T4(p,j,n,d);break e}Q&&Q(e,c,u),e==="focusout"&&(Q=c._wrapperState)&&Q.controlled&&c.type==="number"&&Wp(c,"number",c.value)}switch(Q=u?Kl(u):window,e){case"focusin":(Cg(Q)||Q.contentEditable==="true")&&(Ql=Q,im=u,Yu=null);break;case"focusout":Yu=im=Ql=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,Pg(p,n,d);break;case"selectionchange":if(I7)break;case"keydown":case"keyup":Pg(p,n,d)}var ce;if(_v)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else ql?E4(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(w4&&n.locale!=="ko"&&(ql||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&ql&&(ce=_4()):(ja=d,gv="value"in ja?ja.value:ja.textContent,ql=!0)),Q=ld(u,ne),0<Q.length&&(ne=new Eg(ne,e,null,n,d),p.push({event:ne,listeners:Q}),ce?ne.data=ce:(ce=S4(n),ce!==null&&(ne.data=ce)))),(ce=S7?T7(e,n):A7(e,n))&&(u=ld(u,"onBeforeInput"),0<u.length&&(d=new Eg("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=ce))}I4(p,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ld(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ic(e,n),a!=null&&r.unshift(fc(e,a,i)),a=ic(e,t),a!=null&&r.push(fc(e,a,i))),e=e.return}return r}function Gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mg(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=ic(n,a),s!=null&&o.unshift(fc(n,s,l))):i||(s=ic(n,a),s!=null&&o.push(fc(n,s,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $7=/\r\n?/g,j7=/\u0000|\uFFFD/g;function Ig(e){return(typeof e=="string"?e:""+e).replace($7,`
`).replace(j7,"")}function p0(e,t,n){if(t=Ig(t),Ig(e)!==t&&n)throw Error(Me(425))}function sd(){}var om=null,lm=null;function sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,z7=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,G7=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(e){return Dg.resolve(null).then(e).catch(U7)}:um;function U7(e){setTimeout(function(){throw e})}function rp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lc(t)}function Xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Ls,dc="__reactProps$"+Ls,oa="__reactContainer$"+Ls,cm="__reactEvents$"+Ls,V7="__reactListeners$"+Ls,H7="__reactHandles$"+Ls;function Bo(e){var t=e[Mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[Mi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fg(e);e!==null;){if(n=e[Mi])return n;e=Fg(e)}return t}e=n,n=e.parentNode}return null}function Oc(e){return e=e[Mi]||e[oa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function Qd(e){return e[dc]||null}var fm=[],Jl=-1;function ro(e){return{current:e}}function hn(e){0>Jl||(e.current=fm[Jl],fm[Jl]=null,Jl--)}function un(e,t){Jl++,fm[Jl]=e.current,e.current=t}var eo={},ur=ro(eo),Tr=ro(!1),Xo=eo;function vs(e,t){var n=e.type.contextTypes;if(!n)return eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(e){return e=e.childContextTypes,e!=null}function ud(){hn(Tr),hn(ur)}function Bg(e,t,n){if(ur.current!==eo)throw Error(Me(168));un(ur,t),un(Tr,n)}function F4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Me(108,R9(e)||"Unknown",i));return Tn({},n,r)}function cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||eo,Xo=ur.current,un(ur,e),un(Tr,Tr.current),!0}function $g(e,t,n){var r=e.stateNode;if(!r)throw Error(Me(169));n?(e=F4(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,hn(Tr),hn(ur),un(ur,e)):hn(Tr),un(Tr,n)}var ta=null,Zd=!1,ip=!1;function B4(e){ta===null?ta=[e]:ta.push(e)}function W7(e){Zd=!0,B4(e)}function io(){if(!ip&&ta!==null){ip=!0;var e=0,t=en;try{var n=ta;for(en=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ta=null,Zd=!1}catch(i){throw ta!==null&&(ta=ta.slice(e+1)),u4(hv,io),i}finally{en=t,ip=!1}}return null}var es=[],ts=0,fd=null,dd=0,qr=[],Qr=0,Yo=null,na=1,ra="";function Io(e,t){es[ts++]=dd,es[ts++]=fd,fd=e,dd=t}function $4(e,t,n){qr[Qr++]=na,qr[Qr++]=ra,qr[Qr++]=Yo,Yo=e;var r=na;e=ra;var i=32-pi(r)-1;r&=~(1<<i),n+=1;var a=32-pi(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,na=1<<32-pi(t)+i|n<<i|r,ra=a+e}else na=1<<a|n<<i|r,ra=e}function Ev(e){e.return!==null&&(Io(e,1),$4(e,1,0))}function Sv(e){for(;e===fd;)fd=es[--ts],es[ts]=null,dd=es[--ts],es[ts]=null;for(;e===Yo;)Yo=qr[--Qr],qr[Qr]=null,ra=qr[--Qr],qr[Qr]=null,na=qr[--Qr],qr[Qr]=null}var Br=null,Fr=null,vn=!1,fi=null;function j4(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Br=e,Fr=Xa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Br=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yo!==null?{id:na,overflow:ra}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Br=e,Fr=null,!0):!1;default:return!1}}function dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hm(e){if(vn){var t=Fr;if(t){var n=t;if(!jg(e,t)){if(dm(e))throw Error(Me(418));t=Xa(n.nextSibling);var r=Br;t&&jg(e,t)?j4(r,n):(e.flags=e.flags&-4097|2,vn=!1,Br=e)}}else{if(dm(e))throw Error(Me(418));e.flags=e.flags&-4097|2,vn=!1,Br=e}}}function zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Br=e}function m0(e){if(e!==Br)return!1;if(!vn)return zg(e),vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sm(e.type,e.memoizedProps)),t&&(t=Fr)){if(dm(e))throw z4(),Error(Me(418));for(;t;)j4(e,t),t=Xa(t.nextSibling)}if(zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=Xa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Br?Xa(e.stateNode.nextSibling):null;return!0}function z4(){for(var e=Fr;e;)e=Xa(e.nextSibling)}function gs(){Fr=Br=null,vn=!1}function Tv(e){fi===null?fi=[e]:fi.push(e)}var X7=ca.ReactCurrentBatchConfig;function ui(e,t){if(e&&e.defaultProps){t=Tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var hd=ro(null),pd=null,ns=null,Av=null;function Cv(){Av=ns=pd=null}function bv(e){var t=hd.current;hn(hd),e._currentValue=t}function pm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fs(e,t){pd=e,Av=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(Av!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(pd===null)throw Error(Me(308));ns=e,pd.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var $o=null;function Lv(e){$o===null?$o=[e]:$o.push(e)}function G4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lv(t)):(n.next=i.next,i.next=n),t.interleaved=n,la(e,r)}function la(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Da=!1;function Rv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,la(e,n)}return i=r.interleaved,i===null?(t.next=t,Lv(r)):(t.next=i.next,i.next=t),r.interleaved=t,la(e,n)}function B0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pv(e,n)}}function Gg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function md(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?a=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(a!==null){var p=i.baseState;o=0,d=u=s=null,l=a;do{var c=l.lane,g=l.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,L=l;switch(c=t,g=n,L.tag){case 1:if(_=L.payload,typeof _=="function"){p=_.call(g,p,c);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=L.payload,c=typeof _=="function"?_.call(g,p,c):_,c==null)break e;p=Tn({},p,c);break e;case 2:Da=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else g={eventTime:g,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,s=p):d=d.next=g,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(d===null&&(s=p),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Qo|=o,e.lanes=o,e.memoizedState=p}}function Ug(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var V4=new G3.Component().refs;function mm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kd={isMounted:function(e){return(e=e._reactInternals)?il(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pr(),i=Qa(e),a=ia(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,i),t!==null&&(mi(t,e,i,r),B0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pr(),i=Qa(e),a=ia(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,i),t!==null&&(mi(t,e,i,r),B0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pr(),r=Qa(e),i=ia(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ya(e,i,r),t!==null&&(mi(t,e,r,n),B0(t,e,r))}};function Vg(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!uc(n,r)||!uc(i,a):!0}function H4(e,t,n){var r=!1,i=eo,a=t.contextType;return typeof a=="object"&&a!==null?a=Jr(a):(i=Ar(t)?Xo:ur.current,r=t.contextTypes,a=(r=r!=null)?vs(e,i):eo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function vm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=V4,Rv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Jr(a):(a=Ar(t)?Xo:ur.current,i.context=vs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(mm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kd.enqueueReplaceState(i,i.state,null),md(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;l===V4&&(l=i.refs={}),o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,e))}return e}function v0(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wg(e){var t=e._init;return t(e._payload)}function W4(e){function t(y,E){if(e){var w=y.deletions;w===null?(y.deletions=[E],y.flags|=16):w.push(E)}}function n(y,E){if(!e)return null;for(;E!==null;)t(y,E),E=E.sibling;return null}function r(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=Za(y,E),y.index=0,y.sibling=null,y}function a(y,E,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<E?(y.flags|=2,E):w):(y.flags|=2,E)):(y.flags|=1048576,E)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,E,w,P){return E===null||E.tag!==6?(E=fp(w,y.mode,P),E.return=y,E):(E=i(E,w),E.return=y,E)}function s(y,E,w,P){var j=w.type;return j===Yl?d(y,E,w.props.children,P,w.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ia&&Wg(j)===E.type)?(P=i(E,w.props),P.ref=Pu(y,E,w),P.return=y,P):(P=V0(w.type,w.key,w.props,null,y.mode,P),P.ref=Pu(y,E,w),P.return=y,P)}function u(y,E,w,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=dp(w,y.mode,P),E.return=y,E):(E=i(E,w.children||[]),E.return=y,E)}function d(y,E,w,P,j){return E===null||E.tag!==7?(E=Vo(w,y.mode,P,j),E.return=y,E):(E=i(E,w),E.return=y,E)}function p(y,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fp(""+E,y.mode,w),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case a0:return w=V0(E.type,E.key,E.props,null,y.mode,w),w.ref=Pu(y,null,E),w.return=y,w;case Xl:return E=dp(E,y.mode,w),E.return=y,E;case Ia:var P=E._init;return p(y,P(E._payload),w)}if($u(E)||Cu(E))return E=Vo(E,y.mode,w,null),E.return=y,E;v0(y,E)}return null}function c(y,E,w,P){var j=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,E,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case a0:return w.key===j?s(y,E,w,P):null;case Xl:return w.key===j?u(y,E,w,P):null;case Ia:return j=w._init,c(y,E,j(w._payload),P)}if($u(w)||Cu(w))return j!==null?null:d(y,E,w,P,null);v0(y,w)}return null}function g(y,E,w,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(w)||null,l(E,y,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case a0:return y=y.get(P.key===null?w:P.key)||null,s(E,y,P,j);case Xl:return y=y.get(P.key===null?w:P.key)||null,u(E,y,P,j);case Ia:var Q=P._init;return g(y,E,w,Q(P._payload),j)}if($u(P)||Cu(P))return y=y.get(w)||null,d(E,y,P,j,null);v0(E,P)}return null}function _(y,E,w,P){for(var j=null,Q=null,ce=E,ne=E=0,We=null;ce!==null&&ne<w.length;ne++){ce.index>ne?(We=ce,ce=null):We=ce.sibling;var Ce=c(y,ce,w[ne],P);if(Ce===null){ce===null&&(ce=We);break}e&&ce&&Ce.alternate===null&&t(y,ce),E=a(Ce,E,ne),Q===null?j=Ce:Q.sibling=Ce,Q=Ce,ce=We}if(ne===w.length)return n(y,ce),vn&&Io(y,ne),j;if(ce===null){for(;ne<w.length;ne++)ce=p(y,w[ne],P),ce!==null&&(E=a(ce,E,ne),Q===null?j=ce:Q.sibling=ce,Q=ce);return vn&&Io(y,ne),j}for(ce=r(y,ce);ne<w.length;ne++)We=g(ce,y,ne,w[ne],P),We!==null&&(e&&We.alternate!==null&&ce.delete(We.key===null?ne:We.key),E=a(We,E,ne),Q===null?j=We:Q.sibling=We,Q=We);return e&&ce.forEach(function(Be){return t(y,Be)}),vn&&Io(y,ne),j}function L(y,E,w,P){var j=Cu(w);if(typeof j!="function")throw Error(Me(150));if(w=j.call(w),w==null)throw Error(Me(151));for(var Q=j=null,ce=E,ne=E=0,We=null,Ce=w.next();ce!==null&&!Ce.done;ne++,Ce=w.next()){ce.index>ne?(We=ce,ce=null):We=ce.sibling;var Be=c(y,ce,Ce.value,P);if(Be===null){ce===null&&(ce=We);break}e&&ce&&Be.alternate===null&&t(y,ce),E=a(Be,E,ne),Q===null?j=Be:Q.sibling=Be,Q=Be,ce=We}if(Ce.done)return n(y,ce),vn&&Io(y,ne),j;if(ce===null){for(;!Ce.done;ne++,Ce=w.next())Ce=p(y,Ce.value,P),Ce!==null&&(E=a(Ce,E,ne),Q===null?j=Ce:Q.sibling=Ce,Q=Ce);return vn&&Io(y,ne),j}for(ce=r(y,ce);!Ce.done;ne++,Ce=w.next())Ce=g(ce,y,ne,Ce.value,P),Ce!==null&&(e&&Ce.alternate!==null&&ce.delete(Ce.key===null?ne:Ce.key),E=a(Ce,E,ne),Q===null?j=Ce:Q.sibling=Ce,Q=Ce);return e&&ce.forEach(function(qe){return t(y,qe)}),vn&&Io(y,ne),j}function N(y,E,w,P){if(typeof w=="object"&&w!==null&&w.type===Yl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case a0:e:{for(var j=w.key,Q=E;Q!==null;){if(Q.key===j){if(j=w.type,j===Yl){if(Q.tag===7){n(y,Q.sibling),E=i(Q,w.props.children),E.return=y,y=E;break e}}else if(Q.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ia&&Wg(j)===Q.type){n(y,Q.sibling),E=i(Q,w.props),E.ref=Pu(y,Q,w),E.return=y,y=E;break e}n(y,Q);break}else t(y,Q);Q=Q.sibling}w.type===Yl?(E=Vo(w.props.children,y.mode,P,w.key),E.return=y,y=E):(P=V0(w.type,w.key,w.props,null,y.mode,P),P.ref=Pu(y,E,w),P.return=y,y=P)}return o(y);case Xl:e:{for(Q=w.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(y,E.sibling),E=i(E,w.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else t(y,E);E=E.sibling}E=dp(w,y.mode,P),E.return=y,y=E}return o(y);case Ia:return Q=w._init,N(y,E,Q(w._payload),P)}if($u(w))return _(y,E,w,P);if(Cu(w))return L(y,E,w,P);v0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(n(y,E.sibling),E=i(E,w),E.return=y,y=E):(n(y,E),E=fp(w,y.mode,P),E.return=y,y=E),o(y)):n(y,E)}return N}var ys=W4(!0),X4=W4(!1),Nc={},Di=ro(Nc),hc=ro(Nc),pc=ro(Nc);function jo(e){if(e===Nc)throw Error(Me(174));return e}function kv(e,t){switch(un(pc,t),un(hc,e),un(Di,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yp(t,e)}hn(Di),un(Di,t)}function xs(){hn(Di),hn(hc),hn(pc)}function Y4(e){jo(pc.current);var t=jo(Di.current),n=Yp(t,e.type);t!==n&&(un(hc,e),un(Di,n))}function Pv(e){hc.current===e&&(hn(Di),hn(hc))}var _n=ro(0);function vd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ap=[];function Ov(){for(var e=0;e<ap.length;e++)ap[e]._workInProgressVersionPrimary=null;ap.length=0}var $0=ca.ReactCurrentDispatcher,op=ca.ReactCurrentBatchConfig,qo=0,Sn=null,Wn=null,Kn=null,gd=!1,qu=!1,mc=0,Y7=0;function ar(){throw Error(Me(321))}function Nv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vi(e[n],t[n]))return!1;return!0}function Mv(e,t,n,r,i,a){if(qo=a,Sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$0.current=e===null||e.memoizedState===null?K7:J7,e=n(r,i),qu){a=0;do{if(qu=!1,mc=0,25<=a)throw Error(Me(301));a+=1,Kn=Wn=null,t.updateQueue=null,$0.current=ex,e=n(r,i)}while(qu)}if($0.current=yd,t=Wn!==null&&Wn.next!==null,qo=0,Kn=Wn=Sn=null,gd=!1,t)throw Error(Me(300));return e}function Iv(){var e=mc!==0;return mc=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Sn.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function ei(){if(Wn===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=Kn===null?Sn.memoizedState:Kn.next;if(t!==null)Kn=t,Wn=e;else{if(e===null)throw Error(Me(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Kn===null?Sn.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function vc(e,t){return typeof t=="function"?t(e):t}function lp(e){var t=ei(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=Wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,s=null,u=a;do{var d=u.lane;if((qo&d)===d)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=p,o=r):s=s.next=p,Sn.lanes|=d,Qo|=d}u=u.next}while(u!==null&&u!==a);s===null?o=r:s.next=l,vi(r,t.memoizedState)||(Sr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Sn.lanes|=a,Qo|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sp(e){var t=ei(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);vi(a,t.memoizedState)||(Sr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function q4(){}function Q4(e,t){var n=Sn,r=ei(),i=t(),a=!vi(r.memoizedState,i);if(a&&(r.memoizedState=i,Sr=!0),r=r.queue,Dv(J4.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Kn!==null&&Kn.memoizedState.tag&1){if(n.flags|=2048,gc(9,K4.bind(null,n,r,i,t),void 0,null),Jn===null)throw Error(Me(349));qo&30||Z4(n,t,i)}return i}function Z4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K4(e,t,n,r){t.value=n,t.getSnapshot=r,e6(t)&&t6(e)}function J4(e,t,n){return n(function(){e6(t)&&t6(e)})}function e6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vi(e,n)}catch{return!0}}function t6(e){var t=la(e,1);t!==null&&mi(t,e,1,-1)}function Xg(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=Z7.bind(null,Sn,e),[t.memoizedState,e]}function gc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function n6(){return ei().memoizedState}function j0(e,t,n,r){var i=Oi();Sn.flags|=e,i.memoizedState=gc(1|t,n,void 0,r===void 0?null:r)}function Jd(e,t,n,r){var i=ei();r=r===void 0?null:r;var a=void 0;if(Wn!==null){var o=Wn.memoizedState;if(a=o.destroy,r!==null&&Nv(r,o.deps)){i.memoizedState=gc(t,n,a,r);return}}Sn.flags|=e,i.memoizedState=gc(1|t,n,a,r)}function Yg(e,t){return j0(8390656,8,e,t)}function Dv(e,t){return Jd(2048,8,e,t)}function r6(e,t){return Jd(4,2,e,t)}function i6(e,t){return Jd(4,4,e,t)}function a6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o6(e,t,n){return n=n!=null?n.concat([e]):null,Jd(4,4,a6.bind(null,t,e),n)}function Fv(){}function l6(e,t){var n=ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s6(e,t){var n=ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function u6(e,t,n){return qo&21?(vi(n,t)||(n=d4(),Sn.lanes|=n,Qo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sr=!0),e.memoizedState=n)}function q7(e,t){var n=en;en=n!==0&&4>n?n:4,e(!0);var r=op.transition;op.transition={};try{e(!1),t()}finally{en=n,op.transition=r}}function c6(){return ei().memoizedState}function Q7(e,t,n){var r=Qa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f6(e))d6(t,n);else if(n=G4(e,t,n,r),n!==null){var i=pr();mi(n,e,r,i),h6(n,t,r)}}function Z7(e,t,n){var r=Qa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f6(e))d6(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,vi(l,o)){var s=t.interleaved;s===null?(i.next=i,Lv(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=G4(e,t,i,r),n!==null&&(i=pr(),mi(n,e,r,i),h6(n,t,r))}}function f6(e){var t=e.alternate;return e===Sn||t!==null&&t===Sn}function d6(e,t){qu=gd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function h6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pv(e,n)}}var yd={readContext:Jr,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},K7={readContext:Jr,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:Yg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,j0(4194308,4,a6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return j0(4194308,4,e,t)},useInsertionEffect:function(e,t){return j0(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Q7.bind(null,Sn,e),[r.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:Xg,useDebugValue:Fv,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Xg(!1),t=e[0];return e=q7.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sn,i=Oi();if(vn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=t(),Jn===null)throw Error(Me(349));qo&30||Z4(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Yg(J4.bind(null,r,a,e),[e]),r.flags|=2048,gc(9,K4.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Jn.identifierPrefix;if(vn){var n=ra,r=na;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Y7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J7={readContext:Jr,useCallback:l6,useContext:Jr,useEffect:Dv,useImperativeHandle:o6,useInsertionEffect:r6,useLayoutEffect:i6,useMemo:s6,useReducer:lp,useRef:n6,useState:function(){return lp(vc)},useDebugValue:Fv,useDeferredValue:function(e){var t=ei();return u6(t,Wn.memoizedState,e)},useTransition:function(){var e=lp(vc)[0],t=ei().memoizedState;return[e,t]},useMutableSource:q4,useSyncExternalStore:Q4,useId:c6,unstable_isNewReconciler:!1},ex={readContext:Jr,useCallback:l6,useContext:Jr,useEffect:Dv,useImperativeHandle:o6,useInsertionEffect:r6,useLayoutEffect:i6,useMemo:s6,useReducer:sp,useRef:n6,useState:function(){return sp(vc)},useDebugValue:Fv,useDeferredValue:function(e){var t=ei();return Wn===null?t.memoizedState=e:u6(t,Wn.memoizedState,e)},useTransition:function(){var e=sp(vc)[0],t=ei().memoizedState;return[e,t]},useMutableSource:q4,useSyncExternalStore:Q4,useId:c6,unstable_isNewReconciler:!1};function _s(e,t){try{var n="",r=t;do n+=L9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function up(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function p6(e,t,n){n=ia(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_d||(_d=!0,bm=r),gm(e,t)},n}function m6(e,t,n){n=ia(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gm(e,t),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mx.bind(null,e,t,n),t.then(e,e))}function Qg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ia(-1,1),t.tag=2,Ya(n,t,1))),n.lanes|=1),e)}var nx=ca.ReactCurrentOwner,Sr=!1;function dr(e,t,n,r){t.child=e===null?X4(t,null,n,r):ys(t,e.child,n,r)}function Kg(e,t,n,r,i){n=n.render;var a=t.ref;return fs(t,i),r=Mv(e,t,n,r,a,i),n=Iv(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sa(e,t,i)):(vn&&n&&Ev(t),t.flags|=1,dr(e,t,r,i),t.child)}function Jg(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Hv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,v6(e,t,a,r,i)):(e=V0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,e=Za(a,r),e.ref=t.ref,e.return=t,t.child=e}function v6(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(uc(a,r)&&e.ref===t.ref)if(Sr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Sr=!0);else return t.lanes=e.lanes,sa(e,t,i)}return ym(e,t,n,r,i)}function g6(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(is,Dr),Dr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(is,Dr),Dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,un(is,Dr),Dr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,un(is,Dr),Dr|=r;return dr(e,t,i,n),t.child}function y6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ym(e,t,n,r,i){var a=Ar(n)?Xo:ur.current;return a=vs(t,a),fs(t,i),n=Mv(e,t,n,r,a,i),r=Iv(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sa(e,t,i)):(vn&&r&&Ev(t),t.flags|=1,dr(e,t,n,i),t.child)}function ey(e,t,n,r,i){if(Ar(n)){var a=!0;cd(t)}else a=!1;if(fs(t,i),t.stateNode===null)z0(e,t),H4(t,n,r),vm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=Ar(n)?Xo:ur.current,u=vs(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||s!==u)&&Hg(t,o,r,u),Da=!1;var c=t.memoizedState;o.state=c,md(t,r,o,i),s=t.memoizedState,l!==r||c!==s||Tr.current||Da?(typeof d=="function"&&(mm(t,n,d,r),s=t.memoizedState),(l=Da||Vg(t,n,l,r,c,s,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,U4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ui(t.type,l),o.props=u,p=t.pendingProps,c=o.context,s=n.contextType,typeof s=="object"&&s!==null?s=Jr(s):(s=Ar(n)?Xo:ur.current,s=vs(t,s));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||c!==s)&&Hg(t,o,r,s),Da=!1,c=t.memoizedState,o.state=c,md(t,r,o,i);var _=t.memoizedState;l!==p||c!==_||Tr.current||Da?(typeof g=="function"&&(mm(t,n,g,r),_=t.memoizedState),(u=Da||Vg(t,n,u,r,c,_,s)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,s)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=s,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return xm(e,t,n,r,a,i)}function xm(e,t,n,r,i,a){y6(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&$g(t,n,!1),sa(e,t,a);r=t.stateNode,nx.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,a),t.child=ys(t,null,l,a)):dr(e,t,l,a),t.memoizedState=r.state,i&&$g(t,n,!0),t.child}function x6(e){var t=e.stateNode;t.pendingContext?Bg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bg(e,t.context,!1),kv(e,t.containerInfo)}function ty(e,t,n,r,i){return gs(),Tv(i),t.flags|=256,dr(e,t,n,r),t.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function _6(e,t,n){var r=t.pendingProps,i=_n.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),un(_n,i&1),e===null)return hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=nh(o,r,0,null),e=Vo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=wm(n),t.memoizedState=_m,e):Bv(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rx(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Za(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Za(l,a):(a=Vo(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=_m,r}return a=e.child,e=a.sibling,r=Za(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bv(e,t){return t=nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function g0(e,t,n,r){return r!==null&&Tv(r),ys(t,e.child,null,n),e=Bv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rx(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=up(Error(Me(422))),g0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=nh({mode:"visible",children:r.children},i,0,null),a=Vo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=wm(o),t.memoizedState=_m,a);if(!(t.mode&1))return g0(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Me(419)),r=up(a,r,void 0),g0(e,t,o,r)}if(l=(o&e.childLanes)!==0,Sr||l){if(r=Jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,la(e,i),mi(r,e,i,-1))}return Vv(),r=up(Error(Me(421))),g0(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vx.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Fr=Xa(i.nextSibling),Br=t,vn=!0,fi=null,e!==null&&(qr[Qr++]=na,qr[Qr++]=ra,qr[Qr++]=Yo,na=e.id,ra=e.overflow,Yo=t),t=Bv(t,r.children),t.flags|=4096,t)}function ny(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pm(e.return,t,n)}function cp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function w6(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(dr(e,t,r.children,n),r=_n.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,n,t);else if(e.tag===19)ny(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(un(_n,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cp(t,!0,n,null,a);break;case"together":cp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function z0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,n=Za(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Za(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ix(e,t,n){switch(t.tag){case 3:x6(t),gs();break;case 5:Y4(t);break;case 1:Ar(t.type)&&cd(t);break;case 4:kv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;un(hd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(un(_n,_n.current&1),t.flags|=128,null):n&t.child.childLanes?_6(e,t,n):(un(_n,_n.current&1),e=sa(e,t,n),e!==null?e.sibling:null);un(_n,_n.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return w6(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),un(_n,_n.current),r)break;return null;case 22:case 23:return t.lanes=0,g6(e,t,n)}return sa(e,t,n)}var E6,Em,S6,T6;E6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};S6=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,jo(Di.current);var a=null;switch(n){case"input":i=Vp(e,i),r=Vp(e,r),a=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),a=[];break;case"textarea":i=Xp(e,i),r=Xp(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sd)}qp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(a||(a=[]),a.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(a=a||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&dn("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};T6=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ou(e,t){if(!vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ax(e,t,n){var r=t.pendingProps;switch(Sv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return Ar(t.type)&&ud(),or(t),null;case 3:return r=t.stateNode,xs(),hn(Tr),hn(ur),Ov(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(m0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fi!==null&&(km(fi),fi=null))),Em(e,t),or(t),null;case 5:Pv(t);var i=jo(pc.current);if(n=t.type,e!==null&&t.stateNode!=null)S6(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return or(t),null}if(e=jo(Di.current),m0(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Mi]=t,r[dc]=a,e=(t.mode&1)!==0,n){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(i=0;i<zu.length;i++)dn(zu[i],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":fg(r,a),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},dn("invalid",r);break;case"textarea":hg(r,a),dn("invalid",r)}qp(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&p0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&p0(r.textContent,l,e),i=["children",""+l]):nc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dn("scroll",r)}switch(n){case"input":o0(r),dg(r,a,!0);break;case"textarea":o0(r),pg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=sd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Z3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mi]=t,e[dc]=r,E6(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qp(n,r),n){case"dialog":dn("cancel",e),dn("close",e),i=r;break;case"iframe":case"object":case"embed":dn("load",e),i=r;break;case"video":case"audio":for(i=0;i<zu.length;i++)dn(zu[i],e);i=r;break;case"source":dn("error",e),i=r;break;case"img":case"image":case"link":dn("error",e),dn("load",e),i=r;break;case"details":dn("toggle",e),i=r;break;case"input":fg(e,r),i=Vp(e,r),dn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),dn("invalid",e);break;case"textarea":hg(e,r),i=Xp(e,r),dn("invalid",e);break;default:i=r}qp(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];a==="style"?e4(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&K3(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&rc(e,s):typeof s=="number"&&rc(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nc.hasOwnProperty(a)?s!=null&&a==="onScroll"&&dn("scroll",e):s!=null&&sv(e,a,s,o))}switch(n){case"input":o0(e),dg(e,r,!1);break;case"textarea":o0(e),pg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ja(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)T6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(n=jo(pc.current),jo(Di.current),m0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mi]=t,(a=r.nodeValue!==n)&&(e=Br,e!==null))switch(e.tag){case 3:p0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&p0(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=t,t.stateNode=r}return or(t),null;case 13:if(hn(_n),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vn&&Fr!==null&&t.mode&1&&!(t.flags&128))z4(),gs(),t.flags|=98560,a=!1;else if(a=m0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Me(317));a[Mi]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),a=!1}else fi!==null&&(km(fi),fi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_n.current&1?Xn===0&&(Xn=3):Vv())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return xs(),Em(e,t),e===null&&cc(t.stateNode.containerInfo),or(t),null;case 10:return bv(t.type._context),or(t),null;case 17:return Ar(t.type)&&ud(),or(t),null;case 19:if(hn(_n),a=t.memoizedState,a===null)return or(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ou(a,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vd(e),o!==null){for(t.flags|=128,Ou(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return un(_n,_n.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fn()>ws&&(t.flags|=128,r=!0,Ou(a,!1),t.lanes=4194304)}else{if(!r)if(e=vd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ou(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!vn)return or(t),null}else 2*Fn()-a.renderingStartTime>ws&&n!==1073741824&&(t.flags|=128,r=!0,Ou(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fn(),t.sibling=null,n=_n.current,un(_n,r?n&1|2:n&1),t):(or(t),null);case 22:case 23:return Uv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dr&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function ox(e,t){switch(Sv(t),t.tag){case 1:return Ar(t.type)&&ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),hn(Tr),hn(ur),Ov(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pv(t),null;case 13:if(hn(_n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hn(_n),null;case 4:return xs(),null;case 10:return bv(t.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var y0=!1,lr=!1,lx=typeof WeakSet=="function"?WeakSet:Set,rt=null;function rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function Sm(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var ry=!1;function sx(e,t){if(om=ad,e=L4(),wv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,u=0,d=0,p=e,c=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==a||r!==0&&p.nodeType!==3||(s=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)c=p,p=g;for(;;){if(p===e)break t;if(c===n&&++u===i&&(l=o),c===a&&++d===r&&(s=o),(g=p.nextSibling)!==null)break;p=c,c=p.parentNode}p=g}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:e,selectionRange:n},ad=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){t=rt;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var L=_.memoizedProps,N=_.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?L:ui(t.type,L),N);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(P){Pn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}return _=ry,ry=!1,_}function Qu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Sm(t,n,a)}i=i.next}while(i!==r)}}function eh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function A6(e){var t=e.alternate;t!==null&&(e.alternate=null,A6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[dc],delete t[cm],delete t[V7],delete t[H7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C6(e){return e.tag===5||e.tag===3||e.tag===4}function iy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sd));else if(r!==4&&(e=e.child,e!==null))for(Am(e,t,n),e=e.sibling;e!==null;)Am(e,t,n),e=e.sibling}function Cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}var tr=null,ci=!1;function Pa(e,t,n){for(n=n.child;n!==null;)b6(e,t,n),n=n.sibling}function b6(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Wd,n)}catch{}switch(n.tag){case 5:lr||rs(n,t);case 6:var r=tr,i=ci;tr=null,Pa(e,t,n),tr=r,ci=i,tr!==null&&(ci?(e=tr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tr.removeChild(n.stateNode));break;case 18:tr!==null&&(ci?(e=tr,n=n.stateNode,e.nodeType===8?rp(e.parentNode,n):e.nodeType===1&&rp(e,n),lc(e)):rp(tr,n.stateNode));break;case 4:r=tr,i=ci,tr=n.stateNode.containerInfo,ci=!0,Pa(e,t,n),tr=r,ci=i;break;case 0:case 11:case 14:case 15:if(!lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Sm(n,t,o),i=i.next}while(i!==r)}Pa(e,t,n);break;case 1:if(!lr&&(rs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pn(n,t,l)}Pa(e,t,n);break;case 21:Pa(e,t,n);break;case 22:n.mode&1?(lr=(r=lr)||n.memoizedState!==null,Pa(e,t,n),lr=r):Pa(e,t,n);break;default:Pa(e,t,n)}}function ay(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lx),t.forEach(function(r){var i=gx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tr=l.stateNode,ci=!1;break e;case 3:tr=l.stateNode.containerInfo,ci=!0;break e;case 4:tr=l.stateNode.containerInfo,ci=!0;break e}l=l.return}if(tr===null)throw Error(Me(160));b6(a,o,i),tr=null,ci=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Pn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L6(t,e),t=t.sibling}function L6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oi(t,e),ki(e),r&4){try{Qu(3,e,e.return),eh(3,e)}catch(L){Pn(e,e.return,L)}try{Qu(5,e,e.return)}catch(L){Pn(e,e.return,L)}}break;case 1:oi(t,e),ki(e),r&512&&n!==null&&rs(n,n.return);break;case 5:if(oi(t,e),ki(e),r&512&&n!==null&&rs(n,n.return),e.flags&32){var i=e.stateNode;try{rc(i,"")}catch(L){Pn(e,e.return,L)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&q3(i,a),Qp(l,o);var u=Qp(l,a);for(o=0;o<s.length;o+=2){var d=s[o],p=s[o+1];d==="style"?e4(i,p):d==="dangerouslySetInnerHTML"?K3(i,p):d==="children"?rc(i,p):sv(i,d,p,u)}switch(l){case"input":Hp(i,a);break;case"textarea":Q3(i,a);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ls(i,!!a.multiple,g,!1):c!==!!a.multiple&&(a.defaultValue!=null?ls(i,!!a.multiple,a.defaultValue,!0):ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[dc]=a}catch(L){Pn(e,e.return,L)}}break;case 6:if(oi(t,e),ki(e),r&4){if(e.stateNode===null)throw Error(Me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(L){Pn(e,e.return,L)}}break;case 3:if(oi(t,e),ki(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(L){Pn(e,e.return,L)}break;case 4:oi(t,e),ki(e);break;case 13:oi(t,e),ki(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(zv=Fn())),r&4&&ay(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(lr=(u=lr)||d,oi(t,e),lr=u):oi(t,e),ki(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(rt=e,d=e.child;d!==null;){for(p=rt=d;rt!==null;){switch(c=rt,g=c.child,c.tag){case 0:case 11:case 14:case 15:Qu(4,c,c.return);break;case 1:rs(c,c.return);var _=c.stateNode;if(typeof _.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(L){Pn(r,n,L)}}break;case 5:rs(c,c.return);break;case 22:if(c.memoizedState!==null){ly(p);continue}}g!==null?(g.return=c,rt=g):ly(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,s=p.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=J3("display",o))}catch(L){Pn(e,e.return,L)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(L){Pn(e,e.return,L)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:oi(t,e),ki(e),r&4&&ay(e);break;case 21:break;default:oi(t,e),ki(e)}}function ki(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(C6(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rc(i,""),r.flags&=-33);var a=iy(e);Cm(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=iy(e);Am(e,l,o);break;default:throw Error(Me(161))}}catch(s){Pn(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ux(e,t,n){rt=e,R6(e)}function R6(e,t,n){for(var r=(e.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||y0;if(!o){var l=i.alternate,s=l!==null&&l.memoizedState!==null||lr;l=y0;var u=lr;if(y0=o,(lr=s)&&!u)for(rt=i;rt!==null;)o=rt,s=o.child,o.tag===22&&o.memoizedState!==null?sy(i):s!==null?(s.return=o,rt=s):sy(i);for(;a!==null;)rt=a,R6(a),a=a.sibling;rt=i,y0=l,lr=u}oy(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):oy(e)}}function oy(e){for(;rt!==null;){var t=rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||eh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ug(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ug(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&lc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}lr||t.flags&512&&Tm(t)}catch(c){Pn(t,t.return,c)}}if(t===e){rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,rt=n;break}rt=t.return}}function ly(e){for(;rt!==null;){var t=rt;if(t===e){rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,rt=n;break}rt=t.return}}function sy(e){for(;rt!==null;){var t=rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eh(4,t)}catch(s){Pn(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Pn(t,i,s)}}var a=t.return;try{Tm(t)}catch(s){Pn(t,a,s)}break;case 5:var o=t.return;try{Tm(t)}catch(s){Pn(t,o,s)}}}catch(s){Pn(t,t.return,s)}if(t===e){rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,rt=l;break}rt=t.return}}var cx=Math.ceil,xd=ca.ReactCurrentDispatcher,$v=ca.ReactCurrentOwner,Kr=ca.ReactCurrentBatchConfig,Qt=0,Jn=null,Gn=null,nr=0,Dr=0,is=ro(0),Xn=0,yc=null,Qo=0,th=0,jv=0,Zu=null,Er=null,zv=0,ws=1/0,ea=null,_d=!1,bm=null,qa=null,x0=!1,za=null,wd=0,Ku=0,Lm=null,G0=-1,U0=0;function pr(){return Qt&6?Fn():G0!==-1?G0:G0=Fn()}function Qa(e){return e.mode&1?Qt&2&&nr!==0?nr&-nr:X7.transition!==null?(U0===0&&(U0=d4()),U0):(e=en,e!==0||(e=window.event,e=e===void 0?16:x4(e.type)),e):1}function mi(e,t,n,r){if(50<Ku)throw Ku=0,Lm=null,Error(Me(185));kc(e,n,r),(!(Qt&2)||e!==Jn)&&(e===Jn&&(!(Qt&2)&&(th|=n),Xn===4&&Ba(e,nr)),Cr(e,r),n===1&&Qt===0&&!(t.mode&1)&&(ws=Fn()+500,Zd&&io()))}function Cr(e,t){var n=e.callbackNode;X9(e,t);var r=id(e,e===Jn?nr:0);if(r===0)n!==null&&gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gg(n),t===1)e.tag===0?W7(uy.bind(null,e)):B4(uy.bind(null,e)),G7(function(){!(Qt&6)&&io()}),n=null;else{switch(h4(r)){case 1:n=hv;break;case 4:n=c4;break;case 16:n=rd;break;case 536870912:n=f4;break;default:n=rd}n=F6(n,k6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function k6(e,t){if(G0=-1,U0=0,Qt&6)throw Error(Me(327));var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var r=id(e,e===Jn?nr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ed(e,r);else{t=r;var i=Qt;Qt|=2;var a=O6();(Jn!==e||nr!==t)&&(ea=null,ws=Fn()+500,Uo(e,t));do try{hx();break}catch(l){P6(e,l)}while(!0);Cv(),xd.current=a,Qt=i,Gn!==null?t=0:(Jn=null,nr=0,t=Xn)}if(t!==0){if(t===2&&(i=tm(e),i!==0&&(r=i,t=Rm(e,i))),t===1)throw n=yc,Uo(e,0),Ba(e,r),Cr(e,Fn()),n;if(t===6)Ba(e,r);else{if(i=e.current.alternate,!(r&30)&&!fx(i)&&(t=Ed(e,r),t===2&&(a=tm(e),a!==0&&(r=a,t=Rm(e,a))),t===1))throw n=yc,Uo(e,0),Ba(e,r),Cr(e,Fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:Do(e,Er,ea);break;case 3:if(Ba(e,r),(r&130023424)===r&&(t=zv+500-Fn(),10<t)){if(id(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=um(Do.bind(null,e,Er,ea),t);break}Do(e,Er,ea);break;case 4:if(Ba(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pi(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cx(r/1960))-r,10<r){e.timeoutHandle=um(Do.bind(null,e,Er,ea),r);break}Do(e,Er,ea);break;case 5:Do(e,Er,ea);break;default:throw Error(Me(329))}}}return Cr(e,Fn()),e.callbackNode===n?k6.bind(null,e):null}function Rm(e,t){var n=Zu;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),e=Ed(e,t),e!==2&&(t=Er,Er=n,t!==null&&km(t)),e}function km(e){Er===null?Er=e:Er.push.apply(Er,e)}function fx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t){for(t&=~jv,t&=~th,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pi(t),r=1<<n;e[n]=-1,t&=~r}}function uy(e){if(Qt&6)throw Error(Me(327));ds();var t=id(e,0);if(!(t&1))return Cr(e,Fn()),null;var n=Ed(e,t);if(e.tag!==0&&n===2){var r=tm(e);r!==0&&(t=r,n=Rm(e,r))}if(n===1)throw n=yc,Uo(e,0),Ba(e,t),Cr(e,Fn()),n;if(n===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,Er,ea),Cr(e,Fn()),null}function Gv(e,t){var n=Qt;Qt|=1;try{return e(t)}finally{Qt=n,Qt===0&&(ws=Fn()+500,Zd&&io())}}function Zo(e){za!==null&&za.tag===0&&!(Qt&6)&&ds();var t=Qt;Qt|=1;var n=Kr.transition,r=en;try{if(Kr.transition=null,en=1,e)return e()}finally{en=r,Kr.transition=n,Qt=t,!(Qt&6)&&io()}}function Uv(){Dr=is.current,hn(is)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,z7(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(Sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ud();break;case 3:xs(),hn(Tr),hn(ur),Ov();break;case 5:Pv(r);break;case 4:xs();break;case 13:hn(_n);break;case 19:hn(_n);break;case 10:bv(r.type._context);break;case 22:case 23:Uv()}n=n.return}if(Jn=e,Gn=e=Za(e.current,null),nr=Dr=t,Xn=0,yc=null,jv=th=Qo=0,Er=Zu=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}$o=null}return e}function P6(e,t){do{var n=Gn;try{if(Cv(),$0.current=yd,gd){for(var r=Sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gd=!1}if(qo=0,Kn=Wn=Sn=null,qu=!1,mc=0,$v.current=null,n===null||n.return===null){Xn=1,yc=t,Gn=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=nr,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Qg(o);if(g!==null){g.flags&=-257,Zg(g,o,l,a,t),g.mode&1&&qg(a,u,t),t=g,s=u;var _=t.updateQueue;if(_===null){var L=new Set;L.add(s),t.updateQueue=L}else _.add(s);break e}else{if(!(t&1)){qg(a,u,t),Vv();break e}s=Error(Me(426))}}else if(vn&&l.mode&1){var N=Qg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Zg(N,o,l,a,t),Tv(_s(s,l));break e}}a=s=_s(s,l),Xn!==4&&(Xn=2),Zu===null?Zu=[a]:Zu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=p6(a,s,t);Gg(a,y);break e;case 1:l=s;var E=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qa===null||!qa.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=m6(a,l,t);Gg(a,P);break e}}a=a.return}while(a!==null)}M6(n)}catch(j){t=j,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function O6(){var e=xd.current;return xd.current=yd,e===null?yd:e}function Vv(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),Jn===null||!(Qo&268435455)&&!(th&268435455)||Ba(Jn,nr)}function Ed(e,t){var n=Qt;Qt|=2;var r=O6();(Jn!==e||nr!==t)&&(ea=null,Uo(e,t));do try{dx();break}catch(i){P6(e,i)}while(!0);if(Cv(),Qt=n,xd.current=r,Gn!==null)throw Error(Me(261));return Jn=null,nr=0,Xn}function dx(){for(;Gn!==null;)N6(Gn)}function hx(){for(;Gn!==null&&!B9();)N6(Gn)}function N6(e){var t=D6(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,t===null?M6(e):Gn=t,$v.current=null}function M6(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ox(n,t),n!==null){n.flags&=32767,Gn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,Gn=null;return}}else if(n=ax(n,t,Dr),n!==null){Gn=n;return}if(t=t.sibling,t!==null){Gn=t;return}Gn=t=e}while(t!==null);Xn===0&&(Xn=5)}function Do(e,t,n){var r=en,i=Kr.transition;try{Kr.transition=null,en=1,px(e,t,n,r)}finally{Kr.transition=i,en=r}return null}function px(e,t,n,r){do ds();while(za!==null);if(Qt&6)throw Error(Me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Y9(e,a),e===Jn&&(Gn=Jn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||x0||(x0=!0,F6(rd,function(){return ds(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Kr.transition,Kr.transition=null;var o=en;en=1;var l=Qt;Qt|=4,$v.current=null,sx(e,n),L6(n,e),M7(lm),ad=!!om,lm=om=null,e.current=n,ux(n),$9(),Qt=l,en=o,Kr.transition=a}else e.current=n;if(x0&&(x0=!1,za=e,wd=i),a=e.pendingLanes,a===0&&(qa=null),G9(n.stateNode),Cr(e,Fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_d)throw _d=!1,e=bm,bm=null,e;return wd&1&&e.tag!==0&&ds(),a=e.pendingLanes,a&1?e===Lm?Ku++:(Ku=0,Lm=e):Ku=0,io(),null}function ds(){if(za!==null){var e=h4(wd),t=Kr.transition,n=en;try{if(Kr.transition=null,en=16>e?16:e,za===null)var r=!1;else{if(e=za,za=null,wd=0,Qt&6)throw Error(Me(331));var i=Qt;for(Qt|=4,rt=e.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var l=a.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(rt=u;rt!==null;){var d=rt;switch(d.tag){case 0:case 11:case 15:Qu(8,d,a)}var p=d.child;if(p!==null)p.return=d,rt=p;else for(;rt!==null;){d=rt;var c=d.sibling,g=d.return;if(A6(d),d===u){rt=null;break}if(c!==null){c.return=g,rt=c;break}rt=g}}}var _=a.alternate;if(_!==null){var L=_.child;if(L!==null){_.child=null;do{var N=L.sibling;L.sibling=null,L=N}while(L!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qu(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,rt=y;break e}rt=a.return}}var E=e.current;for(rt=E;rt!==null;){o=rt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,rt=w;else e:for(o=E;rt!==null;){if(l=rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eh(9,l)}}catch(j){Pn(l,l.return,j)}if(l===o){rt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,rt=P;break e}rt=l.return}}if(Qt=i,io(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Wd,e)}catch{}r=!0}return r}finally{en=n,Kr.transition=t}}return!1}function cy(e,t,n){t=_s(n,t),t=p6(e,t,1),e=Ya(e,t,1),t=pr(),e!==null&&(kc(e,1,t),Cr(e,t))}function Pn(e,t,n){if(e.tag===3)cy(e,e,n);else for(;t!==null;){if(t.tag===3){cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){e=_s(n,e),e=m6(t,e,1),t=Ya(t,e,1),e=pr(),t!==null&&(kc(t,1,e),Cr(t,e));break}}t=t.return}}function mx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pr(),e.pingedLanes|=e.suspendedLanes&n,Jn===e&&(nr&n)===n&&(Xn===4||Xn===3&&(nr&130023424)===nr&&500>Fn()-zv?Uo(e,0):jv|=n),Cr(e,t)}function I6(e,t){t===0&&(e.mode&1?(t=u0,u0<<=1,!(u0&130023424)&&(u0=4194304)):t=1);var n=pr();e=la(e,t),e!==null&&(kc(e,t,n),Cr(e,n))}function vx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I6(e,n)}function gx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),I6(e,n)}var D6;D6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tr.current)Sr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sr=!1,ix(e,t,n);Sr=!!(e.flags&131072)}else Sr=!1,vn&&t.flags&1048576&&$4(t,dd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;z0(e,t),e=t.pendingProps;var i=vs(t,ur.current);fs(t,n),i=Mv(null,t,r,e,i,n);var a=Iv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(r)?(a=!0,cd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rv(t),i.updater=Kd,t.stateNode=i,i._reactInternals=t,vm(t,r,e,n),t=xm(null,t,r,!0,a,n)):(t.tag=0,vn&&a&&Ev(t),dr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(z0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xx(r),e=ui(r,e),i){case 0:t=ym(null,t,r,e,n);break e;case 1:t=ey(null,t,r,e,n);break e;case 11:t=Kg(null,t,r,e,n);break e;case 14:t=Jg(null,t,r,ui(r.type,e),n);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),ym(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),ey(e,t,r,i,n);case 3:e:{if(x6(t),e===null)throw Error(Me(387));r=t.pendingProps,a=t.memoizedState,i=a.element,U4(e,t),md(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=_s(Error(Me(423)),t),t=ty(e,t,r,n,i);break e}else if(r!==i){i=_s(Error(Me(424)),t),t=ty(e,t,r,n,i);break e}else for(Fr=Xa(t.stateNode.containerInfo.firstChild),Br=t,vn=!0,fi=null,n=X4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){t=sa(e,t,n);break e}dr(e,t,r,n)}t=t.child}return t;case 5:return Y4(t),e===null&&hm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,sm(r,i)?o=null:a!==null&&sm(r,a)&&(t.flags|=32),y6(e,t),dr(e,t,o,n),t.child;case 6:return e===null&&hm(t),null;case 13:return _6(e,t,n);case 4:return kv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ys(t,null,r,n):dr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),Kg(e,t,r,i,n);case 7:return dr(e,t,t.pendingProps,n),t.child;case 8:return dr(e,t,t.pendingProps.children,n),t.child;case 12:return dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,un(hd,r._currentValue),r._currentValue=o,a!==null)if(vi(a.value,o)){if(a.children===i.children&&!Tr.current){t=sa(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=ia(-1,n&-n),s.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),pm(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Me(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pm(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fs(t,n),i=Jr(i),r=r(i),t.flags|=1,dr(e,t,r,n),t.child;case 14:return r=t.type,i=ui(r,t.pendingProps),i=ui(r.type,i),Jg(e,t,r,i,n);case 15:return v6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ui(r,i),z0(e,t),t.tag=1,Ar(r)?(e=!0,cd(t)):e=!1,fs(t,n),H4(t,r,i),vm(t,r,i,n),xm(null,t,r,!0,e,n);case 19:return w6(e,t,n);case 22:return g6(e,t,n)}throw Error(Me(156,t.tag))};function F6(e,t){return u4(e,t)}function yx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new yx(e,t,n,r)}function Hv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xx(e){if(typeof e=="function")return Hv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cv)return 11;if(e===fv)return 14}return 2}function Za(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function V0(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Hv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yl:return Vo(n.children,i,a,t);case uv:o=8,i|=8;break;case jp:return e=Zr(12,n,t,i|2),e.elementType=jp,e.lanes=a,e;case zp:return e=Zr(13,n,t,i),e.elementType=zp,e.lanes=a,e;case Gp:return e=Zr(19,n,t,i),e.elementType=Gp,e.lanes=a,e;case W3:return nh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V3:o=10;break e;case H3:o=9;break e;case cv:o=11;break e;case fv:o=14;break e;case Ia:o=16,r=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=Zr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Vo(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function nh(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=W3,e.lanes=n,e.stateNode={isHidden:!1},e}function fp(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function dp(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _x(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W1(0),this.expirationTimes=W1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wv(e,t,n,r,i,a,o,l,s){return e=new _x(e,t,n,l,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(a),e}function wx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function B6(e){if(!e)return eo;e=e._reactInternals;e:{if(il(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var n=e.type;if(Ar(n))return F4(e,n,t)}return t}function $6(e,t,n,r,i,a,o,l,s){return e=Wv(n,r,!0,e,i,a,o,l,s),e.context=B6(null),n=e.current,r=pr(),i=Qa(n),a=ia(r,i),a.callback=t??null,Ya(n,a,i),e.current.lanes=i,kc(e,i,r),Cr(e,r),e}function rh(e,t,n,r){var i=t.current,a=pr(),o=Qa(i);return n=B6(n),t.context===null?t.context=n:t.pendingContext=n,t=ia(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ya(i,t,o),e!==null&&(mi(e,i,o,a),B0(e,i,o)),o}function Sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xv(e,t){fy(e,t),(e=e.alternate)&&fy(e,t)}function Ex(){return null}var j6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yv(e){this._internalRoot=e}ih.prototype.render=Yv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));rh(e,t,null,null)};ih.prototype.unmount=Yv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zo(function(){rh(null,e,null,null)}),t[oa]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=v4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fa.length&&t!==0&&t<Fa[n].priority;n++);Fa.splice(n,0,e),n===0&&y4(e)}};function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dy(){}function Sx(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Sd(o);a.call(u)}}var o=$6(t,r,e,0,null,!1,!1,"",dy);return e._reactRootContainer=o,e[oa]=o.current,cc(e.nodeType===8?e.parentNode:e),Zo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Sd(s);l.call(u)}}var s=Wv(e,0,!1,null,null,!1,!1,"",dy);return e._reactRootContainer=s,e[oa]=s.current,cc(e.nodeType===8?e.parentNode:e),Zo(function(){rh(t,s,n,r)}),s}function oh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var s=Sd(o);l.call(s)}}rh(t,o,e,i)}else o=Sx(n,t,e,i,r);return Sd(o)}p4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ju(t.pendingLanes);n!==0&&(pv(t,n|1),Cr(t,Fn()),!(Qt&6)&&(ws=Fn()+500,io()))}break;case 13:Zo(function(){var r=la(e,1);if(r!==null){var i=pr();mi(r,e,1,i)}}),Xv(e,1)}};mv=function(e){if(e.tag===13){var t=la(e,134217728);if(t!==null){var n=pr();mi(t,e,134217728,n)}Xv(e,134217728)}};m4=function(e){if(e.tag===13){var t=Qa(e),n=la(e,t);if(n!==null){var r=pr();mi(n,e,t,r)}Xv(e,t)}};v4=function(){return en};g4=function(e,t){var n=en;try{return en=e,t()}finally{en=n}};Kp=function(e,t,n){switch(t){case"input":if(Hp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qd(r);if(!i)throw Error(Me(90));Y3(r),Hp(r,i)}}}break;case"textarea":Q3(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};r4=Gv;i4=Zo;var Tx={usingClientEntryPoint:!1,Events:[Oc,Kl,Qd,t4,n4,Gv]},Nu={findFiberByHostInstance:Bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ax={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l4(e),e===null?null:e.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||Ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{Wd=_0.inject(Ax),Ii=_0}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;zr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(t))throw Error(Me(200));return wx(e,t,null,n)};zr.createRoot=function(e,t){if(!qv(e))throw Error(Me(299));var n=!1,r="",i=j6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Wv(e,1,!1,null,null,n,!1,r,i),e[oa]=t.current,cc(e.nodeType===8?e.parentNode:e),new Yv(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=l4(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return Zo(e)};zr.hydrate=function(e,t,n){if(!ah(t))throw Error(Me(200));return oh(null,e,t,!0,n)};zr.hydrateRoot=function(e,t,n){if(!qv(e))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=j6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$6(t,null,e,1,n??null,i,!1,a,o),e[oa]=t.current,cc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ih(t)};zr.render=function(e,t,n){if(!ah(t))throw Error(Me(200));return oh(null,e,t,!1,n)};zr.unmountComponentAtNode=function(e){if(!ah(e))throw Error(Me(40));return e._reactRootContainer?(Zo(function(){oh(null,null,e,!1,function(){e._reactRootContainer=null,e[oa]=null})}),!0):!1};zr.unstable_batchedUpdates=Gv;zr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ah(n))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return oh(e,t,n,!1,r)};zr.version="18.2.0-next-9e3b772b8-20220608";function z6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z6)}catch(e){console.error(e)}}z6(),$3.exports=zr;var Cx=$3.exports,hy=Cx;Bp.createRoot=hy.createRoot,Bp.hydrateRoot=hy.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(this,arguments)}var Ga;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ga||(Ga={}));const py="popstate";function bx(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:l="",hash:s=""}=al(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Pm("",{pathname:o,search:l,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let s=i.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof a=="string"?a:Td(a))}function r(i,a){lh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Rx(t,n,r,e)}function Un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lx(){return Math.random().toString(36).substr(2,8)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function Pm(e,t,n,r){return n===void 0&&(n=null),xc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?al(t):t,{state:n,key:t&&t.key||r||Lx()})}function Td(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Rx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Ga.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(xc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Ga.Pop;let N=d(),y=N==null?null:N-u;u=N,s&&s({action:l,location:L.location,delta:y})}function c(N,y){l=Ga.Push;let E=Pm(L.location,N,y);n&&n(E,N),u=d()+1;let w=my(E,u),P=L.createHref(E);try{o.pushState(w,"",P)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(P)}a&&s&&s({action:l,location:L.location,delta:1})}function g(N,y){l=Ga.Replace;let E=Pm(L.location,N,y);n&&n(E,N),u=d();let w=my(E,u),P=L.createHref(E);o.replaceState(w,"",P),a&&s&&s({action:l,location:L.location,delta:0})}function _(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:Td(N);return Un(y,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,y)}let L={get action(){return l},get location(){return e(i,o)},listen(N){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(py,p),s=N,()=>{i.removeEventListener(py,p),s=null}},createHref(N){return t(i,N)},createURL:_,encodeLocation(N){let y=_(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:c,replace:g,go(N){return o.go(N)}};return L}var vy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vy||(vy={}));function kx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?al(t):t,i=Qv(r.pathname||"/",n);if(i==null)return null;let a=G6(e);Px(a);let o=null;for(let l=0;o==null&&l<a.length;++l)o=jx(a[l],Ux(i));return o}function G6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let s={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};s.relativePath.startsWith("/")&&(Un(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=Ka([r,s.relativePath]),d=n.concat(s);a.children&&a.children.length>0&&(Un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Bx(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let s of U6(a.path))i(a,o,s)}),t}function U6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=U6(r.join("/")),l=[];return l.push(...o.map(s=>s===""?a:[a,s].join("/"))),i&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function Px(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$x(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ox=/^:\w+$/,Nx=3,Mx=2,Ix=1,Dx=10,Fx=-2,gy=e=>e==="*";function Bx(e,t){let n=e.split("/"),r=n.length;return n.some(gy)&&(r+=Fx),t&&(r+=Mx),n.filter(i=>!gy(i)).reduce((i,a)=>i+(Ox.test(a)?Nx:a===""?Ix:Dx),r)}function $x(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jx(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],s=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=zx({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!d)return null;Object.assign(r,d.params);let p=l.route;a.push({params:r,pathname:Ka([i,d.pathname]),pathnameBase:Xx(Ka([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Ka([i,d.pathnameBase]))}return a}function zx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Gx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:c,isOptional:g}=d;if(c==="*"){let L=l[p]||"";o=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const _=l[p];return g&&!_?u[c]=void 0:u[c]=Vx(_||"",c),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Gx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ux(e){try{return decodeURI(e)}catch(t){return lh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vx(e,t){try{return decodeURIComponent(e)}catch(n){return lh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Qv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Hx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?al(e):e;return{pathname:n?n.startsWith("/")?n:Wx(n,t):t,search:Yx(r),hash:qx(i)}}function Wx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function H6(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=al(e):(i=xc({},e),Un(!i.pathname||!i.pathname.includes("?"),hp("?","pathname","search",i)),Un(!i.pathname||!i.pathname.includes("#"),hp("#","pathname","hash",i)),Un(!i.search||!i.search.includes("#"),hp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else if(r){let p=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p.pop();i.pathname=c.join("/")}l="/"+p.join("/")}else{let p=t.length-1;if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),p-=1;i.pathname=c.join("/")}l=p>=0?t[p]:"/"}let s=Hx(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const Ka=e=>e.join("/").replace(/\/\/+/g,"/"),Xx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W6=["post","put","patch","delete"];new Set(W6);const Zx=["get",...W6];new Set(Zx);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}const Zv=G.createContext(null),Kx=G.createContext(null),Rs=G.createContext(null),sh=G.createContext(null),ao=G.createContext({outlet:null,matches:[],isDataRoute:!1}),X6=G.createContext(null);function Jx(e,t){let{relative:n}=t===void 0?{}:t;Mc()||Un(!1);let{basename:r,navigator:i}=G.useContext(Rs),{hash:a,pathname:o,search:l}=Q6(e,{relative:n}),s=o;return r!=="/"&&(s=o==="/"?r:Ka([r,o])),i.createHref({pathname:s,search:l,hash:a})}function Mc(){return G.useContext(sh)!=null}function uh(){return Mc()||Un(!1),G.useContext(sh).location}function Y6(e){G.useContext(Rs).static||G.useLayoutEffect(e)}function ch(){let{isDataRoute:e}=G.useContext(ao);return e?d_():e_()}function e_(){Mc()||Un(!1);let e=G.useContext(Zv),{basename:t,navigator:n}=G.useContext(Rs),{matches:r}=G.useContext(ao),{pathname:i}=uh(),a=JSON.stringify(V6(r).map(s=>s.pathnameBase)),o=G.useRef(!1);return Y6(()=>{o.current=!0}),G.useCallback(function(s,u){if(u===void 0&&(u={}),!o.current)return;if(typeof s=="number"){n.go(s);return}let d=H6(s,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ka([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,i,e])}function q6(){let{matches:e}=G.useContext(ao),t=e[e.length-1];return t?t.params:{}}function Q6(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=G.useContext(ao),{pathname:i}=uh(),a=JSON.stringify(V6(r).map(o=>o.pathnameBase));return G.useMemo(()=>H6(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function t_(e,t){return n_(e,t)}function n_(e,t,n){Mc()||Un(!1);let{navigator:r}=G.useContext(Rs),{matches:i}=G.useContext(ao),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let s=uh(),u;if(t){var d;let L=typeof t=="string"?al(t):t;l==="/"||(d=L.pathname)!=null&&d.startsWith(l)||Un(!1),u=L}else u=s;let p=u.pathname||"/",c=l==="/"?p:p.slice(l.length)||"/",g=kx(e,{pathname:c}),_=l_(g&&g.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:Ka([l,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:Ka([l,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),i,n);return t&&_?G.createElement(sh.Provider,{value:{location:Ad({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ga.Pop}},_):_}function r_(){let e=f_(),t=Qx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:i},n):null,a)}const i_=G.createElement(r_,null);class a_ extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?G.createElement(ao.Provider,{value:this.props.routeContext},G.createElement(X6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o_(e){let{routeContext:t,match:n,children:r}=e,i=G.useContext(Zv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(ao.Provider,{value:t},r)}function l_(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=a.findIndex(s=>s.route.id&&(o==null?void 0:o[s.route.id]));l>=0||Un(!1),a=a.slice(0,Math.min(a.length,l+1))}return a.reduceRight((l,s,u)=>{let d=s.route.id?o==null?void 0:o[s.route.id]:null,p=null;n&&(p=s.route.errorElement||i_);let c=t.concat(a.slice(0,u+1)),g=()=>{let _;return d?_=p:s.route.Component?_=G.createElement(s.route.Component,null):s.route.element?_=s.route.element:_=l,G.createElement(o_,{match:s,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:_})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?G.createElement(a_,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):g()},null)}var Z6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z6||{}),Cd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cd||{});function s_(e){let t=G.useContext(Zv);return t||Un(!1),t}function u_(e){let t=G.useContext(Kx);return t||Un(!1),t}function c_(e){let t=G.useContext(ao);return t||Un(!1),t}function K6(e){let t=c_(),n=t.matches[t.matches.length-1];return n.route.id||Un(!1),n.route.id}function f_(){var e;let t=G.useContext(X6),n=u_(Cd.UseRouteError),r=K6(Cd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function d_(){let{router:e}=s_(Z6.UseNavigateStable),t=K6(Cd.UseNavigateStable),n=G.useRef(!1);return Y6(()=>{n.current=!0}),G.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ad({fromRouteId:t},a)))},[e,t])}function H0(e){Un(!1)}function h_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ga.Pop,navigator:a,static:o=!1}=e;Mc()&&Un(!1);let l=t.replace(/^\/*/,"/"),s=G.useMemo(()=>({basename:l,navigator:a,static:o}),[l,a,o]);typeof r=="string"&&(r=al(r));let{pathname:u="/",search:d="",hash:p="",state:c=null,key:g="default"}=r,_=G.useMemo(()=>{let L=Qv(u,l);return L==null?null:{location:{pathname:L,search:d,hash:p,state:c,key:g},navigationType:i}},[l,u,d,p,c,g,i]);return _==null?null:G.createElement(Rs.Provider,{value:s},G.createElement(sh.Provider,{children:n,value:_}))}function p_(e){let{children:t,location:n}=e;return t_(Om(t),n)}new Promise(()=>{});function Om(e,t){t===void 0&&(t=[]);let n=[];return G.Children.forEach(e,(r,i)=>{if(!G.isValidElement(r))return;let a=[...t,i];if(r.type===G.Fragment){n.push.apply(n,Om(r.props.children,a));return}r.type!==H0&&Un(!1),!r.props.index||!r.props.children||Un(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Om(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(this,arguments)}function m_(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function v_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g_(e,t){return e.button===0&&(!t||t==="_self")&&!v_(e)}const y_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],x_="startTransition",yy=v9[x_];function __(e){let{basename:t,children:n,future:r,window:i}=e,a=G.useRef();a.current==null&&(a.current=bx({window:i,v5Compat:!0}));let o=a.current,[l,s]=G.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=G.useCallback(p=>{u&&yy?yy(()=>s(p)):s(p)},[s,u]);return G.useLayoutEffect(()=>o.listen(d),[o,d]),G.createElement(h_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J6=G.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:s,to:u,preventScrollReset:d,unstable_viewTransition:p}=t,c=m_(t,y_),{basename:g}=G.useContext(Rs),_,L=!1;if(typeof u=="string"&&E_.test(u)&&(_=u,w_))try{let w=new URL(window.location.href),P=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Qv(P.pathname,g);P.origin===w.origin&&j!=null?u=j+P.search+P.hash:L=!0}catch{}let N=Jx(u,{relative:i}),y=S_(u,{replace:o,state:l,target:s,preventScrollReset:d,relative:i,unstable_viewTransition:p});function E(w){r&&r(w),w.defaultPrevented||y(w)}return G.createElement("a",Nm({},c,{href:_||N,onClick:L||a?r:E,ref:n,target:s}))});var xy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xy||(xy={}));var _y;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_y||(_y={}));function S_(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,s=ch(),u=uh(),d=Q6(e,{relative:o});return G.useCallback(p=>{if(g_(p,n)){p.preventDefault();let c=r!==void 0?r:Td(u)===Td(d);s(e,{replace:c,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l})}},[u,s,d,r,i,n,e,a,o,l])}var e5={exports:{}},T_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A_=T_,C_=A_;function t5(){}function n5(){}n5.resetWarningCache=t5;var b_=function(){function e(r,i,a,o,l,s){if(s!==C_){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n5,resetWarningCache:t5};return n.PropTypes=n,n};e5.exports=b_();var L_=e5.exports;const Ke=Vd(L_);Ke.object,Ke.bool,Ke.func,Ke.func,Ke.func;const w0="https://api.latentscope.com/api";function R_(){const[e,t]=G.useState([]);G.useEffect(()=>{fetch(`${w0}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=G.useState({});G.useEffect(()=>{e.forEach(l=>{fetch(`${w0}/datasets/${l.id}/scopes`).then(s=>s.json()).then(s=>r(u=>{const d={...u};return d[l.id]=s,d}))})},[e]),G.useEffect(()=>{console.log("scopes",n)},[n]);const[i,a]=G.useState(null),o=ch();return G.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){o(`/datasets/${i.dataset}/setup`)},1e3)},[i,o]),W.jsxs("div",{className:"home",children:[null,W.jsxs("div",{className:"section datasets",children:[W.jsx("h3",{children:"Datasets"}),W.jsx("div",{className:"datasets-content",children:e.map(l=>{var s;return W.jsxs("div",{className:"dataset",children:[W.jsxs("h3",{children:[" ",l.id," ",null]}),W.jsxs("span",{children:[l.length," rows"]}),W.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((s=n[l.id])==null?void 0:s.map((u,d)=>W.jsxs("div",{className:"scope-link",children:[W.jsxs(J6,{to:`/datasets/${l.id}/explore/${u.id}`,children:[u.label||u.id,W.jsx("br",{}),u.ignore_hulls?W.jsx("img",{src:`${w0}/files/${l.id}/umaps/${u.umap_id}.png`}):W.jsx("img",{src:`${w0}/files/${l.id}/clusters/${u.cluster_id}.png`})]}),W.jsx("br",{}),W.jsx("span",{className:"scope-description",children:u.description}),W.jsx("br",{}),null]},d)))})]},l.id)})})]})]})}const wy="https://api.latentscope.com/api";r5.propTypes={data:Ke.array.isRequired,tagset:Ke.object,datasetId:Ke.string,maxRows:Ke.number,onTagset:Ke.func,onHover:Ke.func,onClick:Ke.func};function r5({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:a,onClick:o}){if(!e.length)return W.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let s;function u(p,c){console.log("tag",p),console.log("index",c),console.log("tagset",t),console.log("tagset[tag]",t[p]),t[p].includes(c)?(console.log("removing"),fetch(`${wy}/tags/remove?dataset=${n}&tag=${p}&index=${c}`).then(g=>g.json()).then(g=>{console.log("removed",g),i(g)})):(console.log("adding"),fetch(`${wy}/tags/add?dataset=${n}&tag=${p}&index=${c}`).then(g=>g.json()).then(g=>{console.log("added",g),i(g)}))}t&&(s=Object.keys(t));const d=r?e.slice(0,r):e;return W.jsxs(W.Fragment,{children:[W.jsxs("table",{className:"datatable",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[l.map((p,c)=>W.jsx("th",{children:p},c)),s?W.jsx("th",{children:"tags"}):null]})}),W.jsx("tbody",{children:d.map((p,c)=>W.jsxs("tr",{onMouseEnter:()=>a&&a(p.index),onMouseLeave:()=>a&&a(),onClick:()=>o&&o(p.index),children:[l.map((g,_)=>W.jsx("td",{children:g.toLowerCase()=="url"&&p[g]?W.jsx("a",{href:p[g],children:"url"}):p[g]},_)),s?W.jsx("td",{children:s.map((g,_)=>W.jsx("button",{onClick:L=>{u(g,p.index),L.preventDefault(),L.stopPropagation()},className:t[g].includes(p.index)?"tag-active":"tag-inactive",children:g},_))}):null]},c))})]}),r&&e.length>r?W.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const k_="https://api.latentscope.com/api";zo.propTypes={dataset:Ke.object.isRequired,indices:Ke.array.isRequired,distances:Ke.array,clusterIndices:Ke.array,clusterLabels:Ke.array,maxRows:Ke.number,tagset:Ke.object,onHover:Ke.func,onClick:Ke.func,onTagset:Ke.func};function zo({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:a,tagset:o,onHover:l,onClick:s,onTagset:u}){const[d,p]=G.useState([]),c=G.useCallback(g=>{e&&fetch(`${k_}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:g})}).then(_=>_.json()).then(_=>{let L=_.map((N,y)=>{let E=g[y],w={index:E,...N};return n&&n.length&&(w.distance=n[y]),r&&r.length&&i&&i.length&&(w.cluster=i[r[E].cluster].label),w});p(L)})},[e,n,r,i]);return G.useEffect(()=>{t&&t.length&&c(t)},[t]),W.jsx("div",{children:W.jsx(r5,{data:d,tagset:o,datasetId:e==null?void 0:e.id,maxRows:a,onTagset:u,onHover:l,onClick:s})})}const i5=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Kv=(e,t)=>t?e.toLowerCase():e,a5=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const a=Kv(n,t);return e[a]||(e[a]=[],e.__times__[a]=[]),e[a].push(r),e.__times__[a].push(+i||1/0),{event:a,handler:r}},Jv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Kv(n,t);if(!e[i])return;const a=e[i].indexOf(r);a===-1||a>=e[i].length||(e[i].splice(a,1),e.__times__[i].splice(a,1))},Ey=(e,t)=>()=>{e.forEach(n=>n(t))},o5=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Jv(e);return(a,o,l={})=>{const s=Kv(a,n);if(!e[s])return;const u=[...e[s]];if(u.forEach((d,p)=>{--e.__times__[s][p]<1&&i(s,d)}),r||l.async?setTimeout(Ey(u,o),0):Ey(u,o)(),t&&!l.isNoGlobalBroadcast)try{i5.postMessage({event:s,news:o})}catch(d){if(d instanceof DOMException)console.warn(`Could not broadcast '${s}' globally. Payload is not clonable.`);else throw d}}},P_=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},l5=()=>({__times__:{}}),O_=({async:e=!1,caseInsensitive:t=!1,stack:n=l5()}={})=>(n.__times__||(n.__times__={}),{publish:o5(n,{async:e,caseInsensitive:t}),subscribe:a5(n,{caseInsensitive:t}),unsubscribe:Jv(n,{caseInsensitive:t}),clear:P_(n),stack:n}),E0=l5(),N_={publish:o5(E0,{isGlobal:!0}),subscribe:a5(E0),unsubscribe:Jv(E0),stack:E0};i5.onmessage=({data:{event:e,news:t}})=>N_.publish(e,t,{isNoGlobalBroadcast:!0});var s5={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(e9,function(){var n=function(h){return h instanceof Uint8Array||h instanceof Uint16Array||h instanceof Uint32Array||h instanceof Int8Array||h instanceof Int16Array||h instanceof Int32Array||h instanceof Float32Array||h instanceof Float64Array||h instanceof Uint8ClampedArray},r=function(h,x){for(var R=Object.keys(x),Y=0;Y<R.length;++Y)h[R[Y]]=x[R[Y]];return h},i=`
`;function a(h){return typeof atob<"u"?atob(h):"base64:"+h}function o(h){var x=new Error("(regl) "+h);throw console.error(x),x}function l(h,x){h||o(x)}function s(h){return h?": "+h:""}function u(h,x,R){h in x||o("unknown parameter ("+h+")"+s(R)+". possible values: "+Object.keys(x).join())}function d(h,x){n(h)||o("invalid parameter type"+s(x)+". must be a typed array")}function p(h,x){switch(x){case"number":return typeof h=="number";case"object":return typeof h=="object";case"string":return typeof h=="string";case"boolean":return typeof h=="boolean";case"function":return typeof h=="function";case"undefined":return typeof h>"u";case"symbol":return typeof h=="symbol"}}function c(h,x,R){p(h,x)||o("invalid parameter type"+s(R)+". expected "+x+", got "+typeof h)}function g(h,x){h>=0&&(h|0)===h||o("invalid parameter type, ("+h+")"+s(x)+". must be a nonnegative integer")}function _(h,x,R){x.indexOf(h)<0&&o("invalid value"+s(R)+". must be one of: "+x)}var L=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function N(h){Object.keys(h).forEach(function(x){L.indexOf(x)<0&&o('invalid regl constructor argument "'+x+'". must be one of '+L)})}function y(h,x){for(h=h+"";h.length<x;)h=" "+h;return h}function E(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function w(h,x){this.number=h,this.line=x,this.errors=[]}function P(h,x,R){this.file=h,this.line=x,this.message=R}function j(){var h=new Error,x=(h.stack||h).toString(),R=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(x);if(R)return R[1];var Y=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(x);return Y?Y[1]:"unknown"}function Q(){var h=new Error,x=(h.stack||h).toString(),R=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(x);if(R)return R[1];var Y=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(x);return Y?Y[1]:"unknown"}function ce(h,x){var R=h.split(`
`),Y=1,re=0,X={unknown:new E,0:new E};X.unknown.name=X[0].name=x||j(),X.unknown.lines.push(new w(0,""));for(var K=0;K<R.length;++K){var de=R[K],fe=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(de);if(fe)switch(fe[1]){case"line":var ye=/(\d+)(\s+\d+)?/.exec(fe[2]);ye&&(Y=ye[1]|0,ye[2]&&(re=ye[2]|0,re in X||(X[re]=new E)));break;case"define":var we=/SHADER_NAME(_B64)?\s+(.*)$/.exec(fe[2]);we&&(X[re].name=we[1]?a(we[2]):we[2]);break}X[re].lines.push(new w(Y++,de))}return Object.keys(X).forEach(function(xe){var Ae=X[xe];Ae.lines.forEach(function(he){Ae.index[he.number]=he})}),X}function ne(h){var x=[];return h.split(`
`).forEach(function(R){if(!(R.length<5)){var Y=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(R);Y?x.push(new P(Y[1]|0,Y[2]|0,Y[3].trim())):R.length>0&&x.push(new P("unknown",0,R))}}),x}function We(h,x){x.forEach(function(R){var Y=h[R.file];if(Y){var re=Y.index[R.line];if(re){re.errors.push(R),Y.hasErrors=!0;return}}h.unknown.hasErrors=!0,h.unknown.lines[0].errors.push(R)})}function Ce(h,x,R,Y,re){if(!h.getShaderParameter(x,h.COMPILE_STATUS)){var X=h.getShaderInfoLog(x),K=Y===h.FRAGMENT_SHADER?"fragment":"vertex";pt(R,"string",K+" shader source must be a string",re);var de=ce(R,re),fe=ne(X);We(de,fe),Object.keys(de).forEach(function(ye){var we=de[ye];if(!we.hasErrors)return;var xe=[""],Ae=[""];function he(ve,B){xe.push(ve),Ae.push(B||"")}he("file number "+ye+": "+we.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),we.lines.forEach(function(ve){if(ve.errors.length>0){he(y(ve.number,4)+"|  ","background-color:yellow; font-weight:bold"),he(ve.line+i,"color:red; background-color:yellow; font-weight:bold");var B=0;ve.errors.forEach(function(Z){var me=Z.message,Fe=/^\s*'(.*)'\s*:\s*(.*)$/.exec(me);if(Fe){var ue=Fe[1];switch(me=Fe[2],ue){case"assign":ue="=";break}B=Math.max(ve.line.indexOf(ue,B),0)}else B=0;he(y("| ",6)),he(y("^^^",B+3)+i,"font-weight:bold"),he(y("| ",6)),he(me+i,"font-weight:bold")}),he(y("| ",6)+i)}else he(y(ve.number,4)+"|  "),he(ve.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Ae[0]=xe.join("%c"),console.log.apply(console,Ae)):console.log(xe.join(""))}),l.raise("Error compiling "+K+" shader, "+de[0].name)}}function Be(h,x,R,Y,re){if(!h.getProgramParameter(x,h.LINK_STATUS)){var X=h.getProgramInfoLog(x),K=ce(R,re),de=ce(Y,re),fe='Error linking program with vertex shader, "'+de[0].name+'", and fragment shader "'+K[0].name+'"';typeof document<"u"?console.log("%c"+fe+i+"%c"+X,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(fe+i+X),l.raise(fe)}}function qe(h){h._commandRef=j()}function et(h,x,R,Y){qe(h);function re(fe){return fe?Y.id(fe):0}h._fragId=re(h.static.frag),h._vertId=re(h.static.vert);function X(fe,ye){Object.keys(ye).forEach(function(we){fe[Y.id(we)]=!0})}var K=h._uniformSet={};X(K,x.static),X(K,x.dynamic);var de=h._attributeSet={};X(de,R.static),X(de,R.dynamic),h._hasCount="count"in h.static||"count"in h.dynamic||"elements"in h.static||"elements"in h.dynamic}function Ge(h,x){var R=Q();o(h+" in command "+(x||j())+(R==="unknown"?"":" called from "+R))}function Vt(h,x,R){h||Ge(x,R||j())}function gt(h,x,R,Y){h in x||Ge("unknown parameter ("+h+")"+s(R)+". possible values: "+Object.keys(x).join(),Y||j())}function pt(h,x,R,Y){p(h,x)||Ge("invalid parameter type"+s(R)+". expected "+x+", got "+typeof h,Y||j())}function _e(h){h()}function Xe(h,x,R){h.texture?_(h.texture._texture.internalformat,x,"unsupported texture format for attachment"):_(h.renderbuffer._renderbuffer.format,R,"unsupported renderbuffer format for attachment")}var ge=33071,Ee=9728,Je=9984,Et=9985,vt=9986,Xt=9987,Jt=5120,Pt=5121,Ot=5122,on=5123,Zt=5124,pn=5125,Bt=5126,tn=32819,ht=32820,xt=33635,Mt=34042,St=36193,st={};st[Jt]=st[Pt]=1,st[Ot]=st[on]=st[St]=st[xt]=st[tn]=st[ht]=2,st[Zt]=st[pn]=st[Bt]=st[Mt]=4;function Ft(h,x){return h===ht||h===tn||h===xt?2:h===Mt?4:st[h]*x}function ln(h){return!(h&h-1)&&!!h}function be(h,x,R){var Y,re=x.width,X=x.height,K=x.channels;l(re>0&&re<=R.maxTextureSize&&X>0&&X<=R.maxTextureSize,"invalid texture shape"),(h.wrapS!==ge||h.wrapT!==ge)&&l(ln(re)&&ln(X),"incompatible wrap mode for texture, both width and height must be power of 2"),x.mipmask===1?re!==1&&X!==1&&l(h.minFilter!==Je&&h.minFilter!==vt&&h.minFilter!==Et&&h.minFilter!==Xt,"min filter requires mipmap"):(l(ln(re)&&ln(X),"texture must be a square power of 2 to support mipmapping"),l(x.mipmask===(re<<1)-1,"missing or incomplete mipmap data")),x.type===Bt&&(R.extensions.indexOf("oes_texture_float_linear")<0&&l(h.minFilter===Ee&&h.magFilter===Ee,"filter not supported, must enable oes_texture_float_linear"),l(!h.genMipmaps,"mipmap generation not supported with float textures"));var de=x.images;for(Y=0;Y<16;++Y)if(de[Y]){var fe=re>>Y,ye=X>>Y;l(x.mipmask&1<<Y,"missing mipmap data");var we=de[Y];if(l(we.width===fe&&we.height===ye,"invalid shape for mip images"),l(we.format===x.format&&we.internalformat===x.internalformat&&we.type===x.type,"incompatible type for mip image"),!we.compressed)if(we.data){var xe=Math.ceil(Ft(we.type,K)*fe/we.unpackAlignment)*we.unpackAlignment;l(we.data.byteLength===xe*ye,"invalid data for image, buffer size is inconsistent with image format")}else we.element||we.copy}else h.genMipmaps||l((x.mipmask&1<<Y)===0,"extra mipmap data");x.compressed&&l(!h.genMipmaps,"mipmap generation for compressed images not supported")}function Tt(h,x,R,Y){var re=h.width,X=h.height,K=h.channels;l(re>0&&re<=Y.maxTextureSize&&X>0&&X<=Y.maxTextureSize,"invalid texture shape"),l(re===X,"cube map must be square"),l(x.wrapS===ge&&x.wrapT===ge,"wrap mode not supported by cube map");for(var de=0;de<R.length;++de){var fe=R[de];l(fe.width===re&&fe.height===X,"inconsistent cube map face shape"),x.genMipmaps&&(l(!fe.compressed,"can not generate mipmap for compressed textures"),l(fe.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ye=fe.images,we=0;we<16;++we){var xe=ye[we];if(xe){var Ae=re>>we,he=X>>we;l(fe.mipmask&1<<we,"missing mipmap data"),l(xe.width===Ae&&xe.height===he,"invalid shape for mip images"),l(xe.format===h.format&&xe.internalformat===h.internalformat&&xe.type===h.type,"incompatible type for mip image"),xe.compressed||(xe.data?l(xe.data.byteLength===Ae*he*Math.max(Ft(xe.type,K),xe.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):xe.element||xe.copy)}}}}var v=r(l,{optional:_e,raise:o,commandRaise:Ge,command:Vt,parameter:u,commandParameter:gt,constructor:N,type:c,commandType:pt,isTypedArray:d,nni:g,oneOf:_,shaderError:Ce,linkError:Be,callSite:Q,saveCommandRef:qe,saveDrawInfo:et,framebufferFormat:Xe,guessCommand:j,texture2D:be,textureCube:Tt}),ut=0,_t=0,Te=5,qt=6;function At(h,x){this.id=ut++,this.type=h,this.data=x}function $e(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function It(h){if(h.length===0)return[];var x=h.charAt(0),R=h.charAt(h.length-1);if(h.length>1&&x===R&&(x==='"'||x==="'"))return['"'+$e(h.substr(1,h.length-2))+'"'];var Y=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(h);if(Y)return It(h.substr(0,Y.index)).concat(It(Y[1])).concat(It(h.substr(Y.index+Y[0].length)));var re=h.split(".");if(re.length===1)return['"'+$e(h)+'"'];for(var X=[],K=0;K<re.length;++K)X=X.concat(It(re[K]));return X}function Ht(h){return"["+It(h).join("][")+"]"}function Ue(h,x){return new At(h,Ht(x+""))}function nn(h){return typeof h=="function"&&!h._reglType||h instanceof At}function cn(h,x){if(typeof h=="function")return new At(_t,h);if(typeof h=="number"||typeof h=="boolean")return new At(Te,h);if(Array.isArray(h))return new At(qt,h.map(function(R,Y){return cn(R,x+"["+Y+"]")}));if(h instanceof At)return h;v(!1,"invalid option type in uniform "+x)}var Nt={DynamicVariable:At,define:Ue,isDynamic:nn,unbox:cn,accessor:Ht},gn={next:typeof requestAnimationFrame=="function"?function(h){return requestAnimationFrame(h)}:function(h){return setTimeout(h,16)},cancel:typeof cancelAnimationFrame=="function"?function(h){return cancelAnimationFrame(h)}:clearTimeout},An=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ir(){var h={"":0},x=[""];return{id:function(R){var Y=h[R];return Y||(Y=h[R]=x.length,x.push(R),Y)},str:function(R){return x[R]}}}function Yn(h,x,R){var Y=document.createElement("canvas");r(Y.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),h.appendChild(Y),h===document.body&&(Y.style.position="absolute",r(h.style,{margin:0,padding:0}));function re(){var de=window.innerWidth,fe=window.innerHeight;if(h!==document.body){var ye=Y.getBoundingClientRect();de=ye.right-ye.left,fe=ye.bottom-ye.top}Y.width=R*de,Y.height=R*fe}var X;h!==document.body&&typeof ResizeObserver=="function"?(X=new ResizeObserver(function(){setTimeout(re)}),X.observe(h)):window.addEventListener("resize",re,!1);function K(){X?X.disconnect():window.removeEventListener("resize",re),h.removeChild(Y)}return re(),{canvas:Y,onDestroy:K}}function ti(h,x){function R(Y){try{return h.getContext(Y,x)}catch{return null}}return R("webgl")||R("experimental-webgl")||R("webgl-experimental")}function Bn(h){return typeof h.nodeName=="string"&&typeof h.appendChild=="function"&&typeof h.getBoundingClientRect=="function"}function ni(h){return typeof h.drawArrays=="function"||typeof h.drawElements=="function"}function oe(h){return typeof h=="string"?h.split():(v(Array.isArray(h),"invalid extension array"),h)}function Ct(h){return typeof h=="string"?(v(typeof document<"u","not supported outside of DOM"),document.querySelector(h)):h}function mn(h){var x=h||{},R,Y,re,X,K={},de=[],fe=[],ye=typeof window>"u"?1:window.devicePixelRatio,we=!1,xe=function(ve){ve&&v.raise(ve)},Ae=function(){};if(typeof x=="string"?(v(typeof document<"u","selector queries only supported in DOM enviroments"),R=document.querySelector(x),v(R,"invalid query string for element")):typeof x=="object"?Bn(x)?R=x:ni(x)?(X=x,re=X.canvas):(v.constructor(x),"gl"in x?X=x.gl:"canvas"in x?re=Ct(x.canvas):"container"in x&&(Y=Ct(x.container)),"attributes"in x&&(K=x.attributes,v.type(K,"object","invalid context attributes")),"extensions"in x&&(de=oe(x.extensions)),"optionalExtensions"in x&&(fe=oe(x.optionalExtensions)),"onDone"in x&&(v.type(x.onDone,"function","invalid or missing onDone callback"),xe=x.onDone),"profile"in x&&(we=!!x.profile),"pixelRatio"in x&&(ye=+x.pixelRatio,v(ye>0,"invalid pixel ratio"))):v.raise("invalid arguments to regl"),R&&(R.nodeName.toLowerCase()==="canvas"?re=R:Y=R),!X){if(!re){v(typeof document<"u","must manually specify webgl context outside of DOM environments");var he=Yn(Y||document.body,xe,ye);if(!he)return null;re=he.canvas,Ae=he.onDestroy}K.premultipliedAlpha===void 0&&(K.premultipliedAlpha=!0),X=ti(re,K)}return X?{gl:X,canvas:re,container:Y,extensions:de,optionalExtensions:fe,pixelRatio:ye,profile:we,onDone:xe,onDestroy:Ae}:(Ae(),xe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Cn(h,x){var R={};function Y(K){v.type(K,"string","extension name must be string");var de=K.toLowerCase(),fe;try{fe=R[de]=h.getExtension(de)}catch{}return!!fe}for(var re=0;re<x.extensions.length;++re){var X=x.extensions[re];if(!Y(X))return x.onDestroy(),x.onDone('"'+X+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return x.optionalExtensions.forEach(Y),{extensions:R,restore:function(){Object.keys(R).forEach(function(K){if(R[K]&&!Y(K))throw new Error("(regl): error restoring extension "+K)})}}}function Kt(h,x){for(var R=Array(h),Y=0;Y<h;++Y)R[Y]=x(Y);return R}var $n=5120,br=5121,$i=5122,lo=5123,Ps=5124,ol=5125,fa=5126;function so(h){for(var x=16;x<=1<<28;x*=16)if(h<=x)return x;return 0}function da(h){var x,R;return x=(h>65535)<<4,h>>>=x,R=(h>255)<<3,h>>>=R,x|=R,R=(h>15)<<2,h>>>=R,x|=R,R=(h>3)<<1,h>>>=R,x|=R,x|h>>1}function ll(){var h=Kt(8,function(){return[]});function x(X){var K=so(X),de=h[da(K)>>2];return de.length>0?de.pop():new ArrayBuffer(K)}function R(X){h[da(X.byteLength)>>2].push(X)}function Y(X,K){var de=null;switch(X){case $n:de=new Int8Array(x(K),0,K);break;case br:de=new Uint8Array(x(K),0,K);break;case $i:de=new Int16Array(x(2*K),0,K);break;case lo:de=new Uint16Array(x(2*K),0,K);break;case Ps:de=new Int32Array(x(4*K),0,K);break;case ol:de=new Uint32Array(x(4*K),0,K);break;case fa:de=new Float32Array(x(4*K),0,K);break;default:return null}return de.length!==K?de.subarray(0,K):de}function re(X){R(X.buffer)}return{alloc:x,free:R,allocType:Y,freeType:re}}var wt=ll();wt.zero=ll();var ji=3408,sl=3410,Fc=3411,xi=3412,_i=3413,wi=3414,Bc=3415,Lr=33901,Os=33902,uo=3379,Ns=3386,co=34921,ul=36347,cl=36348,fl=35661,dl=35660,zi=34930,fo=36349,Ms=34076,Is=34024,$c=7936,ha=7937,pa=7938,hl=35724,ma=34047,Ds=36063,gr=34852,Ei=3553,Si=34067,Gi=34069,jn=33984,Ur=6408,Vn=5126,bn=5121,va=36160,pl=36053,ml=36064,vl=16384,jc=function(h,x){var R=1;x.ext_texture_filter_anisotropic&&(R=h.getParameter(ma));var Y=1,re=1;x.webgl_draw_buffers&&(Y=h.getParameter(gr),re=h.getParameter(Ds));var X=!!x.oes_texture_float;if(X){var K=h.createTexture();h.bindTexture(Ei,K),h.texImage2D(Ei,0,Ur,1,1,0,Ur,Vn,null);var de=h.createFramebuffer();if(h.bindFramebuffer(va,de),h.framebufferTexture2D(va,ml,Ei,K,0),h.bindTexture(Ei,null),h.checkFramebufferStatus(va)!==pl)X=!1;else{h.viewport(0,0,1,1),h.clearColor(1,0,0,1),h.clear(vl);var fe=wt.allocType(Vn,4);h.readPixels(0,0,1,1,Ur,Vn,fe),h.getError()?X=!1:(h.deleteFramebuffer(de),h.deleteTexture(K),X=fe[0]===1),wt.freeType(fe)}}var ye=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),we=!0;if(!ye){var xe=h.createTexture(),Ae=wt.allocType(bn,36);h.activeTexture(jn),h.bindTexture(Si,xe),h.texImage2D(Gi,0,Ur,3,3,0,Ur,bn,Ae),wt.freeType(Ae),h.bindTexture(Si,null),h.deleteTexture(xe),we=!h.getError()}return{colorBits:[h.getParameter(sl),h.getParameter(Fc),h.getParameter(xi),h.getParameter(_i)],depthBits:h.getParameter(wi),stencilBits:h.getParameter(Bc),subpixelBits:h.getParameter(ji),extensions:Object.keys(x).filter(function(he){return!!x[he]}),maxAnisotropic:R,maxDrawbuffers:Y,maxColorAttachments:re,pointSizeDims:h.getParameter(Lr),lineWidthDims:h.getParameter(Os),maxViewportDims:h.getParameter(Ns),maxCombinedTextureUnits:h.getParameter(fl),maxCubeMapSize:h.getParameter(Ms),maxRenderbufferSize:h.getParameter(Is),maxTextureUnits:h.getParameter(zi),maxTextureSize:h.getParameter(uo),maxAttributes:h.getParameter(co),maxVertexUniforms:h.getParameter(ul),maxVertexTextureUnits:h.getParameter(dl),maxVaryingVectors:h.getParameter(cl),maxFragmentUniforms:h.getParameter(fo),glsl:h.getParameter(hl),renderer:h.getParameter(ha),vendor:h.getParameter($c),version:h.getParameter(pa),readFloat:X,npotTextureCube:we}};function yr(h){return!!h&&typeof h=="object"&&Array.isArray(h.shape)&&Array.isArray(h.stride)&&typeof h.offset=="number"&&h.shape.length===h.stride.length&&(Array.isArray(h.data)||n(h.data))}var cr=function(h){return Object.keys(h).map(function(x){return h[x]})},Rr={shape:Eh,flatten:wh};function zc(h,x,R){for(var Y=0;Y<x;++Y)R[Y]=h[Y]}function Fs(h,x,R,Y){for(var re=0,X=0;X<x;++X)for(var K=h[X],de=0;de<R;++de)Y[re++]=K[de]}function gl(h,x,R,Y,re,X){for(var K=X,de=0;de<x;++de)for(var fe=h[de],ye=0;ye<R;++ye)for(var we=fe[ye],xe=0;xe<Y;++xe)re[K++]=we[xe]}function Bs(h,x,R,Y,re){for(var X=1,K=R+1;K<x.length;++K)X*=x[K];var de=x[R];if(x.length-R===4){var fe=x[R+1],ye=x[R+2],we=x[R+3];for(K=0;K<de;++K)gl(h[K],fe,ye,we,Y,re),re+=X}else for(K=0;K<de;++K)Bs(h[K],x,R+1,Y,re),re+=X}function wh(h,x,R,Y){var re=1;if(x.length)for(var X=0;X<x.length;++X)re*=x[X];else re=0;var K=Y||wt.allocType(R,re);switch(x.length){case 0:break;case 1:zc(h,x[0],K);break;case 2:Fs(h,x[0],x[1],K);break;case 3:gl(h,x[0],x[1],x[2],K,0);break;default:Bs(h,x,0,K,0)}return K}function Eh(h){for(var x=[],R=h;R.length;R=R[0])x.push(R.length);return x}var ga={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ho=5120,Ui=5122,yl=5124,Sh=5121,xl=5123,ya=5125,po=5126,$s=5126,xa={int8:ho,int16:Ui,int32:yl,uint8:Sh,uint16:xl,uint32:ya,float:po,float32:$s},_2=35048,On=35040,_l={dynamic:_2,stream:On,static:35044},mo=Rr.flatten,Gc=Rr.shape,js=35044,zs=35040,wl=5121,El=5126,ri=[];ri[5120]=1,ri[5122]=2,ri[5124]=4,ri[5121]=1,ri[5123]=2,ri[5125]=4,ri[5126]=4;function vo(h){return ga[Object.prototype.toString.call(h)]|0}function Sl(h,x){for(var R=0;R<x.length;++R)h[R]=x[R]}function Gs(h,x,R,Y,re,X,K){for(var de=0,fe=0;fe<R;++fe)for(var ye=0;ye<Y;++ye)h[de++]=x[re*fe+X*ye+K]}function Us(h,x,R,Y){var re=0,X={};function K(B){this.id=re++,this.buffer=h.createBuffer(),this.type=B,this.usage=js,this.byteLength=0,this.dimension=1,this.dtype=wl,this.persistentData=null,R.profile&&(this.stats={size:0})}K.prototype.bind=function(){h.bindBuffer(this.type,this.buffer)},K.prototype.destroy=function(){Ae(this)};var de=[];function fe(B,Z){var me=de.pop();return me||(me=new K(B)),me.bind(),xe(me,Z,zs,0,1,!1),me}function ye(B){de.push(B)}function we(B,Z,me){B.byteLength=Z.byteLength,h.bufferData(B.type,Z,me)}function xe(B,Z,me,Fe,ue,Ie){var Oe;if(B.usage=me,Array.isArray(Z)){if(B.dtype=Fe||El,Z.length>0){var nt;if(Array.isArray(Z[0])){Oe=Gc(Z);for(var ie=1,te=1;te<Oe.length;++te)ie*=Oe[te];B.dimension=ie,nt=mo(Z,Oe,B.dtype),we(B,nt,me),Ie?B.persistentData=nt:wt.freeType(nt)}else if(typeof Z[0]=="number"){B.dimension=ue;var He=wt.allocType(B.dtype,Z.length);Sl(He,Z),we(B,He,me),Ie?B.persistentData=He:wt.freeType(He)}else n(Z[0])?(B.dimension=Z[0].length,B.dtype=Fe||vo(Z[0])||El,nt=mo(Z,[Z.length,Z[0].length],B.dtype),we(B,nt,me),Ie?B.persistentData=nt:wt.freeType(nt)):v.raise("invalid buffer data")}}else if(n(Z))B.dtype=Fe||vo(Z),B.dimension=ue,we(B,Z,me),Ie&&(B.persistentData=new Uint8Array(new Uint8Array(Z.buffer)));else if(yr(Z)){Oe=Z.shape;var Re=Z.stride,pe=Z.offset,ke=0,Pe=0,ft=0,ct=0;Oe.length===1?(ke=Oe[0],Pe=1,ft=Re[0],ct=0):Oe.length===2?(ke=Oe[0],Pe=Oe[1],ft=Re[0],ct=Re[1]):v.raise("invalid shape"),B.dtype=Fe||vo(Z.data)||El,B.dimension=Pe;var Ne=wt.allocType(B.dtype,ke*Pe);Gs(Ne,Z.data,ke,Pe,ft,ct,pe),we(B,Ne,me),Ie?B.persistentData=Ne:wt.freeType(Ne)}else Z instanceof ArrayBuffer?(B.dtype=wl,B.dimension=ue,we(B,Z,me),Ie&&(B.persistentData=new Uint8Array(new Uint8Array(Z)))):v.raise("invalid buffer data")}function Ae(B){x.bufferCount--,Y(B);var Z=B.buffer;v(Z,"buffer must not be deleted already"),h.deleteBuffer(Z),B.buffer=null,delete X[B.id]}function he(B,Z,me,Fe){x.bufferCount++;var ue=new K(Z);X[ue.id]=ue;function Ie(ie){var te=js,He=null,Re=0,pe=0,ke=1;return Array.isArray(ie)||n(ie)||yr(ie)||ie instanceof ArrayBuffer?He=ie:typeof ie=="number"?Re=ie|0:ie&&(v.type(ie,"object","buffer arguments must be an object, a number or an array"),"data"in ie&&(v(He===null||Array.isArray(He)||n(He)||yr(He),"invalid data for buffer"),He=ie.data),"usage"in ie&&(v.parameter(ie.usage,_l,"invalid buffer usage"),te=_l[ie.usage]),"type"in ie&&(v.parameter(ie.type,xa,"invalid buffer type"),pe=xa[ie.type]),"dimension"in ie&&(v.type(ie.dimension,"number","invalid dimension"),ke=ie.dimension|0),"length"in ie&&(v.nni(Re,"buffer length must be a nonnegative integer"),Re=ie.length|0)),ue.bind(),He?xe(ue,He,te,pe,ke,Fe):(Re&&h.bufferData(ue.type,Re,te),ue.dtype=pe||wl,ue.usage=te,ue.dimension=ke,ue.byteLength=Re),R.profile&&(ue.stats.size=ue.byteLength*ri[ue.dtype]),Ie}function Oe(ie,te){v(te+ie.byteLength<=ue.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ie.byteLength+" starting from offset "+te+" to a buffer of size "+ue.byteLength),h.bufferSubData(ue.type,te,ie)}function nt(ie,te){var He=(te||0)|0,Re;if(ue.bind(),n(ie)||ie instanceof ArrayBuffer)Oe(ie,He);else if(Array.isArray(ie)){if(ie.length>0)if(typeof ie[0]=="number"){var pe=wt.allocType(ue.dtype,ie.length);Sl(pe,ie),Oe(pe,He),wt.freeType(pe)}else if(Array.isArray(ie[0])||n(ie[0])){Re=Gc(ie);var ke=mo(ie,Re,ue.dtype);Oe(ke,He),wt.freeType(ke)}else v.raise("invalid buffer data")}else if(yr(ie)){Re=ie.shape;var Pe=ie.stride,ft=0,ct=0,Ne=0,De=0;Re.length===1?(ft=Re[0],ct=1,Ne=Pe[0],De=0):Re.length===2?(ft=Re[0],ct=Re[1],Ne=Pe[0],De=Pe[1]):v.raise("invalid shape");var at=Array.isArray(ie.data)?ue.dtype:vo(ie.data),dt=wt.allocType(at,ft*ct);Gs(dt,ie.data,ft,ct,Ne,De,ie.offset),Oe(dt,He),wt.freeType(dt)}else v.raise("invalid data for buffer subdata");return Ie}return me||Ie(B),Ie._reglType="buffer",Ie._buffer=ue,Ie.subdata=nt,R.profile&&(Ie.stats=ue.stats),Ie.destroy=function(){Ae(ue)},Ie}function ve(){cr(X).forEach(function(B){B.buffer=h.createBuffer(),h.bindBuffer(B.type,B.buffer),h.bufferData(B.type,B.persistentData||B.byteLength,B.usage)})}return R.profile&&(x.getTotalBufferSize=function(){var B=0;return Object.keys(X).forEach(function(Z){B+=X[Z].stats.size}),B}),{create:he,createStream:fe,destroyStream:ye,clear:function(){cr(X).forEach(Ae),de.forEach(Ae)},getBuffer:function(B){return B&&B._buffer instanceof K?B._buffer:null},restore:ve,_initBuffer:xe}}var Th=0,Vs=0,Ah=1,Hs=1,Ch=4,bh=4,Ti={points:Th,point:Vs,lines:Ah,line:Hs,triangles:Ch,triangle:bh,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Lh=0,Vi=1,Hi=4,Rh=5120,Ai=5121,Uc=5122,_a=5123,Vc=5124,ii=5125,Ws=34963,kh=35040,Xs=35044;function Ys(h,x,R,Y){var re={},X=0,K={uint8:Ai,uint16:_a};x.oes_element_index_uint&&(K.uint32=ii);function de(ve){this.id=X++,re[this.id]=this,this.buffer=ve,this.primType=Hi,this.vertCount=0,this.type=0}de.prototype.bind=function(){this.buffer.bind()};var fe=[];function ye(ve){var B=fe.pop();return B||(B=new de(R.create(null,Ws,!0,!1)._buffer)),xe(B,ve,kh,-1,-1,0,0),B}function we(ve){fe.push(ve)}function xe(ve,B,Z,me,Fe,ue,Ie){ve.buffer.bind();var Oe;if(B){var nt=Ie;!Ie&&(!n(B)||yr(B)&&!n(B.data))&&(nt=x.oes_element_index_uint?ii:_a),R._initBuffer(ve.buffer,B,Z,nt,3)}else h.bufferData(Ws,ue,Z),ve.buffer.dtype=Oe||Ai,ve.buffer.usage=Z,ve.buffer.dimension=3,ve.buffer.byteLength=ue;if(Oe=Ie,!Ie){switch(ve.buffer.dtype){case Ai:case Rh:Oe=Ai;break;case _a:case Uc:Oe=_a;break;case ii:case Vc:Oe=ii;break;default:v.raise("unsupported type for element array")}ve.buffer.dtype=Oe}ve.type=Oe,v(Oe!==ii||!!x.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ie=Fe;ie<0&&(ie=ve.buffer.byteLength,Oe===_a?ie>>=1:Oe===ii&&(ie>>=2)),ve.vertCount=ie;var te=me;if(me<0){te=Hi;var He=ve.buffer.dimension;He===1&&(te=Lh),He===2&&(te=Vi),He===3&&(te=Hi)}ve.primType=te}function Ae(ve){Y.elementsCount--,v(ve.buffer!==null,"must not double destroy elements"),delete re[ve.id],ve.buffer.destroy(),ve.buffer=null}function he(ve,B){var Z=R.create(null,Ws,!0),me=new de(Z._buffer);Y.elementsCount++;function Fe(ue){if(!ue)Z(),me.primType=Hi,me.vertCount=0,me.type=Ai;else if(typeof ue=="number")Z(ue),me.primType=Hi,me.vertCount=ue|0,me.type=Ai;else{var Ie=null,Oe=Xs,nt=-1,ie=-1,te=0,He=0;Array.isArray(ue)||n(ue)||yr(ue)?Ie=ue:(v.type(ue,"object","invalid arguments for elements"),"data"in ue&&(Ie=ue.data,v(Array.isArray(Ie)||n(Ie)||yr(Ie),"invalid data for element buffer")),"usage"in ue&&(v.parameter(ue.usage,_l,"invalid element buffer usage"),Oe=_l[ue.usage]),"primitive"in ue&&(v.parameter(ue.primitive,Ti,"invalid element buffer primitive"),nt=Ti[ue.primitive]),"count"in ue&&(v(typeof ue.count=="number"&&ue.count>=0,"invalid vertex count for elements"),ie=ue.count|0),"type"in ue&&(v.parameter(ue.type,K,"invalid buffer type"),He=K[ue.type]),"length"in ue?te=ue.length|0:(te=ie,He===_a||He===Uc?te*=2:(He===ii||He===Vc)&&(te*=4))),xe(me,Ie,Oe,nt,ie,te,He)}return Fe}return Fe(ve),Fe._reglType="elements",Fe._elements=me,Fe.subdata=function(ue,Ie){return Z.subdata(ue,Ie),Fe},Fe.destroy=function(){Ae(me)},Fe}return{create:he,createStream:ye,destroyStream:we,getElements:function(ve){return typeof ve=="function"&&ve._elements instanceof de?ve._elements:null},clear:function(){cr(re).forEach(Ae)}}}var Hc=new Float32Array(1),Ph=new Uint32Array(Hc.buffer),Oh=5123;function Wc(h){for(var x=wt.allocType(Oh,h.length),R=0;R<h.length;++R)if(isNaN(h[R]))x[R]=65535;else if(h[R]===1/0)x[R]=31744;else if(h[R]===-1/0)x[R]=64512;else{Hc[0]=h[R];var Y=Ph[0],re=Y>>>31<<15,X=(Y<<1>>>24)-127,K=Y>>13&1023;if(X<-24)x[R]=re;else if(X<-14){var de=-14-X;x[R]=re+(K+1024>>de)}else X>15?x[R]=re+31744:x[R]=re+(X+15<<10)+K}return x}function rn(h){return Array.isArray(h)||n(h)}var Xc=function(h){return!(h&h-1)&&!!h},Nh=34467,Vr=3553,qs=34067,Tl=34069,Wi=6408,Qs=6406,Al=6407,Xi=6409,Cl=6410,Yc=32854,Zs=32855,Ks=36194,Mh=32819,Ih=32820,Dh=33635,qc=34042,bl=6402,go=34041,yo=35904,xo=35906,wa=36193,Yi=33776,Js=33777,eu=33778,tu=33779,Qc=35986,Zc=35987,Kc=34798,Jc=35840,ef=35841,tf=35842,nf=35843,rf=36196,Ea=5121,nu=5123,ru=5125,kr=5126,Fh=10242,Bh=10243,$h=10497,iu=33071,jh=33648,zh=10240,Gh=10241,au=9728,Uh=9729,Ll=9984,ou=9985,af=9986,lu=9987,Vh=33170,_o=4352,of=4353,Hh=4354,Wh=34046,Xh=3317,Yh=37440,qh=37441,Qh=37443,Sa=37444,wo=33984,lf=[Ll,af,ou,lu],Eo=[0,Xi,Cl,Al,Wi],Pr={};Pr[Xi]=Pr[Qs]=Pr[bl]=1,Pr[go]=Pr[Cl]=2,Pr[Al]=Pr[yo]=3,Pr[Wi]=Pr[xo]=4;function Ta(h){return"[object "+h+"]"}var sf=Ta("HTMLCanvasElement"),uf=Ta("OffscreenCanvas"),cf=Ta("CanvasRenderingContext2D"),ff=Ta("ImageBitmap"),df=Ta("HTMLImageElement"),Rl=Ta("HTMLVideoElement"),Zh=Object.keys(ga).concat([sf,uf,cf,ff,df,Rl]),Aa=[];Aa[Ea]=1,Aa[kr]=4,Aa[wa]=2,Aa[nu]=2,Aa[ru]=4;var Nn=[];Nn[Yc]=2,Nn[Zs]=2,Nn[Ks]=2,Nn[go]=4,Nn[Yi]=.5,Nn[Js]=.5,Nn[eu]=1,Nn[tu]=1,Nn[Qc]=.5,Nn[Zc]=1,Nn[Kc]=1,Nn[Jc]=.5,Nn[ef]=.25,Nn[tf]=.5,Nn[nf]=.25,Nn[rf]=.5;function hf(h){return Array.isArray(h)&&(h.length===0||typeof h[0]=="number")}function su(h){if(!Array.isArray(h))return!1;var x=h.length;return!(x===0||!rn(h[0]))}function qi(h){return Object.prototype.toString.call(h)}function uu(h){return qi(h)===sf}function pf(h){return qi(h)===uf}function Kh(h){return qi(h)===cf}function cu(h){return qi(h)===ff}function mf(h){return qi(h)===df}function vf(h){return qi(h)===Rl}function fu(h){if(!h)return!1;var x=qi(h);return Zh.indexOf(x)>=0?!0:hf(h)||su(h)||yr(h)}function gf(h){return ga[Object.prototype.toString.call(h)]|0}function Jh(h,x){var R=x.length;switch(h.type){case Ea:case nu:case ru:case kr:var Y=wt.allocType(h.type,R);Y.set(x),h.data=Y;break;case wa:h.data=Wc(x);break;default:v.raise("unsupported texture type, must specify a typed array")}}function yf(h,x){return wt.allocType(h.type===wa?kr:h.type,x)}function xf(h,x){h.type===wa?(h.data=Wc(x),wt.freeType(x)):h.data=x}function _f(h,x,R,Y,re,X){for(var K=h.width,de=h.height,fe=h.channels,ye=K*de*fe,we=yf(h,ye),xe=0,Ae=0;Ae<de;++Ae)for(var he=0;he<K;++he)for(var ve=0;ve<fe;++ve)we[xe++]=x[R*he+Y*Ae+re*ve+X];xf(h,we)}function kl(h,x,R,Y,re,X){var K;if(typeof Nn[h]<"u"?K=Nn[h]:K=Pr[h]*Aa[x],X&&(K*=6),re){for(var de=0,fe=R;fe>=1;)de+=K*fe*fe,fe/=2;return de}else return K*R*Y}function e1(h,x,R,Y,re,X,K){var de={"don't care":_o,"dont care":_o,nice:Hh,fast:of},fe={repeat:$h,clamp:iu,mirror:jh},ye={nearest:au,linear:Uh},we=r({mipmap:lu,"nearest mipmap nearest":Ll,"linear mipmap nearest":ou,"nearest mipmap linear":af,"linear mipmap linear":lu},ye),xe={none:0,browser:Sa},Ae={uint8:Ea,rgba4:Mh,rgb565:Dh,"rgb5 a1":Ih},he={alpha:Qs,luminance:Xi,"luminance alpha":Cl,rgb:Al,rgba:Wi,rgba4:Yc,"rgb5 a1":Zs,rgb565:Ks},ve={};x.ext_srgb&&(he.srgb=yo,he.srgba=xo),x.oes_texture_float&&(Ae.float32=Ae.float=kr),x.oes_texture_half_float&&(Ae.float16=Ae["half float"]=wa),x.webgl_depth_texture&&(r(he,{depth:bl,"depth stencil":go}),r(Ae,{uint16:nu,uint32:ru,"depth stencil":qc})),x.webgl_compressed_texture_s3tc&&r(ve,{"rgb s3tc dxt1":Yi,"rgba s3tc dxt1":Js,"rgba s3tc dxt3":eu,"rgba s3tc dxt5":tu}),x.webgl_compressed_texture_atc&&r(ve,{"rgb atc":Qc,"rgba atc explicit alpha":Zc,"rgba atc interpolated alpha":Kc}),x.webgl_compressed_texture_pvrtc&&r(ve,{"rgb pvrtc 4bppv1":Jc,"rgb pvrtc 2bppv1":ef,"rgba pvrtc 4bppv1":tf,"rgba pvrtc 2bppv1":nf}),x.webgl_compressed_texture_etc1&&(ve["rgb etc1"]=rf);var B=Array.prototype.slice.call(h.getParameter(Nh));Object.keys(ve).forEach(function(C){var q=ve[C];B.indexOf(q)>=0&&(he[C]=q)});var Z=Object.keys(he);R.textureFormats=Z;var me=[];Object.keys(he).forEach(function(C){var q=he[C];me[q]=C});var Fe=[];Object.keys(Ae).forEach(function(C){var q=Ae[C];Fe[q]=C});var ue=[];Object.keys(ye).forEach(function(C){var q=ye[C];ue[q]=C});var Ie=[];Object.keys(we).forEach(function(C){var q=we[C];Ie[q]=C});var Oe=[];Object.keys(fe).forEach(function(C){var q=fe[C];Oe[q]=C});var nt=Z.reduce(function(C,q){var H=he[q];return H===Xi||H===Qs||H===Xi||H===Cl||H===bl||H===go||x.ext_srgb&&(H===yo||H===xo)?C[H]=H:H===Zs||q.indexOf("rgba")>=0?C[H]=Wi:C[H]=Al,C},{});function ie(){this.internalformat=Wi,this.format=Wi,this.type=Ea,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Sa,this.width=0,this.height=0,this.channels=0}function te(C,q){C.internalformat=q.internalformat,C.format=q.format,C.type=q.type,C.compressed=q.compressed,C.premultiplyAlpha=q.premultiplyAlpha,C.flipY=q.flipY,C.unpackAlignment=q.unpackAlignment,C.colorSpace=q.colorSpace,C.width=q.width,C.height=q.height,C.channels=q.channels}function He(C,q){if(!(typeof q!="object"||!q)){if("premultiplyAlpha"in q&&(v.type(q.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),C.premultiplyAlpha=q.premultiplyAlpha),"flipY"in q&&(v.type(q.flipY,"boolean","invalid texture flip"),C.flipY=q.flipY),"alignment"in q&&(v.oneOf(q.alignment,[1,2,4,8],"invalid texture unpack alignment"),C.unpackAlignment=q.alignment),"colorSpace"in q&&(v.parameter(q.colorSpace,xe,"invalid colorSpace"),C.colorSpace=xe[q.colorSpace]),"type"in q){var H=q.type;v(x.oes_texture_float||!(H==="float"||H==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),v(x.oes_texture_half_float||!(H==="half float"||H==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),v(x.webgl_depth_texture||!(H==="uint16"||H==="uint32"||H==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),v.parameter(H,Ae,"invalid texture type"),C.type=Ae[H]}var Ve=C.width,bt=C.height,S=C.channels,m=!1;"shape"in q?(v(Array.isArray(q.shape)&&q.shape.length>=2,"shape must be an array"),Ve=q.shape[0],bt=q.shape[1],q.shape.length===3&&(S=q.shape[2],v(S>0&&S<=4,"invalid number of channels"),m=!0),v(Ve>=0&&Ve<=R.maxTextureSize,"invalid width"),v(bt>=0&&bt<=R.maxTextureSize,"invalid height")):("radius"in q&&(Ve=bt=q.radius,v(Ve>=0&&Ve<=R.maxTextureSize,"invalid radius")),"width"in q&&(Ve=q.width,v(Ve>=0&&Ve<=R.maxTextureSize,"invalid width")),"height"in q&&(bt=q.height,v(bt>=0&&bt<=R.maxTextureSize,"invalid height")),"channels"in q&&(S=q.channels,v(S>0&&S<=4,"invalid number of channels"),m=!0)),C.width=Ve|0,C.height=bt|0,C.channels=S|0;var k=!1;if("format"in q){var F=q.format;v(x.webgl_depth_texture||!(F==="depth"||F==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),v.parameter(F,he,"invalid texture format");var $=C.internalformat=he[F];C.format=nt[$],F in Ae&&("type"in q||(C.type=Ae[F])),F in ve&&(C.compressed=!0),k=!0}!m&&k?C.channels=Pr[C.format]:m&&!k?C.channels!==Eo[C.format]&&(C.format=C.internalformat=Eo[C.channels]):k&&m&&v(C.channels===Pr[C.format],"number of channels inconsistent with specified format")}}function Re(C){h.pixelStorei(Yh,C.flipY),h.pixelStorei(qh,C.premultiplyAlpha),h.pixelStorei(Qh,C.colorSpace),h.pixelStorei(Xh,C.unpackAlignment)}function pe(){ie.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function ke(C,q){var H=null;if(fu(q)?H=q:q&&(v.type(q,"object","invalid pixel data type"),He(C,q),"x"in q&&(C.xOffset=q.x|0),"y"in q&&(C.yOffset=q.y|0),fu(q.data)&&(H=q.data)),v(!C.compressed||H instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),q.copy){v(!H,"can not specify copy and data field for the same texture");var Ve=re.viewportWidth,bt=re.viewportHeight;C.width=C.width||Ve-C.xOffset,C.height=C.height||bt-C.yOffset,C.needsCopy=!0,v(C.xOffset>=0&&C.xOffset<Ve&&C.yOffset>=0&&C.yOffset<bt&&C.width>0&&C.width<=Ve&&C.height>0&&C.height<=bt,"copy texture read out of bounds")}else if(!H)C.width=C.width||1,C.height=C.height||1,C.channels=C.channels||4;else if(n(H))C.channels=C.channels||4,C.data=H,!("type"in q)&&C.type===Ea&&(C.type=gf(H));else if(hf(H))C.channels=C.channels||4,Jh(C,H),C.alignment=1,C.needsFree=!0;else if(yr(H)){var S=H.data;!Array.isArray(S)&&C.type===Ea&&(C.type=gf(S));var m=H.shape,k=H.stride,F,$,M,O,D,T;m.length===3?(M=m[2],T=k[2]):(v(m.length===2,"invalid ndarray pixel data, must be 2 or 3D"),M=1,T=1),F=m[0],$=m[1],O=k[0],D=k[1],C.alignment=1,C.width=F,C.height=$,C.channels=M,C.format=C.internalformat=Eo[M],C.needsFree=!0,_f(C,S,O,D,T,H.offset)}else if(uu(H)||pf(H)||Kh(H))uu(H)||pf(H)?C.element=H:C.element=H.canvas,C.width=C.element.width,C.height=C.element.height,C.channels=4;else if(cu(H))C.element=H,C.width=H.width,C.height=H.height,C.channels=4;else if(mf(H))C.element=H,C.width=H.naturalWidth,C.height=H.naturalHeight,C.channels=4;else if(vf(H))C.element=H,C.width=H.videoWidth,C.height=H.videoHeight,C.channels=4;else if(su(H)){var b=C.width||H[0].length,A=C.height||H.length,V=C.channels;rn(H[0][0])?V=V||H[0][0].length:V=V||1;for(var z=Rr.shape(H),ee=1,ae=0;ae<z.length;++ae)ee*=z[ae];var Se=yf(C,ee);Rr.flatten(H,z,"",Se),xf(C,Se),C.alignment=1,C.width=b,C.height=A,C.channels=V,C.format=C.internalformat=Eo[V],C.needsFree=!0}C.type===kr?v(R.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):C.type===wa&&v(R.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Pe(C,q,H){var Ve=C.element,bt=C.data,S=C.internalformat,m=C.format,k=C.type,F=C.width,$=C.height;Re(C),Ve?h.texImage2D(q,H,m,m,k,Ve):C.compressed?h.compressedTexImage2D(q,H,S,F,$,0,bt):C.needsCopy?(Y(),h.copyTexImage2D(q,H,m,C.xOffset,C.yOffset,F,$,0)):h.texImage2D(q,H,m,F,$,0,m,k,bt||null)}function ft(C,q,H,Ve,bt){var S=C.element,m=C.data,k=C.internalformat,F=C.format,$=C.type,M=C.width,O=C.height;Re(C),S?h.texSubImage2D(q,bt,H,Ve,F,$,S):C.compressed?h.compressedTexSubImage2D(q,bt,H,Ve,k,M,O,m):C.needsCopy?(Y(),h.copyTexSubImage2D(q,bt,H,Ve,C.xOffset,C.yOffset,M,O)):h.texSubImage2D(q,bt,H,Ve,M,O,F,$,m)}var ct=[];function Ne(){return ct.pop()||new pe}function De(C){C.needsFree&&wt.freeType(C.data),pe.call(C),ct.push(C)}function at(){ie.call(this),this.genMipmaps=!1,this.mipmapHint=_o,this.mipmask=0,this.images=Array(16)}function dt(C,q,H){var Ve=C.images[0]=Ne();C.mipmask=1,Ve.width=C.width=q,Ve.height=C.height=H,Ve.channels=C.channels=4}function Lt(C,q){var H=null;if(fu(q))H=C.images[0]=Ne(),te(H,C),ke(H,q),C.mipmask=1;else if(He(C,q),Array.isArray(q.mipmap))for(var Ve=q.mipmap,bt=0;bt<Ve.length;++bt)H=C.images[bt]=Ne(),te(H,C),H.width>>=bt,H.height>>=bt,ke(H,Ve[bt]),C.mipmask|=1<<bt;else H=C.images[0]=Ne(),te(H,C),ke(H,q),C.mipmask=1;te(C,C.images[0]),C.compressed&&(C.internalformat===Yi||C.internalformat===Js||C.internalformat===eu||C.internalformat===tu)&&v(C.width%4===0&&C.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function sn(C,q){for(var H=C.images,Ve=0;Ve<H.length;++Ve){if(!H[Ve])return;Pe(H[Ve],q,Ve)}}var fn=[];function kt(){var C=fn.pop()||new at;ie.call(C),C.mipmask=0;for(var q=0;q<16;++q)C.images[q]=null;return C}function Mn(C){for(var q=C.images,H=0;H<q.length;++H)q[H]&&De(q[H]),q[H]=null;fn.push(C)}function an(){this.minFilter=au,this.magFilter=au,this.wrapS=iu,this.wrapT=iu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=_o}function kn(C,q){if("min"in q){var H=q.min;v.parameter(H,we),C.minFilter=we[H],lf.indexOf(C.minFilter)>=0&&!("faces"in q)&&(C.genMipmaps=!0)}if("mag"in q){var Ve=q.mag;v.parameter(Ve,ye),C.magFilter=ye[Ve]}var bt=C.wrapS,S=C.wrapT;if("wrap"in q){var m=q.wrap;typeof m=="string"?(v.parameter(m,fe),bt=S=fe[m]):Array.isArray(m)&&(v.parameter(m[0],fe),v.parameter(m[1],fe),bt=fe[m[0]],S=fe[m[1]])}else{if("wrapS"in q){var k=q.wrapS;v.parameter(k,fe),bt=fe[k]}if("wrapT"in q){var F=q.wrapT;v.parameter(F,fe),S=fe[F]}}if(C.wrapS=bt,C.wrapT=S,"anisotropic"in q){var $=q.anisotropic;v(typeof $=="number"&&$>=1&&$<=R.maxAnisotropic,"aniso samples must be between 1 and "),C.anisotropic=q.anisotropic}if("mipmap"in q){var M=!1;switch(typeof q.mipmap){case"string":v.parameter(q.mipmap,de,"invalid mipmap hint"),C.mipmapHint=de[q.mipmap],C.genMipmaps=!0,M=!0;break;case"boolean":M=C.genMipmaps=q.mipmap;break;case"object":v(Array.isArray(q.mipmap),"invalid mipmap type"),C.genMipmaps=!1,M=!0;break;default:v.raise("invalid mipmap type")}M&&!("min"in q)&&(C.minFilter=Ll)}}function In(C,q){h.texParameteri(q,Gh,C.minFilter),h.texParameteri(q,zh,C.magFilter),h.texParameteri(q,Fh,C.wrapS),h.texParameteri(q,Bh,C.wrapT),x.ext_texture_filter_anisotropic&&h.texParameteri(q,Wh,C.anisotropic),C.genMipmaps&&(h.hint(Vh,C.mipmapHint),h.generateMipmap(q))}var Dn=0,Hn={},qn=R.maxTextureUnits,yn=Array(qn).map(function(){return null});function yt(C){ie.call(this),this.mipmask=0,this.internalformat=Wi,this.id=Dn++,this.refCount=1,this.target=C,this.texture=h.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new an,K.profile&&(this.stats={size:0})}function Qn(C){h.activeTexture(wo),h.bindTexture(C.target,C.texture)}function Gt(){var C=yn[0];C?h.bindTexture(C.target,C.texture):h.bindTexture(Vr,null)}function it(C){var q=C.texture;v(q,"must not double destroy texture");var H=C.unit,Ve=C.target;H>=0&&(h.activeTexture(wo+H),h.bindTexture(Ve,null),yn[H]=null),h.deleteTexture(q),C.texture=null,C.params=null,C.pixels=null,C.refCount=0,delete Hn[C.id],X.textureCount--}r(yt.prototype,{bind:function(){var C=this;C.bindCount+=1;var q=C.unit;if(q<0){for(var H=0;H<qn;++H){var Ve=yn[H];if(Ve){if(Ve.bindCount>0)continue;Ve.unit=-1}yn[H]=C,q=H;break}q>=qn&&v.raise("insufficient number of texture units"),K.profile&&X.maxTextureUnits<q+1&&(X.maxTextureUnits=q+1),C.unit=q,h.activeTexture(wo+q),h.bindTexture(C.target,C.texture)}return q},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&it(this)}});function Rt(C,q){var H=new yt(Vr);Hn[H.id]=H,X.textureCount++;function Ve(m,k){var F=H.texInfo;an.call(F);var $=kt();return typeof m=="number"?typeof k=="number"?dt($,m|0,k|0):dt($,m|0,m|0):m?(v.type(m,"object","invalid arguments to regl.texture"),kn(F,m),Lt($,m)):dt($,1,1),F.genMipmaps&&($.mipmask=($.width<<1)-1),H.mipmask=$.mipmask,te(H,$),v.texture2D(F,$,R),H.internalformat=$.internalformat,Ve.width=$.width,Ve.height=$.height,Qn(H),sn($,Vr),In(F,Vr),Gt(),Mn($),K.profile&&(H.stats.size=kl(H.internalformat,H.type,$.width,$.height,F.genMipmaps,!1)),Ve.format=me[H.internalformat],Ve.type=Fe[H.type],Ve.mag=ue[F.magFilter],Ve.min=Ie[F.minFilter],Ve.wrapS=Oe[F.wrapS],Ve.wrapT=Oe[F.wrapT],Ve}function bt(m,k,F,$){v(!!m,"must specify image data");var M=k|0,O=F|0,D=$|0,T=Ne();return te(T,H),T.width=0,T.height=0,ke(T,m),T.width=T.width||(H.width>>D)-M,T.height=T.height||(H.height>>D)-O,v(H.type===T.type&&H.format===T.format&&H.internalformat===T.internalformat,"incompatible format for texture.subimage"),v(M>=0&&O>=0&&M+T.width<=H.width&&O+T.height<=H.height,"texture.subimage write out of bounds"),v(H.mipmask&1<<D,"missing mipmap data"),v(T.data||T.element||T.needsCopy,"missing image data"),Qn(H),ft(T,Vr,M,O,D),Gt(),De(T),Ve}function S(m,k){var F=m|0,$=k|0||F;if(F===H.width&&$===H.height)return Ve;Ve.width=H.width=F,Ve.height=H.height=$,Qn(H);for(var M=0;H.mipmask>>M;++M){var O=F>>M,D=$>>M;if(!O||!D)break;h.texImage2D(Vr,M,H.format,O,D,0,H.format,H.type,null)}return Gt(),K.profile&&(H.stats.size=kl(H.internalformat,H.type,F,$,!1,!1)),Ve}return Ve(C,q),Ve.subimage=bt,Ve.resize=S,Ve._reglType="texture2d",Ve._texture=H,K.profile&&(Ve.stats=H.stats),Ve.destroy=function(){H.decRef()},Ve}function Dt(C,q,H,Ve,bt,S){var m=new yt(qs);Hn[m.id]=m,X.cubeCount++;var k=new Array(6);function F(O,D,T,b,A,V){var z,ee=m.texInfo;for(an.call(ee),z=0;z<6;++z)k[z]=kt();if(typeof O=="number"||!O){var ae=O|0||1;for(z=0;z<6;++z)dt(k[z],ae,ae)}else if(typeof O=="object")if(D)Lt(k[0],O),Lt(k[1],D),Lt(k[2],T),Lt(k[3],b),Lt(k[4],A),Lt(k[5],V);else if(kn(ee,O),He(m,O),"faces"in O){var Se=O.faces;for(v(Array.isArray(Se)&&Se.length===6,"cube faces must be a length 6 array"),z=0;z<6;++z)v(typeof Se[z]=="object"&&!!Se[z],"invalid input for cube map face"),te(k[z],m),Lt(k[z],Se[z])}else for(z=0;z<6;++z)Lt(k[z],O);else v.raise("invalid arguments to cube map");for(te(m,k[0]),v.optional(function(){R.npotTextureCube||v(Xc(m.width)&&Xc(m.height),"your browser does not support non power or two texture dimensions")}),ee.genMipmaps?m.mipmask=(k[0].width<<1)-1:m.mipmask=k[0].mipmask,v.textureCube(m,ee,k,R),m.internalformat=k[0].internalformat,F.width=k[0].width,F.height=k[0].height,Qn(m),z=0;z<6;++z)sn(k[z],Tl+z);for(In(ee,qs),Gt(),K.profile&&(m.stats.size=kl(m.internalformat,m.type,F.width,F.height,ee.genMipmaps,!0)),F.format=me[m.internalformat],F.type=Fe[m.type],F.mag=ue[ee.magFilter],F.min=Ie[ee.minFilter],F.wrapS=Oe[ee.wrapS],F.wrapT=Oe[ee.wrapT],z=0;z<6;++z)Mn(k[z]);return F}function $(O,D,T,b,A){v(!!D,"must specify image data"),v(typeof O=="number"&&O===(O|0)&&O>=0&&O<6,"invalid face");var V=T|0,z=b|0,ee=A|0,ae=Ne();return te(ae,m),ae.width=0,ae.height=0,ke(ae,D),ae.width=ae.width||(m.width>>ee)-V,ae.height=ae.height||(m.height>>ee)-z,v(m.type===ae.type&&m.format===ae.format&&m.internalformat===ae.internalformat,"incompatible format for texture.subimage"),v(V>=0&&z>=0&&V+ae.width<=m.width&&z+ae.height<=m.height,"texture.subimage write out of bounds"),v(m.mipmask&1<<ee,"missing mipmap data"),v(ae.data||ae.element||ae.needsCopy,"missing image data"),Qn(m),ft(ae,Tl+O,V,z,ee),Gt(),De(ae),F}function M(O){var D=O|0;if(D!==m.width){F.width=m.width=D,F.height=m.height=D,Qn(m);for(var T=0;T<6;++T)for(var b=0;m.mipmask>>b;++b)h.texImage2D(Tl+T,b,m.format,D>>b,D>>b,0,m.format,m.type,null);return Gt(),K.profile&&(m.stats.size=kl(m.internalformat,m.type,F.width,F.height,!1,!0)),F}}return F(C,q,H,Ve,bt,S),F.subimage=$,F.resize=M,F._reglType="textureCube",F._texture=m,K.profile&&(F.stats=m.stats),F.destroy=function(){m.decRef()},F}function xn(){for(var C=0;C<qn;++C)h.activeTexture(wo+C),h.bindTexture(Vr,null),yn[C]=null;cr(Hn).forEach(it),X.cubeCount=0,X.textureCount=0}K.profile&&(X.getTotalTextureSize=function(){var C=0;return Object.keys(Hn).forEach(function(q){C+=Hn[q].stats.size}),C});function Li(){for(var C=0;C<qn;++C){var q=yn[C];q&&(q.bindCount=0,q.unit=-1,yn[C]=null)}cr(Hn).forEach(function(H){H.texture=h.createTexture(),h.bindTexture(H.target,H.texture);for(var Ve=0;Ve<32;++Ve)if(H.mipmask&1<<Ve)if(H.target===Vr)h.texImage2D(Vr,Ve,H.internalformat,H.width>>Ve,H.height>>Ve,0,H.internalformat,H.type,null);else for(var bt=0;bt<6;++bt)h.texImage2D(Tl+bt,Ve,H.internalformat,H.width>>Ve,H.height>>Ve,0,H.internalformat,H.type,null);In(H.texInfo,H.target)})}function ko(){for(var C=0;C<qn;++C){var q=yn[C];q&&(q.bindCount=0,q.unit=-1,yn[C]=null),h.activeTexture(wo+C),h.bindTexture(Vr,null),h.bindTexture(qs,null)}}return{create2D:Rt,createCube:Dt,clear:xn,getTexture:function(C){return null},restore:Li,refresh:ko}}var Ci=36161,Pl=32854,wf=32855,Ef=36194,Sf=33189,Tf=36168,Af=34041,Cf=35907,bf=34836,Lf=34842,Rf=34843,Or=[];Or[Pl]=2,Or[wf]=2,Or[Ef]=2,Or[Sf]=2,Or[Tf]=1,Or[Af]=4,Or[Cf]=4,Or[bf]=16,Or[Lf]=8,Or[Rf]=6;function kf(h,x,R){return Or[h]*x*R}var t1=function(h,x,R,Y,re){var X={rgba4:Pl,rgb565:Ef,"rgb5 a1":wf,depth:Sf,stencil:Tf,"depth stencil":Af};x.ext_srgb&&(X.srgba=Cf),x.ext_color_buffer_half_float&&(X.rgba16f=Lf,X.rgb16f=Rf),x.webgl_color_buffer_float&&(X.rgba32f=bf);var K=[];Object.keys(X).forEach(function(he){var ve=X[he];K[ve]=he});var de=0,fe={};function ye(he){this.id=de++,this.refCount=1,this.renderbuffer=he,this.format=Pl,this.width=0,this.height=0,re.profile&&(this.stats={size:0})}ye.prototype.decRef=function(){--this.refCount<=0&&we(this)};function we(he){var ve=he.renderbuffer;v(ve,"must not double destroy renderbuffer"),h.bindRenderbuffer(Ci,null),h.deleteRenderbuffer(ve),he.renderbuffer=null,he.refCount=0,delete fe[he.id],Y.renderbufferCount--}function xe(he,ve){var B=new ye(h.createRenderbuffer());fe[B.id]=B,Y.renderbufferCount++;function Z(Fe,ue){var Ie=0,Oe=0,nt=Pl;if(typeof Fe=="object"&&Fe){var ie=Fe;if("shape"in ie){var te=ie.shape;v(Array.isArray(te)&&te.length>=2,"invalid renderbuffer shape"),Ie=te[0]|0,Oe=te[1]|0}else"radius"in ie&&(Ie=Oe=ie.radius|0),"width"in ie&&(Ie=ie.width|0),"height"in ie&&(Oe=ie.height|0);"format"in ie&&(v.parameter(ie.format,X,"invalid renderbuffer format"),nt=X[ie.format])}else typeof Fe=="number"?(Ie=Fe|0,typeof ue=="number"?Oe=ue|0:Oe=Ie):Fe?v.raise("invalid arguments to renderbuffer constructor"):Ie=Oe=1;if(v(Ie>0&&Oe>0&&Ie<=R.maxRenderbufferSize&&Oe<=R.maxRenderbufferSize,"invalid renderbuffer size"),!(Ie===B.width&&Oe===B.height&&nt===B.format))return Z.width=B.width=Ie,Z.height=B.height=Oe,B.format=nt,h.bindRenderbuffer(Ci,B.renderbuffer),h.renderbufferStorage(Ci,nt,Ie,Oe),v(h.getError()===0,"invalid render buffer format"),re.profile&&(B.stats.size=kf(B.format,B.width,B.height)),Z.format=K[B.format],Z}function me(Fe,ue){var Ie=Fe|0,Oe=ue|0||Ie;return Ie===B.width&&Oe===B.height||(v(Ie>0&&Oe>0&&Ie<=R.maxRenderbufferSize&&Oe<=R.maxRenderbufferSize,"invalid renderbuffer size"),Z.width=B.width=Ie,Z.height=B.height=Oe,h.bindRenderbuffer(Ci,B.renderbuffer),h.renderbufferStorage(Ci,B.format,Ie,Oe),v(h.getError()===0,"invalid render buffer format"),re.profile&&(B.stats.size=kf(B.format,B.width,B.height))),Z}return Z(he,ve),Z.resize=me,Z._reglType="renderbuffer",Z._renderbuffer=B,re.profile&&(Z.stats=B.stats),Z.destroy=function(){B.decRef()},Z}re.profile&&(Y.getTotalRenderbufferSize=function(){var he=0;return Object.keys(fe).forEach(function(ve){he+=fe[ve].stats.size}),he});function Ae(){cr(fe).forEach(function(he){he.renderbuffer=h.createRenderbuffer(),h.bindRenderbuffer(Ci,he.renderbuffer),h.renderbufferStorage(Ci,he.format,he.width,he.height)}),h.bindRenderbuffer(Ci,null)}return{create:xe,clear:function(){cr(fe).forEach(we)},restore:Ae}},ai=36160,du=36161,Qi=3553,Ol=34069,Pf=36064,Nl=36096,Of=36128,Nf=33306,Mf=36053,n1=36054,r1=36055,i1=36057,a1=36061,o1=36193,l1=5121,s1=5126,If=6407,Df=6408,u1=6402,c1=[If,Df],hu=[];hu[Df]=4,hu[If]=3;var So=[];So[l1]=1,So[s1]=4,So[o1]=2;var f1=32854,Ff=32855,d1=36194,Bf=33189,$f=36168,pu=34041,jf=35907,h1=34836,To=34842,p1=34843,m1=[f1,Ff,d1,jf,To,p1,h1],Ca={};Ca[Mf]="complete",Ca[n1]="incomplete attachment",Ca[i1]="incomplete dimensions",Ca[r1]="incomplete, missing attachment",Ca[a1]="unsupported";function v1(h,x,R,Y,re,X){var K={cur:null,next:null,dirty:!1,setFBO:null},de=["rgba"],fe=["rgba4","rgb565","rgb5 a1"];x.ext_srgb&&fe.push("srgba"),x.ext_color_buffer_half_float&&fe.push("rgba16f","rgb16f"),x.webgl_color_buffer_float&&fe.push("rgba32f");var ye=["uint8"];x.oes_texture_half_float&&ye.push("half float","float16"),x.oes_texture_float&&ye.push("float","float32");function we(pe,ke,Pe){this.target=pe,this.texture=ke,this.renderbuffer=Pe;var ft=0,ct=0;ke?(ft=ke.width,ct=ke.height):Pe&&(ft=Pe.width,ct=Pe.height),this.width=ft,this.height=ct}function xe(pe){pe&&(pe.texture&&pe.texture._texture.decRef(),pe.renderbuffer&&pe.renderbuffer._renderbuffer.decRef())}function Ae(pe,ke,Pe){if(pe)if(pe.texture){var ft=pe.texture._texture,ct=Math.max(1,ft.width),Ne=Math.max(1,ft.height);v(ct===ke&&Ne===Pe,"inconsistent width/height for supplied texture"),ft.refCount+=1}else{var De=pe.renderbuffer._renderbuffer;v(De.width===ke&&De.height===Pe,"inconsistent width/height for renderbuffer"),De.refCount+=1}}function he(pe,ke){ke&&(ke.texture?h.framebufferTexture2D(ai,pe,ke.target,ke.texture._texture.texture,0):h.framebufferRenderbuffer(ai,pe,du,ke.renderbuffer._renderbuffer.renderbuffer))}function ve(pe){var ke=Qi,Pe=null,ft=null,ct=pe;typeof pe=="object"&&(ct=pe.data,"target"in pe&&(ke=pe.target|0)),v.type(ct,"function","invalid attachment data");var Ne=ct._reglType;return Ne==="texture2d"?(Pe=ct,v(ke===Qi)):Ne==="textureCube"?(Pe=ct,v(ke>=Ol&&ke<Ol+6,"invalid cube map target")):Ne==="renderbuffer"?(ft=ct,ke=du):v.raise("invalid regl object for attachment"),new we(ke,Pe,ft)}function B(pe,ke,Pe,ft,ct){if(Pe){var Ne=Y.create2D({width:pe,height:ke,format:ft,type:ct});return Ne._texture.refCount=0,new we(Qi,Ne,null)}else{var De=re.create({width:pe,height:ke,format:ft});return De._renderbuffer.refCount=0,new we(du,null,De)}}function Z(pe){return pe&&(pe.texture||pe.renderbuffer)}function me(pe,ke,Pe){pe&&(pe.texture?pe.texture.resize(ke,Pe):pe.renderbuffer&&pe.renderbuffer.resize(ke,Pe),pe.width=ke,pe.height=Pe)}var Fe=0,ue={};function Ie(){this.id=Fe++,ue[this.id]=this,this.framebuffer=h.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Oe(pe){pe.colorAttachments.forEach(xe),xe(pe.depthAttachment),xe(pe.stencilAttachment),xe(pe.depthStencilAttachment)}function nt(pe){var ke=pe.framebuffer;v(ke,"must not double destroy framebuffer"),h.deleteFramebuffer(ke),pe.framebuffer=null,X.framebufferCount--,delete ue[pe.id]}function ie(pe){var ke;h.bindFramebuffer(ai,pe.framebuffer);var Pe=pe.colorAttachments;for(ke=0;ke<Pe.length;++ke)he(Pf+ke,Pe[ke]);for(ke=Pe.length;ke<R.maxColorAttachments;++ke)h.framebufferTexture2D(ai,Pf+ke,Qi,null,0);h.framebufferTexture2D(ai,Nf,Qi,null,0),h.framebufferTexture2D(ai,Nl,Qi,null,0),h.framebufferTexture2D(ai,Of,Qi,null,0),he(Nl,pe.depthAttachment),he(Of,pe.stencilAttachment),he(Nf,pe.depthStencilAttachment);var ft=h.checkFramebufferStatus(ai);!h.isContextLost()&&ft!==Mf&&v.raise("framebuffer configuration not supported, status = "+Ca[ft]),h.bindFramebuffer(ai,K.next?K.next.framebuffer:null),K.cur=K.next,h.getError()}function te(pe,ke){var Pe=new Ie;X.framebufferCount++;function ft(Ne,De){var at;v(K.next!==Pe,"can not update framebuffer which is currently in use");var dt=0,Lt=0,sn=!0,fn=!0,kt=null,Mn=!0,an="rgba",kn="uint8",In=1,Dn=null,Hn=null,qn=null,yn=!1;if(typeof Ne=="number")dt=Ne|0,Lt=De|0||dt;else if(!Ne)dt=Lt=1;else{v.type(Ne,"object","invalid arguments for framebuffer");var yt=Ne;if("shape"in yt){var Qn=yt.shape;v(Array.isArray(Qn)&&Qn.length>=2,"invalid shape for framebuffer"),dt=Qn[0],Lt=Qn[1]}else"radius"in yt&&(dt=Lt=yt.radius),"width"in yt&&(dt=yt.width),"height"in yt&&(Lt=yt.height);("color"in yt||"colors"in yt)&&(kt=yt.color||yt.colors,Array.isArray(kt)&&v(kt.length===1||x.webgl_draw_buffers,"multiple render targets not supported")),kt||("colorCount"in yt&&(In=yt.colorCount|0,v(In>0,"invalid color buffer count")),"colorTexture"in yt&&(Mn=!!yt.colorTexture,an="rgba4"),"colorType"in yt&&(kn=yt.colorType,Mn?(v(x.oes_texture_float||!(kn==="float"||kn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),v(x.oes_texture_half_float||!(kn==="half float"||kn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):kn==="half float"||kn==="float16"?(v(x.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),an="rgba16f"):(kn==="float"||kn==="float32")&&(v(x.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),an="rgba32f"),v.oneOf(kn,ye,"invalid color type")),"colorFormat"in yt&&(an=yt.colorFormat,de.indexOf(an)>=0?Mn=!0:fe.indexOf(an)>=0?Mn=!1:v.optional(function(){Mn?v.oneOf(yt.colorFormat,de,"invalid color format for texture"):v.oneOf(yt.colorFormat,fe,"invalid color format for renderbuffer")}))),("depthTexture"in yt||"depthStencilTexture"in yt)&&(yn=!!(yt.depthTexture||yt.depthStencilTexture),v(!yn||x.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in yt&&(typeof yt.depth=="boolean"?sn=yt.depth:(Dn=yt.depth,fn=!1)),"stencil"in yt&&(typeof yt.stencil=="boolean"?fn=yt.stencil:(Hn=yt.stencil,sn=!1)),"depthStencil"in yt&&(typeof yt.depthStencil=="boolean"?sn=fn=yt.depthStencil:(qn=yt.depthStencil,sn=!1,fn=!1))}var Gt=null,it=null,Rt=null,Dt=null;if(Array.isArray(kt))Gt=kt.map(ve);else if(kt)Gt=[ve(kt)];else for(Gt=new Array(In),at=0;at<In;++at)Gt[at]=B(dt,Lt,Mn,an,kn);v(x.webgl_draw_buffers||Gt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),v(Gt.length<=R.maxColorAttachments,"too many color attachments, not supported"),dt=dt||Gt[0].width,Lt=Lt||Gt[0].height,Dn?it=ve(Dn):sn&&!fn&&(it=B(dt,Lt,yn,"depth","uint32")),Hn?Rt=ve(Hn):fn&&!sn&&(Rt=B(dt,Lt,!1,"stencil","uint8")),qn?Dt=ve(qn):!Dn&&!Hn&&fn&&sn&&(Dt=B(dt,Lt,yn,"depth stencil","depth stencil")),v(!!Dn+!!Hn+!!qn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var xn=null;for(at=0;at<Gt.length;++at)if(Ae(Gt[at],dt,Lt),v(!Gt[at]||Gt[at].texture&&c1.indexOf(Gt[at].texture._texture.format)>=0||Gt[at].renderbuffer&&m1.indexOf(Gt[at].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+at+" is invalid"),Gt[at]&&Gt[at].texture){var Li=hu[Gt[at].texture._texture.format]*So[Gt[at].texture._texture.type];xn===null?xn=Li:v(xn===Li,"all color attachments much have the same number of bits per pixel.")}return Ae(it,dt,Lt),v(!it||it.texture&&it.texture._texture.format===u1||it.renderbuffer&&it.renderbuffer._renderbuffer.format===Bf,"invalid depth attachment for framebuffer object"),Ae(Rt,dt,Lt),v(!Rt||Rt.renderbuffer&&Rt.renderbuffer._renderbuffer.format===$f,"invalid stencil attachment for framebuffer object"),Ae(Dt,dt,Lt),v(!Dt||Dt.texture&&Dt.texture._texture.format===pu||Dt.renderbuffer&&Dt.renderbuffer._renderbuffer.format===pu,"invalid depth-stencil attachment for framebuffer object"),Oe(Pe),Pe.width=dt,Pe.height=Lt,Pe.colorAttachments=Gt,Pe.depthAttachment=it,Pe.stencilAttachment=Rt,Pe.depthStencilAttachment=Dt,ft.color=Gt.map(Z),ft.depth=Z(it),ft.stencil=Z(Rt),ft.depthStencil=Z(Dt),ft.width=Pe.width,ft.height=Pe.height,ie(Pe),ft}function ct(Ne,De){v(K.next!==Pe,"can not resize a framebuffer which is currently in use");var at=Math.max(Ne|0,1),dt=Math.max(De|0||at,1);if(at===Pe.width&&dt===Pe.height)return ft;for(var Lt=Pe.colorAttachments,sn=0;sn<Lt.length;++sn)me(Lt[sn],at,dt);return me(Pe.depthAttachment,at,dt),me(Pe.stencilAttachment,at,dt),me(Pe.depthStencilAttachment,at,dt),Pe.width=ft.width=at,Pe.height=ft.height=dt,ie(Pe),ft}return ft(pe,ke),r(ft,{resize:ct,_reglType:"framebuffer",_framebuffer:Pe,destroy:function(){nt(Pe),Oe(Pe)},use:function(Ne){K.setFBO({framebuffer:ft},Ne)}})}function He(pe){var ke=Array(6);function Pe(ct){var Ne;v(ke.indexOf(K.next)<0,"can not update framebuffer which is currently in use");var De={color:null},at=0,dt=null,Lt="rgba",sn="uint8",fn=1;if(typeof ct=="number")at=ct|0;else if(!ct)at=1;else{v.type(ct,"object","invalid arguments for framebuffer");var kt=ct;if("shape"in kt){var Mn=kt.shape;v(Array.isArray(Mn)&&Mn.length>=2,"invalid shape for framebuffer"),v(Mn[0]===Mn[1],"cube framebuffer must be square"),at=Mn[0]}else"radius"in kt&&(at=kt.radius|0),"width"in kt?(at=kt.width|0,"height"in kt&&v(kt.height===at,"must be square")):"height"in kt&&(at=kt.height|0);("color"in kt||"colors"in kt)&&(dt=kt.color||kt.colors,Array.isArray(dt)&&v(dt.length===1||x.webgl_draw_buffers,"multiple render targets not supported")),dt||("colorCount"in kt&&(fn=kt.colorCount|0,v(fn>0,"invalid color buffer count")),"colorType"in kt&&(v.oneOf(kt.colorType,ye,"invalid color type"),sn=kt.colorType),"colorFormat"in kt&&(Lt=kt.colorFormat,v.oneOf(kt.colorFormat,de,"invalid color format for texture"))),"depth"in kt&&(De.depth=kt.depth),"stencil"in kt&&(De.stencil=kt.stencil),"depthStencil"in kt&&(De.depthStencil=kt.depthStencil)}var an;if(dt)if(Array.isArray(dt))for(an=[],Ne=0;Ne<dt.length;++Ne)an[Ne]=dt[Ne];else an=[dt];else{an=Array(fn);var kn={radius:at,format:Lt,type:sn};for(Ne=0;Ne<fn;++Ne)an[Ne]=Y.createCube(kn)}for(De.color=Array(an.length),Ne=0;Ne<an.length;++Ne){var In=an[Ne];v(typeof In=="function"&&In._reglType==="textureCube","invalid cube map"),at=at||In.width,v(In.width===at&&In.height===at,"invalid cube map shape"),De.color[Ne]={target:Ol,data:an[Ne]}}for(Ne=0;Ne<6;++Ne){for(var Dn=0;Dn<an.length;++Dn)De.color[Dn].target=Ol+Ne;Ne>0&&(De.depth=ke[0].depth,De.stencil=ke[0].stencil,De.depthStencil=ke[0].depthStencil),ke[Ne]?ke[Ne](De):ke[Ne]=te(De)}return r(Pe,{width:at,height:at,color:an})}function ft(ct){var Ne,De=ct|0;if(v(De>0&&De<=R.maxCubeMapSize,"invalid radius for cube fbo"),De===Pe.width)return Pe;var at=Pe.color;for(Ne=0;Ne<at.length;++Ne)at[Ne].resize(De);for(Ne=0;Ne<6;++Ne)ke[Ne].resize(De);return Pe.width=Pe.height=De,Pe}return Pe(pe),r(Pe,{faces:ke,resize:ft,_reglType:"framebufferCube",destroy:function(){ke.forEach(function(ct){ct.destroy()})}})}function Re(){K.cur=null,K.next=null,K.dirty=!0,cr(ue).forEach(function(pe){pe.framebuffer=h.createFramebuffer(),ie(pe)})}return r(K,{getFramebuffer:function(pe){if(typeof pe=="function"&&pe._reglType==="framebuffer"){var ke=pe._framebuffer;if(ke instanceof Ie)return ke}return null},create:te,createCube:He,clear:function(){cr(ue).forEach(nt)},restore:Re})}var g1=5126,f=34962,I=34963,U=["attributes","elements","offset","count","primitive","instances"];function le(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=g1,this.offset=0,this.stride=0,this.divisor=0}function Le(h,x,R,Y,re,X,K){for(var de=R.maxAttributes,fe=new Array(de),ye=0;ye<de;++ye)fe[ye]=new le;var we=0,xe={},Ae={Record:le,scope:{},state:fe,currentVAO:null,targetVAO:null,restore:ve()?Oe:function(){},createVAO:nt,getVAO:Z,destroyBuffer:he,setVAO:ve()?me:Fe,clear:ve()?ue:function(){}};function he(ie){for(var te=0;te<fe.length;++te){var He=fe[te];He.buffer===ie&&(h.disableVertexAttribArray(te),He.buffer=null)}}function ve(){return x.oes_vertex_array_object}function B(){return x.angle_instanced_arrays}function Z(ie){return typeof ie=="function"&&ie._vao?ie._vao:null}function me(ie){if(ie!==Ae.currentVAO){var te=ve();ie?te.bindVertexArrayOES(ie.vao):te.bindVertexArrayOES(null),Ae.currentVAO=ie}}function Fe(ie){if(ie!==Ae.currentVAO){if(ie)ie.bindAttrs();else{for(var te=B(),He=0;He<fe.length;++He){var Re=fe[He];Re.buffer?(h.enableVertexAttribArray(He),Re.buffer.bind(),h.vertexAttribPointer(He,Re.size,Re.type,Re.normalized,Re.stride,Re.offfset),te&&Re.divisor&&te.vertexAttribDivisorANGLE(He,Re.divisor)):(h.disableVertexAttribArray(He),h.vertexAttrib4f(He,Re.x,Re.y,Re.z,Re.w))}K.elements?h.bindBuffer(I,K.elements.buffer.buffer):h.bindBuffer(I,null)}Ae.currentVAO=ie}}function ue(){cr(xe).forEach(function(ie){ie.destroy()})}function Ie(){this.id=++we,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ie=ve();ie?this.vao=ie.createVertexArrayOES():this.vao=null,xe[this.id]=this,this.buffers=[]}Ie.prototype.bindAttrs=function(){for(var ie=B(),te=this.attributes,He=0;He<te.length;++He){var Re=te[He];Re.buffer?(h.enableVertexAttribArray(He),h.bindBuffer(f,Re.buffer.buffer),h.vertexAttribPointer(He,Re.size,Re.type,Re.normalized,Re.stride,Re.offset),ie&&Re.divisor&&ie.vertexAttribDivisorANGLE(He,Re.divisor)):(h.disableVertexAttribArray(He),h.vertexAttrib4f(He,Re.x,Re.y,Re.z,Re.w))}for(var pe=te.length;pe<de;++pe)h.disableVertexAttribArray(pe);var ke=X.getElements(this.elements);ke?h.bindBuffer(I,ke.buffer.buffer):h.bindBuffer(I,null)},Ie.prototype.refresh=function(){var ie=ve();ie&&(ie.bindVertexArrayOES(this.vao),this.bindAttrs(),Ae.currentVAO=null,ie.bindVertexArrayOES(null))},Ie.prototype.destroy=function(){if(this.vao){var ie=ve();this===Ae.currentVAO&&(Ae.currentVAO=null,ie.bindVertexArrayOES(null)),ie.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),xe[this.id]&&(delete xe[this.id],Y.vaoCount-=1)};function Oe(){var ie=ve();ie&&cr(xe).forEach(function(te){te.refresh()})}function nt(ie){var te=new Ie;Y.vaoCount+=1;function He(Re){var pe;if(Array.isArray(Re))pe=Re,te.elements&&te.ownsElements&&te.elements.destroy(),te.elements=null,te.ownsElements=!1,te.offset=0,te.count=0,te.instances=-1,te.primitive=4;else{if(v(typeof Re=="object","invalid arguments for create vao"),v("attributes"in Re,"must specify attributes for vao"),Re.elements){var ke=Re.elements;te.ownsElements?typeof ke=="function"&&ke._reglType==="elements"?(te.elements.destroy(),te.ownsElements=!1):(te.elements(ke),te.ownsElements=!1):X.getElements(Re.elements)?(te.elements=Re.elements,te.ownsElements=!1):(te.elements=X.create(Re.elements),te.ownsElements=!0)}else te.elements=null,te.ownsElements=!1;pe=Re.attributes,te.offset=0,te.count=-1,te.instances=-1,te.primitive=4,te.elements&&(te.count=te.elements._elements.vertCount,te.primitive=te.elements._elements.primType),"offset"in Re&&(te.offset=Re.offset|0),"count"in Re&&(te.count=Re.count|0),"instances"in Re&&(te.instances=Re.instances|0),"primitive"in Re&&(v(Re.primitive in Ti,"bad primitive type: "+Re.primitive),te.primitive=Ti[Re.primitive]),v.optional(()=>{for(var sn=Object.keys(Re),fn=0;fn<sn.length;++fn)v(U.indexOf(sn[fn])>=0,'invalid option for vao: "'+sn[fn]+'" valid options are '+U)}),v(Array.isArray(pe),"attributes must be an array")}v(pe.length<de,"too many attributes"),v(pe.length>0,"must specify at least one attribute");var Pe={},ft=te.attributes;ft.length=pe.length;for(var ct=0;ct<pe.length;++ct){var Ne=pe[ct],De=ft[ct]=new le,at=Ne.data||Ne;if(Array.isArray(at)||n(at)||yr(at)){var dt;te.buffers[ct]&&(dt=te.buffers[ct],n(at)&&dt._buffer.byteLength>=at.byteLength?dt.subdata(at):(dt.destroy(),te.buffers[ct]=null)),te.buffers[ct]||(dt=te.buffers[ct]=re.create(Ne,f,!1,!0)),De.buffer=re.getBuffer(dt),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1,Pe[ct]=1}else re.getBuffer(Ne)?(De.buffer=re.getBuffer(Ne),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1):re.getBuffer(Ne.buffer)?(De.buffer=re.getBuffer(Ne.buffer),De.size=(+Ne.size||De.buffer.dimension)|0,De.normalized=!!Ne.normalized||!1,"type"in Ne?(v.parameter(Ne.type,xa,"invalid buffer type"),De.type=xa[Ne.type]):De.type=De.buffer.dtype,De.offset=(Ne.offset||0)|0,De.stride=(Ne.stride||0)|0,De.divisor=(Ne.divisor||0)|0,De.state=1,v(De.size>=1&&De.size<=4,"size must be between 1 and 4"),v(De.offset>=0,"invalid offset"),v(De.stride>=0&&De.stride<=255,"stride must be between 0 and 255"),v(De.divisor>=0,"divisor must be positive"),v(!De.divisor||!!x.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Ne?(v(ct>0,"first attribute must not be a constant"),De.x=+Ne.x||0,De.y=+Ne.y||0,De.z=+Ne.z||0,De.w=+Ne.w||0,De.state=2):v(!1,"invalid attribute spec for location "+ct)}for(var Lt=0;Lt<te.buffers.length;++Lt)!Pe[Lt]&&te.buffers[Lt]&&(te.buffers[Lt].destroy(),te.buffers[Lt]=null);return te.refresh(),He}return He.destroy=function(){for(var Re=0;Re<te.buffers.length;++Re)te.buffers[Re]&&te.buffers[Re].destroy();te.buffers.length=0,te.ownsElements&&(te.elements.destroy(),te.elements=null,te.ownsElements=!1),te.destroy()},He._vao=te,He._reglType="vao",He(ie)}return Ae}var je=35632,Qe=35633,mt=35718,zt=35721;function $t(h,x,R,Y){var re={},X={};function K(B,Z,me,Fe){this.name=B,this.id=Z,this.location=me,this.info=Fe}function de(B,Z){for(var me=0;me<B.length;++me)if(B[me].id===Z.id){B[me].location=Z.location;return}B.push(Z)}function fe(B,Z,me){var Fe=B===je?re:X,ue=Fe[Z];if(!ue){var Ie=x.str(Z);ue=h.createShader(B),h.shaderSource(ue,Ie),h.compileShader(ue),v.shaderError(h,ue,Ie,B,me),Fe[Z]=ue}return ue}var ye={},we=[],xe=0;function Ae(B,Z){this.id=xe++,this.fragId=B,this.vertId=Z,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Y.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function he(B,Z,me){var Fe,ue,Ie=fe(je,B.fragId),Oe=fe(Qe,B.vertId),nt=B.program=h.createProgram();if(h.attachShader(nt,Ie),h.attachShader(nt,Oe),me)for(Fe=0;Fe<me.length;++Fe){var ie=me[Fe];h.bindAttribLocation(nt,ie[0],ie[1])}h.linkProgram(nt),v.linkError(h,nt,x.str(B.fragId),x.str(B.vertId),Z);var te=h.getProgramParameter(nt,mt);Y.profile&&(B.stats.uniformsCount=te);var He=B.uniforms;for(Fe=0;Fe<te;++Fe)if(ue=h.getActiveUniform(nt,Fe),ue){if(ue.size>1)for(var Re=0;Re<ue.size;++Re){var pe=ue.name.replace("[0]","["+Re+"]");de(He,new K(pe,x.id(pe),h.getUniformLocation(nt,pe),ue))}var ke=ue.name;ue.size>1&&(ke=ke.replace("[0]","")),de(He,new K(ke,x.id(ke),h.getUniformLocation(nt,ke),ue))}var Pe=h.getProgramParameter(nt,zt);Y.profile&&(B.stats.attributesCount=Pe);var ft=B.attributes;for(Fe=0;Fe<Pe;++Fe)ue=h.getActiveAttrib(nt,Fe),ue&&de(ft,new K(ue.name,x.id(ue.name),h.getAttribLocation(nt,ue.name),ue))}Y.profile&&(R.getMaxUniformsCount=function(){var B=0;return we.forEach(function(Z){Z.stats.uniformsCount>B&&(B=Z.stats.uniformsCount)}),B},R.getMaxAttributesCount=function(){var B=0;return we.forEach(function(Z){Z.stats.attributesCount>B&&(B=Z.stats.attributesCount)}),B});function ve(){re={},X={};for(var B=0;B<we.length;++B)he(we[B],null,we[B].attributes.map(function(Z){return[Z.location,Z.name]}))}return{clear:function(){var B=h.deleteShader.bind(h);cr(re).forEach(B),re={},cr(X).forEach(B),X={},we.forEach(function(Z){h.deleteProgram(Z.program)}),we.length=0,ye={},R.shaderCount=0},program:function(B,Z,me,Fe){v.command(B>=0,"missing vertex shader",me),v.command(Z>=0,"missing fragment shader",me);var ue=ye[Z];ue||(ue=ye[Z]={});var Ie=ue[B];if(Ie&&(Ie.refCount++,!Fe))return Ie;var Oe=new Ae(Z,B);return R.shaderCount++,he(Oe,me,Fe),Ie||(ue[B]=Oe),we.push(Oe),r(Oe,{destroy:function(){if(Oe.refCount--,Oe.refCount<=0){h.deleteProgram(Oe.program);var nt=we.indexOf(Oe);we.splice(nt,1),R.shaderCount--}ue[Oe.vertId].refCount<=0&&(h.deleteShader(X[Oe.vertId]),delete X[Oe.vertId],delete ye[Oe.fragId][Oe.vertId]),Object.keys(ye[Oe.fragId]).length||(h.deleteShader(re[Oe.fragId]),delete re[Oe.fragId],delete ye[Oe.fragId])}})},restore:ve,shader:fe,frag:-1,vert:-1}}var Ln=6408,Yt=5121,jt=3333,zf=5126;function x8(h,x,R,Y,re,X,K){function de(we){var xe;x.next===null?(v(re.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),xe=Yt):(v(x.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),xe=x.next.colorAttachments[0].texture._texture.type,v.optional(function(){X.oes_texture_float?(v(xe===Yt||xe===zf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),xe===zf&&v(K.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):v(xe===Yt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ae=0,he=0,ve=Y.framebufferWidth,B=Y.framebufferHeight,Z=null;n(we)?Z=we:we&&(v.type(we,"object","invalid arguments to regl.read()"),Ae=we.x|0,he=we.y|0,v(Ae>=0&&Ae<Y.framebufferWidth,"invalid x offset for regl.read"),v(he>=0&&he<Y.framebufferHeight,"invalid y offset for regl.read"),ve=(we.width||Y.framebufferWidth-Ae)|0,B=(we.height||Y.framebufferHeight-he)|0,Z=we.data||null),Z&&(xe===Yt?v(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):xe===zf&&v(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),v(ve>0&&ve+Ae<=Y.framebufferWidth,"invalid width for read pixels"),v(B>0&&B+he<=Y.framebufferHeight,"invalid height for read pixels"),R();var me=ve*B*4;return Z||(xe===Yt?Z=new Uint8Array(me):xe===zf&&(Z=Z||new Float32Array(me))),v.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),v(Z.byteLength>=me,"data buffer for regl.read() too small"),h.pixelStorei(jt,4),h.readPixels(Ae,he,ve,B,Ln,xe,Z),Z}function fe(we){var xe;return x.setFBO({framebuffer:we.framebuffer},function(){xe=de(we)}),xe}function ye(we){return!we||!("framebuffer"in we)?de(we):fe(we)}return ye}function Ml(h){return Array.prototype.slice.call(h)}function Il(h){return Ml(h).join("")}function _8(){var h=0,x=[],R=[];function Y(xe){for(var Ae=0;Ae<R.length;++Ae)if(R[Ae]===xe)return x[Ae];var he="g"+h++;return x.push(he),R.push(xe),he}function re(){var xe=[];function Ae(){xe.push.apply(xe,Ml(arguments))}var he=[];function ve(){var B="v"+h++;return he.push(B),arguments.length>0&&(xe.push(B,"="),xe.push.apply(xe,Ml(arguments)),xe.push(";")),B}return r(Ae,{def:ve,toString:function(){return Il([he.length>0?"var "+he.join(",")+";":"",Il(xe)])}})}function X(){var xe=re(),Ae=re(),he=xe.toString,ve=Ae.toString;function B(Z,me){Ae(Z,me,"=",xe.def(Z,me),";")}return r(function(){xe.apply(xe,Ml(arguments))},{def:xe.def,entry:xe,exit:Ae,save:B,set:function(Z,me,Fe){B(Z,me),xe(Z,me,"=",Fe,";")},toString:function(){return he()+ve()}})}function K(){var xe=Il(arguments),Ae=X(),he=X(),ve=Ae.toString,B=he.toString;return r(Ae,{then:function(){return Ae.apply(Ae,Ml(arguments)),this},else:function(){return he.apply(he,Ml(arguments)),this},toString:function(){var Z=B();return Z&&(Z="else{"+Z+"}"),Il(["if(",xe,"){",ve(),"}",Z])}})}var de=re(),fe={};function ye(xe,Ae){var he=[];function ve(){var ue="a"+he.length;return he.push(ue),ue}Ae=Ae||0;for(var B=0;B<Ae;++B)ve();var Z=X(),me=Z.toString,Fe=fe[xe]=r(Z,{arg:ve,toString:function(){return Il(["function(",he.join(),"){",me(),"}"])}});return Fe}function we(){var xe=['"use strict";',de,"return {"];Object.keys(fe).forEach(function(ve){xe.push('"',ve,'":',fe[ve].toString(),",")}),xe.push("}");var Ae=Il(xe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),he=Function.apply(null,x.concat(Ae));return he.apply(null,R)}return{global:de,link:Y,block:re,proc:ye,scope:X,cond:K,compile:we}}var Dl="xyzw".split(""),w2=5121,Fl=1,y1=2,x1=0,_1=1,w1=2,E1=3,Gf=4,E2=5,S2=6,T2="dither",A2="blend.enable",C2="blend.color",S1="blend.equation",T1="blend.func",b2="depth.enable",L2="depth.func",R2="depth.range",k2="depth.mask",A1="colorMask",P2="cull.enable",O2="cull.face",C1="frontFace",b1="lineWidth",N2="polygonOffset.enable",L1="polygonOffset.offset",M2="sample.alpha",I2="sample.enable",R1="sample.coverage",D2="stencil.enable",F2="stencil.mask",k1="stencil.func",P1="stencil.opFront",mu="stencil.opBack",B2="scissor.enable",Uf="scissor.box",Zi="viewport",vu="profile",Ao="framebuffer",gu="vert",yu="frag",Co="elements",bo="primitive",Lo="count",Vf="offset",Hf="instances",xu="vao",O1="Width",N1="Height",Bl=Ao+O1,$l=Ao+N1,w8=Zi+O1,E8=Zi+N1,$2="drawingBuffer",j2=$2+O1,z2=$2+N1,S8=[T1,S1,k1,P1,mu,R1,Zi,Uf,L1],jl=34962,M1=34963,T8=35632,A8=35633,G2=3553,C8=34067,b8=2884,L8=3042,R8=3024,k8=2960,P8=2929,O8=3089,N8=32823,M8=32926,I8=32928,I1=5126,Wf=35664,Xf=35665,Yf=35666,D1=5124,qf=35667,Qf=35668,Zf=35669,F1=35670,Kf=35671,Jf=35672,e0=35673,_u=35674,wu=35675,Eu=35676,Su=35678,Tu=35680,B1=4,Au=1028,Ro=1029,U2=2304,$1=2305,D8=32775,F8=32776,B8=519,ba=7680,V2=0,H2=1,W2=32774,$8=513,X2=36160,j8=36064,bi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Y2=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],zl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},La={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},q2={frag:T8,vert:A8},j1={cw:U2,ccw:$1};function t0(h){return Array.isArray(h)||n(h)||yr(h)}function Q2(h){return h.sort(function(x,R){return x===Zi?-1:R===Zi?1:x<R?-1:1})}function zn(h,x,R,Y){this.thisDep=h,this.contextDep=x,this.propDep=R,this.append=Y}function Ra(h){return h&&!(h.thisDep||h.contextDep||h.propDep)}function Rn(h){return new zn(!1,!1,!1,h)}function xr(h,x){var R=h.type;if(R===x1){var Y=h.data.length;return new zn(!0,Y>=1,Y>=2,x)}else if(R===Gf){var re=h.data;return new zn(re.thisDep,re.contextDep,re.propDep,x)}else{if(R===E2)return new zn(!1,!1,!1,x);if(R===S2){for(var X=!1,K=!1,de=!1,fe=0;fe<h.data.length;++fe){var ye=h.data[fe];if(ye.type===_1)de=!0;else if(ye.type===w1)K=!0;else if(ye.type===E1)X=!0;else if(ye.type===x1){X=!0;var we=ye.data;we>=1&&(K=!0),we>=2&&(de=!0)}else ye.type===Gf&&(X=X||ye.data.thisDep,K=K||ye.data.contextDep,de=de||ye.data.propDep)}return new zn(X,K,de,x)}else return new zn(R===E1,R===w1,R===_1,x)}}var Z2=new zn(!1,!1,!1,function(){});function z8(h,x,R,Y,re,X,K,de,fe,ye,we,xe,Ae,he,ve){var B=ye.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};R.ext_blend_minmax&&(Z.min=D8,Z.max=F8);var me=R.angle_instanced_arrays,Fe=R.webgl_draw_buffers,ue=R.oes_vertex_array_object,Ie={dirty:!0,profile:ve.profile},Oe={},nt=[],ie={},te={};function He(S){return S.replace(".","_")}function Re(S,m,k){var F=He(S);nt.push(S),Oe[F]=Ie[F]=!!k,ie[F]=m}function pe(S,m,k){var F=He(S);nt.push(S),Array.isArray(k)?(Ie[F]=k.slice(),Oe[F]=k.slice()):Ie[F]=Oe[F]=k,te[F]=m}Re(T2,R8),Re(A2,L8),pe(C2,"blendColor",[0,0,0,0]),pe(S1,"blendEquationSeparate",[W2,W2]),pe(T1,"blendFuncSeparate",[H2,V2,H2,V2]),Re(b2,P8,!0),pe(L2,"depthFunc",$8),pe(R2,"depthRange",[0,1]),pe(k2,"depthMask",!0),pe(A1,A1,[!0,!0,!0,!0]),Re(P2,b8),pe(O2,"cullFace",Ro),pe(C1,C1,$1),pe(b1,b1,1),Re(N2,N8),pe(L1,"polygonOffset",[0,0]),Re(M2,M8),Re(I2,I8),pe(R1,"sampleCoverage",[1,!1]),Re(D2,k8),pe(F2,"stencilMask",-1),pe(k1,"stencilFunc",[B8,0,-1]),pe(P1,"stencilOpSeparate",[Au,ba,ba,ba]),pe(mu,"stencilOpSeparate",[Ro,ba,ba,ba]),Re(B2,O8),pe(Uf,"scissor",[0,0,h.drawingBufferWidth,h.drawingBufferHeight]),pe(Zi,Zi,[0,0,h.drawingBufferWidth,h.drawingBufferHeight]);var ke={gl:h,context:Ae,strings:x,next:Oe,current:Ie,draw:xe,elements:X,buffer:re,shader:we,attributes:ye.state,vao:ye,uniforms:fe,framebuffer:de,extensions:R,timer:he,isBufferArgs:t0},Pe={primTypes:Ti,compareFuncs:zl,blendFuncs:bi,blendEquations:Z,stencilOps:La,glTypes:xa,orientationType:j1};v.optional(function(){ke.isArrayLike=rn}),Fe&&(Pe.backBuffer=[Ro],Pe.drawBuffer=Kt(Y.maxDrawbuffers,function(S){return S===0?[0]:Kt(S,function(m){return j8+m})}));var ft=0;function ct(){var S=_8(),m=S.link,k=S.global;S.id=ft++,S.batchId="0";var F=m(ke),$=S.shared={props:"a0"};Object.keys(ke).forEach(function(b){$[b]=k.def(F,".",b)}),v.optional(function(){S.CHECK=m(v),S.commandStr=v.guessCommand(),S.command=m(S.commandStr),S.assert=function(b,A,V){b("if(!(",A,"))",this.CHECK,".commandRaise(",m(V),",",this.command,");")},Pe.invalidBlendCombinations=Y2});var M=S.next={},O=S.current={};Object.keys(te).forEach(function(b){Array.isArray(Ie[b])&&(M[b]=k.def($.next,".",b),O[b]=k.def($.current,".",b))});var D=S.constants={};Object.keys(Pe).forEach(function(b){D[b]=k.def(JSON.stringify(Pe[b]))}),S.invoke=function(b,A){switch(A.type){case x1:var V=["this",$.context,$.props,S.batchId];return b.def(m(A.data),".call(",V.slice(0,Math.max(A.data.length+1,4)),")");case _1:return b.def($.props,A.data);case w1:return b.def($.context,A.data);case E1:return b.def("this",A.data);case Gf:return A.data.append(S,b),A.data.ref;case E2:return A.data.toString();case S2:return A.data.map(function(z){return S.invoke(b,z)})}},S.attribCache={};var T={};return S.scopeAttrib=function(b){var A=x.id(b);if(A in T)return T[A];var V=ye.scope[A];V||(V=ye.scope[A]=new B);var z=T[A]=m(V);return z},S}function Ne(S){var m=S.static,k=S.dynamic,F;if(vu in m){var $=!!m[vu];F=Rn(function(O,D){return $}),F.enable=$}else if(vu in k){var M=k[vu];F=xr(M,function(O,D){return O.invoke(D,M)})}return F}function De(S,m){var k=S.static,F=S.dynamic;if(Ao in k){var $=k[Ao];return $?($=de.getFramebuffer($),v.command($,"invalid framebuffer object"),Rn(function(O,D){var T=O.link($),b=O.shared;D.set(b.framebuffer,".next",T);var A=b.context;return D.set(A,"."+Bl,T+".width"),D.set(A,"."+$l,T+".height"),T})):Rn(function(O,D){var T=O.shared;D.set(T.framebuffer,".next","null");var b=T.context;return D.set(b,"."+Bl,b+"."+j2),D.set(b,"."+$l,b+"."+z2),"null"})}else if(Ao in F){var M=F[Ao];return xr(M,function(O,D){var T=O.invoke(D,M),b=O.shared,A=b.framebuffer,V=D.def(A,".getFramebuffer(",T,")");v.optional(function(){O.assert(D,"!"+T+"||"+V,"invalid framebuffer object")}),D.set(A,".next",V);var z=b.context;return D.set(z,"."+Bl,V+"?"+V+".width:"+z+"."+j2),D.set(z,"."+$l,V+"?"+V+".height:"+z+"."+z2),V})}else return null}function at(S,m,k){var F=S.static,$=S.dynamic;function M(T){if(T in F){var b=F[T];v.commandType(b,"object","invalid "+T,k.commandStr);var A=!0,V=b.x|0,z=b.y|0,ee,ae;return"width"in b?(ee=b.width|0,v.command(ee>=0,"invalid "+T,k.commandStr)):A=!1,"height"in b?(ae=b.height|0,v.command(ae>=0,"invalid "+T,k.commandStr)):A=!1,new zn(!A&&m&&m.thisDep,!A&&m&&m.contextDep,!A&&m&&m.propDep,function(tt,ze){var se=tt.shared.context,J=ee;"width"in b||(J=ze.def(se,".",Bl,"-",V));var Ze=ae;return"height"in b||(Ze=ze.def(se,".",$l,"-",z)),[V,z,J,Ze]})}else if(T in $){var Se=$[T],lt=xr(Se,function(tt,ze){var se=tt.invoke(ze,Se);v.optional(function(){tt.assert(ze,se+"&&typeof "+se+'==="object"',"invalid "+T)});var J=tt.shared.context,Ze=ze.def(se,".x|0"),Ye=ze.def(se,".y|0"),ot=ze.def('"width" in ',se,"?",se,".width|0:","(",J,".",Bl,"-",Ze,")"),Wt=ze.def('"height" in ',se,"?",se,".height|0:","(",J,".",$l,"-",Ye,")");return v.optional(function(){tt.assert(ze,ot+">=0&&"+Wt+">=0","invalid "+T)}),[Ze,Ye,ot,Wt]});return m&&(lt.thisDep=lt.thisDep||m.thisDep,lt.contextDep=lt.contextDep||m.contextDep,lt.propDep=lt.propDep||m.propDep),lt}else return m?new zn(m.thisDep,m.contextDep,m.propDep,function(tt,ze){var se=tt.shared.context;return[0,0,ze.def(se,".",Bl),ze.def(se,".",$l)]}):null}var O=M(Zi);if(O){var D=O;O=new zn(O.thisDep,O.contextDep,O.propDep,function(T,b){var A=D.append(T,b),V=T.shared.context;return b.set(V,"."+w8,A[2]),b.set(V,"."+E8,A[3]),A})}return{viewport:O,scissor_box:M(Uf)}}function dt(S,m){var k=S.static,F=typeof k[yu]=="string"&&typeof k[gu]=="string";if(F){if(Object.keys(m.dynamic).length>0)return null;var $=m.static,M=Object.keys($);if(M.length>0&&typeof $[M[0]]=="number"){for(var O=[],D=0;D<M.length;++D)v(typeof $[M[D]]=="number","must specify all vertex attribute locations when using vaos"),O.push([$[M[D]]|0,M[D]]);return O}}return null}function Lt(S,m,k){var F=S.static,$=S.dynamic;function M(A){if(A in F){var V=x.id(F[A]);v.optional(function(){we.shader(q2[A],V,v.guessCommand())});var z=Rn(function(){return V});return z.id=V,z}else if(A in $){var ee=$[A];return xr(ee,function(ae,Se){var lt=ae.invoke(Se,ee),tt=Se.def(ae.shared.strings,".id(",lt,")");return v.optional(function(){Se(ae.shared.shader,".shader(",q2[A],",",tt,",",ae.command,");")}),tt})}return null}var O=M(yu),D=M(gu),T=null,b;return Ra(O)&&Ra(D)?(T=we.program(D.id,O.id,null,k),b=Rn(function(A,V){return A.link(T)})):b=new zn(O&&O.thisDep||D&&D.thisDep,O&&O.contextDep||D&&D.contextDep,O&&O.propDep||D&&D.propDep,function(A,V){var z=A.shared.shader,ee;O?ee=O.append(A,V):ee=V.def(z,".",yu);var ae;D?ae=D.append(A,V):ae=V.def(z,".",gu);var Se=z+".program("+ae+","+ee;return v.optional(function(){Se+=","+A.command}),V.def(Se+")")}),{frag:O,vert:D,progVar:b,program:T}}function sn(S,m){var k=S.static,F=S.dynamic,$={},M=!1;function O(){if(xu in k){var ze=k[xu];return ze!==null&&ye.getVAO(ze)===null&&(ze=ye.createVAO(ze)),M=!0,$.vao=ze,Rn(function(J){var Ze=ye.getVAO(ze);return Ze?J.link(Ze):"null"})}else if(xu in F){M=!0;var se=F[xu];return xr(se,function(J,Ze){var Ye=J.invoke(Ze,se);return Ze.def(J.shared.vao+".getVAO("+Ye+")")})}return null}var D=O(),T=!1;function b(){if(Co in k){var ze=k[Co];if($.elements=ze,t0(ze)){var se=$.elements=X.create(ze,!0);ze=X.getElements(se),T=!0}else ze&&(ze=X.getElements(ze),T=!0,v.command(ze,"invalid elements",m.commandStr));var J=Rn(function(Ye,ot){if(ze){var Wt=Ye.link(ze);return Ye.ELEMENTS=Wt,Wt}return Ye.ELEMENTS=null,null});return J.value=ze,J}else if(Co in F){T=!0;var Ze=F[Co];return xr(Ze,function(Ye,ot){var Wt=Ye.shared,Zn=Wt.isBufferArgs,Po=Wt.elements,Ki=Ye.invoke(ot,Ze),Ri=ot.def("null"),ka=ot.def(Zn,"(",Ki,")"),Oo=Ye.cond(ka).then(Ri,"=",Po,".createStream(",Ki,");").else(Ri,"=",Po,".getElements(",Ki,");");return v.optional(function(){Ye.assert(Oo.else,"!"+Ki+"||"+Ri,"invalid elements")}),ot.entry(Oo),ot.exit(Ye.cond(ka).then(Po,".destroyStream(",Ri,");")),Ye.ELEMENTS=Ri,Ri})}else if(M)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ye,ot){return ot.def(Ye.shared.vao+".currentVAO?"+Ye.shared.elements+".getElements("+Ye.shared.vao+".currentVAO.elements):null")});return null}var A=b();function V(){if(bo in k){var ze=k[bo];return $.primitive=ze,v.commandParameter(ze,Ti,"invalid primitve",m.commandStr),Rn(function(J,Ze){return Ti[ze]})}else if(bo in F){var se=F[bo];return xr(se,function(J,Ze){var Ye=J.constants.primTypes,ot=J.invoke(Ze,se);return v.optional(function(){J.assert(Ze,ot+" in "+Ye,"invalid primitive, must be one of "+Object.keys(Ti))}),Ze.def(Ye,"[",ot,"]")})}else{if(T)return Ra(A)?A.value?Rn(function(J,Ze){return Ze.def(J.ELEMENTS,".primType")}):Rn(function(){return B1}):new zn(A.thisDep,A.contextDep,A.propDep,function(J,Ze){var Ye=J.ELEMENTS;return Ze.def(Ye,"?",Ye,".primType:",B1)});if(M)return new zn(D.thisDep,D.contextDep,D.propDep,function(J,Ze){return Ze.def(J.shared.vao+".currentVAO?"+J.shared.vao+".currentVAO.primitive:"+B1)})}return null}function z(ze,se){if(ze in k){var J=k[ze]|0;return se?$.offset=J:$.instances=J,v.command(!se||J>=0,"invalid "+ze,m.commandStr),Rn(function(Ye,ot){return se&&(Ye.OFFSET=J),J})}else if(ze in F){var Ze=F[ze];return xr(Ze,function(Ye,ot){var Wt=Ye.invoke(ot,Ze);return se&&(Ye.OFFSET=Wt,v.optional(function(){Ye.assert(ot,Wt+">=0","invalid "+ze)})),Wt})}else if(se){if(T)return Rn(function(Ye,ot){return Ye.OFFSET=0,0});if(M)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ye,ot){return ot.def(Ye.shared.vao+".currentVAO?"+Ye.shared.vao+".currentVAO.offset:0")})}else if(M)return new zn(D.thisDep,D.contextDep,D.propDep,function(Ye,ot){return ot.def(Ye.shared.vao+".currentVAO?"+Ye.shared.vao+".currentVAO.instances:-1")});return null}var ee=z(Vf,!0);function ae(){if(Lo in k){var ze=k[Lo]|0;return $.count=ze,v.command(typeof ze=="number"&&ze>=0,"invalid vertex count",m.commandStr),Rn(function(){return ze})}else if(Lo in F){var se=F[Lo];return xr(se,function(ot,Wt){var Zn=ot.invoke(Wt,se);return v.optional(function(){ot.assert(Wt,"typeof "+Zn+'==="number"&&'+Zn+">=0&&"+Zn+"===("+Zn+"|0)","invalid vertex count")}),Zn})}else if(T)if(Ra(A)){if(A)return ee?new zn(ee.thisDep,ee.contextDep,ee.propDep,function(ot,Wt){var Zn=Wt.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return v.optional(function(){ot.assert(Wt,Zn+">=0","invalid vertex offset/element buffer too small")}),Zn}):Rn(function(ot,Wt){return Wt.def(ot.ELEMENTS,".vertCount")});var J=Rn(function(){return-1});return v.optional(function(){J.MISSING=!0}),J}else{var Ze=new zn(A.thisDep||ee.thisDep,A.contextDep||ee.contextDep,A.propDep||ee.propDep,function(ot,Wt){var Zn=ot.ELEMENTS;return ot.OFFSET?Wt.def(Zn,"?",Zn,".vertCount-",ot.OFFSET,":-1"):Wt.def(Zn,"?",Zn,".vertCount:-1")});return v.optional(function(){Ze.DYNAMIC=!0}),Ze}else if(M){var Ye=new zn(D.thisDep,D.contextDep,D.propDep,function(ot,Wt){return Wt.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return Ye}return null}var Se=V(),lt=ae(),tt=z(Hf,!1);return{elements:A,primitive:Se,count:lt,instances:tt,offset:ee,vao:D,vaoActive:M,elementsActive:T,static:$}}function fn(S,m){var k=S.static,F=S.dynamic,$={};return nt.forEach(function(M){var O=He(M);function D(T,b){if(M in k){var A=T(k[M]);$[O]=Rn(function(){return A})}else if(M in F){var V=F[M];$[O]=xr(V,function(z,ee){return b(z,ee,z.invoke(ee,V))})}}switch(M){case P2:case A2:case T2:case D2:case b2:case B2:case N2:case M2:case I2:case k2:return D(function(T){return v.commandType(T,"boolean",M,m.commandStr),T},function(T,b,A){return v.optional(function(){T.assert(b,"typeof "+A+'==="boolean"',"invalid flag "+M,T.commandStr)}),A});case L2:return D(function(T){return v.commandParameter(T,zl,"invalid "+M,m.commandStr),zl[T]},function(T,b,A){var V=T.constants.compareFuncs;return v.optional(function(){T.assert(b,A+" in "+V,"invalid "+M+", must be one of "+Object.keys(zl))}),b.def(V,"[",A,"]")});case R2:return D(function(T){return v.command(rn(T)&&T.length===2&&typeof T[0]=="number"&&typeof T[1]=="number"&&T[0]<=T[1],"depth range is 2d array",m.commandStr),T},function(T,b,A){v.optional(function(){T.assert(b,T.shared.isArrayLike+"("+A+")&&"+A+".length===2&&typeof "+A+'[0]==="number"&&typeof '+A+'[1]==="number"&&'+A+"[0]<="+A+"[1]","depth range must be a 2d array")});var V=b.def("+",A,"[0]"),z=b.def("+",A,"[1]");return[V,z]});case T1:return D(function(T){v.commandType(T,"object","blend.func",m.commandStr);var b="srcRGB"in T?T.srcRGB:T.src,A="srcAlpha"in T?T.srcAlpha:T.src,V="dstRGB"in T?T.dstRGB:T.dst,z="dstAlpha"in T?T.dstAlpha:T.dst;return v.commandParameter(b,bi,O+".srcRGB",m.commandStr),v.commandParameter(A,bi,O+".srcAlpha",m.commandStr),v.commandParameter(V,bi,O+".dstRGB",m.commandStr),v.commandParameter(z,bi,O+".dstAlpha",m.commandStr),v.command(Y2.indexOf(b+", "+V)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+b+", "+V+")",m.commandStr),[bi[b],bi[V],bi[A],bi[z]]},function(T,b,A){var V=T.constants.blendFuncs;v.optional(function(){T.assert(b,A+"&&typeof "+A+'==="object"',"invalid blend func, must be an object")});function z(se,J){var Ze=b.def('"',se,J,'" in ',A,"?",A,".",se,J,":",A,".",se);return v.optional(function(){T.assert(b,Ze+" in "+V,"invalid "+M+"."+se+J+", must be one of "+Object.keys(bi))}),Ze}var ee=z("src","RGB"),ae=z("dst","RGB");v.optional(function(){var se=T.constants.invalidBlendCombinations;T.assert(b,se+".indexOf("+ee+'+", "+'+ae+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Se=b.def(V,"[",ee,"]"),lt=b.def(V,"[",z("src","Alpha"),"]"),tt=b.def(V,"[",ae,"]"),ze=b.def(V,"[",z("dst","Alpha"),"]");return[Se,tt,lt,ze]});case S1:return D(function(T){if(typeof T=="string")return v.commandParameter(T,Z,"invalid "+M,m.commandStr),[Z[T],Z[T]];if(typeof T=="object")return v.commandParameter(T.rgb,Z,M+".rgb",m.commandStr),v.commandParameter(T.alpha,Z,M+".alpha",m.commandStr),[Z[T.rgb],Z[T.alpha]];v.commandRaise("invalid blend.equation",m.commandStr)},function(T,b,A){var V=T.constants.blendEquations,z=b.def(),ee=b.def(),ae=T.cond("typeof ",A,'==="string"');return v.optional(function(){function Se(lt,tt,ze){T.assert(lt,ze+" in "+V,"invalid "+tt+", must be one of "+Object.keys(Z))}Se(ae.then,M,A),T.assert(ae.else,A+"&&typeof "+A+'==="object"',"invalid "+M),Se(ae.else,M+".rgb",A+".rgb"),Se(ae.else,M+".alpha",A+".alpha")}),ae.then(z,"=",ee,"=",V,"[",A,"];"),ae.else(z,"=",V,"[",A,".rgb];",ee,"=",V,"[",A,".alpha];"),b(ae),[z,ee]});case C2:return D(function(T){return v.command(rn(T)&&T.length===4,"blend.color must be a 4d array",m.commandStr),Kt(4,function(b){return+T[b]})},function(T,b,A){return v.optional(function(){T.assert(b,T.shared.isArrayLike+"("+A+")&&"+A+".length===4","blend.color must be a 4d array")}),Kt(4,function(V){return b.def("+",A,"[",V,"]")})});case F2:return D(function(T){return v.commandType(T,"number",O,m.commandStr),T|0},function(T,b,A){return v.optional(function(){T.assert(b,"typeof "+A+'==="number"',"invalid stencil.mask")}),b.def(A,"|0")});case k1:return D(function(T){v.commandType(T,"object",O,m.commandStr);var b=T.cmp||"keep",A=T.ref||0,V="mask"in T?T.mask:-1;return v.commandParameter(b,zl,M+".cmp",m.commandStr),v.commandType(A,"number",M+".ref",m.commandStr),v.commandType(V,"number",M+".mask",m.commandStr),[zl[b],A,V]},function(T,b,A){var V=T.constants.compareFuncs;v.optional(function(){function Se(){T.assert(b,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Se(A+"&&typeof ",A,'==="object"'),Se('!("cmp" in ',A,")||(",A,".cmp in ",V,")")});var z=b.def('"cmp" in ',A,"?",V,"[",A,".cmp]",":",ba),ee=b.def(A,".ref|0"),ae=b.def('"mask" in ',A,"?",A,".mask|0:-1");return[z,ee,ae]});case P1:case mu:return D(function(T){v.commandType(T,"object",O,m.commandStr);var b=T.fail||"keep",A=T.zfail||"keep",V=T.zpass||"keep";return v.commandParameter(b,La,M+".fail",m.commandStr),v.commandParameter(A,La,M+".zfail",m.commandStr),v.commandParameter(V,La,M+".zpass",m.commandStr),[M===mu?Ro:Au,La[b],La[A],La[V]]},function(T,b,A){var V=T.constants.stencilOps;v.optional(function(){T.assert(b,A+"&&typeof "+A+'==="object"',"invalid "+M)});function z(ee){return v.optional(function(){T.assert(b,'!("'+ee+'" in '+A+")||("+A+"."+ee+" in "+V+")","invalid "+M+"."+ee+", must be one of "+Object.keys(La))}),b.def('"',ee,'" in ',A,"?",V,"[",A,".",ee,"]:",ba)}return[M===mu?Ro:Au,z("fail"),z("zfail"),z("zpass")]});case L1:return D(function(T){v.commandType(T,"object",O,m.commandStr);var b=T.factor|0,A=T.units|0;return v.commandType(b,"number",O+".factor",m.commandStr),v.commandType(A,"number",O+".units",m.commandStr),[b,A]},function(T,b,A){v.optional(function(){T.assert(b,A+"&&typeof "+A+'==="object"',"invalid "+M)});var V=b.def(A,".factor|0"),z=b.def(A,".units|0");return[V,z]});case O2:return D(function(T){var b=0;return T==="front"?b=Au:T==="back"&&(b=Ro),v.command(!!b,O,m.commandStr),b},function(T,b,A){return v.optional(function(){T.assert(b,A+'==="front"||'+A+'==="back"',"invalid cull.face")}),b.def(A,'==="front"?',Au,":",Ro)});case b1:return D(function(T){return v.command(typeof T=="number"&&T>=Y.lineWidthDims[0]&&T<=Y.lineWidthDims[1],"invalid line width, must be a positive number between "+Y.lineWidthDims[0]+" and "+Y.lineWidthDims[1],m.commandStr),T},function(T,b,A){return v.optional(function(){T.assert(b,"typeof "+A+'==="number"&&'+A+">="+Y.lineWidthDims[0]+"&&"+A+"<="+Y.lineWidthDims[1],"invalid line width")}),A});case C1:return D(function(T){return v.commandParameter(T,j1,O,m.commandStr),j1[T]},function(T,b,A){return v.optional(function(){T.assert(b,A+'==="cw"||'+A+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),b.def(A+'==="cw"?'+U2+":"+$1)});case A1:return D(function(T){return v.command(rn(T)&&T.length===4,"color.mask must be length 4 array",m.commandStr),T.map(function(b){return!!b})},function(T,b,A){return v.optional(function(){T.assert(b,T.shared.isArrayLike+"("+A+")&&"+A+".length===4","invalid color.mask")}),Kt(4,function(V){return"!!"+A+"["+V+"]"})});case R1:return D(function(T){v.command(typeof T=="object"&&T,O,m.commandStr);var b="value"in T?T.value:1,A=!!T.invert;return v.command(typeof b=="number"&&b>=0&&b<=1,"sample.coverage.value must be a number between 0 and 1",m.commandStr),[b,A]},function(T,b,A){v.optional(function(){T.assert(b,A+"&&typeof "+A+'==="object"',"invalid sample.coverage")});var V=b.def('"value" in ',A,"?+",A,".value:1"),z=b.def("!!",A,".invert");return[V,z]})}}),$}function kt(S,m){var k=S.static,F=S.dynamic,$={};return Object.keys(k).forEach(function(M){var O=k[M],D;if(typeof O=="number"||typeof O=="boolean")D=Rn(function(){return O});else if(typeof O=="function"){var T=O._reglType;T==="texture2d"||T==="textureCube"?D=Rn(function(b){return b.link(O)}):T==="framebuffer"||T==="framebufferCube"?(v.command(O.color.length>0,'missing color attachment for framebuffer sent to uniform "'+M+'"',m.commandStr),D=Rn(function(b){return b.link(O.color[0])})):v.commandRaise('invalid data for uniform "'+M+'"',m.commandStr)}else rn(O)?D=Rn(function(b){var A=b.global.def("[",Kt(O.length,function(V){return v.command(typeof O[V]=="number"||typeof O[V]=="boolean","invalid uniform "+M,b.commandStr),O[V]}),"]");return A}):v.commandRaise('invalid or missing data for uniform "'+M+'"',m.commandStr);D.value=O,$[M]=D}),Object.keys(F).forEach(function(M){var O=F[M];$[M]=xr(O,function(D,T){return D.invoke(T,O)})}),$}function Mn(S,m){var k=S.static,F=S.dynamic,$={};return Object.keys(k).forEach(function(M){var O=k[M],D=x.id(M),T=new B;if(t0(O))T.state=Fl,T.buffer=re.getBuffer(re.create(O,jl,!1,!0)),T.type=0;else{var b=re.getBuffer(O);if(b)T.state=Fl,T.buffer=b,T.type=0;else if(v.command(typeof O=="object"&&O,"invalid data for attribute "+M,m.commandStr),"constant"in O){var A=O.constant;T.buffer="null",T.state=y1,typeof A=="number"?T.x=A:(v.command(rn(A)&&A.length>0&&A.length<=4,"invalid constant for attribute "+M,m.commandStr),Dl.forEach(function(tt,ze){ze<A.length&&(T[tt]=A[ze])}))}else{t0(O.buffer)?b=re.getBuffer(re.create(O.buffer,jl,!1,!0)):b=re.getBuffer(O.buffer),v.command(!!b,'missing buffer for attribute "'+M+'"',m.commandStr);var V=O.offset|0;v.command(V>=0,'invalid offset for attribute "'+M+'"',m.commandStr);var z=O.stride|0;v.command(z>=0&&z<256,'invalid stride for attribute "'+M+'", must be integer betweeen [0, 255]',m.commandStr);var ee=O.size|0;v.command(!("size"in O)||ee>0&&ee<=4,'invalid size for attribute "'+M+'", must be 1,2,3,4',m.commandStr);var ae=!!O.normalized,Se=0;"type"in O&&(v.commandParameter(O.type,xa,"invalid type for attribute "+M,m.commandStr),Se=xa[O.type]);var lt=O.divisor|0;v.optional(function(){"divisor"in O&&(v.command(lt===0||me,'cannot specify divisor for attribute "'+M+'", instancing not supported',m.commandStr),v.command(lt>=0,'invalid divisor for attribute "'+M+'"',m.commandStr));var tt=m.commandStr,ze=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(O).forEach(function(se){v.command(ze.indexOf(se)>=0,'unknown parameter "'+se+'" for attribute pointer "'+M+'" (valid parameters are '+ze+")",tt)})}),T.buffer=b,T.state=Fl,T.size=ee,T.normalized=ae,T.type=Se||b.dtype,T.offset=V,T.stride=z,T.divisor=lt}}$[M]=Rn(function(tt,ze){var se=tt.attribCache;if(D in se)return se[D];var J={isStream:!1};return Object.keys(T).forEach(function(Ze){J[Ze]=T[Ze]}),T.buffer&&(J.buffer=tt.link(T.buffer),J.type=J.type||J.buffer+".dtype"),se[D]=J,J})}),Object.keys(F).forEach(function(M){var O=F[M];function D(T,b){var A=T.invoke(b,O),V=T.shared,z=T.constants,ee=V.isBufferArgs,ae=V.buffer;v.optional(function(){T.assert(b,A+"&&(typeof "+A+'==="object"||typeof '+A+'==="function")&&('+ee+"("+A+")||"+ae+".getBuffer("+A+")||"+ae+".getBuffer("+A+".buffer)||"+ee+"("+A+'.buffer)||("constant" in '+A+"&&(typeof "+A+'.constant==="number"||'+V.isArrayLike+"("+A+".constant))))",'invalid dynamic attribute "'+M+'"')});var Se={isStream:b.def(!1)},lt=new B;lt.state=Fl,Object.keys(lt).forEach(function(J){Se[J]=b.def(""+lt[J])});var tt=Se.buffer,ze=Se.type;b("if(",ee,"(",A,")){",Se.isStream,"=true;",tt,"=",ae,".createStream(",jl,",",A,");",ze,"=",tt,".dtype;","}else{",tt,"=",ae,".getBuffer(",A,");","if(",tt,"){",ze,"=",tt,".dtype;",'}else if("constant" in ',A,"){",Se.state,"=",y1,";","if(typeof "+A+'.constant === "number"){',Se[Dl[0]],"=",A,".constant;",Dl.slice(1).map(function(J){return Se[J]}).join("="),"=0;","}else{",Dl.map(function(J,Ze){return Se[J]+"="+A+".constant.length>"+Ze+"?"+A+".constant["+Ze+"]:0;"}).join(""),"}}else{","if(",ee,"(",A,".buffer)){",tt,"=",ae,".createStream(",jl,",",A,".buffer);","}else{",tt,"=",ae,".getBuffer(",A,".buffer);","}",ze,'="type" in ',A,"?",z.glTypes,"[",A,".type]:",tt,".dtype;",Se.normalized,"=!!",A,".normalized;");function se(J){b(Se[J],"=",A,".",J,"|0;")}return se("size"),se("offset"),se("stride"),se("divisor"),b("}}"),b.exit("if(",Se.isStream,"){",ae,".destroyStream(",tt,");","}"),Se}$[M]=xr(O,D)}),$}function an(S){var m=S.static,k=S.dynamic,F={};return Object.keys(m).forEach(function($){var M=m[$];F[$]=Rn(function(O,D){return typeof M=="number"||typeof M=="boolean"?""+M:O.link(M)})}),Object.keys(k).forEach(function($){var M=k[$];F[$]=xr(M,function(O,D){return O.invoke(D,M)})}),F}function kn(S,m,k,F,$){var M=S.static,O=S.dynamic;v.optional(function(){var se=[Ao,gu,yu,Co,bo,Vf,Lo,Hf,vu,xu].concat(nt);function J(Ze){Object.keys(Ze).forEach(function(Ye){v.command(se.indexOf(Ye)>=0,'unknown parameter "'+Ye+'"',$.commandStr)})}J(M),J(O)});var D=dt(S,m),T=De(S),b=at(S,T,$),A=sn(S,$),V=fn(S,$),z=Lt(S,$,D);function ee(se){var J=b[se];J&&(V[se]=J)}ee(Zi),ee(He(Uf));var ae=Object.keys(V).length>0,Se={framebuffer:T,draw:A,shader:z,state:V,dirty:ae,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Se.profile=Ne(S),Se.uniforms=kt(k,$),Se.drawVAO=Se.scopeVAO=A.vao,!Se.drawVAO&&z.program&&!D&&R.angle_instanced_arrays&&A.static.elements){var lt=!0,tt=z.program.attributes.map(function(se){var J=m.static[se];return lt=lt&&!!J,J});if(lt&&tt.length>0){var ze=ye.getVAO(ye.createVAO({attributes:tt,elements:A.static.elements}));Se.drawVAO=new zn(null,null,null,function(se,J){return se.link(ze)}),Se.useVAO=!0}}return D?Se.useVAO=!0:Se.attributes=Mn(m,$),Se.context=an(F),Se}function In(S,m,k){var F=S.shared,$=F.context,M=S.scope();Object.keys(k).forEach(function(O){m.save($,"."+O);var D=k[O],T=D.append(S,m);Array.isArray(T)?M($,".",O,"=[",T.join(),"];"):M($,".",O,"=",T,";")}),m(M)}function Dn(S,m,k,F){var $=S.shared,M=$.gl,O=$.framebuffer,D;Fe&&(D=m.def($.extensions,".webgl_draw_buffers"));var T=S.constants,b=T.drawBuffer,A=T.backBuffer,V;k?V=k.append(S,m):V=m.def(O,".next"),F||m("if(",V,"!==",O,".cur){"),m("if(",V,"){",M,".bindFramebuffer(",X2,",",V,".framebuffer);"),Fe&&m(D,".drawBuffersWEBGL(",b,"[",V,".colorAttachments.length]);"),m("}else{",M,".bindFramebuffer(",X2,",null);"),Fe&&m(D,".drawBuffersWEBGL(",A,");"),m("}",O,".cur=",V,";"),F||m("}")}function Hn(S,m,k){var F=S.shared,$=F.gl,M=S.current,O=S.next,D=F.current,T=F.next,b=S.cond(D,".dirty");nt.forEach(function(A){var V=He(A);if(!(V in k.state)){var z,ee;if(V in O){z=O[V],ee=M[V];var ae=Kt(Ie[V].length,function(lt){return b.def(z,"[",lt,"]")});b(S.cond(ae.map(function(lt,tt){return lt+"!=="+ee+"["+tt+"]"}).join("||")).then($,".",te[V],"(",ae,");",ae.map(function(lt,tt){return ee+"["+tt+"]="+lt}).join(";"),";"))}else{z=b.def(T,".",V);var Se=S.cond(z,"!==",D,".",V);b(Se),V in ie?Se(S.cond(z).then($,".enable(",ie[V],");").else($,".disable(",ie[V],");"),D,".",V,"=",z,";"):Se($,".",te[V],"(",z,");",D,".",V,"=",z,";")}}}),Object.keys(k.state).length===0&&b(D,".dirty=false;"),m(b)}function qn(S,m,k,F){var $=S.shared,M=S.current,O=$.current,D=$.gl;Q2(Object.keys(k)).forEach(function(T){var b=k[T];if(!(F&&!F(b))){var A=b.append(S,m);if(ie[T]){var V=ie[T];Ra(b)?A?m(D,".enable(",V,");"):m(D,".disable(",V,");"):m(S.cond(A).then(D,".enable(",V,");").else(D,".disable(",V,");")),m(O,".",T,"=",A,";")}else if(rn(A)){var z=M[T];m(D,".",te[T],"(",A,");",A.map(function(ee,ae){return z+"["+ae+"]="+ee}).join(";"),";")}else m(D,".",te[T],"(",A,");",O,".",T,"=",A,";")}})}function yn(S,m){me&&(S.instancing=m.def(S.shared.extensions,".angle_instanced_arrays"))}function yt(S,m,k,F,$){var M=S.shared,O=S.stats,D=M.current,T=M.timer,b=k.profile;function A(){return typeof performance>"u"?"Date.now()":"performance.now()"}var V,z;function ee(se){V=m.def(),se(V,"=",A(),";"),typeof $=="string"?se(O,".count+=",$,";"):se(O,".count++;"),he&&(F?(z=m.def(),se(z,"=",T,".getNumPendingQueries();")):se(T,".beginQuery(",O,");"))}function ae(se){se(O,".cpuTime+=",A(),"-",V,";"),he&&(F?se(T,".pushScopeStats(",z,",",T,".getNumPendingQueries(),",O,");"):se(T,".endQuery();"))}function Se(se){var J=m.def(D,".profile");m(D,".profile=",se,";"),m.exit(D,".profile=",J,";")}var lt;if(b){if(Ra(b)){b.enable?(ee(m),ae(m.exit),Se("true")):Se("false");return}lt=b.append(S,m),Se(lt)}else lt=m.def(D,".profile");var tt=S.block();ee(tt),m("if(",lt,"){",tt,"}");var ze=S.block();ae(ze),m.exit("if(",lt,"){",ze,"}")}function Qn(S,m,k,F,$){var M=S.shared;function O(T){switch(T){case Wf:case qf:case Kf:return 2;case Xf:case Qf:case Jf:return 3;case Yf:case Zf:case e0:return 4;default:return 1}}function D(T,b,A){var V=M.gl,z=m.def(T,".location"),ee=m.def(M.attributes,"[",z,"]"),ae=A.state,Se=A.buffer,lt=[A.x,A.y,A.z,A.w],tt=["buffer","normalized","offset","stride"];function ze(){m("if(!",ee,".buffer){",V,".enableVertexAttribArray(",z,");}");var J=A.type,Ze;if(A.size?Ze=m.def(A.size,"||",b):Ze=b,m("if(",ee,".type!==",J,"||",ee,".size!==",Ze,"||",tt.map(function(ot){return ee+"."+ot+"!=="+A[ot]}).join("||"),"){",V,".bindBuffer(",jl,",",Se,".buffer);",V,".vertexAttribPointer(",[z,Ze,J,A.normalized,A.stride,A.offset],");",ee,".type=",J,";",ee,".size=",Ze,";",tt.map(function(ot){return ee+"."+ot+"="+A[ot]+";"}).join(""),"}"),me){var Ye=A.divisor;m("if(",ee,".divisor!==",Ye,"){",S.instancing,".vertexAttribDivisorANGLE(",[z,Ye],");",ee,".divisor=",Ye,";}")}}function se(){m("if(",ee,".buffer){",V,".disableVertexAttribArray(",z,");",ee,".buffer=null;","}if(",Dl.map(function(J,Ze){return ee+"."+J+"!=="+lt[Ze]}).join("||"),"){",V,".vertexAttrib4f(",z,",",lt,");",Dl.map(function(J,Ze){return ee+"."+J+"="+lt[Ze]+";"}).join(""),"}")}ae===Fl?ze():ae===y1?se():(m("if(",ae,"===",Fl,"){"),ze(),m("}else{"),se(),m("}"))}F.forEach(function(T){var b=T.name,A=k.attributes[b],V;if(A){if(!$(A))return;V=A.append(S,m)}else{if(!$(Z2))return;var z=S.scopeAttrib(b);v.optional(function(){S.assert(m,z+".state","missing attribute "+b)}),V={},Object.keys(new B).forEach(function(ee){V[ee]=m.def(z,".",ee)})}D(S.link(T),O(T.info.type),V)})}function Gt(S,m,k,F,$,M){for(var O=S.shared,D=O.gl,T={},b,A=0;A<F.length;++A){var V=F[A],z=V.name,ee=V.info.type,ae=V.info.size,Se=k.uniforms[z];if(ae>1){if(!Se)continue;var lt=z.replace("[0]","");if(T[lt])continue;T[lt]=1}var tt=S.link(V),ze=tt+".location",se;if(Se){if(!$(Se))continue;if(Ra(Se)){var J=Se.value;if(v.command(J!==null&&typeof J<"u",'missing uniform "'+z+'"',S.commandStr),ee===Su||ee===Tu){v.command(typeof J=="function"&&(ee===Su&&(J._reglType==="texture2d"||J._reglType==="framebuffer")||ee===Tu&&(J._reglType==="textureCube"||J._reglType==="framebufferCube")),"invalid texture for uniform "+z,S.commandStr);var Ze=S.link(J._texture||J.color[0]._texture);m(D,".uniform1i(",ze,",",Ze+".bind());"),m.exit(Ze,".unbind();")}else if(ee===_u||ee===wu||ee===Eu){v.optional(function(){v.command(rn(J),"invalid matrix for uniform "+z,S.commandStr),v.command(ee===_u&&J.length===4||ee===wu&&J.length===9||ee===Eu&&J.length===16,"invalid length for matrix uniform "+z,S.commandStr)});var Ye=S.global.def("new Float32Array(["+Array.prototype.slice.call(J)+"])"),ot=2;ee===wu?ot=3:ee===Eu&&(ot=4),m(D,".uniformMatrix",ot,"fv(",ze,",false,",Ye,");")}else{switch(ee){case I1:ae===1?v.commandType(J,"number","uniform "+z,S.commandStr):v.command(rn(J)&&J.length===ae,"uniform "+z,S.commandStr),b="1f";break;case Wf:v.command(rn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+z,S.commandStr),b="2f";break;case Xf:v.command(rn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+z,S.commandStr),b="3f";break;case Yf:v.command(rn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+z,S.commandStr),b="4f";break;case F1:ae===1?v.commandType(J,"boolean","uniform "+z,S.commandStr):v.command(rn(J)&&J.length===ae,"uniform "+z,S.commandStr),b="1i";break;case D1:ae===1?v.commandType(J,"number","uniform "+z,S.commandStr):v.command(rn(J)&&J.length===ae,"uniform "+z,S.commandStr),b="1i";break;case Kf:v.command(rn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+z,S.commandStr),b="2i";break;case qf:v.command(rn(J)&&J.length&&J.length%2===0&&J.length<=ae*2,"uniform "+z,S.commandStr),b="2i";break;case Jf:v.command(rn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+z,S.commandStr),b="3i";break;case Qf:v.command(rn(J)&&J.length&&J.length%3===0&&J.length<=ae*3,"uniform "+z,S.commandStr),b="3i";break;case e0:v.command(rn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+z,S.commandStr),b="4i";break;case Zf:v.command(rn(J)&&J.length&&J.length%4===0&&J.length<=ae*4,"uniform "+z,S.commandStr),b="4i";break}ae>1?(b+="v",J=S.global.def("["+Array.prototype.slice.call(J)+"]")):J=rn(J)?Array.prototype.slice.call(J):J,m(D,".uniform",b,"(",ze,",",J,");")}continue}else se=Se.append(S,m)}else{if(!$(Z2))continue;se=m.def(O.uniforms,"[",x.id(z),"]")}ee===Su?(v(!Array.isArray(se),"must specify a scalar prop for textures"),m("if(",se,"&&",se,'._reglType==="framebuffer"){',se,"=",se,".color[0];","}")):ee===Tu&&(v(!Array.isArray(se),"must specify a scalar prop for cube maps"),m("if(",se,"&&",se,'._reglType==="framebufferCube"){',se,"=",se,".color[0];","}")),v.optional(function(){function Nr(_r,n0){S.assert(m,_r,'bad data or missing for uniform "'+z+'".  '+n0)}function No(_r,n0){n0===1&&v(!Array.isArray(se),"must not specify an array type for uniform"),Nr("Array.isArray("+se+") && typeof "+se+'[0]===" '+_r+'" || typeof '+se+'==="'+_r+'"',"invalid type, expected "+_r)}function Hr(_r,n0,r0){Array.isArray(se)?v(se.length&&se.length%_r===0&&se.length<=_r*r0,"must have length of "+(r0===1?"":"n * ")+_r):Nr(O.isArrayLike+"("+se+")&&"+se+".length && "+se+".length % "+_r+" === 0 && "+se+".length<="+_r*r0,"invalid vector, should have length of "+(r0===1?"":"n * ")+_r,S.commandStr)}function ig(_r){v(!Array.isArray(se),"must not specify a value type"),Nr("typeof "+se+'==="function"&&'+se+'._reglType==="texture'+(_r===G2?"2d":"Cube")+'"',"invalid texture type",S.commandStr)}switch(ee){case D1:No("number",ae);break;case qf:Hr(2,"number",ae);break;case Qf:Hr(3,"number",ae);break;case Zf:Hr(4,"number",ae);break;case I1:No("number",ae);break;case Wf:Hr(2,"number",ae);break;case Xf:Hr(3,"number",ae);break;case Yf:Hr(4,"number",ae);break;case F1:No("boolean",ae);break;case Kf:Hr(2,"boolean",ae);break;case Jf:Hr(3,"boolean",ae);break;case e0:Hr(4,"boolean",ae);break;case _u:Hr(4,"number",ae);break;case wu:Hr(9,"number",ae);break;case Eu:Hr(16,"number",ae);break;case Su:ig(G2);break;case Tu:ig(C8);break}});var Wt=1;switch(ee){case Su:case Tu:var Zn=m.def(se,"._texture");m(D,".uniform1i(",ze,",",Zn,".bind());"),m.exit(Zn,".unbind();");continue;case D1:case F1:b="1i";break;case qf:case Kf:b="2i",Wt=2;break;case Qf:case Jf:b="3i",Wt=3;break;case Zf:case e0:b="4i",Wt=4;break;case I1:b="1f";break;case Wf:b="2f",Wt=2;break;case Xf:b="3f",Wt=3;break;case Yf:b="4f",Wt=4;break;case _u:b="Matrix2fv";break;case wu:b="Matrix3fv";break;case Eu:b="Matrix4fv";break}if(b.indexOf("Matrix")===-1&&ae>1&&(b+="v",Wt=1),b.charAt(0)==="M"){m(D,".uniform",b,"(",ze,",");var Po=Math.pow(ee-_u+2,2),Ki=S.global.def("new Float32Array(",Po,")");Array.isArray(se)?m("false,(",Kt(Po,function(Nr){return Ki+"["+Nr+"]="+se[Nr]}),",",Ki,")"):m("false,(Array.isArray(",se,")||",se," instanceof Float32Array)?",se,":(",Kt(Po,function(Nr){return Ki+"["+Nr+"]="+se+"["+Nr+"]"}),",",Ki,")"),m(");")}else if(Wt>1){for(var Ri=[],ka=[],Oo=0;Oo<Wt;++Oo)Array.isArray(se)?ka.push(se[Oo]):ka.push(m.def(se+"["+Oo+"]")),M&&Ri.push(m.def());M&&m("if(!",S.batchId,"||",Ri.map(function(Nr,No){return Nr+"!=="+ka[No]}).join("||"),"){",Ri.map(function(Nr,No){return Nr+"="+ka[No]+";"}).join("")),m(D,".uniform",b,"(",ze,",",ka.join(","),");"),M&&m("}")}else{if(v(!Array.isArray(se),"uniform value must not be an array"),M){var rg=m.def();m("if(!",S.batchId,"||",rg,"!==",se,"){",rg,"=",se,";")}m(D,".uniform",b,"(",ze,",",se,");"),M&&m("}")}}}function it(S,m,k,F){var $=S.shared,M=$.gl,O=$.draw,D=F.draw;function T(){var Ze=D.elements,Ye,ot=m;return Ze?((Ze.contextDep&&F.contextDynamic||Ze.propDep)&&(ot=k),Ye=Ze.append(S,ot),D.elementsActive&&ot("if("+Ye+")"+M+".bindBuffer("+M1+","+Ye+".buffer.buffer);")):(Ye=ot.def(),ot(Ye,"=",O,".",Co,";","if(",Ye,"){",M,".bindBuffer(",M1,",",Ye,".buffer.buffer);}","else if(",$.vao,".currentVAO){",Ye,"=",S.shared.elements+".getElements("+$.vao,".currentVAO.elements);",ue?"":"if("+Ye+")"+M+".bindBuffer("+M1+","+Ye+".buffer.buffer);","}")),Ye}function b(){var Ze=D.count,Ye,ot=m;return Ze?((Ze.contextDep&&F.contextDynamic||Ze.propDep)&&(ot=k),Ye=Ze.append(S,ot),v.optional(function(){Ze.MISSING&&S.assert(m,"false","missing vertex count"),Ze.DYNAMIC&&S.assert(ot,Ye+">=0","missing vertex count")})):(Ye=ot.def(O,".",Lo),v.optional(function(){S.assert(ot,Ye+">=0","missing vertex count")})),Ye}var A=T();function V(Ze){var Ye=D[Ze];return Ye?Ye.contextDep&&F.contextDynamic||Ye.propDep?Ye.append(S,k):Ye.append(S,m):m.def(O,".",Ze)}var z=V(bo),ee=V(Vf),ae=b();if(typeof ae=="number"){if(ae===0)return}else k("if(",ae,"){"),k.exit("}");var Se,lt;me&&(Se=V(Hf),lt=S.instancing);var tt=A+".type",ze=D.elements&&Ra(D.elements)&&!D.vaoActive;function se(){function Ze(){k(lt,".drawElementsInstancedANGLE(",[z,ae,tt,ee+"<<(("+tt+"-"+w2+")>>1)",Se],");")}function Ye(){k(lt,".drawArraysInstancedANGLE(",[z,ee,ae,Se],");")}A&&A!=="null"?ze?Ze():(k("if(",A,"){"),Ze(),k("}else{"),Ye(),k("}")):Ye()}function J(){function Ze(){k(M+".drawElements("+[z,ae,tt,ee+"<<(("+tt+"-"+w2+")>>1)"]+");")}function Ye(){k(M+".drawArrays("+[z,ee,ae]+");")}A&&A!=="null"?ze?Ze():(k("if(",A,"){"),Ze(),k("}else{"),Ye(),k("}")):Ye()}me&&(typeof Se!="number"||Se>=0)?typeof Se=="string"?(k("if(",Se,">0){"),se(),k("}else if(",Se,"<0){"),J(),k("}")):se():J()}function Rt(S,m,k,F,$){var M=ct(),O=M.proc("body",$);return v.optional(function(){M.commandStr=m.commandStr,M.command=M.link(m.commandStr)}),me&&(M.instancing=O.def(M.shared.extensions,".angle_instanced_arrays")),S(M,O,k,F),M.compile().body}function Dt(S,m,k,F){yn(S,m),k.useVAO?k.drawVAO?m(S.shared.vao,".setVAO(",k.drawVAO.append(S,m),");"):m(S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"):(m(S.shared.vao,".setVAO(null);"),Qn(S,m,k,F.attributes,function(){return!0})),Gt(S,m,k,F.uniforms,function(){return!0},!1),it(S,m,m,k)}function xn(S,m){var k=S.proc("draw",1);yn(S,k),In(S,k,m.context),Dn(S,k,m.framebuffer),Hn(S,k,m),qn(S,k,m.state),yt(S,k,m,!1,!0);var F=m.shader.progVar.append(S,k);if(k(S.shared.gl,".useProgram(",F,".program);"),m.shader.program)Dt(S,k,m,m.shader.program);else{k(S.shared.vao,".setVAO(null);");var $=S.global.def("{}"),M=k.def(F,".id"),O=k.def($,"[",M,"]");k(S.cond(O).then(O,".call(this,a0);").else(O,"=",$,"[",M,"]=",S.link(function(D){return Rt(Dt,S,m,D,1)}),"(",F,");",O,".call(this,a0);"))}Object.keys(m.state).length>0&&k(S.shared.current,".dirty=true;"),S.shared.vao&&k(S.shared.vao,".setVAO(null);")}function Li(S,m,k,F){S.batchId="a1",yn(S,m);function $(){return!0}Qn(S,m,k,F.attributes,$),Gt(S,m,k,F.uniforms,$,!1),it(S,m,m,k)}function ko(S,m,k,F){yn(S,m);var $=k.contextDep,M=m.def(),O="a0",D="a1",T=m.def();S.shared.props=T,S.batchId=M;var b=S.scope(),A=S.scope();m(b.entry,"for(",M,"=0;",M,"<",D,";++",M,"){",T,"=",O,"[",M,"];",A,"}",b.exit);function V(tt){return tt.contextDep&&$||tt.propDep}function z(tt){return!V(tt)}if(k.needsContext&&In(S,A,k.context),k.needsFramebuffer&&Dn(S,A,k.framebuffer),qn(S,A,k.state,V),k.profile&&V(k.profile)&&yt(S,A,k,!1,!0),F)k.useVAO?k.drawVAO?V(k.drawVAO)?A(S.shared.vao,".setVAO(",k.drawVAO.append(S,A),");"):b(S.shared.vao,".setVAO(",k.drawVAO.append(S,b),");"):b(S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"):(b(S.shared.vao,".setVAO(null);"),Qn(S,b,k,F.attributes,z),Qn(S,A,k,F.attributes,V)),Gt(S,b,k,F.uniforms,z,!1),Gt(S,A,k,F.uniforms,V,!0),it(S,b,A,k);else{var ee=S.global.def("{}"),ae=k.shader.progVar.append(S,A),Se=A.def(ae,".id"),lt=A.def(ee,"[",Se,"]");A(S.shared.gl,".useProgram(",ae,".program);","if(!",lt,"){",lt,"=",ee,"[",Se,"]=",S.link(function(tt){return Rt(Li,S,k,tt,2)}),"(",ae,");}",lt,".call(this,a0[",M,"],",M,");")}}function C(S,m){var k=S.proc("batch",2);S.batchId="0",yn(S,k);var F=!1,$=!0;Object.keys(m.context).forEach(function(ee){F=F||m.context[ee].propDep}),F||(In(S,k,m.context),$=!1);var M=m.framebuffer,O=!1;M?(M.propDep?F=O=!0:M.contextDep&&F&&(O=!0),O||Dn(S,k,M)):Dn(S,k,null),m.state.viewport&&m.state.viewport.propDep&&(F=!0);function D(ee){return ee.contextDep&&F||ee.propDep}Hn(S,k,m),qn(S,k,m.state,function(ee){return!D(ee)}),(!m.profile||!D(m.profile))&&yt(S,k,m,!1,"a1"),m.contextDep=F,m.needsContext=$,m.needsFramebuffer=O;var T=m.shader.progVar;if(T.contextDep&&F||T.propDep)ko(S,k,m,null);else{var b=T.append(S,k);if(k(S.shared.gl,".useProgram(",b,".program);"),m.shader.program)ko(S,k,m,m.shader.program);else{k(S.shared.vao,".setVAO(null);");var A=S.global.def("{}"),V=k.def(b,".id"),z=k.def(A,"[",V,"]");k(S.cond(z).then(z,".call(this,a0,a1);").else(z,"=",A,"[",V,"]=",S.link(function(ee){return Rt(ko,S,m,ee,2)}),"(",b,");",z,".call(this,a0,a1);"))}}Object.keys(m.state).length>0&&k(S.shared.current,".dirty=true;"),S.shared.vao&&k(S.shared.vao,".setVAO(null);")}function q(S,m){var k=S.proc("scope",3);S.batchId="a2";var F=S.shared,$=F.current;In(S,k,m.context),m.framebuffer&&m.framebuffer.append(S,k),Q2(Object.keys(m.state)).forEach(function(O){var D=m.state[O],T=D.append(S,k);rn(T)?T.forEach(function(b,A){k.set(S.next[O],"["+A+"]",b)}):k.set(F.next,"."+O,T)}),yt(S,k,m,!0,!0),[Co,Vf,Lo,Hf,bo].forEach(function(O){var D=m.draw[O];D&&k.set(F.draw,"."+O,""+D.append(S,k))}),Object.keys(m.uniforms).forEach(function(O){var D=m.uniforms[O].append(S,k);Array.isArray(D)&&(D="["+D.join()+"]"),k.set(F.uniforms,"["+x.id(O)+"]",D)}),Object.keys(m.attributes).forEach(function(O){var D=m.attributes[O].append(S,k),T=S.scopeAttrib(O);Object.keys(new B).forEach(function(b){k.set(T,"."+b,D[b])})}),m.scopeVAO&&k.set(F.vao,".targetVAO",m.scopeVAO.append(S,k));function M(O){var D=m.shader[O];D&&k.set(F.shader,"."+O,D.append(S,k))}M(gu),M(yu),Object.keys(m.state).length>0&&(k($,".dirty=true;"),k.exit($,".dirty=true;")),k("a1(",S.shared.context,",a0,",S.batchId,");")}function H(S){if(!(typeof S!="object"||rn(S))){for(var m=Object.keys(S),k=0;k<m.length;++k)if(Nt.isDynamic(S[m[k]]))return!0;return!1}}function Ve(S,m,k){var F=m.static[k];if(!F||!H(F))return;var $=S.global,M=Object.keys(F),O=!1,D=!1,T=!1,b=S.global.def("{}");M.forEach(function(V){var z=F[V];if(Nt.isDynamic(z)){typeof z=="function"&&(z=F[V]=Nt.unbox(z));var ee=xr(z,null);O=O||ee.thisDep,T=T||ee.propDep,D=D||ee.contextDep}else{switch($(b,".",V,"="),typeof z){case"number":$(z);break;case"string":$('"',z,'"');break;case"object":Array.isArray(z)&&$("[",z.join(),"]");break;default:$(S.link(z));break}$(";")}});function A(V,z){M.forEach(function(ee){var ae=F[ee];if(Nt.isDynamic(ae)){var Se=V.invoke(z,ae);z(b,".",ee,"=",Se,";")}})}m.dynamic[k]=new Nt.DynamicVariable(Gf,{thisDep:O,contextDep:D,propDep:T,ref:b,append:A}),delete m.static[k]}function bt(S,m,k,F,$){var M=ct();M.stats=M.link($),Object.keys(m.static).forEach(function(D){Ve(M,m,D)}),S8.forEach(function(D){Ve(M,S,D)});var O=kn(S,m,k,F,M);return xn(M,O),q(M,O),C(M,O),r(M.compile(),{destroy:function(){O.shader.program.destroy()}})}return{next:Oe,current:Ie,procs:function(){var S=ct(),m=S.proc("poll"),k=S.proc("refresh"),F=S.block();m(F),k(F);var $=S.shared,M=$.gl,O=$.next,D=$.current;F(D,".dirty=false;"),Dn(S,m),Dn(S,k,null,!0);var T;me&&(T=S.link(me)),R.oes_vertex_array_object&&k(S.link(R.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var b=0;b<Y.maxAttributes;++b){var A=k.def($.attributes,"[",b,"]"),V=S.cond(A,".buffer");V.then(M,".enableVertexAttribArray(",b,");",M,".bindBuffer(",jl,",",A,".buffer.buffer);",M,".vertexAttribPointer(",b,",",A,".size,",A,".type,",A,".normalized,",A,".stride,",A,".offset);").else(M,".disableVertexAttribArray(",b,");",M,".vertexAttrib4f(",b,",",A,".x,",A,".y,",A,".z,",A,".w);",A,".buffer=null;"),k(V),me&&k(T,".vertexAttribDivisorANGLE(",b,",",A,".divisor);")}return k(S.shared.vao,".currentVAO=null;",S.shared.vao,".setVAO(",S.shared.vao,".targetVAO);"),Object.keys(ie).forEach(function(z){var ee=ie[z],ae=F.def(O,".",z),Se=S.block();Se("if(",ae,"){",M,".enable(",ee,")}else{",M,".disable(",ee,")}",D,".",z,"=",ae,";"),k(Se),m("if(",ae,"!==",D,".",z,"){",Se,"}")}),Object.keys(te).forEach(function(z){var ee=te[z],ae=Ie[z],Se,lt,tt=S.block();if(tt(M,".",ee,"("),rn(ae)){var ze=ae.length;Se=S.global.def(O,".",z),lt=S.global.def(D,".",z),tt(Kt(ze,function(se){return Se+"["+se+"]"}),");",Kt(ze,function(se){return lt+"["+se+"]="+Se+"["+se+"];"}).join("")),m("if(",Kt(ze,function(se){return Se+"["+se+"]!=="+lt+"["+se+"]"}).join("||"),"){",tt,"}")}else Se=F.def(O,".",z),lt=F.def(D,".",z),tt(Se,");",D,".",z,"=",Se,";"),m("if(",Se,"!==",lt,"){",tt,"}");k(tt)}),S.compile()}(),compile:bt}}function G8(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var U8=34918,V8=34919,K2=35007,H8=function(h,x){if(!x.ext_disjoint_timer_query)return null;var R=[];function Y(){return R.pop()||x.ext_disjoint_timer_query.createQueryEXT()}function re(me){R.push(me)}var X=[];function K(me){var Fe=Y();x.ext_disjoint_timer_query.beginQueryEXT(K2,Fe),X.push(Fe),he(X.length-1,X.length,me)}function de(){x.ext_disjoint_timer_query.endQueryEXT(K2)}function fe(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ye=[];function we(){return ye.pop()||new fe}function xe(me){ye.push(me)}var Ae=[];function he(me,Fe,ue){var Ie=we();Ie.startQueryIndex=me,Ie.endQueryIndex=Fe,Ie.sum=0,Ie.stats=ue,Ae.push(Ie)}var ve=[],B=[];function Z(){var me,Fe,ue=X.length;if(ue!==0){B.length=Math.max(B.length,ue+1),ve.length=Math.max(ve.length,ue+1),ve[0]=0,B[0]=0;var Ie=0;for(me=0,Fe=0;Fe<X.length;++Fe){var Oe=X[Fe];x.ext_disjoint_timer_query.getQueryObjectEXT(Oe,V8)?(Ie+=x.ext_disjoint_timer_query.getQueryObjectEXT(Oe,U8),re(Oe)):X[me++]=Oe,ve[Fe+1]=Ie,B[Fe+1]=me}for(X.length=me,me=0,Fe=0;Fe<Ae.length;++Fe){var nt=Ae[Fe],ie=nt.startQueryIndex,te=nt.endQueryIndex;nt.sum+=ve[te]-ve[ie];var He=B[ie],Re=B[te];Re===He?(nt.stats.gpuTime+=nt.sum/1e6,xe(nt)):(nt.startQueryIndex=He,nt.endQueryIndex=Re,Ae[me++]=nt)}Ae.length=me}}return{beginQuery:K,endQuery:de,pushScopeStats:he,update:Z,getNumPendingQueries:function(){return X.length},clear:function(){R.push.apply(R,X);for(var me=0;me<R.length;me++)x.ext_disjoint_timer_query.deleteQueryEXT(R[me]);X.length=0,R.length=0},restore:function(){X.length=0,R.length=0}}},W8=16384,X8=256,Y8=1024,q8=34962,J2="webglcontextlost",eg="webglcontextrestored",tg=1,Q8=2,Z8=3;function ng(h,x){for(var R=0;R<h.length;++R)if(h[R]===x)return R;return-1}function K8(h){var x=mn(h);if(!x)return null;var R=x.gl,Y=R.getContextAttributes(),re=R.isContextLost(),X=Cn(R,x);if(!X)return null;var K=ir(),de=G8(),fe=X.extensions,ye=H8(R,fe),we=An(),xe=R.drawingBufferWidth,Ae=R.drawingBufferHeight,he={tick:0,time:0,viewportWidth:xe,viewportHeight:Ae,framebufferWidth:xe,framebufferHeight:Ae,drawingBufferWidth:xe,drawingBufferHeight:Ae,pixelRatio:x.pixelRatio},ve={},B={elements:null,primitive:4,count:-1,offset:0,instances:-1},Z=jc(R,fe),me=Us(R,de,x,Ie),Fe=Ys(R,fe,me,de),ue=Le(R,fe,Z,de,me,Fe,B);function Ie(it){return ue.destroyBuffer(it)}var Oe=$t(R,K,de,x),nt=e1(R,fe,Z,function(){He.procs.poll()},he,de,x),ie=t1(R,fe,Z,de,x),te=v1(R,fe,Z,nt,ie,de),He=z8(R,K,fe,Z,me,Fe,nt,te,ve,ue,Oe,B,he,ye,x),Re=x8(R,te,He.procs.poll,he,Y,fe,Z),pe=He.next,ke=R.canvas,Pe=[],ft=[],ct=[],Ne=[x.onDestroy],De=null;function at(){if(Pe.length===0){ye&&ye.update(),De=null;return}De=gn.next(at),qn();for(var it=Pe.length-1;it>=0;--it){var Rt=Pe[it];Rt&&Rt(he,null,0)}R.flush(),ye&&ye.update()}function dt(){!De&&Pe.length>0&&(De=gn.next(at))}function Lt(){De&&(gn.cancel(at),De=null)}function sn(it){it.preventDefault(),re=!0,Lt(),ft.forEach(function(Rt){Rt()})}function fn(it){R.getError(),re=!1,X.restore(),Oe.restore(),me.restore(),nt.restore(),ie.restore(),te.restore(),ue.restore(),ye&&ye.restore(),He.procs.refresh(),dt(),ct.forEach(function(Rt){Rt()})}ke&&(ke.addEventListener(J2,sn,!1),ke.addEventListener(eg,fn,!1));function kt(){Pe.length=0,Lt(),ke&&(ke.removeEventListener(J2,sn),ke.removeEventListener(eg,fn)),Oe.clear(),te.clear(),ie.clear(),ue.clear(),nt.clear(),Fe.clear(),me.clear(),ye&&ye.clear(),Ne.forEach(function(it){it()})}function Mn(it){v(!!it,"invalid args to regl({...})"),v.type(it,"object","invalid args to regl({...})");function Rt($){var M=r({},$);delete M.uniforms,delete M.attributes,delete M.context,delete M.vao,"stencil"in M&&M.stencil.op&&(M.stencil.opBack=M.stencil.opFront=M.stencil.op,delete M.stencil.op);function O(D){if(D in M){var T=M[D];delete M[D],Object.keys(T).forEach(function(b){M[D+"."+b]=T[b]})}}return O("blend"),O("depth"),O("cull"),O("stencil"),O("polygonOffset"),O("scissor"),O("sample"),"vao"in $&&(M.vao=$.vao),M}function Dt($,M){var O={},D={};return Object.keys($).forEach(function(T){var b=$[T];if(Nt.isDynamic(b)){D[T]=Nt.unbox(b,T);return}else if(M&&Array.isArray(b)){for(var A=0;A<b.length;++A)if(Nt.isDynamic(b[A])){D[T]=Nt.unbox(b,T);return}}O[T]=b}),{dynamic:D,static:O}}var xn=Dt(it.context||{},!0),Li=Dt(it.uniforms||{},!0),ko=Dt(it.attributes||{},!1),C=Dt(Rt(it),!1),q={gpuTime:0,cpuTime:0,count:0},H=He.compile(C,ko,Li,xn,q),Ve=H.draw,bt=H.batch,S=H.scope,m=[];function k($){for(;m.length<$;)m.push(null);return m}function F($,M){var O;if(re&&v.raise("context lost"),typeof $=="function")return S.call(this,null,$,0);if(typeof M=="function")if(typeof $=="number")for(O=0;O<$;++O)S.call(this,null,M,O);else if(Array.isArray($))for(O=0;O<$.length;++O)S.call(this,$[O],M,O);else return S.call(this,$,M,0);else if(typeof $=="number"){if($>0)return bt.call(this,k($|0),$|0)}else if(Array.isArray($)){if($.length)return bt.call(this,$,$.length)}else return Ve.call(this,$)}return r(F,{stats:q,destroy:function(){H.destroy()}})}var an=te.setFBO=Mn({framebuffer:Nt.define.call(null,tg,"framebuffer")});function kn(it,Rt){var Dt=0;He.procs.poll();var xn=Rt.color;xn&&(R.clearColor(+xn[0]||0,+xn[1]||0,+xn[2]||0,+xn[3]||0),Dt|=W8),"depth"in Rt&&(R.clearDepth(+Rt.depth),Dt|=X8),"stencil"in Rt&&(R.clearStencil(Rt.stencil|0),Dt|=Y8),v(!!Dt,"called regl.clear with no buffer specified"),R.clear(Dt)}function In(it){if(v(typeof it=="object"&&it,"regl.clear() takes an object as input"),"framebuffer"in it)if(it.framebuffer&&it.framebuffer_reglType==="framebufferCube")for(var Rt=0;Rt<6;++Rt)an(r({framebuffer:it.framebuffer.faces[Rt]},it),kn);else an(it,kn);else kn(null,it)}function Dn(it){v.type(it,"function","regl.frame() callback must be a function"),Pe.push(it);function Rt(){var Dt=ng(Pe,it);v(Dt>=0,"cannot cancel a frame twice");function xn(){var Li=ng(Pe,xn);Pe[Li]=Pe[Pe.length-1],Pe.length-=1,Pe.length<=0&&Lt()}Pe[Dt]=xn}return dt(),{cancel:Rt}}function Hn(){var it=pe.viewport,Rt=pe.scissor_box;it[0]=it[1]=Rt[0]=Rt[1]=0,he.viewportWidth=he.framebufferWidth=he.drawingBufferWidth=it[2]=Rt[2]=R.drawingBufferWidth,he.viewportHeight=he.framebufferHeight=he.drawingBufferHeight=it[3]=Rt[3]=R.drawingBufferHeight}function qn(){he.tick+=1,he.time=yt(),Hn(),He.procs.poll()}function yn(){nt.refresh(),Hn(),He.procs.refresh(),ye&&ye.update()}function yt(){return(An()-we)/1e3}yn();function Qn(it,Rt){v.type(Rt,"function","listener callback must be a function");var Dt;switch(it){case"frame":return Dn(Rt);case"lost":Dt=ft;break;case"restore":Dt=ct;break;case"destroy":Dt=Ne;break;default:v.raise("invalid event, must be one of frame,lost,restore,destroy")}return Dt.push(Rt),{cancel:function(){for(var xn=0;xn<Dt.length;++xn)if(Dt[xn]===Rt){Dt[xn]=Dt[Dt.length-1],Dt.pop();return}}}}var Gt=r(Mn,{clear:In,prop:Nt.define.bind(null,tg),context:Nt.define.bind(null,Q8),this:Nt.define.bind(null,Z8),draw:Mn({}),buffer:function(it){return me.create(it,q8,!1,!1)},elements:function(it){return Fe.create(it,!1)},texture:nt.create2D,cube:nt.createCube,renderbuffer:ie.create,framebuffer:te.create,framebufferCube:te.createCube,vao:ue.createVAO,attributes:Y,frame:Dn,on:Qn,limits:Z,hasExtension:function(it){return Z.extensions.indexOf(it.toLowerCase())>=0},read:Re,destroy:kt,_gl:R,_refresh:yn,poll:function(){qn(),ye&&ye.update()},now:yt,stats:de});return x.onDone(null,Gt),Gt}return K8})})(s5);var M_=s5.exports;const I_=Vd(M_);var D_=1e-6,Ko=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function pp(){var e=new Ko(16);return Ko!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Sy(e){var t=new Ko(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Mm(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],d=t[8],p=t[9],c=t[10],g=t[11],_=t[12],L=t[13],N=t[14],y=t[15],E=n*l-r*o,w=n*s-i*o,P=n*u-a*o,j=r*s-i*l,Q=r*u-a*l,ce=i*u-a*s,ne=d*L-p*_,We=d*N-c*_,Ce=d*y-g*_,Be=p*N-c*L,qe=p*y-g*L,et=c*y-g*N,Ge=E*et-w*qe+P*Be+j*Ce-Q*We+ce*ne;return Ge?(Ge=1/Ge,e[0]=(l*et-s*qe+u*Be)*Ge,e[1]=(i*qe-r*et-a*Be)*Ge,e[2]=(L*ce-N*Q+y*j)*Ge,e[3]=(c*Q-p*ce-g*j)*Ge,e[4]=(s*Ce-o*et-u*We)*Ge,e[5]=(n*et-i*Ce+a*We)*Ge,e[6]=(N*P-_*ce-y*w)*Ge,e[7]=(d*ce-c*P+g*w)*Ge,e[8]=(o*qe-l*Ce+u*ne)*Ge,e[9]=(r*Ce-n*qe-a*ne)*Ge,e[10]=(_*Q-L*P+y*E)*Ge,e[11]=(p*P-d*Q-g*E)*Ge,e[12]=(l*We-o*Be-s*ne)*Ge,e[13]=(n*Be-r*We+i*ne)*Ge,e[14]=(L*w-_*j-N*E)*Ge,e[15]=(d*j-p*w+c*E)*Ge,e):null}function hr(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],d=t[7],p=t[8],c=t[9],g=t[10],_=t[11],L=t[12],N=t[13],y=t[14],E=t[15],w=n[0],P=n[1],j=n[2],Q=n[3];return e[0]=w*r+P*l+j*p+Q*L,e[1]=w*i+P*s+j*c+Q*N,e[2]=w*a+P*u+j*g+Q*y,e[3]=w*o+P*d+j*_+Q*E,w=n[4],P=n[5],j=n[6],Q=n[7],e[4]=w*r+P*l+j*p+Q*L,e[5]=w*i+P*s+j*c+Q*N,e[6]=w*a+P*u+j*g+Q*y,e[7]=w*o+P*d+j*_+Q*E,w=n[8],P=n[9],j=n[10],Q=n[11],e[8]=w*r+P*l+j*p+Q*L,e[9]=w*i+P*s+j*c+Q*N,e[10]=w*a+P*u+j*g+Q*y,e[11]=w*o+P*d+j*_+Q*E,w=n[12],P=n[13],j=n[14],Q=n[15],e[12]=w*r+P*l+j*p+Q*L,e[13]=w*i+P*s+j*c+Q*N,e[14]=w*a+P*u+j*g+Q*y,e[15]=w*o+P*d+j*_+Q*E,e}function Ty(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function W0(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function F_(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),l,s,u;return o<D_?null:(o=1/o,r*=o,i*=o,a*=o,l=Math.sin(t),s=Math.cos(t),u=1-s,e[0]=r*r*u+s,e[1]=i*r*u+a*l,e[2]=a*r*u-i*l,e[3]=0,e[4]=r*i*u-a*l,e[5]=i*i*u+s,e[6]=a*i*u+r*l,e[7]=0,e[8]=r*a*u+i*l,e[9]=i*a*u-r*l,e[10]=a*a*u+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function B_(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function $_(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],l=t[6],s=t[8],u=t[9],d=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,l),e[2]=Math.hypot(s,u,d),e}function j_(){var e=new Ko(4);return Ko!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function X0(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=j_();return function(t,n,r,i,a,o){var l,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],a(e,e,o),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function z_(){var e=new Ko(2);return Ko!=Float32Array&&(e[0]=0,e[1]=0),e}function G_(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),l=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=z_();return function(t,n,r,i,a,o){var l,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,l=r;l<s;l+=n)e[0]=t[l],e[1]=t[l+1],a(e,e,o),t[l]=e[0],t[l+1]=e[1];return t}})();const U_=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],a=[[-1/0,1/0],[-1/0,1/0]])=>{const o=new Float32Array(16),l=new Float32Array(16),s=new Float32Array(16);let u=pp(),d=[...r.slice(0,2),0,1];const p=Array.isArray(i[0])?[...i[0]]:[...i],c=Array.isArray(i[0])?[...i[1]]:[...i],g=Array.isArray(a[0])?[...a[0]]:[...a],_=Array.isArray(a[0])?[...a[1]]:[...a],L=()=>$_(o,u).slice(0,2),N=()=>{const Ee=L();return Math.min(Ee[0],Ee[1])},y=()=>{const Ee=L();return Math.max(Ee[0],Ee[1])},E=()=>Math.acos(u[0]/y()),w=()=>[[...p],[...c]],P=()=>[[...g],[..._]],j=()=>{const Ee=L();return[1/Ee[0],1/Ee[1]]},Q=()=>1/N(),ce=()=>1/y(),ne=()=>B_(o,u).slice(0,2),We=()=>X0(o,d,Mm(s,u)).slice(0,2),Ce=()=>u,Be=()=>d.slice(0,2),qe=([Ee=0,Je=0]=[],Et=1,vt=0)=>{u=pp(),et([-Ee,-Je]),Vt(vt),Ge(1/Et)},et=([Ee=0,Je=0]=[])=>{o[0]=Ee,o[1]=Je,o[2]=0;const Et=Ty(l,o);hr(u,Et,u)},Ge=(Ee,Je)=>{const Et=Array.isArray(Ee);let vt=Et?Ee[0]:Ee,Xt=Et?Ee[1]:Ee;if(vt<=0||Xt<=0||vt===1&&Xt===1)return;const Jt=L(),Pt=Jt[0]*vt,Ot=Jt[1]*Xt;if(vt=Math.max(p[0],Math.min(Pt,p[1]))/Jt[0],Xt=Math.max(c[0],Math.min(Ot,c[1]))/Jt[1],vt===1&&Xt===1)return;o[0]=vt,o[1]=Xt,o[2]=1;const on=W0(l,o),Zt=Je?[...Je,0]:d,pn=Ty(o,Zt);hr(u,pn,hr(u,on,hr(u,Mm(s,pn),u)))},Vt=Ee=>{const Je=pp();F_(Je,Ee,[0,0,1]),hr(u,Je,u)},gt=Ee=>{const Je=Array.isArray(Ee[0]);p[0]=Je?Ee[0][0]:Ee[0],p[1]=Je?Ee[0][1]:Ee[1],c[0]=Je?Ee[1][0]:Ee[0],c[1]=Je?Ee[1][1]:Ee[1]},pt=Ee=>{const Je=Array.isArray(Ee[0]);g[0]=Je?Ee[0][0]:Ee[0],g[1]=Je?Ee[0][1]:Ee[1],_[0]=Je?Ee[1][0]:Ee[0],_[1]=Je?Ee[1][1]:Ee[1]},_e=Ee=>{!Ee||Ee.length<16||(u=Ee)},Xe=Ee=>{d=[...Ee.slice(0,2),0,1]},ge=()=>{qe(e,t,n)};return qe(e,t,n),{get translation(){return ne()},get target(){return We()},get scaling(){return L()},get minScaling(){return N()},get maxScaling(){return y()},get scaleBounds(){return w()},get translationBounds(){return P()},get distance(){return j()},get minDistance(){return Q()},get maxDistance(){return ce()},get rotation(){return E()},get view(){return Ce()},get viewCenter(){return Be()},lookAt:qe,translate:et,pan:et,rotate:Vt,scale:Ge,zoom:Ge,reset:ge,set:(...Ee)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),_e(...Ee)),setScaleBounds:gt,setTranslationBounds:pt,setView:_e,setViewCenter:Xe}},V_=["pan","rotate"],Ay={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},H_=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:o=!0,isPanInverted:l=[!1,!0],panSpeed:s=1,isRotate:u=!0,rotateSpeed:d=1,defaultMouseDownMoveAction:p="pan",mouseDownMoveModKey:c="alt",isZoom:g=!0,zoomSpeed:_=1,viewCenter:L,scaleBounds:N,translationBounds:y,onKeyDown:E=()=>{},onKeyUp:w=()=>{},onMouseDown:P=()=>{},onMouseUp:j=()=>{},onMouseMove:Q=()=>{},onWheel:ce=()=>{}}={})=>{let ne=U_(n,t,r,L,N,y),We=0,Ce=0,Be=0,qe=0,et=0,Ge=0,Vt=!1,gt=0,pt=1,_e=1,Xe=1,ge=!1,Ee=!1,Je=!1,Et=p==="pan",vt=o,Xt=o,Jt=l,Pt=l,Ot=g,on=g;const Zt=()=>{vt=Array.isArray(o)?!!o[0]:o,Xt=Array.isArray(o)?!!o[1]:o,Jt=Array.isArray(l)?!!l[0]:l,Pt=Array.isArray(l)?!!l[1]:l,Ot=Array.isArray(g)?!!g[0]:g,on=Array.isArray(g)?!!g[1]:g};Zt();const pn=i?$e=>$e/pt*2*Xe:$e=>$e,Bt=i?$e=>$e/_e*2:$e=>-$e,tn=i?$e=>(-1+$e/pt*2)*Xe:$e=>$e,ht=i?$e=>1-$e/_e*2:$e=>$e,xt=()=>{if(a){const Ue=Ee;return Ee=!1,Ue}ge=!1;const $e=We,It=Ce;if((vt||Xt)&&Vt&&(Et&&!Je||!Et&&Je)){const Ue=Jt?et-$e:$e-et,nn=vt?pn(s*Ue):0,cn=Pt?Ge-It:It-Ge,Nt=Xt?Bt(s*cn):0;(nn!==0||Nt!==0)&&(ne.pan([nn,Nt]),ge=!0)}if((Ot||on)&&gt){const Ue=_*Math.exp(gt/_e),nn=tn(Be),cn=ht(qe);ne.scale([Ot?1/Ue:1,on?1/Ue:1],[nn,cn]),ge=!0}if(u&&Vt&&(Et&&Je||!Et&&!Je)&&Math.abs(et-$e)+Math.abs(Ge-It)>0){const Ue=pt/2,nn=_e/2,cn=et-Ue,Nt=nn-Ge,gn=$e-Ue,An=nn-It,ir=G_([cn,Nt],[gn,An]),Yn=cn*An-gn*Nt;ne.rotate(d*ir*Math.sign(Yn)),ge=!0}gt=0,et=$e,Ge=It;const Ht=ge||Ee;return Ee=!1,Ht},Mt=({defaultMouseDownMoveAction:$e=null,isFixed:It=null,isPan:Ht=null,isPanInverted:Ue=null,isRotate:nn=null,isZoom:cn=null,panSpeed:Nt=null,rotateSpeed:gn=null,zoomSpeed:An=null,mouseDownMoveModKey:ir=null}={})=>{p=$e!==null&&V_.includes($e)?$e:p,Et=p==="pan",a=It!==null?It:a,o=Ht!==null?Ht:o,l=Ue!==null?Ue:l,u=nn!==null?nn:u,g=cn!==null?cn:g,s=+Nt>0?Nt:s,d=+gn>0?gn:d,_=+An>0?An:_,Zt(),c=ir!==null&&Object.keys(Ay).includes(ir)?ir:c},St=()=>{const $e=e.getBoundingClientRect();pt=$e.width,_e=$e.height,Xe=pt/_e},st=$e=>{Je=!1,w($e)},Ft=$e=>{Je=$e[Ay[c]],E($e)},ln=$e=>{Vt=!1,j($e)},be=$e=>{Vt=$e.buttons===1,P($e)},v=document.createEvent("MouseEvent").offsetX!==void 0?$e=>{Be=$e.offsetX,qe=$e.offsetY}:$e=>{const It=e.getBoundingClientRect();Be=$e.clientX-It.left,qe=$e.clientY-It.top},ut=$e=>{We=$e.clientX,Ce=$e.clientY},_t=$e=>{ut($e),Q($e)},Te=$e=>{if(Ot||on){$e.preventDefault(),ut($e),v($e);const It=$e.deltaMode===1?12:1;gt+=It*($e.deltaY||$e.deltaX||0)}ce($e)},qt=()=>{ne=void 0,window.removeEventListener("keydown",Ft),window.removeEventListener("keyup",st),e.removeEventListener("mousedown",be),window.removeEventListener("mouseup",ln),window.removeEventListener("mousemove",_t),e.removeEventListener("wheel",Te)};window.addEventListener("keydown",Ft,{passive:!0}),window.addEventListener("keyup",st,{passive:!0}),e.addEventListener("mousedown",be,{passive:!0}),window.addEventListener("mouseup",ln,{passive:!0}),window.addEventListener("mousemove",_t,{passive:!0}),e.addEventListener("wheel",Te,{passive:!1}),ne.config=Mt,ne.dispose=qt,ne.refresh=St,ne.tick=xt;const At=$e=>function(){$e.apply(null,arguments),Ee=!0};return ne.lookAt=At(ne.lookAt),ne.translate=At(ne.translate),ne.pan=At(ne.pan),ne.rotate=At(ne.rotate),ne.scale=At(ne.scale),ne.zoom=At(ne.zoom),ne.reset=At(ne.reset),ne.set=At(ne.set),ne.setScaleBounds=At(ne.setScaleBounds),ne.setTranslationBounds=At(ne.setTranslationBounds),ne.setView=At(ne.setView),ne.setViewCenter=At(ne.setViewCenter),St(),ne};function Im(e,t,n,r,i,a){if(i-r<=n)return;const o=r+i>>1;u5(e,t,o,r,i,a%2),Im(e,t,n,r,o-1,a+1),Im(e,t,n,o+1,i,a+1)}function u5(e,t,n,r,i,a){for(;i>r;){if(i-r>600){const u=i-r+1,d=n-r+1,p=Math.log(u),c=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*c*(u-c)/u)*(d-u/2<0?-1:1),_=Math.max(r,Math.floor(n-d*c/u+g)),L=Math.min(i,Math.floor(n+(u-d)*c/u+g));u5(e,t,n,_,L,a)}const o=t[2*n+a];let l=r,s=i;for(Mu(e,t,r,n),t[2*i+a]>o&&Mu(e,t,r,i);l<s;){for(Mu(e,t,l,s),l++,s--;t[2*l+a]<o;)l++;for(;t[2*s+a]>o;)s--}t[2*r+a]===o?Mu(e,t,r,s):(s++,Mu(e,t,s,i)),s<=n&&(r=s+1),n<=s&&(i=s-1)}}function Mu(e,t,n,r){mp(e,n,r),mp(t,2*n,2*r),mp(t,2*n+1,2*r+1)}function mp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function W_(e,t,n,r,i,a,o){const l=[0,e.length-1,0],s=[];let u,d;for(;l.length;){const p=l.pop(),c=l.pop(),g=l.pop();if(c-g<=o){for(let N=g;N<=c;N++)u=t[2*N],d=t[2*N+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[N]);continue}const _=Math.floor((g+c)/2);u=t[2*_],d=t[2*_+1],u>=n&&u<=i&&d>=r&&d<=a&&s.push(e[_]);const L=(p+1)%2;(p===0?n<=u:r<=d)&&(l.push(g),l.push(_-1),l.push(L)),(p===0?i>=u:a>=d)&&(l.push(_+1),l.push(c),l.push(L))}return s}function X_(e,t,n,r,i,a){const o=[0,e.length-1,0],l=[],s=i*i;for(;o.length;){const u=o.pop(),d=o.pop(),p=o.pop();if(d-p<=a){for(let N=p;N<=d;N++)Cy(t[2*N],t[2*N+1],n,r)<=s&&l.push(e[N]);continue}const c=Math.floor((p+d)/2),g=t[2*c],_=t[2*c+1];Cy(g,_,n,r)<=s&&l.push(e[c]);const L=(u+1)%2;(u===0?n-i<=g:r-i<=_)&&(o.push(p),o.push(c-1),o.push(L)),(u===0?n+i>=g:r+i>=_)&&(o.push(c+1),o.push(d),o.push(L))}return l}function Cy(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}const Y_=e=>e[0],q_=e=>e[1];class Q_{constructor(t,n=Y_,r=q_,i=64,a=Float64Array){this.nodeSize=i,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new o(t.length),s=this.coords=new a(t.length*2);for(let u=0;u<t.length;u++)l[u]=u,s[2*u]=n(t[u]),s[2*u+1]=r(t[u]);Im(l,s,i,0,l.length-1,0)}range(t,n,r,i){return W_(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return X_(this.ids,this.coords,t,n,r,this.nodeSize)}}const Z_=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var K_=Z_;const J_=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var ew=J_;const{push:by,splice:tw}=Array.prototype,vp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),fr=Float32Array.BYTES_PER_ELEMENT,nw=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const a=n+i*2,o=a+1,l=a+2,s=a+3;t.push(a,o,l,l,o,s)}n+=(r+2)*2}),t},Mr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let a=0,o=e.length/t;a<o;a++){const l=a*t;for(let s=0;s<t;s++){const u=e[l+s];i[s]=u,i[s+t]=u*n}by.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,a=e.length/n;i<a;i++){const o=t+i*n;e[o]=r(e[o],o,i)}return e},copyElement(e,t,n,r){const i=new Array(r),a=t*r;for(let o=0;o<r;o++)i[o]=e[a+o];return tw.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],a=new Array(n).fill(r);for(let o=0,l=e.length/t;o<l;o++){const s=o*t;for(let u=0;u<t;u++)a[u]=e[s+u];by.apply(i,a)}return i}},rw=(e,{projection:t=vp,model:n=vp,view:r=vp,points:i=[],colorIndices:a=[],color:o=[.8,.5,0,1],opacity:l=null,opacities:s=[],width:u=1,widths:d=[],miter:p=1,is2d:c=!1,zPos2d:g=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const _=new Float32Array(16);let L,N,y,E,w,P,j,Q,ce,ne,We,Ce,Be,qe,et,Ge,Vt,gt,pt=c?2:3;const _e=()=>+(s.length===N||l!==null),Xe=()=>{ne=e.buffer(),We=e.buffer(),Ce=e.buffer(),et=e.buffer(),Ge={prevPosition:{buffer:()=>ne,offset:0,stride:fr*3},currPosition:{buffer:()=>ne,offset:fr*3*2,stride:fr*3},nextPosition:{buffer:()=>ne,offset:fr*3*4,stride:fr*3},opacity:{buffer:()=>We,offset:fr*2,stride:fr},offsetScale:{buffer:()=>Ce,offset:fr*2,stride:fr},colorIndex:{buffer:()=>et,offset:fr*2,stride:fr}},Vt=e.elements(),gt=e({attributes:Ge,depth:{enable:!c},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(ht,xt)=>{const Mt=ht.projection||xt.projection,St=ht.model||xt.model,st=ht.view||xt.view;return hr(_,Mt,hr(_,st,St))},aspectRatio:({viewportWidth:ht,viewportHeight:xt})=>ht/xt,colorTex:()=>Be,colorTexRes:()=>qe,colorTexEps:()=>.5/qe,pixelRatio:({pixelRatio:ht})=>ht,width:({pixelRatio:ht,viewportHeight:xt})=>u/xt*ht,useOpacity:_e,useColorOpacity:()=>+!_e(),miter:p},elements:()=>Vt,vert:ew,frag:K_})},ge=()=>{L===1&&i.length%pt>0&&console.warn(`The length of points (${N}) does not match the dimensions (${pt}). Incomplete points are ignored.`),E=i.flat().slice(0,N*pt),c&&(E=Mr.increaseStride(E,2,3,g)),a.length!==N&&(a=new Array(N).fill(0)),d.length!==N&&(d=new Array(N).fill(1));let ht=a.slice(),xt=s.length===N?s.slice():new Array(N).fill(+l),Mt=d.slice(),St=0;y.forEach(st=>{const Ft=St+st-1;Mr.copyElement(E,Ft,Ft,3),Mr.copyElement(E,St,St,3),Mr.copyElement(ht,Ft,Ft,1),Mr.copyElement(ht,St,St,1),Mr.copyElement(xt,Ft,Ft,1),Mr.copyElement(xt,St,St,1),Mr.copyElement(Mt,Ft,Ft,1),Mr.copyElement(Mt,St,St,1),St+=st+2}),w=new Float32Array(Mr.duplicate(E,3)),P=Mr.duplicate(ht),j=Mr.duplicate(xt),Q=Mr.duplicate(Mt,1,-1),ce=nw(y),ne({usage:"dynamic",type:"float",length:w.length*fr,data:w}),We({usage:"dynamic",type:"float",length:j.length*fr,data:j}),Ce({usage:"dynamic",type:"float",length:Q.length*fr,data:Q}),et({usage:"dynamic",type:"float",length:P.length*fr,data:P}),Vt({primitive:"triangles",usage:"dynamic",type:ce.length>2**16?"uint32":"uint16",data:ce})},Ee=()=>{Je(),Xe()},Je=()=>{i=null,E=null,w=null,Q=null,ce=null,ne.destroy(),Ce.destroy(),Vt.destroy()},Et=({projection:ht,model:xt,view:Mt}={})=>{ht&&(t=ht),xt&&(n=xt),Mt&&(r=Mt),i&&i.length>1&&gt({projection:t,model:n,view:r})},vt=(ht,xt)=>{const Mt=xt.flat(2);return Mt.length===N?Mt:Mt.length===L?y.map((St,st)=>Array(St).fill(Mt[st])).flat():ht},Xt=()=>i,Jt=(ht=[],{colorIndices:xt=a,opacities:Mt=s,widths:St=d,is2d:st=c}={})=>{i=ht,c=st,pt=c?2:3,L=Array.isArray(i[0])?i.length:1,y=L>1?i.map(Ft=>Math.floor(Ft.length/pt)):[Math.floor(i.length/pt)],N=y.reduce((Ft,ln)=>Ft+ln,0),a=vt(a,xt),s=vt(s,Mt),d=vt(d,St),i&&N>1?ge():Ee()},Pt=(ht,xt=-1)=>Array.isArray(ht)?ht.length&&!Array.isArray(ht[0])?xt+1:Pt(ht[0],++xt):xt,Ot=()=>{const ht=Pt(o)===0?[o]:o;qe=Math.max(2,Math.ceil(Math.sqrt(ht.length)));const xt=new Uint8Array(qe**2*4);ht.forEach((Mt,St)=>{xt[St*4]=Math.min(255,Math.max(0,Math.round(Mt[0]*255))),xt[St*4+1]=Math.min(255,Math.max(0,Math.round(Mt[1]*255))),xt[St*4+2]=Math.min(255,Math.max(0,Math.round(Mt[2]*255))),xt[St*4+3]=Number.isNaN(+Mt[3])?255:Math.min(255,Math.max(0,Math.round(Mt[3]*255)))}),Be=e.texture({data:xt,shape:[qe,qe,4]})},on=(ht,xt=l)=>{o=ht,l=xt,Be&&Be.destroy(),Ot()},Zt=()=>({color:o,miter:p,width:u}),pn=({color:ht,opacity:xt,miter:Mt,width:St}={})=>{ht&&on(ht,xt),Mt&&(p=Mt),+St>0&&(u=St)},Bt=()=>({points:ne,widths:Ce,opacities:We,colorIndices:et}),tn=()=>({points:w,widths:Q,opacities:j,colorIndices:P});return Xe(),Ot(),i&&i.length>1&&Jt(i),{clear:Ee,destroy:Je,draw:Et,getPoints:Xt,setPoints:Jt,getData:tn,getBuffer:Bt,getStyle:Zt,setStyle:pn}};var S0=rw;const iw=e=>e*e*e,c5=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,aw=e=>--e*e*e+1,ow=e=>e,lw=e=>e*e,sw=e=>e<.5?2*e*e:-1+(4-2*e)*e,uw=e=>e*(2-e),as=e=>e,cw=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},fw=e=>e.reduce((t,n)=>n>t?n:t,-1/0),Ly=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},dw=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,a)=>(i&&r.push(a),r),[])},e2=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,a)=>(i[a]=Object.getOwnPropertyDescriptor(n,a),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const a=Object.getOwnPropertyDescriptor(n,i);a.enumerable&&(r[i]=a)}),Object.defineProperties(e,r)}),e),hw=(...e)=>t=>e.reduce((n,r)=>r(n),t),pw=e=>t=>e2({__proto__:{constructor:e}},t),Ry=(e,t)=>n=>e2(n,{get[e](){return t}}),mw=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),vw=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Ul=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),f5=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const a=(...s)=>{const u=()=>{i>0&&(e(...s),i=0)};clearTimeout(r),r=setTimeout(u,n)};let o=!1;const l=(...s)=>{o?(i++,a(...s)):(e(...s),a(...s),o=!0,i=0,setTimeout(()=>{o=!1},t))};return l.reset=()=>{o=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...s)=>e(...s),l},Ni="auto",gw=0,gp=1,yw=2,ky=3,xw=4,_w=Float32Array.BYTES_PER_ELEMENT,d5=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],Py={color:[0,0,0,0],depth:1},t2="panZoom",h5="lasso",p5="rotate",ww=[t2,h5,p5],Ew=t2,Sw={cubicIn:iw,cubicInOut:c5,cubicOut:aw,linear:ow,quadIn:lw,quadInOut:sw,quadOut:uw},Oy=c5,Pi="continuous",Wl="categorical",Ny=[Pi,Wl],Dm="deselect",n2="lassoEnd",Tw=[Dm,n2],Aw=[0,.666666667,1,1],Cw=2,bw=!1,Lw=10,Rw=3,kw=n2,Pw=!1,bd=750,Ld=500,Rd=100,kd=250,r2="lasso",Pd="rotate",Od="merge",Ow=[r2,Pd,Od],i2="alt",a2="cmd",m5="ctrl",v5="meta",o2="shift",Nw=[i2,a2,m5,v5,o2],Mw={[i2]:Pd,[o2]:r2,[a2]:Od},Iw=1,Dw=Ni,Fw=Ni,Bw=1,yp=1,$w=6,jw=2,zw=2,xp=null,Gw=2,Uw=2,_p=null,Vw=null,wp=null,Hw=.66,Ww=1,Ep=null,Xw=.15,Yw=25,qw=1,Qw=1,Iu=null,Zw=[.66,.66,.66,Ww],Kw=[0,.55,1,1],Jw=[1,1,1,1],eE=[0,0,0,1],Sp=null,tE=[.66,.66,.66,.2],nE=[0,.55,1,1],rE=[1,1,1,1],iE=[0,0],aE=1,oE=0,lE=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),sE="IMAGE_LOAD_ERROR",uE=null,cE=!1,fE=[1,1,1,.5],dE=!0,hE=!0,pE=!1,mE=100,vE=1/500,gE="auto",yE=!1,xE=200,_E=500,g5=new Set(["z","valueZ","valueA","value1","category"]),y5=new Set(["w","valueW","valueB","value2","value"]),l2=15e3,My="Points have not been drawn",wE=(e,t)=>e?d5.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,EE=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return d5.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),I_({gl:t,extensions:n})},Tp=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),SE=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let a=0;a<e.length;a+=2)t=e[a]<t?e[a]:t,n=e[a]>n?e[a]:n,r=e[a+1]<r?e[a+1]:r,i=e[a+1]>i?e[a+1]:i;return[t,r,n,i]},TE=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,AE=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,a)=>`#${r}${r}${i}${i}${a}${a}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),Oa=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Na=e=>!Number.isNaN(+e)&&+e>=0,T0=e=>!Number.isNaN(+e)&&+e>0,Iy=(e,t)=>n=>e.indexOf(n)>=0?n:t,CE=(e,t=!1,n=l2)=>new Promise((r,i)=>{const a=new Image;t&&(a.crossOrigin="anonymous"),a.src=e,a.onload=()=>{r(a)};const o=()=>{i(new Error(sE))};a.onerror=o,setTimeout(o,n)}),Dy=(e,t,n=l2)=>new Promise((r,i)=>{CE(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(a=>{r(e.texture(a))}).catch(a=>{i(a)})}),bE=(e,t=!1)=>[...AE(e,t),255**!t],LE=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),RE=e=>e>=0&&e<=1,Nd=e=>Array.isArray(e)&&e.every(RE),kE=(e,[t,n]=[])=>{let r,i,a,o,l=!1;for(let s=0,u=e.length-2;s<e.length;s+=2)r=e[s],i=e[s+1],a=e[u],o=e[u+1],i>n!=o>n&&t<(a-r)*(n-i)/(o-i)+r&&(l=!l),u=s;return l},Fm=e=>typeof e=="string"||e instanceof String,PE=e=>Number.isInteger(e)&&e>=0&&e<=255,x5=e=>Array.isArray(e)&&e.every(PE),OE=e=>e.length===3&&(Nd(e)||x5(e)),NE=e=>e.length===4&&(Nd(e)||x5(e)),Ma=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||Fm(e[0])),A0=(e,t)=>e>t?e:t,Fy=(e,t)=>e<t?e:t,wr=(e,t)=>{if(NE(e)){const n=Nd(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(OE(e)){const n=255**!t,r=Nd(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return LE(e)?bE(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},By=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),$y=e=>.21*e[0]+.72*e[1]+.07*e[2],ME=(e,t,n)=>Math.min(n,Math.max(t,e)),IE=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=Bw}=e;t||(t=EE(n));const i=wE(t),a=[n.width,n.height],o=t.framebuffer({width:a[0],height:a[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>o,srcRes:()=>a,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),s=N=>{const y=N.getContext("2d");y.clearRect(0,0,N.width,N.height),y.drawImage(n,(n.width-N.width)/2,(n.height-N.height)/2,N.width,N.height,0,0,N.width,N.height)},u=(N,y)=>{t.clear(Py),o.use(()=>{t.clear(Py),N()}),l(),s(y)},d=()=>{t.poll()},p=new Set,c=N=>(p.add(N),()=>{p.delete(N)}),g=t.frame(()=>{const N=p.values();let y=N.next();for(;!y.done;)y.value(),y=N.next()}),_=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,a[0]=n.width,a[1]=n.height,o.resize(...a)};return e.canvas||(window.addEventListener("resize",_),window.addEventListener("orientationchange",_),_()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(N){r=+N},get isSupported(){return i},render:u,onFrame:c,refresh:d,destroy:()=>{g.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",_),window.removeEventListener("orientationchange",_)}}},DE=!0,Ap=8,jy=2,FE=2500,BE=250,$E=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const a=document.createElement("div");return a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.width="1.25rem",a.style.height="1.25rem",a.style.borderRadius="1.25rem",a.style.background="currentcolor",a.style.transform="scale(0)",a.style.opacity=0,e.appendChild(a),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:a}},jE=(e,t,n)=>(1-e)*t+n,zE=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,GE=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,UE=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,VE=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,HE=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,WE=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,XE=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,YE=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,qE=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,QE=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,ZE=({time:e=bd,extraTime:t=Ld,delay:n=Rd,currentColor:r,targetColor:i,effectOpacity:a,effectScale:o,circleLeftRotation:l,circleRightRotation:s,circleClipPath:u,circleOpacity:d})=>{const p=l/360,c=jE(p,e,t),g=Math.round((1-p)*e/c*100),_=Math.round(g/2),L=g+(100-g)/4;return{rules:{main:WE(g,r,i),effect:XE(g,L,a,o),circleRight:QE(_,s),circleLeft:qE(g,l),circle:YE(_,u,d)},names:{main:zE(c,n),effect:GE(c,n),circleLeft:UE(c,n),circleRight:VE(c,n),circle:HE(c,n)}}},KE=e=>`${e}ms linear mainOut 0s 1 normal forwards`,JE=e=>`${e}ms linear effectOut 0s 1 normal forwards`,eS=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,tS=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,nS=e=>`${e}ms linear circleOut 0s 1 normal forwards`,rS=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,iS=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,aS=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,oS=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,lS=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,sS=({time:e=kd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:a,circleRightRotation:o,circleClipPath:l,circleOpacity:s})=>{const u=a/360,d=u*e,p=Math.min(100,u*100),c=p>50?Math.round((1-50/p)*100):0;return{rules:{main:rS(t,n),effect:iS(r,i),circleRight:aS(c,o),circleLeft:oS(a),circle:lS(c,l,s)},names:{main:KE(d),effect:JE(d),circleRight:eS(d),circleLeft:tS(d),circle:nS(d)}}},Du=(e,t=null)=>e===null?t:e;let Cp;const _5=()=>{if(!Cp){const e=document.createElement("style");document.head.appendChild(e),Cp=e.sheet}return Cp},Wr=e=>{const t=_5(),n=t.rules.length;return t.insertRule(e,n),n},Xr=e=>{_5().deleteRule(e)},uS=`${FE}ms ease scaleInFadeOut 0s 1 normal backwards`,cS=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let bp=null;const fS=`${BE}ms ease fadeScaleOut 0s 1 normal backwards`,dS=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Lp=null;const w5=(e,{onDraw:t=as,onStart:n=as,onEnd:r=as,enableInitiator:i=DE,initiatorParentElement:a=document.body,longPressIndicatorParentElement:o=document.body,minDelay:l=Ap,minDist:s=jy,pointNorm:u=as}={})=>{let d=i,p=a,c=o,g=t,_=n,L=r,N=u;const y=document.createElement("div"),E=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);y.id=`lasso-initiator-${E}`,y.style.position="fixed",y.style.display="flex",y.style.justifyContent="center",y.style.alignItems="center",y.style.zIndex=99,y.style.width="4rem",y.style.height="4rem",y.style.borderRadius="4rem",y.style.opacity=.5,y.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:w,longPressCircle:P,longPressCircleLeft:j,longPressCircleRight:Q,longPressEffect:ce}=$E();let ne=!1,We=!1,Ce=[],Be=[],qe,et=!1,Ge=null,Vt=null,gt=null,pt=null,_e=null,Xe=null,ge=null,Ee=null,Je=null,Et=null;const vt=()=>{ne=!1},Xt=ut=>{const{left:_t,top:Te}=e.getBoundingClientRect();return[ut.clientX-_t,ut.clientY-Te]};window.addEventListener("mouseup",vt);const Jt=()=>{y.style.opacity=.5,y.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Pt=(ut,_t)=>{const Te=getComputedStyle(ut),qt=+Te.opacity,At=Te.transform.match(/([0-9.-]+)+/g),$e=+At[0],It=+At[1],Ht=Math.sqrt($e*$e+It*It);let Ue=Math.atan2(It,$e)*(180/Math.PI);return Ue=_t&&Ue<=0?360+Ue:Ue,{opacity:qt,scale:Ht,rotate:Ue}},Ot=ut=>{if(!d||ne)return;const _t=ut.clientX,Te=ut.clientY;y.style.top=`${Te}px`,y.style.left=`${_t}px`;const qt=Pt(y),At=qt.opacity,$e=qt.scale,It=qt.rotate;y.style.opacity=At,y.style.transform=`translate(-50%,-50%) scale(${$e}) rotate(${It}deg)`,y.style.animation="none",Ul().then(()=>{bp!==null&&Xr(bp),bp=Wr(cS(At,$e,It)),y.style.animation=uS,Ul().then(()=>{Jt()})})},on=()=>{const{opacity:ut,scale:_t,rotate:Te}=Pt(y);y.style.opacity=ut,y.style.transform=`translate(-50%,-50%) scale(${_t}) rotate(${Te}deg)`,y.style.animation="none",Ul(2).then(()=>{Lp!==null&&Xr(Lp),Lp=Wr(dS(ut,_t,Te)),y.style.animation=fS,Ul().then(()=>{Jt()})})},Zt=(ut,_t,{time:Te=bd,extraTime:qt=Ld,delay:At=Rd}={time:bd,extraTime:Ld,delay:Rd})=>{et=!0;const $e=getComputedStyle(w);w.style.color=$e.color,w.style.top=`${_t}px`,w.style.left=`${ut}px`,w.style.animation="none";const It=getComputedStyle(P);P.style.clipPath=It.clipPath,P.style.opacity=It.opacity,P.style.animation="none";const Ht=Pt(ce);ce.style.opacity=Ht.opacity,ce.style.transform=`scale(${Ht.scale})`,ce.style.animation="none";const Ue=Pt(j);j.style.transform=`rotate(${Ue.rotate}deg)`,j.style.animation="none";const nn=Pt(Q);Q.style.transform=`rotate(${nn.rotate}deg)`,Q.style.animation="none",Ul().then(()=>{if(!et)return;_e!==null&&Xr(_e),pt!==null&&Xr(pt),gt!==null&&Xr(gt),Vt!==null&&Xr(Vt),Ge!==null&&Xr(Ge);const{rules:cn,names:Nt}=ZE({time:Te,extraTime:qt,delay:At,currentColor:$e.color||"currentcolor",targetColor:w.dataset.activeColor,effectOpacity:Ht.opacity||0,effectScale:Ht.scale||0,circleLeftRotation:Ue.rotate||0,circleRightRotation:nn.rotate||0,circleClipPath:It.clipPath||"inset(0 0 0 50%)",circleOpacity:It.opacity||0});Ge=Wr(cn.main),Vt=Wr(cn.effect),gt=Wr(cn.circleLeft),pt=Wr(cn.circleRight),_e=Wr(cn.circle),w.style.animation=Nt.main,ce.style.animation=Nt.effect,j.style.animation=Nt.circleLeft,Q.style.animation=Nt.circleRight,P.style.animation=Nt.circle})},pn=({time:ut=kd}={time:kd})=>{if(!et)return;et=!1;const _t=getComputedStyle(w);w.style.color=_t.color,w.style.animation="none";const Te=getComputedStyle(P);P.style.clipPath=Te.clipPath,P.style.opacity=Te.opacity,P.style.animation="none";const qt=Pt(ce);ce.style.opacity=qt.opacity,ce.style.transform=`scale(${qt.scale})`,ce.style.animation="none";const At=Te.clipPath.slice(-2,-1)==="x",$e=Pt(j,At);j.style.transform=`rotate(${$e.rotate}deg)`,j.style.animation="none";const It=Pt(Q);Q.style.transform=`rotate(${It.rotate}deg)`,Q.style.animation="none",Ul().then(()=>{Et!==null&&Xr(Et),Je!==null&&Xr(Je),Ee!==null&&Xr(Ee),ge!==null&&Xr(ge),Xe!==null&&Xr(Xe);const{rules:Ht,names:Ue}=sS({time:ut,currentColor:_t.color||"currentcolor",targetColor:w.dataset.color,effectOpacity:qt.opacity||0,effectScale:qt.scale||0,circleLeftRotation:$e.rotate||0,circleRightRotation:It.rotate||0,circleClipPath:Te.clipPath||"inset(0px)",circleOpacity:Te.opacity||1});Xe=Wr(Ht.main),ge=Wr(Ht.effect),Ee=Wr(Ht.circleLeft),Je=Wr(Ht.circleRight),Et=Wr(Ht.circle),w.style.animation=Ue.main,ce.style.animation=Ue.effect,j.style.animation=Ue.circleLeft,Q.style.animation=Ue.circleRight,P.style.animation=Ue.circle})},Bt=()=>{g(Ce,Be)},tn=ut=>{if(qe){if(mw(ut[0],ut[1],qe[0],qe[1])>jy){qe=ut;const Te=N(ut);Ce.push(Te),Be.push(Te[0],Te[1]),Ce.length>1&&Bt()}}else{We||(We=!0,_()),qe=ut;const _t=N(ut);Ce=[_t],Be=[_t[0],_t[1]]}},ht=f5(tn,Ap,Ap),xt=(ut,_t)=>{const Te=Xt(ut);return _t?ht(Te):tn(Te)},Mt=()=>{Ce=[],Be=[],qe=void 0,Bt()},St=ut=>{Ot(ut)},st=()=>{ne=!0,We=!0,Mt(),_()},Ft=()=>{on()},ln=({merge:ut=!1}={})=>{We=!1;const _t=[...Ce],Te=[...Be];return ht.cancel(),Mt(),_t.length&&L(_t,Te,{merge:ut}),_t},be=({onDraw:ut=null,onStart:_t=null,onEnd:Te=null,enableInitiator:qt=null,initiatorParentElement:At=null,longPressIndicatorParentElement:$e=null,minDelay:It=null,minDist:Ht=null,pointNorm:Ue=null}={})=>{g=Du(ut,g),_=Du(_t,_),L=Du(Te,L),d=Du(qt,d),N=Du(Ue,N),At!==null&&At!==p&&(p.removeChild(y),At.appendChild(y),p=At),$e!==null&&$e!==c&&(c.removeChild(w),$e.appendChild(w),c=$e),d?(y.addEventListener("click",St),y.addEventListener("mousedown",st),y.addEventListener("mouseleave",Ft)):(y.removeEventListener("mousedown",st),y.removeEventListener("mouseleave",Ft))},Tt=()=>{p.removeChild(y),c.removeChild(w),window.removeEventListener("mouseup",vt),y.removeEventListener("click",St),y.removeEventListener("mousedown",st),y.removeEventListener("mouseleave",Ft)},v=()=>ut=>e2(ut,{clear:Mt,destroy:Tt,end:ln,extend:xt,set:be,showInitiator:Ot,hideInitiator:on,showLongPressIndicator:Zt,hideLongPressIndicator:pn});return p.appendChild(y),c.appendChild(w),be({onDraw:g,onStart:_,onEnd:L,enableInitiator:d,initiatorParentElement:p}),hw(Ry("initiator",y),Ry("longPressIndicator",w),v(),pw(w5))({})},hS=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,pS=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,mS=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,vS=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,gS=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,yS=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,xS=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,_S=function(){const t=(u,d,p,c,g)=>{const _=(c-d)*.5,L=(g-p)*.5;return(2*p-2*c+_+L)*u*u*u+(-3*p+3*c-2*_-L)*u*u+_*u+p},n=(u,d,p)=>{const c=p*u,g=Math.floor(c),_=c-g,L=d[Math.max(0,g-1)],N=d[g],y=d[Math.min(p,g+1)],E=d[Math.min(p,g+2)];return[t(_,L[0],N[0],y[0],E[0]),t(_,L[1],N[1],y[1],E[1])]},r=(u,d,p,c)=>(u-p)**2+(d-c)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(u,d,p)=>{let c=d[0],g=d[1],_=p[0]-c,L=p[1]-g;if(_!==0||L!==0){const N=((u[0]-c)*_+(u[1]-g)*L)/(_*_+L*L);N>1?(c=p[0],g=p[1]):N>0&&(c+=_*N,g+=L*N)}return _=u[0]-c,L=u[1]-g,_*_+L*L};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const a=(u,d,p,c,g)=>{let _=c,L;for(let N=d+1;N<p;N++){const y=i(u[N],u[d],u[p]);y>_&&(L=N,_=y)}_>c&&(L-d>1&&a(u,d,L,c,g),g.push(u[L]),p-L>1&&a(u,L,p,c,g))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const o=(u,d)=>{const p=u.length-1,c=[u[0]];return a(u,0,p,d,c),c.push(u[p]),c},l=(u,{maxIntPointsPerSegment:d=100,tolerance:p=.002}={})=>{const c=u.length,g=c-1,_=g*d+1,L=p**2;let N=[],y;for(let E=0;E<c-1;E++){let w=[u[E].slice(0,2)];y=u[E];for(let P=1;P<d;P++){const j=(E*d+P)/_,Q=n(j,u,g);r(y[0],y[1],Q[0],Q[1])>L&&(w.push(Q),y=Q)}w.push(u[E+1]),w=o(w,L),N=N.concat(w.slice(0,w.length-1))}return N.push(u[u.length-1].slice(0,2)),N.flat()},s=u=>{const d={},p=!Number.isNaN(+u[0][5]);return u.forEach(c=>{const g=c[4];d[g]||(d[g]=[]),p?d[g][c[5]]=c:d[g].push(c)}),Object.entries(d).forEach(c=>{d[c[0]]=c[1].filter(g=>g),d[c[0]].reference=c[1][0]}),d};self.onmessage=function(d){(d.data.points?+d.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),d.data.points;const c=s(d.data.points);self.postMessage({points:Object.entries(c).reduce((g,_)=>(g[_[0]]=l(_[1],d.data.options),g[_[0]].reference=_[1].reference,g),{})})}},wS=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=vw(_S);i.onmessage=a=>{a.data.error?r(a.data.error):n(a.data.points),i.terminate()},i.postMessage({points:e,options:t})});var ES="1.8.5";const Rp={showRecticle:"showReticle",recticleColor:"reticleColor"},kp=e=>{Object.keys(e).filter(t=>Rp[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${Rp[t]}" instead.`),e[Rp[t]]=e[t],delete e[t]})},Yr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>g5.has(e)?"valueZ":y5.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,Pp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},SS=(e={})=>{const t=O_({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];kp(e);let{renderer:a,backgroundColor:o=eE,backgroundImage:l=uE,canvas:s=document.createElement("canvas"),colorBy:u=Iu,deselectOnDblClick:d=dE,deselectOnEscape:p=hE,lassoColor:c=Aw,lassoLineWidth:g=Cw,lassoMinDelay:_=Lw,lassoMinDist:L=Rw,lassoClearEvent:N=kw,lassoInitiator:y=bw,lassoInitiatorParentElement:E=document.body,lassoOnLongPress:w=Pw,lassoLongPressTime:P=bd,lassoLongPressAfterEffectTime:j=Ld,lassoLongPressEffectDelay:Q=Rd,lassoLongPressRevertEffectTime:ce=kd,keyMap:ne=Mw,mouseMode:We=Ew,showReticle:Ce=cE,reticleColor:Be=fE,pointColor:qe=Zw,pointColorActive:et=Kw,pointColorHover:Ge=Jw,showPointConnections:Vt=pE,pointConnectionColor:gt=tE,pointConnectionColorActive:pt=nE,pointConnectionColorHover:_e=rE,pointConnectionColorBy:Xe=Sp,pointConnectionOpacity:ge=Vw,pointConnectionOpacityBy:Ee=wp,pointConnectionOpacityActive:Je=Hw,pointConnectionSize:Et=Gw,pointConnectionSizeActive:vt=Uw,pointConnectionSizeBy:Xt=_p,pointConnectionMaxIntPointsPerSegment:Jt=mE,pointConnectionTolerance:Pt=vE,pointSize:Ot=$w,pointSizeSelected:on=jw,pointSizeMouseDetection:Zt=gE,pointOutlineWidth:pn=zw,opacity:Bt=Ni,opacityBy:tn=Ep,opacityByDensityFill:ht=Xw,opacityInactiveMax:xt=qw,opacityInactiveScale:Mt=Qw,sizeBy:St=xp,height:st=Fw,width:Ft=Dw}=e,ln=Ft===Ni?1:Ft,be=st===Ni?1:st;const{performanceMode:Tt=yE,opacityByDensityDebounceTime:v=Yw}=e;a||(a=IE({regl:e.regl,gamma:e.gamma})),o=wr(o,!0),c=wr(c,!0),Be=wr(Be,!0);let ut=!1,_t=$y(o),Te,qt,At=!1,$e=null,It=[0,0],Ht=-1,Ue=[];const nn=new Set,cn=new Set;let Nt=!1;const gn=new Set;let An=0,ir=0,Yn=!1,ti=[],Bn,ni,oe=e.aspectRatio||Iw,Ct,mn,Cn,Kt,$n,br,$i,lo,Ps,ol=By(ne),fa,so,da,ll=!1,wt=!0,ji=!1,sl;qe=Ma(qe)?[...qe]:[qe],et=Ma(et)?[...et]:[et],Ge=Ma(Ge)?[...Ge]:[Ge],qe=qe.map(f=>wr(f,!0)),et=et.map(f=>wr(f,!0)),Ge=Ge.map(f=>wr(f,!0)),Bt=!Array.isArray(Bt)&&Number.isNaN(+Bt)?qe[0][3]:Bt,Bt=Oa(Bt,Na,{minLength:1})?[...Bt]:[Bt],Ot=Oa(Ot,Na,{minLength:1})?[...Ot]:[Ot];let Fc=yp/Ot[0];gt==="inherit"?gt=[...qe]:(gt=Ma(gt)?[...gt]:[gt],gt=gt.map(f=>wr(f,!0))),pt==="inherit"?pt=[...et]:(pt=Ma(pt)?[...pt]:[pt],pt=pt.map(f=>wr(f,!0))),_e==="inherit"?_e=[...Ge]:(_e=Ma(_e)?[..._e]:[_e],_e=_e.map(f=>wr(f,!0))),ge==="inherit"?ge=[...Bt]:ge=Oa(ge,Na,{minLength:1})?[...ge]:[ge],Et==="inherit"?Et=[...Ot]:Et=Oa(Et,Na,{minLength:1})?[...Et]:[Et],u=Yr(u,Iu),tn=Yr(tn,Ep,{allowDensity:!0}),St=Yr(St,xp),Xe=Yr(Xe,Sp,{allowSegment:!0}),Ee=Yr(Ee,wp,{allowSegment:!0}),Xt=Yr(Xt,_p,{allowSegment:!0});let xi,_i,wi,Bc,Lr=0,Os=0,uo,Ns,co,ul,cl,fl,dl,zi=!1,fo=null,Ms,Is,$c=Ce,ha,pa=0,hl,ma=0,Ds=!1,gr=!1,Ei=!1,Si=Wl,Gi=Wl,jn,Ur=!1,Vn=e.xScale||null,bn=e.yScale||null,va=0,pl=0,ml=0,vl=0;Vn&&(va=Vn.domain()[0],pl=Vn.domain()[1]-Vn.domain()[0],Vn.range([0,ln])),bn&&(ml=bn.domain()[0],vl=bn.domain()[1]-bn.domain()[0],bn.range([be,0]));const jc=f=>-1+f/ln*2,yr=f=>1+f/be*-2,cr=()=>[jc(i[0]),yr(i[1])],Rr=(f,I)=>{const U=[f,I,1,1],le=Mm(n,hr(n,Ct,hr(n,Te.view,Cn)));return X0(U,U,le),U.slice(0,2)},zc=(f=0)=>{const I=xo(),le=(so[1]-da[1])/s.height;return(Ps*I+f)*le},Fs=()=>Nt?Bn.points.filter((f,I)=>gn.has(I)):Bn.points,gl=(f,I,U,le)=>{const Le=Bn.range(f,I,U,le);return Nt?Le.filter(je=>gn.has(je)):Le},Bs=()=>{const[f,I]=cr(),[U,le]=Rr(f,I),Le=zc(4),je=gl(U-Le,le-Le,U+Le,le+Le);let Qe=Le,mt=-1;return je.forEach(zt=>{const[$t,Ln]=Bn.points[zt],Yt=Tp($t,Ln,U,le);Yt<Qe&&(Qe=Yt,mt=zt)}),mt},wh=(f,I)=>{ti=f,qt.setPoints(I),t.publish("lassoExtend",{coordinates:f})},Eh=f=>{const I=SE(f);if(!TE(I))return[];const U=gl(...I),le=[];return U.forEach(Le=>{kE(f,Bn.points[Le])&&le.push(Le)}),le},ga=()=>{ti=[],qt&&qt.clear()},ho=f=>f&&f.length>4,Ui=(f,I)=>{if(br||!Vt||!ho(Bn.points[f[0]]))return;const U=I===0,le=I===1?Qe=>cn.add(Qe):as,Le=Object.keys(f.reduce((Qe,mt)=>{const zt=Bn.points[mt],Ln=Array.isArray(zt[4])?zt[4][0]:zt[4];return Qe[Ln]=!0,Qe},{})),je=Kt.getData().opacities;Le.filter(Qe=>!cn.has(+Qe)).forEach(Qe=>{const mt=$n[Qe][0],zt=$n[Qe][2],$t=$n[Qe][3],Ln=mt*4+$t*2,Yt=Ln+zt*2+4;je.__original__===void 0&&(je.__original__=je.slice());for(let jt=Ln;jt<Yt;jt++)je[jt]=U?je.__original__[jt]:Je;le(Qe)}),Kt.getBuffer().opacities.subdata(je,0)},yl=f=>[f%Lr/Lr+Os,Math.floor(f/Lr)/Lr+Os],Sh=f=>Nt&&!gn.has(f),xl=({preventEvent:f=!1}={})=>{N===Dm&&ga(),Ue.length&&(f||t.publish("deselect"),cn.clear(),Ui(Ue,0),Ue=[],nn.clear(),wt=!0)},ya=(f,{merge:I=!1,preventEvent:U=!1}={})=>{const le=Array.isArray(f)?f:[f],Le=[...Ue];if(I){if(Ue=dw(Ue,le),Le.length===Ue.length){wt=!0;return}}else{if(Ue&&Ue.length&&Ui(Ue,0),Le.length>0&&le.length===0){xl({preventEvent:U});return}Ue=le}if(cw(Le,Ue)){wt=!0;return}const je=[];nn.clear(),cn.clear();for(let Qe=Ue.length-1;Qe>=0;Qe--){const mt=Ue[Qe];if(mt<0||mt>=An||Sh(mt)){Ue.splice(Qe,1);continue}nn.add(mt),je.push.apply(je,yl(mt))}Ns({usage:"dynamic",type:"float",data:je}),Ui(Ue,1),U||t.publish("select",{points:Ue}),wt=!0},po=(f,{showReticleOnce:I=!1,preventEvent:U=!1}={})=>{let le=!1;if(f>=0&&f<An){le=!0;const Le=jn,je=f!==jn;+Le>=0&&je&&!nn.has(Le)&&Ui([Le],0),jn=f,co.subdata(yl(f)),nn.has(f)||Ui([f],2),je&&!U&&t.publish("pointover",jn)}else le=+jn>=0,le&&(nn.has(jn)||Ui([jn],0),U||t.publish("pointout",jn)),jn=void 0;le&&(wt=!0,ji=I)},$s=f=>{const I=s.getBoundingClientRect();return i[0]=f.clientX-I.left,i[1]=f.clientY-I.top,[...i]},On=w5(s,{onStart:()=>{Te.config({isFixed:!0}),At=!0,Yn=!0,ga(),Ht>=0&&(clearTimeout(Ht),Ht=-1),t.publish("lassoStart")},onDraw:wh,onEnd:(f,I,{merge:U=!1}={})=>{Te.config({isFixed:!1}),ti=[...f];const le=Eh(I);ya(le,{merge:U}),t.publish("lassoEnd",{coordinates:ti}),N===n2&&ga()},enableInitiator:y,initiatorParentElement:E,pointNorm:([f,I])=>Rr(jc(f),yr(I))}),_l=()=>We===h5,mo=(f,I)=>{switch(ol[I]){case i2:return f.altKey;case a2:return f.metaKey;case m5:return f.ctrlKey;case v5:return f.metaKey;case o2:return f.shiftKey;default:return!1}},Gc=f=>document.elementsFromPoint(f.clientX,f.clientY).some(I=>I===s),js=f=>{!gr||f.buttons!==1||(At=!0,$e=performance.now(),It=$s(f),Yn=_l()||mo(f,r2),!Yn&&w&&(On.showLongPressIndicator(f.clientX,f.clientY,{time:P,extraTime:j,delay:Q}),Ht=setTimeout(()=>{Ht=-1,Yn=!0},P)))},zs=f=>{gr&&(At=!1,Ht>=0&&(clearTimeout(Ht),Ht=-1),Yn&&(f.preventDefault(),Yn=!1,On.end({merge:mo(f,Od)})),w&&On.hideLongPressIndicator({time:ce}))},wl=f=>{if(!gr)return;f.preventDefault();const I=$s(f);if(Tp(...I,...It)>=L)return;const U=performance.now()-$e;if(!y||U<_E){const le=Bs();le>=0?(Ue.length&&N===Dm&&ga(),ya([le],{merge:mo(f,Od)})):fa||(fa=setTimeout(()=>{fa=null,On.showInitiator(f)},xE))}},El=f=>{On.hideInitiator(),fa&&(clearTimeout(fa),fa=null),d&&(f.preventDefault(),xl())},ri=f=>{if(Ei||(Ur=Gc(f),Ei=!0),!gr||!Ur&&!At)return;const I=$s(f),le=Tp(...I,...It)>=L;Ur&&!Yn&&po(Bs()),Yn?(f.preventDefault(),On.extend(f,!0)):At&&w&&le&&On.hideLongPressIndicator({time:ce}),Ht>=0&&le&&(clearTimeout(Ht),Ht=-1),At&&(wt=!0)},vo=()=>{jn=void 0,Ur=!1,Ei=!1,gr&&(+jn>=0&&!nn.has(jn)&&Ui([jn],0),zs(),wt=!0)},Sl=()=>{const f=Math.max(Ot.length,Bt.length);ma=Math.max(2,Math.ceil(Math.sqrt(f)));const I=new Float32Array(ma**2*4);for(let U=0;U<f;U++){I[U*4]=Ot[U]||0,I[U*4+1]=Math.min(1,Bt[U]||0);const le=Number((et[U]||et[0])[3]);I[U*4+2]=Math.min(1,Number.isNaN(le)?1:le);const Le=Number((Ge[U]||Ge[0])[3]);I[U*4+3]=Math.min(1,Number.isNaN(Le)?1:Le)}return a.regl.texture({data:I,shape:[ma,ma,4],type:"float"})},Gs=(f=qe,I=et,U=Ge)=>{const le=f.length,Le=I.length,je=U.length,Qe=[];if(le===Le&&Le===je)for(let mt=0;mt<le;mt++)Qe.push(f[mt],I[mt],U[mt],o);else for(let mt=0;mt<le;mt++){const zt=[f[mt][0],f[mt][1],f[mt][2],1],$t=u===Iu?I[0]:zt,Ln=u===Iu?U[0]:zt;Qe.push(f[mt],$t,Ln,o)}return Qe},Us=()=>{const f=Gs(),I=f.length;pa=Math.max(2,Math.ceil(Math.sqrt(I)));const U=new Float32Array(pa**2*4);return f.forEach((le,Le)=>{U[Le*4]=le[0],U[Le*4+1]=le[1],U[Le*4+2]=le[2],U[Le*4+3]=le[3]}),a.regl.texture({data:U,shape:[pa,pa,4],type:"float"})},Th=(f,I)=>{mn[0]=f/ni,mn[5]=I},Vs=()=>{ni=ln/be,Ct=W0([],[1/ni,1,1]),mn=W0([],[1/ni,1,1]),Cn=W0([],[oe,1,1])},Ah=f=>{+f<=0||(oe=f)},Hs=(f,I)=>U=>{if(!U||!U.length)return;const Le=[...f()];let je=Ma(U)?U:[U];je=je.map(Qe=>wr(Qe,!0)),ha&&ha.destroy();try{I(je),ha=Us()}catch{console.error("Invalid colors. Switching back to default colors."),I(Le),ha=Us()}},Ch=Hs(()=>qe,f=>{qe=f}),bh=Hs(()=>et,f=>{et=f}),Ti=Hs(()=>Ge,f=>{Ge=f}),Lh=()=>{const f=Rr(-1,-1),I=Rr(1,1),U=(f[0]+1)/2,le=(I[0]+1)/2,Le=(f[1]+1)/2,je=(I[1]+1)/2,Qe=[va+U*pl,va+le*pl],mt=[ml+Le*vl,ml+je*vl];return[Qe,mt]},Vi=()=>{if(!Vn&&!bn)return;const[f,I]=Lh();Vn&&Vn.domain(f),bn&&bn.domain(I)},Hi=f=>{be=Math.max(1,f),s.height=Math.floor(be*window.devicePixelRatio),bn&&(bn.range([be,0]),Vi())},Rh=f=>{if(f===Ni){st=f,s.style.height="100%",window.requestAnimationFrame(()=>{s&&Hi(s.getBoundingClientRect().height)});return}!+f||+f<=0||(st=+f,Hi(st),s.style.height=`${st}px`)},Ai=()=>{Ps=Zt,Zt===Ni&&(Ps=Array.isArray(Ot)?fw(Ot):Ot)},Uc=f=>{Oa(f,Na,{minLength:1})&&(Ot=[...f]),T0(+f)&&(Ot=[+f]),Fc=yp/Ot[0],hl=Sl(),Ai()},_a=f=>{!+f||+f<0||(on=+f)},Vc=f=>{!+f||+f<0||(pn=+f)},ii=f=>{ln=Math.max(1,f),s.width=Math.floor(ln*window.devicePixelRatio),Vn&&(Vn.range([0,ln]),Vi())},Ws=f=>{if(f===Ni){Ft=f,s.style.width="100%",window.requestAnimationFrame(()=>{s&&ii(s.getBoundingClientRect().width)});return}!+f||+f<=0||(Ft=+f,ii(Ft),s.style.width=`${ln}px`)},kh=f=>{Oa(f,Na,{minLength:1})&&(Bt=[...f]),T0(+f)&&(Bt=[+f]),hl=Sl()},Xs=f=>{switch(f){case"valueZ":return Si;case"valueW":return Gi;default:return null}},Ys=(f,I)=>{switch(f){case Pi:return U=>Math.round(U*(I.length-1));case Wl:default:return as}},Hc=f=>{u=Yr(f,Iu)},Ph=f=>{tn=Yr(f,Ep,{allowDensity:!0})},Oh=f=>{St=Yr(f,xp)},Wc=f=>{Xe=Yr(f,Sp,{allowSegment:!0})},rn=f=>{Ee=Yr(f,wp,{allowSegment:!0})},Xc=f=>{Xt=Yr(f,_p,{allowSegment:!0})},Nh=()=>[s.width,s.height],Vr=()=>l,qs=()=>ha,Tl=()=>pa,Wi=()=>.5/pa,Qs=()=>window.devicePixelRatio,Al=()=>uo,Xi=()=>Ns,Cl=()=>hl,Yc=()=>ma,Zs=()=>.5/ma,Ks=()=>0,Mh=()=>wi||xi,Ih=()=>Lr,Dh=()=>.5/Lr,qc=()=>mn,bl=()=>Te.view,go=()=>Cn,yo=()=>hr(r,mn,hr(r,Te.view,Cn)),xo=()=>Te.scaling[0]>1?Math.asinh(A0(1,Te.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:A0(Fc,Te.scaling[0])*window.devicePixelRatio,wa=()=>Nt?gn.size:An,Yi=()=>Ue.length,Js=()=>Yi()>0?xt:1,eu=()=>Yi()>0?Mt:1,tu=()=>+(u==="valueZ"),Qc=()=>+(u==="valueW"),Zc=()=>+(tn==="valueZ"),Kc=()=>+(tn==="valueW"),Jc=()=>+(tn==="density"),ef=()=>+(St==="valueZ"),tf=()=>+(St==="valueW"),nf=()=>u==="valueZ"?Si===Pi?qe.length-1:1:Gi===Pi?qe.length-1:1,rf=()=>tn==="valueZ"?Si===Pi?Bt.length-1:1:Gi===Pi?Bt.length-1:1,Ea=()=>St==="valueZ"?Si===Pi?Ot.length-1:1:Gi===Pi?Ot.length-1:1,nu=f=>{if(tn!=="density")return 1;const I=xo(),U=Ot[0]*I,le=2/(2/Te.view[0])*(2/(2/Te.view[5])),Le=f.viewportHeight,je=f.viewportWidth;let Qe=ht*je*Le/(ir*U*U)*Fy(1,le);Qe*=Tt?1:1/(.25*Math.PI);const mt=A0(yp,U)+.5;return Qe*=(U/mt)**2,Fy(1,A0(0,Qe))},ru=a.regl({framebuffer:()=>Bc,vert:xS,frag:yS,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>_i,endStateTex:()=>xi,t:(f,I)=>I.t},count:3}),kr=(f,I,U,le=gw,Le=Js,je=eu)=>a.regl({frag:Tt?vS:mS,vert:gS(le),blend:{enable:!Tt,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:U,size:2}},uniforms:{resolution:Nh,modelViewProjection:yo,devicePixelRatio:Qs,pointScale:xo,encodingTex:Cl,encodingTexRes:Yc,encodingTexEps:Zs,pointOpacityMax:Le,pointOpacityScale:je,pointSizeExtra:f,globalState:le,colorTex:qs,colorTexRes:Tl,colorTexEps:Wi,stateTex:Mh,stateTexRes:Ih,stateTexEps:Dh,isColoredByZ:tu,isColoredByW:Qc,isOpacityByZ:Zc,isOpacityByW:Kc,isOpacityByDensity:Jc,isSizedByZ:ef,isSizedByW:tf,colorMultiplicator:nf,opacityMultiplicator:rf,opacityDensity:nu,sizeMultiplicator:Ea,numColorStates:xw},count:I,primitive:"points"}),Fh=kr(Ks,wa,Al),Bh=kr(Ks,()=>1,()=>co,yw,()=>1,()=>1),$h=kr(()=>(on+pn*2)*window.devicePixelRatio,Yi,Xi,gp,()=>1,()=>1),iu=kr(()=>(on+pn)*window.devicePixelRatio,Yi,Xi,ky,()=>1,()=>1),jh=kr(()=>on*window.devicePixelRatio,Yi,Xi,gp,()=>1,()=>1),zh=()=>{$h(),iu(),jh()},Gh=a.regl({frag:hS,vert:pS,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:yo,texture:Vr},count:6}),au=a.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>ti},uniforms:{modelViewProjection:yo,color:()=>c},elements:()=>Array.from({length:ti.length-2},(f,I)=>[0,I+1,I+2])}),Uh=()=>{if(!(jn>=0))return;const[f,I]=Bn.points[jn].slice(0,2),U=[f,I,0,1];hr(n,mn,hr(n,Te.view,Cn)),X0(U,U,n),$i.setPoints([-1,U[1],1,U[1]]),lo.setPoints([U[0],1,U[0],-1]),$i.draw(),lo.draw(),kr(()=>(on+pn*2)*window.devicePixelRatio,()=>1,co,gp)(),kr(()=>(on+pn)*window.devicePixelRatio,()=>1,co,ky)()},Ll=f=>{const I=new Float32Array(f*2);let U=0;for(let le=0;le<f;++le){const Le=yl(le);I[U]=Le[0],I[U+1]=Le[1],U+=2}return I},ou=(f,I={})=>{const U=f.length;Lr=Math.max(2,Math.ceil(Math.sqrt(U))),Os=.5/Lr;const le=new Float32Array(Lr**2*4);let Le=!0,je=!0,Qe=0,mt=0,zt=0;for(let $t=0;$t<U;++$t)Qe=$t*4,le[Qe]=f[$t][0],le[Qe+1]=f[$t][1],mt=f[$t][2]||0,zt=f[$t][3]||0,le[Qe+2]=mt,le[Qe+3]=zt,Le&&(Le=Number.isInteger(mt)),je&&(je=Number.isInteger(zt));return I.z&&Ny.includes(I.z)?Si=I.z:Si=Le?Wl:Pi,I.w&&Ny.includes(I.w)?Gi=I.w:Gi=je?Wl:Pi,a.regl.texture({data:le,shape:[Lr,Lr,4],type:"float"})},af=(f,I={})=>{if(!xi)return!1;if(zi){const U=_i;_i=wi,U.destroy()}else _i=xi;return wi=ou(f,I),Bc=a.regl.framebuffer({color:wi,depth:!1,stencil:!1}),xi=void 0,!0},lu=()=>!!(_i&&wi),Vh=()=>{_i&&(_i.destroy(),_i=void 0),wi&&(wi.destroy(),wi=void 0)},_o=(f,I={})=>{gr=!1,An=f.length,ir=An,xi&&xi.destroy(),xi=ou(f,I),uo({usage:"static",type:"float",data:Ll(An)}),Bn=new Q_(f,U=>U[0],U=>U[1],16),gr=!0},of=(f,I)=>{ul=Te.target,cl=f,fl=Te.distance[0],dl=I},Hh=()=>ul!==void 0&&cl!==void 0&&fl!==void 0&&dl!==void 0,Wh=()=>{ul=void 0,cl=void 0,fl=void 0,dl=void 0},Xh=f=>{const I=Xe==="inherit"?u:Xe;if(I==="segment"){const U=gt.length-1;return U<1?[]:f.reduce((le,Le,je)=>{let Qe=0;const mt=[];for(let $t=2;$t<Le.length;$t+=2){const Ln=Math.sqrt((Le[$t-2]-Le[$t])**2+(Le[$t-1]-Le[$t+1])**2);mt.push(Ln),Qe+=Ln}le[je]=[0];let zt=0;for(let $t=0;$t<Le.length/2-1;$t++)zt+=mt[$t],le[je].push(Math.floor(zt/Qe*U)*4);return le},[])}if(I){const U=Pp(I),le=Ys(Xs(I),Xe==="inherit"?qe:gt);return $n.reduce((Le,[je,Qe])=>(Le[je]=le(Qe[U])*4,Le),[])}return Array($n.length).fill(0)},Yh=()=>{const f=Ee==="inherit"?tn:Ee;if(f==="segment"){const I=ge.length-1;return I<1?[]:$n.reduce((U,[le,Le,je])=>(U[le]=Ly(je,Qe=>ge[Math.floor(Qe/(je-1)*I)]),U),[])}if(f){const I=Pp(f),U=Ee==="inherit"?Bt:ge,le=Ys(Xs(f),U);return $n.reduce((Le,[je,Qe])=>(Le[je]=U[le(Qe[I])],Le),[])}},qh=()=>{const f=Xt==="inherit"?St:Xt;if(f==="segment"){const I=Et.length-1;return I<1?[]:$n.reduce((U,[le,Le,je])=>(U[le]=Ly(je,Qe=>Et[Math.floor(Qe/(je-1)*I)]),U),[])}if(f){const I=Pp(f),U=Xt==="inherit"?Ot:Et,le=Ys(Xs(f),U);return $n.reduce((Le,[je,Qe])=>(Le[je]=U[le(Qe[I])],Le),[])}},Qh=f=>{$n=[];let I=0;Object.keys(f).forEach((U,le)=>{$n[U]=[le,f[U].reference,f[U].length/2,I],I+=f[U].length/2})},Sa=f=>new Promise(I=>{Kt.setPoints([]),!f||!f.length?I():(br=!0,wS(f,{maxIntPointsPerSegment:Jt,tolerance:Pt}).then(U=>{Qh(U);const le=Object.values(U);Kt.setPoints(le.length===1?le[0]:le,{colorIndices:Xh(le),opacities:Yh(),widths:qh()}),br=!1,I()}))}),wo=({preventEvent:f=!1}={})=>(Nt=!1,gn.clear(),uo.subdata(Ll(An)),new Promise(I=>{const U=()=>{t.subscribe("draw",()=>{f||t.publish("unfilter"),I()},1),wt=!0};Vt||ho(Bn.points[0])?Sa(Fs()).then(()=>{f||t.publish("pointConnectionsDraw"),U()}):U()})),lf=(f,{preventEvent:I=!1}={})=>{const U=Array.isArray(f)?f:[f];Nt=!0,gn.clear();const le=[],Le=[];for(let je=U.length-1;je>=0;je--){const Qe=U[je];if(Qe<0||Qe>=An){U.splice(je,1);continue}gn.add(Qe),le.push.apply(le,yl(Qe)),nn.has(Qe)&&Le.push(Qe)}return uo.subdata(le),ya(Le,{preventEvent:I}),gn.has(jn)||po(-1,{preventEvent:I}),new Promise(je=>{const Qe=()=>{t.subscribe("draw",()=>{I||t.publish("filter",{points:U}),je()},1),wt=!0};Vt||ho(Bn.points[0])?Sa(Fs()).then(()=>{I||t.publish("pointConnectionsDraw"),ya(Le,{preventEvent:I}),Qe()}):Qe()})},Eo=()=>gl(da[0],da[1],so[0],so[1]),Ta=f5(()=>{ir=Eo().length},v),sf=f=>{const[I,U]=ul,[le,Le]=cl,je=1-f,Qe=I*je+le*f,mt=U*je+Le*f,zt=fl*je+dl*f;Te.lookAt([Qe,mt],zt)},uf=()=>lu(),cf=()=>Hh(),ff=(f,I)=>{fo||(fo=performance.now());const U=performance.now()-fo,le=ME(I(U/f),0,1);return uf()&&ru({t:le}),cf()&&sf(le),U<f},df=()=>{zi=!1,fo=null,Ms=void 0,Is=void 0,Ce=$c,Vh(),Wh(),t.publish("transitionEnd")},Rl=({duration:f=500,easing:I=Oy})=>{zi&&t.publish("transitionEnd"),zi=!0,fo=null,Ms=f,Is=Fm(I)?Sw[I]||Oy:I,$c=Ce,Ce=!1,t.publish("transitionStart")},Zh=f=>new Promise((I,U)=>{if(!f||Array.isArray(f))I(f);else{const le=Array.isArray(f.x)||ArrayBuffer.isView(f.x)?f.x.length:0,Le=(Array.isArray(f.x)||ArrayBuffer.isView(f.x))&&(Yt=>f.x[Yt]),je=(Array.isArray(f.y)||ArrayBuffer.isView(f.y))&&(Yt=>f.y[Yt]),Qe=(Array.isArray(f.line)||ArrayBuffer.isView(f.line))&&(Yt=>f.line[Yt]),mt=(Array.isArray(f.lineOrder)||ArrayBuffer.isView(f.lineOrder))&&(Yt=>f.lineOrder[Yt]),zt=Object.keys(f),$t=(()=>{const Yt=zt.find(jt=>g5.has(jt));return Yt&&(Array.isArray(f[Yt])||ArrayBuffer.isView(f[Yt]))&&(jt=>f[Yt][jt])})(),Ln=(()=>{const Yt=zt.find(jt=>y5.has(jt));return Yt&&(Array.isArray(f[Yt])||ArrayBuffer.isView(f[Yt]))&&(jt=>f[Yt][jt])})();Le&&je&&$t&&Ln&&Qe&&mt?I(f.x.map((Yt,jt)=>[Yt,je(jt),$t(jt),Ln(jt),Qe(jt),mt(jt)])):Le&&je&&$t&&Ln&&Qe?I(Array.from({length:le},(Yt,jt)=>[Le(jt),je(jt),$t(jt),Ln(jt),Qe(jt)])):Le&&je&&$t&&Ln?I(Array.from({length:le},(Yt,jt)=>[Le(jt),je(jt),$t(jt),Ln(jt)])):Le&&je&&$t?I(Array.from({length:le},(Yt,jt)=>[Le(jt),je(jt),$t(jt)])):Le&&je?I(Array.from({length:le},(Yt,jt)=>[Le(jt),je(jt)])):U(new Error("You need to specify at least x and y"))}}),Aa=(f,I={})=>ut?Promise.reject(new Error("The instance was already destroyed")):Zh(f).then(U=>new Promise(le=>{if(ut){le();return}let Le=!1;(!I.preventFilterReset||(U==null?void 0:U.length)!==An)&&(Nt=!1,gn.clear());const je=U&&ho(U[0])&&(Vt||I.showPointConnectionsOnce),{zDataType:Qe,wDataType:mt}=I;U&&(I.transition&&(U.length===An?Le=af(U,{z:Qe,w:mt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),_o(U,{z:Qe,w:mt}),I.hover!==void 0&&po(I.hover,{preventEvent:!0}),I.select!==void 0&&ya(I.select,{preventEvent:!0}),I.filter!==void 0&&lf(I.filter,{preventEvent:!0}),je&&Sa(U).then(()=>{t.publish("pointConnectionsDraw"),wt=!0,ji=I.showReticleOnce})),I.transition&&Le?(je?Promise.all([new Promise(zt=>{t.subscribe("transitionEnd",()=>{wt=!0,ji=I.showReticleOnce,zt()},1)}),new Promise(zt=>{t.subscribe("pointConnectionsDraw",zt,1)})]).then(le):t.subscribe("transitionEnd",()=>{wt=!0,ji=I.showReticleOnce,le()},1),Rl({duration:I.transitionDuration,easing:I.transitionEasing})):(je?Promise.all([new Promise(zt=>{t.subscribe("draw",zt,1)}),new Promise(zt=>{t.subscribe("pointConnectionsDraw",zt,1)})]).then(le):t.subscribe("draw",le,1),wt=!0,ji=I.showReticleOnce)})),Nn=f=>(...I)=>{const U=f(...I);return wt=!0,U},hf=f=>{let I=1/0,U=-1/0,le=1/0,Le=-1/0;for(let je=0;je<f.length;je++){const[Qe,mt]=Bn.points[f[je]];I=Math.min(I,Qe),U=Math.max(U,Qe),le=Math.min(le,mt),Le=Math.max(Le,mt)}return{x:I,y:le,width:U-I,height:Le-le}},su=(f,I={})=>new Promise(U=>{const le=[f.x+f.width/2,f.y+f.height/2],Le=2*Math.atan(1),je=f.height*ni>f.width?f.height/2/Math.tan(Le/2):f.width/2/Math.tan(Le*ni/2);I.transition?(Te.config({isFixed:!0}),of(le,je),t.subscribe("transitionEnd",()=>{U(),Te.config({isFixed:!1})},1),Rl({duration:I.transitionDuration,easing:I.transitionEasing})):(Te.lookAt(le,je),t.subscribe("draw",U,1),wt=!0)}),qi=(f,I={})=>{if(!gr)return Promise.reject(new Error(My));const U=hf(f),le=U.x+U.width/2,Le=U.y+U.height/2,je=zc(),Qe=1+(I.padding||0),mt=Math.max(U.width,je)*Qe,zt=Math.max(U.height,je)*Qe,$t=le-mt/2,Ln=Le-zt/2;return su({x:$t,y:Ln,width:mt,height:zt},I)},uu=(f,I,U={})=>new Promise(le=>{U.transition?(Te.config({isFixed:!0}),of(f,I),t.subscribe("transitionEnd",()=>{le(),Te.config({isFixed:!1})},1),Rl({duration:U.transitionDuration,easing:U.transitionEasing})):(Te.lookAt(f,I),t.subscribe("draw",le,1),wt=!0)}),pf=(f={})=>uu([0,0],1,f),Kh=f=>{if(!gr)throw new Error(My);const I=Bn.points[f];if(!I)return;const U=[I[0],I[1],0,1];hr(n,Ct,hr(n,Te.view,Cn)),X0(U,U,n);const le=ln*(U[0]+1)/2,Le=be*(.5-U[1]/2);return[le,Le]},cu=()=>{Kt.setStyle({color:Gs(gt,pt,_e),opacity:ge===null?null:ge[0],width:Et[0]})},mf=()=>{const f=Math.round(_t)>.5?0:255;On.initiator.style.border=`1px dashed rgba(${f}, ${f}, ${f}, 0.33)`,On.initiator.style.background=`rgba(${f}, ${f}, ${f}, 0.1)`},vf=()=>{const f=Math.round(_t)>.5?0:255;On.longPressIndicator.style.color=`rgb(${f}, ${f}, ${f})`,On.longPressIndicator.dataset.color=`rgb(${f}, ${f}, ${f})`;const I=c.map(U=>Math.round(U*255));On.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},fu=f=>{f&&(o=wr(f,!0),_t=$y(o),mf(),vf())},gf=f=>{f?Fm(f)?Dy(a.regl,f).then(I=>{l=I,wt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${f}`),l=null}):f._reglType==="texture2d"?l=f:l=null:l=null},Jh=f=>{f>0&&Te.lookAt(Te.target,f,Te.rotation)},yf=f=>{f!==null&&Te.lookAt(Te.target,Te.distance[0],f)},xf=f=>{f&&Te.lookAt(f,Te.distance[0],Te.rotation)},_f=f=>{f&&Te.setView(f)},kl=f=>{if(!f)return;c=wr(f,!0),qt.setStyle({color:c});const I=c.map(U=>Math.round(U*255));On.longPressIndicator.dataset.activeColor=`rgb(${I[0]}, ${I[1]}, ${I[2]})`},e1=f=>{Number.isNaN(+f)||+f<1||(g=+f,qt.setStyle({width:g}))},Ci=f=>{+f&&(_=+f,On.set({minDelay:_}))},Pl=f=>{+f&&(L=+f,On.set({minDist:L}))},wf=f=>{N=Iy(Tw,N)(f)},Ef=f=>{y=!!f,On.set({enableInitiator:y})},Sf=f=>{E=f,On.set({startInitiatorParentElement:E})},Tf=f=>{w=!!f},Af=f=>{P=Number(f)},Cf=f=>{j=Number(f)},bf=f=>{Q=Number(f)},Lf=f=>{ce=Number(f)},Rf=f=>{ne=Object.entries(f).reduce((I,[U,le])=>(Nw.includes(U)&&Ow.includes(le)&&(I[U]=le),I),{}),ol=By(ne),ol[Pd]?Te.config({isRotate:!0,mouseDownMoveModKey:ol[Pd]}):Te.config({isRotate:!1})},Or=f=>{We=Iy(ww,t2)(f),Te.config({defaultMouseDownMoveAction:We===p5?"rotate":"pan"})},kf=f=>{f!==null&&(Ce=f)},t1=f=>{f&&(Be=wr(f,!0),$i.setStyle({color:Be}),lo.setStyle({color:Be}))},ai=f=>{f&&(Vn=f,va=f.domain()[0],pl=f?f.domain()[1]-f.domain()[0]:0,Vn.range([0,ln]),Vi())},du=f=>{f&&(bn=f,ml=bn.domain()[0],vl=bn?bn.domain()[1]-bn.domain()[0]:0,bn.range([be,0]),Vi())},Qi=f=>{d=!!f},Ol=f=>{p=!!f},Pf=f=>{Vt=!!f,Vt?ho(Bn.points[0])&&Sa(Fs()).then(()=>{t.publish("pointConnectionsDraw"),wt=!0}):Sa()},Nl=(f,I)=>U=>{if(U==="inherit")f([...I()]);else{const le=Ma(U)?U:[U];f(le.map(Le=>wr(Le,!0)))}cu()},Of=Nl(f=>{gt=f},()=>qe),Nf=Nl(f=>{pt=f},()=>et),Mf=Nl(f=>{_e=f},()=>Ge),n1=f=>{Oa(f,Na,{minLength:1})&&(ge=[...f]),T0(+f)&&(ge=[+f]),gt=gt.map(I=>(I[3]=Number.isNaN(+ge[0])?I[3]:+ge[0],I)),cu()},r1=f=>{!Number.isNaN(+f)&&+f&&(Je=+f)},i1=f=>{Oa(f,Na,{minLength:1})&&(Et=[...f]),T0(+f)&&(Et=[+f]),cu()},a1=f=>{!Number.isNaN(+f)&&+f&&(vt=Math.max(0,f))},o1=f=>{Jt=Math.max(0,f)},l1=f=>{Pt=Math.max(0,f)},s1=f=>{Zt=f,Ai()},If=f=>{ht=+f},Df=f=>{xt=+f},u1=f=>{Mt=+f},c1=f=>{a.gamma=f},hu=f=>{if(kp({property:!0}),f==="aspectRatio")return oe;if(f==="background"||f==="backgroundColor")return o;if(f==="backgroundImage")return l;if(f==="camera")return Te;if(f==="cameraTarget")return Te.target;if(f==="cameraDistance")return Te.distance[0];if(f==="cameraRotation")return Te.rotation;if(f==="cameraView")return Te.view;if(f==="canvas")return s;if(f==="colorBy")return u;if(f==="sizeBy")return St;if(f==="deselectOnDblClick")return d;if(f==="deselectOnEscape")return p;if(f==="height")return st;if(f==="lassoColor")return c;if(f==="lassoLineWidth")return g;if(f==="lassoMinDelay")return _;if(f==="lassoMinDist")return L;if(f==="lassoClearEvent")return N;if(f==="lassoInitiator")return y;if(f==="lassoInitiatorElement")return On.initiator;if(f==="lassoInitiatorParentElement")return E;if(f==="keyMap")return{...ne};if(f==="mouseMode")return We;if(f==="opacity")return Bt.length===1?Bt[0]:Bt;if(f==="opacityBy")return tn;if(f==="opacityByDensityFill")return ht;if(f==="opacityByDensityDebounceTime")return v;if(f==="opacityInactiveMax")return xt;if(f==="opacityInactiveScale")return Mt;if(f==="points")return Bn.points;if(f==="hoveredPoint")return jn;if(f==="selectedPoints")return[...Ue];if(f==="filteredPoints")return Nt?Array.from(gn):Array.from({length:Bn.points.length},(I,U)=>U);if(f==="pointsInView")return Eo();if(f==="pointColor")return qe.length===1?qe[0]:qe;if(f==="pointColorActive")return et.length===1?et[0]:et;if(f==="pointColorHover")return Ge.length===1?Ge[0]:Ge;if(f==="pointOutlineWidth")return pn;if(f==="pointSize")return Ot.length===1?Ot[0]:Ot;if(f==="pointSizeSelected")return on;if(f==="pointSizeMouseDetection")return Zt;if(f==="showPointConnections")return Vt;if(f==="pointConnectionColor")return gt.length===1?gt[0]:gt;if(f==="pointConnectionColorActive")return pt.length===1?pt[0]:pt;if(f==="pointConnectionColorHover")return _e.length===1?_e[0]:_e;if(f==="pointConnectionColorBy")return Xe;if(f==="pointConnectionOpacity")return ge.length===1?ge[0]:ge;if(f==="pointConnectionOpacityBy")return Ee;if(f==="pointConnectionOpacityActive")return Je;if(f==="pointConnectionSize")return Et.length===1?Et[0]:Et;if(f==="pointConnectionSizeActive")return vt;if(f==="pointConnectionSizeBy")return Xt;if(f==="pointConnectionMaxIntPointsPerSegment")return Jt;if(f==="pointConnectionTolerance")return Pt;if(f==="reticleColor")return Be;if(f==="regl")return a.regl;if(f==="showReticle")return Ce;if(f==="version")return ES;if(f==="width")return Ft;if(f==="xScale")return Vn;if(f==="yScale")return bn;if(f==="performanceMode")return Tt;if(f==="gamma")return a.gamma;if(f==="renderer")return a;if(f==="isDestroyed")return ut;if(f==="isPointsDrawn")return gr;if(f==="isPointsFiltered")return Nt;if(f==="zDataType")return Si;if(f==="wDataType")return Gi},So=(f={})=>(kp(f),(f.backgroundColor!==void 0||f.background!==void 0)&&fu(f.backgroundColor||f.background),f.backgroundImage!==void 0&&gf(f.backgroundImage),f.cameraTarget!==void 0&&xf(f.cameraTarget),f.cameraDistance!==void 0&&Jh(f.cameraDistance),f.cameraRotation!==void 0&&yf(f.cameraRotation),f.cameraView!==void 0&&_f(f.cameraView),f.colorBy!==void 0&&Hc(f.colorBy),f.pointColor!==void 0&&Ch(f.pointColor),f.pointColorActive!==void 0&&bh(f.pointColorActive),f.pointColorHover!==void 0&&Ti(f.pointColorHover),f.pointSize!==void 0&&Uc(f.pointSize),f.pointSizeSelected!==void 0&&_a(f.pointSizeSelected),f.pointSizeMouseDetection!==void 0&&s1(f.pointSizeMouseDetection),f.sizeBy!==void 0&&Oh(f.sizeBy),f.opacity!==void 0&&kh(f.opacity),f.showPointConnections!==void 0&&Pf(f.showPointConnections),f.pointConnectionColor!==void 0&&Of(f.pointConnectionColor),f.pointConnectionColorActive!==void 0&&Nf(f.pointConnectionColorActive),f.pointConnectionColorHover!==void 0&&Mf(f.pointConnectionColorHover),f.pointConnectionColorBy!==void 0&&Wc(f.pointConnectionColorBy),f.pointConnectionOpacityBy!==void 0&&rn(f.pointConnectionOpacityBy),f.pointConnectionOpacity!==void 0&&n1(f.pointConnectionOpacity),f.pointConnectionOpacityActive!==void 0&&r1(f.pointConnectionOpacityActive),f.pointConnectionSize!==void 0&&i1(f.pointConnectionSize),f.pointConnectionSizeActive!==void 0&&a1(f.pointConnectionSizeActive),f.pointConnectionSizeBy!==void 0&&Xc(f.pointConnectionSizeBy),f.pointConnectionMaxIntPointsPerSegment!==void 0&&o1(f.pointConnectionMaxIntPointsPerSegment),f.pointConnectionTolerance!==void 0&&l1(f.pointConnectionTolerance),f.opacityBy!==void 0&&Ph(f.opacityBy),f.lassoColor!==void 0&&kl(f.lassoColor),f.lassoLineWidth!==void 0&&e1(f.lassoLineWidth),f.lassoMinDelay!==void 0&&Ci(f.lassoMinDelay),f.lassoMinDist!==void 0&&Pl(f.lassoMinDist),f.lassoClearEvent!==void 0&&wf(f.lassoClearEvent),f.lassoInitiator!==void 0&&Ef(f.lassoInitiator),f.lassoInitiatorParentElement!==void 0&&Sf(f.lassoInitiatorParentElement),f.lassoOnLongPress!==void 0&&Tf(f.lassoOnLongPress),f.lassoLongPressTime!==void 0&&Af(f.lassoLongPressTime),f.lassoLongPressAfterEffectTime!==void 0&&Cf(f.lassoLongPressAfterEffectTime),f.lassoLongPressEffectDelay!==void 0&&bf(f.lassoLongPressEffectDelay),f.lassoLongPressRevertEffectTime!==void 0&&Lf(f.lassoLongPressRevertEffectTime),f.keyMap!==void 0&&Rf(f.keyMap),f.mouseMode!==void 0&&Or(f.mouseMode),f.showReticle!==void 0&&kf(f.showReticle),f.reticleColor!==void 0&&t1(f.reticleColor),f.pointOutlineWidth!==void 0&&Vc(f.pointOutlineWidth),f.height!==void 0&&Rh(f.height),f.width!==void 0&&Ws(f.width),f.aspectRatio!==void 0&&Ah(f.aspectRatio),f.xScale!==void 0&&ai(f.xScale),f.yScale!==void 0&&du(f.yScale),f.deselectOnDblClick!==void 0&&Qi(f.deselectOnDblClick),f.deselectOnEscape!==void 0&&Ol(f.deselectOnEscape),f.opacityByDensityFill!==void 0&&If(f.opacityByDensityFill),f.opacityInactiveMax!==void 0&&Df(f.opacityInactiveMax),f.opacityInactiveScale!==void 0&&u1(f.opacityInactiveScale),f.gamma!==void 0&&c1(f.gamma),new Promise(I=>{window.requestAnimationFrame(()=>{s&&(Vs(),Te.refresh(),a.refresh(),wt=!0,I())})})),f1=(f,{preventEvent:I=!1}={})=>{_f(f),wt=!0,ll=I},Ff=()=>{Te||(Te=H_(s,{isPanInverted:[!1,!0]})),e.cameraView?Te.setView(Sy(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Te.lookAt([...e.cameraTarget||iE],e.cameraDistance||aE,e.cameraRotation||oE):Te.setView(Sy(lE)),so=Rr(1,1),da=Rr(-1,-1)},d1=({preventEvent:f=!1}={})=>{Ff(),Vi(),!f&&t.publish("view",{view:Te.view,camera:Te,xScale:Vn,yScale:bn})},Bf=({key:f})=>{switch(f){case"Escape":p&&xl();break}},$f=()=>{Ur=!0,Ei=!0},pu=()=>{po(),Ur=!1,Ei=!0,wt=!0},jf=()=>{wt=!0},h1=()=>{_o([]),Kt.clear()},To=()=>{Te.refresh();const f=Ft===Ni,I=st===Ni;if(f||I){const{width:U,height:le}=s.getBoundingClientRect();f&&ii(U),I&&Hi(le),Vs(),wt=!0}},p1=()=>s.getContext("2d").getImageData(0,0,s.width,s.height),m1=()=>{Vs(),Ff(),Vi(),qt=S0(a.regl,{color:c,width:g,is2d:!0}),Kt=S0(a.regl,{color:gt,colorHover:_e,colorActive:pt,opacity:ge===null?null:ge[0],width:Et[0],widthActive:vt,is2d:!0}),$i=S0(a.regl,{color:Be,width:1,is2d:!0}),lo=S0(a.regl,{color:Be,width:1,is2d:!0}),Ai(),s.addEventListener("wheel",jf),uo=a.regl.buffer(),Ns=a.regl.buffer(),co=a.regl.buffer({usage:"dynamic",type:"float",length:_w*2}),ha=Us(),hl=Sl();const f=So({backgroundImage:l,width:Ft,height:st,keyMap:ne});mf(),vf(),window.addEventListener("keyup",Bf,!1),window.addEventListener("blur",vo,!1),window.addEventListener("mouseup",zs,!1),window.addEventListener("mousemove",ri,!1),s.addEventListener("mousedown",js,!1),s.addEventListener("mouseenter",$f,!1),s.addEventListener("mouseleave",pu,!1),s.addEventListener("click",wl,!1),s.addEventListener("dblclick",El,!1),"ResizeObserver"in window?(sl=new ResizeObserver(To),sl.observe(s)):(window.addEventListener("resize",To),window.addEventListener("orientationchange",To)),f.then(()=>{t.publish("init")})},Ca=a.onFrame(()=>{Ds=Te.tick(),!(!gr||!(wt||zi))&&(zi&&!ff(Ms,Is)&&df(),Ds&&(so=Rr(1,1),da=Rr(-1,-1),tn==="density"&&Ta()),a.render(()=>{const f=s.width/a.canvas.width,I=s.height/a.canvas.height;Th(f,I),l&&l._reglType&&Gh(),ti.length>2&&au(),zi||Kt.draw({projection:qc(),model:go(),view:bl()}),Fh(),!At&&(Ce||ji)&&Uh(),jn>=0&&Bh(),Ue.length&&zh(),qt.draw({projection:qc(),model:go(),view:bl()})},s),Ds&&(Vi(),ll?ll=!1:t.publish("view",{view:Te.view,camera:Te,xScale:Vn,yScale:bn})),wt=!1,ji=!1,t.publish("draw"))}),v1=()=>{wt=!0},g1=()=>{gr=!1,ut=!0,Ca(),window.removeEventListener("keyup",Bf,!1),window.removeEventListener("blur",vo,!1),window.removeEventListener("mouseup",zs,!1),window.removeEventListener("mousemove",ri,!1),s.removeEventListener("mousedown",js,!1),s.removeEventListener("mouseenter",$f,!1),s.removeEventListener("mouseleave",pu,!1),s.removeEventListener("click",wl,!1),s.removeEventListener("dblclick",El,!1),s.removeEventListener("wheel",jf,!1),sl?sl.disconnect():(window.removeEventListener("resize",To),window.removeEventListener("orientationchange",To)),s=void 0,Te.dispose(),Te=void 0,qt.destroy(),On.destroy(),Kt.destroy(),$i.destroy(),lo.destroy(),e.renderer||a.destroy(),t.publish("destroy"),t.clear()};return m1(),{get isSupported(){return a.isSupported},clear:Nn(h1),createTextureFromUrl:(f,I=l2)=>Dy(a.regl,f,I),deselect:xl,destroy:g1,draw:Aa,filter:lf,get:hu,getScreenPosition:Kh,hover:po,redraw:v1,refresh:a.refresh,reset:Nn(d1),select:ya,set:So,export:p1,subscribe:t.subscribe,unfilter:wo,unsubscribe:t.unsubscribe,view:f1,zoomToLocation:uu,zoomToArea:su,zoomToPoints:qi,zoomToOrigin:pf}};function Y0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E5(e){let t,n,r;e.length!==2?(t=Y0,n=(l,s)=>Y0(e(l),s),r=(l,s)=>e(l)-s):(t=e===Y0||e===TS?e:AS,n=e,r=e);function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<0?u=p+1:d=p}while(u<d)}return u}function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const p=u+d>>>1;n(l[p],s)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,s,u=0,d=l.length){const p=i(l,s,u,d-1);return p>u&&r(l[p-1],s)>-r(l[p],s)?p-1:p}return{left:i,center:o,right:a}}function AS(){return 0}function CS(e){return e===null?NaN:+e}const bS=E5(Y0),LS=bS.right;E5(CS).center;const RS=LS;function kS(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class PS extends Map{constructor(t,n=MS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(zy(this,t))}has(t){return super.has(zy(this,t))}set(t,n){return super.set(OS(this,t),n)}delete(t){return super.delete(NS(this,t))}}function zy({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function OS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function NS({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function MS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IS(e){return e}function DS(e,...t){return FS(e,Array.from,IS,t)}function FS(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const l=new PS,s=r[o++];let u=-1;for(const d of a){const p=s(d,++u,a),c=l.get(p);c?c.push(d):l.set(p,[d])}for(const[d,p]of l)l.set(d,i(p,o));return t(l)}(e,0)}const BS=Math.sqrt(50),$S=Math.sqrt(10),jS=Math.sqrt(2);function Md(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=BS?10:a>=$S?5:a>=jS?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Md(e,t,n*2):[l,s,u]}function Bm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Md(t,e,n):Md(e,t,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)s[u]=(a-u)/-o;else for(let u=0;u<l;++u)s[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(i+u)/-o;else for(let u=0;u<l;++u)s[u]=(i+u)*o;return s}function $m(e,t,n){return t=+t,e=+e,n=+n,Md(e,t,n)[2]}function zS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?$m(t,e,n):$m(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function S5(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function GS(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function fh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function s2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ks(){}var Jo=.7,Es=1/Jo,hs="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",US=/^#([0-9a-f]{3,8})$/,VS=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),HS=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),WS=new RegExp(`^rgba\\(${hs},${hs},${hs},${_c}\\)$`),XS=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${_c}\\)$`),YS=new RegExp(`^hsl\\(${_c},${Fi},${Fi}\\)$`),qS=new RegExp(`^hsla\\(${_c},${Fi},${Fi},${_c}\\)$`),Gy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fh(ks,el,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uy,formatHex:Uy,formatHex8:QS,formatHsl:ZS,formatRgb:Vy,toString:Vy});function Uy(){return this.rgb().formatHex()}function QS(){return this.rgb().formatHex8()}function ZS(){return A5(this).formatHsl()}function Vy(){return this.rgb().formatRgb()}function el(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=US.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hy(t):n===3?new sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?C0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?C0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VS.exec(e))?new sr(t[1],t[2],t[3],1):(t=HS.exec(e))?new sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WS.exec(e))?C0(t[1],t[2],t[3],t[4]):(t=XS.exec(e))?C0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YS.exec(e))?Yy(t[1],t[2]/100,t[3]/100,1):(t=qS.exec(e))?Yy(t[1],t[2]/100,t[3]/100,t[4]):Gy.hasOwnProperty(e)?Hy(Gy[e]):e==="transparent"?new sr(NaN,NaN,NaN,0):null}function Hy(e){return new sr(e>>16&255,e>>8&255,e&255,1)}function C0(e,t,n,r){return r<=0&&(e=t=n=NaN),new sr(e,t,n,r)}function T5(e){return e instanceof ks||(e=el(e)),e?(e=e.rgb(),new sr(e.r,e.g,e.b,e.opacity)):new sr}function Id(e,t,n,r){return arguments.length===1?T5(e):new sr(e,t,n,r??1)}function sr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fh(sr,Id,s2(ks,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sr(Ho(this.r),Ho(this.g),Ho(this.b),Dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wy,formatHex:Wy,formatHex8:KS,formatRgb:Xy,toString:Xy}));function Wy(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function KS(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xy(){const e=Dd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ho(this.r)}, ${Ho(this.g)}, ${Ho(this.b)}${e===1?")":`, ${e})`}`}function Dd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return e=Ho(e),(e<16?"0":"")+e.toString(16)}function Yy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,n,r)}function A5(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof ks||(e=el(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new hi(o,l,s,e.opacity)}function JS(e,t,n,r){return arguments.length===1?A5(e):new hi(e,t,n,r??1)}function hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fh(hi,JS,s2(ks,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sr(Op(e>=240?e-240:e+120,i,r),Op(e,i,r),Op(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hi(qy(this.h),b0(this.s),b0(this.l),Dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dd(this.opacity);return`${e===1?"hsl(":"hsla("}${qy(this.h)}, ${b0(this.s)*100}%, ${b0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qy(e){return e=(e||0)%360,e<0?e+360:e}function b0(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eT=Math.PI/180,tT=180/Math.PI;var C5=-.14861,u2=1.78277,c2=-.29227,dh=-.90649,wc=1.97294,Qy=wc*dh,Zy=wc*u2,Ky=u2*c2-dh*C5;function nT(e){if(e instanceof Wo)return new Wo(e.h,e.s,e.l,e.opacity);e instanceof sr||(e=T5(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ky*r+Qy*t-Zy*n)/(Ky+Qy-Zy),a=r-i,o=(wc*(n-i)-c2*a)/dh,l=Math.sqrt(o*o+a*a)/(wc*i*(1-i)),s=l?Math.atan2(o,a)*tT-120:NaN;return new Wo(s<0?s+360:s,l,i,e.opacity)}function to(e,t,n,r){return arguments.length===1?nT(e):new Wo(e,t,n,r??1)}function Wo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fh(Wo,to,s2(ks,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new Wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new Wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*eT,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new sr(255*(t+n*(C5*r+u2*i)),255*(t+n*(c2*r+dh*i)),255*(t+n*(wc*r)),this.opacity)}}));const hh=e=>()=>e;function b5(e,t){return function(n){return e+n*t}}function rT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function iT(e,t){var n=t-e;return n?b5(e,n>180||n<-180?n-360*Math.round(n/360):n):hh(isNaN(e)?t:e)}function aT(e){return(e=+e)==1?ps:function(t,n){return n-t?rT(t,n,e):hh(isNaN(t)?n:t)}}function ps(e,t){var n=t-e;return n?b5(e,n):hh(isNaN(e)?t:e)}const Fd=function e(t){var n=aT(t);function r(i,a){var o=n((i=Id(i)).r,(a=Id(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),u=ps(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function oT(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sT(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ph(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function uT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function di(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cT(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ph(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var jm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Np=new RegExp(jm.source,"g");function fT(e){return function(){return e}}function dT(e){return function(t){return e(t)+""}}function L5(e,t){var n=jm.lastIndex=Np.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=jm.exec(e))&&(i=Np.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:di(r,i)})),n=Np.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?dT(s[0].x):fT(t):(t=s.length,function(u){for(var d=0,p;d<t;++d)l[(p=s[d]).i]=p.x(u);return l.join("")})}function ph(e,t){var n=typeof t,r;return t==null||n==="boolean"?hh(t):(n==="number"?di:n==="string"?(r=el(t))?(t=r,Fd):L5:t instanceof el?Fd:t instanceof Date?uT:lT(t)?oT:Array.isArray(t)?sT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cT:di)(e,t)}function R5(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Jy=180/Math.PI,zm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function k5(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Jy,skewX:Math.atan(s)*Jy,scaleX:o,scaleY:l}}var L0;function hT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zm:k5(t.a,t.b,t.c,t.d,t.e,t.f)}function pT(e){return e==null||(L0||(L0=document.createElementNS("http://www.w3.org/2000/svg","g")),L0.setAttribute("transform",e),!(e=L0.transform.baseVal.consolidate()))?zm:(e=e.matrix,k5(e.a,e.b,e.c,e.d,e.e,e.f))}function P5(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,d,p,c,g,_){if(u!==p||d!==c){var L=g.push("translate(",null,t,null,n);_.push({i:L-4,x:di(u,p)},{i:L-2,x:di(d,c)})}else(p||c)&&g.push("translate("+p+t+c+n)}function o(u,d,p,c){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),c.push({i:p.push(i(p)+"rotate(",null,r)-2,x:di(u,d)})):d&&p.push(i(p)+"rotate("+d+r)}function l(u,d,p,c){u!==d?c.push({i:p.push(i(p)+"skewX(",null,r)-2,x:di(u,d)}):d&&p.push(i(p)+"skewX("+d+r)}function s(u,d,p,c,g,_){if(u!==p||d!==c){var L=g.push(i(g)+"scale(",null,",",null,")");_.push({i:L-4,x:di(u,p)},{i:L-2,x:di(d,c)})}else(p!==1||c!==1)&&g.push(i(g)+"scale("+p+","+c+")")}return function(u,d){var p=[],c=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,p,c),o(u.rotate,d.rotate,p,c),l(u.skewX,d.skewX,p,c),s(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,c),u=d=null,function(g){for(var _=-1,L=c.length,N;++_<L;)p[(N=c[_]).i]=N.x(g);return p.join("")}}}var mT=P5(hT,"px, ","px)","deg)"),vT=P5(pT,", ",")",")");function O5(e){return function t(n){n=+n;function r(i,a){var o=e((i=to(i)).h,(a=to(a)).h),l=ps(i.s,a.s),s=ps(i.l,a.l),u=ps(i.opacity,a.opacity);return function(d){return i.h=o(d),i.s=l(d),i.l=s(Math.pow(d,n)),i.opacity=u(d),i+""}}return r.gamma=t,r}(1)}O5(iT);var N5=O5(ps);function gT(e){return function(){return e}}function yT(e){return+e}var e3=[0,1];function Ua(e){return e}function Gm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gT(isNaN(t)?NaN:.5)}function xT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _T(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Gm(i,r),a=n(o,a)):(r=Gm(r,i),a=n(a,o)),function(l){return a(r(l))}}function wT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Gm(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var s=RS(e,l,1,r)-1;return a[s](i[s](l))}}function M5(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function I5(){var e=e3,t=e3,n=ph,r,i,a,o=Ua,l,s,u;function d(){var c=Math.min(e.length,t.length);return o!==Ua&&(o=xT(e[0],e[c-1])),l=c>2?wT:_T,s=u=null,p}function p(c){return c==null||isNaN(c=+c)?a:(s||(s=l(e.map(r),t,n)))(r(o(c)))}return p.invert=function(c){return o(i((u||(u=l(t,e.map(r),di)))(c)))},p.domain=function(c){return arguments.length?(e=Array.from(c,yT),d()):e.slice()},p.range=function(c){return arguments.length?(t=Array.from(c),d()):t.slice()},p.rangeRound=function(c){return t=Array.from(c),n=R5,d()},p.clamp=function(c){return arguments.length?(o=c?!0:Ua,d()):o!==Ua},p.interpolate=function(c){return arguments.length?(n=c,d()):n},p.unknown=function(c){return arguments.length?(a=c,p):a},function(c,g){return r=c,i=g,d()}}function ET(){return I5()(Ua,Ua)}function ST(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ss(e){return e=Bd(Math.abs(e)),e?e[1]:NaN}function TT(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function AT(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var CT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ec(e){if(!(t=CT.exec(e)))throw new Error("invalid format: "+e);var t;return new f2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ec.prototype=f2.prototype;function f2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}f2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var D5;function LT(e,t){var n=Bd(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(D5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bd(e,Math.max(0,t+a-1))[0]}function t3(e,t){var n=Bd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const n3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ST,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t3(e*100,t),r:t3,s:LT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r3(e){return e}var i3=Array.prototype.map,a3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RT(e){var t=e.grouping===void 0||e.thousands===void 0?r3:TT(i3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?r3:AT(i3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Ec(p);var c=p.fill,g=p.align,_=p.sign,L=p.symbol,N=p.zero,y=p.width,E=p.comma,w=p.precision,P=p.trim,j=p.type;j==="n"?(E=!0,j="g"):n3[j]||(w===void 0&&(w=12),P=!0,j="g"),(N||c==="0"&&g==="=")&&(N=!0,c="0",g="=");var Q=L==="$"?n:L==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",ce=L==="$"?r:/[%p]/.test(j)?o:"",ne=n3[j],We=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function Ce(Be){var qe=Q,et=ce,Ge,Vt,gt;if(j==="c")et=ne(Be)+et,Be="";else{Be=+Be;var pt=Be<0||1/Be<0;if(Be=isNaN(Be)?s:ne(Math.abs(Be),w),P&&(Be=bT(Be)),pt&&+Be==0&&_!=="+"&&(pt=!1),qe=(pt?_==="("?_:l:_==="-"||_==="("?"":_)+qe,et=(j==="s"?a3[8+D5/3]:"")+et+(pt&&_==="("?")":""),We){for(Ge=-1,Vt=Be.length;++Ge<Vt;)if(gt=Be.charCodeAt(Ge),48>gt||gt>57){et=(gt===46?i+Be.slice(Ge+1):Be.slice(Ge))+et,Be=Be.slice(0,Ge);break}}}E&&!N&&(Be=t(Be,1/0));var _e=qe.length+Be.length+et.length,Xe=_e<y?new Array(y-_e+1).join(c):"";switch(E&&N&&(Be=t(Xe+Be,Xe.length?y-et.length:1/0),Xe=""),g){case"<":Be=qe+Be+et+Xe;break;case"=":Be=qe+Xe+Be+et;break;case"^":Be=Xe.slice(0,_e=Xe.length>>1)+qe+Be+et+Xe.slice(_e);break;default:Be=Xe+qe+Be+et;break}return a(Be)}return Ce.toString=function(){return p+""},Ce}function d(p,c){var g=u((p=Ec(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Ss(c)/3)))*3,L=Math.pow(10,-_),N=a3[8+_/3];return function(y){return g(L*y)+N}}return{format:u,formatPrefix:d}}var R0,d2,F5;kT({thousands:",",grouping:[3],currency:["$",""]});function kT(e){return R0=RT(e),d2=R0.format,F5=R0.formatPrefix,R0}function PT(e){return Math.max(0,-Ss(Math.abs(e)))}function OT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ss(t)/3)))*3-Ss(Math.abs(e)))}function NT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ss(t)-Ss(e))+1}function MT(e,t,n,r){var i=zS(e,t,n),a;switch(r=Ec(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=OT(i,o))&&(r.precision=a),F5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=NT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=PT(i))&&(r.precision=a-(r.type==="%")*2);break}}return d2(r)}function B5(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return MT(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=$m(o,l,n),u===s)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Sc(){var e=ET();return e.copy=function(){return M5(e,Sc())},S5.apply(e,arguments),B5(e)}function IT(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function o3(e){return Math.log(e)}function l3(e){return Math.exp(e)}function DT(e){return-Math.log(-e)}function FT(e){return-Math.exp(-e)}function BT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $T(e){return e===10?BT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function s3(e){return(t,n)=>-e(-t,n)}function zT(e){const t=e(o3,l3),n=t.domain;let r=10,i,a;function o(){return i=jT(r),a=$T(r),n()[0]<0?(i=s3(i),a=s3(a),e(DT,FT)):e(o3,l3),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let u=s[0],d=s[s.length-1];const p=d<u;p&&([u,d]=[d,u]);let c=i(u),g=i(d),_,L;const N=l==null?10:+l;let y=[];if(!(r%1)&&g-c<N){if(c=Math.floor(c),g=Math.ceil(g),u>0){for(;c<=g;++c)for(_=1;_<r;++_)if(L=c<0?_/a(-c):_*a(c),!(L<u)){if(L>d)break;y.push(L)}}else for(;c<=g;++c)for(_=r-1;_>=1;--_)if(L=c>0?_/a(-c):_*a(c),!(L<u)){if(L>d)break;y.push(L)}y.length*2<N&&(y=Bm(u,d,N))}else y=Bm(c,g,Math.min(g-c,N)).map(a);return p?y.reverse():y},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Ec(s)).precision==null&&(s.trim=!0),s=d2(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=u?s(d):""}},t.nice=()=>n(IT(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function h2(){const e=zT(I5()).domain([1,10]);return e.copy=()=>M5(e,h2()).base(e.base()),S5.apply(e,arguments),e}function GT(){var e=0,t=1,n,r,i,a,o=Ua,l=!1,s;function u(p){return p==null||isNaN(p=+p)?s:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(c){var g,_;return arguments.length?([g,_]=c,o=p(g,_),u):[o(0),o(1)]}}return u.range=d(ph),u.rangeRound=d(R5),u.unknown=function(p){return arguments.length?(s=p,u):s},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),u}}function UT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $5(){var e=B5(GT()(Ua));return e.copy=function(){return UT(e,$5())},GS.apply(e,arguments)}N5(to(-100,.75,.35),to(80,1.5,.8));var VT=N5(to(260,.75,.35),to(80,1.5,.8));to();const HT="_scatter_lrznx_2",WT={scatter:HT};p2.propTypes={points:Ke.array.isRequired,colors:Ke.array,width:Ke.number.isRequired,height:Ke.number.isRequired,pointScale:Ke.number,duration:Ke.number,onScatter:Ke.func,onView:Ke.func,onSelect:Ke.func,onHover:Ke.func};const XT=e=>h2().domain([100,1e6]).range([6,1]).clamp(!0)(e),YT=e=>h2().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function p2({points:e,categories:t,width:n,height:r,duration:i=0,pointScale:a=1,onScatter:o,onView:l,onSelect:s,onHover:u}){const d=G.useRef(),p=G.useRef([-1,1]),c=G.useRef([-1,1]),g=Sc().domain(p.current),_=Sc().domain(c.current),L=G.useRef(null);G.useEffect(()=>{const y={canvas:d.current,width:n,height:r,pointColorHover:[.1,.1,.1,.5],xScale:g,yScale:_},E=SS(y);return L.current=E,l&&l(g,_),E.subscribe("view",({camera:w,view:P,xScale:j,yScale:Q})=>{p.current=j.domain(),c.current=Q.domain(),l&&l(p.current,c.current)}),E.subscribe("select",({points:w})=>{s&&s(w)}),E.subscribe("deselect",()=>{s&&s([])}),E.subscribe("pointOver",w=>{u&&u(w)}),E.subscribe("pointOut",()=>{u&&u(null)}),o&&o(E),()=>{L.current=null,E.destroy()}},[n,r,o,l,s,u]);const N=G.useRef();return G.useEffect(()=>{const y=L.current,E=N.current;if(y&&e&&e.length){const w=XT(e.length)*a,P=YT(e.length);let j=[250/255,128/255,114/255,1],Q=e[0].length===3;if(Q){const ce=DS(e.map(We=>We[2]),We=>We).map(We=>We[0]).sort((We,Ce)=>We-Ce),ne=$5(VT).domain(kS(ce).reverse());j=ce.map(We=>Id(ne(We)).hex())}y.set({opacity:P,pointSize:w}),Q&&y.set({colorBy:"valueA"}),E&&E.length===e.length?y.draw(e,{transition:!0,transitionDuration:i}).then(()=>{y.set({pointColor:j}),y.draw(e,{transition:!1})}):(y.set({pointColor:j}),y.draw(e,{transition:!1})),N.current=e}},[e,t,n,r]),W.jsx("canvas",{className:WT.scatter,ref:d})}const $a=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:a,yDomain:o,width:l,height:s})=>{const u=G.useRef();return G.useEffect(()=>{if(a&&o){const d=Sc().domain(a).range([0,l]),p=Sc().domain(o).range([s,0]),c=N=>N/(.1+a[1]-a[0]),_=u.current.getContext("2d");_.clearRect(0,0,l,s),_.fillStyle=t,_.strokeStyle=n,_.font=`${c(r)}px monospace`,_.globalAlpha=.75;let L=c(r);if(!e.length)return;e.map(N=>{N&&(t&&_.fillRect(d(N[0])-L/2,p(N[1])-L/2,L,L),n&&_.strokeRect(d(N[0])-L/2,p(N[1])-L/2,L,L),i&&_.fillText(i,d(N[0])-L/3.2,p(N[1])+L/3.2))})}},[e,t,n,r,a,o,l,s]),W.jsx("canvas",{className:"annotation-plot",ref:u,width:l,height:s})};function Vl(e){return function(){return e}}const Um=Math.PI,Vm=2*Um,Fo=1e-6,qT=Vm-Fo;function j5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function QT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j5;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let ZT=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?j5:QT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,u=i-n,d=o-t,p=l-n,c=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>Fo)if(!(Math.abs(p*s-u*d)>Fo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,_=i-l,L=s*s+u*u,N=g*g+_*_,y=Math.sqrt(L),E=Math.sqrt(c),w=a*Math.tan((Um-Math.acos((L+c-N)/(2*y*E)))/2),P=w/E,j=w/y;Math.abs(P-1)>Fo&&this._append`L${t+P*d},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*g>d*_)},${this._x1=t+j*s},${this._y1=n+j*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=t+l,d=n+s,p=1^o,c=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-d)>Fo)&&this._append`L${u},${d}`,r&&(c<0&&(c=c%Vm+Vm),c>qT?this._append`A${r},${r},0,1,${p},${t-l},${n-s}A${r},${r},0,1,${p},${this._x1=u},${this._y1=d}`:c>Fo&&this._append`A${r},${r},0,${+(c>=Um)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function KT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ZT(t)}function JT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z5(e){this._context=e}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eA(e){return new z5(e)}function tA(e){return e[0]}function nA(e){return e[1]}function u3(e,t){var n=Vl(!0),r=null,i=eA,a=null,o=KT(l);e=typeof e=="function"?e:e===void 0?tA:Vl(e),t=typeof t=="function"?t:t===void 0?nA:Vl(t);function l(s){var u,d=(s=JT(s)).length,p,c=!1,g;for(r==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(p=s[u],u,s))===c&&((c=!c)?a.lineStart():a.lineEnd()),c&&a.point(+e(p,u,s),+t(p,u,s));if(g)return a=null,g+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Vl(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Vl(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Vl(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}function c3(){}function G5(e){this._context=e}G5.prototype={areaStart:c3,areaEnd:c3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f3(e){return new G5(e)}var Hm="http://www.w3.org/1999/xhtml";const d3={svg:"http://www.w3.org/2000/svg",xhtml:Hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),d3.hasOwnProperty(t)?{space:d3[t],local:e}:e}function rA(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hm&&t.documentElement.namespaceURI===Hm?t.createElement(e):t.createElementNS(n,e)}}function iA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function U5(e){var t=mh(e);return(t.local?iA:rA)(t)}function aA(){}function m2(e){return e==null?aA:function(){return this.querySelector(e)}}function oA(e){typeof e!="function"&&(e=m2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,u,d=0;d<o;++d)(s=a[d])&&(u=e.call(s,s.__data__,d,a))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u);return new jr(r,this._parents)}function lA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function sA(){return[]}function V5(e){return e==null?sA:function(){return this.querySelectorAll(e)}}function uA(e){return function(){return lA(e.apply(this,arguments))}}function cA(e){typeof e=="function"?e=uA(e):e=V5(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&(r.push(e.call(s,s.__data__,u,o)),i.push(s));return new jr(r,i)}function H5(e){return function(){return this.matches(e)}}function W5(e){return function(t){return t.matches(e)}}var fA=Array.prototype.find;function dA(e){return function(){return fA.call(this.children,e)}}function hA(){return this.firstElementChild}function pA(e){return this.select(e==null?hA:dA(typeof e=="function"?e:W5(e)))}var mA=Array.prototype.filter;function vA(){return Array.from(this.children)}function gA(e){return function(){return mA.call(this.children,e)}}function yA(e){return this.selectAll(e==null?vA:gA(typeof e=="function"?e:W5(e)))}function xA(e){typeof e!="function"&&(e=H5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new jr(r,this._parents)}function X5(e){return new Array(e.length)}function _A(){return new jr(this._enter||this._groups.map(X5),this._parents)}function $d(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$d.prototype={constructor:$d,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wA(e){return function(){return e}}function EA(e,t,n,r,i,a){for(var o=0,l,s=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new $d(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function SA(e,t,n,r,i,a,o){var l,s,u=new Map,d=t.length,p=a.length,c=new Array(d),g;for(l=0;l<d;++l)(s=t[l])&&(c[l]=g=o.call(s,s.__data__,l,t)+"",u.has(g)?i[l]=s:u.set(g,s));for(l=0;l<p;++l)g=o.call(e,a[l],l,a)+"",(s=u.get(g))?(r[l]=s,s.__data__=a[l],u.delete(g)):n[l]=new $d(e,a[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(c[l])===s&&(i[l]=s)}function TA(e){return e.__data__}function AA(e,t){if(!arguments.length)return Array.from(this,TA);var n=t?SA:EA,r=this._parents,i=this._groups;typeof e!="function"&&(e=wA(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),u=0;u<a;++u){var d=r[u],p=i[u],c=p.length,g=CA(e.call(d,d&&d.__data__,u,r)),_=g.length,L=l[u]=new Array(_),N=o[u]=new Array(_),y=s[u]=new Array(c);n(d,p,L,N,y,g,t);for(var E=0,w=0,P,j;E<_;++E)if(P=L[E]){for(E>=w&&(w=E+1);!(j=N[w])&&++w<_;);P._next=j||null}}return o=new jr(o,r),o._enter=l,o._exit=s,o}function CA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bA(){return new jr(this._exit||this._groups.map(X5),this._parents)}function LA(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function RA(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u=n[s],d=r[s],p=u.length,c=l[s]=new Array(p),g,_=0;_<p;++_)(g=u[_]||d[_])&&(c[_]=g);for(;s<i;++s)l[s]=n[s];return new jr(l,this._parents)}function kA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function PA(e){e||(e=OA);function t(p,c){return p&&c?e(p.__data__,c.__data__):!p-!c}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(s[d]=u);s.sort(t)}return new jr(i,this._parents).order()}function OA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function NA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function MA(){return Array.from(this)}function IA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function DA(){let e=0;for(const t of this)++e;return e}function FA(){return!this.node()}function BA(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function $A(e){return function(){this.removeAttribute(e)}}function jA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zA(e,t){return function(){this.setAttribute(e,t)}}function GA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function VA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function HA(e,t){var n=mh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?jA:$A:typeof t=="function"?n.local?VA:UA:n.local?GA:zA)(n,t))}function Y5(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function WA(e){return function(){this.style.removeProperty(e)}}function XA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YA(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qA(e,t,n){return arguments.length>1?this.each((t==null?WA:typeof t=="function"?YA:XA)(e,t,n??"")):Ts(this.node(),e)}function Ts(e,t){return e.style.getPropertyValue(t)||Y5(e).getComputedStyle(e,null).getPropertyValue(t)}function QA(e){return function(){delete this[e]}}function ZA(e,t){return function(){this[e]=t}}function KA(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function JA(e,t){return arguments.length>1?this.each((t==null?QA:typeof t=="function"?KA:ZA)(e,t)):this.node()[e]}function q5(e){return e.trim().split(/^|\s+/)}function v2(e){return e.classList||new Q5(e)}function Q5(e){this._node=e,this._names=q5(e.getAttribute("class")||"")}Q5.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Z5(e,t){for(var n=v2(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function K5(e,t){for(var n=v2(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function eC(e){return function(){Z5(this,e)}}function tC(e){return function(){K5(this,e)}}function nC(e,t){return function(){(t.apply(this,arguments)?Z5:K5)(this,e)}}function rC(e,t){var n=q5(e+"");if(arguments.length<2){for(var r=v2(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?nC:t?eC:tC)(n,t))}function iC(){this.textContent=""}function aC(e){return function(){this.textContent=e}}function oC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lC(e){return arguments.length?this.each(e==null?iC:(typeof e=="function"?oC:aC)(e)):this.node().textContent}function sC(){this.innerHTML=""}function uC(e){return function(){this.innerHTML=e}}function cC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fC(e){return arguments.length?this.each(e==null?sC:(typeof e=="function"?cC:uC)(e)):this.node().innerHTML}function dC(){this.nextSibling&&this.parentNode.appendChild(this)}function hC(){return this.each(dC)}function pC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mC(){return this.each(pC)}function vC(e){var t=typeof e=="function"?e:U5(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function gC(){return null}function yC(e,t){var n=typeof e=="function"?e:U5(e),r=t==null?gC:typeof t=="function"?t:m2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xC(){var e=this.parentNode;e&&e.removeChild(this)}function _C(){return this.each(xC)}function wC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SC(e){return this.select(e?EC:wC)}function TC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AC(e){return function(t){e.call(this,t,this.__data__)}}function CC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function bC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function LC(e,t,n){return function(){var r=this.__on,i,a=AC(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function RC(e,t,n){var r=CC(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,d;s<u;++s)for(i=0,d=l[s];i<a;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?LC:bC,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function J5(e,t,n){var r=Y5(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function kC(e,t){return function(){return J5(this,e,t)}}function PC(e,t){return function(){return J5(this,e,t.apply(this,arguments))}}function OC(e,t){return this.each((typeof t=="function"?PC:kC)(e,t))}function*NC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var e8=[null];function jr(e,t){this._groups=e,this._parents=t}function Ic(){return new jr([[document.documentElement]],e8)}function MC(){return this}jr.prototype=Ic.prototype={constructor:jr,select:oA,selectAll:cA,selectChild:pA,selectChildren:yA,filter:xA,data:AA,enter:_A,exit:bA,join:LA,merge:RA,selection:MC,order:kA,sort:PA,call:NA,nodes:MA,node:IA,size:DA,empty:FA,each:BA,attr:HA,style:qA,property:JA,classed:rC,text:lC,html:fC,raise:hC,lower:mC,append:vC,insert:yC,remove:_C,clone:SC,datum:TC,on:RC,dispatch:OC,[Symbol.iterator]:NC};function h3(e){return typeof e=="string"?new jr([[document.querySelector(e)]],[document.documentElement]):new jr([[e]],e8)}var IC={value:()=>{}};function t8(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new q0(n)}function q0(e){this._=e}function DC(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}q0.prototype=t8.prototype={constructor:q0,on:function(e,t){var n=this._,r=DC(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=FC(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=p3(n[i],e.name,t);else if(t==null)for(i in n)n[i]=p3(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new q0(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function FC(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function p3(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=IC,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var As=0,Gu=0,Fu=0,n8=1e3,jd,Uu,zd=0,tl=0,vh=0,Tc=typeof performance=="object"&&performance.now?performance:Date,r8=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function g2(){return tl||(r8(BC),tl=Tc.now()+vh)}function BC(){tl=0}function Gd(){this._call=this._time=this._next=null}Gd.prototype=i8.prototype={constructor:Gd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?g2():+n)+(t==null?0:+t),!this._next&&Uu!==this&&(Uu?Uu._next=this:jd=this,Uu=this),this._call=e,this._time=n,Wm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wm())}};function i8(e,t,n){var r=new Gd;return r.restart(e,t,n),r}function $C(){g2(),++As;for(var e=jd,t;e;)(t=tl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--As}function m3(){tl=(zd=Tc.now())+vh,As=Gu=0;try{$C()}finally{As=0,zC(),tl=0}}function jC(){var e=Tc.now(),t=e-zd;t>n8&&(vh-=t,zd=e)}function zC(){for(var e,t=jd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jd=n);Uu=e,Wm(r)}function Wm(e){if(!As){Gu&&(Gu=clearTimeout(Gu));var t=e-tl;t>24?(e<1/0&&(Gu=setTimeout(m3,e-Tc.now()-vh)),Fu&&(Fu=clearInterval(Fu))):(Fu||(zd=Tc.now(),Fu=setInterval(jC,n8)),As=1,r8(m3))}}function v3(e,t,n){var r=new Gd;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var GC=t8("start","end","cancel","interrupt"),UC=[],a8=0,g3=1,Xm=2,Q0=3,y3=4,Ym=5,Z0=6;function gh(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;VC(e,n,{name:t,index:r,group:i,on:GC,tween:UC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:a8})}function y2(e,t){var n=yi(e,t);if(n.state>a8)throw new Error("too late; already scheduled");return n}function Bi(e,t){var n=yi(e,t);if(n.state>Q0)throw new Error("too late; already running");return n}function yi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VC(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=i8(a,0,n.time);function a(u){n.state=g3,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,p,c,g;if(n.state!==g3)return s();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Q0)return v3(o);g.state===y3?(g.state=Z0,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Z0,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(v3(function(){n.state===Q0&&(n.state=y3,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Xm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Xm){for(n.state=Q0,i=new Array(c=n.tween.length),d=0,p=-1;d<c;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=g);i.length=p+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ym,1),p=-1,c=i.length;++p<c;)i[p].call(e,d);n.state===Ym&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Z0,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function HC(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Xm&&r.state<Ym,r.state=Z0,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function WC(e){return this.each(function(){HC(this,e)})}function XC(e,t){var n,r;return function(){var i=Bi(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function YC(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Bi(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function qC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yi(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?XC:YC)(n,e,t))}function x2(e,t,n){var r=e._id;return e.each(function(){var i=Bi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return yi(i,r).value[t]}}function o8(e,t){var n;return(typeof t=="number"?di:t instanceof el?Fd:(n=el(t))?(t=n,Fd):L5)(e,t)}function QC(e){return function(){this.removeAttribute(e)}}function ZC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function JC(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function eb(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function tb(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function nb(e,t){var n=mh(e),r=n==="transform"?vT:o8;return this.attrTween(e,typeof t=="function"?(n.local?tb:eb)(n,r,x2(this,"attr."+e,t)):t==null?(n.local?ZC:QC)(n):(n.local?JC:KC)(n,r,t))}function rb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ib(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ab(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ib(e,a)),n}return i._value=t,i}function ob(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&rb(e,a)),n}return i._value=t,i}function lb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=mh(e);return this.tween(n,(r.local?ab:ob)(r,t))}function sb(e,t){return function(){y2(this,e).delay=+t.apply(this,arguments)}}function ub(e,t){return t=+t,function(){y2(this,e).delay=t}}function cb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sb:ub)(t,e)):yi(this.node(),t).delay}function fb(e,t){return function(){Bi(this,e).duration=+t.apply(this,arguments)}}function db(e,t){return t=+t,function(){Bi(this,e).duration=t}}function hb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fb:db)(t,e)):yi(this.node(),t).duration}function pb(e,t){if(typeof t!="function")throw new Error;return function(){Bi(this,e).ease=t}}function mb(e){var t=this._id;return arguments.length?this.each(pb(t,e)):yi(this.node(),t).ease}function vb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Bi(this,e).ease=n}}function gb(e){if(typeof e!="function")throw new Error;return this.each(vb(this._id,e))}function yb(e){typeof e!="function"&&(e=H5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new ua(r,this._parents,this._name,this._id)}function xb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],u=n[l],d=s.length,p=o[l]=new Array(d),c,g=0;g<d;++g)(c=s[g]||u[g])&&(p[g]=c);for(;l<r;++l)o[l]=t[l];return new ua(o,this._parents,this._name,this._id)}function _b(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wb(e,t,n){var r,i,a=_b(t)?y2:Bi;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function Eb(e,t){var n=this._id;return arguments.length<2?yi(this.node(),n).on.on(e):this.each(wb(n,e,t))}function Sb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Tb(){return this.on("end.remove",Sb(this._id))}function Ab(e){var t=this._name,n=this._id;typeof e!="function"&&(e=m2(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,u=a[o]=new Array(s),d,p,c=0;c<s;++c)(d=l[c])&&(p=e.call(d,d.__data__,c,l))&&("__data__"in d&&(p.__data__=d.__data__),u[c]=p,gh(u[c],t,n,c,u,yi(d,n)));return new ua(a,this._parents,t,n)}function Cb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=V5(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],u=s.length,d,p=0;p<u;++p)if(d=s[p]){for(var c=e.call(d,d.__data__,p,s),g,_=yi(d,n),L=0,N=c.length;L<N;++L)(g=c[L])&&gh(g,t,n,L,c,_);a.push(c),o.push(d)}return new ua(a,o,t,n)}var bb=Ic.prototype.constructor;function Lb(){return new bb(this._groups,this._parents)}function Rb(e,t){var n,r,i;return function(){var a=Ts(this,e),o=(this.style.removeProperty(e),Ts(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function l8(e){return function(){this.style.removeProperty(e)}}function kb(e,t,n){var r,i=n+"",a;return function(){var o=Ts(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function Pb(e,t,n){var r,i,a;return function(){var o=Ts(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Ts(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function Ob(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=Bi(this,e),u=s.on,d=s.value[a]==null?l||(l=l8(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(o,i=d),s.on=r}}function Nb(e,t,n){var r=(e+="")=="transform"?mT:o8;return t==null?this.styleTween(e,Rb(e,r)).on("end.style."+e,l8(e)):typeof t=="function"?this.styleTween(e,Pb(e,r,x2(this,"style."+e,t))).each(Ob(this._id,e)):this.styleTween(e,kb(e,r,t),n).on("end.style."+e,null)}function Mb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ib(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Mb(e,o,n)),r}return a._value=t,a}function Db(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ib(e,t,n??""))}function Fb(e){return function(){this.textContent=e}}function Bb(e){return function(){var t=e(this);this.textContent=t??""}}function $b(e){return this.tween("text",typeof e=="function"?Bb(x2(this,"text",e)):Fb(e==null?"":e+""))}function jb(e){return function(t){this.textContent=e.call(this,t)}}function zb(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jb(i)),t}return r._value=e,r}function Gb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zb(e))}function Ub(){for(var e=this._name,t=this._id,n=s8(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)if(s=o[u]){var d=yi(s,t);gh(s,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ua(r,this._parents,e,n)}function Vb(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var u=Bi(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&a()})}var Hb=0;function ua(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function s8(){return++Hb}var Ji=Ic.prototype;ua.prototype={constructor:ua,select:Ab,selectAll:Cb,selectChild:Ji.selectChild,selectChildren:Ji.selectChildren,filter:yb,merge:xb,selection:Lb,transition:Ub,call:Ji.call,nodes:Ji.nodes,node:Ji.node,size:Ji.size,empty:Ji.empty,each:Ji.each,on:Eb,attr:nb,attrTween:lb,style:Nb,styleTween:Db,text:$b,textTween:Gb,remove:Tb,tween:qC,delay:cb,duration:hb,ease:mb,easeVarying:gb,end:Vb,[Symbol.iterator]:Ji[Symbol.iterator]};function u8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function Wb(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function x3(e){return 1-Wb(e)}var Xb={time:null,delay:0,duration:250,ease:u8};function Yb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qb(e){var t,n;e instanceof ua?(t=e._id,e=e._name):(t=s8(),(n=Xb).time=g2(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&gh(s,e,t,u,o,n||Yb(s,t));return new ua(r,this._parents,e,t)}Ic.prototype.interrupt=WC;Ic.prototype.transition=qb;function Qb(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function Zb(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],l=r[1],s=0;++t<n;)i=o,a=l,r=e[t],o=r[0],l=r[1],i-=o,a-=l,s+=Math.sqrt(i*i+a*a);return s}var K0={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Kb=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Jb(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&Kb.indexOf(e)>=0}function eL(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function tL(e){return(e|32)===97}function Hl(e){return e>=48&&e<=57}function nL(e){return e>=48&&e<=57||e===43||e===45||e===46}function rL(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function J0(e){for(;e.index<e.max&&Jb(e.path.charCodeAt(e.index));)e.index++}function iL(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function aL(e){var t=e.index,n=t,r=e.max,i=!1,a=!1,o=!1,l=!1,s;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(s=e.path.charCodeAt(n),(s===43||s===45)&&(n++,s=n<r?e.path.charCodeAt(n):0),!Hl(s)&&s!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(s!==46){if(i=s===48,n++,s=n<r?e.path.charCodeAt(n):0,i&&n<r&&s&&Hl(s)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&Hl(e.path.charCodeAt(n));)n++,a=!0;s=n<r?e.path.charCodeAt(n):0}if(s===46){for(l=!0,n++;Hl(e.path.charCodeAt(n));)n++,o=!0;s=n<r?e.path.charCodeAt(n):0}if(s===101||s===69){if(l&&!a&&!o){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,s=n<r?e.path.charCodeAt(n):0,(s===43||s===45)&&n++,n<r&&Hl(e.path.charCodeAt(n)))for(;n<r&&Hl(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function Mp(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=K0[n]&&(e.result.push([t].concat(r.splice(0,K0[n]))),!!K0[n]););}function oL(e){var t=e.max,n,r,i,a,o;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=tL(n),!eL(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(a=K0[e.path[e.index].toLowerCase()],e.index++,J0(e),e.data=[],!a){Mp(e);return}for(i=!1;;){for(o=a;o>0;o--){if(r&&(o===3||o===4)?iL(e):aL(e),e.err.length){Mp(e);return}e.data.push(e.param),J0(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,J0(e),i=!0)}if(!i&&(e.index>=e.max||!nL(e.path.charCodeAt(e.index))))break}Mp(e)}var lL=function(t){var n=new rL(t),r=n.max;for(J0(n);n.index<r&&!n.err.length;)oL(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function sL(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function gi(){if(!(this instanceof gi))return new gi;this.queue=[],this.cache=null}gi.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};gi.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this};gi.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this};gi.prototype.rotate=function(e,t,n){var r,i,a;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),a=Math.sin(r),this.queue.push([i,a,-a,i,0,0]),this.cache=null,this.translate(-t,-n)),this};gi.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};gi.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};gi.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=sL(this.cache,this.queue[e]);return this.cache};gi.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var c8=gi,uL=c8,cL={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},fL=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,dL=/[\s,]+/,hL=function(t){var n=new uL,r,i;return t.split(fL).forEach(function(a){if(a.length){if(typeof cL[a]<"u"){r=a;return}switch(i=a.split(dL).map(function(o){return+o||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},Ju=Math.PI*2;function _3(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function pL(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,g=l*l,_=d*d,L=p*p,N=c*g-c*L-g*_;N<0&&(N=0),N/=c*L+g*_,N=Math.sqrt(N)*(i===a?-1:1);var y=N*o/l*p,E=N*-l/o*d,w=u*y-s*E+(e+n)/2,P=s*y+u*E+(t+r)/2,j=(d-y)/o,Q=(p-E)/l,ce=(-d-y)/o,ne=(-p-E)/l,We=_3(1,0,j,Q),Ce=_3(j,Q,ce,ne);return a===0&&Ce>0&&(Ce-=Ju),a===1&&Ce<0&&(Ce+=Ju),[w,P,We,Ce]}function mL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}var vL=function(t,n,r,i,a,o,l,s,u){var d=Math.sin(u*Ju/360),p=Math.cos(u*Ju/360),c=p*(t-r)/2+d*(n-i)/2,g=-d*(t-r)/2+p*(n-i)/2;if(c===0&&g===0)return[];if(l===0||s===0)return[];l=Math.abs(l),s=Math.abs(s);var _=c*c/(l*l)+g*g/(s*s);_>1&&(l*=Math.sqrt(_),s*=Math.sqrt(_));var L=pL(t,n,r,i,a,o,l,s,d,p),N=[],y=L[2],E=L[3],w=Math.max(Math.ceil(Math.abs(E)/(Ju/4)),1);E/=w;for(var P=0;P<w;P++)N.push(mL(y,E)),y+=E;return N.map(function(j){for(var Q=0;Q<j.length;Q+=2){var ce=j[Q+0],ne=j[Q+1];ce*=l,ne*=s;var We=p*ce-d*ne,Ce=d*ce+p*ne;j[Q+0]=We+L[0],j[Q+1]=Ce+L[1]}return j})},ec=1e-10,w3=Math.PI/180;function Ac(e,t,n){if(!(this instanceof Ac))return new Ac(e,t,n);this.rx=e,this.ry=t,this.ax=n}Ac.prototype.transform=function(e){var t=Math.cos(this.ax*w3),n=Math.sin(this.ax*w3),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],a=r[1]*r[1]+r[3]*r[3],o=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),l=(i+a)/2;if(o<ec*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var s=r[0]*r[1]+r[2]*r[3];o=Math.sqrt(o);var u=l+o/2,d=l-o/2;return this.ax=Math.abs(s)<ec&&Math.abs(u-a)<ec?90:Math.atan(Math.abs(s)>Math.abs(u-a)?(u-i)/s:s/(u-a))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(d)):(this.ax+=90,this.rx=Math.sqrt(d),this.ry=Math.sqrt(u)),this};Ac.prototype.isDegenerate=function(){return this.rx<ec*this.ry||this.ry<ec*this.rx};var gL=Ac,yL=lL,xL=hL,oo=c8,_L=vL,wL=gL;function En(e){if(!(this instanceof En))return new En(e);var t=yL(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}En.from=function(e){if(typeof e=="string")return new En(e);if(e instanceof En){var t=new En("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return oo().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)};En.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,a,o){var l,s,u,d;switch(r[0]){case"v":l=e.calc(0,r[1],!0),s=l[0]===0?["v",l[1]]:["l",l[0],l[1]];break;case"V":l=e.calc(a,r[1],!1),s=l[0]===e.calc(a,o,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":l=e.calc(r[1],0,!0),s=l[1]===0?["h",l[0]]:["l",l[0],l[1]];break;case"H":l=e.calc(r[1],o,!1),s=l[1]===e.calc(a,o,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var p=e.toArray(),c=wL(r[1],r[2],r[3]).transform(p);if(p[0]*p[3]-p[1]*p[2]<0&&(r[5]=r[5]?"0":"1"),l=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===a&&r[7]===o||r[0]==="a"&&r[6]===0&&r[7]===0){s=[r[0]==="a"?"l":"L",l[0],l[1]];break}c.isDegenerate()?s=[r[0]==="a"?"l":"L",l[0],l[1]]:s=[r[0],c.rx,c.ry,c.ax,r[4],r[5],l[0],l[1]];break;case"m":d=i>0,l=e.calc(r[1],r[2],d),s=["m",l[0],l[1]];break;default:for(u=r[0],s=[u],d=u.toLowerCase()===u,n=1;n<r.length;n+=2)l=e.calc(r[n],r[n+1],d),s.push(l[0],l[1])}t.segments[i]=s},!0)};En.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=oo(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}};En.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var a=this.segments[r],o=a[0];o!==t||o==="m"||o==="M"?(o==="m"&&t==="z"&&(e+=" "),e+=o,n=!1):n=!0;for(var l=1;l<a.length;l++){var s=a[l];l===1?n&&s>=0&&(e+=" "):s>=0&&(e+=" "),e+=s}t=o}return e};En.prototype.translate=function(e,t){return this.__stack.push(oo().translate(e,t||0)),this};En.prototype.scale=function(e,t){return this.__stack.push(oo().scale(e,!t&&t!==0?e:t)),this};En.prototype.rotate=function(e,t,n){return this.__stack.push(oo().rotate(e,t||0,n||0)),this};En.prototype.skewX=function(e){return this.__stack.push(oo().skewX(e)),this};En.prototype.skewY=function(e){return this.__stack.push(oo().skewY(e)),this};En.prototype.matrix=function(e){return this.__stack.push(oo().matrix(e)),this};En.prototype.transform=function(e){return e.trim()?(this.__stack.push(xL(e)),this):this};En.prototype.round=function(e){var t=0,n=0,r=0,i=0,a;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(o){var l=o[0].toLowerCase()===o[0];switch(o[0]){case"H":case"h":l&&(o[1]+=r),r=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"V":case"v":l&&(o[1]+=i),i=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":l&&(o[1]+=r,o[2]+=i),r=o[1]-o[1].toFixed(e),i=o[2]-o[2].toFixed(e),t=r,n=i,o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e);return;case"A":case"a":l&&(o[6]+=r,o[7]+=i),r=o[6]-o[6].toFixed(e),i=o[7]-o[7].toFixed(e),o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e),o[3]=+o[3].toFixed(e+2),o[6]=+o[6].toFixed(e),o[7]=+o[7].toFixed(e);return;default:a=o.length,l&&(o[a-2]+=r,o[a-1]+=i),r=o[a-2]-o[a-2].toFixed(e),i=o[a-1]-o[a-1].toFixed(e),o.forEach(function(s,u){u&&(o[u]=+o[u].toFixed(e))});return}}),this};En.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,a=0,o=0,l=0,s=0,u,d,p;if(t||this.__evaluateStack(),n.forEach(function(c,g){var _=e(c,g,a,o);Array.isArray(_)&&(r[g]=_,i=!0);var L=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":a=c[1]+(L?a:0),o=c[2]+(L?o:0),l=a,s=o;return;case"h":case"H":a=c[1]+(L?a:0);return;case"v":case"V":o=c[1]+(L?o:0);return;case"z":case"Z":a=l,o=s;return;default:a=c[c.length-2]+(L?a:0),o=c[c.length-1]+(L?o:0)}}),!i)return this;for(p=[],u=0;u<n.length;u++)if(typeof r[u]<"u")for(d=0;d<r[u].length;d++)p.push(r[u][d]);else p.push(n[u]);return this.segments=p,this};En.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toUpperCase(),o;if(i!==a)switch(e[0]=a,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(o=1;o<e.length;o++)e[o]+=o%2?n:r}},!0),this};En.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],a=i.toLowerCase(),o;if(i!==a&&!(t===0&&i==="M"))switch(e[0]=a,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(o=1;o<e.length;o++)e[o]-=o%2?n:r}},!0),this};En.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,a,o,l=[],s=e[0];return s!=="A"&&s!=="a"?null:(s==="a"?(a=n+e[6],o=r+e[7]):(a=e[6],o=e[7]),i=_L(n,r,a,o,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(u){l.push(["C",u[2],u[3],u[4],u[5],u[6],u[7]])}),l))}),this};En.prototype.unshort=function(){var e=this.segments,t,n,r,i,a;return this.iterate(function(o,l,s,u){var d=o[0],p=d.toUpperCase(),c;l&&(p==="T"?(c=d==="t",r=e[l-1],r[0]==="Q"?(t=r[1]-s,n=r[2]-u):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"q":"Q",i,a,o[1],o[2]]):p==="S"&&(c=d==="s",r=e[l-1],r[0]==="C"?(t=r[3]-s,n=r[4]-u):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,a=-n,c||(i+=s,a+=u),e[l]=[c?"c":"C",i,a,o[1],o[2],o[3],o[4]]))}),this};var EL=En,SL=EL;const TL=Vd(SL);var Ip={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},AL=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function CL(e){var t=[];return e.replace(AL,function(n,r,i){var a=r.toLowerCase();for(i=LL(i),a==="m"&&i.length>2&&(t.push([r].concat(i.splice(0,2))),a="l",r=r==="m"?"l":"L");i.length>=0;){if(i.length===Ip[a])return i.unshift(r),t.push(i);if(i.length<Ip[a])throw new Error("malformed path data");t.push([r].concat(i.splice(0,Ip[a])))}}),t}var bL=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function LL(e){var t=e.match(bL);return t?t.map(Number):[]}function si(e,t,n,r,i,a,o,l){return new qm(e,t,n,r,i,a,o,l)}function qm(e,t,n,r,i,a,o,l){this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:a},this.d={x:o,y:l},o!=null&&l!==null&&l!==void 0?(this.getArcLength=BL,this.getPoint=PL,this.getDerivative=kL):(this.getArcLength=OL,this.getPoint=f8,this.getDerivative=RL),this.init()}qm.prototype={constructor:qm,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(e){var t=Dp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(e){var t=Dp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;return r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0},i},getPropertiesAtLength:function(e){var t=Dp(e,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t),r=Math.sqrt(n.x*n.x+n.y*n.y),i;r>0?i={x:n.x/r,y:n.y/r}:i={x:0,y:0};var a=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:a.x,y:a.y,tangentX:i.x,tangentY:i.y}}};function RL(e,t,n){return{x:(1-n)*2*(e[1]-e[0])+n*2*(e[2]-e[1]),y:(1-n)*2*(t[1]-t[0])+n*2*(t[2]-t[1])}}function kL(e,t,n){var r=f8([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n);return r}function Dp(e,t,n,r,i){for(var a=1,o=e/t,l=(e-n(r,i,o))/t;a>.001;){var s=n(r,i,o+l),u=n(r,i,o-l),d=Math.abs(e-s)/t,p=Math.abs(e-u)/t;d<a?(a=d,o+=l):p<a?(a=p,o-=l):l/=2}return o}function f8(e,t,n){var r=(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],i=(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2];return{x:r,y:i}}function PL(e,t,n){var r=(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],i=(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3];return{x:r,y:i}}function OL(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],a=2*e[1]-2*e[0],o=2*t[1]-2*t[0],l=4*(r*r+i*i),s=4*(r*a+i*o),u=a*a+o*o;if(l===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var d=s/(2*l),p=u/l,c=n+d,g=p-d*d;return Math.sqrt(l)/2*(c*Math.sqrt(c*c+g)-d*Math.sqrt(d*d+g)+g*Math.log(Math.abs((c+Math.sqrt(c*c+g))/(d+Math.sqrt(d*d+g)))))}var NL=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],ML=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],IL=[[1],[1,1],[1,2,1],[1,3,3,1]];function DL(e,t){return IL[e][t]}function Qm(e,t,n){var r=n.length-1,i,a,o;if(r===0)return 0;if(e===0){for(a=0,o=0;o<=r;o++)a+=DL(r,o)*Math.pow(1-t,r-o)*Math.pow(t,o)*n[o];return a}else{for(i=new Array(r),o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return Qm(e-1,t,i)}}function FL(e,t,n){var r=Qm(1,n,e),i=Qm(1,n,t),a=r*r+i*i;return Math.sqrt(a)}function BL(e,t,n){var r,i,a,o;n===void 0&&(n=1);var l=20;for(r=n/2,i=0,a=0;a<l;a++)o=r*NL[l][a]+r,i+=ML[l][a]*FL(e,t,o);return r*i}var tc=Math.PI*2;function E3(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function $L(e,t,n,r,i,a,o,l,s,u){var d=u*(e-n)/2+s*(t-r)/2,p=-s*(e-n)/2+u*(t-r)/2,c=o*o,g=l*l,_=d*d,L=p*p,N=c*g-c*L-g*_;N<0&&(N=0),N/=c*L+g*_,N=Math.sqrt(N)*(i===a?-1:1);var y=N*o/l*p,E=N*-l/o*d,w=u*y-s*E+(e+n)/2,P=s*y+u*E+(t+r)/2,j=(d-y)/o,Q=(p-E)/l,ce=(-d-y)/o,ne=(-p-E)/l,We=E3(1,0,j,Q),Ce=E3(j,Q,ce,ne);return a===0&&Ce>0&&(Ce-=tc),a===1&&Ce<0&&(Ce+=tc),[w,P,We,Ce]}function jL(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,a+o*n,o-a*n,a,o]}function zL(e,t,n,r,i,a,o,l,s){var u=Math.sin(i*tc/360),d=Math.cos(i*tc/360),p=d*(e-l)/2+u*(t-s)/2,c=-u*(e-l)/2+d*(t-s)/2;if(p===0&&c===0)return[];if(n===0||r===0)return[];n=Math.abs(n),r=Math.abs(r);var g=p*p/(n*n)+c*c/(r*r);g>1&&(n*=Math.sqrt(g),r*=Math.sqrt(g));var _=$L(e,t,l,s,a,o,n,r,u,d),L=[],N=_[2],y=_[3],E=Math.max(Math.ceil(Math.abs(y)/(tc/4)),1);y/=E;for(var w=0;w<E;w++)L.push(jL(N,y)),N+=y;return L.map(function(P){for(var j=0;j<P.length;j+=2){var Q=P[j+0],ce=P[j+1];Q*=n,ce*=r;var ne=d*Q-u*ce,We=u*Q+d*ce;P[j+0]=ne+_[0],P[j+1]=We+_[1]}return P})}function S3(e,t,n,r,i,a,o,l,s){return new Zm(e,t,n,r,i,a,o,l,s)}function Zm(e,t,n,r,i,a,o,l,s){var u=0,d=[],p=[],c=zL(e,t,n,r,i,a,o,l,s);c.forEach(function(g){var _=new si(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7]),L=_.getTotalLength();u+=L,d.push(L),p.push(_)}),this.length=u,this.partialLengths=d,this.curves=p}Zm.prototype={constructor:Zm,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getPointAtLength(e-n)},getTangentAtLength:function(e){e<0?e=0:e>this.length&&(e=this.length);for(var t=this.partialLengths.length-1;this.partialLengths[t]>=e&&this.partialLengths[t]>0;)t--;t<this.partialLengths.length-1&&t++;for(var n=0,r=0;r<t;r++)n+=this.partialLengths[r];return this.curves[t].getTangentAtLength(e-n)},getPropertiesAtLength:function(e){var t=this.getTangentAtLength(e),n=this.getPointAtLength(e);return{x:n.x,y:n.y,tangentX:t.x,tangentY:t.y}}};function li(e,t,n,r){return new Dc(e,t,n,r)}function Dc(e,t,n,r){this.x0=e,this.x1=t,this.y0=n,this.y1=r}Dc.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};Dc.prototype.getPointAtLength=function(e){var t=e/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*t,r=(this.y1-this.y0)*t;return{x:this.x0+n,y:this.y0+r}};Dc.prototype.getTangentAtLength=function(){var e=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/e,y:(this.y1-this.y0)/e}};Dc.prototype.getPropertiesAtLength=function(e){var t=this.getPointAtLength(e),n=this.getTangentAtLength();return{x:t.x,y:t.y,tangentX:n.x,tangentY:n.y}};function GL(e){var t=0,n=[],r=[];function i(o){if(!o)return null;for(var l=CL(o),s=[0,0],u=[0,0],d,p,c=0;c<l.length;c++)l[c][0]==="M"?(s=[l[c][1],l[c][2]],p=[s[0],s[1]],r.push(null)):l[c][0]==="m"?(s=[l[c][1]+s[0],l[c][2]+s[1]],p=[s[0],s[1]],r.push(null)):l[c][0]==="L"?(t=t+Math.sqrt(Math.pow(s[0]-l[c][1],2)+Math.pow(s[1]-l[c][2],2)),r.push(new li(s[0],l[c][1],s[1],l[c][2])),s=[l[c][1],l[c][2]]):l[c][0]==="l"?(t=t+Math.sqrt(Math.pow(l[c][1],2)+Math.pow(l[c][2],2)),r.push(new li(s[0],l[c][1]+s[0],s[1],l[c][2]+s[1])),s=[l[c][1]+s[0],l[c][2]+s[1]]):l[c][0]==="H"?(t=t+Math.abs(s[0]-l[c][1]),r.push(new li(s[0],l[c][1],s[1],s[1])),s[0]=l[c][1]):l[c][0]==="h"?(t=t+Math.abs(l[c][1]),r.push(new li(s[0],s[0]+l[c][1],s[1],s[1])),s[0]=l[c][1]+s[0]):l[c][0]==="V"?(t=t+Math.abs(s[1]-l[c][1]),r.push(new li(s[0],s[0],s[1],l[c][1])),s[1]=l[c][1]):l[c][0]==="v"?(t=t+Math.abs(l[c][1]),r.push(new li(s[0],s[0],s[1],s[1]+l[c][1])),s[1]=l[c][1]+s[1]):l[c][0]==="z"||l[c][0]==="Z"?(t=t+Math.sqrt(Math.pow(p[0]-s[0],2)+Math.pow(p[1]-s[1],2)),r.push(new li(s[0],p[0],s[1],p[1])),s=[p[0],p[1]]):l[c][0]==="C"?(d=new si(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6]),t=t+d.getTotalLength(),s=[l[c][5],l[c][6]],r.push(d)):l[c][0]==="c"?(d=new si(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4],s[0]+l[c][5],s[1]+l[c][6]),t=t+d.getTotalLength(),s=[l[c][5]+s[0],l[c][6]+s[1]],r.push(d)):l[c][0]==="S"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-l[c-1][l[c-1].length-4],2*s[1]-l[c-1][l[c-1].length-3],l[c][1],l[c][2],l[c][3],l[c][4]):d=new si(s[0],s[1],s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]),t=t+d.getTotalLength(),s=[l[c][3],l[c][4]],r.push(d)):l[c][0]==="s"?(c>0&&["C","c","S","s"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],s[0]+d.d.x-d.c.x,s[1]+d.d.y-d.c.y,s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]):d=new si(s[0],s[1],s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="Q"?(s[0]!=l[c][1]&&s[1]!=l[c][2]?d=new si(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4]):d=new li(l[c][1],l[c][3],l[c][2],l[c][4]),t=t+d.getTotalLength(),r.push(d),s=[l[c][3],l[c][4]],u=[l[c][1],l[c][2]]):l[c][0]==="q"?(l[c][1]==0&&l[c][2]==0?d=new li(s[0]+l[c][1],s[0]+l[c][3],s[1]+l[c][2],s[1]+l[c][4]):d=new si(s[0],s[1],s[0]+l[c][1],s[1]+l[c][2],s[0]+l[c][3],s[1]+l[c][4]),t=t+d.getTotalLength(),u=[s[0]+l[c][1],s[1]+l[c][2]],s=[l[c][3]+s[0],l[c][4]+s[1]],r.push(d)):l[c][0]==="T"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],l[c][1],l[c][2]):d=new li(s[0],l[c][1],s[1],l[c][2]),r.push(d),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1],l[c][2]]):l[c][0]==="t"?(c>0&&["Q","q","T","t"].indexOf(l[c-1][0])>-1?d=new si(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+l[c][1],s[1]+l[c][2]):d=new li(s[0],s[0]+l[c][1],s[1],s[1]+l[c][2]),t=t+d.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[l[c][1]+s[0],l[c][2]+s[0]],r.push(d)):l[c][0]==="A"?(d=new S3(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],l[c][6],l[c][7]),t=t+d.getTotalLength(),s=[l[c][6],l[c][7]],r.push(d)):l[c][0]==="a"&&(d=new S3(s[0],s[1],l[c][1],l[c][2],l[c][3],l[c][4],l[c][5],s[0]+l[c][6],s[1]+l[c][7]),t=t+d.getTotalLength(),s=[s[0]+l[c][6],s[1]+l[c][7]],r.push(d)),n.push(t);return i}i.getTotalLength=function(){return t},i.getPointAtLength=function(o){var l=a(o);return r[l.i].getPointAtLength(l.fraction)},i.getTangentAtLength=function(o){var l=a(o);return r[l.i].getTangentAtLength(l.fraction)},i.getPropertiesAtLength=function(o){var l=a(o);return r[l.i].getPropertiesAtLength(l.fraction)};var a=function(o){o<0?o=0:o>t&&(o=t);for(var l=n.length-1;n[l]>=o&&n[l]>0;)l--;return l++,{fraction:o-n[l-1],i:l}};return i(e)}function yh(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function d8(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function UL(e,t){return yh(e,t)<1e-9}function VL(e,t,n){let r=e.map((i,a)=>HL(i,t[a]));return function(i){let a=r.map(o=>o(i));return n?YL(a):a}}function HL(e,t){return function(n){return e.map((r,i)=>r+n*(t[i]-r))}}function Ud(e){return typeof e=="number"&&isFinite(e)}const Km=`All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).
Example valid ways of supplying a shape would be:
[[0, 0], [10, 0], [10, 10]]
"M0,0 L10,0 L10,10Z"
`;function WL(e){return new TL(e).abs()}function XL(e){return e.toString().split("M").map((t,n)=>(t=t.trim(),n&&t?"M"+t:t)).filter(t=>t)}function YL(e){return"M"+e.join("L")+"Z"}function qL(e,t){let n=WL(e);return QL(n)||ZL(n,t)}function QL(e){let t=e.segments||[],n=[];if(!t.length||t[0][0]!=="M")return!1;for(let r=0;r<t.length;r++){let[i,a,o]=t[r];if(i==="M"&&r||i==="Z")break;if(i==="M"||i==="L")n.push([a,o]);else if(i==="H")n.push([a,n[n.length-1][1]]);else if(i==="V")n.push([n[n.length-1][0],a]);else return!1}return n.length?{ring:n}:!1}function ZL(e,t){let n=XL(e)[0],r=[],i,a,o=3;if(!n)throw new TypeError(Km);a=KL(n),i=a.getTotalLength(),t&&Ud(t)&&t>0&&(o=Math.max(o,Math.ceil(i/t)));for(let l=0;l<o;l++){let s=a.getPointAtLength(i*l/o);r.push([s.x,s.y])}return{ring:r,skipBisect:!0}}function KL(e){if(typeof window<"u"&&window&&window.document)try{let t=window.document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}catch{}return GL(e)}function T3(e,t){const n=e.length+t,r=Zb(e)/t;let i=0,a=0,o=r/2;for(;e.length<n;){let l=e[i],s=e[(i+1)%e.length],u=yh(l,s);if(o<=a+u){e.splice(i+1,0,u?d8(l,s,(o-a)/u):l.slice(0)),o+=r;continue}a+=u,i++}}function JL(e,t=1/0){for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1?e[0]:e[n+1];for(;yh(r,i)>t;)i=d8(r,i,.5),e.splice(n+1,0,i)}}function A3(e,t){let n,r,i;if(typeof e=="string"){let a=qL(e,t);e=a.ring,i=a.skipBisect}else if(!Array.isArray(e))throw new TypeError(Km);if(n=e.slice(0),!eR(n))throw new TypeError(Km);return n.length>1&&UL(n[0],n[n.length-1])&&n.pop(),r=Qb(n),r>0&&n.reverse(),!i&&t&&Ud(t)&&t>0&&JL(n,t),n}function eR(e){return e.every(function(t){return Array.isArray(t)&&t.length>=2&&Ud(t[0])&&Ud(t[1])})}function tR(e,t){let n=e.length,r=1/0,i,a,o;for(let l=0;l<n;l++)a=0,t.forEach(function(s,u){let d=yh(e[(l+u)%n],s);a+=d*d}),a<r&&(r=a,i=l);i&&(o=e.splice(0,i),e.splice(e.length,0,...o))}function nR(e,t,{maxSegmentLength:n=10,string:r=!0}={}){let i=A3(e,n),a=A3(t,n),o=rR(i,a,r);return!r||typeof e!="string"&&typeof t!="string"?o:l=>l<1e-4&&typeof e=="string"?e:1-l<1e-4&&typeof t=="string"?t:o(l)}function rR(e,t,n){let r;return r=e.length-t.length,T3(e,r<0?r*-1:0),T3(t,r>0?r:0),tR(e,t),VL(e,t,n)}var h8={exports:{}};h8.exports=xh;h8.exports.default=xh;function xh(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=p8(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var l,s,u,d,p,c,g;if(r&&(a=sR(e,t,a,n)),e.length>80*n){l=u=e[0],s=d=e[1];for(var _=n;_<i;_+=n)p=e[_],c=e[_+1],p<l&&(l=p),c<s&&(s=c),p>u&&(u=p),c>d&&(d=c);g=Math.max(u-l,d-s),g=g!==0?32767/g:0}return Cc(a,o,n,l,s,g,0),o}function p8(e,t,n,r,i){var a,o;if(i===tv(e,t,n,r)>0)for(a=t;a<n;a+=r)o=C3(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=C3(a,e[a],e[a+1],o);return o&&_h(o,o.next)&&(Lc(o),o=o.next),o}function nl(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(_h(n,n.next)||wn(n.prev,n,n.next)===0)){if(Lc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Cc(e,t,n,r,i,a,o){if(e){!o&&a&&hR(e,r,i,a);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,a?aR(e,r,i,a):iR(e)){t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Lc(e),e=u.next,l=u.next;continue}if(e=u,e===l){o?o===1?(e=oR(nl(e),t,n),Cc(e,t,n,r,i,a,2)):o===2&&lR(e,t,n,r,i,a):Cc(nl(e),t,n,r,i,a,1);break}}}}function iR(e){var t=e.prev,n=e,r=e.next;if(wn(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,l=t.y,s=n.y,u=r.y,d=i<a?i<o?i:o:a<o?a:o,p=l<s?l<u?l:u:s<u?s:u,c=i>a?i>o?i:o:a>o?a:o,g=l>s?l>u?l:u:s>u?s:u,_=r.next;_!==t;){if(_.x>=d&&_.x<=c&&_.y>=p&&_.y<=g&&os(i,l,a,s,o,u,_.x,_.y)&&wn(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function aR(e,t,n,r){var i=e.prev,a=e,o=e.next;if(wn(i,a,o)>=0)return!1;for(var l=i.x,s=a.x,u=o.x,d=i.y,p=a.y,c=o.y,g=l<s?l<u?l:u:s<u?s:u,_=d<p?d<c?d:c:p<c?p:c,L=l>s?l>u?l:u:s>u?s:u,N=d>p?d>c?d:c:p>c?p:c,y=Jm(g,_,t,n,r),E=Jm(L,N,t,n,r),w=e.prevZ,P=e.nextZ;w&&w.z>=y&&P&&P.z<=E;){if(w.x>=g&&w.x<=L&&w.y>=_&&w.y<=N&&w!==i&&w!==o&&os(l,d,s,p,u,c,w.x,w.y)&&wn(w.prev,w,w.next)>=0||(w=w.prevZ,P.x>=g&&P.x<=L&&P.y>=_&&P.y<=N&&P!==i&&P!==o&&os(l,d,s,p,u,c,P.x,P.y)&&wn(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;w&&w.z>=y;){if(w.x>=g&&w.x<=L&&w.y>=_&&w.y<=N&&w!==i&&w!==o&&os(l,d,s,p,u,c,w.x,w.y)&&wn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;P&&P.z<=E;){if(P.x>=g&&P.x<=L&&P.y>=_&&P.y<=N&&P!==i&&P!==o&&os(l,d,s,p,u,c,P.x,P.y)&&wn(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function oR(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!_h(i,a)&&m8(i,r,r.next,a)&&bc(i,a)&&bc(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Lc(r),Lc(r.next),r=e=a),r=r.next}while(r!==e);return nl(r)}function lR(e,t,n,r,i,a){var o=e;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&vR(o,l)){var s=v8(o,l);o=nl(o,o.next),s=nl(s,s.next),Cc(o,t,n,r,i,a,0),Cc(s,t,n,r,i,a,0);return}l=l.next}o=o.next}while(o!==e)}function sR(e,t,n,r){var i=[],a,o,l,s,u;for(a=0,o=t.length;a<o;a++)l=t[a]*r,s=a<o-1?t[a+1]*r:e.length,u=p8(e,l,s,r,!1),u===u.next&&(u.steiner=!0),i.push(mR(u));for(i.sort(uR),a=0;a<i.length;a++)n=cR(i[a],n);return n}function uR(e,t){return e.x-t.x}function cR(e,t){var n=fR(e,t);if(!n)return t;var r=v8(n,e);return nl(r,r.next),nl(n,n.next)}function fR(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>a&&(a=l,o=n.x<n.next.x?n:n.next,l===r))return o}n=n.next}while(n!==t);if(!o)return null;var s=o,u=o.x,d=o.y,p=1/0,c;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&os(i<d?r:a,i,u,d,i<d?a:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),bc(n,e)&&(c<p||c===p&&(n.x>o.x||n.x===o.x&&dR(o,n)))&&(o=n,p=c)),n=n.next;while(n!==s);return o}function dR(e,t){return wn(e.prev,e,t.prev)<0&&wn(t.next,e,e.next)<0}function hR(e,t,n,r){var i=e;do i.z===0&&(i.z=Jm(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,pR(i)}function pR(e){var t,n,r,i,a,o,l,s,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,l=0,t=0;t<u&&(l++,r=r.nextZ,!!r);t++);for(s=u;l>0||s>0&&r;)l!==0&&(s===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return e}function Jm(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function mR(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function os(e,t,n,r,i,a,o,l){return(i-o)*(t-l)>=(e-o)*(a-l)&&(e-o)*(r-l)>=(n-o)*(t-l)&&(n-o)*(a-l)>=(i-o)*(r-l)}function vR(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!gR(e,t)&&(bc(e,t)&&bc(t,e)&&yR(e,t)&&(wn(e.prev,e,t.prev)||wn(e,t.prev,t))||_h(e,t)&&wn(e.prev,e,e.next)>0&&wn(t.prev,t,t.next)>0)}function wn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function _h(e,t){return e.x===t.x&&e.y===t.y}function m8(e,t,n,r){var i=P0(wn(e,t,n)),a=P0(wn(e,t,r)),o=P0(wn(n,r,e)),l=P0(wn(n,r,t));return!!(i!==a&&o!==l||i===0&&k0(e,n,t)||a===0&&k0(e,r,t)||o===0&&k0(n,e,r)||l===0&&k0(n,t,r))}function k0(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function P0(e){return e>0?1:e<0?-1:0}function gR(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&m8(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function bc(e,t){return wn(e.prev,e,e.next)<0?wn(e,t,e.next)>=0&&wn(e,e.prev,t)>=0:wn(e,t,e.prev)<0||wn(e,e.next,t)<0}function yR(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function v8(e,t){var n=new ev(e.i,e.x,e.y),r=new ev(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function C3(e,t,n,r){var i=new ev(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ev(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}xh.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(tv(e,0,a,n));if(i)for(var l=0,s=t.length;l<s;l++){var u=t[l]*n,d=l<s-1?t[l+1]*n:e.length;o-=Math.abs(tv(e,u,d,n))}var p=0;for(l=0;l<r.length;l+=3){var c=r[l]*n,g=r[l+1]*n,_=r[l+2]*n;p+=Math.abs((e[c]-e[_])*(e[g+1]-e[c+1])-(e[c]-e[g])*(e[_+1]-e[c+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function tv(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}xh.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};function g8(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xR(e){return e.length===1&&(e=_R(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function _R(e){return function(t,n){return g8(e(t),n)}}xR(g8);const Fp=({hulls:e,fill:t,stroke:n,delay:r=0,duration:i=2e3,strokeWidth:a,symbol:o,xDomain:l,yDomain:s,width:u,height:d})=>{const p=G.useRef();G.useRef();const c=G.useRef();return G.useRef(),G.useEffect(()=>{if(!l||!s||!e.length||!(!c.current||JSON.stringify(e[0])!==JSON.stringify(c.current[0])))return;const _=h3(p.current),L=u/(l[1]-l[0]),N=d/(s[1]-s[0]),y=u/2-L*(l[1]+l[0])/2,E=d/2+N*(s[1]+s[0])/2,w=a/Math.sqrt(L*N),P=_.select("g.hull-container");P.attr("transform",`translate(${y}, ${E}) scale(${L}, ${N})`);const j=u3().x(ce=>ce[0]).y(ce=>-ce[1]).curve(f3);let Q=P.selectAll("path.hull").data(e);Q.exit().transition().duration(i).delay(r).ease(x3).style("opacity",0).remove(),Q.enter().append("path").classed("hull",!0).attr("d",j).style("fill",t).style("stroke",n).style("stroke-width",w).style("opacity",0).transition().delay(r+100).duration(i-100).ease(x3).style("opacity",.75),Q.transition().duration(i).delay(r).ease(u8).style("opacity",.75).attrTween("d",function(ce,ne){const We=c.current?c.current[ne]:null;if(!We)return()=>j(ce);const Ce=nR(j(We),j(ce));return function(Be){return Ce(Be)}}),setTimeout(()=>{c.current=e},i)},[e]),G.useEffect(()=>{if(!l||!s||!e.length)return;const g=h3(p.current),_=u/(l[1]-l[0]),L=d/(s[1]-s[0]),N=u/2-_*(l[1]+l[0])/2,y=d/2+L*(s[1]+s[0])/2,E=a/Math.sqrt(_*L),w=g.select("g.hull-container");w.attr("transform",`translate(${N}, ${y}) scale(${_}, ${L})`);const P=u3().x(Q=>Q[0]).y(Q=>-Q[1]).curve(f3);let j=w.selectAll("path.hull").data(e);j.enter().append("path").classed("hull",!0).attr("d",P).style("fill",t).style("stroke",n).attr("stroke-width",E).style("opacity",.75),j.exit().remove(),j.attr("d",P)},[t,n,a,l,s,u,d]),W.jsx("svg",{ref:p,className:"hull-plot",width:u,height:d,children:W.jsx("g",{className:"hull-container"})})},Ir="https://api.latentscope.com/api",wR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),b3=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function O0(e,t){return e.map(n=>n.hull.map(r=>t[r]))}function ER(){var ni;const[e,t]=G.useState(null),{dataset:n,scope:r}=q6(),i=ch(),a=G.useRef(null),[o,l]=s();function s(){const[oe,Ct]=G.useState([500,500]);return G.useEffect(()=>{function mn(){if(!a.current)return;const{height:Cn,width:Kt}=a.current.getBoundingClientRect();let $n=Kt>500?500:Kt-50;Ct([$n,$n])}return window.addEventListener("resize",mn),mn(),setTimeout(mn,100),()=>window.removeEventListener("resize",mn)},[]),oe}const u=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[d,p]=G.useState(2);G.useEffect(()=>{fetch(`${Ir}/datasets/${n}/meta`).then(oe=>oe.json()).then(oe=>{console.log("dataset",oe),t(oe)})},[n,t]);const[c,g]=G.useState([]);G.useEffect(()=>{fetch(`${Ir}/datasets/${n}/scopes`).then(oe=>oe.json()).then(oe=>{g(oe)})},[n,g]);const[_,L]=G.useState(null);G.useEffect(()=>{fetch(`${Ir}/datasets/${n}/scopes/${r}`).then(oe=>oe.json()).then(oe=>{console.log("scope",oe),L(oe)})},[n,r,L]);const[N,y]=G.useState(null),[E,w]=G.useState(null),[P,j]=G.useState([]),[Q,ce]=G.useState([]),[ne,We]=G.useState(N==null?void 0:N.id),[Ce,Be]=G.useState([]);G.useEffect(()=>{fetch(`${Ir}/datasets/${n}/embeddings`).then(oe=>oe.json()).then(oe=>{Be(oe)})},[n,Be]);const[qe,et]=G.useState([]),[Ge,Vt]=G.useState([]),[gt,pt]=G.useState([]);G.useEffect(()=>{_&&(y(Ce.find(oe=>oe.id==_.embedding_id)),Promise.all([fetch(`${Ir}/datasets/${n}/umaps/${_.umap_id}`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/umaps/${_.umap_id}/points`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/clusters/${_.cluster_id}/labels/${_.cluster_labels_id.split("-")[3]||_.cluster_labels_id}`).then(oe=>oe.json()),fetch(`${Ir}/datasets/${n}/clusters/${_.cluster_id}/indices`).then(oe=>oe.json())]).then(([oe,Ct,mn,Cn])=>{w(oe);const Kt=Ct.map(br=>[br.x,br.y]);et(Kt);const $n=Ct.map((br,$i)=>[br.x,br.y,Cn[$i].cluster]);Vt($n),pt([]),ce(mn),j(Cn),setTimeout(()=>{pt(O0(mn,Kt))},100)}).catch(oe=>console.error("Fetching data failed",oe)))},[n,_,Ce,w,ce,y,We]),G.useMemo(()=>P.map(oe=>oe.cluster),[P]),G.useEffect(()=>{N&&We(N.id)},[N,We]);const _e=oe=>{console.log("selected",oe),We(oe)},Xe=G.useCallback((oe,Ct,mn=[])=>{fetch(`${Ir}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:oe})}).then(Cn=>Cn.json()).then(Cn=>{if(!e)return;let Kt=Cn.map(($n,br)=>({index:oe[br],...$n}));Ct(Kt)})},[e,n]),[ge,Ee]=G.useState({}),[Je,Et]=G.useState([-1,1]),[vt,Xt]=G.useState([-1,1]),Jt=G.useCallback((oe,Ct)=>{Et(oe),Xt(Ct)},[Et,Xt]),[Pt,Ot]=G.useState([]),on=G.useCallback(oe=>{console.log("handle selected",oe),Ot(oe),p(0)},[Ot,p]),[Zt,pn]=G.useState(null),[Bt,tn]=G.useState(null);G.useEffect(()=>{Zt!=null?Xe([Zt],oe=>{tn(oe[0])}):tn(null)},[Zt,tn,Xe]);const[ht,xt]=G.useState(null);G.useEffect(()=>{if(Bt&&P.length&&Q.length){const oe=Bt.index,Ct=P[oe],mn=Q[Ct==null?void 0:Ct.cluster];xt({cluster:Ct.cluster,...mn})}else xt(null)},[Bt,P,Q,xt]);const[Mt,St]=G.useState([]);G.useEffect(()=>{Zt!=null?St([qe[Zt]]):St([])},[Zt,qe]);const[st,Ft]=G.useState({});G.useEffect(()=>{fetch(`${Ir}/tags?dataset=${n}`).then(oe=>oe.json()).then(oe=>Ft(oe))},[n]);const ln=G.useMemo(()=>{const oe=[];for(const Ct in st)oe.push(Ct);return oe},[st]),[be,Tt]=G.useState(ln[0]),[v,ut]=G.useState([]);G.useEffect(()=>{if(st[be]){const oe=st[be].map(Ct=>qe[Ct]);ut(oe)}else ut([]),ge&&ge.config&&(ge==null||ge.zoomToOrigin({transition:!0,transitionDuration:1500}))},[st,be,qe,ge,ut]);const[_t,Te]=G.useState([]),[qt,At]=G.useState([]),$e=G.useCallback(oe=>{fetch(`${Ir}/search/nn?dataset=${n}&query=${oe}&embedding_id=${ne}`).then(Ct=>Ct.json()).then(Ct=>{At(Ct.distances),Te(Ct.indices),ge==null||ge.zoomToPoints(Ct.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[ne,n,ge,At,Te]),[It,Ht]=G.useState([]);G.useEffect(()=>{const oe=_t.map(Ct=>qe[Ct]);Ht(oe)},[_t,qe]);const[Ue,nn]=G.useState(null),[cn,Nt]=G.useState([]);G.useEffect(()=>{if(Ue){const oe=Ue.indices.map(Ct=>qe[Ct]);Nt(oe)}else Nt([]),ge&&ge.config&&(ge==null||ge.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Ue,qe,ge,Nt]);const[gn,An]=G.useState((Ue==null?void 0:Ue.label)||"");G.useEffect(()=>{An((Ue==null?void 0:Ue.label)||"")},[Ue]);const ir=G.useCallback(oe=>{ge==null||ge.zoomToPoints([oe],{transition:!0,padding:.9,transitionDuration:1500})},[ge]),Yn=G.useCallback(oe=>{pn(oe)},[pn]),ti=G.useCallback((oe,Ct)=>{console.log("update label",oe,Ct),fetch(`${Ir}/datasets/${n}/clusters/${_.cluster_id}/labels/${_.cluster_labels_id}/label/${oe}?label=${Ct}`).then(mn=>mn.json()).then(mn=>{fetch(`${Ir}/datasets/${n}/clusters/${_.cluster_id}/labels/${_.cluster_labels_id}`).then(Cn=>Cn.json()).then(Cn=>{console.log("got new labels",Cn),ce(Cn),pt(O0(Cn,qe))}).catch(console.error)}).catch(console.error)},[n,_]),Bn=G.useCallback(()=>{nn(null)},[]);return e?W.jsxs("div",{ref:a,className:"container",children:[W.jsxs("div",{className:"left-column",children:[W.jsxs("div",{className:"summary",children:[W.jsxs("div",{className:"scope-card",children:[b3()?W.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,W.jsxs("div",{className:"heading",children:[n,": ",W.jsx("select",{className:"scope-selector",onChange:oe=>{Bn(),i(`/datasets/${e==null?void 0:e.id}/explore/${oe.target.value}`)},children:c.map((oe,Ct)=>W.jsx("option",{value:oe.id,selected:oe.id===(_==null?void 0:_.id),children:oe.label||oe.id},Ct))}),null]}),W.jsx("span",{children:_==null?void 0:_.description}),W.jsxs("span",{children:["Embeddings: ",N==null?void 0:N.model_id]}),W.jsxs("span",{children:[Q==null?void 0:Q.length," clusters"]})]}),W.jsx("div",{className:"dataset-card",children:W.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),W.jsxs("div",{className:"umap-container",children:[W.jsx("div",{className:"scatters",style:{width:o,height:l},children:qe.length?W.jsxs(W.Fragment,{children:[wR()?W.jsx($a,{points:qe,fill:"gray",size:"8",xDomain:Je,yDomain:vt,width:o,height:l}):W.jsx(p2,{points:Ge,duration:2e3,width:o,height:l,onScatter:Ee,onView:Jt,onSelect:on,onHover:Yn}),ht&&ht.hull&&!_.ignore_hulls?W.jsx(Fp,{hulls:O0([ht],qe),fill:"lightgray",duration:0,xDomain:Je,yDomain:vt,width:o,height:l}):null,Ue&&Ue.hull&&!_.ignore_hulls?W.jsx(Fp,{hulls:O0([Ue],qe),fill:"darkgray",strokeWidth:2,duration:0,xDomain:Je,yDomain:vt,width:o,height:l}):null,gt.length&&!_.ignore_hulls?W.jsx(Fp,{hulls:gt,stroke:"black",fill:"none",delay:2e3,duration:200,strokeWidth:1,xDomain:Je,yDomain:vt,width:o,height:l}):null,W.jsx($a,{points:It,stroke:"black",fill:"steelblue",size:"8",xDomain:Je,yDomain:vt,width:o,height:l}),W.jsx($a,{points:cn,fill:"darkred",size:"8",xDomain:Je,yDomain:vt,width:o,height:l}),W.jsx($a,{points:v,symbol:be,size:"20",xDomain:Je,yDomain:vt,width:o,height:l}),W.jsx($a,{points:Mt,stroke:"black",fill:"orange",size:"16",xDomain:Je,yDomain:vt,width:o,height:l})]}):null}),b3()?null:W.jsxs("div",{className:"hovered-point",children:[ht?W.jsxs("span",{children:[W.jsxs("span",{className:"key",children:["Cluster ",ht.index,":"]}),W.jsx("span",{className:"value",children:ht.label})]}):null,Bt&&Object.keys(Bt).map(oe=>W.jsxs("span",{children:[W.jsxs("span",{className:"key",children:[oe,":"]}),W.jsx("span",{className:"value",children:Bt[oe]})]},oe))]})]})]}),W.jsxs("div",{className:"data",children:[W.jsx("div",{className:"tab-header",children:u.map(oe=>W.jsx("button",{onClick:()=>p(oe.id),className:oe.id===d?"tab-active":"tab-inactive",children:oe.name},oe.id))}),d===0?W.jsxs("div",{className:"tab-content",children:[W.jsxs("span",{children:["Selected: ",Pt==null?void 0:Pt.length,(Pt==null?void 0:Pt.length)>0?W.jsx("button",{className:"deselect",onClick:()=>{Ot([]),ge==null||ge.select([]),ge==null||ge.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Pt==null?void 0:Pt.length)>0?W.jsx(zo,{indices:Pt,clusterIndices:P,clusterLabels:Q,tagset:st,dataset:e,maxRows:150,onTagset:oe=>Ft(oe),onHover:Yn,onClick:ir}):null]}):null,d===1?W.jsxs("div",{className:"tab-content",children:[W.jsx("div",{className:"search-box",children:W.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),$e(oe.target.elements.searchBox.value),p(1)},children:[W.jsx("input",{type:"text",id:"searchBox"}),W.jsx("button",{type:"submit",children:"Similarity Search"}),W.jsx("br",{}),W.jsx("label",{htmlFor:"embeddingModel"}),W.jsx("select",{id:"embeddingModel",onChange:oe=>_e(oe.target.value),value:ne,children:Ce.map((oe,Ct)=>W.jsxs("option",{value:oe.id,children:[oe.id," - ",oe.model_id]},Ct))})]})}),W.jsxs("span",{children:[_t.length?W.jsxs("span",{children:["Nearest Neighbors: ",_t.length," (capped at 150) "]}):null,_t.length>0?W.jsx("button",{className:"deselect",onClick:()=>{Te([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),_t.length>0?W.jsx(zo,{indices:_t,distances:qt,clusterIndices:P,clusterLabels:Q,tagset:st,dataset:e,onTagset:oe=>Ft(oe),onHover:Yn,onClick:ir}):null]}):null,d===2?W.jsxs("div",{className:"tab-content",children:[W.jsx("div",{className:"clusters-select",children:W.jsxs("select",{onChange:oe=>{const Ct=Q.find(mn=>mn.index===+oe.target.value);Ct&&nn(Ct)},value:Ue==null?void 0:Ue.index,children:[W.jsx("option",{value:"",children:"Select a cluster"}),Q.map((oe,Ct)=>W.jsxs("option",{value:oe.index,children:[oe.index,": ",oe.label]},Ct))]})}),W.jsxs("div",{className:"cluster-selected",children:[Ue?W.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),ti(Ue.index,gn)},children:[W.jsx("input",{type:"text",id:"new-label",value:gn,onChange:oe=>An(oe.target.value)}),W.jsx("button",{type:"submit",children:"Update Label"})]}):null,W.jsxs("span",{children:[Ue==null?void 0:Ue.indices.length," ",Ue!=null&&Ue.indices.length?"Rows":"",Ue?W.jsx("button",{className:"deselect",onClick:()=>{nn(null)},children:"X"}):null]})]}),W.jsx("div",{className:"cluster-table",children:Ue!=null&&Ue.indices?W.jsx(zo,{indices:Ue==null?void 0:Ue.indices,clusterIndices:P,clusterLabels:Q,dataset:e,tagset:st,onTagset:oe=>Ft(oe),onHover:Yn,onClick:ir}):null})]}):null,d===3?W.jsxs("div",{className:"tab-content",children:[W.jsxs("div",{className:"tags-box",children:[W.jsxs("div",{className:"tags-select",children:["Tags: ",ln.map(oe=>W.jsxs("button",{className:"dataset--tag-link",onClick:()=>{Tt(oe),p(3),ge==null||ge.zoomToPoints(st[oe],{transition:!0,padding:.2,transitionDuration:1500})},children:[oe,"(",st[oe].length,")"]},oe))]}),null]}),W.jsxs("span",{children:[be," ",(ni=st[be])==null?void 0:ni.length,be?W.jsx("button",{className:"deselect",onClick:()=>{Tt(null)},children:"X"}):null]}),st[be]?W.jsx(zo,{indices:st[be],clusterIndices:P,clusterLabels:Q,tagset:st,dataset:e,onTagset:oe=>Ft(oe),onHover:Yn,onClick:ir}):null]}):null]})]}):W.jsx("div",{children:"Loading..."})}const SR="_container_1jm0k_1",TR="_data_1jm0k_12",AR="_controls_1jm0k_33",CR="_summary_1jm0k_39",bR="_heading_1jm0k_49",LR="_scatters_1jm0k_87",RR="_key_1jm0k_101",kR="_value_1jm0k_105",PR="_deselect_1jm0k_245",OR="_cluster_1jm0k_277",er={container:SR,data:TR,"umap-container":"_umap-container_1jm0k_19","tab-tables":"_tab-tables_1jm0k_26",controls:AR,summary:CR,heading:bR,"scope-card":"_scope-card_1jm0k_68","scope-selector":"_scope-selector_1jm0k_73","umap-selectors":"_umap-selectors_1jm0k_77",scatters:LR,"hovered-point":"_hovered-point_1jm0k_95",key:RR,value:kR,"tab-header":"_tab-header_1jm0k_122","tab-active":"_tab-active_1jm0k_151","tab-content":"_tab-content_1jm0k_172","tags-box":"_tags-box_1jm0k_211","new-tag":"_new-tag_1jm0k_219","search-box":"_search-box_1jm0k_235","tab-neighbors":"_tab-neighbors_1jm0k_245",deselect:PR,"slide-bar":"_slide-bar_1jm0k_258",cluster:OR},Mo="https://api.latentscope.com/api",NR=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),MR=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function IR(){const[e,t]=G.useState(null),{dataset:n}=q6();ch();const r=G.useRef(null),[i,a]=o();function o(){const[be,Tt]=G.useState([500,500]);return G.useEffect(()=>{function v(){if(!r.current)return;const{height:ut,width:_t}=r.current.getBoundingClientRect();Tt([_t-15,ut-25])}return window.addEventListener("resize",v),v(),setTimeout(v,100),()=>window.removeEventListener("resize",v)},[]),be}const l=[{id:0,name:"Selected"},{id:1,name:"Search"}],[s,u]=G.useState(0);G.useEffect(()=>{fetch(`${Mo}/datasets/${n}/meta`).then(be=>be.json()).then(be=>{console.log("dataset",be),t(be)})},[n,t]);const[d,p]=G.useState([]),[c,g]=G.useState([]);G.useEffect(()=>{Promise.all([fetch(`${Mo}/datasets/${n}/embeddings`).then(be=>be.json()),fetch(`${Mo}/datasets/${n}/umaps`).then(be=>be.json())]).then(([be,Tt])=>{console.log("embeddings",be),console.log("umaps",Tt),p(be),g(Tt)})},[n,p,g]);const[_,L]=G.useState("left"),[N,y]=G.useState(null),[E,w]=G.useState(null);G.useEffect(()=>{c&&(y(c[0]),w(c[1]))},[c]);const[P,j]=G.useState(null),[Q,ce]=G.useState([]),[ne,We]=G.useState([]);G.useEffect(()=>{if(c&&N&&E&&_){const be=_==="left"?N:E;Promise.all([fetch(`${Mo}/datasets/${n}/umaps/${be.id}`).then(Tt=>Tt.json()),fetch(`${Mo}/datasets/${n}/umaps/${be.id}/points`).then(Tt=>Tt.json())]).then(([Tt,v])=>{j(Tt);const ut=v.map(Te=>[Te.x,Te.y]);ce(ut);const _t=v.map((Te,qt)=>[Te.x,Te.y,qt/ut.length]);We(_t)}).catch(Tt=>console.error("Fetching data failed",Tt))}},[n,_,N,E,c,j,ce,We]);const[Ce,Be]=G.useState(null);G.useEffect(()=>{var be;d&&Be((be=d[0])==null?void 0:be.id)},[d,Be]);const qe=be=>{console.log("selected",be),Be(be)},et=G.useCallback((be,Tt,v=[])=>{fetch(`${Mo}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:be})}).then(ut=>ut.json()).then(ut=>{if(!e)return;let _t=ut.map((Te,qt)=>({index:be[qt],...Te}));Tt(_t)})},[e,n]),[Ge,Vt]=G.useState({}),[gt,pt]=G.useState([-1,1]),[_e,Xe]=G.useState([-1,1]),ge=G.useCallback((be,Tt)=>{pt(be),Xe(Tt)},[pt,Xe]),[Ee,Je]=G.useState([]),Et=G.useCallback(be=>{console.log("handle selected",be),Je(be),u(0)},[Je,u]),[vt,Xt]=G.useState(null),[Jt,Pt]=G.useState(null);G.useEffect(()=>{vt!=null?et([vt],be=>{Pt(be[0])}):Pt(null)},[vt,Pt,et]);const[Ot,on]=G.useState([]);G.useEffect(()=>{vt!=null?on([Q[vt]]):on([])},[vt,Q]);const[Zt,pn]=G.useState([]),[Bt,tn]=G.useState([]),ht=G.useCallback(be=>{fetch(`${Mo}/search/nn?dataset=${n}&query=${be}&embedding_id=${Ce}`).then(Tt=>Tt.json()).then(Tt=>{tn(Tt.distances),pn(Tt.indices),Ge==null||Ge.zoomToPoints(Tt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[Ce,n,Ge,tn,pn]),[xt,Mt]=G.useState([]);G.useEffect(()=>{const be=Zt.map(Tt=>Q[Tt]);Mt(be)},[Zt,Q]);const St=G.useCallback(be=>{Ge==null||Ge.zoomToPoints([be],{transition:!0,padding:.9,transitionDuration:1500})},[Ge]),st=G.useCallback(be=>{Xt(be)},[Xt]),Ft=G.useCallback(be=>{y(c.find(Tt=>Tt.id==be.target.value)),L("left")},[c,y,L]),ln=G.useCallback(be=>{w(c.find(Tt=>Tt.id==be.target.value)),L("right")},[c,w,L]);return e?W.jsxs("div",{className:er.container,children:[W.jsx("div",{className:er.controls,children:W.jsxs("div",{className:er.summary,children:[W.jsxs("div",{className:er["scope-card"],children:[MR()?W.jsx("i",{children:"Use a desktop browser for full interactivity!"}):null,W.jsxs("div",{className:er.heading,children:[W.jsx("b",{children:n}),W.jsxs("span",{children:[e==null?void 0:e.length," rows"]}),null]})]}),W.jsxs("div",{className:er["umap-selectors"],children:[W.jsx("select",{name:"left",onChange:Ft,children:c.map((be,Tt)=>{let v=d.find(ut=>be.embedding_id==ut.id);return W.jsxs("option",{value:be.id,selected:be.id==(N==null?void 0:N.id),children:[be.embedding_id," - ",be.id," - ",v==null?void 0:v.model_id," [",v==null?void 0:v.dimensions,"]"]},Tt)})}),W.jsxs("div",{children:[W.jsxs("label",{children:["",W.jsx("input",{type:"radio",value:"left",name:"direction",checked:_==="left",onChange:()=>L("left")})]}),W.jsxs("label",{children:[W.jsx("input",{type:"radio",value:"right",name:"direction",checked:_==="right",onChange:()=>L("right")})," "]})]}),W.jsx("select",{name:"right",onChange:ln,children:c.map((be,Tt)=>{let v=d.find(ut=>be.embedding_id==ut.id);return W.jsxs("option",{value:be.id,selected:be.id==(E==null?void 0:E.id),children:[be.embedding_id," - ",be.id," - ",v==null?void 0:v.model_id," [",v==null?void 0:v.dimensions,"]"]},Tt)})})]})]})}),W.jsx("div",{ref:r,className:er["umap-container"],children:W.jsx("div",{className:er.scatters,style:{width:i,height:a},children:Q.length?W.jsxs(W.Fragment,{children:[NR()?W.jsx($a,{points:Q,fill:"gray",size:"8",xDomain:gt,yDomain:_e,width:i,height:a}):W.jsx(p2,{points:ne,duration:2e3,pointScale:1.5,width:i,height:a,onScatter:Vt,onView:ge,onSelect:Et,onHover:st}),W.jsx($a,{points:xt,stroke:"black",fill:"steelblue",size:"8",xDomain:gt,yDomain:_e,width:i,height:a}),W.jsx($a,{points:Ot,stroke:"black",fill:"orange",size:"16",xDomain:gt,yDomain:_e,width:i,height:a})]}):null})}),W.jsxs("div",{className:er.data,children:[W.jsx("div",{className:er["tab-header"],children:l.map(be=>W.jsx("button",{onClick:()=>u(be.id),className:be.id===s?er["tab-active"]:er["tab-inactive"],children:be.name},be.id))}),s===0?W.jsxs("div",{className:er["tab-content"],children:[W.jsxs("span",{children:["Selected: ",Ee==null?void 0:Ee.length,(Ee==null?void 0:Ee.length)>0?W.jsx("button",{className:er.deselect,onClick:()=>{Je([]),Ge==null||Ge.select([]),Ge==null||Ge.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Ee==null?void 0:Ee.length)>0?W.jsx(zo,{indices:Ee,dataset:e,maxRows:150,onHover:st,onClick:St}):null]}):null,s===1?W.jsxs("div",{className:er["tab-content"],children:[W.jsx("div",{className:er["search-box"],children:W.jsxs("form",{onSubmit:be=>{be.preventDefault(),ht(be.target.elements.searchBox.value),u(1)},children:[W.jsx("input",{type:"text",id:"searchBox"}),W.jsx("button",{type:"submit",children:"Similarity Search"}),W.jsx("br",{}),W.jsx("label",{htmlFor:"embeddingModel"}),W.jsx("select",{id:"embeddingModel",onChange:be=>qe(be.target.value),value:Ce,children:d.map((be,Tt)=>W.jsxs("option",{value:be.id,children:[be.id," - ",be.model_id," - ",be.dimensions]},Tt))})]})}),W.jsxs("span",{children:[Zt.length?W.jsxs("span",{children:["Nearest Neighbors: ",Zt.length," (capped at 150) "]}):null,Zt.length>0?W.jsx("button",{className:er.deselect,onClick:()=>{pn([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Zt.length>0?W.jsx(zo,{indices:Zt,distances:Bt,dataset:e,onHover:st,onClick:St}):null]}):null]})]}):W.jsx("div",{children:"Loading..."})}Ke.shape({id:Ke.string.isRequired}).isRequired,Ke.string.isRequired,Ke.object,Ke.array,Ke.array,Ke.func.isRequired,Ke.func.isRequired;Ke.shape({id:Ke.string.isRequired}).isRequired,Ke.object,Ke.object,Ke.array.isRequired,Ke.array.isRequired,Ke.func.isRequired,Ke.func.isRequired;Ke.shape({id:Ke.string.isRequired}).isRequired,Ke.object,Ke.object,Ke.array,Ke.func.isRequired,Ke.func.isRequired;Ke.shape({id:Ke.string.isRequired}).isRequired,Ke.object,Ke.string,Ke.func.isRequired,Ke.func,Ke.func,Ke.func,Ke.func;Ke.shape({id:Ke.string.isRequired}).isRequired,Ke.object,Ke.object,Ke.object,Ke.object,Ke.string,Ke.func.isRequired,Ke.func.isRequired;const DR=()=>W.jsx("nav",{children:W.jsx("ul",{children:W.jsx("li",{children:W.jsx(J6,{to:"/",children:"Latent Scope"})})})});var FR={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const y8=FR;console.log("ENV",y8);function BR(){return W.jsxs(__,{basename:y8.BASE_NAME,children:[W.jsx(DR,{}),W.jsx("div",{className:"page",children:W.jsxs(p_,{children:[W.jsx(H0,{path:"/",element:W.jsx(R_,{})}),W.jsx(H0,{path:"/datasets/:dataset/explore/:scope",element:W.jsx(ER,{})}),W.jsx(H0,{path:"/datasets/:dataset/compare/",element:W.jsx(IR,{})}),null,null,null,null]})})]})}Bp.createRoot(document.getElementById("root")).render(W.jsx(F3.StrictMode,{children:W.jsx(BR,{})}));
