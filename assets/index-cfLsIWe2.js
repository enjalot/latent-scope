function PS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G1={exports:{}},Kd={},z1={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Symbol.for("react.element"),NS=Symbol.for("react.portal"),IS=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),BS=Symbol.for("react.context"),jS=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),zS=Symbol.for("react.lazy"),Fg=Symbol.iterator;function US(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V1=Object.assign,H1={};function rs(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||U1}rs.prototype.isReactComponent={};rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W1(){}W1.prototype=rs.prototype;function j0(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||U1}var $0=j0.prototype=new W1;$0.constructor=j0;V1($0,rs.prototype);$0.isPureReactComponent=!0;var Bg=Array.isArray,X1=Object.prototype.hasOwnProperty,G0={current:null},Y1={key:!0,ref:!0,__self:!0,__source:!0};function Q1(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)X1.call(t,r)&&!Y1.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qu,type:e,key:o,ref:a,props:i,_owner:G0.current}}function VS(e,t){return{$$typeof:qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===qu}function HS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jg=/\/+/g;function jm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HS(""+e.key):t.toString(36)}function Kf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qu:case NS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+jm(a,0):r,Bg(i)?(n="",e!=null&&(n=e.replace(jg,"$&/")+"/"),Kf(i,t,n,"",function(f){return f})):i!=null&&(z0(i)&&(i=VS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jg,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Bg(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+jm(o,l);a+=Kf(o,t,n,u,i)}else if(u=US(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+jm(o,l++),a+=Kf(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Tf(e,t,n){if(e==null)return e;var r=[],i=0;return Kf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function WS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lr={current:null},qf={transition:null},XS={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:qf,ReactCurrentOwner:G0};zt.Children={map:Tf,forEach:function(e,t,n){Tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tf(e,function(){t++}),t},toArray:function(e){return Tf(e,function(t){return t})||[]},only:function(e){if(!z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=rs;zt.Fragment=IS;zt.Profiler=DS;zt.PureComponent=j0;zt.StrictMode=MS;zt.Suspense=$S;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=V1({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=G0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)X1.call(t,u)&&!Y1.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:qu,type:e.type,key:i,ref:o,props:r,_owner:a}};zt.createContext=function(e){return e={$$typeof:BS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FS,_context:e},e.Consumer=e};zt.createElement=Q1;zt.createFactory=function(e){var t=Q1.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:jS,render:e}};zt.isValidElement=z0;zt.lazy=function(e){return{$$typeof:zS,_payload:{_status:-1,_result:e},_init:WS}};zt.memo=function(e,t){return{$$typeof:GS,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=qf.transition;qf.transition={};try{e()}finally{qf.transition=t}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(e,t){return lr.current.useCallback(e,t)};zt.useContext=function(e){return lr.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return lr.current.useDeferredValue(e)};zt.useEffect=function(e,t){return lr.current.useEffect(e,t)};zt.useId=function(){return lr.current.useId()};zt.useImperativeHandle=function(e,t,n){return lr.current.useImperativeHandle(e,t,n)};zt.useInsertionEffect=function(e,t){return lr.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return lr.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return lr.current.useMemo(e,t)};zt.useReducer=function(e,t,n){return lr.current.useReducer(e,t,n)};zt.useRef=function(e){return lr.current.useRef(e)};zt.useState=function(e){return lr.current.useState(e)};zt.useSyncExternalStore=function(e,t,n){return lr.current.useSyncExternalStore(e,t,n)};zt.useTransition=function(){return lr.current.useTransition()};zt.version="18.2.0";z1.exports=zt;var ne=z1.exports;const K1=B0(ne),YS=PS({__proto__:null,default:K1},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=ne,KS=Symbol.for("react.element"),qS=Symbol.for("react.fragment"),ZS=Object.prototype.hasOwnProperty,JS=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function q1(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ZS.call(t,r)&&!ew.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:KS,type:e,key:o,ref:a,props:i,_owner:JS.current}}Kd.Fragment=qS;Kd.jsx=q1;Kd.jsxs=q1;G1.exports=Kd;var ie=G1.exports,Np={},Z1={exports:{}},kr={},J1={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,Ge){var Ue=xe.length;xe.push(Ge);e:for(;0<Ue;){var Ce=Ue-1>>>1,Qe=xe[Ce];if(0<i(Qe,Ge))xe[Ce]=Ge,xe[Ue]=Qe,Ue=Ce;else break e}}function n(xe){return xe.length===0?null:xe[0]}function r(xe){if(xe.length===0)return null;var Ge=xe[0],Ue=xe.pop();if(Ue!==Ge){xe[0]=Ue;e:for(var Ce=0,Qe=xe.length,Et=Qe>>>1;Ce<Et;){var Ut=2*(Ce+1)-1,Dt=xe[Ut],Kt=Ut+1,Wt=xe[Kt];if(0>i(Dt,Ue))Kt<Qe&&0>i(Wt,Dt)?(xe[Ce]=Wt,xe[Kt]=Ue,Ce=Kt):(xe[Ce]=Dt,xe[Ut]=Ue,Ce=Ut);else if(Kt<Qe&&0>i(Wt,Ue))xe[Ce]=Wt,xe[Kt]=Ue,Ce=Kt;else break e}}return Ge}function i(xe,Ge){var Ue=xe.sortIndex-Ge.sortIndex;return Ue!==0?Ue:xe.id-Ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],h=1,m=null,p=3,R=!1,O=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(xe){for(var Ge=n(f);Ge!==null;){if(Ge.callback===null)r(f);else if(Ge.startTime<=xe)r(f),Ge.sortIndex=Ge.expirationTime,t(u,Ge);else break;Ge=n(f)}}function U(xe){if(k=!1,A(xe),!O)if(n(u)!==null)O=!0,wt(X);else{var Ge=n(f);Ge!==null&&dt(U,Ge.startTime-xe)}}function X(xe,Ge){O=!1,k&&(k=!1,x(ue),ue=-1),R=!0;var Ue=p;try{for(A(Ge),m=n(u);m!==null&&(!(m.expirationTime>Ge)||xe&&!ze());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,p=m.priorityLevel;var Qe=Ce(m.expirationTime<=Ge);Ge=e.unstable_now(),typeof Qe=="function"?m.callback=Qe:m===n(u)&&r(u),A(Ge)}else r(u);m=n(u)}if(m!==null)var Et=!0;else{var Ut=n(f);Ut!==null&&dt(U,Ut.startTime-Ge),Et=!1}return Et}finally{m=null,p=Ue,R=!1}}var le=!1,Ae=null,ue=-1,ft=5,Me=-1;function ze(){return!(e.unstable_now()-Me<ft)}function Je(){if(Ae!==null){var xe=e.unstable_now();Me=xe;var Ge=!0;try{Ge=Ae(!0,xe)}finally{Ge?et():(le=!1,Ae=null)}}else le=!1}var et;if(typeof S=="function")et=function(){S(Je)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,nt=Xe.port2;Xe.port1.onmessage=Je,et=function(){nt.postMessage(null)}}else et=function(){B(Je,0)};function wt(xe){Ae=xe,le||(le=!0,et())}function dt(xe,Ge){ue=B(function(){xe(e.unstable_now())},Ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){O||R||(O=!0,wt(X))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(xe){switch(p){case 1:case 2:case 3:var Ge=3;break;default:Ge=p}var Ue=p;p=Ge;try{return xe()}finally{p=Ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Ge){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Ue=p;p=xe;try{return Ge()}finally{p=Ue}},e.unstable_scheduleCallback=function(xe,Ge,Ue){var Ce=e.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?Ce+Ue:Ce):Ue=Ce,xe){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Ue+Qe,xe={id:h++,callback:Ge,priorityLevel:xe,startTime:Ue,expirationTime:Qe,sortIndex:-1},Ue>Ce?(xe.sortIndex=Ue,t(f,xe),n(u)===null&&xe===n(f)&&(k?(x(ue),ue=-1):k=!0,dt(U,Ue-Ce))):(xe.sortIndex=Qe,t(u,xe),O||R||(O=!0,wt(X))),xe},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(xe){var Ge=p;return function(){var Ue=p;p=Ge;try{return xe.apply(this,arguments)}finally{p=Ue}}}})(ex);J1.exports=ex;var tw=J1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=ne,Pr=tw;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,Ru={};function ja(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Ru[e]=t,e=0;e<t.length;e++)nx.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},Gg={};function rw(e){return Ip.call(Gg,e)?!0:Ip.call($g,e)?!1:nw.test(e)?Gg[e]=!0:($g[e]=!0,!1)}function iw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ow(e,t,n,r){if(t===null||typeof t>"u"||iw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kn[e]=new sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kn[t]=new sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kn[e]=new sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kn[e]=new sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kn[e]=new sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kn[e]=new sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kn[e]=new sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kn[e]=new sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kn[e]=new sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U0,V0);Kn[t]=new sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U0,V0);Kn[t]=new sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U0,V0);Kn[t]=new sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kn[e]=new sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kn[e]=new sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function H0(e,t,n,r){var i=Kn.hasOwnProperty(t)?Kn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ow(t,n,i,r)&&(n=null),r||i===null?rw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yi=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),zg=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=zg&&e[zg]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Object.assign,$m;function pu(e){if($m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$m=t&&t[1]||""}return`
`+$m+e}var Gm=!1;function zm(e,t){if(!e||Gm)return"";Gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Gm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pu(e):""}function aw(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=zm(e.type,!1),e;case 11:return e=zm(e.type.render,!1),e;case 1:return e=zm(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ll:return"Fragment";case bl:return"Portal";case Mp:return"Profiler";case W0:return"StrictMode";case Dp:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ix:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case X0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y0:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case To:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function lw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===W0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sw(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cf(e){e._valueTracker||(e._valueTracker=sw(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ax(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ug(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Go(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sx(e,t){t=t.checked,t!=null&&H0(e,"checked",t,!1)}function $p(e,t){sx(e,t);var n=Go(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gp(e,t,n){(t!=="number"||fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vu=Array.isArray;function $l(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Go(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(vu(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Go(n)}}function ux(e,t){var n=Go(t.value),r=Go(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bf,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){uw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function dx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function hx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var cw=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Gl=null,zl=null;function Xg(e){if(e=ec(e)){if(typeof Xp!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=th(t),Xp(e.stateNode,e.type,t))}}function mx(e){Gl?zl?zl.push(e):zl=[e]:Gl=e}function px(){if(Gl){var e=Gl,t=zl;if(zl=Gl=null,Xg(e),t)for(e=0;e<t.length;e++)Xg(t[e])}}function vx(e,t){return e(t)}function gx(){}var Um=!1;function yx(e,t,n){if(Um)return e(t,n);Um=!0;try{return vx(e,t,n)}finally{Um=!1,(Gl!==null||zl!==null)&&(gx(),px())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=th(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var Yp=!1;if(Vi)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Yp=!1}function fw(e,t,n,r,i,o,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(h){this.onError(h)}}var _u=!1,dd=null,hd=!1,Qp=null,dw={onError:function(e){_u=!0,dd=e}};function hw(e,t,n,r,i,o,a,l,u){_u=!1,dd=null,fw.apply(dw,arguments)}function mw(e,t,n,r,i,o,a,l,u){if(hw.apply(this,arguments),_u){if(_u){var f=dd;_u=!1,dd=null}else throw Error(Oe(198));hd||(hd=!0,Qp=f)}}function $a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yg(e){if($a(e)!==e)throw Error(Oe(188))}function pw(e){var t=e.alternate;if(!t){if(t=$a(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yg(i),e;if(o===r)return Yg(i),t;o=o.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function Ex(e){return e=pw(e),e!==null?_x(e):null}function _x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_x(e);if(t!==null)return t;e=e.sibling}return null}var Sx=Pr.unstable_scheduleCallback,Qg=Pr.unstable_cancelCallback,vw=Pr.unstable_shouldYield,gw=Pr.unstable_requestPaint,On=Pr.unstable_now,yw=Pr.unstable_getCurrentPriorityLevel,K0=Pr.unstable_ImmediatePriority,wx=Pr.unstable_UserBlockingPriority,md=Pr.unstable_NormalPriority,xw=Pr.unstable_LowPriority,Tx=Pr.unstable_IdlePriority,qd=null,_i=null;function Ew(e){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(qd,e,void 0,(e.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:ww,_w=Math.log,Sw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(_w(e)/Sw|0)|0}var Lf=64,Rf=4194304;function gu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=gu(l):(o&=a,o!==0&&(r=gu(o)))}else a=n&~i,a!==0?r=gu(a):o!==0&&(r=gu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ti(t),i=1<<n,r|=e[n],t&=~i;return r}function Tw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ti(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=Tw(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ax(){var e=Lf;return Lf<<=1,!(Lf&4194240)&&(Lf=64),e}function Vm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ti(t),e[t]=n}function Cw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ti(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ti(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tn=0;function Cx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bx,Z0,Lx,Rx,Ox,qp=!1,Of=[],ko=null,No=null,Io=null,ku=new Map,Nu=new Map,Co=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(t.pointerId)}}function au(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ec(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lw(e,t,n,r,i){switch(t){case"focusin":return ko=au(ko,e,t,n,r,i),!0;case"dragenter":return No=au(No,e,t,n,r,i),!0;case"mouseover":return Io=au(Io,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ku.set(o,au(ku.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nu.set(o,au(Nu.get(o)||null,e,t,n,r,i)),!0}return!1}function Px(e){var t=wa(e.target);if(t!==null){var n=$a(t);if(n!==null){if(t=n.tag,t===13){if(t=xx(n),t!==null){e.blockedOn=t,Ox(e.priority,function(){Lx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return t=ec(n),t!==null&&Z0(t),e.blockedOn=n,!1;t.shift()}return!0}function qg(e,t,n){Zf(e)&&n.delete(t)}function Rw(){qp=!1,ko!==null&&Zf(ko)&&(ko=null),No!==null&&Zf(No)&&(No=null),Io!==null&&Zf(Io)&&(Io=null),ku.forEach(qg),Nu.forEach(qg)}function lu(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,Rw)))}function Iu(e){function t(i){return lu(i,e)}if(0<Of.length){lu(Of[0],e);for(var n=1;n<Of.length;n++){var r=Of[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ko!==null&&lu(ko,e),No!==null&&lu(No,e),Io!==null&&lu(Io,e),ku.forEach(t),Nu.forEach(t),n=0;n<Co.length;n++)r=Co[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Co.length&&(n=Co[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&Co.shift()}var Ul=Yi.ReactCurrentBatchConfig,vd=!0;function Ow(e,t,n,r){var i=tn,o=Ul.transition;Ul.transition=null;try{tn=1,J0(e,t,n,r)}finally{tn=i,Ul.transition=o}}function Pw(e,t,n,r){var i=tn,o=Ul.transition;Ul.transition=null;try{tn=4,J0(e,t,n,r)}finally{tn=i,Ul.transition=o}}function J0(e,t,n,r){if(vd){var i=Zp(e,t,n,r);if(i===null)ep(e,t,r,gd,n),Kg(e,r);else if(Lw(i,e,t,n,r))r.stopPropagation();else if(Kg(e,r),t&4&&-1<bw.indexOf(e)){for(;i!==null;){var o=ec(i);if(o!==null&&bx(o),o=Zp(e,t,n,r),o===null&&ep(e,t,r,gd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ep(e,t,r,null,n)}}var gd=null;function Zp(e,t,n,r){if(gd=null,e=Q0(r),e=wa(e),e!==null)if(t=$a(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gd=e,null}function kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yw()){case K0:return 1;case wx:return 4;case md:case xw:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var Lo=null,ev=null,Jf=null;function Nx(){if(Jf)return Jf;var e,t=ev,n=t.length,r,i="value"in Lo?Lo.value:Lo.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Jf=i.slice(e,1<r?1-r:void 0)}function ed(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pf(){return!0}function Zg(){return!1}function Nr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pf:Zg,this.isPropagationStopped=Zg,this}return gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=Nr(is),Ju=gn({},is,{view:0,detail:0}),kw=Nr(Ju),Hm,Wm,su,Zd=gn({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==su&&(su&&e.type==="mousemove"?(Hm=e.screenX-su.screenX,Wm=e.screenY-su.screenY):Wm=Hm=0,su=e),Hm)},movementY:function(e){return"movementY"in e?e.movementY:Wm}}),Jg=Nr(Zd),Nw=gn({},Zd,{dataTransfer:0}),Iw=Nr(Nw),Mw=gn({},Ju,{relatedTarget:0}),Xm=Nr(Mw),Dw=gn({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=Nr(Dw),Bw=gn({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jw=Nr(Bw),$w=gn({},is,{data:0}),ey=Nr($w),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uw[e])?!!t[e]:!1}function nv(){return Vw}var Hw=gn({},Ju,{key:function(e){if(e.key){var t=Gw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ed(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return e.type==="keypress"?ed(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ed(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=Nr(Hw),Xw=gn({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=Nr(Xw),Yw=gn({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),Qw=Nr(Yw),Kw=gn({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=Nr(Kw),Zw=gn({},Zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=Nr(Zw),eT=[9,13,27,32],rv=Vi&&"CompositionEvent"in window,Su=null;Vi&&"documentMode"in document&&(Su=document.documentMode);var tT=Vi&&"TextEvent"in window&&!Su,Ix=Vi&&(!rv||Su&&8<Su&&11>=Su),ny=" ",ry=!1;function Mx(e,t){switch(e){case"keyup":return eT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function nT(e,t){switch(e){case"compositionend":return Dx(t);case"keypress":return t.which!==32?null:(ry=!0,ny);case"textInput":return e=t.data,e===ny&&ry?null:e;default:return null}}function rT(e,t){if(Rl)return e==="compositionend"||!rv&&Mx(e,t)?(e=Nx(),Jf=ev=Lo=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ix&&t.locale!=="ko"?null:t.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iT[e.type]:t==="textarea"}function Fx(e,t,n,r){mx(r),t=yd(t,"onChange"),0<t.length&&(n=new tv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wu=null,Mu=null;function oT(e){Yx(e,0)}function Jd(e){var t=kl(e);if(lx(t))return e}function aT(e,t){if(e==="change")return t}var Bx=!1;if(Vi){var Ym;if(Vi){var Qm="oninput"in document;if(!Qm){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Qm=typeof oy.oninput=="function"}Ym=Qm}else Ym=!1;Bx=Ym&&(!document.documentMode||9<document.documentMode)}function ay(){wu&&(wu.detachEvent("onpropertychange",jx),Mu=wu=null)}function jx(e){if(e.propertyName==="value"&&Jd(Mu)){var t=[];Fx(t,Mu,e,Q0(e)),yx(oT,t)}}function lT(e,t,n){e==="focusin"?(ay(),wu=t,Mu=n,wu.attachEvent("onpropertychange",jx)):e==="focusout"&&ay()}function sT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jd(Mu)}function uT(e,t){if(e==="click")return Jd(t)}function cT(e,t){if(e==="input"||e==="change")return Jd(t)}function fT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:fT;function Du(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(t,i)||!ri(e[i],t[i]))return!1}return!0}function ly(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sy(e,t){var n=ly(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ly(n)}}function $x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dT(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$x(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sy(n,o);var a=sy(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hT=Vi&&"documentMode"in document&&11>=document.documentMode,Ol=null,Jp=null,Tu=null,e0=!1;function uy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||Ol==null||Ol!==fd(r)||(r=Ol,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Du(Tu,r)||(Tu=r,r=yd(Jp,"onSelect"),0<r.length&&(t=new tv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ol)))}function kf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pl={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},Km={},zx={};Vi&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function eh(e){if(Km[e])return Km[e];if(!Pl[e])return e;var t=Pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zx)return Km[e]=t[n];return e}var Ux=eh("animationend"),Vx=eh("animationiteration"),Hx=eh("animationstart"),Wx=eh("transitionend"),Xx=new Map,cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(e,t){Xx.set(e,t),ja(t,[e])}for(var qm=0;qm<cy.length;qm++){var Zm=cy[qm],mT=Zm.toLowerCase(),pT=Zm[0].toUpperCase()+Zm.slice(1);Vo(mT,"on"+pT)}Vo(Ux,"onAnimationEnd");Vo(Vx,"onAnimationIteration");Vo(Hx,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(Wx,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function fy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mw(r,t,void 0,e),e.currentTarget=null}function Yx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;fy(i,l,f),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;fy(i,l,f),o=u}}}if(hd)throw e=Qp,hd=!1,Qp=null,e}function un(e,t){var n=t[o0];n===void 0&&(n=t[o0]=new Set);var r=e+"__bubble";n.has(r)||(Qx(t,e,2,!1),n.add(r))}function Jm(e,t,n){var r=0;t&&(r|=4),Qx(n,e,r,t)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Nf]){e[Nf]=!0,nx.forEach(function(n){n!=="selectionchange"&&(vT.has(n)||Jm(n,!1,e),Jm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nf]||(t[Nf]=!0,Jm("selectionchange",!1,t))}}function Qx(e,t,n,r){switch(kx(t)){case 1:var i=Ow;break;case 4:i=Pw;break;default:i=J0}n=i.bind(null,t,n,e),i=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ep(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=wa(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}yx(function(){var f=o,h=Q0(n),m=[];e:{var p=Xx.get(e);if(p!==void 0){var R=tv,O=e;switch(e){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":R=Ww;break;case"focusin":O="focus",R=Xm;break;case"focusout":O="blur",R=Xm;break;case"beforeblur":case"afterblur":R=Xm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Qw;break;case Ux:case Vx:case Hx:R=Fw;break;case Wx:R=qw;break;case"scroll":R=kw;break;case"wheel":R=Jw;break;case"copy":case"cut":case"paste":R=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=ty}var k=(t&4)!==0,B=!k&&e==="scroll",x=k?p!==null?p+"Capture":null:p;k=[];for(var S=f,A;S!==null;){A=S;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,x!==null&&(U=Pu(S,x),U!=null&&k.push(Bu(S,U,A)))),B)break;S=S.return}0<k.length&&(p=new R(p,O,null,n,h),m.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",p&&n!==Wp&&(O=n.relatedTarget||n.fromElement)&&(wa(O)||O[Hi]))break e;if((R||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,R?(O=n.relatedTarget||n.toElement,R=f,O=O?wa(O):null,O!==null&&(B=$a(O),O!==B||O.tag!==5&&O.tag!==6)&&(O=null)):(R=null,O=f),R!==O)){if(k=Jg,U="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(k=ty,U="onPointerLeave",x="onPointerEnter",S="pointer"),B=R==null?p:kl(R),A=O==null?p:kl(O),p=new k(U,S+"leave",R,n,h),p.target=B,p.relatedTarget=A,U=null,wa(h)===f&&(k=new k(x,S+"enter",O,n,h),k.target=A,k.relatedTarget=B,U=k),B=U,R&&O)t:{for(k=R,x=O,S=0,A=k;A;A=Tl(A))S++;for(A=0,U=x;U;U=Tl(U))A++;for(;0<S-A;)k=Tl(k),S--;for(;0<A-S;)x=Tl(x),A--;for(;S--;){if(k===x||x!==null&&k===x.alternate)break t;k=Tl(k),x=Tl(x)}k=null}else k=null;R!==null&&dy(m,p,R,k,!1),O!==null&&B!==null&&dy(m,B,O,k,!0)}}e:{if(p=f?kl(f):window,R=p.nodeName&&p.nodeName.toLowerCase(),R==="select"||R==="input"&&p.type==="file")var X=aT;else if(iy(p))if(Bx)X=cT;else{X=sT;var le=lT}else(R=p.nodeName)&&R.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(X=uT);if(X&&(X=X(e,f))){Fx(m,X,n,h);break e}le&&le(e,p,f),e==="focusout"&&(le=p._wrapperState)&&le.controlled&&p.type==="number"&&Gp(p,"number",p.value)}switch(le=f?kl(f):window,e){case"focusin":(iy(le)||le.contentEditable==="true")&&(Ol=le,Jp=f,Tu=null);break;case"focusout":Tu=Jp=Ol=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,uy(m,n,h);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":uy(m,n,h)}var Ae;if(rv)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Rl?Mx(e,n)&&(ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ue="onCompositionStart");ue&&(Ix&&n.locale!=="ko"&&(Rl||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Rl&&(Ae=Nx()):(Lo=h,ev="value"in Lo?Lo.value:Lo.textContent,Rl=!0)),le=yd(f,ue),0<le.length&&(ue=new ey(ue,e,null,n,h),m.push({event:ue,listeners:le}),Ae?ue.data=Ae:(Ae=Dx(n),Ae!==null&&(ue.data=Ae)))),(Ae=tT?nT(e,n):rT(e,n))&&(f=yd(f,"onBeforeInput"),0<f.length&&(h=new ey("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:f}),h.data=Ae))}Yx(m,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pu(e,n),o!=null&&r.unshift(Bu(e,o,i)),o=Pu(e,t),o!=null&&r.push(Bu(e,o,i))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dy(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=Pu(n,o),u!=null&&a.unshift(Bu(n,u,l))):i||(u=Pu(n,o),u!=null&&a.push(Bu(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(gT,`
`).replace(yT,"")}function If(e,t,n){if(t=hy(t),hy(e)!==t&&n)throw Error(Oe(425))}function xd(){}var t0=null,n0=null;function r0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(_T)}:i0;function _T(e){setTimeout(function(){throw e})}function tp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Iu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function py(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),Ei="__reactFiber$"+os,ju="__reactProps$"+os,Hi="__reactContainer$"+os,o0="__reactEvents$"+os,ST="__reactListeners$"+os,wT="__reactHandles$"+os;function wa(e){var t=e[Ei];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hi]||n[Ei]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=py(e);e!==null;){if(n=e[Ei])return n;e=py(e)}return t}e=n,n=e.parentNode}return null}function ec(e){return e=e[Ei]||e[Hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function th(e){return e[ju]||null}var a0=[],Nl=-1;function Ho(e){return{current:e}}function cn(e){0>Nl||(e.current=a0[Nl],a0[Nl]=null,Nl--)}function ln(e,t){Nl++,a0[Nl]=e.current,e.current=t}var zo={},tr=Ho(zo),vr=Ho(!1),Pa=zo;function Ql(e,t){var n=e.type.contextTypes;if(!n)return zo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gr(e){return e=e.childContextTypes,e!=null}function Ed(){cn(vr),cn(tr)}function vy(e,t,n){if(tr.current!==zo)throw Error(Oe(168));ln(tr,t),ln(vr,n)}function Kx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,lw(e)||"Unknown",i));return gn({},n,r)}function _d(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zo,Pa=tr.current,ln(tr,e),ln(vr,vr.current),!0}function gy(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=Kx(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,cn(vr),cn(tr),ln(tr,e)):cn(vr),ln(vr,n)}var $i=null,nh=!1,np=!1;function qx(e){$i===null?$i=[e]:$i.push(e)}function TT(e){nh=!0,qx(e)}function Wo(){if(!np&&$i!==null){np=!0;var e=0,t=tn;try{var n=$i;for(tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$i=null,nh=!1}catch(i){throw $i!==null&&($i=$i.slice(e+1)),Sx(K0,Wo),i}finally{tn=t,np=!1}}return null}var Il=[],Ml=0,Sd=null,wd=0,$r=[],Gr=0,ka=null,Gi=1,zi="";function _a(e,t){Il[Ml++]=wd,Il[Ml++]=Sd,Sd=e,wd=t}function Zx(e,t,n){$r[Gr++]=Gi,$r[Gr++]=zi,$r[Gr++]=ka,ka=e;var r=Gi;e=zi;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var o=32-ti(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gi=1<<32-ti(t)+i|n<<i|r,zi=o+e}else Gi=1<<o|n<<i|r,zi=e}function ov(e){e.return!==null&&(_a(e,1),Zx(e,1,0))}function av(e){for(;e===Sd;)Sd=Il[--Ml],Il[Ml]=null,wd=Il[--Ml],Il[Ml]=null;for(;e===ka;)ka=$r[--Gr],$r[Gr]=null,zi=$r[--Gr],$r[Gr]=null,Gi=$r[--Gr],$r[Gr]=null}var Or=null,Rr=null,fn=!1,Jr=null;function Jx(e,t){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Or=e,Rr=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Or=e,Rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ka!==null?{id:Gi,overflow:zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Or=e,Rr=null,!0):!1;default:return!1}}function l0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s0(e){if(fn){var t=Rr;if(t){var n=t;if(!yy(e,t)){if(l0(e))throw Error(Oe(418));t=Mo(n.nextSibling);var r=Or;t&&yy(e,t)?Jx(r,n):(e.flags=e.flags&-4097|2,fn=!1,Or=e)}}else{if(l0(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,fn=!1,Or=e}}}function xy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Or=e}function Mf(e){if(e!==Or)return!1;if(!fn)return xy(e),fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r0(e.type,e.memoizedProps)),t&&(t=Rr)){if(l0(e))throw eE(),Error(Oe(418));for(;t;)Jx(e,t),t=Mo(t.nextSibling)}if(xy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rr=Mo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rr=null}}else Rr=Or?Mo(e.stateNode.nextSibling):null;return!0}function eE(){for(var e=Rr;e;)e=Mo(e.nextSibling)}function Kl(){Rr=Or=null,fn=!1}function lv(e){Jr===null?Jr=[e]:Jr.push(e)}var AT=Yi.ReactCurrentBatchConfig;function qr(e,t){if(e&&e.defaultProps){t=gn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Td=Ho(null),Ad=null,Dl=null,sv=null;function uv(){sv=Dl=Ad=null}function cv(e){var t=Td.current;cn(Td),e._currentValue=t}function u0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vl(e,t){Ad=e,sv=Dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pr=!0),e.firstContext=null)}function Vr(e){var t=e._currentValue;if(sv!==e)if(e={context:e,memoizedValue:t,next:null},Dl===null){if(Ad===null)throw Error(Oe(308));Dl=e,Ad.dependencies={lanes:0,firstContext:e}}else Dl=Dl.next=e;return t}var Ta=null;function fv(e){Ta===null?Ta=[e]:Ta.push(e)}function tE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wi(e,r)}function Wi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ao=!1;function dv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wi(e,n)}return i=r.interleaved,i===null?(t.next=t,fv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wi(e,n)}function td(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}function Ey(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cd(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?o=f:a.next=f,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;a=0,h=f=u=null,l=o;do{var p=l.lane,R=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var O=e,k=l;switch(p=t,R=n,k.tag){case 1:if(O=k.payload,typeof O=="function"){m=O.call(R,m,p);break e}m=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=k.payload,p=typeof O=="function"?O.call(R,m,p):O,p==null)break e;m=gn({},m,p);break e;case 2:Ao=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else R={eventTime:R,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=R,u=m):h=h.next=R,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ia|=a,e.lanes=a,e.memoizedState=m}}function _y(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var rE=new tx.Component().refs;function c0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rh={isMounted:function(e){return(e=e._reactInternals)?$a(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ar(),i=Bo(e),o=Ui(r,i);o.payload=t,n!=null&&(o.callback=n),t=Do(e,o,i),t!==null&&(ni(t,e,i,r),td(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ar(),i=Bo(e),o=Ui(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Do(e,o,i),t!==null&&(ni(t,e,i,r),td(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ar(),r=Bo(e),i=Ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=Do(e,i,r),t!==null&&(ni(t,e,r,n),td(t,e,r))}};function Sy(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Du(n,r)||!Du(i,o):!0}function iE(e,t,n){var r=!1,i=zo,o=t.contextType;return typeof o=="object"&&o!==null?o=Vr(o):(i=gr(t)?Pa:tr.current,r=t.contextTypes,o=(r=r!=null)?Ql(e,i):zo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rh.enqueueReplaceState(t,t.state,null)}function f0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rE,dv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Vr(o):(o=gr(t)?Pa:tr.current,i.context=Ql(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(c0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rh.enqueueReplaceState(i,i.state,null),Cd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===rE&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function Df(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ty(e){var t=e._init;return t(e._payload)}function oE(e){function t(x,S){if(e){var A=x.deletions;A===null?(x.deletions=[S],x.flags|=16):A.push(S)}}function n(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=jo(x,S),x.index=0,x.sibling=null,x}function o(x,S,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<S?(x.flags|=2,S):A):(x.flags|=2,S)):(x.flags|=1048576,S)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,S,A,U){return S===null||S.tag!==6?(S=up(A,x.mode,U),S.return=x,S):(S=i(S,A),S.return=x,S)}function u(x,S,A,U){var X=A.type;return X===Ll?h(x,S,A.props.children,U,A.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===To&&Ty(X)===S.type)?(U=i(S,A.props),U.ref=uu(x,S,A),U.return=x,U):(U=ld(A.type,A.key,A.props,null,x.mode,U),U.ref=uu(x,S,A),U.return=x,U)}function f(x,S,A,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=cp(A,x.mode,U),S.return=x,S):(S=i(S,A.children||[]),S.return=x,S)}function h(x,S,A,U,X){return S===null||S.tag!==7?(S=La(A,x.mode,U,X),S.return=x,S):(S=i(S,A),S.return=x,S)}function m(x,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=up(""+S,x.mode,A),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Af:return A=ld(S.type,S.key,S.props,null,x.mode,A),A.ref=uu(x,null,S),A.return=x,A;case bl:return S=cp(S,x.mode,A),S.return=x,S;case To:var U=S._init;return m(x,U(S._payload),A)}if(vu(S)||iu(S))return S=La(S,x.mode,A,null),S.return=x,S;Df(x,S)}return null}function p(x,S,A,U){var X=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return X!==null?null:l(x,S,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Af:return A.key===X?u(x,S,A,U):null;case bl:return A.key===X?f(x,S,A,U):null;case To:return X=A._init,p(x,S,X(A._payload),U)}if(vu(A)||iu(A))return X!==null?null:h(x,S,A,U,null);Df(x,A)}return null}function R(x,S,A,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(A)||null,l(S,x,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Af:return x=x.get(U.key===null?A:U.key)||null,u(S,x,U,X);case bl:return x=x.get(U.key===null?A:U.key)||null,f(S,x,U,X);case To:var le=U._init;return R(x,S,A,le(U._payload),X)}if(vu(U)||iu(U))return x=x.get(A)||null,h(S,x,U,X,null);Df(S,U)}return null}function O(x,S,A,U){for(var X=null,le=null,Ae=S,ue=S=0,ft=null;Ae!==null&&ue<A.length;ue++){Ae.index>ue?(ft=Ae,Ae=null):ft=Ae.sibling;var Me=p(x,Ae,A[ue],U);if(Me===null){Ae===null&&(Ae=ft);break}e&&Ae&&Me.alternate===null&&t(x,Ae),S=o(Me,S,ue),le===null?X=Me:le.sibling=Me,le=Me,Ae=ft}if(ue===A.length)return n(x,Ae),fn&&_a(x,ue),X;if(Ae===null){for(;ue<A.length;ue++)Ae=m(x,A[ue],U),Ae!==null&&(S=o(Ae,S,ue),le===null?X=Ae:le.sibling=Ae,le=Ae);return fn&&_a(x,ue),X}for(Ae=r(x,Ae);ue<A.length;ue++)ft=R(Ae,x,ue,A[ue],U),ft!==null&&(e&&ft.alternate!==null&&Ae.delete(ft.key===null?ue:ft.key),S=o(ft,S,ue),le===null?X=ft:le.sibling=ft,le=ft);return e&&Ae.forEach(function(ze){return t(x,ze)}),fn&&_a(x,ue),X}function k(x,S,A,U){var X=iu(A);if(typeof X!="function")throw Error(Oe(150));if(A=X.call(A),A==null)throw Error(Oe(151));for(var le=X=null,Ae=S,ue=S=0,ft=null,Me=A.next();Ae!==null&&!Me.done;ue++,Me=A.next()){Ae.index>ue?(ft=Ae,Ae=null):ft=Ae.sibling;var ze=p(x,Ae,Me.value,U);if(ze===null){Ae===null&&(Ae=ft);break}e&&Ae&&ze.alternate===null&&t(x,Ae),S=o(ze,S,ue),le===null?X=ze:le.sibling=ze,le=ze,Ae=ft}if(Me.done)return n(x,Ae),fn&&_a(x,ue),X;if(Ae===null){for(;!Me.done;ue++,Me=A.next())Me=m(x,Me.value,U),Me!==null&&(S=o(Me,S,ue),le===null?X=Me:le.sibling=Me,le=Me);return fn&&_a(x,ue),X}for(Ae=r(x,Ae);!Me.done;ue++,Me=A.next())Me=R(Ae,x,ue,Me.value,U),Me!==null&&(e&&Me.alternate!==null&&Ae.delete(Me.key===null?ue:Me.key),S=o(Me,S,ue),le===null?X=Me:le.sibling=Me,le=Me);return e&&Ae.forEach(function(Je){return t(x,Je)}),fn&&_a(x,ue),X}function B(x,S,A,U){if(typeof A=="object"&&A!==null&&A.type===Ll&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Af:e:{for(var X=A.key,le=S;le!==null;){if(le.key===X){if(X=A.type,X===Ll){if(le.tag===7){n(x,le.sibling),S=i(le,A.props.children),S.return=x,x=S;break e}}else if(le.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===To&&Ty(X)===le.type){n(x,le.sibling),S=i(le,A.props),S.ref=uu(x,le,A),S.return=x,x=S;break e}n(x,le);break}else t(x,le);le=le.sibling}A.type===Ll?(S=La(A.props.children,x.mode,U,A.key),S.return=x,x=S):(U=ld(A.type,A.key,A.props,null,x.mode,U),U.ref=uu(x,S,A),U.return=x,x=U)}return a(x);case bl:e:{for(le=A.key;S!==null;){if(S.key===le)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(x,S.sibling),S=i(S,A.children||[]),S.return=x,x=S;break e}else{n(x,S);break}else t(x,S);S=S.sibling}S=cp(A,x.mode,U),S.return=x,x=S}return a(x);case To:return le=A._init,B(x,S,le(A._payload),U)}if(vu(A))return O(x,S,A,U);if(iu(A))return k(x,S,A,U);Df(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(x,S.sibling),S=i(S,A),S.return=x,x=S):(n(x,S),S=up(A,x.mode,U),S.return=x,x=S),a(x)):n(x,S)}return B}var ql=oE(!0),aE=oE(!1),tc={},Si=Ho(tc),$u=Ho(tc),Gu=Ho(tc);function Aa(e){if(e===tc)throw Error(Oe(174));return e}function hv(e,t){switch(ln(Gu,t),ln($u,e),ln(Si,tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}cn(Si),ln(Si,t)}function Zl(){cn(Si),cn($u),cn(Gu)}function lE(e){Aa(Gu.current);var t=Aa(Si.current),n=Up(t,e.type);t!==n&&(ln($u,e),ln(Si,n))}function mv(e){$u.current===e&&(cn(Si),cn($u))}var pn=Ho(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rp=[];function pv(){for(var e=0;e<rp.length;e++)rp[e]._workInProgressVersionPrimary=null;rp.length=0}var nd=Yi.ReactCurrentDispatcher,ip=Yi.ReactCurrentBatchConfig,Na=0,vn=null,$n=null,Hn=null,Ld=!1,Au=!1,zu=0,CT=0;function qn(){throw Error(Oe(321))}function vv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function gv(e,t,n,r,i,o){if(Na=o,vn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nd.current=e===null||e.memoizedState===null?OT:PT,e=n(r,i),Au){o=0;do{if(Au=!1,zu=0,25<=o)throw Error(Oe(301));o+=1,Hn=$n=null,t.updateQueue=null,nd.current=kT,e=n(r,i)}while(Au)}if(nd.current=Rd,t=$n!==null&&$n.next!==null,Na=0,Hn=$n=vn=null,Ld=!1,t)throw Error(Oe(300));return e}function yv(){var e=zu!==0;return zu=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?vn.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Hr(){if($n===null){var e=vn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Hn===null?vn.memoizedState:Hn.next;if(t!==null)Hn=t,$n=e;else{if(e===null)throw Error(Oe(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Hn===null?vn.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function Uu(e,t){return typeof t=="function"?t(e):t}function op(e){var t=Hr(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=$n,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,f=o;do{var h=f.lane;if((Na&h)===h)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=m,a=r):u=u.next=m,vn.lanes|=h,Ia|=h}f=f.next}while(f!==null&&f!==o);u===null?a=r:u.next=l,ri(r,t.memoizedState)||(pr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,vn.lanes|=o,Ia|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ap(e){var t=Hr(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ri(o,t.memoizedState)||(pr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sE(){}function uE(e,t){var n=vn,r=Hr(),i=t(),o=!ri(r.memoizedState,i);if(o&&(r.memoizedState=i,pr=!0),r=r.queue,xv(dE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,Vu(9,fE.bind(null,n,r,i,t),void 0,null),Wn===null)throw Error(Oe(349));Na&30||cE(n,t,i)}return i}function cE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vn.updateQueue,t===null?(t={lastEffect:null,stores:null},vn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fE(e,t,n,r){t.value=n,t.getSnapshot=r,hE(t)&&mE(e)}function dE(e,t,n){return n(function(){hE(t)&&mE(e)})}function hE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ri(e,n)}catch{return!0}}function mE(e){var t=Wi(e,1);t!==null&&ni(t,e,1,-1)}function Ay(e){var t=yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:e},t.queue=e,e=e.dispatch=RT.bind(null,vn,e),[t.memoizedState,e]}function Vu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vn.updateQueue,t===null?(t={lastEffect:null,stores:null},vn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pE(){return Hr().memoizedState}function rd(e,t,n,r){var i=yi();vn.flags|=e,i.memoizedState=Vu(1|t,n,void 0,r===void 0?null:r)}function ih(e,t,n,r){var i=Hr();r=r===void 0?null:r;var o=void 0;if($n!==null){var a=$n.memoizedState;if(o=a.destroy,r!==null&&vv(r,a.deps)){i.memoizedState=Vu(t,n,o,r);return}}vn.flags|=e,i.memoizedState=Vu(1|t,n,o,r)}function Cy(e,t){return rd(8390656,8,e,t)}function xv(e,t){return ih(2048,8,e,t)}function vE(e,t){return ih(4,2,e,t)}function gE(e,t){return ih(4,4,e,t)}function yE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xE(e,t,n){return n=n!=null?n.concat([e]):null,ih(4,4,yE.bind(null,t,e),n)}function Ev(){}function EE(e,t){var n=Hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _E(e,t){var n=Hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function SE(e,t,n){return Na&21?(ri(n,t)||(n=Ax(),vn.lanes|=n,Ia|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=n)}function bT(e,t){var n=tn;tn=n!==0&&4>n?n:4,e(!0);var r=ip.transition;ip.transition={};try{e(!1),t()}finally{tn=n,ip.transition=r}}function wE(){return Hr().memoizedState}function LT(e,t,n){var r=Bo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(e))AE(t,n);else if(n=tE(e,t,n,r),n!==null){var i=ar();ni(n,e,r,i),CE(n,t,r)}}function RT(e,t,n){var r=Bo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(e))AE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,ri(l,a)){var u=t.interleaved;u===null?(i.next=i,fv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=tE(e,t,i,r),n!==null&&(i=ar(),ni(n,e,r,i),CE(n,t,r))}}function TE(e){var t=e.alternate;return e===vn||t!==null&&t===vn}function AE(e,t){Au=Ld=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}var Rd={readContext:Vr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},OT={readContext:Vr,useCallback:function(e,t){return yi().memoizedState=[e,t===void 0?null:t],e},useContext:Vr,useEffect:Cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rd(4194308,4,yE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rd(4194308,4,e,t)},useInsertionEffect:function(e,t){return rd(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=LT.bind(null,vn,e),[r.memoizedState,e]},useRef:function(e){var t=yi();return e={current:e},t.memoizedState=e},useState:Ay,useDebugValue:Ev,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ay(!1),t=e[0];return e=bT.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vn,i=yi();if(fn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),Wn===null)throw Error(Oe(349));Na&30||cE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Cy(dE.bind(null,r,o,e),[e]),r.flags|=2048,Vu(9,fE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yi(),t=Wn.identifierPrefix;if(fn){var n=zi,r=Gi;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PT={readContext:Vr,useCallback:EE,useContext:Vr,useEffect:xv,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:gE,useMemo:_E,useReducer:op,useRef:pE,useState:function(){return op(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=Hr();return SE(t,$n.memoizedState,e)},useTransition:function(){var e=op(Uu)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:uE,useId:wE,unstable_isNewReconciler:!1},kT={readContext:Vr,useCallback:EE,useContext:Vr,useEffect:xv,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:gE,useMemo:_E,useReducer:ap,useRef:pE,useState:function(){return ap(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=Hr();return $n===null?t.memoizedState=e:SE(t,$n.memoizedState,e)},useTransition:function(){var e=ap(Uu)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:uE,useId:wE,unstable_isNewReconciler:!1};function Jl(e,t){try{var n="",r=t;do n+=aw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function lp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function d0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NT=typeof WeakMap=="function"?WeakMap:Map;function bE(e,t,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pd||(Pd=!0,S0=r),d0(e,t)},n}function LE(e,t,n){n=Ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){d0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){d0(e,t),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function by(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=XT.bind(null,e,t,n),t.then(e,e))}function Ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ry(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ui(-1,1),t.tag=2,Do(n,t,1))),n.lanes|=1),e)}var IT=Yi.ReactCurrentOwner,pr=!1;function ir(e,t,n,r){t.child=e===null?aE(t,null,n,r):ql(t,e.child,n,r)}function Oy(e,t,n,r,i){n=n.render;var o=t.ref;return Vl(t,i),r=gv(e,t,n,r,o,i),n=yv(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(fn&&n&&ov(t),t.flags|=1,ir(e,t,r,i),t.child)}function Py(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,RE(e,t,o,r,i)):(e=ld(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(a,r)&&e.ref===t.ref)return Xi(e,t,i)}return t.flags|=1,e=jo(o,r),e.ref=t.ref,e.return=t,t.child=e}function RE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Du(o,r)&&e.ref===t.ref)if(pr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pr=!0);else return t.lanes=e.lanes,Xi(e,t,i)}return h0(e,t,n,r,i)}function OE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Bl,Lr),Lr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ln(Bl,Lr),Lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(Bl,Lr),Lr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ln(Bl,Lr),Lr|=r;return ir(e,t,i,n),t.child}function PE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h0(e,t,n,r,i){var o=gr(n)?Pa:tr.current;return o=Ql(t,o),Vl(t,i),n=gv(e,t,n,r,o,i),r=yv(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(fn&&r&&ov(t),t.flags|=1,ir(e,t,n,i),t.child)}function ky(e,t,n,r,i){if(gr(n)){var o=!0;_d(t)}else o=!1;if(Vl(t,i),t.stateNode===null)id(e,t),iE(t,n,r),f0(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Vr(f):(f=gr(n)?Pa:tr.current,f=Ql(t,f));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&wy(t,a,r,f),Ao=!1;var p=t.memoizedState;a.state=p,Cd(t,r,a,i),u=t.memoizedState,l!==r||p!==u||vr.current||Ao?(typeof h=="function"&&(c0(t,n,h,r),u=t.memoizedState),(l=Ao||Sy(t,n,l,r,p,u,f))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nE(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:qr(t.type,l),a.props=f,m=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Vr(u):(u=gr(n)?Pa:tr.current,u=Ql(t,u));var R=n.getDerivedStateFromProps;(h=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==u)&&wy(t,a,r,u),Ao=!1,p=t.memoizedState,a.state=p,Cd(t,r,a,i);var O=t.memoizedState;l!==m||p!==O||vr.current||Ao?(typeof R=="function"&&(c0(t,n,R,r),O=t.memoizedState),(f=Ao||Sy(t,n,f,r,p,O,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,O,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,O,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),a.props=r,a.state=O,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return m0(e,t,n,r,o,i)}function m0(e,t,n,r,i,o){PE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&gy(t,n,!1),Xi(e,t,o);r=t.stateNode,IT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,l,o)):ir(e,t,l,o),t.memoizedState=r.state,i&&gy(t,n,!0),t.child}function kE(e){var t=e.stateNode;t.pendingContext?vy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vy(e,t.context,!1),hv(e,t.containerInfo)}function Ny(e,t,n,r,i){return Kl(),lv(i),t.flags|=256,ir(e,t,n,r),t.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function v0(e){return{baseLanes:e,cachePool:null,transitions:null}}function NE(e,t,n){var r=t.pendingProps,i=pn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ln(pn,i&1),e===null)return s0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=lh(a,r,0,null),e=La(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=v0(n),t.memoizedState=p0,e):_v(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MT(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=jo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=jo(l,o):(o=La(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?v0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=p0,r}return o=e.child,e=o.sibling,r=jo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _v(e,t){return t=lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ff(e,t,n,r){return r!==null&&lv(r),ql(t,e.child,null,n),e=_v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MT(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=lp(Error(Oe(422))),Ff(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=lh({mode:"visible",children:r.children},i,0,null),o=La(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ql(t,e.child,null,a),t.child.memoizedState=v0(a),t.memoizedState=p0,o);if(!(t.mode&1))return Ff(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Oe(419)),r=lp(o,r,void 0),Ff(e,t,a,r)}if(l=(a&e.childLanes)!==0,pr||l){if(r=Wn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wi(e,i),ni(r,e,i,-1))}return bv(),r=lp(Error(Oe(421))),Ff(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=YT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Rr=Mo(i.nextSibling),Or=t,fn=!0,Jr=null,e!==null&&($r[Gr++]=Gi,$r[Gr++]=zi,$r[Gr++]=ka,Gi=e.id,zi=e.overflow,ka=t),t=_v(t,r.children),t.flags|=4096,t)}function Iy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),u0(e.return,t,n)}function sp(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function IE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ir(e,t,r.children,n),r=pn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iy(e,n,t);else if(e.tag===19)Iy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ln(pn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sp(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sp(t,!0,n,null,o);break;case"together":sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=jo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DT(e,t,n){switch(t.tag){case 3:kE(t),Kl();break;case 5:lE(t);break;case 1:gr(t.type)&&_d(t);break;case 4:hv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ln(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ln(pn,pn.current&1),t.flags|=128,null):n&t.child.childLanes?NE(e,t,n):(ln(pn,pn.current&1),e=Xi(e,t,n),e!==null?e.sibling:null);ln(pn,pn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(pn,pn.current),r)break;return null;case 22:case 23:return t.lanes=0,OE(e,t,n)}return Xi(e,t,n)}var ME,g0,DE,FE;ME=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g0=function(){};DE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Aa(Si.current);var o=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),o=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),o=[];break;case"textarea":i=zp(e,i),r=zp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}Vp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ru.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&un("scroll",e),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};FE=function(e,t,n,r){n!==r&&(t.flags|=4)};function cu(e,t){if(!fn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FT(e,t,n){var r=t.pendingProps;switch(av(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(t),null;case 1:return gr(t.type)&&Ed(),Zn(t),null;case 3:return r=t.stateNode,Zl(),cn(vr),cn(tr),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(A0(Jr),Jr=null))),g0(e,t),Zn(t),null;case 5:mv(t);var i=Aa(Gu.current);if(n=t.type,e!==null&&t.stateNode!=null)DE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return Zn(t),null}if(e=Aa(Si.current),Mf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ei]=t,r[ju]=o,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<yu.length;i++)un(yu[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":Ug(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":Hg(r,o),un("invalid",r)}Vp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",""+l]):Ru.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&un("scroll",r)}switch(n){case"input":Cf(r),Vg(r,o,!0);break;case"textarea":Cf(r),Wg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ei]=t,e[ju]=r,ME(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hp(n,r),n){case"dialog":un("cancel",e),un("close",e),i=r;break;case"iframe":case"object":case"embed":un("load",e),i=r;break;case"video":case"audio":for(i=0;i<yu.length;i++)un(yu[i],e);i=r;break;case"source":un("error",e),i=r;break;case"img":case"image":case"link":un("error",e),un("load",e),i=r;break;case"details":un("toggle",e),i=r;break;case"input":Ug(e,r),i=jp(e,r),un("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),un("invalid",e);break;case"textarea":Hg(e,r),i=zp(e,r),un("invalid",e);break;default:i=r}Vp(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?hx(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fx(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ou(e,u):typeof u=="number"&&Ou(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ru.hasOwnProperty(o)?u!=null&&o==="onScroll"&&un("scroll",e):u!=null&&H0(e,o,u,a))}switch(n){case"input":Cf(e),Vg(e,r,!1);break;case"textarea":Cf(e),Wg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Go(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$l(e,!!r.multiple,o,!1):r.defaultValue!=null&&$l(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zn(t),null;case 6:if(e&&t.stateNode!=null)FE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=Aa(Gu.current),Aa(Si.current),Mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ei]=t,(o=r.nodeValue!==n)&&(e=Or,e!==null))switch(e.tag){case 3:If(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&If(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ei]=t,t.stateNode=r}return Zn(t),null;case 13:if(cn(pn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fn&&Rr!==null&&t.mode&1&&!(t.flags&128))eE(),Kl(),t.flags|=98560,o=!1;else if(o=Mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[Ei]=t}else Kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zn(t),o=!1}else Jr!==null&&(A0(Jr),Jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pn.current&1?Gn===0&&(Gn=3):bv())),t.updateQueue!==null&&(t.flags|=4),Zn(t),null);case 4:return Zl(),g0(e,t),e===null&&Fu(t.stateNode.containerInfo),Zn(t),null;case 10:return cv(t.type._context),Zn(t),null;case 17:return gr(t.type)&&Ed(),Zn(t),null;case 19:if(cn(pn),o=t.memoizedState,o===null)return Zn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)cu(o,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bd(e),a!==null){for(t.flags|=128,cu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ln(pn,pn.current&1|2),t.child}e=e.sibling}o.tail!==null&&On()>es&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304)}else{if(!r)if(e=bd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!fn)return Zn(t),null}else 2*On()-o.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=On(),t.sibling=null,n=pn.current,ln(pn,r?n&1|2:n&1),t):(Zn(t),null);case 22:case 23:return Cv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lr&1073741824&&(Zn(t),t.subtreeFlags&6&&(t.flags|=8192)):Zn(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function BT(e,t){switch(av(t),t.tag){case 1:return gr(t.type)&&Ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zl(),cn(vr),cn(tr),pv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mv(t),null;case 13:if(cn(pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(pn),null;case 4:return Zl(),null;case 10:return cv(t.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var Bf=!1,Jn=!1,jT=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Fl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(e,t,r)}else n.current=null}function y0(e,t,n){try{n()}catch(r){Tn(e,t,r)}}var My=!1;function $T(e,t){if(t0=vd,e=Gx(),iv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,h=0,m=e,p=null;t:for(;;){for(var R;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==o||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)p=m,m=R;for(;;){if(m===e)break t;if(p===n&&++f===i&&(l=a),p===o&&++h===r&&(u=a),(R=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:e,selectionRange:n},vd=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var k=O.memoizedProps,B=O.memoizedState,x=t.stateNode,S=x.getSnapshotBeforeUpdate(t.elementType===t.type?k:qr(t.type,k),B);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(U){Tn(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return O=My,My=!1,O}function Cu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&y0(t,n,o)}i=i.next}while(i!==r)}}function oh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BE(e){var t=e.alternate;t!==null&&(e.alternate=null,BE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ei],delete t[ju],delete t[o0],delete t[ST],delete t[wT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jE(e){return e.tag===5||e.tag===3||e.tag===4}function Dy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(E0(e,t,n),e=e.sibling;e!==null;)E0(e,t,n),e=e.sibling}function _0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_0(e,t,n),e=e.sibling;e!==null;)_0(e,t,n),e=e.sibling}var Yn=null,Zr=!1;function Eo(e,t,n){for(n=n.child;n!==null;)$E(e,t,n),n=n.sibling}function $E(e,t,n){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(qd,n)}catch{}switch(n.tag){case 5:Jn||Fl(n,t);case 6:var r=Yn,i=Zr;Yn=null,Eo(e,t,n),Yn=r,Zr=i,Yn!==null&&(Zr?(e=Yn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(Zr?(e=Yn,n=n.stateNode,e.nodeType===8?tp(e.parentNode,n):e.nodeType===1&&tp(e,n),Iu(e)):tp(Yn,n.stateNode));break;case 4:r=Yn,i=Zr,Yn=n.stateNode.containerInfo,Zr=!0,Eo(e,t,n),Yn=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&y0(n,t,a),i=i.next}while(i!==r)}Eo(e,t,n);break;case 1:if(!Jn&&(Fl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tn(n,t,l)}Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Eo(e,t,n),Jn=r):Eo(e,t,n);break;default:Eo(e,t,n)}}function Fy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jT),t.forEach(function(r){var i=QT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,Zr=!1;break e;case 3:Yn=l.stateNode.containerInfo,Zr=!0;break e;case 4:Yn=l.stateNode.containerInfo,Zr=!0;break e}l=l.return}if(Yn===null)throw Error(Oe(160));$E(o,a,i),Yn=null,Zr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){Tn(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GE(t,e),t=t.sibling}function GE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),vi(e),r&4){try{Cu(3,e,e.return),oh(3,e)}catch(k){Tn(e,e.return,k)}try{Cu(5,e,e.return)}catch(k){Tn(e,e.return,k)}}break;case 1:Kr(t,e),vi(e),r&512&&n!==null&&Fl(n,n.return);break;case 5:if(Kr(t,e),vi(e),r&512&&n!==null&&Fl(n,n.return),e.flags&32){var i=e.stateNode;try{Ou(i,"")}catch(k){Tn(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&sx(i,o),Hp(l,a);var f=Hp(l,o);for(a=0;a<u.length;a+=2){var h=u[a],m=u[a+1];h==="style"?hx(i,m):h==="dangerouslySetInnerHTML"?fx(i,m):h==="children"?Ou(i,m):H0(i,h,m,f)}switch(l){case"input":$p(i,o);break;case"textarea":ux(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?$l(i,!!o.multiple,R,!1):p!==!!o.multiple&&(o.defaultValue!=null?$l(i,!!o.multiple,o.defaultValue,!0):$l(i,!!o.multiple,o.multiple?[]:"",!1))}i[ju]=o}catch(k){Tn(e,e.return,k)}}break;case 6:if(Kr(t,e),vi(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){Tn(e,e.return,k)}}break;case 3:if(Kr(t,e),vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(t.containerInfo)}catch(k){Tn(e,e.return,k)}break;case 4:Kr(t,e),vi(e);break;case 13:Kr(t,e),vi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=On())),r&4&&Fy(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Jn=(f=Jn)||h,Kr(t,e),Jn=f):Kr(t,e),vi(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!h&&e.mode&1)for(Ze=e,h=e.child;h!==null;){for(m=Ze=h;Ze!==null;){switch(p=Ze,R=p.child,p.tag){case 0:case 11:case 14:case 15:Cu(4,p,p.return);break;case 1:Fl(p,p.return);var O=p.stateNode;if(typeof O.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(k){Tn(r,n,k)}}break;case 5:Fl(p,p.return);break;case 22:if(p.memoizedState!==null){jy(m);continue}}R!==null?(R.return=p,Ze=R):jy(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=dx("display",a))}catch(k){Tn(e,e.return,k)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(k){Tn(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Kr(t,e),vi(e),r&4&&Fy(e);break;case 21:break;default:Kr(t,e),vi(e)}}function vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ou(i,""),r.flags&=-33);var o=Dy(e);_0(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Dy(e);E0(e,l,a);break;default:throw Error(Oe(161))}}catch(u){Tn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GT(e,t,n){Ze=e,zE(e)}function zE(e,t,n){for(var r=(e.mode&1)!==0;Ze!==null;){var i=Ze,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Jn;l=Bf;var f=Jn;if(Bf=a,(Jn=u)&&!f)for(Ze=i;Ze!==null;)a=Ze,u=a.child,a.tag===22&&a.memoizedState!==null?$y(i):u!==null?(u.return=a,Ze=u):$y(i);for(;o!==null;)Ze=o,zE(o),o=o.sibling;Ze=i,Bf=l,Jn=f}By(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ze=o):By(e)}}function By(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||oh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_y(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_y(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Iu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Jn||t.flags&512&&x0(t)}catch(p){Tn(t,t.return,p)}}if(t===e){Ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function jy(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function $y(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oh(4,t)}catch(u){Tn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Tn(t,i,u)}}var o=t.return;try{x0(t)}catch(u){Tn(t,o,u)}break;case 5:var a=t.return;try{x0(t)}catch(u){Tn(t,a,u)}}}catch(u){Tn(t,t.return,u)}if(t===e){Ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ze=l;break}Ze=t.return}}var zT=Math.ceil,Od=Yi.ReactCurrentDispatcher,Sv=Yi.ReactCurrentOwner,Ur=Yi.ReactCurrentBatchConfig,Yt=0,Wn=null,In=null,Qn=0,Lr=0,Bl=Ho(0),Gn=0,Hu=null,Ia=0,ah=0,wv=0,bu=null,mr=null,Tv=0,es=1/0,ji=null,Pd=!1,S0=null,Fo=null,jf=!1,Ro=null,kd=0,Lu=0,w0=null,od=-1,ad=0;function ar(){return Yt&6?On():od!==-1?od:od=On()}function Bo(e){return e.mode&1?Yt&2&&Qn!==0?Qn&-Qn:AT.transition!==null?(ad===0&&(ad=Ax()),ad):(e=tn,e!==0||(e=window.event,e=e===void 0?16:kx(e.type)),e):1}function ni(e,t,n,r){if(50<Lu)throw Lu=0,w0=null,Error(Oe(185));Zu(e,n,r),(!(Yt&2)||e!==Wn)&&(e===Wn&&(!(Yt&2)&&(ah|=n),Gn===4&&bo(e,Qn)),yr(e,r),n===1&&Yt===0&&!(t.mode&1)&&(es=On()+500,nh&&Wo()))}function yr(e,t){var n=e.callbackNode;Aw(e,t);var r=pd(e,e===Wn?Qn:0);if(r===0)n!==null&&Qg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qg(n),t===1)e.tag===0?TT(Gy.bind(null,e)):qx(Gy.bind(null,e)),ET(function(){!(Yt&6)&&Wo()}),n=null;else{switch(Cx(r)){case 1:n=K0;break;case 4:n=wx;break;case 16:n=md;break;case 536870912:n=Tx;break;default:n=md}n=KE(n,UE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function UE(e,t){if(od=-1,ad=0,Yt&6)throw Error(Oe(327));var n=e.callbackNode;if(Hl()&&e.callbackNode!==n)return null;var r=pd(e,e===Wn?Qn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nd(e,r);else{t=r;var i=Yt;Yt|=2;var o=HE();(Wn!==e||Qn!==t)&&(ji=null,es=On()+500,ba(e,t));do try{HT();break}catch(l){VE(e,l)}while(!0);uv(),Od.current=o,Yt=i,In!==null?t=0:(Wn=null,Qn=0,t=Gn)}if(t!==0){if(t===2&&(i=Kp(e),i!==0&&(r=i,t=T0(e,i))),t===1)throw n=Hu,ba(e,0),bo(e,r),yr(e,On()),n;if(t===6)bo(e,r);else{if(i=e.current.alternate,!(r&30)&&!UT(i)&&(t=Nd(e,r),t===2&&(o=Kp(e),o!==0&&(r=o,t=T0(e,o))),t===1))throw n=Hu,ba(e,0),bo(e,r),yr(e,On()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Sa(e,mr,ji);break;case 3:if(bo(e,r),(r&130023424)===r&&(t=Tv+500-On(),10<t)){if(pd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=i0(Sa.bind(null,e,mr,ji),t);break}Sa(e,mr,ji);break;case 4:if(bo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ti(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zT(r/1960))-r,10<r){e.timeoutHandle=i0(Sa.bind(null,e,mr,ji),r);break}Sa(e,mr,ji);break;case 5:Sa(e,mr,ji);break;default:throw Error(Oe(329))}}}return yr(e,On()),e.callbackNode===n?UE.bind(null,e):null}function T0(e,t){var n=bu;return e.current.memoizedState.isDehydrated&&(ba(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=mr,mr=n,t!==null&&A0(t)),e}function A0(e){mr===null?mr=e:mr.push.apply(mr,e)}function UT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ri(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bo(e,t){for(t&=~wv,t&=~ah,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ti(t),r=1<<n;e[n]=-1,t&=~r}}function Gy(e){if(Yt&6)throw Error(Oe(327));Hl();var t=pd(e,0);if(!(t&1))return yr(e,On()),null;var n=Nd(e,t);if(e.tag!==0&&n===2){var r=Kp(e);r!==0&&(t=r,n=T0(e,r))}if(n===1)throw n=Hu,ba(e,0),bo(e,t),yr(e,On()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sa(e,mr,ji),yr(e,On()),null}function Av(e,t){var n=Yt;Yt|=1;try{return e(t)}finally{Yt=n,Yt===0&&(es=On()+500,nh&&Wo())}}function Ma(e){Ro!==null&&Ro.tag===0&&!(Yt&6)&&Hl();var t=Yt;Yt|=1;var n=Ur.transition,r=tn;try{if(Ur.transition=null,tn=1,e)return e()}finally{tn=r,Ur.transition=n,Yt=t,!(Yt&6)&&Wo()}}function Cv(){Lr=Bl.current,cn(Bl)}function ba(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xT(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ed();break;case 3:Zl(),cn(vr),cn(tr),pv();break;case 5:mv(r);break;case 4:Zl();break;case 13:cn(pn);break;case 19:cn(pn);break;case 10:cv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(Wn=e,In=e=jo(e.current,null),Qn=Lr=t,Gn=0,Hu=null,wv=ah=Ia=0,mr=bu=null,Ta!==null){for(t=0;t<Ta.length;t++)if(n=Ta[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ta=null}return e}function VE(e,t){do{var n=In;try{if(uv(),nd.current=Rd,Ld){for(var r=vn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ld=!1}if(Na=0,Hn=$n=vn=null,Au=!1,zu=0,Sv.current=null,n===null||n.return===null){Gn=1,Hu=t,In=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Qn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var R=Ly(a);if(R!==null){R.flags&=-257,Ry(R,a,l,o,t),R.mode&1&&by(o,f,t),t=R,u=f;var O=t.updateQueue;if(O===null){var k=new Set;k.add(u),t.updateQueue=k}else O.add(u);break e}else{if(!(t&1)){by(o,f,t),bv();break e}u=Error(Oe(426))}}else if(fn&&l.mode&1){var B=Ly(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Ry(B,a,l,o,t),lv(Jl(u,l));break e}}o=u=Jl(u,l),Gn!==4&&(Gn=2),bu===null?bu=[o]:bu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=bE(o,u,t);Ey(o,x);break e;case 1:l=u;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Fo===null||!Fo.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t;var U=LE(o,l,t);Ey(o,U);break e}}o=o.return}while(o!==null)}XE(n)}catch(X){t=X,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function HE(){var e=Od.current;return Od.current=Rd,e===null?Rd:e}function bv(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),Wn===null||!(Ia&268435455)&&!(ah&268435455)||bo(Wn,Qn)}function Nd(e,t){var n=Yt;Yt|=2;var r=HE();(Wn!==e||Qn!==t)&&(ji=null,ba(e,t));do try{VT();break}catch(i){VE(e,i)}while(!0);if(uv(),Yt=n,Od.current=r,In!==null)throw Error(Oe(261));return Wn=null,Qn=0,Gn}function VT(){for(;In!==null;)WE(In)}function HT(){for(;In!==null&&!vw();)WE(In)}function WE(e){var t=QE(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,t===null?XE(e):In=t,Sv.current=null}function XE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BT(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,In=null;return}}else if(n=FT(n,t,Lr),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);Gn===0&&(Gn=5)}function Sa(e,t,n){var r=tn,i=Ur.transition;try{Ur.transition=null,tn=1,WT(e,t,n,r)}finally{Ur.transition=i,tn=r}return null}function WT(e,t,n,r){do Hl();while(Ro!==null);if(Yt&6)throw Error(Oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Cw(e,o),e===Wn&&(In=Wn=null,Qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jf||(jf=!0,KE(md,function(){return Hl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ur.transition,Ur.transition=null;var a=tn;tn=1;var l=Yt;Yt|=4,Sv.current=null,$T(e,n),GE(n,e),dT(n0),vd=!!t0,n0=t0=null,e.current=n,GT(n),gw(),Yt=l,tn=a,Ur.transition=o}else e.current=n;if(jf&&(jf=!1,Ro=e,kd=i),o=e.pendingLanes,o===0&&(Fo=null),Ew(n.stateNode),yr(e,On()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,e=S0,S0=null,e;return kd&1&&e.tag!==0&&Hl(),o=e.pendingLanes,o&1?e===w0?Lu++:(Lu=0,w0=e):Lu=0,Wo(),null}function Hl(){if(Ro!==null){var e=Cx(kd),t=Ur.transition,n=tn;try{if(Ur.transition=null,tn=16>e?16:e,Ro===null)var r=!1;else{if(e=Ro,Ro=null,kd=0,Yt&6)throw Error(Oe(331));var i=Yt;for(Yt|=4,Ze=e.current;Ze!==null;){var o=Ze,a=o.child;if(Ze.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Ze=f;Ze!==null;){var h=Ze;switch(h.tag){case 0:case 11:case 15:Cu(8,h,o)}var m=h.child;if(m!==null)m.return=h,Ze=m;else for(;Ze!==null;){h=Ze;var p=h.sibling,R=h.return;if(BE(h),h===f){Ze=null;break}if(p!==null){p.return=R,Ze=p;break}Ze=R}}}var O=o.alternate;if(O!==null){var k=O.child;if(k!==null){O.child=null;do{var B=k.sibling;k.sibling=null,k=B}while(k!==null)}}Ze=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ze=a;else e:for(;Ze!==null;){if(o=Ze,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Ze=x;break e}Ze=o.return}}var S=e.current;for(Ze=S;Ze!==null;){a=Ze;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,Ze=A;else e:for(a=S;Ze!==null;){if(l=Ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oh(9,l)}}catch(X){Tn(l,l.return,X)}if(l===a){Ze=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,Ze=U;break e}Ze=l.return}}if(Yt=i,Wo(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(qd,e)}catch{}r=!0}return r}finally{tn=n,Ur.transition=t}}return!1}function zy(e,t,n){t=Jl(n,t),t=bE(e,t,1),e=Do(e,t,1),t=ar(),e!==null&&(Zu(e,1,t),yr(e,t))}function Tn(e,t,n){if(e.tag===3)zy(e,e,n);else for(;t!==null;){if(t.tag===3){zy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){e=Jl(n,e),e=LE(t,e,1),t=Do(t,e,1),e=ar(),t!==null&&(Zu(t,1,e),yr(t,e));break}}t=t.return}}function XT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&n,Wn===e&&(Qn&n)===n&&(Gn===4||Gn===3&&(Qn&130023424)===Qn&&500>On()-Tv?ba(e,0):wv|=n),yr(e,t)}function YE(e,t){t===0&&(e.mode&1?(t=Rf,Rf<<=1,!(Rf&130023424)&&(Rf=4194304)):t=1);var n=ar();e=Wi(e,t),e!==null&&(Zu(e,t,n),yr(e,n))}function YT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YE(e,n)}function QT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),YE(e,n)}var QE;QE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vr.current)pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pr=!1,DT(e,t,n);pr=!!(e.flags&131072)}else pr=!1,fn&&t.flags&1048576&&Zx(t,wd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;id(e,t),e=t.pendingProps;var i=Ql(t,tr.current);Vl(t,n),i=gv(null,t,r,e,i,n);var o=yv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(r)?(o=!0,_d(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dv(t),i.updater=rh,t.stateNode=i,i._reactInternals=t,f0(t,r,e,n),t=m0(null,t,r,!0,o,n)):(t.tag=0,fn&&o&&ov(t),ir(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(id(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qT(r),e=qr(r,e),i){case 0:t=h0(null,t,r,e,n);break e;case 1:t=ky(null,t,r,e,n);break e;case 11:t=Oy(null,t,r,e,n);break e;case 14:t=Py(null,t,r,qr(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),h0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),ky(e,t,r,i,n);case 3:e:{if(kE(t),e===null)throw Error(Oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nE(e,t),Cd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Jl(Error(Oe(423)),t),t=Ny(e,t,r,n,i);break e}else if(r!==i){i=Jl(Error(Oe(424)),t),t=Ny(e,t,r,n,i);break e}else for(Rr=Mo(t.stateNode.containerInfo.firstChild),Or=t,fn=!0,Jr=null,n=aE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kl(),r===i){t=Xi(e,t,n);break e}ir(e,t,r,n)}t=t.child}return t;case 5:return lE(t),e===null&&s0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,r0(r,i)?a=null:o!==null&&r0(r,o)&&(t.flags|=32),PE(e,t),ir(e,t,a,n),t.child;case 6:return e===null&&s0(t),null;case 13:return NE(e,t,n);case 4:return hv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ql(t,null,r,n):ir(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),Oy(e,t,r,i,n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:return ir(e,t,t.pendingProps.children,n),t.child;case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ln(Td,r._currentValue),r._currentValue=a,o!==null)if(ri(o.value,a)){if(o.children===i.children&&!vr.current){t=Xi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Ui(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?u.next=u:(u.next=h.next,h.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),u0(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Oe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),u0(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ir(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vl(t,n),i=Vr(i),r=r(i),t.flags|=1,ir(e,t,r,n),t.child;case 14:return r=t.type,i=qr(r,t.pendingProps),i=qr(r.type,i),Py(e,t,r,i,n);case 15:return RE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),id(e,t),t.tag=1,gr(r)?(e=!0,_d(t)):e=!1,Vl(t,n),iE(t,r,i),f0(t,r,i,n),m0(null,t,r,!0,e,n);case 19:return IE(e,t,n);case 22:return OE(e,t,n)}throw Error(Oe(156,t.tag))};function KE(e,t){return Sx(e,t)}function KT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new KT(e,t,n,r)}function Lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qT(e){if(typeof e=="function")return Lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X0)return 11;if(e===Y0)return 14}return 2}function jo(e,t){var n=e.alternate;return n===null?(n=zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ld(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Lv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ll:return La(n.children,i,o,t);case W0:a=8,i|=8;break;case Mp:return e=zr(12,n,t,i|2),e.elementType=Mp,e.lanes=o,e;case Dp:return e=zr(13,n,t,i),e.elementType=Dp,e.lanes=o,e;case Fp:return e=zr(19,n,t,i),e.elementType=Fp,e.lanes=o,e;case ox:return lh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:a=10;break e;case ix:a=9;break e;case X0:a=11;break e;case Y0:a=14;break e;case To:a=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=zr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function La(e,t,n,r){return e=zr(7,e,r,t),e.lanes=n,e}function lh(e,t,n,r){return e=zr(22,e,r,t),e.elementType=ox,e.lanes=n,e.stateNode={isHidden:!1},e}function up(e,t,n){return e=zr(6,e,null,t),e.lanes=n,e}function cp(e,t,n){return t=zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(e,t,n,r,i,o,a,l,u){return e=new ZT(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=zr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(o),e}function JT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qE(e){if(!e)return zo;e=e._reactInternals;e:{if($a(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(gr(n))return Kx(e,n,t)}return t}function ZE(e,t,n,r,i,o,a,l,u){return e=Rv(n,r,!0,e,i,o,a,l,u),e.context=qE(null),n=e.current,r=ar(),i=Bo(n),o=Ui(r,i),o.callback=t??null,Do(n,o,i),e.current.lanes=i,Zu(e,i,r),yr(e,r),e}function sh(e,t,n,r){var i=t.current,o=ar(),a=Bo(i);return n=qE(n),t.context===null?t.context=n:t.pendingContext=n,t=Ui(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Do(i,t,a),e!==null&&(ni(e,i,a,o),td(e,i,a)),a}function Id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ov(e,t){Uy(e,t),(e=e.alternate)&&Uy(e,t)}function eA(){return null}var JE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pv(e){this._internalRoot=e}uh.prototype.render=Pv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));sh(e,t,null,null)};uh.prototype.unmount=Pv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ma(function(){sh(null,e,null,null)}),t[Hi]=null}};function uh(e){this._internalRoot=e}uh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Co.length&&t!==0&&t<Co[n].priority;n++);Co.splice(n,0,e),n===0&&Px(e)}};function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function tA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Id(a);o.call(f)}}var a=ZE(t,r,e,0,null,!1,!1,"",Vy);return e._reactRootContainer=a,e[Hi]=a.current,Fu(e.nodeType===8?e.parentNode:e),Ma(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Id(u);l.call(f)}}var u=Rv(e,0,!1,null,null,!1,!1,"",Vy);return e._reactRootContainer=u,e[Hi]=u.current,Fu(e.nodeType===8?e.parentNode:e),Ma(function(){sh(t,u,n,r)}),u}function fh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Id(a);l.call(u)}}sh(t,a,e,i)}else a=tA(n,t,e,i,r);return Id(a)}bx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gu(t.pendingLanes);n!==0&&(q0(t,n|1),yr(t,On()),!(Yt&6)&&(es=On()+500,Wo()))}break;case 13:Ma(function(){var r=Wi(e,1);if(r!==null){var i=ar();ni(r,e,1,i)}}),Ov(e,1)}};Z0=function(e){if(e.tag===13){var t=Wi(e,134217728);if(t!==null){var n=ar();ni(t,e,134217728,n)}Ov(e,134217728)}};Lx=function(e){if(e.tag===13){var t=Bo(e),n=Wi(e,t);if(n!==null){var r=ar();ni(n,e,t,r)}Ov(e,t)}};Rx=function(){return tn};Ox=function(e,t){var n=tn;try{return tn=e,t()}finally{tn=n}};Xp=function(e,t,n){switch(t){case"input":if($p(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=th(r);if(!i)throw Error(Oe(90));lx(r),$p(r,i)}}}break;case"textarea":ux(e,n);break;case"select":t=n.value,t!=null&&$l(e,!!n.multiple,t,!1)}};vx=Av;gx=Ma;var nA={usingClientEntryPoint:!1,Events:[ec,kl,th,mx,px,Av]},fu={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ex(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{qd=$f.inject(rA),_i=$f}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(t))throw Error(Oe(200));return JT(e,t,null,n)};kr.createRoot=function(e,t){if(!kv(e))throw Error(Oe(299));var n=!1,r="",i=JE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rv(e,1,!1,null,null,n,!1,r,i),e[Hi]=t.current,Fu(e.nodeType===8?e.parentNode:e),new Pv(t)};kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=Ex(t),e=e===null?null:e.stateNode,e};kr.flushSync=function(e){return Ma(e)};kr.hydrate=function(e,t,n){if(!ch(t))throw Error(Oe(200));return fh(null,e,t,!0,n)};kr.hydrateRoot=function(e,t,n){if(!kv(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=JE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ZE(t,null,e,1,n??null,i,!1,o,a),e[Hi]=t.current,Fu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new uh(t)};kr.render=function(e,t,n){if(!ch(t))throw Error(Oe(200));return fh(null,e,t,!1,n)};kr.unmountComponentAtNode=function(e){if(!ch(e))throw Error(Oe(40));return e._reactRootContainer?(Ma(function(){fh(null,null,e,!1,function(){e._reactRootContainer=null,e[Hi]=null})}),!0):!1};kr.unstable_batchedUpdates=Av;kr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ch(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return fh(e,t,n,!1,r)};kr.version="18.2.0-next-9e3b772b8-20220608";function e_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e_)}catch(e){console.error(e)}}e_(),Z1.exports=kr;var iA=Z1.exports,Hy=iA;Np.createRoot=Hy.createRoot,Np.hydrateRoot=Hy.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}var Oo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oo||(Oo={}));const Wy="popstate";function oA(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:u=""}=Ga(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),C0("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof o=="string"?o:Md(o))}function r(i,o){dh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lA(t,n,r,e)}function Mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aA(){return Math.random().toString(36).substr(2,8)}function Xy(e,t){return{usr:e.state,key:e.key,idx:t}}function C0(e,t,n,r){return n===void 0&&(n=null),Wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ga(t):t,{state:n,key:t&&t.key||r||aA()})}function Md(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Oo.Pop,u=null,f=h();f==null&&(f=0,a.replaceState(Wu({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=Oo.Pop;let B=h(),x=B==null?null:B-f;f=B,u&&u({action:l,location:k.location,delta:x})}function p(B,x){l=Oo.Push;let S=C0(k.location,B,x);n&&n(S,B),f=h()+1;let A=Xy(S,f),U=k.createHref(S);try{a.pushState(A,"",U)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(U)}o&&u&&u({action:l,location:k.location,delta:1})}function R(B,x){l=Oo.Replace;let S=C0(k.location,B,x);n&&n(S,B),f=h();let A=Xy(S,f),U=k.createHref(S);a.replaceState(A,"",U),o&&u&&u({action:l,location:k.location,delta:0})}function O(B){let x=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof B=="string"?B:Md(B);return Mn(x,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,x)}let k={get action(){return l},get location(){return e(i,a)},listen(B){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Wy,m),u=B,()=>{i.removeEventListener(Wy,m),u=null}},createHref(B){return t(i,B)},createURL:O,encodeLocation(B){let x=O(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:R,go(B){return a.go(B)}};return k}var Yy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yy||(Yy={}));function sA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ga(t):t,i=Nv(r.pathname||"/",n);if(i==null)return null;let o=t_(e);uA(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=yA(o[l],_A(i));return a}function t_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Mn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=$o([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(Mn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),t_(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:vA(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of n_(o.path))i(o,a,u)}),t}function n_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=n_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function uA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cA=/^:\w+$/,fA=3,dA=2,hA=1,mA=10,pA=-2,Qy=e=>e==="*";function vA(e,t){let n=e.split("/"),r=n.length;return n.some(Qy)&&(r+=pA),t&&(r+=dA),n.filter(i=>!Qy(i)).reduce((i,o)=>i+(cA.test(o)?fA:o===""?hA:mA),r)}function gA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yA(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=xA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!h)return null;Object.assign(r,h.params);let m=l.route;o.push({params:r,pathname:$o([i,h.pathname]),pathnameBase:AA($o([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=$o([i,h.pathnameBase]))}return o}function xA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:p,isOptional:R}=h;if(p==="*"){let k=l[m]||"";a=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const O=l[m];return R&&!O?f[p]=void 0:f[p]=SA(O||"",p),f},{}),pathname:o,pathnameBase:a,pattern:e}}function EA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _A(e){try{return decodeURI(e)}catch(t){return dh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SA(e,t){try{return decodeURIComponent(e)}catch(n){return dh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Nv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ga(e):e;return{pathname:n?n.startsWith("/")?n:TA(n,t):t,search:CA(r),hash:bA(i)}}function TA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ga(e):(i=Wu({},e),Mn(!i.pathname||!i.pathname.includes("?"),fp("?","pathname","search",i)),Mn(!i.pathname||!i.pathname.includes("#"),fp("#","pathname","hash",i)),Mn(!i.search||!i.search.includes("#"),fp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let m=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m.pop();i.pathname=p.join("/")}l="/"+m.join("/")}else{let m=t.length-1;if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=wA(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const $o=e=>e.join("/").replace(/\/\/+/g,"/"),AA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o_=["post","put","patch","delete"];new Set(o_);const RA=["get",...o_];new Set(RA);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(this,arguments)}const Iv=ne.createContext(null),OA=ne.createContext(null),as=ne.createContext(null),hh=ne.createContext(null),Xo=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),a_=ne.createContext(null);function PA(e,t){let{relative:n}=t===void 0?{}:t;nc()||Mn(!1);let{basename:r,navigator:i}=ne.useContext(as),{hash:o,pathname:a,search:l}=s_(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:$o([r,a])),i.createHref({pathname:u,search:l,hash:o})}function nc(){return ne.useContext(hh)!=null}function mh(){return nc()||Mn(!1),ne.useContext(hh).location}function l_(e){ne.useContext(as).static||ne.useLayoutEffect(e)}function Mv(){let{isDataRoute:e}=ne.useContext(Xo);return e?HA():kA()}function kA(){nc()||Mn(!1);let e=ne.useContext(Iv),{basename:t,navigator:n}=ne.useContext(as),{matches:r}=ne.useContext(Xo),{pathname:i}=mh(),o=JSON.stringify(r_(r).map(u=>u.pathnameBase)),a=ne.useRef(!1);return l_(()=>{a.current=!0}),ne.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=i_(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$o([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,o,i,e])}function NA(){let{matches:e}=ne.useContext(Xo),t=e[e.length-1];return t?t.params:{}}function s_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=ne.useContext(Xo),{pathname:i}=mh(),o=JSON.stringify(r_(r).map(a=>a.pathnameBase));return ne.useMemo(()=>i_(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function IA(e,t){return MA(e,t)}function MA(e,t,n){nc()||Mn(!1);let{navigator:r}=ne.useContext(as),{matches:i}=ne.useContext(Xo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=mh(),f;if(t){var h;let k=typeof t=="string"?Ga(t):t;l==="/"||(h=k.pathname)!=null&&h.startsWith(l)||Mn(!1),f=k}else f=u;let m=f.pathname||"/",p=l==="/"?m:m.slice(l.length)||"/",R=sA(e,{pathname:p}),O=$A(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:$o([l,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:$o([l,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n);return t&&O?ne.createElement(hh.Provider,{value:{location:Dd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Oo.Pop}},O):O}function DA(){let e=VA(),t=LA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),n?ne.createElement("pre",{style:i},n):null,o)}const FA=ne.createElement(DA,null);class BA extends ne.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?ne.createElement(Xo.Provider,{value:this.props.routeContext},ne.createElement(a_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(e){let{routeContext:t,match:n,children:r}=e,i=ne.useContext(Iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(Xo.Provider,{value:t},r)}function $A(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));l>=0||Mn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,u,f)=>{let h=u.route.id?a==null?void 0:a[u.route.id]:null,m=null;n&&(m=u.route.errorElement||FA);let p=t.concat(o.slice(0,f+1)),R=()=>{let O;return h?O=m:u.route.Component?O=ne.createElement(u.route.Component,null):u.route.element?O=u.route.element:O=l,ne.createElement(jA,{match:u,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:O})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?ne.createElement(BA,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:R(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):R()},null)}var u_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u_||{}),Fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fd||{});function GA(e){let t=ne.useContext(Iv);return t||Mn(!1),t}function zA(e){let t=ne.useContext(OA);return t||Mn(!1),t}function UA(e){let t=ne.useContext(Xo);return t||Mn(!1),t}function c_(e){let t=UA(),n=t.matches[t.matches.length-1];return n.route.id||Mn(!1),n.route.id}function VA(){var e;let t=ne.useContext(a_),n=zA(Fd.UseRouteError),r=c_(Fd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function HA(){let{router:e}=GA(u_.UseNavigateStable),t=c_(Fd.UseNavigateStable),n=ne.useRef(!1);return l_(()=>{n.current=!0}),ne.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Dd({fromRouteId:t},o)))},[e,t])}function b0(e){Mn(!1)}function WA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Oo.Pop,navigator:o,static:a=!1}=e;nc()&&Mn(!1);let l=t.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=Ga(r));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:R="default"}=r,O=ne.useMemo(()=>{let k=Nv(f,l);return k==null?null:{location:{pathname:k,search:h,hash:m,state:p,key:R},navigationType:i}},[l,f,h,m,p,R,i]);return O==null?null:ne.createElement(as.Provider,{value:u},ne.createElement(hh.Provider,{children:n,value:O}))}function XA(e){let{children:t,location:n}=e;return IA(L0(t),n)}new Promise(()=>{});function L0(e,t){t===void 0&&(t=[]);let n=[];return ne.Children.forEach(e,(r,i)=>{if(!ne.isValidElement(r))return;let o=[...t,i];if(r.type===ne.Fragment){n.push.apply(n,L0(r.props.children,o));return}r.type!==b0&&Mn(!1),!r.props.index||!r.props.children||Mn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=L0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(this,arguments)}function YA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KA(e,t){return e.button===0&&(!t||t==="_self")&&!QA(e)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZA="startTransition",Ky=YS[ZA];function JA(e){let{basename:t,children:n,future:r,window:i}=e,o=ne.useRef();o.current==null&&(o.current=oA({window:i,v5Compat:!0}));let a=o.current,[l,u]=ne.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},h=ne.useCallback(m=>{f&&Ky?Ky(()=>u(m)):u(m)},[u,f]);return ne.useLayoutEffect(()=>a.listen(h),[a,h]),ne.createElement(WA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=ne.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:f,preventScrollReset:h,unstable_viewTransition:m}=t,p=YA(t,qA),{basename:R}=ne.useContext(as),O,k=!1;if(typeof f=="string"&&t2.test(f)&&(O=f,e2))try{let A=new URL(window.location.href),U=f.startsWith("//")?new URL(A.protocol+f):new URL(f),X=Nv(U.pathname,R);U.origin===A.origin&&X!=null?f=X+U.search+U.hash:k=!0}catch{}let B=PA(f,{relative:i}),x=n2(f,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:m});function S(A){r&&r(A),A.defaultPrevented||x(A)}return ne.createElement("a",R0({},p,{href:O||B,onClick:k||o?r:S,ref:n,target:u}))});var qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qy||(qy={}));var Zy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function n2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,u=Mv(),f=mh(),h=s_(e,{relative:a});return ne.useCallback(m=>{if(KA(m,n)){m.preventDefault();let p=r!==void 0?r:Md(f)===Md(h);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[f,u,h,r,i,n,e,o,a,l])}function r2(){return ie.jsxs("div",{className:"mobile-message-page",children:[ie.jsx("div",{className:"mobile-header",children:"Latentscope is designed to be used on a desktop computer. Please use a desktop computer to access this page."}),ie.jsxs("div",{className:"mobile-content",children:["Latentscope is meant to be used with relatively larger datasets, setup for either local computation or on-prem or a trusted cloud server. It is a workflow & tool combined for processing and exploring large amounts of text. Please come back on a desktop and try installing it locally!",ie.jsx("br",{}),ie.jsx("br",{}),ie.jsx("a",{href:"https://github.com/enjalot/latent-scope",children:"GitHub repository"})]})]})}var d_={exports:{}},i2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o2=i2,a2=o2;function h_(){}function m_(){}m_.resetWarningCache=h_;var l2=function(){function e(r,i,o,a,l,u){if(u!==a2){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:m_,resetWarningCache:h_};return n.PropTypes=n,n};d_.exports=l2();var s2=d_.exports;const Ye=B0(s2);Ye.object,Ye.bool,Ye.func,Ye.func,Ye.func;const Gf="https://api.latentscope.com/api";function u2(){const[e,t]=ne.useState([]);ne.useEffect(()=>{fetch(`${Gf}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=ne.useState({});ne.useEffect(()=>{e.forEach(l=>{fetch(`${Gf}/datasets/${l.id}/scopes`).then(u=>u.json()).then(u=>r(f=>{const h={...f};return h[l.id]=u,h}))})},[e]),ne.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=ne.useState(null),a=Mv();return ne.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),ie.jsxs("div",{className:"home",children:[null,ie.jsxs("div",{className:"section datasets",children:[ie.jsx("h3",{children:"Datasets"}),ie.jsx("div",{className:"datasets-content",children:e.map(l=>{var u;return ie.jsxs("div",{className:"dataset",children:[ie.jsxs("h3",{children:[" ",l.id," ",null]}),ie.jsxs("span",{children:[l.length," rows"]}),ie.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((u=n[l.id])==null?void 0:u.map((f,h)=>ie.jsxs("div",{className:"scope-link",children:[ie.jsxs(f_,{to:`/datasets/${l.id}/explore/${f.id}`,children:[f.label||f.id,ie.jsx("br",{}),f.ignore_hulls?ie.jsx("img",{src:`${Gf}/files/${l.id}/umaps/${f.umap_id}.png`}):ie.jsx("img",{src:`${Gf}/files/${l.id}/clusters/${f.cluster_id}.png`})]}),ie.jsx("br",{}),ie.jsx("span",{className:"scope-description",children:f.description}),ie.jsx("br",{}),null]},h)))})]},l.id)})})]})]})}const Jy="https://api.latentscope.com/api";p_.propTypes={data:Ye.array.isRequired,tagset:Ye.object,datasetId:Ye.string,maxRows:Ye.number,onTagset:Ye.func,onHover:Ye.func,onClick:Ye.func};function p_({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return ie.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let u;function f(m,p){console.log("tag",m),console.log("index",p),console.log("tagset",t),console.log("tagset[tag]",t[m]),t[m].includes(p)?(console.log("removing"),fetch(`${Jy}/tags/remove?dataset=${n}&tag=${m}&index=${p}`).then(R=>R.json()).then(R=>{console.log("removed",R),i(R)})):(console.log("adding"),fetch(`${Jy}/tags/add?dataset=${n}&tag=${m}&index=${p}`).then(R=>R.json()).then(R=>{console.log("added",R),i(R)}))}t&&(u=Object.keys(t));const h=r?e.slice(0,r):e;return ie.jsxs(ie.Fragment,{children:[ie.jsxs("table",{className:"datatable",children:[ie.jsx("thead",{children:ie.jsxs("tr",{children:[l.map((m,p)=>ie.jsx("th",{children:m},p)),u?ie.jsx("th",{children:"tags"}):null]})}),ie.jsx("tbody",{children:h.map((m,p)=>ie.jsxs("tr",{onMouseEnter:()=>o&&o(m.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(m.index),children:[l.map((R,O)=>ie.jsx("td",{children:R=="url"?ie.jsx("a",{href:m[R],children:"url"}):m[R]},O)),u?ie.jsx("td",{children:u.map((R,O)=>ie.jsx("button",{onClick:k=>{f(R,m.index),k.preventDefault(),k.stopPropagation()},className:t[R].includes(m.index)?"tag-active":"tag-inactive",children:R},O))}):null]},p))})]}),r&&e.length>r?ie.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const c2="https://api.latentscope.com/api";xu.propTypes={dataset:Ye.object.isRequired,indices:Ye.array.isRequired,distances:Ye.array,clusterIndices:Ye.array,clusterLabels:Ye.array,maxRows:Ye.number,tagset:Ye.object,onHover:Ye.func,onClick:Ye.func,onTagset:Ye.func};function xu({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:u,onTagset:f}){const[h,m]=ne.useState([]),p=ne.useCallback(R=>{e&&fetch(`${c2}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:e.id,indices:R})}).then(O=>O.json()).then(O=>{let k=O.map((B,x)=>{let S=R[x],A={index:S,...B};return n&&n.length&&(A.distance=n[x]),r&&r.length&&i&&i.length&&(A.cluster=i[r[S].cluster].label),A});m(k)})},[e,n,r,i]);return ne.useEffect(()=>{t&&t.length&&(console.log("refetching hydrate"),p(t))},[t]),ie.jsx("div",{children:ie.jsx(p_,{data:h,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:f,onHover:l,onClick:u})})}const v_=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Dv=(e,t)=>t?e.toLowerCase():e,g_=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=Dv(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},Fv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Dv(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},e1=(e,t)=>()=>{e.forEach(n=>n(t))},y_=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Fv(e);return(o,a,l={})=>{const u=Dv(o,n);if(!e[u])return;const f=[...e[u]];if(f.forEach((h,m)=>{--e.__times__[u][m]<1&&i(u,h)}),r||l.async?setTimeout(e1(f,a),0):e1(f,a)(),t&&!l.isNoGlobalBroadcast)try{v_.postMessage({event:u,news:a})}catch(h){if(h instanceof DOMException)console.warn(`Could not broadcast '${u}' globally. Payload is not clonable.`);else throw h}}},f2=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},x_=()=>({__times__:{}}),d2=({async:e=!1,caseInsensitive:t=!1,stack:n=x_()}={})=>(n.__times__||(n.__times__={}),{publish:y_(n,{async:e,caseInsensitive:t}),subscribe:g_(n,{caseInsensitive:t}),unsubscribe:Fv(n,{caseInsensitive:t}),clear:f2(n),stack:n}),zf=x_(),h2={publish:y_(zf,{isGlobal:!0}),subscribe:g_(zf),unsubscribe:Fv(zf),stack:zf};v_.onmessage=({data:{event:e,news:t}})=>h2.publish(e,t,{isNoGlobalBroadcast:!0});var E_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(kS,function(){var n=function(c){return c instanceof Uint8Array||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Float32Array||c instanceof Float64Array||c instanceof Uint8ClampedArray},r=function(c,v){for(var C=Object.keys(v),H=0;H<C.length;++H)c[C[H]]=v[C[H]];return c},i=`
`;function o(c){return typeof atob<"u"?atob(c):"base64:"+c}function a(c){var v=new Error("(regl) "+c);throw console.error(v),v}function l(c,v){c||a(v)}function u(c){return c?": "+c:""}function f(c,v,C){c in v||a("unknown parameter ("+c+")"+u(C)+". possible values: "+Object.keys(v).join())}function h(c,v){n(c)||a("invalid parameter type"+u(v)+". must be a typed array")}function m(c,v){switch(v){case"number":return typeof c=="number";case"object":return typeof c=="object";case"string":return typeof c=="string";case"boolean":return typeof c=="boolean";case"function":return typeof c=="function";case"undefined":return typeof c>"u";case"symbol":return typeof c=="symbol"}}function p(c,v,C){m(c,v)||a("invalid parameter type"+u(C)+". expected "+v+", got "+typeof c)}function R(c,v){c>=0&&(c|0)===c||a("invalid parameter type, ("+c+")"+u(v)+". must be a nonnegative integer")}function O(c,v,C){v.indexOf(c)<0&&a("invalid value"+u(C)+". must be one of: "+v)}var k=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function B(c){Object.keys(c).forEach(function(v){k.indexOf(v)<0&&a('invalid regl constructor argument "'+v+'". must be one of '+k)})}function x(c,v){for(c=c+"";c.length<v;)c=" "+c;return c}function S(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function A(c,v){this.number=c,this.line=v,this.errors=[]}function U(c,v,C){this.file=c,this.line=v,this.message=C}function X(){var c=new Error,v=(c.stack||c).toString(),C=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(v);if(C)return C[1];var H=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(v);return H?H[1]:"unknown"}function le(){var c=new Error,v=(c.stack||c).toString(),C=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(v);if(C)return C[1];var H=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(v);return H?H[1]:"unknown"}function Ae(c,v){var C=c.split(`
`),H=1,ee=0,V={unknown:new S,0:new S};V.unknown.name=V[0].name=v||X(),V.unknown.lines.push(new A(0,""));for(var Q=0;Q<C.length;++Q){var fe=C[Q],ce=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(fe);if(ce)switch(ce[1]){case"line":var ve=/(\d+)(\s+\d+)?/.exec(ce[2]);ve&&(H=ve[1]|0,ve[2]&&(ee=ve[2]|0,ee in V||(V[ee]=new S)));break;case"define":var ye=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ce[2]);ye&&(V[ee].name=ye[1]?o(ye[2]):ye[2]);break}V[ee].lines.push(new A(H++,fe))}return Object.keys(V).forEach(function(ge){var _e=V[ge];_e.lines.forEach(function(de){_e.index[de.number]=de})}),V}function ue(c){var v=[];return c.split(`
`).forEach(function(C){if(!(C.length<5)){var H=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(C);H?v.push(new U(H[1]|0,H[2]|0,H[3].trim())):C.length>0&&v.push(new U("unknown",0,C))}}),v}function ft(c,v){v.forEach(function(C){var H=c[C.file];if(H){var ee=H.index[C.line];if(ee){ee.errors.push(C),H.hasErrors=!0;return}}c.unknown.hasErrors=!0,c.unknown.lines[0].errors.push(C)})}function Me(c,v,C,H,ee){if(!c.getShaderParameter(v,c.COMPILE_STATUS)){var V=c.getShaderInfoLog(v),Q=H===c.FRAGMENT_SHADER?"fragment":"vertex";dt(C,"string",Q+" shader source must be a string",ee);var fe=Ae(C,ee),ce=ue(V);ft(fe,ce),Object.keys(fe).forEach(function(ve){var ye=fe[ve];if(!ye.hasErrors)return;var ge=[""],_e=[""];function de(pe,D){ge.push(pe),_e.push(D||"")}de("file number "+ve+": "+ye.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ye.lines.forEach(function(pe){if(pe.errors.length>0){de(x(pe.number,4)+"|  ","background-color:yellow; font-weight:bold"),de(pe.line+i,"color:red; background-color:yellow; font-weight:bold");var D=0;pe.errors.forEach(function(Y){var me=Y.message,Ie=/^\s*'(.*)'\s*:\s*(.*)$/.exec(me);if(Ie){var se=Ie[1];switch(me=Ie[2],se){case"assign":se="=";break}D=Math.max(pe.line.indexOf(se,D),0)}else D=0;de(x("| ",6)),de(x("^^^",D+3)+i,"font-weight:bold"),de(x("| ",6)),de(me+i,"font-weight:bold")}),de(x("| ",6)+i)}else de(x(pe.number,4)+"|  "),de(pe.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(_e[0]=ge.join("%c"),console.log.apply(console,_e)):console.log(ge.join(""))}),l.raise("Error compiling "+Q+" shader, "+fe[0].name)}}function ze(c,v,C,H,ee){if(!c.getProgramParameter(v,c.LINK_STATUS)){var V=c.getProgramInfoLog(v),Q=Ae(C,ee),fe=Ae(H,ee),ce='Error linking program with vertex shader, "'+fe[0].name+'", and fragment shader "'+Q[0].name+'"';typeof document<"u"?console.log("%c"+ce+i+"%c"+V,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ce+i+V),l.raise(ce)}}function Je(c){c._commandRef=X()}function et(c,v,C,H){Je(c);function ee(ce){return ce?H.id(ce):0}c._fragId=ee(c.static.frag),c._vertId=ee(c.static.vert);function V(ce,ve){Object.keys(ve).forEach(function(ye){ce[H.id(ye)]=!0})}var Q=c._uniformSet={};V(Q,v.static),V(Q,v.dynamic);var fe=c._attributeSet={};V(fe,C.static),V(fe,C.dynamic),c._hasCount="count"in c.static||"count"in c.dynamic||"elements"in c.static||"elements"in c.dynamic}function Xe(c,v){var C=le();a(c+" in command "+(v||X())+(C==="unknown"?"":" called from "+C))}function nt(c,v,C){c||Xe(v,C||X())}function wt(c,v,C,H){c in v||Xe("unknown parameter ("+c+")"+u(C)+". possible values: "+Object.keys(v).join(),H||X())}function dt(c,v,C,H){m(c,v)||Xe("invalid parameter type"+u(C)+". expected "+v+", got "+typeof c,H||X())}function xe(c){c()}function Ge(c,v,C){c.texture?O(c.texture._texture.internalformat,v,"unsupported texture format for attachment"):O(c.renderbuffer._renderbuffer.format,C,"unsupported renderbuffer format for attachment")}var Ue=33071,Ce=9728,Qe=9984,Et=9985,Ut=9986,Dt=9987,Kt=5120,Wt=5121,Pt=5122,qt=5123,Dn=5124,Fn=5125,Qt=5126,Bt=32819,mt=32820,_t=33635,yt=34042,Ct=36193,Ot={};Ot[Kt]=Ot[Wt]=1,Ot[Pt]=Ot[qt]=Ot[Ct]=Ot[_t]=Ot[Bt]=Ot[mt]=2,Ot[Dn]=Ot[Fn]=Ot[Qt]=Ot[yt]=4;function Vt(c,v){return c===mt||c===Bt||c===_t?2:c===yt?4:Ot[c]*v}function Zt(c){return!(c&c-1)&&!!c}function Pn(c,v,C){var H,ee=v.width,V=v.height,Q=v.channels;l(ee>0&&ee<=C.maxTextureSize&&V>0&&V<=C.maxTextureSize,"invalid texture shape"),(c.wrapS!==Ue||c.wrapT!==Ue)&&l(Zt(ee)&&Zt(V),"incompatible wrap mode for texture, both width and height must be power of 2"),v.mipmask===1?ee!==1&&V!==1&&l(c.minFilter!==Qe&&c.minFilter!==Ut&&c.minFilter!==Et&&c.minFilter!==Dt,"min filter requires mipmap"):(l(Zt(ee)&&Zt(V),"texture must be a square power of 2 to support mipmapping"),l(v.mipmask===(ee<<1)-1,"missing or incomplete mipmap data")),v.type===Qt&&(C.extensions.indexOf("oes_texture_float_linear")<0&&l(c.minFilter===Ce&&c.magFilter===Ce,"filter not supported, must enable oes_texture_float_linear"),l(!c.genMipmaps,"mipmap generation not supported with float textures"));var fe=v.images;for(H=0;H<16;++H)if(fe[H]){var ce=ee>>H,ve=V>>H;l(v.mipmask&1<<H,"missing mipmap data");var ye=fe[H];if(l(ye.width===ce&&ye.height===ve,"invalid shape for mip images"),l(ye.format===v.format&&ye.internalformat===v.internalformat&&ye.type===v.type,"incompatible type for mip image"),!ye.compressed)if(ye.data){var ge=Math.ceil(Vt(ye.type,Q)*ce/ye.unpackAlignment)*ye.unpackAlignment;l(ye.data.byteLength===ge*ve,"invalid data for image, buffer size is inconsistent with image format")}else ye.element||ye.copy}else c.genMipmaps||l((v.mipmask&1<<H)===0,"extra mipmap data");v.compressed&&l(!c.genMipmaps,"mipmap generation for compressed images not supported")}function Wr(c,v,C,H){var ee=c.width,V=c.height,Q=c.channels;l(ee>0&&ee<=H.maxTextureSize&&V>0&&V<=H.maxTextureSize,"invalid texture shape"),l(ee===V,"cube map must be square"),l(v.wrapS===Ue&&v.wrapT===Ue,"wrap mode not supported by cube map");for(var fe=0;fe<C.length;++fe){var ce=C[fe];l(ce.width===ee&&ce.height===V,"inconsistent cube map face shape"),v.genMipmaps&&(l(!ce.compressed,"can not generate mipmap for compressed textures"),l(ce.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ve=ce.images,ye=0;ye<16;++ye){var ge=ve[ye];if(ge){var _e=ee>>ye,de=V>>ye;l(ce.mipmask&1<<ye,"missing mipmap data"),l(ge.width===_e&&ge.height===de,"invalid shape for mip images"),l(ge.format===c.format&&ge.internalformat===c.internalformat&&ge.type===c.type,"incompatible type for mip image"),ge.compressed||(ge.data?l(ge.data.byteLength===_e*de*Math.max(Vt(ge.type,Q),ge.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ge.element||ge.copy)}}}}var g=r(l,{optional:xe,raise:a,commandRaise:Xe,command:nt,parameter:f,commandParameter:wt,constructor:B,type:p,commandType:dt,isTypedArray:h,nni:R,oneOf:O,shaderError:Me,linkError:ze,callSite:le,saveCommandRef:Je,saveDrawInfo:et,framebufferFormat:Ge,guessCommand:X,texture2D:Pn,textureCube:Wr}),Lt=0,Ft=0,Ne=5,rt=6;function xt(c,v){this.id=Lt++,this.type=c,this.data=v}function De(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Rt(c){if(c.length===0)return[];var v=c.charAt(0),C=c.charAt(c.length-1);if(c.length>1&&v===C&&(v==='"'||v==="'"))return['"'+De(c.substr(1,c.length-2))+'"'];var H=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(c);if(H)return Rt(c.substr(0,H.index)).concat(Rt(H[1])).concat(Rt(c.substr(H.index+H[0].length)));var ee=c.split(".");if(ee.length===1)return['"'+De(c)+'"'];for(var V=[],Q=0;Q<ee.length;++Q)V=V.concat(Rt(ee[Q]));return V}function jt(c){return"["+Rt(c).join("][")+"]"}function st(c,v){return new xt(c,jt(v+""))}function Jt(c){return typeof c=="function"&&!c._reglType||c instanceof xt}function en(c,v){if(typeof c=="function")return new xt(Ft,c);if(typeof c=="number"||typeof c=="boolean")return new xt(Ne,c);if(Array.isArray(c))return new xt(rt,c.map(function(C,H){return en(C,v+"["+H+"]")}));if(c instanceof xt)return c;g(!1,"invalid option type in uniform "+v)}var kt={DynamicVariable:xt,define:st,isDynamic:Jt,unbox:en,accessor:jt},yn={next:typeof requestAnimationFrame=="function"?function(c){return requestAnimationFrame(c)}:function(c){return setTimeout(c,16)},cancel:typeof cancelAnimationFrame=="function"?function(c){return cancelAnimationFrame(c)}:clearTimeout},xn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Z(){var c={"":0},v=[""];return{id:function(C){var H=c[C];return H||(H=c[C]=v.length,v.push(C),H)},str:function(C){return v[C]}}}function pt(c,v,C){var H=document.createElement("canvas");r(H.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),c.appendChild(H),c===document.body&&(H.style.position="absolute",r(c.style,{margin:0,padding:0}));function ee(){var fe=window.innerWidth,ce=window.innerHeight;if(c!==document.body){var ve=H.getBoundingClientRect();fe=ve.right-ve.left,ce=ve.bottom-ve.top}H.width=C*fe,H.height=C*ce}var V;c!==document.body&&typeof ResizeObserver=="function"?(V=new ResizeObserver(function(){setTimeout(ee)}),V.observe(c)):window.addEventListener("resize",ee,!1);function Q(){V?V.disconnect():window.removeEventListener("resize",ee),c.removeChild(H)}return ee(),{canvas:H,onDestroy:Q}}function Xn(c,v){function C(H){try{return c.getContext(H,v)}catch{return null}}return C("webgl")||C("experimental-webgl")||C("webgl-experimental")}function on(c){return typeof c.nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"}function ii(c){return typeof c.drawArrays=="function"||typeof c.drawElements=="function"}function Qi(c){return typeof c=="string"?c.split():(g(Array.isArray(c),"invalid extension array"),c)}function Ki(c){return typeof c=="string"?(g(typeof document<"u","not supported outside of DOM"),document.querySelector(c)):c}function qi(c){var v=c||{},C,H,ee,V,Q={},fe=[],ce=[],ve=typeof window>"u"?1:window.devicePixelRatio,ye=!1,ge=function(pe){pe&&g.raise(pe)},_e=function(){};if(typeof v=="string"?(g(typeof document<"u","selector queries only supported in DOM enviroments"),C=document.querySelector(v),g(C,"invalid query string for element")):typeof v=="object"?on(v)?C=v:ii(v)?(V=v,ee=V.canvas):(g.constructor(v),"gl"in v?V=v.gl:"canvas"in v?ee=Ki(v.canvas):"container"in v&&(H=Ki(v.container)),"attributes"in v&&(Q=v.attributes,g.type(Q,"object","invalid context attributes")),"extensions"in v&&(fe=Qi(v.extensions)),"optionalExtensions"in v&&(ce=Qi(v.optionalExtensions)),"onDone"in v&&(g.type(v.onDone,"function","invalid or missing onDone callback"),ge=v.onDone),"profile"in v&&(ye=!!v.profile),"pixelRatio"in v&&(ve=+v.pixelRatio,g(ve>0,"invalid pixel ratio"))):g.raise("invalid arguments to regl"),C&&(C.nodeName.toLowerCase()==="canvas"?ee=C:H=C),!V){if(!ee){g(typeof document<"u","must manually specify webgl context outside of DOM environments");var de=pt(H||document.body,ge,ve);if(!de)return null;ee=de.canvas,_e=de.onDestroy}Q.premultipliedAlpha===void 0&&(Q.premultipliedAlpha=!0),V=Xn(ee,Q)}return V?{gl:V,canvas:ee,container:H,extensions:fe,optionalExtensions:ce,pixelRatio:ve,profile:ye,onDone:ge,onDestroy:_e}:(_e(),ge("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Zi(c,v){var C={};function H(Q){g.type(Q,"string","extension name must be string");var fe=Q.toLowerCase(),ce;try{ce=C[fe]=c.getExtension(fe)}catch{}return!!ce}for(var ee=0;ee<v.extensions.length;++ee){var V=v.extensions[ee];if(!H(V))return v.onDestroy(),v.onDone('"'+V+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return v.optionalExtensions.forEach(H),{extensions:C,restore:function(){Object.keys(C).forEach(function(Q){if(C[Q]&&!H(Q))throw new Error("(regl): error restoring extension "+Q)})}}}function dn(c,v){for(var C=Array(c),H=0;H<c;++H)C[H]=v(H);return C}var xr=5120,ss=5121,Yo=5122,Qo=5123,us=5124,za=5125,Ji=5126;function Ko(c){for(var v=16;v<=1<<28;v*=16)if(c<=v)return v;return 0}function eo(c){var v,C;return v=(c>65535)<<4,c>>>=v,C=(c>255)<<3,c>>>=C,v|=C,C=(c>15)<<2,c>>>=C,v|=C,C=(c>3)<<1,c>>>=C,v|=C,v|c>>1}function Ua(){var c=dn(8,function(){return[]});function v(V){var Q=Ko(V),fe=c[eo(Q)>>2];return fe.length>0?fe.pop():new ArrayBuffer(Q)}function C(V){c[eo(V.byteLength)>>2].push(V)}function H(V,Q){var fe=null;switch(V){case xr:fe=new Int8Array(v(Q),0,Q);break;case ss:fe=new Uint8Array(v(Q),0,Q);break;case Yo:fe=new Int16Array(v(2*Q),0,Q);break;case Qo:fe=new Uint16Array(v(2*Q),0,Q);break;case us:fe=new Int32Array(v(4*Q),0,Q);break;case za:fe=new Uint32Array(v(4*Q),0,Q);break;case Ji:fe=new Float32Array(v(4*Q),0,Q);break;default:return null}return fe.length!==Q?fe.subarray(0,Q):fe}function ee(V){C(V.buffer)}return{alloc:v,free:C,allocType:H,freeType:ee}}var gt=Ua();gt.zero=Ua();var Ti=3408,Va=3410,rc=3411,oi=3412,ai=3413,li=3414,ic=3415,Er=33901,cs=33902,qo=3379,fs=3386,Zo=34921,Ha=36347,Wa=36348,Xa=35661,Ya=35660,Ai=34930,Jo=36349,ds=34076,hs=34024,oc=7936,to=7937,no=7938,Qa=35724,ro=34047,ms=36063,ur=34852,si=3553,ui=34067,Ci=34069,kn=33984,Ir=6408,Bn=5126,En=5121,io=36160,Ka=36053,qa=36064,Za=16384,ac=function(c,v){var C=1;v.ext_texture_filter_anisotropic&&(C=c.getParameter(ro));var H=1,ee=1;v.webgl_draw_buffers&&(H=c.getParameter(ur),ee=c.getParameter(ms));var V=!!v.oes_texture_float;if(V){var Q=c.createTexture();c.bindTexture(si,Q),c.texImage2D(si,0,Ir,1,1,0,Ir,Bn,null);var fe=c.createFramebuffer();if(c.bindFramebuffer(io,fe),c.framebufferTexture2D(io,qa,si,Q,0),c.bindTexture(si,null),c.checkFramebufferStatus(io)!==Ka)V=!1;else{c.viewport(0,0,1,1),c.clearColor(1,0,0,1),c.clear(Za);var ce=gt.allocType(Bn,4);c.readPixels(0,0,1,1,Ir,Bn,ce),c.getError()?V=!1:(c.deleteFramebuffer(fe),c.deleteTexture(Q),V=ce[0]===1),gt.freeType(ce)}}var ve=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ye=!0;if(!ve){var ge=c.createTexture(),_e=gt.allocType(En,36);c.activeTexture(kn),c.bindTexture(ui,ge),c.texImage2D(Ci,0,Ir,3,3,0,Ir,En,_e),gt.freeType(_e),c.bindTexture(ui,null),c.deleteTexture(ge),ye=!c.getError()}return{colorBits:[c.getParameter(Va),c.getParameter(rc),c.getParameter(oi),c.getParameter(ai)],depthBits:c.getParameter(li),stencilBits:c.getParameter(ic),subpixelBits:c.getParameter(Ti),extensions:Object.keys(v).filter(function(de){return!!v[de]}),maxAnisotropic:C,maxDrawbuffers:H,maxColorAttachments:ee,pointSizeDims:c.getParameter(Er),lineWidthDims:c.getParameter(cs),maxViewportDims:c.getParameter(fs),maxCombinedTextureUnits:c.getParameter(Xa),maxCubeMapSize:c.getParameter(ds),maxRenderbufferSize:c.getParameter(hs),maxTextureUnits:c.getParameter(Ai),maxTextureSize:c.getParameter(qo),maxAttributes:c.getParameter(Zo),maxVertexUniforms:c.getParameter(Ha),maxVertexTextureUnits:c.getParameter(Ya),maxVaryingVectors:c.getParameter(Wa),maxFragmentUniforms:c.getParameter(Jo),glsl:c.getParameter(Qa),renderer:c.getParameter(to),vendor:c.getParameter(oc),version:c.getParameter(no),readFloat:V,npotTextureCube:ye}};function cr(c){return!!c&&typeof c=="object"&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&typeof c.offset=="number"&&c.shape.length===c.stride.length&&(Array.isArray(c.data)||n(c.data))}var nr=function(c){return Object.keys(c).map(function(v){return c[v]})},_r={shape:Eh,flatten:xh};function lc(c,v,C){for(var H=0;H<v;++H)C[H]=c[H]}function ps(c,v,C,H){for(var ee=0,V=0;V<v;++V)for(var Q=c[V],fe=0;fe<C;++fe)H[ee++]=Q[fe]}function Ja(c,v,C,H,ee,V){for(var Q=V,fe=0;fe<v;++fe)for(var ce=c[fe],ve=0;ve<C;++ve)for(var ye=ce[ve],ge=0;ge<H;++ge)ee[Q++]=ye[ge]}function vs(c,v,C,H,ee){for(var V=1,Q=C+1;Q<v.length;++Q)V*=v[Q];var fe=v[C];if(v.length-C===4){var ce=v[C+1],ve=v[C+2],ye=v[C+3];for(Q=0;Q<fe;++Q)Ja(c[Q],ce,ve,ye,H,ee),ee+=V}else for(Q=0;Q<fe;++Q)vs(c[Q],v,C+1,H,ee),ee+=V}function xh(c,v,C,H){var ee=1;if(v.length)for(var V=0;V<v.length;++V)ee*=v[V];else ee=0;var Q=H||gt.allocType(C,ee);switch(v.length){case 0:break;case 1:lc(c,v[0],Q);break;case 2:ps(c,v[0],v[1],Q);break;case 3:Ja(c,v[0],v[1],v[2],Q,0);break;default:vs(c,v,0,Q,0)}return Q}function Eh(c){for(var v=[],C=c;C.length;C=C[0])v.push(C.length);return v}var oo={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ea=5120,bi=5122,el=5124,_h=5121,tl=5123,ao=5125,ta=5126,gs=5126,lo={int8:ea,int16:bi,int32:el,uint8:_h,uint16:tl,uint32:ao,float:ta,float32:gs},Zv=35048,An=35040,nl={dynamic:Zv,stream:An,static:35044},na=_r.flatten,sc=_r.shape,ys=35044,xs=35040,rl=5121,il=5126,Xr=[];Xr[5120]=1,Xr[5122]=2,Xr[5124]=4,Xr[5121]=1,Xr[5123]=2,Xr[5125]=4,Xr[5126]=4;function ra(c){return oo[Object.prototype.toString.call(c)]|0}function ol(c,v){for(var C=0;C<v.length;++C)c[C]=v[C]}function Es(c,v,C,H,ee,V,Q){for(var fe=0,ce=0;ce<C;++ce)for(var ve=0;ve<H;++ve)c[fe++]=v[ee*ce+V*ve+Q]}function _s(c,v,C,H){var ee=0,V={};function Q(D){this.id=ee++,this.buffer=c.createBuffer(),this.type=D,this.usage=ys,this.byteLength=0,this.dimension=1,this.dtype=rl,this.persistentData=null,C.profile&&(this.stats={size:0})}Q.prototype.bind=function(){c.bindBuffer(this.type,this.buffer)},Q.prototype.destroy=function(){_e(this)};var fe=[];function ce(D,Y){var me=fe.pop();return me||(me=new Q(D)),me.bind(),ge(me,Y,xs,0,1,!1),me}function ve(D){fe.push(D)}function ye(D,Y,me){D.byteLength=Y.byteLength,c.bufferData(D.type,Y,me)}function ge(D,Y,me,Ie,se,Pe){var Le;if(D.usage=me,Array.isArray(Y)){if(D.dtype=Ie||il,Y.length>0){var qe;if(Array.isArray(Y[0])){Le=sc(Y);for(var te=1,J=1;J<Le.length;++J)te*=Le[J];D.dimension=te,qe=na(Y,Le,D.dtype),ye(D,qe,me),Pe?D.persistentData=qe:gt.freeType(qe)}else if(typeof Y[0]=="number"){D.dimension=se;var $e=gt.allocType(D.dtype,Y.length);ol($e,Y),ye(D,$e,me),Pe?D.persistentData=$e:gt.freeType($e)}else n(Y[0])?(D.dimension=Y[0].length,D.dtype=Ie||ra(Y[0])||il,qe=na(Y,[Y.length,Y[0].length],D.dtype),ye(D,qe,me),Pe?D.persistentData=qe:gt.freeType(qe)):g.raise("invalid buffer data")}}else if(n(Y))D.dtype=Ie||ra(Y),D.dimension=se,ye(D,Y,me),Pe&&(D.persistentData=new Uint8Array(new Uint8Array(Y.buffer)));else if(cr(Y)){Le=Y.shape;var we=Y.stride,he=Y.offset,Te=0,be=0,ut=0,lt=0;Le.length===1?(Te=Le[0],be=1,ut=we[0],lt=0):Le.length===2?(Te=Le[0],be=Le[1],ut=we[0],lt=we[1]):g.raise("invalid shape"),D.dtype=Ie||ra(Y.data)||il,D.dimension=be;var Re=gt.allocType(D.dtype,Te*be);Es(Re,Y.data,Te,be,ut,lt,he),ye(D,Re,me),Pe?D.persistentData=Re:gt.freeType(Re)}else Y instanceof ArrayBuffer?(D.dtype=rl,D.dimension=se,ye(D,Y,me),Pe&&(D.persistentData=new Uint8Array(new Uint8Array(Y)))):g.raise("invalid buffer data")}function _e(D){v.bufferCount--,H(D);var Y=D.buffer;g(Y,"buffer must not be deleted already"),c.deleteBuffer(Y),D.buffer=null,delete V[D.id]}function de(D,Y,me,Ie){v.bufferCount++;var se=new Q(Y);V[se.id]=se;function Pe(te){var J=ys,$e=null,we=0,he=0,Te=1;return Array.isArray(te)||n(te)||cr(te)||te instanceof ArrayBuffer?$e=te:typeof te=="number"?we=te|0:te&&(g.type(te,"object","buffer arguments must be an object, a number or an array"),"data"in te&&(g($e===null||Array.isArray($e)||n($e)||cr($e),"invalid data for buffer"),$e=te.data),"usage"in te&&(g.parameter(te.usage,nl,"invalid buffer usage"),J=nl[te.usage]),"type"in te&&(g.parameter(te.type,lo,"invalid buffer type"),he=lo[te.type]),"dimension"in te&&(g.type(te.dimension,"number","invalid dimension"),Te=te.dimension|0),"length"in te&&(g.nni(we,"buffer length must be a nonnegative integer"),we=te.length|0)),se.bind(),$e?ge(se,$e,J,he,Te,Ie):(we&&c.bufferData(se.type,we,J),se.dtype=he||rl,se.usage=J,se.dimension=Te,se.byteLength=we),C.profile&&(se.stats.size=se.byteLength*Xr[se.dtype]),Pe}function Le(te,J){g(J+te.byteLength<=se.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+te.byteLength+" starting from offset "+J+" to a buffer of size "+se.byteLength),c.bufferSubData(se.type,J,te)}function qe(te,J){var $e=(J||0)|0,we;if(se.bind(),n(te)||te instanceof ArrayBuffer)Le(te,$e);else if(Array.isArray(te)){if(te.length>0)if(typeof te[0]=="number"){var he=gt.allocType(se.dtype,te.length);ol(he,te),Le(he,$e),gt.freeType(he)}else if(Array.isArray(te[0])||n(te[0])){we=sc(te);var Te=na(te,we,se.dtype);Le(Te,$e),gt.freeType(Te)}else g.raise("invalid buffer data")}else if(cr(te)){we=te.shape;var be=te.stride,ut=0,lt=0,Re=0,ke=0;we.length===1?(ut=we[0],lt=1,Re=be[0],ke=0):we.length===2?(ut=we[0],lt=we[1],Re=be[0],ke=be[1]):g.raise("invalid shape");var it=Array.isArray(te.data)?se.dtype:ra(te.data),ct=gt.allocType(it,ut*lt);Es(ct,te.data,ut,lt,Re,ke,te.offset),Le(ct,$e),gt.freeType(ct)}else g.raise("invalid data for buffer subdata");return Pe}return me||Pe(D),Pe._reglType="buffer",Pe._buffer=se,Pe.subdata=qe,C.profile&&(Pe.stats=se.stats),Pe.destroy=function(){_e(se)},Pe}function pe(){nr(V).forEach(function(D){D.buffer=c.createBuffer(),c.bindBuffer(D.type,D.buffer),c.bufferData(D.type,D.persistentData||D.byteLength,D.usage)})}return C.profile&&(v.getTotalBufferSize=function(){var D=0;return Object.keys(V).forEach(function(Y){D+=V[Y].stats.size}),D}),{create:de,createStream:ce,destroyStream:ve,clear:function(){nr(V).forEach(_e),fe.forEach(_e)},getBuffer:function(D){return D&&D._buffer instanceof Q?D._buffer:null},restore:pe,_initBuffer:ge}}var Sh=0,Ss=0,wh=1,ws=1,Th=4,Ah=4,ci={points:Sh,point:Ss,lines:wh,line:ws,triangles:Th,triangle:Ah,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ch=0,Li=1,Ri=4,bh=5120,fi=5121,uc=5122,so=5123,cc=5124,Yr=5125,Ts=34963,Lh=35040,As=35044;function Cs(c,v,C,H){var ee={},V=0,Q={uint8:fi,uint16:so};v.oes_element_index_uint&&(Q.uint32=Yr);function fe(pe){this.id=V++,ee[this.id]=this,this.buffer=pe,this.primType=Ri,this.vertCount=0,this.type=0}fe.prototype.bind=function(){this.buffer.bind()};var ce=[];function ve(pe){var D=ce.pop();return D||(D=new fe(C.create(null,Ts,!0,!1)._buffer)),ge(D,pe,Lh,-1,-1,0,0),D}function ye(pe){ce.push(pe)}function ge(pe,D,Y,me,Ie,se,Pe){pe.buffer.bind();var Le;if(D){var qe=Pe;!Pe&&(!n(D)||cr(D)&&!n(D.data))&&(qe=v.oes_element_index_uint?Yr:so),C._initBuffer(pe.buffer,D,Y,qe,3)}else c.bufferData(Ts,se,Y),pe.buffer.dtype=Le||fi,pe.buffer.usage=Y,pe.buffer.dimension=3,pe.buffer.byteLength=se;if(Le=Pe,!Pe){switch(pe.buffer.dtype){case fi:case bh:Le=fi;break;case so:case uc:Le=so;break;case Yr:case cc:Le=Yr;break;default:g.raise("unsupported type for element array")}pe.buffer.dtype=Le}pe.type=Le,g(Le!==Yr||!!v.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var te=Ie;te<0&&(te=pe.buffer.byteLength,Le===so?te>>=1:Le===Yr&&(te>>=2)),pe.vertCount=te;var J=me;if(me<0){J=Ri;var $e=pe.buffer.dimension;$e===1&&(J=Ch),$e===2&&(J=Li),$e===3&&(J=Ri)}pe.primType=J}function _e(pe){H.elementsCount--,g(pe.buffer!==null,"must not double destroy elements"),delete ee[pe.id],pe.buffer.destroy(),pe.buffer=null}function de(pe,D){var Y=C.create(null,Ts,!0),me=new fe(Y._buffer);H.elementsCount++;function Ie(se){if(!se)Y(),me.primType=Ri,me.vertCount=0,me.type=fi;else if(typeof se=="number")Y(se),me.primType=Ri,me.vertCount=se|0,me.type=fi;else{var Pe=null,Le=As,qe=-1,te=-1,J=0,$e=0;Array.isArray(se)||n(se)||cr(se)?Pe=se:(g.type(se,"object","invalid arguments for elements"),"data"in se&&(Pe=se.data,g(Array.isArray(Pe)||n(Pe)||cr(Pe),"invalid data for element buffer")),"usage"in se&&(g.parameter(se.usage,nl,"invalid element buffer usage"),Le=nl[se.usage]),"primitive"in se&&(g.parameter(se.primitive,ci,"invalid element buffer primitive"),qe=ci[se.primitive]),"count"in se&&(g(typeof se.count=="number"&&se.count>=0,"invalid vertex count for elements"),te=se.count|0),"type"in se&&(g.parameter(se.type,Q,"invalid buffer type"),$e=Q[se.type]),"length"in se?J=se.length|0:(J=te,$e===so||$e===uc?J*=2:($e===Yr||$e===cc)&&(J*=4))),ge(me,Pe,Le,qe,te,J,$e)}return Ie}return Ie(pe),Ie._reglType="elements",Ie._elements=me,Ie.subdata=function(se,Pe){return Y.subdata(se,Pe),Ie},Ie.destroy=function(){_e(me)},Ie}return{create:de,createStream:ve,destroyStream:ye,getElements:function(pe){return typeof pe=="function"&&pe._elements instanceof fe?pe._elements:null},clear:function(){nr(ee).forEach(_e)}}}var fc=new Float32Array(1),Rh=new Uint32Array(fc.buffer),Oh=5123;function dc(c){for(var v=gt.allocType(Oh,c.length),C=0;C<c.length;++C)if(isNaN(c[C]))v[C]=65535;else if(c[C]===1/0)v[C]=31744;else if(c[C]===-1/0)v[C]=64512;else{fc[0]=c[C];var H=Rh[0],ee=H>>>31<<15,V=(H<<1>>>24)-127,Q=H>>13&1023;if(V<-24)v[C]=ee;else if(V<-14){var fe=-14-V;v[C]=ee+(Q+1024>>fe)}else V>15?v[C]=ee+31744:v[C]=ee+(V+15<<10)+Q}return v}function nn(c){return Array.isArray(c)||n(c)}var hc=function(c){return!(c&c-1)&&!!c},Ph=34467,Mr=3553,bs=34067,al=34069,Oi=6408,Ls=6406,ll=6407,Pi=6409,sl=6410,mc=32854,Rs=32855,Os=36194,kh=32819,Nh=32820,Ih=33635,pc=34042,ul=6402,ia=34041,oa=35904,aa=35906,uo=36193,ki=33776,Ps=33777,ks=33778,Ns=33779,vc=35986,gc=35987,yc=34798,xc=35840,Ec=35841,_c=35842,Sc=35843,wc=36196,co=5121,Is=5123,Ms=5125,Sr=5126,Mh=10242,Dh=10243,Fh=10497,Ds=33071,Bh=33648,jh=10240,$h=10241,Fs=9728,Gh=9729,cl=9984,Bs=9985,Tc=9986,js=9987,zh=33170,la=4352,Ac=4353,Uh=4354,Vh=34046,Hh=3317,Wh=37440,Xh=37441,Yh=37443,fo=37444,sa=33984,Cc=[cl,Tc,Bs,js],ua=[0,Pi,sl,ll,Oi],wr={};wr[Pi]=wr[Ls]=wr[ul]=1,wr[ia]=wr[sl]=2,wr[ll]=wr[oa]=3,wr[Oi]=wr[aa]=4;function ho(c){return"[object "+c+"]"}var bc=ho("HTMLCanvasElement"),Lc=ho("OffscreenCanvas"),Rc=ho("CanvasRenderingContext2D"),Oc=ho("ImageBitmap"),Pc=ho("HTMLImageElement"),fl=ho("HTMLVideoElement"),Qh=Object.keys(oo).concat([bc,Lc,Rc,Oc,Pc,fl]),mo=[];mo[co]=1,mo[Sr]=4,mo[uo]=2,mo[Is]=2,mo[Ms]=4;var Cn=[];Cn[mc]=2,Cn[Rs]=2,Cn[Os]=2,Cn[ia]=4,Cn[ki]=.5,Cn[Ps]=.5,Cn[ks]=1,Cn[Ns]=1,Cn[vc]=.5,Cn[gc]=1,Cn[yc]=1,Cn[xc]=.5,Cn[Ec]=.25,Cn[_c]=.5,Cn[Sc]=.25,Cn[wc]=.5;function kc(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="number")}function $s(c){if(!Array.isArray(c))return!1;var v=c.length;return!(v===0||!nn(c[0]))}function Ni(c){return Object.prototype.toString.call(c)}function Gs(c){return Ni(c)===bc}function Nc(c){return Ni(c)===Lc}function Kh(c){return Ni(c)===Rc}function zs(c){return Ni(c)===Oc}function Ic(c){return Ni(c)===Pc}function Mc(c){return Ni(c)===fl}function Us(c){if(!c)return!1;var v=Ni(c);return Qh.indexOf(v)>=0?!0:kc(c)||$s(c)||cr(c)}function Dc(c){return oo[Object.prototype.toString.call(c)]|0}function qh(c,v){var C=v.length;switch(c.type){case co:case Is:case Ms:case Sr:var H=gt.allocType(c.type,C);H.set(v),c.data=H;break;case uo:c.data=dc(v);break;default:g.raise("unsupported texture type, must specify a typed array")}}function Fc(c,v){return gt.allocType(c.type===uo?Sr:c.type,v)}function Bc(c,v){c.type===uo?(c.data=dc(v),gt.freeType(v)):c.data=v}function jc(c,v,C,H,ee,V){for(var Q=c.width,fe=c.height,ce=c.channels,ve=Q*fe*ce,ye=Fc(c,ve),ge=0,_e=0;_e<fe;++_e)for(var de=0;de<Q;++de)for(var pe=0;pe<ce;++pe)ye[ge++]=v[C*de+H*_e+ee*pe+V];Bc(c,ye)}function dl(c,v,C,H,ee,V){var Q;if(typeof Cn[c]<"u"?Q=Cn[c]:Q=wr[c]*mo[v],V&&(Q*=6),ee){for(var fe=0,ce=C;ce>=1;)fe+=Q*ce*ce,ce/=2;return fe}else return Q*C*H}function Zh(c,v,C,H,ee,V,Q){var fe={"don't care":la,"dont care":la,nice:Uh,fast:Ac},ce={repeat:Fh,clamp:Ds,mirror:Bh},ve={nearest:Fs,linear:Gh},ye=r({mipmap:js,"nearest mipmap nearest":cl,"linear mipmap nearest":Bs,"nearest mipmap linear":Tc,"linear mipmap linear":js},ve),ge={none:0,browser:fo},_e={uint8:co,rgba4:kh,rgb565:Ih,"rgb5 a1":Nh},de={alpha:Ls,luminance:Pi,"luminance alpha":sl,rgb:ll,rgba:Oi,rgba4:mc,"rgb5 a1":Rs,rgb565:Os},pe={};v.ext_srgb&&(de.srgb=oa,de.srgba=aa),v.oes_texture_float&&(_e.float32=_e.float=Sr),v.oes_texture_half_float&&(_e.float16=_e["half float"]=uo),v.webgl_depth_texture&&(r(de,{depth:ul,"depth stencil":ia}),r(_e,{uint16:Is,uint32:Ms,"depth stencil":pc})),v.webgl_compressed_texture_s3tc&&r(pe,{"rgb s3tc dxt1":ki,"rgba s3tc dxt1":Ps,"rgba s3tc dxt3":ks,"rgba s3tc dxt5":Ns}),v.webgl_compressed_texture_atc&&r(pe,{"rgb atc":vc,"rgba atc explicit alpha":gc,"rgba atc interpolated alpha":yc}),v.webgl_compressed_texture_pvrtc&&r(pe,{"rgb pvrtc 4bppv1":xc,"rgb pvrtc 2bppv1":Ec,"rgba pvrtc 4bppv1":_c,"rgba pvrtc 2bppv1":Sc}),v.webgl_compressed_texture_etc1&&(pe["rgb etc1"]=wc);var D=Array.prototype.slice.call(c.getParameter(Ph));Object.keys(pe).forEach(function(w){var W=pe[w];D.indexOf(W)>=0&&(de[w]=W)});var Y=Object.keys(de);C.textureFormats=Y;var me=[];Object.keys(de).forEach(function(w){var W=de[w];me[W]=w});var Ie=[];Object.keys(_e).forEach(function(w){var W=_e[w];Ie[W]=w});var se=[];Object.keys(ve).forEach(function(w){var W=ve[w];se[W]=w});var Pe=[];Object.keys(ye).forEach(function(w){var W=ye[w];Pe[W]=w});var Le=[];Object.keys(ce).forEach(function(w){var W=ce[w];Le[W]=w});var qe=Y.reduce(function(w,W){var z=de[W];return z===Pi||z===Ls||z===Pi||z===sl||z===ul||z===ia||v.ext_srgb&&(z===oa||z===aa)?w[z]=z:z===Rs||W.indexOf("rgba")>=0?w[z]=Oi:w[z]=ll,w},{});function te(){this.internalformat=Oi,this.format=Oi,this.type=co,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=fo,this.width=0,this.height=0,this.channels=0}function J(w,W){w.internalformat=W.internalformat,w.format=W.format,w.type=W.type,w.compressed=W.compressed,w.premultiplyAlpha=W.premultiplyAlpha,w.flipY=W.flipY,w.unpackAlignment=W.unpackAlignment,w.colorSpace=W.colorSpace,w.width=W.width,w.height=W.height,w.channels=W.channels}function $e(w,W){if(!(typeof W!="object"||!W)){if("premultiplyAlpha"in W&&(g.type(W.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),w.premultiplyAlpha=W.premultiplyAlpha),"flipY"in W&&(g.type(W.flipY,"boolean","invalid texture flip"),w.flipY=W.flipY),"alignment"in W&&(g.oneOf(W.alignment,[1,2,4,8],"invalid texture unpack alignment"),w.unpackAlignment=W.alignment),"colorSpace"in W&&(g.parameter(W.colorSpace,ge,"invalid colorSpace"),w.colorSpace=ge[W.colorSpace]),"type"in W){var z=W.type;g(v.oes_texture_float||!(z==="float"||z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),g(v.oes_texture_half_float||!(z==="half float"||z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),g(v.webgl_depth_texture||!(z==="uint16"||z==="uint32"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(z,_e,"invalid texture type"),w.type=_e[z]}var je=w.width,St=w.height,y=w.channels,d=!1;"shape"in W?(g(Array.isArray(W.shape)&&W.shape.length>=2,"shape must be an array"),je=W.shape[0],St=W.shape[1],W.shape.length===3&&(y=W.shape[2],g(y>0&&y<=4,"invalid number of channels"),d=!0),g(je>=0&&je<=C.maxTextureSize,"invalid width"),g(St>=0&&St<=C.maxTextureSize,"invalid height")):("radius"in W&&(je=St=W.radius,g(je>=0&&je<=C.maxTextureSize,"invalid radius")),"width"in W&&(je=W.width,g(je>=0&&je<=C.maxTextureSize,"invalid width")),"height"in W&&(St=W.height,g(St>=0&&St<=C.maxTextureSize,"invalid height")),"channels"in W&&(y=W.channels,g(y>0&&y<=4,"invalid number of channels"),d=!0)),w.width=je|0,w.height=St|0,w.channels=y|0;var b=!1;if("format"in W){var M=W.format;g(v.webgl_depth_texture||!(M==="depth"||M==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(M,de,"invalid texture format");var F=w.internalformat=de[M];w.format=qe[F],M in _e&&("type"in W||(w.type=_e[M])),M in pe&&(w.compressed=!0),b=!0}!d&&b?w.channels=wr[w.format]:d&&!b?w.channels!==ua[w.format]&&(w.format=w.internalformat=ua[w.channels]):b&&d&&g(w.channels===wr[w.format],"number of channels inconsistent with specified format")}}function we(w){c.pixelStorei(Wh,w.flipY),c.pixelStorei(Xh,w.premultiplyAlpha),c.pixelStorei(Yh,w.colorSpace),c.pixelStorei(Hh,w.unpackAlignment)}function he(){te.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Te(w,W){var z=null;if(Us(W)?z=W:W&&(g.type(W,"object","invalid pixel data type"),$e(w,W),"x"in W&&(w.xOffset=W.x|0),"y"in W&&(w.yOffset=W.y|0),Us(W.data)&&(z=W.data)),g(!w.compressed||z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),W.copy){g(!z,"can not specify copy and data field for the same texture");var je=ee.viewportWidth,St=ee.viewportHeight;w.width=w.width||je-w.xOffset,w.height=w.height||St-w.yOffset,w.needsCopy=!0,g(w.xOffset>=0&&w.xOffset<je&&w.yOffset>=0&&w.yOffset<St&&w.width>0&&w.width<=je&&w.height>0&&w.height<=St,"copy texture read out of bounds")}else if(!z)w.width=w.width||1,w.height=w.height||1,w.channels=w.channels||4;else if(n(z))w.channels=w.channels||4,w.data=z,!("type"in W)&&w.type===co&&(w.type=Dc(z));else if(kc(z))w.channels=w.channels||4,qh(w,z),w.alignment=1,w.needsFree=!0;else if(cr(z)){var y=z.data;!Array.isArray(y)&&w.type===co&&(w.type=Dc(y));var d=z.shape,b=z.stride,M,F,P,L,I,E;d.length===3?(P=d[2],E=b[2]):(g(d.length===2,"invalid ndarray pixel data, must be 2 or 3D"),P=1,E=1),M=d[0],F=d[1],L=b[0],I=b[1],w.alignment=1,w.width=M,w.height=F,w.channels=P,w.format=w.internalformat=ua[P],w.needsFree=!0,jc(w,y,L,I,E,z.offset)}else if(Gs(z)||Nc(z)||Kh(z))Gs(z)||Nc(z)?w.element=z:w.element=z.canvas,w.width=w.element.width,w.height=w.element.height,w.channels=4;else if(zs(z))w.element=z,w.width=z.width,w.height=z.height,w.channels=4;else if(Ic(z))w.element=z,w.width=z.naturalWidth,w.height=z.naturalHeight,w.channels=4;else if(Mc(z))w.element=z,w.width=z.videoWidth,w.height=z.videoHeight,w.channels=4;else if($s(z)){var T=w.width||z[0].length,_=w.height||z.length,G=w.channels;nn(z[0][0])?G=G||z[0][0].length:G=G||1;for(var j=_r.shape(z),q=1,re=0;re<j.length;++re)q*=j[re];var Ee=Fc(w,q);_r.flatten(z,j,"",Ee),Bc(w,Ee),w.alignment=1,w.width=T,w.height=_,w.channels=G,w.format=w.internalformat=ua[G],w.needsFree=!0}w.type===Sr?g(C.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):w.type===uo&&g(C.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function be(w,W,z){var je=w.element,St=w.data,y=w.internalformat,d=w.format,b=w.type,M=w.width,F=w.height;we(w),je?c.texImage2D(W,z,d,d,b,je):w.compressed?c.compressedTexImage2D(W,z,y,M,F,0,St):w.needsCopy?(H(),c.copyTexImage2D(W,z,d,w.xOffset,w.yOffset,M,F,0)):c.texImage2D(W,z,d,M,F,0,d,b,St||null)}function ut(w,W,z,je,St){var y=w.element,d=w.data,b=w.internalformat,M=w.format,F=w.type,P=w.width,L=w.height;we(w),y?c.texSubImage2D(W,St,z,je,M,F,y):w.compressed?c.compressedTexSubImage2D(W,St,z,je,b,P,L,d):w.needsCopy?(H(),c.copyTexSubImage2D(W,St,z,je,w.xOffset,w.yOffset,P,L)):c.texSubImage2D(W,St,z,je,P,L,M,F,d)}var lt=[];function Re(){return lt.pop()||new he}function ke(w){w.needsFree&&gt.freeType(w.data),he.call(w),lt.push(w)}function it(){te.call(this),this.genMipmaps=!1,this.mipmapHint=la,this.mipmask=0,this.images=Array(16)}function ct(w,W,z){var je=w.images[0]=Re();w.mipmask=1,je.width=w.width=W,je.height=w.height=z,je.channels=w.channels=4}function Tt(w,W){var z=null;if(Us(W))z=w.images[0]=Re(),J(z,w),Te(z,W),w.mipmask=1;else if($e(w,W),Array.isArray(W.mipmap))for(var je=W.mipmap,St=0;St<je.length;++St)z=w.images[St]=Re(),J(z,w),z.width>>=St,z.height>>=St,Te(z,je[St]),w.mipmask|=1<<St;else z=w.images[0]=Re(),J(z,w),Te(z,W),w.mipmask=1;J(w,w.images[0]),w.compressed&&(w.internalformat===ki||w.internalformat===Ps||w.internalformat===ks||w.internalformat===Ns)&&g(w.width%4===0&&w.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function an(w,W){for(var z=w.images,je=0;je<z.length;++je){if(!z[je])return;be(z[je],W,je)}}var sn=[];function bt(){var w=sn.pop()||new it;te.call(w),w.mipmask=0;for(var W=0;W<16;++W)w.images[W]=null;return w}function bn(w){for(var W=w.images,z=0;z<W.length;++z)W[z]&&ke(W[z]),W[z]=null;sn.push(w)}function rn(){this.minFilter=Fs,this.magFilter=Fs,this.wrapS=Ds,this.wrapT=Ds,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=la}function wn(w,W){if("min"in W){var z=W.min;g.parameter(z,ye),w.minFilter=ye[z],Cc.indexOf(w.minFilter)>=0&&!("faces"in W)&&(w.genMipmaps=!0)}if("mag"in W){var je=W.mag;g.parameter(je,ve),w.magFilter=ve[je]}var St=w.wrapS,y=w.wrapT;if("wrap"in W){var d=W.wrap;typeof d=="string"?(g.parameter(d,ce),St=y=ce[d]):Array.isArray(d)&&(g.parameter(d[0],ce),g.parameter(d[1],ce),St=ce[d[0]],y=ce[d[1]])}else{if("wrapS"in W){var b=W.wrapS;g.parameter(b,ce),St=ce[b]}if("wrapT"in W){var M=W.wrapT;g.parameter(M,ce),y=ce[M]}}if(w.wrapS=St,w.wrapT=y,"anisotropic"in W){var F=W.anisotropic;g(typeof F=="number"&&F>=1&&F<=C.maxAnisotropic,"aniso samples must be between 1 and "),w.anisotropic=W.anisotropic}if("mipmap"in W){var P=!1;switch(typeof W.mipmap){case"string":g.parameter(W.mipmap,fe,"invalid mipmap hint"),w.mipmapHint=fe[W.mipmap],w.genMipmaps=!0,P=!0;break;case"boolean":P=w.genMipmaps=W.mipmap;break;case"object":g(Array.isArray(W.mipmap),"invalid mipmap type"),w.genMipmaps=!1,P=!0;break;default:g.raise("invalid mipmap type")}P&&!("min"in W)&&(w.minFilter=cl)}}function Ln(w,W){c.texParameteri(W,$h,w.minFilter),c.texParameteri(W,jh,w.magFilter),c.texParameteri(W,Mh,w.wrapS),c.texParameteri(W,Dh,w.wrapT),v.ext_texture_filter_anisotropic&&c.texParameteri(W,Vh,w.anisotropic),w.genMipmaps&&(c.hint(zh,w.mipmapHint),c.generateMipmap(W))}var Rn=0,jn={},zn=C.maxTextureUnits,hn=Array(zn).map(function(){return null});function vt(w){te.call(this),this.mipmask=0,this.internalformat=Oi,this.id=Rn++,this.refCount=1,this.target=w,this.texture=c.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rn,Q.profile&&(this.stats={size:0})}function Un(w){c.activeTexture(sa),c.bindTexture(w.target,w.texture)}function Gt(){var w=hn[0];w?c.bindTexture(w.target,w.texture):c.bindTexture(Mr,null)}function tt(w){var W=w.texture;g(W,"must not double destroy texture");var z=w.unit,je=w.target;z>=0&&(c.activeTexture(sa+z),c.bindTexture(je,null),hn[z]=null),c.deleteTexture(W),w.texture=null,w.params=null,w.pixels=null,w.refCount=0,delete jn[w.id],V.textureCount--}r(vt.prototype,{bind:function(){var w=this;w.bindCount+=1;var W=w.unit;if(W<0){for(var z=0;z<zn;++z){var je=hn[z];if(je){if(je.bindCount>0)continue;je.unit=-1}hn[z]=w,W=z;break}W>=zn&&g.raise("insufficient number of texture units"),Q.profile&&V.maxTextureUnits<W+1&&(V.maxTextureUnits=W+1),w.unit=W,c.activeTexture(sa+W),c.bindTexture(w.target,w.texture)}return W},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&tt(this)}});function At(w,W){var z=new vt(Mr);jn[z.id]=z,V.textureCount++;function je(d,b){var M=z.texInfo;rn.call(M);var F=bt();return typeof d=="number"?typeof b=="number"?ct(F,d|0,b|0):ct(F,d|0,d|0):d?(g.type(d,"object","invalid arguments to regl.texture"),wn(M,d),Tt(F,d)):ct(F,1,1),M.genMipmaps&&(F.mipmask=(F.width<<1)-1),z.mipmask=F.mipmask,J(z,F),g.texture2D(M,F,C),z.internalformat=F.internalformat,je.width=F.width,je.height=F.height,Un(z),an(F,Mr),Ln(M,Mr),Gt(),bn(F),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,F.width,F.height,M.genMipmaps,!1)),je.format=me[z.internalformat],je.type=Ie[z.type],je.mag=se[M.magFilter],je.min=Pe[M.minFilter],je.wrapS=Le[M.wrapS],je.wrapT=Le[M.wrapT],je}function St(d,b,M,F){g(!!d,"must specify image data");var P=b|0,L=M|0,I=F|0,E=Re();return J(E,z),E.width=0,E.height=0,Te(E,d),E.width=E.width||(z.width>>I)-P,E.height=E.height||(z.height>>I)-L,g(z.type===E.type&&z.format===E.format&&z.internalformat===E.internalformat,"incompatible format for texture.subimage"),g(P>=0&&L>=0&&P+E.width<=z.width&&L+E.height<=z.height,"texture.subimage write out of bounds"),g(z.mipmask&1<<I,"missing mipmap data"),g(E.data||E.element||E.needsCopy,"missing image data"),Un(z),ut(E,Mr,P,L,I),Gt(),ke(E),je}function y(d,b){var M=d|0,F=b|0||M;if(M===z.width&&F===z.height)return je;je.width=z.width=M,je.height=z.height=F,Un(z);for(var P=0;z.mipmask>>P;++P){var L=M>>P,I=F>>P;if(!L||!I)break;c.texImage2D(Mr,P,z.format,L,I,0,z.format,z.type,null)}return Gt(),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,M,F,!1,!1)),je}return je(w,W),je.subimage=St,je.resize=y,je._reglType="texture2d",je._texture=z,Q.profile&&(je.stats=z.stats),je.destroy=function(){z.decRef()},je}function Nt(w,W,z,je,St,y){var d=new vt(bs);jn[d.id]=d,V.cubeCount++;var b=new Array(6);function M(L,I,E,T,_,G){var j,q=d.texInfo;for(rn.call(q),j=0;j<6;++j)b[j]=bt();if(typeof L=="number"||!L){var re=L|0||1;for(j=0;j<6;++j)ct(b[j],re,re)}else if(typeof L=="object")if(I)Tt(b[0],L),Tt(b[1],I),Tt(b[2],E),Tt(b[3],T),Tt(b[4],_),Tt(b[5],G);else if(wn(q,L),$e(d,L),"faces"in L){var Ee=L.faces;for(g(Array.isArray(Ee)&&Ee.length===6,"cube faces must be a length 6 array"),j=0;j<6;++j)g(typeof Ee[j]=="object"&&!!Ee[j],"invalid input for cube map face"),J(b[j],d),Tt(b[j],Ee[j])}else for(j=0;j<6;++j)Tt(b[j],L);else g.raise("invalid arguments to cube map");for(J(d,b[0]),g.optional(function(){C.npotTextureCube||g(hc(d.width)&&hc(d.height),"your browser does not support non power or two texture dimensions")}),q.genMipmaps?d.mipmask=(b[0].width<<1)-1:d.mipmask=b[0].mipmask,g.textureCube(d,q,b,C),d.internalformat=b[0].internalformat,M.width=b[0].width,M.height=b[0].height,Un(d),j=0;j<6;++j)an(b[j],al+j);for(Ln(q,bs),Gt(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,q.genMipmaps,!0)),M.format=me[d.internalformat],M.type=Ie[d.type],M.mag=se[q.magFilter],M.min=Pe[q.minFilter],M.wrapS=Le[q.wrapS],M.wrapT=Le[q.wrapT],j=0;j<6;++j)bn(b[j]);return M}function F(L,I,E,T,_){g(!!I,"must specify image data"),g(typeof L=="number"&&L===(L|0)&&L>=0&&L<6,"invalid face");var G=E|0,j=T|0,q=_|0,re=Re();return J(re,d),re.width=0,re.height=0,Te(re,I),re.width=re.width||(d.width>>q)-G,re.height=re.height||(d.height>>q)-j,g(d.type===re.type&&d.format===re.format&&d.internalformat===re.internalformat,"incompatible format for texture.subimage"),g(G>=0&&j>=0&&G+re.width<=d.width&&j+re.height<=d.height,"texture.subimage write out of bounds"),g(d.mipmask&1<<q,"missing mipmap data"),g(re.data||re.element||re.needsCopy,"missing image data"),Un(d),ut(re,al+L,G,j,q),Gt(),ke(re),M}function P(L){var I=L|0;if(I!==d.width){M.width=d.width=I,M.height=d.height=I,Un(d);for(var E=0;E<6;++E)for(var T=0;d.mipmask>>T;++T)c.texImage2D(al+E,T,d.format,I>>T,I>>T,0,d.format,d.type,null);return Gt(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,!1,!0)),M}}return M(w,W,z,je,St,y),M.subimage=F,M.resize=P,M._reglType="textureCube",M._texture=d,Q.profile&&(M.stats=d.stats),M.destroy=function(){d.decRef()},M}function mn(){for(var w=0;w<zn;++w)c.activeTexture(sa+w),c.bindTexture(Mr,null),hn[w]=null;nr(jn).forEach(tt),V.cubeCount=0,V.textureCount=0}Q.profile&&(V.getTotalTextureSize=function(){var w=0;return Object.keys(jn).forEach(function(W){w+=jn[W].stats.size}),w});function mi(){for(var w=0;w<zn;++w){var W=hn[w];W&&(W.bindCount=0,W.unit=-1,hn[w]=null)}nr(jn).forEach(function(z){z.texture=c.createTexture(),c.bindTexture(z.target,z.texture);for(var je=0;je<32;++je)if(z.mipmask&1<<je)if(z.target===Mr)c.texImage2D(Mr,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);else for(var St=0;St<6;++St)c.texImage2D(al+St,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);Ln(z.texInfo,z.target)})}function ga(){for(var w=0;w<zn;++w){var W=hn[w];W&&(W.bindCount=0,W.unit=-1,hn[w]=null),c.activeTexture(sa+w),c.bindTexture(Mr,null),c.bindTexture(bs,null)}}return{create2D:At,createCube:Nt,clear:mn,getTexture:function(w){return null},restore:mi,refresh:ga}}var di=36161,hl=32854,$c=32855,Gc=36194,zc=33189,Uc=36168,Vc=34041,Hc=35907,Wc=34836,Xc=34842,Yc=34843,Tr=[];Tr[hl]=2,Tr[$c]=2,Tr[Gc]=2,Tr[zc]=2,Tr[Uc]=1,Tr[Vc]=4,Tr[Hc]=4,Tr[Wc]=16,Tr[Xc]=8,Tr[Yc]=6;function Qc(c,v,C){return Tr[c]*v*C}var Jh=function(c,v,C,H,ee){var V={rgba4:hl,rgb565:Gc,"rgb5 a1":$c,depth:zc,stencil:Uc,"depth stencil":Vc};v.ext_srgb&&(V.srgba=Hc),v.ext_color_buffer_half_float&&(V.rgba16f=Xc,V.rgb16f=Yc),v.webgl_color_buffer_float&&(V.rgba32f=Wc);var Q=[];Object.keys(V).forEach(function(de){var pe=V[de];Q[pe]=de});var fe=0,ce={};function ve(de){this.id=fe++,this.refCount=1,this.renderbuffer=de,this.format=hl,this.width=0,this.height=0,ee.profile&&(this.stats={size:0})}ve.prototype.decRef=function(){--this.refCount<=0&&ye(this)};function ye(de){var pe=de.renderbuffer;g(pe,"must not double destroy renderbuffer"),c.bindRenderbuffer(di,null),c.deleteRenderbuffer(pe),de.renderbuffer=null,de.refCount=0,delete ce[de.id],H.renderbufferCount--}function ge(de,pe){var D=new ve(c.createRenderbuffer());ce[D.id]=D,H.renderbufferCount++;function Y(Ie,se){var Pe=0,Le=0,qe=hl;if(typeof Ie=="object"&&Ie){var te=Ie;if("shape"in te){var J=te.shape;g(Array.isArray(J)&&J.length>=2,"invalid renderbuffer shape"),Pe=J[0]|0,Le=J[1]|0}else"radius"in te&&(Pe=Le=te.radius|0),"width"in te&&(Pe=te.width|0),"height"in te&&(Le=te.height|0);"format"in te&&(g.parameter(te.format,V,"invalid renderbuffer format"),qe=V[te.format])}else typeof Ie=="number"?(Pe=Ie|0,typeof se=="number"?Le=se|0:Le=Pe):Ie?g.raise("invalid arguments to renderbuffer constructor"):Pe=Le=1;if(g(Pe>0&&Le>0&&Pe<=C.maxRenderbufferSize&&Le<=C.maxRenderbufferSize,"invalid renderbuffer size"),!(Pe===D.width&&Le===D.height&&qe===D.format))return Y.width=D.width=Pe,Y.height=D.height=Le,D.format=qe,c.bindRenderbuffer(di,D.renderbuffer),c.renderbufferStorage(di,qe,Pe,Le),g(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height)),Y.format=Q[D.format],Y}function me(Ie,se){var Pe=Ie|0,Le=se|0||Pe;return Pe===D.width&&Le===D.height||(g(Pe>0&&Le>0&&Pe<=C.maxRenderbufferSize&&Le<=C.maxRenderbufferSize,"invalid renderbuffer size"),Y.width=D.width=Pe,Y.height=D.height=Le,c.bindRenderbuffer(di,D.renderbuffer),c.renderbufferStorage(di,D.format,Pe,Le),g(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height))),Y}return Y(de,pe),Y.resize=me,Y._reglType="renderbuffer",Y._renderbuffer=D,ee.profile&&(Y.stats=D.stats),Y.destroy=function(){D.decRef()},Y}ee.profile&&(H.getTotalRenderbufferSize=function(){var de=0;return Object.keys(ce).forEach(function(pe){de+=ce[pe].stats.size}),de});function _e(){nr(ce).forEach(function(de){de.renderbuffer=c.createRenderbuffer(),c.bindRenderbuffer(di,de.renderbuffer),c.renderbufferStorage(di,de.format,de.width,de.height)}),c.bindRenderbuffer(di,null)}return{create:ge,clear:function(){nr(ce).forEach(ye)},restore:_e}},Qr=36160,Vs=36161,Ii=3553,ml=34069,Kc=36064,pl=36096,qc=36128,Zc=33306,Jc=36053,em=36054,tm=36055,nm=36057,rm=36061,im=36193,om=5121,am=5126,ef=6407,tf=6408,lm=6402,sm=[ef,tf],Hs=[];Hs[tf]=4,Hs[ef]=3;var ca=[];ca[om]=1,ca[am]=4,ca[im]=2;var um=32854,nf=32855,cm=36194,rf=33189,of=36168,Ws=34041,af=35907,fm=34836,fa=34842,dm=34843,hm=[um,nf,cm,af,fa,dm,fm],po={};po[Jc]="complete",po[em]="incomplete attachment",po[nm]="incomplete dimensions",po[tm]="incomplete, missing attachment",po[rm]="unsupported";function mm(c,v,C,H,ee,V){var Q={cur:null,next:null,dirty:!1,setFBO:null},fe=["rgba"],ce=["rgba4","rgb565","rgb5 a1"];v.ext_srgb&&ce.push("srgba"),v.ext_color_buffer_half_float&&ce.push("rgba16f","rgb16f"),v.webgl_color_buffer_float&&ce.push("rgba32f");var ve=["uint8"];v.oes_texture_half_float&&ve.push("half float","float16"),v.oes_texture_float&&ve.push("float","float32");function ye(he,Te,be){this.target=he,this.texture=Te,this.renderbuffer=be;var ut=0,lt=0;Te?(ut=Te.width,lt=Te.height):be&&(ut=be.width,lt=be.height),this.width=ut,this.height=lt}function ge(he){he&&(he.texture&&he.texture._texture.decRef(),he.renderbuffer&&he.renderbuffer._renderbuffer.decRef())}function _e(he,Te,be){if(he)if(he.texture){var ut=he.texture._texture,lt=Math.max(1,ut.width),Re=Math.max(1,ut.height);g(lt===Te&&Re===be,"inconsistent width/height for supplied texture"),ut.refCount+=1}else{var ke=he.renderbuffer._renderbuffer;g(ke.width===Te&&ke.height===be,"inconsistent width/height for renderbuffer"),ke.refCount+=1}}function de(he,Te){Te&&(Te.texture?c.framebufferTexture2D(Qr,he,Te.target,Te.texture._texture.texture,0):c.framebufferRenderbuffer(Qr,he,Vs,Te.renderbuffer._renderbuffer.renderbuffer))}function pe(he){var Te=Ii,be=null,ut=null,lt=he;typeof he=="object"&&(lt=he.data,"target"in he&&(Te=he.target|0)),g.type(lt,"function","invalid attachment data");var Re=lt._reglType;return Re==="texture2d"?(be=lt,g(Te===Ii)):Re==="textureCube"?(be=lt,g(Te>=ml&&Te<ml+6,"invalid cube map target")):Re==="renderbuffer"?(ut=lt,Te=Vs):g.raise("invalid regl object for attachment"),new ye(Te,be,ut)}function D(he,Te,be,ut,lt){if(be){var Re=H.create2D({width:he,height:Te,format:ut,type:lt});return Re._texture.refCount=0,new ye(Ii,Re,null)}else{var ke=ee.create({width:he,height:Te,format:ut});return ke._renderbuffer.refCount=0,new ye(Vs,null,ke)}}function Y(he){return he&&(he.texture||he.renderbuffer)}function me(he,Te,be){he&&(he.texture?he.texture.resize(Te,be):he.renderbuffer&&he.renderbuffer.resize(Te,be),he.width=Te,he.height=be)}var Ie=0,se={};function Pe(){this.id=Ie++,se[this.id]=this,this.framebuffer=c.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Le(he){he.colorAttachments.forEach(ge),ge(he.depthAttachment),ge(he.stencilAttachment),ge(he.depthStencilAttachment)}function qe(he){var Te=he.framebuffer;g(Te,"must not double destroy framebuffer"),c.deleteFramebuffer(Te),he.framebuffer=null,V.framebufferCount--,delete se[he.id]}function te(he){var Te;c.bindFramebuffer(Qr,he.framebuffer);var be=he.colorAttachments;for(Te=0;Te<be.length;++Te)de(Kc+Te,be[Te]);for(Te=be.length;Te<C.maxColorAttachments;++Te)c.framebufferTexture2D(Qr,Kc+Te,Ii,null,0);c.framebufferTexture2D(Qr,Zc,Ii,null,0),c.framebufferTexture2D(Qr,pl,Ii,null,0),c.framebufferTexture2D(Qr,qc,Ii,null,0),de(pl,he.depthAttachment),de(qc,he.stencilAttachment),de(Zc,he.depthStencilAttachment);var ut=c.checkFramebufferStatus(Qr);!c.isContextLost()&&ut!==Jc&&g.raise("framebuffer configuration not supported, status = "+po[ut]),c.bindFramebuffer(Qr,Q.next?Q.next.framebuffer:null),Q.cur=Q.next,c.getError()}function J(he,Te){var be=new Pe;V.framebufferCount++;function ut(Re,ke){var it;g(Q.next!==be,"can not update framebuffer which is currently in use");var ct=0,Tt=0,an=!0,sn=!0,bt=null,bn=!0,rn="rgba",wn="uint8",Ln=1,Rn=null,jn=null,zn=null,hn=!1;if(typeof Re=="number")ct=Re|0,Tt=ke|0||ct;else if(!Re)ct=Tt=1;else{g.type(Re,"object","invalid arguments for framebuffer");var vt=Re;if("shape"in vt){var Un=vt.shape;g(Array.isArray(Un)&&Un.length>=2,"invalid shape for framebuffer"),ct=Un[0],Tt=Un[1]}else"radius"in vt&&(ct=Tt=vt.radius),"width"in vt&&(ct=vt.width),"height"in vt&&(Tt=vt.height);("color"in vt||"colors"in vt)&&(bt=vt.color||vt.colors,Array.isArray(bt)&&g(bt.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),bt||("colorCount"in vt&&(Ln=vt.colorCount|0,g(Ln>0,"invalid color buffer count")),"colorTexture"in vt&&(bn=!!vt.colorTexture,rn="rgba4"),"colorType"in vt&&(wn=vt.colorType,bn?(g(v.oes_texture_float||!(wn==="float"||wn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),g(v.oes_texture_half_float||!(wn==="half float"||wn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):wn==="half float"||wn==="float16"?(g(v.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),rn="rgba16f"):(wn==="float"||wn==="float32")&&(g(v.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),rn="rgba32f"),g.oneOf(wn,ve,"invalid color type")),"colorFormat"in vt&&(rn=vt.colorFormat,fe.indexOf(rn)>=0?bn=!0:ce.indexOf(rn)>=0?bn=!1:g.optional(function(){bn?g.oneOf(vt.colorFormat,fe,"invalid color format for texture"):g.oneOf(vt.colorFormat,ce,"invalid color format for renderbuffer")}))),("depthTexture"in vt||"depthStencilTexture"in vt)&&(hn=!!(vt.depthTexture||vt.depthStencilTexture),g(!hn||v.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in vt&&(typeof vt.depth=="boolean"?an=vt.depth:(Rn=vt.depth,sn=!1)),"stencil"in vt&&(typeof vt.stencil=="boolean"?sn=vt.stencil:(jn=vt.stencil,an=!1)),"depthStencil"in vt&&(typeof vt.depthStencil=="boolean"?an=sn=vt.depthStencil:(zn=vt.depthStencil,an=!1,sn=!1))}var Gt=null,tt=null,At=null,Nt=null;if(Array.isArray(bt))Gt=bt.map(pe);else if(bt)Gt=[pe(bt)];else for(Gt=new Array(Ln),it=0;it<Ln;++it)Gt[it]=D(ct,Tt,bn,rn,wn);g(v.webgl_draw_buffers||Gt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),g(Gt.length<=C.maxColorAttachments,"too many color attachments, not supported"),ct=ct||Gt[0].width,Tt=Tt||Gt[0].height,Rn?tt=pe(Rn):an&&!sn&&(tt=D(ct,Tt,hn,"depth","uint32")),jn?At=pe(jn):sn&&!an&&(At=D(ct,Tt,!1,"stencil","uint8")),zn?Nt=pe(zn):!Rn&&!jn&&sn&&an&&(Nt=D(ct,Tt,hn,"depth stencil","depth stencil")),g(!!Rn+!!jn+!!zn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var mn=null;for(it=0;it<Gt.length;++it)if(_e(Gt[it],ct,Tt),g(!Gt[it]||Gt[it].texture&&sm.indexOf(Gt[it].texture._texture.format)>=0||Gt[it].renderbuffer&&hm.indexOf(Gt[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),Gt[it]&&Gt[it].texture){var mi=Hs[Gt[it].texture._texture.format]*ca[Gt[it].texture._texture.type];mn===null?mn=mi:g(mn===mi,"all color attachments much have the same number of bits per pixel.")}return _e(tt,ct,Tt),g(!tt||tt.texture&&tt.texture._texture.format===lm||tt.renderbuffer&&tt.renderbuffer._renderbuffer.format===rf,"invalid depth attachment for framebuffer object"),_e(At,ct,Tt),g(!At||At.renderbuffer&&At.renderbuffer._renderbuffer.format===of,"invalid stencil attachment for framebuffer object"),_e(Nt,ct,Tt),g(!Nt||Nt.texture&&Nt.texture._texture.format===Ws||Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.format===Ws,"invalid depth-stencil attachment for framebuffer object"),Le(be),be.width=ct,be.height=Tt,be.colorAttachments=Gt,be.depthAttachment=tt,be.stencilAttachment=At,be.depthStencilAttachment=Nt,ut.color=Gt.map(Y),ut.depth=Y(tt),ut.stencil=Y(At),ut.depthStencil=Y(Nt),ut.width=be.width,ut.height=be.height,te(be),ut}function lt(Re,ke){g(Q.next!==be,"can not resize a framebuffer which is currently in use");var it=Math.max(Re|0,1),ct=Math.max(ke|0||it,1);if(it===be.width&&ct===be.height)return ut;for(var Tt=be.colorAttachments,an=0;an<Tt.length;++an)me(Tt[an],it,ct);return me(be.depthAttachment,it,ct),me(be.stencilAttachment,it,ct),me(be.depthStencilAttachment,it,ct),be.width=ut.width=it,be.height=ut.height=ct,te(be),ut}return ut(he,Te),r(ut,{resize:lt,_reglType:"framebuffer",_framebuffer:be,destroy:function(){qe(be),Le(be)},use:function(Re){Q.setFBO({framebuffer:ut},Re)}})}function $e(he){var Te=Array(6);function be(lt){var Re;g(Te.indexOf(Q.next)<0,"can not update framebuffer which is currently in use");var ke={color:null},it=0,ct=null,Tt="rgba",an="uint8",sn=1;if(typeof lt=="number")it=lt|0;else if(!lt)it=1;else{g.type(lt,"object","invalid arguments for framebuffer");var bt=lt;if("shape"in bt){var bn=bt.shape;g(Array.isArray(bn)&&bn.length>=2,"invalid shape for framebuffer"),g(bn[0]===bn[1],"cube framebuffer must be square"),it=bn[0]}else"radius"in bt&&(it=bt.radius|0),"width"in bt?(it=bt.width|0,"height"in bt&&g(bt.height===it,"must be square")):"height"in bt&&(it=bt.height|0);("color"in bt||"colors"in bt)&&(ct=bt.color||bt.colors,Array.isArray(ct)&&g(ct.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),ct||("colorCount"in bt&&(sn=bt.colorCount|0,g(sn>0,"invalid color buffer count")),"colorType"in bt&&(g.oneOf(bt.colorType,ve,"invalid color type"),an=bt.colorType),"colorFormat"in bt&&(Tt=bt.colorFormat,g.oneOf(bt.colorFormat,fe,"invalid color format for texture"))),"depth"in bt&&(ke.depth=bt.depth),"stencil"in bt&&(ke.stencil=bt.stencil),"depthStencil"in bt&&(ke.depthStencil=bt.depthStencil)}var rn;if(ct)if(Array.isArray(ct))for(rn=[],Re=0;Re<ct.length;++Re)rn[Re]=ct[Re];else rn=[ct];else{rn=Array(sn);var wn={radius:it,format:Tt,type:an};for(Re=0;Re<sn;++Re)rn[Re]=H.createCube(wn)}for(ke.color=Array(rn.length),Re=0;Re<rn.length;++Re){var Ln=rn[Re];g(typeof Ln=="function"&&Ln._reglType==="textureCube","invalid cube map"),it=it||Ln.width,g(Ln.width===it&&Ln.height===it,"invalid cube map shape"),ke.color[Re]={target:ml,data:rn[Re]}}for(Re=0;Re<6;++Re){for(var Rn=0;Rn<rn.length;++Rn)ke.color[Rn].target=ml+Re;Re>0&&(ke.depth=Te[0].depth,ke.stencil=Te[0].stencil,ke.depthStencil=Te[0].depthStencil),Te[Re]?Te[Re](ke):Te[Re]=J(ke)}return r(be,{width:it,height:it,color:rn})}function ut(lt){var Re,ke=lt|0;if(g(ke>0&&ke<=C.maxCubeMapSize,"invalid radius for cube fbo"),ke===be.width)return be;var it=be.color;for(Re=0;Re<it.length;++Re)it[Re].resize(ke);for(Re=0;Re<6;++Re)Te[Re].resize(ke);return be.width=be.height=ke,be}return be(he),r(be,{faces:Te,resize:ut,_reglType:"framebufferCube",destroy:function(){Te.forEach(function(lt){lt.destroy()})}})}function we(){Q.cur=null,Q.next=null,Q.dirty=!0,nr(se).forEach(function(he){he.framebuffer=c.createFramebuffer(),te(he)})}return r(Q,{getFramebuffer:function(he){if(typeof he=="function"&&he._reglType==="framebuffer"){var Te=he._framebuffer;if(Te instanceof Pe)return Te}return null},create:J,createCube:$e,clear:function(){nr(se).forEach(qe)},restore:we})}var pm=5126,s=34962,N=34963,$=["attributes","elements","offset","count","primitive","instances"];function oe(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=pm,this.offset=0,this.stride=0,this.divisor=0}function Se(c,v,C,H,ee,V,Q){for(var fe=C.maxAttributes,ce=new Array(fe),ve=0;ve<fe;++ve)ce[ve]=new oe;var ye=0,ge={},_e={Record:oe,scope:{},state:ce,currentVAO:null,targetVAO:null,restore:pe()?Le:function(){},createVAO:qe,getVAO:Y,destroyBuffer:de,setVAO:pe()?me:Ie,clear:pe()?se:function(){}};function de(te){for(var J=0;J<ce.length;++J){var $e=ce[J];$e.buffer===te&&(c.disableVertexAttribArray(J),$e.buffer=null)}}function pe(){return v.oes_vertex_array_object}function D(){return v.angle_instanced_arrays}function Y(te){return typeof te=="function"&&te._vao?te._vao:null}function me(te){if(te!==_e.currentVAO){var J=pe();te?J.bindVertexArrayOES(te.vao):J.bindVertexArrayOES(null),_e.currentVAO=te}}function Ie(te){if(te!==_e.currentVAO){if(te)te.bindAttrs();else{for(var J=D(),$e=0;$e<ce.length;++$e){var we=ce[$e];we.buffer?(c.enableVertexAttribArray($e),we.buffer.bind(),c.vertexAttribPointer($e,we.size,we.type,we.normalized,we.stride,we.offfset),J&&we.divisor&&J.vertexAttribDivisorANGLE($e,we.divisor)):(c.disableVertexAttribArray($e),c.vertexAttrib4f($e,we.x,we.y,we.z,we.w))}Q.elements?c.bindBuffer(N,Q.elements.buffer.buffer):c.bindBuffer(N,null)}_e.currentVAO=te}}function se(){nr(ge).forEach(function(te){te.destroy()})}function Pe(){this.id=++ye,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var te=pe();te?this.vao=te.createVertexArrayOES():this.vao=null,ge[this.id]=this,this.buffers=[]}Pe.prototype.bindAttrs=function(){for(var te=D(),J=this.attributes,$e=0;$e<J.length;++$e){var we=J[$e];we.buffer?(c.enableVertexAttribArray($e),c.bindBuffer(s,we.buffer.buffer),c.vertexAttribPointer($e,we.size,we.type,we.normalized,we.stride,we.offset),te&&we.divisor&&te.vertexAttribDivisorANGLE($e,we.divisor)):(c.disableVertexAttribArray($e),c.vertexAttrib4f($e,we.x,we.y,we.z,we.w))}for(var he=J.length;he<fe;++he)c.disableVertexAttribArray(he);var Te=V.getElements(this.elements);Te?c.bindBuffer(N,Te.buffer.buffer):c.bindBuffer(N,null)},Pe.prototype.refresh=function(){var te=pe();te&&(te.bindVertexArrayOES(this.vao),this.bindAttrs(),_e.currentVAO=null,te.bindVertexArrayOES(null))},Pe.prototype.destroy=function(){if(this.vao){var te=pe();this===_e.currentVAO&&(_e.currentVAO=null,te.bindVertexArrayOES(null)),te.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ge[this.id]&&(delete ge[this.id],H.vaoCount-=1)};function Le(){var te=pe();te&&nr(ge).forEach(function(J){J.refresh()})}function qe(te){var J=new Pe;H.vaoCount+=1;function $e(we){var he;if(Array.isArray(we))he=we,J.elements&&J.ownsElements&&J.elements.destroy(),J.elements=null,J.ownsElements=!1,J.offset=0,J.count=0,J.instances=-1,J.primitive=4;else{if(g(typeof we=="object","invalid arguments for create vao"),g("attributes"in we,"must specify attributes for vao"),we.elements){var Te=we.elements;J.ownsElements?typeof Te=="function"&&Te._reglType==="elements"?(J.elements.destroy(),J.ownsElements=!1):(J.elements(Te),J.ownsElements=!1):V.getElements(we.elements)?(J.elements=we.elements,J.ownsElements=!1):(J.elements=V.create(we.elements),J.ownsElements=!0)}else J.elements=null,J.ownsElements=!1;he=we.attributes,J.offset=0,J.count=-1,J.instances=-1,J.primitive=4,J.elements&&(J.count=J.elements._elements.vertCount,J.primitive=J.elements._elements.primType),"offset"in we&&(J.offset=we.offset|0),"count"in we&&(J.count=we.count|0),"instances"in we&&(J.instances=we.instances|0),"primitive"in we&&(g(we.primitive in ci,"bad primitive type: "+we.primitive),J.primitive=ci[we.primitive]),g.optional(()=>{for(var an=Object.keys(we),sn=0;sn<an.length;++sn)g($.indexOf(an[sn])>=0,'invalid option for vao: "'+an[sn]+'" valid options are '+$)}),g(Array.isArray(he),"attributes must be an array")}g(he.length<fe,"too many attributes"),g(he.length>0,"must specify at least one attribute");var be={},ut=J.attributes;ut.length=he.length;for(var lt=0;lt<he.length;++lt){var Re=he[lt],ke=ut[lt]=new oe,it=Re.data||Re;if(Array.isArray(it)||n(it)||cr(it)){var ct;J.buffers[lt]&&(ct=J.buffers[lt],n(it)&&ct._buffer.byteLength>=it.byteLength?ct.subdata(it):(ct.destroy(),J.buffers[lt]=null)),J.buffers[lt]||(ct=J.buffers[lt]=ee.create(Re,s,!1,!0)),ke.buffer=ee.getBuffer(ct),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1,be[lt]=1}else ee.getBuffer(Re)?(ke.buffer=ee.getBuffer(Re),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1):ee.getBuffer(Re.buffer)?(ke.buffer=ee.getBuffer(Re.buffer),ke.size=(+Re.size||ke.buffer.dimension)|0,ke.normalized=!!Re.normalized||!1,"type"in Re?(g.parameter(Re.type,lo,"invalid buffer type"),ke.type=lo[Re.type]):ke.type=ke.buffer.dtype,ke.offset=(Re.offset||0)|0,ke.stride=(Re.stride||0)|0,ke.divisor=(Re.divisor||0)|0,ke.state=1,g(ke.size>=1&&ke.size<=4,"size must be between 1 and 4"),g(ke.offset>=0,"invalid offset"),g(ke.stride>=0&&ke.stride<=255,"stride must be between 0 and 255"),g(ke.divisor>=0,"divisor must be positive"),g(!ke.divisor||!!v.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Re?(g(lt>0,"first attribute must not be a constant"),ke.x=+Re.x||0,ke.y=+Re.y||0,ke.z=+Re.z||0,ke.w=+Re.w||0,ke.state=2):g(!1,"invalid attribute spec for location "+lt)}for(var Tt=0;Tt<J.buffers.length;++Tt)!be[Tt]&&J.buffers[Tt]&&(J.buffers[Tt].destroy(),J.buffers[Tt]=null);return J.refresh(),$e}return $e.destroy=function(){for(var we=0;we<J.buffers.length;++we)J.buffers[we]&&J.buffers[we].destroy();J.buffers.length=0,J.ownsElements&&(J.elements.destroy(),J.elements=null,J.ownsElements=!1),J.destroy()},$e._vao=J,$e._reglType="vao",$e(te)}return _e}var Fe=35632,He=35633,ht=35718,$t=35721;function It(c,v,C,H){var ee={},V={};function Q(D,Y,me,Ie){this.name=D,this.id=Y,this.location=me,this.info=Ie}function fe(D,Y){for(var me=0;me<D.length;++me)if(D[me].id===Y.id){D[me].location=Y.location;return}D.push(Y)}function ce(D,Y,me){var Ie=D===Fe?ee:V,se=Ie[Y];if(!se){var Pe=v.str(Y);se=c.createShader(D),c.shaderSource(se,Pe),c.compileShader(se),g.shaderError(c,se,Pe,D,me),Ie[Y]=se}return se}var ve={},ye=[],ge=0;function _e(D,Y){this.id=ge++,this.fragId=D,this.vertId=Y,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,H.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function de(D,Y,me){var Ie,se,Pe=ce(Fe,D.fragId),Le=ce(He,D.vertId),qe=D.program=c.createProgram();if(c.attachShader(qe,Pe),c.attachShader(qe,Le),me)for(Ie=0;Ie<me.length;++Ie){var te=me[Ie];c.bindAttribLocation(qe,te[0],te[1])}c.linkProgram(qe),g.linkError(c,qe,v.str(D.fragId),v.str(D.vertId),Y);var J=c.getProgramParameter(qe,ht);H.profile&&(D.stats.uniformsCount=J);var $e=D.uniforms;for(Ie=0;Ie<J;++Ie)if(se=c.getActiveUniform(qe,Ie),se){if(se.size>1)for(var we=0;we<se.size;++we){var he=se.name.replace("[0]","["+we+"]");fe($e,new Q(he,v.id(he),c.getUniformLocation(qe,he),se))}var Te=se.name;se.size>1&&(Te=Te.replace("[0]","")),fe($e,new Q(Te,v.id(Te),c.getUniformLocation(qe,Te),se))}var be=c.getProgramParameter(qe,$t);H.profile&&(D.stats.attributesCount=be);var ut=D.attributes;for(Ie=0;Ie<be;++Ie)se=c.getActiveAttrib(qe,Ie),se&&fe(ut,new Q(se.name,v.id(se.name),c.getAttribLocation(qe,se.name),se))}H.profile&&(C.getMaxUniformsCount=function(){var D=0;return ye.forEach(function(Y){Y.stats.uniformsCount>D&&(D=Y.stats.uniformsCount)}),D},C.getMaxAttributesCount=function(){var D=0;return ye.forEach(function(Y){Y.stats.attributesCount>D&&(D=Y.stats.attributesCount)}),D});function pe(){ee={},V={};for(var D=0;D<ye.length;++D)de(ye[D],null,ye[D].attributes.map(function(Y){return[Y.location,Y.name]}))}return{clear:function(){var D=c.deleteShader.bind(c);nr(ee).forEach(D),ee={},nr(V).forEach(D),V={},ye.forEach(function(Y){c.deleteProgram(Y.program)}),ye.length=0,ve={},C.shaderCount=0},program:function(D,Y,me,Ie){g.command(D>=0,"missing vertex shader",me),g.command(Y>=0,"missing fragment shader",me);var se=ve[Y];se||(se=ve[Y]={});var Pe=se[D];if(Pe&&(Pe.refCount++,!Ie))return Pe;var Le=new _e(Y,D);return C.shaderCount++,de(Le,me,Ie),Pe||(se[D]=Le),ye.push(Le),r(Le,{destroy:function(){if(Le.refCount--,Le.refCount<=0){c.deleteProgram(Le.program);var qe=ye.indexOf(Le);ye.splice(qe,1),C.shaderCount--}se[Le.vertId].refCount<=0&&(c.deleteShader(V[Le.vertId]),delete V[Le.vertId],delete ve[Le.fragId][Le.vertId]),Object.keys(ve[Le.fragId]).length||(c.deleteShader(ee[Le.fragId]),delete ee[Le.fragId],delete ve[Le.fragId])}})},restore:pe,shader:ce,frag:-1,vert:-1}}var _n=6408,Xt=5121,Mt=3333,lf=5126;function q_(c,v,C,H,ee,V,Q){function fe(ye){var ge;v.next===null?(g(ee.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ge=Xt):(g(v.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ge=v.next.colorAttachments[0].texture._texture.type,g.optional(function(){V.oes_texture_float?(g(ge===Xt||ge===lf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ge===lf&&g(Q.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):g(ge===Xt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var _e=0,de=0,pe=H.framebufferWidth,D=H.framebufferHeight,Y=null;n(ye)?Y=ye:ye&&(g.type(ye,"object","invalid arguments to regl.read()"),_e=ye.x|0,de=ye.y|0,g(_e>=0&&_e<H.framebufferWidth,"invalid x offset for regl.read"),g(de>=0&&de<H.framebufferHeight,"invalid y offset for regl.read"),pe=(ye.width||H.framebufferWidth-_e)|0,D=(ye.height||H.framebufferHeight-de)|0,Y=ye.data||null),Y&&(ge===Xt?g(Y instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ge===lf&&g(Y instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),g(pe>0&&pe+_e<=H.framebufferWidth,"invalid width for read pixels"),g(D>0&&D+de<=H.framebufferHeight,"invalid height for read pixels"),C();var me=pe*D*4;return Y||(ge===Xt?Y=new Uint8Array(me):ge===lf&&(Y=Y||new Float32Array(me))),g.isTypedArray(Y,"data buffer for regl.read() must be a typedarray"),g(Y.byteLength>=me,"data buffer for regl.read() too small"),c.pixelStorei(Mt,4),c.readPixels(_e,de,pe,D,_n,ge,Y),Y}function ce(ye){var ge;return v.setFBO({framebuffer:ye.framebuffer},function(){ge=fe(ye)}),ge}function ve(ye){return!ye||!("framebuffer"in ye)?fe(ye):ce(ye)}return ve}function vl(c){return Array.prototype.slice.call(c)}function gl(c){return vl(c).join("")}function Z_(){var c=0,v=[],C=[];function H(ge){for(var _e=0;_e<C.length;++_e)if(C[_e]===ge)return v[_e];var de="g"+c++;return v.push(de),C.push(ge),de}function ee(){var ge=[];function _e(){ge.push.apply(ge,vl(arguments))}var de=[];function pe(){var D="v"+c++;return de.push(D),arguments.length>0&&(ge.push(D,"="),ge.push.apply(ge,vl(arguments)),ge.push(";")),D}return r(_e,{def:pe,toString:function(){return gl([de.length>0?"var "+de.join(",")+";":"",gl(ge)])}})}function V(){var ge=ee(),_e=ee(),de=ge.toString,pe=_e.toString;function D(Y,me){_e(Y,me,"=",ge.def(Y,me),";")}return r(function(){ge.apply(ge,vl(arguments))},{def:ge.def,entry:ge,exit:_e,save:D,set:function(Y,me,Ie){D(Y,me),ge(Y,me,"=",Ie,";")},toString:function(){return de()+pe()}})}function Q(){var ge=gl(arguments),_e=V(),de=V(),pe=_e.toString,D=de.toString;return r(_e,{then:function(){return _e.apply(_e,vl(arguments)),this},else:function(){return de.apply(de,vl(arguments)),this},toString:function(){var Y=D();return Y&&(Y="else{"+Y+"}"),gl(["if(",ge,"){",pe(),"}",Y])}})}var fe=ee(),ce={};function ve(ge,_e){var de=[];function pe(){var se="a"+de.length;return de.push(se),se}_e=_e||0;for(var D=0;D<_e;++D)pe();var Y=V(),me=Y.toString,Ie=ce[ge]=r(Y,{arg:pe,toString:function(){return gl(["function(",de.join(),"){",me(),"}"])}});return Ie}function ye(){var ge=['"use strict";',fe,"return {"];Object.keys(ce).forEach(function(pe){ge.push('"',pe,'":',ce[pe].toString(),",")}),ge.push("}");var _e=gl(ge).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),de=Function.apply(null,v.concat(_e));return de.apply(null,C)}return{global:fe,link:H,block:ee,proc:ve,scope:V,cond:Q,compile:ye}}var yl="xyzw".split(""),Jv=5121,xl=1,vm=2,gm=0,ym=1,xm=2,Em=3,sf=4,eg=5,tg=6,ng="dither",rg="blend.enable",ig="blend.color",_m="blend.equation",Sm="blend.func",og="depth.enable",ag="depth.func",lg="depth.range",sg="depth.mask",wm="colorMask",ug="cull.enable",cg="cull.face",Tm="frontFace",Am="lineWidth",fg="polygonOffset.enable",Cm="polygonOffset.offset",dg="sample.alpha",hg="sample.enable",bm="sample.coverage",mg="stencil.enable",pg="stencil.mask",Lm="stencil.func",Rm="stencil.opFront",Xs="stencil.opBack",vg="scissor.enable",uf="scissor.box",Mi="viewport",Ys="profile",da="framebuffer",Qs="vert",Ks="frag",ha="elements",ma="primitive",pa="count",cf="offset",ff="instances",qs="vao",Om="Width",Pm="Height",El=da+Om,_l=da+Pm,J_=Mi+Om,eS=Mi+Pm,gg="drawingBuffer",yg=gg+Om,xg=gg+Pm,tS=[Sm,_m,Lm,Rm,Xs,bm,Mi,uf,Cm],Sl=34962,km=34963,nS=35632,rS=35633,Eg=3553,iS=34067,oS=2884,aS=3042,lS=3024,sS=2960,uS=2929,cS=3089,fS=32823,dS=32926,hS=32928,Nm=5126,df=35664,hf=35665,mf=35666,Im=5124,pf=35667,vf=35668,gf=35669,Mm=35670,yf=35671,xf=35672,Ef=35673,Zs=35674,Js=35675,eu=35676,tu=35678,nu=35680,Dm=4,ru=1028,va=1029,_g=2304,Fm=2305,mS=32775,pS=32776,vS=519,vo=7680,Sg=0,wg=1,Tg=32774,gS=513,Ag=36160,yS=36064,hi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Cg=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],wl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},go={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},bg={frag:nS,vert:rS},Bm={cw:_g,ccw:Fm};function _f(c){return Array.isArray(c)||n(c)||cr(c)}function Lg(c){return c.sort(function(v,C){return v===Mi?-1:C===Mi?1:v<C?-1:1})}function Nn(c,v,C,H){this.thisDep=c,this.contextDep=v,this.propDep=C,this.append=H}function yo(c){return c&&!(c.thisDep||c.contextDep||c.propDep)}function Sn(c){return new Nn(!1,!1,!1,c)}function fr(c,v){var C=c.type;if(C===gm){var H=c.data.length;return new Nn(!0,H>=1,H>=2,v)}else if(C===sf){var ee=c.data;return new Nn(ee.thisDep,ee.contextDep,ee.propDep,v)}else{if(C===eg)return new Nn(!1,!1,!1,v);if(C===tg){for(var V=!1,Q=!1,fe=!1,ce=0;ce<c.data.length;++ce){var ve=c.data[ce];if(ve.type===ym)fe=!0;else if(ve.type===xm)Q=!0;else if(ve.type===Em)V=!0;else if(ve.type===gm){V=!0;var ye=ve.data;ye>=1&&(Q=!0),ye>=2&&(fe=!0)}else ve.type===sf&&(V=V||ve.data.thisDep,Q=Q||ve.data.contextDep,fe=fe||ve.data.propDep)}return new Nn(V,Q,fe,v)}else return new Nn(C===Em,C===xm,C===ym,v)}}var Rg=new Nn(!1,!1,!1,function(){});function xS(c,v,C,H,ee,V,Q,fe,ce,ve,ye,ge,_e,de,pe){var D=ve.Record,Y={add:32774,subtract:32778,"reverse subtract":32779};C.ext_blend_minmax&&(Y.min=mS,Y.max=pS);var me=C.angle_instanced_arrays,Ie=C.webgl_draw_buffers,se=C.oes_vertex_array_object,Pe={dirty:!0,profile:pe.profile},Le={},qe=[],te={},J={};function $e(y){return y.replace(".","_")}function we(y,d,b){var M=$e(y);qe.push(y),Le[M]=Pe[M]=!!b,te[M]=d}function he(y,d,b){var M=$e(y);qe.push(y),Array.isArray(b)?(Pe[M]=b.slice(),Le[M]=b.slice()):Pe[M]=Le[M]=b,J[M]=d}we(ng,lS),we(rg,aS),he(ig,"blendColor",[0,0,0,0]),he(_m,"blendEquationSeparate",[Tg,Tg]),he(Sm,"blendFuncSeparate",[wg,Sg,wg,Sg]),we(og,uS,!0),he(ag,"depthFunc",gS),he(lg,"depthRange",[0,1]),he(sg,"depthMask",!0),he(wm,wm,[!0,!0,!0,!0]),we(ug,oS),he(cg,"cullFace",va),he(Tm,Tm,Fm),he(Am,Am,1),we(fg,fS),he(Cm,"polygonOffset",[0,0]),we(dg,dS),we(hg,hS),he(bm,"sampleCoverage",[1,!1]),we(mg,sS),he(pg,"stencilMask",-1),he(Lm,"stencilFunc",[vS,0,-1]),he(Rm,"stencilOpSeparate",[ru,vo,vo,vo]),he(Xs,"stencilOpSeparate",[va,vo,vo,vo]),we(vg,cS),he(uf,"scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]),he(Mi,Mi,[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var Te={gl:c,context:_e,strings:v,next:Le,current:Pe,draw:ge,elements:V,buffer:ee,shader:ye,attributes:ve.state,vao:ve,uniforms:ce,framebuffer:fe,extensions:C,timer:de,isBufferArgs:_f},be={primTypes:ci,compareFuncs:wl,blendFuncs:hi,blendEquations:Y,stencilOps:go,glTypes:lo,orientationType:Bm};g.optional(function(){Te.isArrayLike=nn}),Ie&&(be.backBuffer=[va],be.drawBuffer=dn(H.maxDrawbuffers,function(y){return y===0?[0]:dn(y,function(d){return yS+d})}));var ut=0;function lt(){var y=Z_(),d=y.link,b=y.global;y.id=ut++,y.batchId="0";var M=d(Te),F=y.shared={props:"a0"};Object.keys(Te).forEach(function(T){F[T]=b.def(M,".",T)}),g.optional(function(){y.CHECK=d(g),y.commandStr=g.guessCommand(),y.command=d(y.commandStr),y.assert=function(T,_,G){T("if(!(",_,"))",this.CHECK,".commandRaise(",d(G),",",this.command,");")},be.invalidBlendCombinations=Cg});var P=y.next={},L=y.current={};Object.keys(J).forEach(function(T){Array.isArray(Pe[T])&&(P[T]=b.def(F.next,".",T),L[T]=b.def(F.current,".",T))});var I=y.constants={};Object.keys(be).forEach(function(T){I[T]=b.def(JSON.stringify(be[T]))}),y.invoke=function(T,_){switch(_.type){case gm:var G=["this",F.context,F.props,y.batchId];return T.def(d(_.data),".call(",G.slice(0,Math.max(_.data.length+1,4)),")");case ym:return T.def(F.props,_.data);case xm:return T.def(F.context,_.data);case Em:return T.def("this",_.data);case sf:return _.data.append(y,T),_.data.ref;case eg:return _.data.toString();case tg:return _.data.map(function(j){return y.invoke(T,j)})}},y.attribCache={};var E={};return y.scopeAttrib=function(T){var _=v.id(T);if(_ in E)return E[_];var G=ve.scope[_];G||(G=ve.scope[_]=new D);var j=E[_]=d(G);return j},y}function Re(y){var d=y.static,b=y.dynamic,M;if(Ys in d){var F=!!d[Ys];M=Sn(function(L,I){return F}),M.enable=F}else if(Ys in b){var P=b[Ys];M=fr(P,function(L,I){return L.invoke(I,P)})}return M}function ke(y,d){var b=y.static,M=y.dynamic;if(da in b){var F=b[da];return F?(F=fe.getFramebuffer(F),g.command(F,"invalid framebuffer object"),Sn(function(L,I){var E=L.link(F),T=L.shared;I.set(T.framebuffer,".next",E);var _=T.context;return I.set(_,"."+El,E+".width"),I.set(_,"."+_l,E+".height"),E})):Sn(function(L,I){var E=L.shared;I.set(E.framebuffer,".next","null");var T=E.context;return I.set(T,"."+El,T+"."+yg),I.set(T,"."+_l,T+"."+xg),"null"})}else if(da in M){var P=M[da];return fr(P,function(L,I){var E=L.invoke(I,P),T=L.shared,_=T.framebuffer,G=I.def(_,".getFramebuffer(",E,")");g.optional(function(){L.assert(I,"!"+E+"||"+G,"invalid framebuffer object")}),I.set(_,".next",G);var j=T.context;return I.set(j,"."+El,G+"?"+G+".width:"+j+"."+yg),I.set(j,"."+_l,G+"?"+G+".height:"+j+"."+xg),G})}else return null}function it(y,d,b){var M=y.static,F=y.dynamic;function P(E){if(E in M){var T=M[E];g.commandType(T,"object","invalid "+E,b.commandStr);var _=!0,G=T.x|0,j=T.y|0,q,re;return"width"in T?(q=T.width|0,g.command(q>=0,"invalid "+E,b.commandStr)):_=!1,"height"in T?(re=T.height|0,g.command(re>=0,"invalid "+E,b.commandStr)):_=!1,new Nn(!_&&d&&d.thisDep,!_&&d&&d.contextDep,!_&&d&&d.propDep,function(Ke,Be){var ae=Ke.shared.context,K=q;"width"in T||(K=Be.def(ae,".",El,"-",G));var We=re;return"height"in T||(We=Be.def(ae,".",_l,"-",j)),[G,j,K,We]})}else if(E in F){var Ee=F[E],at=fr(Ee,function(Ke,Be){var ae=Ke.invoke(Be,Ee);g.optional(function(){Ke.assert(Be,ae+"&&typeof "+ae+'==="object"',"invalid "+E)});var K=Ke.shared.context,We=Be.def(ae,".x|0"),Ve=Be.def(ae,".y|0"),ot=Be.def('"width" in ',ae,"?",ae,".width|0:","(",K,".",El,"-",We,")"),Ht=Be.def('"height" in ',ae,"?",ae,".height|0:","(",K,".",_l,"-",Ve,")");return g.optional(function(){Ke.assert(Be,ot+">=0&&"+Ht+">=0","invalid "+E)}),[We,Ve,ot,Ht]});return d&&(at.thisDep=at.thisDep||d.thisDep,at.contextDep=at.contextDep||d.contextDep,at.propDep=at.propDep||d.propDep),at}else return d?new Nn(d.thisDep,d.contextDep,d.propDep,function(Ke,Be){var ae=Ke.shared.context;return[0,0,Be.def(ae,".",El),Be.def(ae,".",_l)]}):null}var L=P(Mi);if(L){var I=L;L=new Nn(L.thisDep,L.contextDep,L.propDep,function(E,T){var _=I.append(E,T),G=E.shared.context;return T.set(G,"."+J_,_[2]),T.set(G,"."+eS,_[3]),_})}return{viewport:L,scissor_box:P(uf)}}function ct(y,d){var b=y.static,M=typeof b[Ks]=="string"&&typeof b[Qs]=="string";if(M){if(Object.keys(d.dynamic).length>0)return null;var F=d.static,P=Object.keys(F);if(P.length>0&&typeof F[P[0]]=="number"){for(var L=[],I=0;I<P.length;++I)g(typeof F[P[I]]=="number","must specify all vertex attribute locations when using vaos"),L.push([F[P[I]]|0,P[I]]);return L}}return null}function Tt(y,d,b){var M=y.static,F=y.dynamic;function P(_){if(_ in M){var G=v.id(M[_]);g.optional(function(){ye.shader(bg[_],G,g.guessCommand())});var j=Sn(function(){return G});return j.id=G,j}else if(_ in F){var q=F[_];return fr(q,function(re,Ee){var at=re.invoke(Ee,q),Ke=Ee.def(re.shared.strings,".id(",at,")");return g.optional(function(){Ee(re.shared.shader,".shader(",bg[_],",",Ke,",",re.command,");")}),Ke})}return null}var L=P(Ks),I=P(Qs),E=null,T;return yo(L)&&yo(I)?(E=ye.program(I.id,L.id,null,b),T=Sn(function(_,G){return _.link(E)})):T=new Nn(L&&L.thisDep||I&&I.thisDep,L&&L.contextDep||I&&I.contextDep,L&&L.propDep||I&&I.propDep,function(_,G){var j=_.shared.shader,q;L?q=L.append(_,G):q=G.def(j,".",Ks);var re;I?re=I.append(_,G):re=G.def(j,".",Qs);var Ee=j+".program("+re+","+q;return g.optional(function(){Ee+=","+_.command}),G.def(Ee+")")}),{frag:L,vert:I,progVar:T,program:E}}function an(y,d){var b=y.static,M=y.dynamic,F={},P=!1;function L(){if(qs in b){var Be=b[qs];return Be!==null&&ve.getVAO(Be)===null&&(Be=ve.createVAO(Be)),P=!0,F.vao=Be,Sn(function(K){var We=ve.getVAO(Be);return We?K.link(We):"null"})}else if(qs in M){P=!0;var ae=M[qs];return fr(ae,function(K,We){var Ve=K.invoke(We,ae);return We.def(K.shared.vao+".getVAO("+Ve+")")})}return null}var I=L(),E=!1;function T(){if(ha in b){var Be=b[ha];if(F.elements=Be,_f(Be)){var ae=F.elements=V.create(Be,!0);Be=V.getElements(ae),E=!0}else Be&&(Be=V.getElements(Be),E=!0,g.command(Be,"invalid elements",d.commandStr));var K=Sn(function(Ve,ot){if(Be){var Ht=Ve.link(Be);return Ve.ELEMENTS=Ht,Ht}return Ve.ELEMENTS=null,null});return K.value=Be,K}else if(ha in M){E=!0;var We=M[ha];return fr(We,function(Ve,ot){var Ht=Ve.shared,Vn=Ht.isBufferArgs,ya=Ht.elements,Di=Ve.invoke(ot,We),pi=ot.def("null"),xo=ot.def(Vn,"(",Di,")"),xa=Ve.cond(xo).then(pi,"=",ya,".createStream(",Di,");").else(pi,"=",ya,".getElements(",Di,");");return g.optional(function(){Ve.assert(xa.else,"!"+Di+"||"+pi,"invalid elements")}),ot.entry(xa),ot.exit(Ve.cond(xo).then(ya,".destroyStream(",pi,");")),Ve.ELEMENTS=pi,pi})}else if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.elements+".getElements("+Ve.shared.vao+".currentVAO.elements):null")});return null}var _=T();function G(){if(ma in b){var Be=b[ma];return F.primitive=Be,g.commandParameter(Be,ci,"invalid primitve",d.commandStr),Sn(function(K,We){return ci[Be]})}else if(ma in M){var ae=M[ma];return fr(ae,function(K,We){var Ve=K.constants.primTypes,ot=K.invoke(We,ae);return g.optional(function(){K.assert(We,ot+" in "+Ve,"invalid primitive, must be one of "+Object.keys(ci))}),We.def(Ve,"[",ot,"]")})}else{if(E)return yo(_)?_.value?Sn(function(K,We){return We.def(K.ELEMENTS,".primType")}):Sn(function(){return Dm}):new Nn(_.thisDep,_.contextDep,_.propDep,function(K,We){var Ve=K.ELEMENTS;return We.def(Ve,"?",Ve,".primType:",Dm)});if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(K,We){return We.def(K.shared.vao+".currentVAO?"+K.shared.vao+".currentVAO.primitive:"+Dm)})}return null}function j(Be,ae){if(Be in b){var K=b[Be]|0;return ae?F.offset=K:F.instances=K,g.command(!ae||K>=0,"invalid "+Be,d.commandStr),Sn(function(Ve,ot){return ae&&(Ve.OFFSET=K),K})}else if(Be in M){var We=M[Be];return fr(We,function(Ve,ot){var Ht=Ve.invoke(ot,We);return ae&&(Ve.OFFSET=Ht,g.optional(function(){Ve.assert(ot,Ht+">=0","invalid "+Be)})),Ht})}else if(ae){if(E)return Sn(function(Ve,ot){return Ve.OFFSET=0,0});if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.offset:0")})}else if(P)return new Nn(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.instances:-1")});return null}var q=j(cf,!0);function re(){if(pa in b){var Be=b[pa]|0;return F.count=Be,g.command(typeof Be=="number"&&Be>=0,"invalid vertex count",d.commandStr),Sn(function(){return Be})}else if(pa in M){var ae=M[pa];return fr(ae,function(ot,Ht){var Vn=ot.invoke(Ht,ae);return g.optional(function(){ot.assert(Ht,"typeof "+Vn+'==="number"&&'+Vn+">=0&&"+Vn+"===("+Vn+"|0)","invalid vertex count")}),Vn})}else if(E)if(yo(_)){if(_)return q?new Nn(q.thisDep,q.contextDep,q.propDep,function(ot,Ht){var Vn=Ht.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return g.optional(function(){ot.assert(Ht,Vn+">=0","invalid vertex offset/element buffer too small")}),Vn}):Sn(function(ot,Ht){return Ht.def(ot.ELEMENTS,".vertCount")});var K=Sn(function(){return-1});return g.optional(function(){K.MISSING=!0}),K}else{var We=new Nn(_.thisDep||q.thisDep,_.contextDep||q.contextDep,_.propDep||q.propDep,function(ot,Ht){var Vn=ot.ELEMENTS;return ot.OFFSET?Ht.def(Vn,"?",Vn,".vertCount-",ot.OFFSET,":-1"):Ht.def(Vn,"?",Vn,".vertCount:-1")});return g.optional(function(){We.DYNAMIC=!0}),We}else if(P){var Ve=new Nn(I.thisDep,I.contextDep,I.propDep,function(ot,Ht){return Ht.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return Ve}return null}var Ee=G(),at=re(),Ke=j(ff,!1);return{elements:_,primitive:Ee,count:at,instances:Ke,offset:q,vao:I,vaoActive:P,elementsActive:E,static:F}}function sn(y,d){var b=y.static,M=y.dynamic,F={};return qe.forEach(function(P){var L=$e(P);function I(E,T){if(P in b){var _=E(b[P]);F[L]=Sn(function(){return _})}else if(P in M){var G=M[P];F[L]=fr(G,function(j,q){return T(j,q,j.invoke(q,G))})}}switch(P){case ug:case rg:case ng:case mg:case og:case vg:case fg:case dg:case hg:case sg:return I(function(E){return g.commandType(E,"boolean",P,d.commandStr),E},function(E,T,_){return g.optional(function(){E.assert(T,"typeof "+_+'==="boolean"',"invalid flag "+P,E.commandStr)}),_});case ag:return I(function(E){return g.commandParameter(E,wl,"invalid "+P,d.commandStr),wl[E]},function(E,T,_){var G=E.constants.compareFuncs;return g.optional(function(){E.assert(T,_+" in "+G,"invalid "+P+", must be one of "+Object.keys(wl))}),T.def(G,"[",_,"]")});case lg:return I(function(E){return g.command(nn(E)&&E.length===2&&typeof E[0]=="number"&&typeof E[1]=="number"&&E[0]<=E[1],"depth range is 2d array",d.commandStr),E},function(E,T,_){g.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===2&&typeof "+_+'[0]==="number"&&typeof '+_+'[1]==="number"&&'+_+"[0]<="+_+"[1]","depth range must be a 2d array")});var G=T.def("+",_,"[0]"),j=T.def("+",_,"[1]");return[G,j]});case Sm:return I(function(E){g.commandType(E,"object","blend.func",d.commandStr);var T="srcRGB"in E?E.srcRGB:E.src,_="srcAlpha"in E?E.srcAlpha:E.src,G="dstRGB"in E?E.dstRGB:E.dst,j="dstAlpha"in E?E.dstAlpha:E.dst;return g.commandParameter(T,hi,L+".srcRGB",d.commandStr),g.commandParameter(_,hi,L+".srcAlpha",d.commandStr),g.commandParameter(G,hi,L+".dstRGB",d.commandStr),g.commandParameter(j,hi,L+".dstAlpha",d.commandStr),g.command(Cg.indexOf(T+", "+G)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+T+", "+G+")",d.commandStr),[hi[T],hi[G],hi[_],hi[j]]},function(E,T,_){var G=E.constants.blendFuncs;g.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid blend func, must be an object")});function j(ae,K){var We=T.def('"',ae,K,'" in ',_,"?",_,".",ae,K,":",_,".",ae);return g.optional(function(){E.assert(T,We+" in "+G,"invalid "+P+"."+ae+K+", must be one of "+Object.keys(hi))}),We}var q=j("src","RGB"),re=j("dst","RGB");g.optional(function(){var ae=E.constants.invalidBlendCombinations;E.assert(T,ae+".indexOf("+q+'+", "+'+re+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ee=T.def(G,"[",q,"]"),at=T.def(G,"[",j("src","Alpha"),"]"),Ke=T.def(G,"[",re,"]"),Be=T.def(G,"[",j("dst","Alpha"),"]");return[Ee,Ke,at,Be]});case _m:return I(function(E){if(typeof E=="string")return g.commandParameter(E,Y,"invalid "+P,d.commandStr),[Y[E],Y[E]];if(typeof E=="object")return g.commandParameter(E.rgb,Y,P+".rgb",d.commandStr),g.commandParameter(E.alpha,Y,P+".alpha",d.commandStr),[Y[E.rgb],Y[E.alpha]];g.commandRaise("invalid blend.equation",d.commandStr)},function(E,T,_){var G=E.constants.blendEquations,j=T.def(),q=T.def(),re=E.cond("typeof ",_,'==="string"');return g.optional(function(){function Ee(at,Ke,Be){E.assert(at,Be+" in "+G,"invalid "+Ke+", must be one of "+Object.keys(Y))}Ee(re.then,P,_),E.assert(re.else,_+"&&typeof "+_+'==="object"',"invalid "+P),Ee(re.else,P+".rgb",_+".rgb"),Ee(re.else,P+".alpha",_+".alpha")}),re.then(j,"=",q,"=",G,"[",_,"];"),re.else(j,"=",G,"[",_,".rgb];",q,"=",G,"[",_,".alpha];"),T(re),[j,q]});case ig:return I(function(E){return g.command(nn(E)&&E.length===4,"blend.color must be a 4d array",d.commandStr),dn(4,function(T){return+E[T]})},function(E,T,_){return g.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","blend.color must be a 4d array")}),dn(4,function(G){return T.def("+",_,"[",G,"]")})});case pg:return I(function(E){return g.commandType(E,"number",L,d.commandStr),E|0},function(E,T,_){return g.optional(function(){E.assert(T,"typeof "+_+'==="number"',"invalid stencil.mask")}),T.def(_,"|0")});case Lm:return I(function(E){g.commandType(E,"object",L,d.commandStr);var T=E.cmp||"keep",_=E.ref||0,G="mask"in E?E.mask:-1;return g.commandParameter(T,wl,P+".cmp",d.commandStr),g.commandType(_,"number",P+".ref",d.commandStr),g.commandType(G,"number",P+".mask",d.commandStr),[wl[T],_,G]},function(E,T,_){var G=E.constants.compareFuncs;g.optional(function(){function Ee(){E.assert(T,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ee(_+"&&typeof ",_,'==="object"'),Ee('!("cmp" in ',_,")||(",_,".cmp in ",G,")")});var j=T.def('"cmp" in ',_,"?",G,"[",_,".cmp]",":",vo),q=T.def(_,".ref|0"),re=T.def('"mask" in ',_,"?",_,".mask|0:-1");return[j,q,re]});case Rm:case Xs:return I(function(E){g.commandType(E,"object",L,d.commandStr);var T=E.fail||"keep",_=E.zfail||"keep",G=E.zpass||"keep";return g.commandParameter(T,go,P+".fail",d.commandStr),g.commandParameter(_,go,P+".zfail",d.commandStr),g.commandParameter(G,go,P+".zpass",d.commandStr),[P===Xs?va:ru,go[T],go[_],go[G]]},function(E,T,_){var G=E.constants.stencilOps;g.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid "+P)});function j(q){return g.optional(function(){E.assert(T,'!("'+q+'" in '+_+")||("+_+"."+q+" in "+G+")","invalid "+P+"."+q+", must be one of "+Object.keys(go))}),T.def('"',q,'" in ',_,"?",G,"[",_,".",q,"]:",vo)}return[P===Xs?va:ru,j("fail"),j("zfail"),j("zpass")]});case Cm:return I(function(E){g.commandType(E,"object",L,d.commandStr);var T=E.factor|0,_=E.units|0;return g.commandType(T,"number",L+".factor",d.commandStr),g.commandType(_,"number",L+".units",d.commandStr),[T,_]},function(E,T,_){g.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid "+P)});var G=T.def(_,".factor|0"),j=T.def(_,".units|0");return[G,j]});case cg:return I(function(E){var T=0;return E==="front"?T=ru:E==="back"&&(T=va),g.command(!!T,L,d.commandStr),T},function(E,T,_){return g.optional(function(){E.assert(T,_+'==="front"||'+_+'==="back"',"invalid cull.face")}),T.def(_,'==="front"?',ru,":",va)});case Am:return I(function(E){return g.command(typeof E=="number"&&E>=H.lineWidthDims[0]&&E<=H.lineWidthDims[1],"invalid line width, must be a positive number between "+H.lineWidthDims[0]+" and "+H.lineWidthDims[1],d.commandStr),E},function(E,T,_){return g.optional(function(){E.assert(T,"typeof "+_+'==="number"&&'+_+">="+H.lineWidthDims[0]+"&&"+_+"<="+H.lineWidthDims[1],"invalid line width")}),_});case Tm:return I(function(E){return g.commandParameter(E,Bm,L,d.commandStr),Bm[E]},function(E,T,_){return g.optional(function(){E.assert(T,_+'==="cw"||'+_+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),T.def(_+'==="cw"?'+_g+":"+Fm)});case wm:return I(function(E){return g.command(nn(E)&&E.length===4,"color.mask must be length 4 array",d.commandStr),E.map(function(T){return!!T})},function(E,T,_){return g.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","invalid color.mask")}),dn(4,function(G){return"!!"+_+"["+G+"]"})});case bm:return I(function(E){g.command(typeof E=="object"&&E,L,d.commandStr);var T="value"in E?E.value:1,_=!!E.invert;return g.command(typeof T=="number"&&T>=0&&T<=1,"sample.coverage.value must be a number between 0 and 1",d.commandStr),[T,_]},function(E,T,_){g.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid sample.coverage")});var G=T.def('"value" in ',_,"?+",_,".value:1"),j=T.def("!!",_,".invert");return[G,j]})}}),F}function bt(y,d){var b=y.static,M=y.dynamic,F={};return Object.keys(b).forEach(function(P){var L=b[P],I;if(typeof L=="number"||typeof L=="boolean")I=Sn(function(){return L});else if(typeof L=="function"){var E=L._reglType;E==="texture2d"||E==="textureCube"?I=Sn(function(T){return T.link(L)}):E==="framebuffer"||E==="framebufferCube"?(g.command(L.color.length>0,'missing color attachment for framebuffer sent to uniform "'+P+'"',d.commandStr),I=Sn(function(T){return T.link(L.color[0])})):g.commandRaise('invalid data for uniform "'+P+'"',d.commandStr)}else nn(L)?I=Sn(function(T){var _=T.global.def("[",dn(L.length,function(G){return g.command(typeof L[G]=="number"||typeof L[G]=="boolean","invalid uniform "+P,T.commandStr),L[G]}),"]");return _}):g.commandRaise('invalid or missing data for uniform "'+P+'"',d.commandStr);I.value=L,F[P]=I}),Object.keys(M).forEach(function(P){var L=M[P];F[P]=fr(L,function(I,E){return I.invoke(E,L)})}),F}function bn(y,d){var b=y.static,M=y.dynamic,F={};return Object.keys(b).forEach(function(P){var L=b[P],I=v.id(P),E=new D;if(_f(L))E.state=xl,E.buffer=ee.getBuffer(ee.create(L,Sl,!1,!0)),E.type=0;else{var T=ee.getBuffer(L);if(T)E.state=xl,E.buffer=T,E.type=0;else if(g.command(typeof L=="object"&&L,"invalid data for attribute "+P,d.commandStr),"constant"in L){var _=L.constant;E.buffer="null",E.state=vm,typeof _=="number"?E.x=_:(g.command(nn(_)&&_.length>0&&_.length<=4,"invalid constant for attribute "+P,d.commandStr),yl.forEach(function(Ke,Be){Be<_.length&&(E[Ke]=_[Be])}))}else{_f(L.buffer)?T=ee.getBuffer(ee.create(L.buffer,Sl,!1,!0)):T=ee.getBuffer(L.buffer),g.command(!!T,'missing buffer for attribute "'+P+'"',d.commandStr);var G=L.offset|0;g.command(G>=0,'invalid offset for attribute "'+P+'"',d.commandStr);var j=L.stride|0;g.command(j>=0&&j<256,'invalid stride for attribute "'+P+'", must be integer betweeen [0, 255]',d.commandStr);var q=L.size|0;g.command(!("size"in L)||q>0&&q<=4,'invalid size for attribute "'+P+'", must be 1,2,3,4',d.commandStr);var re=!!L.normalized,Ee=0;"type"in L&&(g.commandParameter(L.type,lo,"invalid type for attribute "+P,d.commandStr),Ee=lo[L.type]);var at=L.divisor|0;g.optional(function(){"divisor"in L&&(g.command(at===0||me,'cannot specify divisor for attribute "'+P+'", instancing not supported',d.commandStr),g.command(at>=0,'invalid divisor for attribute "'+P+'"',d.commandStr));var Ke=d.commandStr,Be=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(L).forEach(function(ae){g.command(Be.indexOf(ae)>=0,'unknown parameter "'+ae+'" for attribute pointer "'+P+'" (valid parameters are '+Be+")",Ke)})}),E.buffer=T,E.state=xl,E.size=q,E.normalized=re,E.type=Ee||T.dtype,E.offset=G,E.stride=j,E.divisor=at}}F[P]=Sn(function(Ke,Be){var ae=Ke.attribCache;if(I in ae)return ae[I];var K={isStream:!1};return Object.keys(E).forEach(function(We){K[We]=E[We]}),E.buffer&&(K.buffer=Ke.link(E.buffer),K.type=K.type||K.buffer+".dtype"),ae[I]=K,K})}),Object.keys(M).forEach(function(P){var L=M[P];function I(E,T){var _=E.invoke(T,L),G=E.shared,j=E.constants,q=G.isBufferArgs,re=G.buffer;g.optional(function(){E.assert(T,_+"&&(typeof "+_+'==="object"||typeof '+_+'==="function")&&('+q+"("+_+")||"+re+".getBuffer("+_+")||"+re+".getBuffer("+_+".buffer)||"+q+"("+_+'.buffer)||("constant" in '+_+"&&(typeof "+_+'.constant==="number"||'+G.isArrayLike+"("+_+".constant))))",'invalid dynamic attribute "'+P+'"')});var Ee={isStream:T.def(!1)},at=new D;at.state=xl,Object.keys(at).forEach(function(K){Ee[K]=T.def(""+at[K])});var Ke=Ee.buffer,Be=Ee.type;T("if(",q,"(",_,")){",Ee.isStream,"=true;",Ke,"=",re,".createStream(",Sl,",",_,");",Be,"=",Ke,".dtype;","}else{",Ke,"=",re,".getBuffer(",_,");","if(",Ke,"){",Be,"=",Ke,".dtype;",'}else if("constant" in ',_,"){",Ee.state,"=",vm,";","if(typeof "+_+'.constant === "number"){',Ee[yl[0]],"=",_,".constant;",yl.slice(1).map(function(K){return Ee[K]}).join("="),"=0;","}else{",yl.map(function(K,We){return Ee[K]+"="+_+".constant.length>"+We+"?"+_+".constant["+We+"]:0;"}).join(""),"}}else{","if(",q,"(",_,".buffer)){",Ke,"=",re,".createStream(",Sl,",",_,".buffer);","}else{",Ke,"=",re,".getBuffer(",_,".buffer);","}",Be,'="type" in ',_,"?",j.glTypes,"[",_,".type]:",Ke,".dtype;",Ee.normalized,"=!!",_,".normalized;");function ae(K){T(Ee[K],"=",_,".",K,"|0;")}return ae("size"),ae("offset"),ae("stride"),ae("divisor"),T("}}"),T.exit("if(",Ee.isStream,"){",re,".destroyStream(",Ke,");","}"),Ee}F[P]=fr(L,I)}),F}function rn(y){var d=y.static,b=y.dynamic,M={};return Object.keys(d).forEach(function(F){var P=d[F];M[F]=Sn(function(L,I){return typeof P=="number"||typeof P=="boolean"?""+P:L.link(P)})}),Object.keys(b).forEach(function(F){var P=b[F];M[F]=fr(P,function(L,I){return L.invoke(I,P)})}),M}function wn(y,d,b,M,F){var P=y.static,L=y.dynamic;g.optional(function(){var ae=[da,Qs,Ks,ha,ma,cf,pa,ff,Ys,qs].concat(qe);function K(We){Object.keys(We).forEach(function(Ve){g.command(ae.indexOf(Ve)>=0,'unknown parameter "'+Ve+'"',F.commandStr)})}K(P),K(L)});var I=ct(y,d),E=ke(y),T=it(y,E,F),_=an(y,F),G=sn(y,F),j=Tt(y,F,I);function q(ae){var K=T[ae];K&&(G[ae]=K)}q(Mi),q($e(uf));var re=Object.keys(G).length>0,Ee={framebuffer:E,draw:_,shader:j,state:G,dirty:re,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ee.profile=Re(y),Ee.uniforms=bt(b,F),Ee.drawVAO=Ee.scopeVAO=_.vao,!Ee.drawVAO&&j.program&&!I&&C.angle_instanced_arrays&&_.static.elements){var at=!0,Ke=j.program.attributes.map(function(ae){var K=d.static[ae];return at=at&&!!K,K});if(at&&Ke.length>0){var Be=ve.getVAO(ve.createVAO({attributes:Ke,elements:_.static.elements}));Ee.drawVAO=new Nn(null,null,null,function(ae,K){return ae.link(Be)}),Ee.useVAO=!0}}return I?Ee.useVAO=!0:Ee.attributes=bn(d,F),Ee.context=rn(M),Ee}function Ln(y,d,b){var M=y.shared,F=M.context,P=y.scope();Object.keys(b).forEach(function(L){d.save(F,"."+L);var I=b[L],E=I.append(y,d);Array.isArray(E)?P(F,".",L,"=[",E.join(),"];"):P(F,".",L,"=",E,";")}),d(P)}function Rn(y,d,b,M){var F=y.shared,P=F.gl,L=F.framebuffer,I;Ie&&(I=d.def(F.extensions,".webgl_draw_buffers"));var E=y.constants,T=E.drawBuffer,_=E.backBuffer,G;b?G=b.append(y,d):G=d.def(L,".next"),M||d("if(",G,"!==",L,".cur){"),d("if(",G,"){",P,".bindFramebuffer(",Ag,",",G,".framebuffer);"),Ie&&d(I,".drawBuffersWEBGL(",T,"[",G,".colorAttachments.length]);"),d("}else{",P,".bindFramebuffer(",Ag,",null);"),Ie&&d(I,".drawBuffersWEBGL(",_,");"),d("}",L,".cur=",G,";"),M||d("}")}function jn(y,d,b){var M=y.shared,F=M.gl,P=y.current,L=y.next,I=M.current,E=M.next,T=y.cond(I,".dirty");qe.forEach(function(_){var G=$e(_);if(!(G in b.state)){var j,q;if(G in L){j=L[G],q=P[G];var re=dn(Pe[G].length,function(at){return T.def(j,"[",at,"]")});T(y.cond(re.map(function(at,Ke){return at+"!=="+q+"["+Ke+"]"}).join("||")).then(F,".",J[G],"(",re,");",re.map(function(at,Ke){return q+"["+Ke+"]="+at}).join(";"),";"))}else{j=T.def(E,".",G);var Ee=y.cond(j,"!==",I,".",G);T(Ee),G in te?Ee(y.cond(j).then(F,".enable(",te[G],");").else(F,".disable(",te[G],");"),I,".",G,"=",j,";"):Ee(F,".",J[G],"(",j,");",I,".",G,"=",j,";")}}}),Object.keys(b.state).length===0&&T(I,".dirty=false;"),d(T)}function zn(y,d,b,M){var F=y.shared,P=y.current,L=F.current,I=F.gl;Lg(Object.keys(b)).forEach(function(E){var T=b[E];if(!(M&&!M(T))){var _=T.append(y,d);if(te[E]){var G=te[E];yo(T)?_?d(I,".enable(",G,");"):d(I,".disable(",G,");"):d(y.cond(_).then(I,".enable(",G,");").else(I,".disable(",G,");")),d(L,".",E,"=",_,";")}else if(nn(_)){var j=P[E];d(I,".",J[E],"(",_,");",_.map(function(q,re){return j+"["+re+"]="+q}).join(";"),";")}else d(I,".",J[E],"(",_,");",L,".",E,"=",_,";")}})}function hn(y,d){me&&(y.instancing=d.def(y.shared.extensions,".angle_instanced_arrays"))}function vt(y,d,b,M,F){var P=y.shared,L=y.stats,I=P.current,E=P.timer,T=b.profile;function _(){return typeof performance>"u"?"Date.now()":"performance.now()"}var G,j;function q(ae){G=d.def(),ae(G,"=",_(),";"),typeof F=="string"?ae(L,".count+=",F,";"):ae(L,".count++;"),de&&(M?(j=d.def(),ae(j,"=",E,".getNumPendingQueries();")):ae(E,".beginQuery(",L,");"))}function re(ae){ae(L,".cpuTime+=",_(),"-",G,";"),de&&(M?ae(E,".pushScopeStats(",j,",",E,".getNumPendingQueries(),",L,");"):ae(E,".endQuery();"))}function Ee(ae){var K=d.def(I,".profile");d(I,".profile=",ae,";"),d.exit(I,".profile=",K,";")}var at;if(T){if(yo(T)){T.enable?(q(d),re(d.exit),Ee("true")):Ee("false");return}at=T.append(y,d),Ee(at)}else at=d.def(I,".profile");var Ke=y.block();q(Ke),d("if(",at,"){",Ke,"}");var Be=y.block();re(Be),d.exit("if(",at,"){",Be,"}")}function Un(y,d,b,M,F){var P=y.shared;function L(E){switch(E){case df:case pf:case yf:return 2;case hf:case vf:case xf:return 3;case mf:case gf:case Ef:return 4;default:return 1}}function I(E,T,_){var G=P.gl,j=d.def(E,".location"),q=d.def(P.attributes,"[",j,"]"),re=_.state,Ee=_.buffer,at=[_.x,_.y,_.z,_.w],Ke=["buffer","normalized","offset","stride"];function Be(){d("if(!",q,".buffer){",G,".enableVertexAttribArray(",j,");}");var K=_.type,We;if(_.size?We=d.def(_.size,"||",T):We=T,d("if(",q,".type!==",K,"||",q,".size!==",We,"||",Ke.map(function(ot){return q+"."+ot+"!=="+_[ot]}).join("||"),"){",G,".bindBuffer(",Sl,",",Ee,".buffer);",G,".vertexAttribPointer(",[j,We,K,_.normalized,_.stride,_.offset],");",q,".type=",K,";",q,".size=",We,";",Ke.map(function(ot){return q+"."+ot+"="+_[ot]+";"}).join(""),"}"),me){var Ve=_.divisor;d("if(",q,".divisor!==",Ve,"){",y.instancing,".vertexAttribDivisorANGLE(",[j,Ve],");",q,".divisor=",Ve,";}")}}function ae(){d("if(",q,".buffer){",G,".disableVertexAttribArray(",j,");",q,".buffer=null;","}if(",yl.map(function(K,We){return q+"."+K+"!=="+at[We]}).join("||"),"){",G,".vertexAttrib4f(",j,",",at,");",yl.map(function(K,We){return q+"."+K+"="+at[We]+";"}).join(""),"}")}re===xl?Be():re===vm?ae():(d("if(",re,"===",xl,"){"),Be(),d("}else{"),ae(),d("}"))}M.forEach(function(E){var T=E.name,_=b.attributes[T],G;if(_){if(!F(_))return;G=_.append(y,d)}else{if(!F(Rg))return;var j=y.scopeAttrib(T);g.optional(function(){y.assert(d,j+".state","missing attribute "+T)}),G={},Object.keys(new D).forEach(function(q){G[q]=d.def(j,".",q)})}I(y.link(E),L(E.info.type),G)})}function Gt(y,d,b,M,F,P){for(var L=y.shared,I=L.gl,E={},T,_=0;_<M.length;++_){var G=M[_],j=G.name,q=G.info.type,re=G.info.size,Ee=b.uniforms[j];if(re>1){if(!Ee)continue;var at=j.replace("[0]","");if(E[at])continue;E[at]=1}var Ke=y.link(G),Be=Ke+".location",ae;if(Ee){if(!F(Ee))continue;if(yo(Ee)){var K=Ee.value;if(g.command(K!==null&&typeof K<"u",'missing uniform "'+j+'"',y.commandStr),q===tu||q===nu){g.command(typeof K=="function"&&(q===tu&&(K._reglType==="texture2d"||K._reglType==="framebuffer")||q===nu&&(K._reglType==="textureCube"||K._reglType==="framebufferCube")),"invalid texture for uniform "+j,y.commandStr);var We=y.link(K._texture||K.color[0]._texture);d(I,".uniform1i(",Be,",",We+".bind());"),d.exit(We,".unbind();")}else if(q===Zs||q===Js||q===eu){g.optional(function(){g.command(nn(K),"invalid matrix for uniform "+j,y.commandStr),g.command(q===Zs&&K.length===4||q===Js&&K.length===9||q===eu&&K.length===16,"invalid length for matrix uniform "+j,y.commandStr)});var Ve=y.global.def("new Float32Array(["+Array.prototype.slice.call(K)+"])"),ot=2;q===Js?ot=3:q===eu&&(ot=4),d(I,".uniformMatrix",ot,"fv(",Be,",false,",Ve,");")}else{switch(q){case Nm:re===1?g.commandType(K,"number","uniform "+j,y.commandStr):g.command(nn(K)&&K.length===re,"uniform "+j,y.commandStr),T="1f";break;case df:g.command(nn(K)&&K.length&&K.length%2===0&&K.length<=re*2,"uniform "+j,y.commandStr),T="2f";break;case hf:g.command(nn(K)&&K.length&&K.length%3===0&&K.length<=re*3,"uniform "+j,y.commandStr),T="3f";break;case mf:g.command(nn(K)&&K.length&&K.length%4===0&&K.length<=re*4,"uniform "+j,y.commandStr),T="4f";break;case Mm:re===1?g.commandType(K,"boolean","uniform "+j,y.commandStr):g.command(nn(K)&&K.length===re,"uniform "+j,y.commandStr),T="1i";break;case Im:re===1?g.commandType(K,"number","uniform "+j,y.commandStr):g.command(nn(K)&&K.length===re,"uniform "+j,y.commandStr),T="1i";break;case yf:g.command(nn(K)&&K.length&&K.length%2===0&&K.length<=re*2,"uniform "+j,y.commandStr),T="2i";break;case pf:g.command(nn(K)&&K.length&&K.length%2===0&&K.length<=re*2,"uniform "+j,y.commandStr),T="2i";break;case xf:g.command(nn(K)&&K.length&&K.length%3===0&&K.length<=re*3,"uniform "+j,y.commandStr),T="3i";break;case vf:g.command(nn(K)&&K.length&&K.length%3===0&&K.length<=re*3,"uniform "+j,y.commandStr),T="3i";break;case Ef:g.command(nn(K)&&K.length&&K.length%4===0&&K.length<=re*4,"uniform "+j,y.commandStr),T="4i";break;case gf:g.command(nn(K)&&K.length&&K.length%4===0&&K.length<=re*4,"uniform "+j,y.commandStr),T="4i";break}re>1?(T+="v",K=y.global.def("["+Array.prototype.slice.call(K)+"]")):K=nn(K)?Array.prototype.slice.call(K):K,d(I,".uniform",T,"(",Be,",",K,");")}continue}else ae=Ee.append(y,d)}else{if(!F(Rg))continue;ae=d.def(L.uniforms,"[",v.id(j),"]")}q===tu?(g(!Array.isArray(ae),"must specify a scalar prop for textures"),d("if(",ae,"&&",ae,'._reglType==="framebuffer"){',ae,"=",ae,".color[0];","}")):q===nu&&(g(!Array.isArray(ae),"must specify a scalar prop for cube maps"),d("if(",ae,"&&",ae,'._reglType==="framebufferCube"){',ae,"=",ae,".color[0];","}")),g.optional(function(){function Ar(dr,Sf){y.assert(d,dr,'bad data or missing for uniform "'+j+'".  '+Sf)}function Ea(dr,Sf){Sf===1&&g(!Array.isArray(ae),"must not specify an array type for uniform"),Ar("Array.isArray("+ae+") && typeof "+ae+'[0]===" '+dr+'" || typeof '+ae+'==="'+dr+'"',"invalid type, expected "+dr)}function Dr(dr,Sf,wf){Array.isArray(ae)?g(ae.length&&ae.length%dr===0&&ae.length<=dr*wf,"must have length of "+(wf===1?"":"n * ")+dr):Ar(L.isArrayLike+"("+ae+")&&"+ae+".length && "+ae+".length % "+dr+" === 0 && "+ae+".length<="+dr*wf,"invalid vector, should have length of "+(wf===1?"":"n * ")+dr,y.commandStr)}function Dg(dr){g(!Array.isArray(ae),"must not specify a value type"),Ar("typeof "+ae+'==="function"&&'+ae+'._reglType==="texture'+(dr===Eg?"2d":"Cube")+'"',"invalid texture type",y.commandStr)}switch(q){case Im:Ea("number",re);break;case pf:Dr(2,"number",re);break;case vf:Dr(3,"number",re);break;case gf:Dr(4,"number",re);break;case Nm:Ea("number",re);break;case df:Dr(2,"number",re);break;case hf:Dr(3,"number",re);break;case mf:Dr(4,"number",re);break;case Mm:Ea("boolean",re);break;case yf:Dr(2,"boolean",re);break;case xf:Dr(3,"boolean",re);break;case Ef:Dr(4,"boolean",re);break;case Zs:Dr(4,"number",re);break;case Js:Dr(9,"number",re);break;case eu:Dr(16,"number",re);break;case tu:Dg(Eg);break;case nu:Dg(iS);break}});var Ht=1;switch(q){case tu:case nu:var Vn=d.def(ae,"._texture");d(I,".uniform1i(",Be,",",Vn,".bind());"),d.exit(Vn,".unbind();");continue;case Im:case Mm:T="1i";break;case pf:case yf:T="2i",Ht=2;break;case vf:case xf:T="3i",Ht=3;break;case gf:case Ef:T="4i",Ht=4;break;case Nm:T="1f";break;case df:T="2f",Ht=2;break;case hf:T="3f",Ht=3;break;case mf:T="4f",Ht=4;break;case Zs:T="Matrix2fv";break;case Js:T="Matrix3fv";break;case eu:T="Matrix4fv";break}if(T.indexOf("Matrix")===-1&&re>1&&(T+="v",Ht=1),T.charAt(0)==="M"){d(I,".uniform",T,"(",Be,",");var ya=Math.pow(q-Zs+2,2),Di=y.global.def("new Float32Array(",ya,")");Array.isArray(ae)?d("false,(",dn(ya,function(Ar){return Di+"["+Ar+"]="+ae[Ar]}),",",Di,")"):d("false,(Array.isArray(",ae,")||",ae," instanceof Float32Array)?",ae,":(",dn(ya,function(Ar){return Di+"["+Ar+"]="+ae+"["+Ar+"]"}),",",Di,")"),d(");")}else if(Ht>1){for(var pi=[],xo=[],xa=0;xa<Ht;++xa)Array.isArray(ae)?xo.push(ae[xa]):xo.push(d.def(ae+"["+xa+"]")),P&&pi.push(d.def());P&&d("if(!",y.batchId,"||",pi.map(function(Ar,Ea){return Ar+"!=="+xo[Ea]}).join("||"),"){",pi.map(function(Ar,Ea){return Ar+"="+xo[Ea]+";"}).join("")),d(I,".uniform",T,"(",Be,",",xo.join(","),");"),P&&d("}")}else{if(g(!Array.isArray(ae),"uniform value must not be an array"),P){var Mg=d.def();d("if(!",y.batchId,"||",Mg,"!==",ae,"){",Mg,"=",ae,";")}d(I,".uniform",T,"(",Be,",",ae,");"),P&&d("}")}}}function tt(y,d,b,M){var F=y.shared,P=F.gl,L=F.draw,I=M.draw;function E(){var We=I.elements,Ve,ot=d;return We?((We.contextDep&&M.contextDynamic||We.propDep)&&(ot=b),Ve=We.append(y,ot),I.elementsActive&&ot("if("+Ve+")"+P+".bindBuffer("+km+","+Ve+".buffer.buffer);")):(Ve=ot.def(),ot(Ve,"=",L,".",ha,";","if(",Ve,"){",P,".bindBuffer(",km,",",Ve,".buffer.buffer);}","else if(",F.vao,".currentVAO){",Ve,"=",y.shared.elements+".getElements("+F.vao,".currentVAO.elements);",se?"":"if("+Ve+")"+P+".bindBuffer("+km+","+Ve+".buffer.buffer);","}")),Ve}function T(){var We=I.count,Ve,ot=d;return We?((We.contextDep&&M.contextDynamic||We.propDep)&&(ot=b),Ve=We.append(y,ot),g.optional(function(){We.MISSING&&y.assert(d,"false","missing vertex count"),We.DYNAMIC&&y.assert(ot,Ve+">=0","missing vertex count")})):(Ve=ot.def(L,".",pa),g.optional(function(){y.assert(ot,Ve+">=0","missing vertex count")})),Ve}var _=E();function G(We){var Ve=I[We];return Ve?Ve.contextDep&&M.contextDynamic||Ve.propDep?Ve.append(y,b):Ve.append(y,d):d.def(L,".",We)}var j=G(ma),q=G(cf),re=T();if(typeof re=="number"){if(re===0)return}else b("if(",re,"){"),b.exit("}");var Ee,at;me&&(Ee=G(ff),at=y.instancing);var Ke=_+".type",Be=I.elements&&yo(I.elements)&&!I.vaoActive;function ae(){function We(){b(at,".drawElementsInstancedANGLE(",[j,re,Ke,q+"<<(("+Ke+"-"+Jv+")>>1)",Ee],");")}function Ve(){b(at,".drawArraysInstancedANGLE(",[j,q,re,Ee],");")}_&&_!=="null"?Be?We():(b("if(",_,"){"),We(),b("}else{"),Ve(),b("}")):Ve()}function K(){function We(){b(P+".drawElements("+[j,re,Ke,q+"<<(("+Ke+"-"+Jv+")>>1)"]+");")}function Ve(){b(P+".drawArrays("+[j,q,re]+");")}_&&_!=="null"?Be?We():(b("if(",_,"){"),We(),b("}else{"),Ve(),b("}")):Ve()}me&&(typeof Ee!="number"||Ee>=0)?typeof Ee=="string"?(b("if(",Ee,">0){"),ae(),b("}else if(",Ee,"<0){"),K(),b("}")):ae():K()}function At(y,d,b,M,F){var P=lt(),L=P.proc("body",F);return g.optional(function(){P.commandStr=d.commandStr,P.command=P.link(d.commandStr)}),me&&(P.instancing=L.def(P.shared.extensions,".angle_instanced_arrays")),y(P,L,b,M),P.compile().body}function Nt(y,d,b,M){hn(y,d),b.useVAO?b.drawVAO?d(y.shared.vao,".setVAO(",b.drawVAO.append(y,d),");"):d(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(d(y.shared.vao,".setVAO(null);"),Un(y,d,b,M.attributes,function(){return!0})),Gt(y,d,b,M.uniforms,function(){return!0},!1),tt(y,d,d,b)}function mn(y,d){var b=y.proc("draw",1);hn(y,b),Ln(y,b,d.context),Rn(y,b,d.framebuffer),jn(y,b,d),zn(y,b,d.state),vt(y,b,d,!1,!0);var M=d.shader.progVar.append(y,b);if(b(y.shared.gl,".useProgram(",M,".program);"),d.shader.program)Nt(y,b,d,d.shader.program);else{b(y.shared.vao,".setVAO(null);");var F=y.global.def("{}"),P=b.def(M,".id"),L=b.def(F,"[",P,"]");b(y.cond(L).then(L,".call(this,a0);").else(L,"=",F,"[",P,"]=",y.link(function(I){return At(Nt,y,d,I,1)}),"(",M,");",L,".call(this,a0);"))}Object.keys(d.state).length>0&&b(y.shared.current,".dirty=true;"),y.shared.vao&&b(y.shared.vao,".setVAO(null);")}function mi(y,d,b,M){y.batchId="a1",hn(y,d);function F(){return!0}Un(y,d,b,M.attributes,F),Gt(y,d,b,M.uniforms,F,!1),tt(y,d,d,b)}function ga(y,d,b,M){hn(y,d);var F=b.contextDep,P=d.def(),L="a0",I="a1",E=d.def();y.shared.props=E,y.batchId=P;var T=y.scope(),_=y.scope();d(T.entry,"for(",P,"=0;",P,"<",I,";++",P,"){",E,"=",L,"[",P,"];",_,"}",T.exit);function G(Ke){return Ke.contextDep&&F||Ke.propDep}function j(Ke){return!G(Ke)}if(b.needsContext&&Ln(y,_,b.context),b.needsFramebuffer&&Rn(y,_,b.framebuffer),zn(y,_,b.state,G),b.profile&&G(b.profile)&&vt(y,_,b,!1,!0),M)b.useVAO?b.drawVAO?G(b.drawVAO)?_(y.shared.vao,".setVAO(",b.drawVAO.append(y,_),");"):T(y.shared.vao,".setVAO(",b.drawVAO.append(y,T),");"):T(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(T(y.shared.vao,".setVAO(null);"),Un(y,T,b,M.attributes,j),Un(y,_,b,M.attributes,G)),Gt(y,T,b,M.uniforms,j,!1),Gt(y,_,b,M.uniforms,G,!0),tt(y,T,_,b);else{var q=y.global.def("{}"),re=b.shader.progVar.append(y,_),Ee=_.def(re,".id"),at=_.def(q,"[",Ee,"]");_(y.shared.gl,".useProgram(",re,".program);","if(!",at,"){",at,"=",q,"[",Ee,"]=",y.link(function(Ke){return At(mi,y,b,Ke,2)}),"(",re,");}",at,".call(this,a0[",P,"],",P,");")}}function w(y,d){var b=y.proc("batch",2);y.batchId="0",hn(y,b);var M=!1,F=!0;Object.keys(d.context).forEach(function(q){M=M||d.context[q].propDep}),M||(Ln(y,b,d.context),F=!1);var P=d.framebuffer,L=!1;P?(P.propDep?M=L=!0:P.contextDep&&M&&(L=!0),L||Rn(y,b,P)):Rn(y,b,null),d.state.viewport&&d.state.viewport.propDep&&(M=!0);function I(q){return q.contextDep&&M||q.propDep}jn(y,b,d),zn(y,b,d.state,function(q){return!I(q)}),(!d.profile||!I(d.profile))&&vt(y,b,d,!1,"a1"),d.contextDep=M,d.needsContext=F,d.needsFramebuffer=L;var E=d.shader.progVar;if(E.contextDep&&M||E.propDep)ga(y,b,d,null);else{var T=E.append(y,b);if(b(y.shared.gl,".useProgram(",T,".program);"),d.shader.program)ga(y,b,d,d.shader.program);else{b(y.shared.vao,".setVAO(null);");var _=y.global.def("{}"),G=b.def(T,".id"),j=b.def(_,"[",G,"]");b(y.cond(j).then(j,".call(this,a0,a1);").else(j,"=",_,"[",G,"]=",y.link(function(q){return At(ga,y,d,q,2)}),"(",T,");",j,".call(this,a0,a1);"))}}Object.keys(d.state).length>0&&b(y.shared.current,".dirty=true;"),y.shared.vao&&b(y.shared.vao,".setVAO(null);")}function W(y,d){var b=y.proc("scope",3);y.batchId="a2";var M=y.shared,F=M.current;Ln(y,b,d.context),d.framebuffer&&d.framebuffer.append(y,b),Lg(Object.keys(d.state)).forEach(function(L){var I=d.state[L],E=I.append(y,b);nn(E)?E.forEach(function(T,_){b.set(y.next[L],"["+_+"]",T)}):b.set(M.next,"."+L,E)}),vt(y,b,d,!0,!0),[ha,cf,pa,ff,ma].forEach(function(L){var I=d.draw[L];I&&b.set(M.draw,"."+L,""+I.append(y,b))}),Object.keys(d.uniforms).forEach(function(L){var I=d.uniforms[L].append(y,b);Array.isArray(I)&&(I="["+I.join()+"]"),b.set(M.uniforms,"["+v.id(L)+"]",I)}),Object.keys(d.attributes).forEach(function(L){var I=d.attributes[L].append(y,b),E=y.scopeAttrib(L);Object.keys(new D).forEach(function(T){b.set(E,"."+T,I[T])})}),d.scopeVAO&&b.set(M.vao,".targetVAO",d.scopeVAO.append(y,b));function P(L){var I=d.shader[L];I&&b.set(M.shader,"."+L,I.append(y,b))}P(Qs),P(Ks),Object.keys(d.state).length>0&&(b(F,".dirty=true;"),b.exit(F,".dirty=true;")),b("a1(",y.shared.context,",a0,",y.batchId,");")}function z(y){if(!(typeof y!="object"||nn(y))){for(var d=Object.keys(y),b=0;b<d.length;++b)if(kt.isDynamic(y[d[b]]))return!0;return!1}}function je(y,d,b){var M=d.static[b];if(!M||!z(M))return;var F=y.global,P=Object.keys(M),L=!1,I=!1,E=!1,T=y.global.def("{}");P.forEach(function(G){var j=M[G];if(kt.isDynamic(j)){typeof j=="function"&&(j=M[G]=kt.unbox(j));var q=fr(j,null);L=L||q.thisDep,E=E||q.propDep,I=I||q.contextDep}else{switch(F(T,".",G,"="),typeof j){case"number":F(j);break;case"string":F('"',j,'"');break;case"object":Array.isArray(j)&&F("[",j.join(),"]");break;default:F(y.link(j));break}F(";")}});function _(G,j){P.forEach(function(q){var re=M[q];if(kt.isDynamic(re)){var Ee=G.invoke(j,re);j(T,".",q,"=",Ee,";")}})}d.dynamic[b]=new kt.DynamicVariable(sf,{thisDep:L,contextDep:I,propDep:E,ref:T,append:_}),delete d.static[b]}function St(y,d,b,M,F){var P=lt();P.stats=P.link(F),Object.keys(d.static).forEach(function(I){je(P,d,I)}),tS.forEach(function(I){je(P,y,I)});var L=wn(y,d,b,M,P);return mn(P,L),W(P,L),w(P,L),r(P.compile(),{destroy:function(){L.shader.program.destroy()}})}return{next:Le,current:Pe,procs:function(){var y=lt(),d=y.proc("poll"),b=y.proc("refresh"),M=y.block();d(M),b(M);var F=y.shared,P=F.gl,L=F.next,I=F.current;M(I,".dirty=false;"),Rn(y,d),Rn(y,b,null,!0);var E;me&&(E=y.link(me)),C.oes_vertex_array_object&&b(y.link(C.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var T=0;T<H.maxAttributes;++T){var _=b.def(F.attributes,"[",T,"]"),G=y.cond(_,".buffer");G.then(P,".enableVertexAttribArray(",T,");",P,".bindBuffer(",Sl,",",_,".buffer.buffer);",P,".vertexAttribPointer(",T,",",_,".size,",_,".type,",_,".normalized,",_,".stride,",_,".offset);").else(P,".disableVertexAttribArray(",T,");",P,".vertexAttrib4f(",T,",",_,".x,",_,".y,",_,".z,",_,".w);",_,".buffer=null;"),b(G),me&&b(E,".vertexAttribDivisorANGLE(",T,",",_,".divisor);")}return b(y.shared.vao,".currentVAO=null;",y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"),Object.keys(te).forEach(function(j){var q=te[j],re=M.def(L,".",j),Ee=y.block();Ee("if(",re,"){",P,".enable(",q,")}else{",P,".disable(",q,")}",I,".",j,"=",re,";"),b(Ee),d("if(",re,"!==",I,".",j,"){",Ee,"}")}),Object.keys(J).forEach(function(j){var q=J[j],re=Pe[j],Ee,at,Ke=y.block();if(Ke(P,".",q,"("),nn(re)){var Be=re.length;Ee=y.global.def(L,".",j),at=y.global.def(I,".",j),Ke(dn(Be,function(ae){return Ee+"["+ae+"]"}),");",dn(Be,function(ae){return at+"["+ae+"]="+Ee+"["+ae+"];"}).join("")),d("if(",dn(Be,function(ae){return Ee+"["+ae+"]!=="+at+"["+ae+"]"}).join("||"),"){",Ke,"}")}else Ee=M.def(L,".",j),at=M.def(I,".",j),Ke(Ee,");",I,".",j,"=",Ee,";"),d("if(",Ee,"!==",at,"){",Ke,"}");b(Ke)}),y.compile()}(),compile:St}}function ES(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var _S=34918,SS=34919,Og=35007,wS=function(c,v){if(!v.ext_disjoint_timer_query)return null;var C=[];function H(){return C.pop()||v.ext_disjoint_timer_query.createQueryEXT()}function ee(me){C.push(me)}var V=[];function Q(me){var Ie=H();v.ext_disjoint_timer_query.beginQueryEXT(Og,Ie),V.push(Ie),de(V.length-1,V.length,me)}function fe(){v.ext_disjoint_timer_query.endQueryEXT(Og)}function ce(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ve=[];function ye(){return ve.pop()||new ce}function ge(me){ve.push(me)}var _e=[];function de(me,Ie,se){var Pe=ye();Pe.startQueryIndex=me,Pe.endQueryIndex=Ie,Pe.sum=0,Pe.stats=se,_e.push(Pe)}var pe=[],D=[];function Y(){var me,Ie,se=V.length;if(se!==0){D.length=Math.max(D.length,se+1),pe.length=Math.max(pe.length,se+1),pe[0]=0,D[0]=0;var Pe=0;for(me=0,Ie=0;Ie<V.length;++Ie){var Le=V[Ie];v.ext_disjoint_timer_query.getQueryObjectEXT(Le,SS)?(Pe+=v.ext_disjoint_timer_query.getQueryObjectEXT(Le,_S),ee(Le)):V[me++]=Le,pe[Ie+1]=Pe,D[Ie+1]=me}for(V.length=me,me=0,Ie=0;Ie<_e.length;++Ie){var qe=_e[Ie],te=qe.startQueryIndex,J=qe.endQueryIndex;qe.sum+=pe[J]-pe[te];var $e=D[te],we=D[J];we===$e?(qe.stats.gpuTime+=qe.sum/1e6,ge(qe)):(qe.startQueryIndex=$e,qe.endQueryIndex=we,_e[me++]=qe)}_e.length=me}}return{beginQuery:Q,endQuery:fe,pushScopeStats:de,update:Y,getNumPendingQueries:function(){return V.length},clear:function(){C.push.apply(C,V);for(var me=0;me<C.length;me++)v.ext_disjoint_timer_query.deleteQueryEXT(C[me]);V.length=0,C.length=0},restore:function(){V.length=0,C.length=0}}},TS=16384,AS=256,CS=1024,bS=34962,Pg="webglcontextlost",kg="webglcontextrestored",Ng=1,LS=2,RS=3;function Ig(c,v){for(var C=0;C<c.length;++C)if(c[C]===v)return C;return-1}function OS(c){var v=qi(c);if(!v)return null;var C=v.gl,H=C.getContextAttributes(),ee=C.isContextLost(),V=Zi(C,v);if(!V)return null;var Q=Z(),fe=ES(),ce=V.extensions,ve=wS(C,ce),ye=xn(),ge=C.drawingBufferWidth,_e=C.drawingBufferHeight,de={tick:0,time:0,viewportWidth:ge,viewportHeight:_e,framebufferWidth:ge,framebufferHeight:_e,drawingBufferWidth:ge,drawingBufferHeight:_e,pixelRatio:v.pixelRatio},pe={},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},Y=ac(C,ce),me=_s(C,fe,v,Pe),Ie=Cs(C,ce,me,fe),se=Se(C,ce,Y,fe,me,Ie,D);function Pe(tt){return se.destroyBuffer(tt)}var Le=It(C,Q,fe,v),qe=Zh(C,ce,Y,function(){$e.procs.poll()},de,fe,v),te=Jh(C,ce,Y,fe,v),J=mm(C,ce,Y,qe,te,fe),$e=xS(C,Q,ce,Y,me,Ie,qe,J,pe,se,Le,D,de,ve,v),we=q_(C,J,$e.procs.poll,de,H,ce,Y),he=$e.next,Te=C.canvas,be=[],ut=[],lt=[],Re=[v.onDestroy],ke=null;function it(){if(be.length===0){ve&&ve.update(),ke=null;return}ke=yn.next(it),zn();for(var tt=be.length-1;tt>=0;--tt){var At=be[tt];At&&At(de,null,0)}C.flush(),ve&&ve.update()}function ct(){!ke&&be.length>0&&(ke=yn.next(it))}function Tt(){ke&&(yn.cancel(it),ke=null)}function an(tt){tt.preventDefault(),ee=!0,Tt(),ut.forEach(function(At){At()})}function sn(tt){C.getError(),ee=!1,V.restore(),Le.restore(),me.restore(),qe.restore(),te.restore(),J.restore(),se.restore(),ve&&ve.restore(),$e.procs.refresh(),ct(),lt.forEach(function(At){At()})}Te&&(Te.addEventListener(Pg,an,!1),Te.addEventListener(kg,sn,!1));function bt(){be.length=0,Tt(),Te&&(Te.removeEventListener(Pg,an),Te.removeEventListener(kg,sn)),Le.clear(),J.clear(),te.clear(),se.clear(),qe.clear(),Ie.clear(),me.clear(),ve&&ve.clear(),Re.forEach(function(tt){tt()})}function bn(tt){g(!!tt,"invalid args to regl({...})"),g.type(tt,"object","invalid args to regl({...})");function At(F){var P=r({},F);delete P.uniforms,delete P.attributes,delete P.context,delete P.vao,"stencil"in P&&P.stencil.op&&(P.stencil.opBack=P.stencil.opFront=P.stencil.op,delete P.stencil.op);function L(I){if(I in P){var E=P[I];delete P[I],Object.keys(E).forEach(function(T){P[I+"."+T]=E[T]})}}return L("blend"),L("depth"),L("cull"),L("stencil"),L("polygonOffset"),L("scissor"),L("sample"),"vao"in F&&(P.vao=F.vao),P}function Nt(F,P){var L={},I={};return Object.keys(F).forEach(function(E){var T=F[E];if(kt.isDynamic(T)){I[E]=kt.unbox(T,E);return}else if(P&&Array.isArray(T)){for(var _=0;_<T.length;++_)if(kt.isDynamic(T[_])){I[E]=kt.unbox(T,E);return}}L[E]=T}),{dynamic:I,static:L}}var mn=Nt(tt.context||{},!0),mi=Nt(tt.uniforms||{},!0),ga=Nt(tt.attributes||{},!1),w=Nt(At(tt),!1),W={gpuTime:0,cpuTime:0,count:0},z=$e.compile(w,ga,mi,mn,W),je=z.draw,St=z.batch,y=z.scope,d=[];function b(F){for(;d.length<F;)d.push(null);return d}function M(F,P){var L;if(ee&&g.raise("context lost"),typeof F=="function")return y.call(this,null,F,0);if(typeof P=="function")if(typeof F=="number")for(L=0;L<F;++L)y.call(this,null,P,L);else if(Array.isArray(F))for(L=0;L<F.length;++L)y.call(this,F[L],P,L);else return y.call(this,F,P,0);else if(typeof F=="number"){if(F>0)return St.call(this,b(F|0),F|0)}else if(Array.isArray(F)){if(F.length)return St.call(this,F,F.length)}else return je.call(this,F)}return r(M,{stats:W,destroy:function(){z.destroy()}})}var rn=J.setFBO=bn({framebuffer:kt.define.call(null,Ng,"framebuffer")});function wn(tt,At){var Nt=0;$e.procs.poll();var mn=At.color;mn&&(C.clearColor(+mn[0]||0,+mn[1]||0,+mn[2]||0,+mn[3]||0),Nt|=TS),"depth"in At&&(C.clearDepth(+At.depth),Nt|=AS),"stencil"in At&&(C.clearStencil(At.stencil|0),Nt|=CS),g(!!Nt,"called regl.clear with no buffer specified"),C.clear(Nt)}function Ln(tt){if(g(typeof tt=="object"&&tt,"regl.clear() takes an object as input"),"framebuffer"in tt)if(tt.framebuffer&&tt.framebuffer_reglType==="framebufferCube")for(var At=0;At<6;++At)rn(r({framebuffer:tt.framebuffer.faces[At]},tt),wn);else rn(tt,wn);else wn(null,tt)}function Rn(tt){g.type(tt,"function","regl.frame() callback must be a function"),be.push(tt);function At(){var Nt=Ig(be,tt);g(Nt>=0,"cannot cancel a frame twice");function mn(){var mi=Ig(be,mn);be[mi]=be[be.length-1],be.length-=1,be.length<=0&&Tt()}be[Nt]=mn}return ct(),{cancel:At}}function jn(){var tt=he.viewport,At=he.scissor_box;tt[0]=tt[1]=At[0]=At[1]=0,de.viewportWidth=de.framebufferWidth=de.drawingBufferWidth=tt[2]=At[2]=C.drawingBufferWidth,de.viewportHeight=de.framebufferHeight=de.drawingBufferHeight=tt[3]=At[3]=C.drawingBufferHeight}function zn(){de.tick+=1,de.time=vt(),jn(),$e.procs.poll()}function hn(){qe.refresh(),jn(),$e.procs.refresh(),ve&&ve.update()}function vt(){return(xn()-ye)/1e3}hn();function Un(tt,At){g.type(At,"function","listener callback must be a function");var Nt;switch(tt){case"frame":return Rn(At);case"lost":Nt=ut;break;case"restore":Nt=lt;break;case"destroy":Nt=Re;break;default:g.raise("invalid event, must be one of frame,lost,restore,destroy")}return Nt.push(At),{cancel:function(){for(var mn=0;mn<Nt.length;++mn)if(Nt[mn]===At){Nt[mn]=Nt[Nt.length-1],Nt.pop();return}}}}var Gt=r(bn,{clear:Ln,prop:kt.define.bind(null,Ng),context:kt.define.bind(null,LS),this:kt.define.bind(null,RS),draw:bn({}),buffer:function(tt){return me.create(tt,bS,!1,!1)},elements:function(tt){return Ie.create(tt,!1)},texture:qe.create2D,cube:qe.createCube,renderbuffer:te.create,framebuffer:J.create,framebufferCube:J.createCube,vao:se.createVAO,attributes:H,frame:Rn,on:Un,limits:Y,hasExtension:function(tt){return Y.extensions.indexOf(tt.toLowerCase())>=0},read:we,destroy:bt,_gl:C,_refresh:hn,poll:function(){zn(),ve&&ve.update()},now:vt,stats:fe});return v.onDone(null,Gt),Gt}return OS})})(E_);var m2=E_.exports;const p2=B0(m2);var v2=1e-6,Da=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function dp(){var e=new Da(16);return Da!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function t1(e){var t=new Da(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function O0(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],f=t[7],h=t[8],m=t[9],p=t[10],R=t[11],O=t[12],k=t[13],B=t[14],x=t[15],S=n*l-r*a,A=n*u-i*a,U=n*f-o*a,X=r*u-i*l,le=r*f-o*l,Ae=i*f-o*u,ue=h*k-m*O,ft=h*B-p*O,Me=h*x-R*O,ze=m*B-p*k,Je=m*x-R*k,et=p*x-R*B,Xe=S*et-A*Je+U*ze+X*Me-le*ft+Ae*ue;return Xe?(Xe=1/Xe,e[0]=(l*et-u*Je+f*ze)*Xe,e[1]=(i*Je-r*et-o*ze)*Xe,e[2]=(k*Ae-B*le+x*X)*Xe,e[3]=(p*le-m*Ae-R*X)*Xe,e[4]=(u*Me-a*et-f*ft)*Xe,e[5]=(n*et-i*Me+o*ft)*Xe,e[6]=(B*U-O*Ae-x*A)*Xe,e[7]=(h*Ae-p*U+R*A)*Xe,e[8]=(a*Je-l*Me+f*ue)*Xe,e[9]=(r*Me-n*Je-o*ue)*Xe,e[10]=(O*le-k*U+x*S)*Xe,e[11]=(m*U-h*le-R*S)*Xe,e[12]=(l*ft-a*ze-u*ue)*Xe,e[13]=(n*ze-r*ft+i*ue)*Xe,e[14]=(k*A-O*X-B*S)*Xe,e[15]=(h*X-m*A+p*S)*Xe,e):null}function or(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],h=t[7],m=t[8],p=t[9],R=t[10],O=t[11],k=t[12],B=t[13],x=t[14],S=t[15],A=n[0],U=n[1],X=n[2],le=n[3];return e[0]=A*r+U*l+X*m+le*k,e[1]=A*i+U*u+X*p+le*B,e[2]=A*o+U*f+X*R+le*x,e[3]=A*a+U*h+X*O+le*S,A=n[4],U=n[5],X=n[6],le=n[7],e[4]=A*r+U*l+X*m+le*k,e[5]=A*i+U*u+X*p+le*B,e[6]=A*o+U*f+X*R+le*x,e[7]=A*a+U*h+X*O+le*S,A=n[8],U=n[9],X=n[10],le=n[11],e[8]=A*r+U*l+X*m+le*k,e[9]=A*i+U*u+X*p+le*B,e[10]=A*o+U*f+X*R+le*x,e[11]=A*a+U*h+X*O+le*S,A=n[12],U=n[13],X=n[14],le=n[15],e[12]=A*r+U*l+X*m+le*k,e[13]=A*i+U*u+X*p+le*B,e[14]=A*o+U*f+X*R+le*x,e[15]=A*a+U*h+X*O+le*S,e}function n1(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function sd(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g2(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,u,f;return a<v2?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),u=Math.cos(t),f=1-u,e[0]=r*r*f+u,e[1]=i*r*f+o*l,e[2]=o*r*f-i*l,e[3]=0,e[4]=r*i*f-o*l,e[5]=i*i*f+u,e[6]=o*i*f+r*l,e[7]=0,e[8]=r*o*f+i*l,e[9]=i*o*f-r*l,e[10]=o*o*f+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function y2(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function x2(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],u=t[8],f=t[9],h=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(u,f,h),e}function E2(){var e=new Da(4);return Da!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ud(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=E2();return function(t,n,r,i,o,a){var l,u;for(n||(n=4),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function _2(){var e=new Da(2);return Da!=Float32Array&&(e[0]=0,e[1]=0),e}function S2(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=_2();return function(t,n,r,i,o,a){var l,u;for(n||(n=2),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const w2=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),u=new Float32Array(16);let f=dp(),h=[...r.slice(0,2),0,1];const m=Array.isArray(i[0])?[...i[0]]:[...i],p=Array.isArray(i[0])?[...i[1]]:[...i],R=Array.isArray(o[0])?[...o[0]]:[...o],O=Array.isArray(o[0])?[...o[1]]:[...o],k=()=>x2(a,f).slice(0,2),B=()=>{const Ce=k();return Math.min(Ce[0],Ce[1])},x=()=>{const Ce=k();return Math.max(Ce[0],Ce[1])},S=()=>Math.acos(f[0]/x()),A=()=>[[...m],[...p]],U=()=>[[...R],[...O]],X=()=>{const Ce=k();return[1/Ce[0],1/Ce[1]]},le=()=>1/B(),Ae=()=>1/x(),ue=()=>y2(a,f).slice(0,2),ft=()=>ud(a,h,O0(u,f)).slice(0,2),Me=()=>f,ze=()=>h.slice(0,2),Je=([Ce=0,Qe=0]=[],Et=1,Ut=0)=>{f=dp(),et([-Ce,-Qe]),nt(Ut),Xe(1/Et)},et=([Ce=0,Qe=0]=[])=>{a[0]=Ce,a[1]=Qe,a[2]=0;const Et=n1(l,a);or(f,Et,f)},Xe=(Ce,Qe)=>{const Et=Array.isArray(Ce);let Ut=Et?Ce[0]:Ce,Dt=Et?Ce[1]:Ce;if(Ut<=0||Dt<=0||Ut===1&&Dt===1)return;const Kt=k(),Wt=Kt[0]*Ut,Pt=Kt[1]*Dt;if(Ut=Math.max(m[0],Math.min(Wt,m[1]))/Kt[0],Dt=Math.max(p[0],Math.min(Pt,p[1]))/Kt[1],Ut===1&&Dt===1)return;a[0]=Ut,a[1]=Dt,a[2]=1;const qt=sd(l,a),Dn=Qe?[...Qe,0]:h,Fn=n1(a,Dn);or(f,Fn,or(f,qt,or(f,O0(u,Fn),f)))},nt=Ce=>{const Qe=dp();g2(Qe,Ce,[0,0,1]),or(f,Qe,f)},wt=Ce=>{const Qe=Array.isArray(Ce[0]);m[0]=Qe?Ce[0][0]:Ce[0],m[1]=Qe?Ce[0][1]:Ce[1],p[0]=Qe?Ce[1][0]:Ce[0],p[1]=Qe?Ce[1][1]:Ce[1]},dt=Ce=>{const Qe=Array.isArray(Ce[0]);R[0]=Qe?Ce[0][0]:Ce[0],R[1]=Qe?Ce[0][1]:Ce[1],O[0]=Qe?Ce[1][0]:Ce[0],O[1]=Qe?Ce[1][1]:Ce[1]},xe=Ce=>{!Ce||Ce.length<16||(f=Ce)},Ge=Ce=>{h=[...Ce.slice(0,2),0,1]},Ue=()=>{Je(e,t,n)};return Je(e,t,n),{get translation(){return ue()},get target(){return ft()},get scaling(){return k()},get minScaling(){return B()},get maxScaling(){return x()},get scaleBounds(){return A()},get translationBounds(){return U()},get distance(){return X()},get minDistance(){return le()},get maxDistance(){return Ae()},get rotation(){return S()},get view(){return Me()},get viewCenter(){return ze()},lookAt:Je,translate:et,pan:et,rotate:nt,scale:Xe,zoom:Xe,reset:Ue,set:(...Ce)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),xe(...Ce)),setScaleBounds:wt,setTranslationBounds:dt,setView:xe,setViewCenter:Ge}},T2=["pan","rotate"],r1={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},A2=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:u=1,isRotate:f=!0,rotateSpeed:h=1,defaultMouseDownMoveAction:m="pan",mouseDownMoveModKey:p="alt",isZoom:R=!0,zoomSpeed:O=1,viewCenter:k,scaleBounds:B,translationBounds:x,onKeyDown:S=()=>{},onKeyUp:A=()=>{},onMouseDown:U=()=>{},onMouseUp:X=()=>{},onMouseMove:le=()=>{},onWheel:Ae=()=>{}}={})=>{let ue=w2(n,t,r,k,B,x),ft=0,Me=0,ze=0,Je=0,et=0,Xe=0,nt=!1,wt=0,dt=1,xe=1,Ge=1,Ue=!1,Ce=!1,Qe=!1,Et=m==="pan",Ut=a,Dt=a,Kt=l,Wt=l,Pt=R,qt=R;const Dn=()=>{Ut=Array.isArray(a)?!!a[0]:a,Dt=Array.isArray(a)?!!a[1]:a,Kt=Array.isArray(l)?!!l[0]:l,Wt=Array.isArray(l)?!!l[1]:l,Pt=Array.isArray(R)?!!R[0]:R,qt=Array.isArray(R)?!!R[1]:R};Dn();const Fn=i?De=>De/dt*2*Ge:De=>De,Qt=i?De=>De/xe*2:De=>-De,Bt=i?De=>(-1+De/dt*2)*Ge:De=>De,mt=i?De=>1-De/xe*2:De=>De,_t=()=>{if(o){const st=Ce;return Ce=!1,st}Ue=!1;const De=ft,Rt=Me;if((Ut||Dt)&&nt&&(Et&&!Qe||!Et&&Qe)){const st=Kt?et-De:De-et,Jt=Ut?Fn(u*st):0,en=Wt?Xe-Rt:Rt-Xe,kt=Dt?Qt(u*en):0;(Jt!==0||kt!==0)&&(ue.pan([Jt,kt]),Ue=!0)}if((Pt||qt)&&wt){const st=O*Math.exp(wt/xe),Jt=Bt(ze),en=mt(Je);ue.scale([Pt?1/st:1,qt?1/st:1],[Jt,en]),Ue=!0}if(f&&nt&&(Et&&Qe||!Et&&!Qe)&&Math.abs(et-De)+Math.abs(Xe-Rt)>0){const st=dt/2,Jt=xe/2,en=et-st,kt=Jt-Xe,yn=De-st,xn=Jt-Rt,Z=S2([en,kt],[yn,xn]),pt=en*xn-yn*kt;ue.rotate(h*Z*Math.sign(pt)),Ue=!0}wt=0,et=De,Xe=Rt;const jt=Ue||Ce;return Ce=!1,jt},yt=({defaultMouseDownMoveAction:De=null,isFixed:Rt=null,isPan:jt=null,isPanInverted:st=null,isRotate:Jt=null,isZoom:en=null,panSpeed:kt=null,rotateSpeed:yn=null,zoomSpeed:xn=null,mouseDownMoveModKey:Z=null}={})=>{m=De!==null&&T2.includes(De)?De:m,Et=m==="pan",o=Rt!==null?Rt:o,a=jt!==null?jt:a,l=st!==null?st:l,f=Jt!==null?Jt:f,R=en!==null?en:R,u=+kt>0?kt:u,h=+yn>0?yn:h,O=+xn>0?xn:O,Dn(),p=Z!==null&&Object.keys(r1).includes(Z)?Z:p},Ct=()=>{const De=e.getBoundingClientRect();dt=De.width,xe=De.height,Ge=dt/xe},Ot=De=>{Qe=!1,A(De)},Vt=De=>{Qe=De[r1[p]],S(De)},Zt=De=>{nt=!1,X(De)},Pn=De=>{nt=De.buttons===1,U(De)},g=document.createEvent("MouseEvent").offsetX!==void 0?De=>{ze=De.offsetX,Je=De.offsetY}:De=>{const Rt=e.getBoundingClientRect();ze=De.clientX-Rt.left,Je=De.clientY-Rt.top},Lt=De=>{ft=De.clientX,Me=De.clientY},Ft=De=>{Lt(De),le(De)},Ne=De=>{if(Pt||qt){De.preventDefault(),Lt(De),g(De);const Rt=De.deltaMode===1?12:1;wt+=Rt*(De.deltaY||De.deltaX||0)}Ae(De)},rt=()=>{ue=void 0,window.removeEventListener("keydown",Vt),window.removeEventListener("keyup",Ot),e.removeEventListener("mousedown",Pn),window.removeEventListener("mouseup",Zt),window.removeEventListener("mousemove",Ft),e.removeEventListener("wheel",Ne)};window.addEventListener("keydown",Vt,{passive:!0}),window.addEventListener("keyup",Ot,{passive:!0}),e.addEventListener("mousedown",Pn,{passive:!0}),window.addEventListener("mouseup",Zt,{passive:!0}),window.addEventListener("mousemove",Ft,{passive:!0}),e.addEventListener("wheel",Ne,{passive:!1}),ue.config=yt,ue.dispose=rt,ue.refresh=Ct,ue.tick=_t;const xt=De=>function(){De.apply(null,arguments),Ce=!0};return ue.lookAt=xt(ue.lookAt),ue.translate=xt(ue.translate),ue.pan=xt(ue.pan),ue.rotate=xt(ue.rotate),ue.scale=xt(ue.scale),ue.zoom=xt(ue.zoom),ue.reset=xt(ue.reset),ue.set=xt(ue.set),ue.setScaleBounds=xt(ue.setScaleBounds),ue.setTranslationBounds=xt(ue.setTranslationBounds),ue.setView=xt(ue.setView),ue.setViewCenter=xt(ue.setViewCenter),Ct(),ue};function P0(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;__(e,t,a,r,i,o%2),P0(e,t,n,r,a-1,o+1),P0(e,t,n,a+1,i,o+1)}function __(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const f=i-r+1,h=n-r+1,m=Math.log(f),p=.5*Math.exp(2*m/3),R=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),O=Math.max(r,Math.floor(n-h*p/f+R)),k=Math.min(i,Math.floor(n+(f-h)*p/f+R));__(e,t,n,O,k,o)}const a=t[2*n+o];let l=r,u=i;for(du(e,t,r,n),t[2*i+o]>a&&du(e,t,r,i);l<u;){for(du(e,t,l,u),l++,u--;t[2*l+o]<a;)l++;for(;t[2*u+o]>a;)u--}t[2*r+o]===a?du(e,t,r,u):(u++,du(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function du(e,t,n,r){hp(e,n,r),hp(t,2*n,2*r),hp(t,2*n+1,2*r+1)}function hp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function C2(e,t,n,r,i,o,a){const l=[0,e.length-1,0],u=[];let f,h;for(;l.length;){const m=l.pop(),p=l.pop(),R=l.pop();if(p-R<=a){for(let B=R;B<=p;B++)f=t[2*B],h=t[2*B+1],f>=n&&f<=i&&h>=r&&h<=o&&u.push(e[B]);continue}const O=Math.floor((R+p)/2);f=t[2*O],h=t[2*O+1],f>=n&&f<=i&&h>=r&&h<=o&&u.push(e[O]);const k=(m+1)%2;(m===0?n<=f:r<=h)&&(l.push(R),l.push(O-1),l.push(k)),(m===0?i>=f:o>=h)&&(l.push(O+1),l.push(p),l.push(k))}return u}function b2(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],u=i*i;for(;a.length;){const f=a.pop(),h=a.pop(),m=a.pop();if(h-m<=o){for(let B=m;B<=h;B++)i1(t[2*B],t[2*B+1],n,r)<=u&&l.push(e[B]);continue}const p=Math.floor((m+h)/2),R=t[2*p],O=t[2*p+1];i1(R,O,n,r)<=u&&l.push(e[p]);const k=(f+1)%2;(f===0?n-i<=R:r-i<=O)&&(a.push(m),a.push(p-1),a.push(k)),(f===0?n+i>=R:r+i>=O)&&(a.push(p+1),a.push(h),a.push(k))}return l}function i1(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const L2=e=>e[0],R2=e=>e[1];class O2{constructor(t,n=L2,r=R2,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),u=this.coords=new o(t.length*2);for(let f=0;f<t.length;f++)l[f]=f,u[2*f]=n(t[f]),u[2*f+1]=r(t[f]);P0(l,u,i,0,l.length-1,0)}range(t,n,r,i){return C2(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return b2(this.ids,this.coords,t,n,r,this.nodeSize)}}const P2=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var k2=P2;const N2=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var I2=N2;const{push:o1,splice:M2}=Array.prototype,mp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),rr=Float32Array.BYTES_PER_ELEMENT,D2=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,u=o+3;t.push(o,a,l,l,a,u)}n+=(r+2)*2}),t},Cr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let u=0;u<t;u++){const f=e[l+u];i[u]=f,i[u+t]=f*n}o1.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return M2.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const u=a*t;for(let f=0;f<t;f++)o[f]=e[u+f];o1.apply(i,o)}return i}},F2=(e,{projection:t=mp,model:n=mp,view:r=mp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:u=[],width:f=1,widths:h=[],miter:m=1,is2d:p=!1,zPos2d:R=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const O=new Float32Array(16);let k,B,x,S,A,U,X,le,Ae,ue,ft,Me,ze,Je,et,Xe,nt,wt,dt=p?2:3;const xe=()=>+(u.length===B||l!==null),Ge=()=>{ue=e.buffer(),ft=e.buffer(),Me=e.buffer(),et=e.buffer(),Xe={prevPosition:{buffer:()=>ue,offset:0,stride:rr*3},currPosition:{buffer:()=>ue,offset:rr*3*2,stride:rr*3},nextPosition:{buffer:()=>ue,offset:rr*3*4,stride:rr*3},opacity:{buffer:()=>ft,offset:rr*2,stride:rr},offsetScale:{buffer:()=>Me,offset:rr*2,stride:rr},colorIndex:{buffer:()=>et,offset:rr*2,stride:rr}},nt=e.elements(),wt=e({attributes:Xe,depth:{enable:!p},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(mt,_t)=>{const yt=mt.projection||_t.projection,Ct=mt.model||_t.model,Ot=mt.view||_t.view;return or(O,yt,or(O,Ot,Ct))},aspectRatio:({viewportWidth:mt,viewportHeight:_t})=>mt/_t,colorTex:()=>ze,colorTexRes:()=>Je,colorTexEps:()=>.5/Je,pixelRatio:({pixelRatio:mt})=>mt,width:({pixelRatio:mt,viewportHeight:_t})=>f/_t*mt,useOpacity:xe,useColorOpacity:()=>+!xe(),miter:m},elements:()=>nt,vert:I2,frag:k2})},Ue=()=>{k===1&&i.length%dt>0&&console.warn(`The length of points (${B}) does not match the dimensions (${dt}). Incomplete points are ignored.`),S=i.flat().slice(0,B*dt),p&&(S=Cr.increaseStride(S,2,3,R)),o.length!==B&&(o=new Array(B).fill(0)),h.length!==B&&(h=new Array(B).fill(1));let mt=o.slice(),_t=u.length===B?u.slice():new Array(B).fill(+l),yt=h.slice(),Ct=0;x.forEach(Ot=>{const Vt=Ct+Ot-1;Cr.copyElement(S,Vt,Vt,3),Cr.copyElement(S,Ct,Ct,3),Cr.copyElement(mt,Vt,Vt,1),Cr.copyElement(mt,Ct,Ct,1),Cr.copyElement(_t,Vt,Vt,1),Cr.copyElement(_t,Ct,Ct,1),Cr.copyElement(yt,Vt,Vt,1),Cr.copyElement(yt,Ct,Ct,1),Ct+=Ot+2}),A=new Float32Array(Cr.duplicate(S,3)),U=Cr.duplicate(mt),X=Cr.duplicate(_t),le=Cr.duplicate(yt,1,-1),Ae=D2(x),ue({usage:"dynamic",type:"float",length:A.length*rr,data:A}),ft({usage:"dynamic",type:"float",length:X.length*rr,data:X}),Me({usage:"dynamic",type:"float",length:le.length*rr,data:le}),et({usage:"dynamic",type:"float",length:U.length*rr,data:U}),nt({primitive:"triangles",usage:"dynamic",type:Ae.length>2**16?"uint32":"uint16",data:Ae})},Ce=()=>{Qe(),Ge()},Qe=()=>{i=null,S=null,A=null,le=null,Ae=null,ue.destroy(),Me.destroy(),nt.destroy()},Et=({projection:mt,model:_t,view:yt}={})=>{mt&&(t=mt),_t&&(n=_t),yt&&(r=yt),i&&i.length>1&&wt({projection:t,model:n,view:r})},Ut=(mt,_t)=>{const yt=_t.flat(2);return yt.length===B?yt:yt.length===k?x.map((Ct,Ot)=>Array(Ct).fill(yt[Ot])).flat():mt},Dt=()=>i,Kt=(mt=[],{colorIndices:_t=o,opacities:yt=u,widths:Ct=h,is2d:Ot=p}={})=>{i=mt,p=Ot,dt=p?2:3,k=Array.isArray(i[0])?i.length:1,x=k>1?i.map(Vt=>Math.floor(Vt.length/dt)):[Math.floor(i.length/dt)],B=x.reduce((Vt,Zt)=>Vt+Zt,0),o=Ut(o,_t),u=Ut(u,yt),h=Ut(h,Ct),i&&B>1?Ue():Ce()},Wt=(mt,_t=-1)=>Array.isArray(mt)?mt.length&&!Array.isArray(mt[0])?_t+1:Wt(mt[0],++_t):_t,Pt=()=>{const mt=Wt(a)===0?[a]:a;Je=Math.max(2,Math.ceil(Math.sqrt(mt.length)));const _t=new Uint8Array(Je**2*4);mt.forEach((yt,Ct)=>{_t[Ct*4]=Math.min(255,Math.max(0,Math.round(yt[0]*255))),_t[Ct*4+1]=Math.min(255,Math.max(0,Math.round(yt[1]*255))),_t[Ct*4+2]=Math.min(255,Math.max(0,Math.round(yt[2]*255))),_t[Ct*4+3]=Number.isNaN(+yt[3])?255:Math.min(255,Math.max(0,Math.round(yt[3]*255)))}),ze=e.texture({data:_t,shape:[Je,Je,4]})},qt=(mt,_t=l)=>{a=mt,l=_t,ze&&ze.destroy(),Pt()},Dn=()=>({color:a,miter:m,width:f}),Fn=({color:mt,opacity:_t,miter:yt,width:Ct}={})=>{mt&&qt(mt,_t),yt&&(m=yt),+Ct>0&&(f=Ct)},Qt=()=>({points:ue,widths:Me,opacities:ft,colorIndices:et}),Bt=()=>({points:A,widths:le,opacities:X,colorIndices:U});return Ge(),Pt(),i&&i.length>1&&Kt(i),{clear:Ce,destroy:Qe,draw:Et,getPoints:Dt,setPoints:Kt,getData:Bt,getBuffer:Qt,getStyle:Dn,setStyle:Fn}};var Uf=F2;const B2=e=>e*e*e,S_=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,j2=e=>--e*e*e+1,$2=e=>e,G2=e=>e*e,z2=e=>e<.5?2*e*e:-1+(4-2*e)*e,U2=e=>e*(2-e),jl=e=>e,V2=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},H2=e=>e.reduce((t,n)=>n>t?n:t,-1/0),a1=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},W2=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},Bv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),X2=(...e)=>t=>e.reduce((n,r)=>r(n),t),Y2=e=>t=>Bv({__proto__:{constructor:e}},t),l1=(e,t)=>n=>Bv(n,{get[e](){return t}}),Q2=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),K2=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Al=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),w_=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...u)=>{const f=()=>{i>0&&(e(...u),i=0)};clearTimeout(r),r=setTimeout(f,n)};let a=!1;const l=(...u)=>{a?(i++,o(...u)):(e(...u),o(...u),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...u)=>e(...u),l},xi="auto",q2=0,pp=1,Z2=2,s1=3,J2=4,eC=Float32Array.BYTES_PER_ELEMENT,T_=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],u1={color:[0,0,0,0],depth:1},jv="panZoom",A_="lasso",C_="rotate",tC=[jv,A_,C_],nC=jv,rC={cubicIn:B2,cubicInOut:S_,cubicOut:j2,linear:$2,quadIn:G2,quadInOut:z2,quadOut:U2},c1=S_,gi="continuous",Cl="categorical",f1=[gi,Cl],k0="deselect",$v="lassoEnd",iC=[k0,$v],oC=[0,.666666667,1,1],aC=2,lC=!1,sC=10,uC=3,cC=$v,fC=!1,Bd=750,jd=500,$d=100,Gd=250,Gv="lasso",zd="rotate",Ud="merge",dC=[Gv,zd,Ud],zv="alt",Uv="cmd",b_="ctrl",L_="meta",Vv="shift",hC=[zv,Uv,b_,L_,Vv],mC={[zv]:zd,[Vv]:Gv,[Uv]:Ud},pC=1,vC=xi,gC=xi,yC=1,vp=1,xC=6,EC=2,_C=2,gp=null,SC=2,wC=2,yp=null,TC=null,xp=null,AC=.66,CC=1,Ep=null,bC=.15,LC=25,RC=1,OC=1,hu=null,PC=[.66,.66,.66,CC],kC=[0,.55,1,1],NC=[1,1,1,1],IC=[0,0,0,1],_p=null,MC=[.66,.66,.66,.2],DC=[0,.55,1,1],FC=[1,1,1,1],BC=[0,0],jC=1,$C=0,GC=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),zC="IMAGE_LOAD_ERROR",UC=null,VC=!1,HC=[1,1,1,.5],WC=!0,XC=!0,YC=!1,QC=100,KC=1/500,qC="auto",ZC=!1,JC=200,eb=500,R_=new Set(["z","valueZ","valueA","value1","category"]),O_=new Set(["w","valueW","valueB","value2","value"]),Hv=15e3,d1="Points have not been drawn",tb=(e,t)=>e?T_.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,nb=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return T_.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),p2({gl:t,extensions:n})},Sp=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),rb=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},ib=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,ob=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),_o=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),So=e=>!Number.isNaN(+e)&&+e>=0,Vf=e=>!Number.isNaN(+e)&&+e>0,h1=(e,t)=>n=>e.indexOf(n)>=0?n:t,ab=(e,t=!1,n=Hv)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error(zC))};o.onerror=a,setTimeout(a,n)}),m1=(e,t,n=Hv)=>new Promise((r,i)=>{ab(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),lb=(e,t=!1)=>[...ob(e,t),255**!t],sb=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),ub=e=>e>=0&&e<=1,Vd=e=>Array.isArray(e)&&e.every(ub),cb=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let u=0,f=e.length-2;u<e.length;u+=2)r=e[u],i=e[u+1],o=e[f],a=e[f+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),f=u;return l},N0=e=>typeof e=="string"||e instanceof String,fb=e=>Number.isInteger(e)&&e>=0&&e<=255,P_=e=>Array.isArray(e)&&e.every(fb),db=e=>e.length===3&&(Vd(e)||P_(e)),hb=e=>e.length===4&&(Vd(e)||P_(e)),wo=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||N0(e[0])),Hf=(e,t)=>e>t?e:t,p1=(e,t)=>e<t?e:t,hr=(e,t)=>{if(hb(e)){const n=Vd(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(db(e)){const n=255**!t,r=Vd(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return sb(e)?lb(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},v1=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),g1=e=>.21*e[0]+.72*e[1]+.07*e[2],mb=(e,t,n)=>Math.min(n,Math.max(t,e)),pb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=yC}=e;t||(t=nb(n));const i=tb(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),u=B=>{const x=B.getContext("2d");x.clearRect(0,0,B.width,B.height),x.drawImage(n,(n.width-B.width)/2,(n.height-B.height)/2,B.width,B.height,0,0,B.width,B.height)},f=(B,x)=>{t.clear(u1),a.use(()=>{t.clear(u1),B()}),l(),u(x)},h=()=>{t.poll()},m=new Set,p=B=>(m.add(B),()=>{m.delete(B)}),R=t.frame(()=>{const B=m.values();let x=B.next();for(;!x.done;)x.value(),x=B.next()}),O=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",O),window.addEventListener("orientationchange",O),O()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(B){r=+B},get isSupported(){return i},render:f,onFrame:p,refresh:h,destroy:()=>{R.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",O),window.removeEventListener("orientationchange",O)}}},vb=!0,wp=8,y1=2,gb=2500,yb=250,xb=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},Eb=(e,t,n)=>(1-e)*t+n,_b=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,Sb=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,wb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,Tb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,Ab=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,Cb=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,bb=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Lb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,Rb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,Ob=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,Pb=({time:e=Bd,extraTime:t=jd,delay:n=$d,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:u,circleClipPath:f,circleOpacity:h})=>{const m=l/360,p=Eb(m,e,t),R=Math.round((1-m)*e/p*100),O=Math.round(R/2),k=R+(100-R)/4;return{rules:{main:Cb(R,r,i),effect:bb(R,k,o,a),circleRight:Ob(O,u),circleLeft:Rb(R,l),circle:Lb(O,f,h)},names:{main:_b(p,n),effect:Sb(p,n),circleLeft:wb(p,n),circleRight:Tb(p,n),circle:Ab(p,n)}}},kb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,Nb=e=>`${e}ms linear effectOut 0s 1 normal forwards`,Ib=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Mb=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Db=e=>`${e}ms linear circleOut 0s 1 normal forwards`,Fb=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Bb=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,jb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,$b=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,Gb=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,zb=({time:e=Gd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:u})=>{const f=o/360,h=f*e,m=Math.min(100,f*100),p=m>50?Math.round((1-50/m)*100):0;return{rules:{main:Fb(t,n),effect:Bb(r,i),circleRight:jb(p,a),circleLeft:$b(o),circle:Gb(p,l,u)},names:{main:kb(h),effect:Nb(h),circleRight:Ib(h),circleLeft:Mb(h),circle:Db(h)}}},mu=(e,t=null)=>e===null?t:e;let Tp;const k_=()=>{if(!Tp){const e=document.createElement("style");document.head.appendChild(e),Tp=e.sheet}return Tp},Fr=e=>{const t=k_(),n=t.rules.length;return t.insertRule(e,n),n},Br=e=>{k_().deleteRule(e)},Ub=`${gb}ms ease scaleInFadeOut 0s 1 normal backwards`,Vb=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let Ap=null;const Hb=`${yb}ms ease fadeScaleOut 0s 1 normal backwards`,Wb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Cp=null;const N_=(e,{onDraw:t=jl,onStart:n=jl,onEnd:r=jl,enableInitiator:i=vb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=wp,minDist:u=y1,pointNorm:f=jl}={})=>{let h=i,m=o,p=a,R=t,O=n,k=r,B=f;const x=document.createElement("div"),S=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);x.id=`lasso-initiator-${S}`,x.style.position="fixed",x.style.display="flex",x.style.justifyContent="center",x.style.alignItems="center",x.style.zIndex=99,x.style.width="4rem",x.style.height="4rem",x.style.borderRadius="4rem",x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:A,longPressCircle:U,longPressCircleLeft:X,longPressCircleRight:le,longPressEffect:Ae}=xb();let ue=!1,ft=!1,Me=[],ze=[],Je,et=!1,Xe=null,nt=null,wt=null,dt=null,xe=null,Ge=null,Ue=null,Ce=null,Qe=null,Et=null;const Ut=()=>{ue=!1},Dt=Lt=>{const{left:Ft,top:Ne}=e.getBoundingClientRect();return[Lt.clientX-Ft,Lt.clientY-Ne]};window.addEventListener("mouseup",Ut);const Kt=()=>{x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Wt=(Lt,Ft)=>{const Ne=getComputedStyle(Lt),rt=+Ne.opacity,xt=Ne.transform.match(/([0-9.-]+)+/g),De=+xt[0],Rt=+xt[1],jt=Math.sqrt(De*De+Rt*Rt);let st=Math.atan2(Rt,De)*(180/Math.PI);return st=Ft&&st<=0?360+st:st,{opacity:rt,scale:jt,rotate:st}},Pt=Lt=>{if(!h||ue)return;const Ft=Lt.clientX,Ne=Lt.clientY;x.style.top=`${Ne}px`,x.style.left=`${Ft}px`;const rt=Wt(x),xt=rt.opacity,De=rt.scale,Rt=rt.rotate;x.style.opacity=xt,x.style.transform=`translate(-50%,-50%) scale(${De}) rotate(${Rt}deg)`,x.style.animation="none",Al().then(()=>{Ap!==null&&Br(Ap),Ap=Fr(Vb(xt,De,Rt)),x.style.animation=Ub,Al().then(()=>{Kt()})})},qt=()=>{const{opacity:Lt,scale:Ft,rotate:Ne}=Wt(x);x.style.opacity=Lt,x.style.transform=`translate(-50%,-50%) scale(${Ft}) rotate(${Ne}deg)`,x.style.animation="none",Al(2).then(()=>{Cp!==null&&Br(Cp),Cp=Fr(Wb(Lt,Ft,Ne)),x.style.animation=Hb,Al().then(()=>{Kt()})})},Dn=(Lt,Ft,{time:Ne=Bd,extraTime:rt=jd,delay:xt=$d}={time:Bd,extraTime:jd,delay:$d})=>{et=!0;const De=getComputedStyle(A);A.style.color=De.color,A.style.top=`${Ft}px`,A.style.left=`${Lt}px`,A.style.animation="none";const Rt=getComputedStyle(U);U.style.clipPath=Rt.clipPath,U.style.opacity=Rt.opacity,U.style.animation="none";const jt=Wt(Ae);Ae.style.opacity=jt.opacity,Ae.style.transform=`scale(${jt.scale})`,Ae.style.animation="none";const st=Wt(X);X.style.transform=`rotate(${st.rotate}deg)`,X.style.animation="none";const Jt=Wt(le);le.style.transform=`rotate(${Jt.rotate}deg)`,le.style.animation="none",Al().then(()=>{if(!et)return;xe!==null&&Br(xe),dt!==null&&Br(dt),wt!==null&&Br(wt),nt!==null&&Br(nt),Xe!==null&&Br(Xe);const{rules:en,names:kt}=Pb({time:Ne,extraTime:rt,delay:xt,currentColor:De.color||"currentcolor",targetColor:A.dataset.activeColor,effectOpacity:jt.opacity||0,effectScale:jt.scale||0,circleLeftRotation:st.rotate||0,circleRightRotation:Jt.rotate||0,circleClipPath:Rt.clipPath||"inset(0 0 0 50%)",circleOpacity:Rt.opacity||0});Xe=Fr(en.main),nt=Fr(en.effect),wt=Fr(en.circleLeft),dt=Fr(en.circleRight),xe=Fr(en.circle),A.style.animation=kt.main,Ae.style.animation=kt.effect,X.style.animation=kt.circleLeft,le.style.animation=kt.circleRight,U.style.animation=kt.circle})},Fn=({time:Lt=Gd}={time:Gd})=>{if(!et)return;et=!1;const Ft=getComputedStyle(A);A.style.color=Ft.color,A.style.animation="none";const Ne=getComputedStyle(U);U.style.clipPath=Ne.clipPath,U.style.opacity=Ne.opacity,U.style.animation="none";const rt=Wt(Ae);Ae.style.opacity=rt.opacity,Ae.style.transform=`scale(${rt.scale})`,Ae.style.animation="none";const xt=Ne.clipPath.slice(-2,-1)==="x",De=Wt(X,xt);X.style.transform=`rotate(${De.rotate}deg)`,X.style.animation="none";const Rt=Wt(le);le.style.transform=`rotate(${Rt.rotate}deg)`,le.style.animation="none",Al().then(()=>{Et!==null&&Br(Et),Qe!==null&&Br(Qe),Ce!==null&&Br(Ce),Ue!==null&&Br(Ue),Ge!==null&&Br(Ge);const{rules:jt,names:st}=zb({time:Lt,currentColor:Ft.color||"currentcolor",targetColor:A.dataset.color,effectOpacity:rt.opacity||0,effectScale:rt.scale||0,circleLeftRotation:De.rotate||0,circleRightRotation:Rt.rotate||0,circleClipPath:Ne.clipPath||"inset(0px)",circleOpacity:Ne.opacity||1});Ge=Fr(jt.main),Ue=Fr(jt.effect),Ce=Fr(jt.circleLeft),Qe=Fr(jt.circleRight),Et=Fr(jt.circle),A.style.animation=st.main,Ae.style.animation=st.effect,X.style.animation=st.circleLeft,le.style.animation=st.circleRight,U.style.animation=st.circle})},Qt=()=>{R(Me,ze)},Bt=Lt=>{if(Je){if(Q2(Lt[0],Lt[1],Je[0],Je[1])>y1){Je=Lt;const Ne=B(Lt);Me.push(Ne),ze.push(Ne[0],Ne[1]),Me.length>1&&Qt()}}else{ft||(ft=!0,O()),Je=Lt;const Ft=B(Lt);Me=[Ft],ze=[Ft[0],Ft[1]]}},mt=w_(Bt,wp,wp),_t=(Lt,Ft)=>{const Ne=Dt(Lt);return Ft?mt(Ne):Bt(Ne)},yt=()=>{Me=[],ze=[],Je=void 0,Qt()},Ct=Lt=>{Pt(Lt)},Ot=()=>{ue=!0,ft=!0,yt(),O()},Vt=()=>{qt()},Zt=({merge:Lt=!1}={})=>{ft=!1;const Ft=[...Me],Ne=[...ze];return mt.cancel(),yt(),Ft.length&&k(Ft,Ne,{merge:Lt}),Ft},Pn=({onDraw:Lt=null,onStart:Ft=null,onEnd:Ne=null,enableInitiator:rt=null,initiatorParentElement:xt=null,longPressIndicatorParentElement:De=null,minDelay:Rt=null,minDist:jt=null,pointNorm:st=null}={})=>{R=mu(Lt,R),O=mu(Ft,O),k=mu(Ne,k),h=mu(rt,h),B=mu(st,B),xt!==null&&xt!==m&&(m.removeChild(x),xt.appendChild(x),m=xt),De!==null&&De!==p&&(p.removeChild(A),De.appendChild(A),p=De),h?(x.addEventListener("click",Ct),x.addEventListener("mousedown",Ot),x.addEventListener("mouseleave",Vt)):(x.removeEventListener("mousedown",Ot),x.removeEventListener("mouseleave",Vt))},Wr=()=>{m.removeChild(x),p.removeChild(A),window.removeEventListener("mouseup",Ut),x.removeEventListener("click",Ct),x.removeEventListener("mousedown",Ot),x.removeEventListener("mouseleave",Vt)},g=()=>Lt=>Bv(Lt,{clear:yt,destroy:Wr,end:Zt,extend:_t,set:Pn,showInitiator:Pt,hideInitiator:qt,showLongPressIndicator:Dn,hideLongPressIndicator:Fn});return m.appendChild(x),p.appendChild(A),Pn({onDraw:R,onStart:O,onEnd:k,enableInitiator:h,initiatorParentElement:m}),X2(l1("initiator",x),l1("longPressIndicator",A),g(),Y2(N_))({})},Xb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Yb=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Qb=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Kb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,qb=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,Zb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,Jb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,eL=function(){const t=(f,h,m,p,R)=>{const O=(p-h)*.5,k=(R-m)*.5;return(2*m-2*p+O+k)*f*f*f+(-3*m+3*p-2*O-k)*f*f+O*f+m},n=(f,h,m)=>{const p=m*f,R=Math.floor(p),O=p-R,k=h[Math.max(0,R-1)],B=h[R],x=h[Math.min(m,R+1)],S=h[Math.min(m,R+2)];return[t(O,k[0],B[0],x[0],S[0]),t(O,k[1],B[1],x[1],S[1])]},r=(f,h,m,p)=>(f-m)**2+(h-p)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(f,h,m)=>{let p=h[0],R=h[1],O=m[0]-p,k=m[1]-R;if(O!==0||k!==0){const B=((f[0]-p)*O+(f[1]-R)*k)/(O*O+k*k);B>1?(p=m[0],R=m[1]):B>0&&(p+=O*B,R+=k*B)}return O=f[0]-p,k=f[1]-R,O*O+k*k};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(f,h,m,p,R)=>{let O=p,k;for(let B=h+1;B<m;B++){const x=i(f[B],f[h],f[m]);x>O&&(k=B,O=x)}O>p&&(k-h>1&&o(f,h,k,p,R),R.push(f[k]),m-k>1&&o(f,k,m,p,R))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(f,h)=>{const m=f.length-1,p=[f[0]];return o(f,0,m,h,p),p.push(f[m]),p},l=(f,{maxIntPointsPerSegment:h=100,tolerance:m=.002}={})=>{const p=f.length,R=p-1,O=R*h+1,k=m**2;let B=[],x;for(let S=0;S<p-1;S++){let A=[f[S].slice(0,2)];x=f[S];for(let U=1;U<h;U++){const X=(S*h+U)/O,le=n(X,f,R);r(x[0],x[1],le[0],le[1])>k&&(A.push(le),x=le)}A.push(f[S+1]),A=a(A,k),B=B.concat(A.slice(0,A.length-1))}return B.push(f[f.length-1].slice(0,2)),B.flat()},u=f=>{const h={},m=!Number.isNaN(+f[0][5]);return f.forEach(p=>{const R=p[4];h[R]||(h[R]=[]),m?h[R][p[5]]=p:h[R].push(p)}),Object.entries(h).forEach(p=>{h[p[0]]=p[1].filter(R=>R),h[p[0]].reference=p[1][0]}),h};self.onmessage=function(h){(h.data.points?+h.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),h.data.points;const p=u(h.data.points);self.postMessage({points:Object.entries(p).reduce((R,O)=>(R[O[0]]=l(O[1],h.data.options),R[O[0]].reference=O[1].reference,R),{})})}},tL=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=K2(eL);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var nL="1.8.5";const bp={showRecticle:"showReticle",recticleColor:"reticleColor"},Lp=e=>{Object.keys(e).filter(t=>bp[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${bp[t]}" instead.`),e[bp[t]]=e[t],delete e[t]})},jr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>R_.has(e)?"valueZ":O_.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,Rp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},rL=(e={})=>{const t=d2({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Lp(e);let{renderer:o,backgroundColor:a=IC,backgroundImage:l=UC,canvas:u=document.createElement("canvas"),colorBy:f=hu,deselectOnDblClick:h=WC,deselectOnEscape:m=XC,lassoColor:p=oC,lassoLineWidth:R=aC,lassoMinDelay:O=sC,lassoMinDist:k=uC,lassoClearEvent:B=cC,lassoInitiator:x=lC,lassoInitiatorParentElement:S=document.body,lassoOnLongPress:A=fC,lassoLongPressTime:U=Bd,lassoLongPressAfterEffectTime:X=jd,lassoLongPressEffectDelay:le=$d,lassoLongPressRevertEffectTime:Ae=Gd,keyMap:ue=mC,mouseMode:ft=nC,showReticle:Me=VC,reticleColor:ze=HC,pointColor:Je=PC,pointColorActive:et=kC,pointColorHover:Xe=NC,showPointConnections:nt=YC,pointConnectionColor:wt=MC,pointConnectionColorActive:dt=DC,pointConnectionColorHover:xe=FC,pointConnectionColorBy:Ge=_p,pointConnectionOpacity:Ue=TC,pointConnectionOpacityBy:Ce=xp,pointConnectionOpacityActive:Qe=AC,pointConnectionSize:Et=SC,pointConnectionSizeActive:Ut=wC,pointConnectionSizeBy:Dt=yp,pointConnectionMaxIntPointsPerSegment:Kt=QC,pointConnectionTolerance:Wt=KC,pointSize:Pt=xC,pointSizeSelected:qt=EC,pointSizeMouseDetection:Dn=qC,pointOutlineWidth:Fn=_C,opacity:Qt=xi,opacityBy:Bt=Ep,opacityByDensityFill:mt=bC,opacityInactiveMax:_t=RC,opacityInactiveScale:yt=OC,sizeBy:Ct=gp,height:Ot=gC,width:Vt=vC}=e,Zt=Vt===xi?1:Vt,Pn=Ot===xi?1:Ot;const{performanceMode:Wr=ZC,opacityByDensityDebounceTime:g=LC}=e;o||(o=pb({regl:e.regl,gamma:e.gamma})),a=hr(a,!0),p=hr(p,!0),ze=hr(ze,!0);let Lt=!1,Ft=g1(a),Ne,rt,xt=!1,De=null,Rt=[0,0],jt=-1,st=[];const Jt=new Set,en=new Set;let kt=!1;const yn=new Set;let xn=0,Z=0,pt=!1,Xn=[],on,ii,Qi=e.aspectRatio||pC,Ki,qi,Zi,dn,xr,ss,Yo,Qo,us,za=v1(ue),Ji,Ko,eo,Ua=!1,gt=!0,Ti=!1,Va;Je=wo(Je)?[...Je]:[Je],et=wo(et)?[...et]:[et],Xe=wo(Xe)?[...Xe]:[Xe],Je=Je.map(s=>hr(s,!0)),et=et.map(s=>hr(s,!0)),Xe=Xe.map(s=>hr(s,!0)),Qt=!Array.isArray(Qt)&&Number.isNaN(+Qt)?Je[0][3]:Qt,Qt=_o(Qt,So,{minLength:1})?[...Qt]:[Qt],Pt=_o(Pt,So,{minLength:1})?[...Pt]:[Pt];let rc=vp/Pt[0];wt==="inherit"?wt=[...Je]:(wt=wo(wt)?[...wt]:[wt],wt=wt.map(s=>hr(s,!0))),dt==="inherit"?dt=[...et]:(dt=wo(dt)?[...dt]:[dt],dt=dt.map(s=>hr(s,!0))),xe==="inherit"?xe=[...Xe]:(xe=wo(xe)?[...xe]:[xe],xe=xe.map(s=>hr(s,!0))),Ue==="inherit"?Ue=[...Qt]:Ue=_o(Ue,So,{minLength:1})?[...Ue]:[Ue],Et==="inherit"?Et=[...Pt]:Et=_o(Et,So,{minLength:1})?[...Et]:[Et],f=jr(f,hu),Bt=jr(Bt,Ep,{allowDensity:!0}),Ct=jr(Ct,gp),Ge=jr(Ge,_p,{allowSegment:!0}),Ce=jr(Ce,xp,{allowSegment:!0}),Dt=jr(Dt,yp,{allowSegment:!0});let oi,ai,li,ic,Er=0,cs=0,qo,fs,Zo,Ha,Wa,Xa,Ya,Ai=!1,Jo=null,ds,hs,oc=Me,to,no=0,Qa,ro=0,ms=!1,ur=!1,si=!1,ui=Cl,Ci=Cl,kn,Ir=!1,Bn=e.xScale||null,En=e.yScale||null,io=0,Ka=0,qa=0,Za=0;Bn&&(io=Bn.domain()[0],Ka=Bn.domain()[1]-Bn.domain()[0],Bn.range([0,Zt])),En&&(qa=En.domain()[0],Za=En.domain()[1]-En.domain()[0],En.range([Pn,0]));const ac=s=>-1+s/Zt*2,cr=s=>1+s/Pn*-2,nr=()=>[ac(i[0]),cr(i[1])],_r=(s,N)=>{const $=[s,N,1,1],oe=O0(n,or(n,Ki,or(n,Ne.view,Zi)));return ud($,$,oe),$.slice(0,2)},lc=(s=0)=>{const N=aa(),oe=(Ko[1]-eo[1])/u.height;return(us*N+s)*oe},ps=()=>kt?on.points.filter((s,N)=>yn.has(N)):on.points,Ja=(s,N,$,oe)=>{const Se=on.range(s,N,$,oe);return kt?Se.filter(Fe=>yn.has(Fe)):Se},vs=()=>{const[s,N]=nr(),[$,oe]=_r(s,N),Se=lc(4),Fe=Ja($-Se,oe-Se,$+Se,oe+Se);let He=Se,ht=-1;return Fe.forEach($t=>{const[It,_n]=on.points[$t],Xt=Sp(It,_n,$,oe);Xt<He&&(He=Xt,ht=$t)}),ht},xh=(s,N)=>{Xn=s,rt.setPoints(N),t.publish("lassoExtend",{coordinates:s})},Eh=s=>{const N=rb(s);if(!ib(N))return[];const $=Ja(...N),oe=[];return $.forEach(Se=>{cb(s,on.points[Se])&&oe.push(Se)}),oe},oo=()=>{Xn=[],rt&&rt.clear()},ea=s=>s&&s.length>4,bi=(s,N)=>{if(ss||!nt||!ea(on.points[s[0]]))return;const $=N===0,oe=N===1?He=>en.add(He):jl,Se=Object.keys(s.reduce((He,ht)=>{const $t=on.points[ht],_n=Array.isArray($t[4])?$t[4][0]:$t[4];return He[_n]=!0,He},{})),Fe=dn.getData().opacities;Se.filter(He=>!en.has(+He)).forEach(He=>{const ht=xr[He][0],$t=xr[He][2],It=xr[He][3],_n=ht*4+It*2,Xt=_n+$t*2+4;Fe.__original__===void 0&&(Fe.__original__=Fe.slice());for(let Mt=_n;Mt<Xt;Mt++)Fe[Mt]=$?Fe.__original__[Mt]:Qe;oe(He)}),dn.getBuffer().opacities.subdata(Fe,0)},el=s=>[s%Er/Er+cs,Math.floor(s/Er)/Er+cs],_h=s=>kt&&!yn.has(s),tl=({preventEvent:s=!1}={})=>{B===k0&&oo(),st.length&&(s||t.publish("deselect"),en.clear(),bi(st,0),st=[],Jt.clear(),gt=!0)},ao=(s,{merge:N=!1,preventEvent:$=!1}={})=>{const oe=Array.isArray(s)?s:[s],Se=[...st];if(N){if(st=W2(st,oe),Se.length===st.length){gt=!0;return}}else{if(st&&st.length&&bi(st,0),Se.length>0&&oe.length===0){tl({preventEvent:$});return}st=oe}if(V2(Se,st)){gt=!0;return}const Fe=[];Jt.clear(),en.clear();for(let He=st.length-1;He>=0;He--){const ht=st[He];if(ht<0||ht>=xn||_h(ht)){st.splice(He,1);continue}Jt.add(ht),Fe.push.apply(Fe,el(ht))}fs({usage:"dynamic",type:"float",data:Fe}),bi(st,1),$||t.publish("select",{points:st}),gt=!0},ta=(s,{showReticleOnce:N=!1,preventEvent:$=!1}={})=>{let oe=!1;if(s>=0&&s<xn){oe=!0;const Se=kn,Fe=s!==kn;+Se>=0&&Fe&&!Jt.has(Se)&&bi([Se],0),kn=s,Zo.subdata(el(s)),Jt.has(s)||bi([s],2),Fe&&!$&&t.publish("pointover",kn)}else oe=+kn>=0,oe&&(Jt.has(kn)||bi([kn],0),$||t.publish("pointout",kn)),kn=void 0;oe&&(gt=!0,Ti=N)},gs=s=>{const N=u.getBoundingClientRect();return i[0]=s.clientX-N.left,i[1]=s.clientY-N.top,[...i]},An=N_(u,{onStart:()=>{Ne.config({isFixed:!0}),xt=!0,pt=!0,oo(),jt>=0&&(clearTimeout(jt),jt=-1),t.publish("lassoStart")},onDraw:xh,onEnd:(s,N,{merge:$=!1}={})=>{Ne.config({isFixed:!1}),Xn=[...s];const oe=Eh(N);ao(oe,{merge:$}),t.publish("lassoEnd",{coordinates:Xn}),B===$v&&oo()},enableInitiator:x,initiatorParentElement:S,pointNorm:([s,N])=>_r(ac(s),cr(N))}),nl=()=>ft===A_,na=(s,N)=>{switch(za[N]){case zv:return s.altKey;case Uv:return s.metaKey;case b_:return s.ctrlKey;case L_:return s.metaKey;case Vv:return s.shiftKey;default:return!1}},sc=s=>document.elementsFromPoint(s.clientX,s.clientY).some(N=>N===u),ys=s=>{!ur||s.buttons!==1||(xt=!0,De=performance.now(),Rt=gs(s),pt=nl()||na(s,Gv),!pt&&A&&(An.showLongPressIndicator(s.clientX,s.clientY,{time:U,extraTime:X,delay:le}),jt=setTimeout(()=>{jt=-1,pt=!0},U)))},xs=s=>{ur&&(xt=!1,jt>=0&&(clearTimeout(jt),jt=-1),pt&&(s.preventDefault(),pt=!1,An.end({merge:na(s,Ud)})),A&&An.hideLongPressIndicator({time:Ae}))},rl=s=>{if(!ur)return;s.preventDefault();const N=gs(s);if(Sp(...N,...Rt)>=k)return;const $=performance.now()-De;if(!x||$<eb){const oe=vs();oe>=0?(st.length&&B===k0&&oo(),ao([oe],{merge:na(s,Ud)})):Ji||(Ji=setTimeout(()=>{Ji=null,An.showInitiator(s)},JC))}},il=s=>{An.hideInitiator(),Ji&&(clearTimeout(Ji),Ji=null),h&&(s.preventDefault(),tl())},Xr=s=>{if(si||(Ir=sc(s),si=!0),!ur||!Ir&&!xt)return;const N=gs(s),oe=Sp(...N,...Rt)>=k;Ir&&!pt&&ta(vs()),pt?(s.preventDefault(),An.extend(s,!0)):xt&&A&&oe&&An.hideLongPressIndicator({time:Ae}),jt>=0&&oe&&(clearTimeout(jt),jt=-1),xt&&(gt=!0)},ra=()=>{kn=void 0,Ir=!1,si=!1,ur&&(+kn>=0&&!Jt.has(kn)&&bi([kn],0),xs(),gt=!0)},ol=()=>{const s=Math.max(Pt.length,Qt.length);ro=Math.max(2,Math.ceil(Math.sqrt(s)));const N=new Float32Array(ro**2*4);for(let $=0;$<s;$++){N[$*4]=Pt[$]||0,N[$*4+1]=Math.min(1,Qt[$]||0);const oe=Number((et[$]||et[0])[3]);N[$*4+2]=Math.min(1,Number.isNaN(oe)?1:oe);const Se=Number((Xe[$]||Xe[0])[3]);N[$*4+3]=Math.min(1,Number.isNaN(Se)?1:Se)}return o.regl.texture({data:N,shape:[ro,ro,4],type:"float"})},Es=(s=Je,N=et,$=Xe)=>{const oe=s.length,Se=N.length,Fe=$.length,He=[];if(oe===Se&&Se===Fe)for(let ht=0;ht<oe;ht++)He.push(s[ht],N[ht],$[ht],a);else for(let ht=0;ht<oe;ht++){const $t=[s[ht][0],s[ht][1],s[ht][2],1],It=f===hu?N[0]:$t,_n=f===hu?$[0]:$t;He.push(s[ht],It,_n,a)}return He},_s=()=>{const s=Es(),N=s.length;no=Math.max(2,Math.ceil(Math.sqrt(N)));const $=new Float32Array(no**2*4);return s.forEach((oe,Se)=>{$[Se*4]=oe[0],$[Se*4+1]=oe[1],$[Se*4+2]=oe[2],$[Se*4+3]=oe[3]}),o.regl.texture({data:$,shape:[no,no,4],type:"float"})},Sh=(s,N)=>{qi[0]=s/ii,qi[5]=N},Ss=()=>{ii=Zt/Pn,Ki=sd([],[1/ii,1,1]),qi=sd([],[1/ii,1,1]),Zi=sd([],[Qi,1,1])},wh=s=>{+s<=0||(Qi=s)},ws=(s,N)=>$=>{if(!$||!$.length)return;const Se=[...s()];let Fe=wo($)?$:[$];Fe=Fe.map(He=>hr(He,!0)),to&&to.destroy();try{N(Fe),to=_s()}catch{console.error("Invalid colors. Switching back to default colors."),N(Se),to=_s()}},Th=ws(()=>Je,s=>{Je=s}),Ah=ws(()=>et,s=>{et=s}),ci=ws(()=>Xe,s=>{Xe=s}),Ch=()=>{const s=_r(-1,-1),N=_r(1,1),$=(s[0]+1)/2,oe=(N[0]+1)/2,Se=(s[1]+1)/2,Fe=(N[1]+1)/2,He=[io+$*Ka,io+oe*Ka],ht=[qa+Se*Za,qa+Fe*Za];return[He,ht]},Li=()=>{if(!Bn&&!En)return;const[s,N]=Ch();Bn&&Bn.domain(s),En&&En.domain(N)},Ri=s=>{Pn=Math.max(1,s),u.height=Math.floor(Pn*window.devicePixelRatio),En&&(En.range([Pn,0]),Li())},bh=s=>{if(s===xi){Ot=s,u.style.height="100%",window.requestAnimationFrame(()=>{u&&Ri(u.getBoundingClientRect().height)});return}!+s||+s<=0||(Ot=+s,Ri(Ot),u.style.height=`${Ot}px`)},fi=()=>{us=Dn,Dn===xi&&(us=Array.isArray(Pt)?H2(Pt):Pt)},uc=s=>{_o(s,So,{minLength:1})&&(Pt=[...s]),Vf(+s)&&(Pt=[+s]),rc=vp/Pt[0],Qa=ol(),fi()},so=s=>{!+s||+s<0||(qt=+s)},cc=s=>{!+s||+s<0||(Fn=+s)},Yr=s=>{Zt=Math.max(1,s),u.width=Math.floor(Zt*window.devicePixelRatio),Bn&&(Bn.range([0,Zt]),Li())},Ts=s=>{if(s===xi){Vt=s,u.style.width="100%",window.requestAnimationFrame(()=>{u&&Yr(u.getBoundingClientRect().width)});return}!+s||+s<=0||(Vt=+s,Yr(Vt),u.style.width=`${Zt}px`)},Lh=s=>{_o(s,So,{minLength:1})&&(Qt=[...s]),Vf(+s)&&(Qt=[+s]),Qa=ol()},As=s=>{switch(s){case"valueZ":return ui;case"valueW":return Ci;default:return null}},Cs=(s,N)=>{switch(s){case gi:return $=>Math.round($*(N.length-1));case Cl:default:return jl}},fc=s=>{f=jr(s,hu)},Rh=s=>{Bt=jr(s,Ep,{allowDensity:!0})},Oh=s=>{Ct=jr(s,gp)},dc=s=>{Ge=jr(s,_p,{allowSegment:!0})},nn=s=>{Ce=jr(s,xp,{allowSegment:!0})},hc=s=>{Dt=jr(s,yp,{allowSegment:!0})},Ph=()=>[u.width,u.height],Mr=()=>l,bs=()=>to,al=()=>no,Oi=()=>.5/no,Ls=()=>window.devicePixelRatio,ll=()=>qo,Pi=()=>fs,sl=()=>Qa,mc=()=>ro,Rs=()=>.5/ro,Os=()=>0,kh=()=>li||oi,Nh=()=>Er,Ih=()=>.5/Er,pc=()=>qi,ul=()=>Ne.view,ia=()=>Zi,oa=()=>or(r,qi,or(r,Ne.view,Zi)),aa=()=>Ne.scaling[0]>1?Math.asinh(Hf(1,Ne.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Hf(rc,Ne.scaling[0])*window.devicePixelRatio,uo=()=>kt?yn.size:xn,ki=()=>st.length,Ps=()=>ki()>0?_t:1,ks=()=>ki()>0?yt:1,Ns=()=>+(f==="valueZ"),vc=()=>+(f==="valueW"),gc=()=>+(Bt==="valueZ"),yc=()=>+(Bt==="valueW"),xc=()=>+(Bt==="density"),Ec=()=>+(Ct==="valueZ"),_c=()=>+(Ct==="valueW"),Sc=()=>f==="valueZ"?ui===gi?Je.length-1:1:Ci===gi?Je.length-1:1,wc=()=>Bt==="valueZ"?ui===gi?Qt.length-1:1:Ci===gi?Qt.length-1:1,co=()=>Ct==="valueZ"?ui===gi?Pt.length-1:1:Ci===gi?Pt.length-1:1,Is=s=>{if(Bt!=="density")return 1;const N=aa(),$=Pt[0]*N,oe=2/(2/Ne.view[0])*(2/(2/Ne.view[5])),Se=s.viewportHeight,Fe=s.viewportWidth;let He=mt*Fe*Se/(Z*$*$)*p1(1,oe);He*=Wr?1:1/(.25*Math.PI);const ht=Hf(vp,$)+.5;return He*=($/ht)**2,p1(1,Hf(0,He))},Ms=o.regl({framebuffer:()=>ic,vert:Jb,frag:Zb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>ai,endStateTex:()=>oi,t:(s,N)=>N.t},count:3}),Sr=(s,N,$,oe=q2,Se=Ps,Fe=ks)=>o.regl({frag:Wr?Kb:Qb,vert:qb(oe),blend:{enable:!Wr,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:$,size:2}},uniforms:{resolution:Ph,modelViewProjection:oa,devicePixelRatio:Ls,pointScale:aa,encodingTex:sl,encodingTexRes:mc,encodingTexEps:Rs,pointOpacityMax:Se,pointOpacityScale:Fe,pointSizeExtra:s,globalState:oe,colorTex:bs,colorTexRes:al,colorTexEps:Oi,stateTex:kh,stateTexRes:Nh,stateTexEps:Ih,isColoredByZ:Ns,isColoredByW:vc,isOpacityByZ:gc,isOpacityByW:yc,isOpacityByDensity:xc,isSizedByZ:Ec,isSizedByW:_c,colorMultiplicator:Sc,opacityMultiplicator:wc,opacityDensity:Is,sizeMultiplicator:co,numColorStates:J2},count:N,primitive:"points"}),Mh=Sr(Os,uo,ll),Dh=Sr(Os,()=>1,()=>Zo,Z2,()=>1,()=>1),Fh=Sr(()=>(qt+Fn*2)*window.devicePixelRatio,ki,Pi,pp,()=>1,()=>1),Ds=Sr(()=>(qt+Fn)*window.devicePixelRatio,ki,Pi,s1,()=>1,()=>1),Bh=Sr(()=>qt*window.devicePixelRatio,ki,Pi,pp,()=>1,()=>1),jh=()=>{Fh(),Ds(),Bh()},$h=o.regl({frag:Xb,vert:Yb,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:oa,texture:Mr},count:6}),Fs=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>Xn},uniforms:{modelViewProjection:oa,color:()=>p},elements:()=>Array.from({length:Xn.length-2},(s,N)=>[0,N+1,N+2])}),Gh=()=>{if(!(kn>=0))return;const[s,N]=on.points[kn].slice(0,2),$=[s,N,0,1];or(n,qi,or(n,Ne.view,Zi)),ud($,$,n),Yo.setPoints([-1,$[1],1,$[1]]),Qo.setPoints([$[0],1,$[0],-1]),Yo.draw(),Qo.draw(),Sr(()=>(qt+Fn*2)*window.devicePixelRatio,()=>1,Zo,pp)(),Sr(()=>(qt+Fn)*window.devicePixelRatio,()=>1,Zo,s1)()},cl=s=>{const N=new Float32Array(s*2);let $=0;for(let oe=0;oe<s;++oe){const Se=el(oe);N[$]=Se[0],N[$+1]=Se[1],$+=2}return N},Bs=(s,N={})=>{const $=s.length;Er=Math.max(2,Math.ceil(Math.sqrt($))),cs=.5/Er;const oe=new Float32Array(Er**2*4);let Se=!0,Fe=!0,He=0,ht=0,$t=0;for(let It=0;It<$;++It)He=It*4,oe[He]=s[It][0],oe[He+1]=s[It][1],ht=s[It][2]||0,$t=s[It][3]||0,oe[He+2]=ht,oe[He+3]=$t,Se&&(Se=Number.isInteger(ht)),Fe&&(Fe=Number.isInteger($t));return N.z&&f1.includes(N.z)?ui=N.z:ui=Se?Cl:gi,N.w&&f1.includes(N.w)?Ci=N.w:Ci=Fe?Cl:gi,o.regl.texture({data:oe,shape:[Er,Er,4],type:"float"})},Tc=(s,N={})=>{if(!oi)return!1;if(Ai){const $=ai;ai=li,$.destroy()}else ai=oi;return li=Bs(s,N),ic=o.regl.framebuffer({color:li,depth:!1,stencil:!1}),oi=void 0,!0},js=()=>!!(ai&&li),zh=()=>{ai&&(ai.destroy(),ai=void 0),li&&(li.destroy(),li=void 0)},la=(s,N={})=>{ur=!1,xn=s.length,Z=xn,oi&&oi.destroy(),oi=Bs(s,N),qo({usage:"static",type:"float",data:cl(xn)}),on=new O2(s,$=>$[0],$=>$[1],16),ur=!0},Ac=(s,N)=>{Ha=Ne.target,Wa=s,Xa=Ne.distance[0],Ya=N},Uh=()=>Ha!==void 0&&Wa!==void 0&&Xa!==void 0&&Ya!==void 0,Vh=()=>{Ha=void 0,Wa=void 0,Xa=void 0,Ya=void 0},Hh=s=>{const N=Ge==="inherit"?f:Ge;if(N==="segment"){const $=wt.length-1;return $<1?[]:s.reduce((oe,Se,Fe)=>{let He=0;const ht=[];for(let It=2;It<Se.length;It+=2){const _n=Math.sqrt((Se[It-2]-Se[It])**2+(Se[It-1]-Se[It+1])**2);ht.push(_n),He+=_n}oe[Fe]=[0];let $t=0;for(let It=0;It<Se.length/2-1;It++)$t+=ht[It],oe[Fe].push(Math.floor($t/He*$)*4);return oe},[])}if(N){const $=Rp(N),oe=Cs(As(N),Ge==="inherit"?Je:wt);return xr.reduce((Se,[Fe,He])=>(Se[Fe]=oe(He[$])*4,Se),[])}return Array(xr.length).fill(0)},Wh=()=>{const s=Ce==="inherit"?Bt:Ce;if(s==="segment"){const N=Ue.length-1;return N<1?[]:xr.reduce(($,[oe,Se,Fe])=>($[oe]=a1(Fe,He=>Ue[Math.floor(He/(Fe-1)*N)]),$),[])}if(s){const N=Rp(s),$=Ce==="inherit"?Qt:Ue,oe=Cs(As(s),$);return xr.reduce((Se,[Fe,He])=>(Se[Fe]=$[oe(He[N])],Se),[])}},Xh=()=>{const s=Dt==="inherit"?Ct:Dt;if(s==="segment"){const N=Et.length-1;return N<1?[]:xr.reduce(($,[oe,Se,Fe])=>($[oe]=a1(Fe,He=>Et[Math.floor(He/(Fe-1)*N)]),$),[])}if(s){const N=Rp(s),$=Dt==="inherit"?Pt:Et,oe=Cs(As(s),$);return xr.reduce((Se,[Fe,He])=>(Se[Fe]=$[oe(He[N])],Se),[])}},Yh=s=>{xr=[];let N=0;Object.keys(s).forEach(($,oe)=>{xr[$]=[oe,s[$].reference,s[$].length/2,N],N+=s[$].length/2})},fo=s=>new Promise(N=>{dn.setPoints([]),!s||!s.length?N():(ss=!0,tL(s,{maxIntPointsPerSegment:Kt,tolerance:Wt}).then($=>{Yh($);const oe=Object.values($);dn.setPoints(oe.length===1?oe[0]:oe,{colorIndices:Hh(oe),opacities:Wh(),widths:Xh()}),ss=!1,N()}))}),sa=({preventEvent:s=!1}={})=>(kt=!1,yn.clear(),qo.subdata(cl(xn)),new Promise(N=>{const $=()=>{t.subscribe("draw",()=>{s||t.publish("unfilter"),N()},1),gt=!0};nt||ea(on.points[0])?fo(ps()).then(()=>{s||t.publish("pointConnectionsDraw"),$()}):$()})),Cc=(s,{preventEvent:N=!1}={})=>{const $=Array.isArray(s)?s:[s];kt=!0,yn.clear();const oe=[],Se=[];for(let Fe=$.length-1;Fe>=0;Fe--){const He=$[Fe];if(He<0||He>=xn){$.splice(Fe,1);continue}yn.add(He),oe.push.apply(oe,el(He)),Jt.has(He)&&Se.push(He)}return qo.subdata(oe),ao(Se,{preventEvent:N}),yn.has(kn)||ta(-1,{preventEvent:N}),new Promise(Fe=>{const He=()=>{t.subscribe("draw",()=>{N||t.publish("filter",{points:$}),Fe()},1),gt=!0};nt||ea(on.points[0])?fo(ps()).then(()=>{N||t.publish("pointConnectionsDraw"),ao(Se,{preventEvent:N}),He()}):He()})},ua=()=>Ja(eo[0],eo[1],Ko[0],Ko[1]),ho=w_(()=>{Z=ua().length},g),bc=s=>{const[N,$]=Ha,[oe,Se]=Wa,Fe=1-s,He=N*Fe+oe*s,ht=$*Fe+Se*s,$t=Xa*Fe+Ya*s;Ne.lookAt([He,ht],$t)},Lc=()=>js(),Rc=()=>Uh(),Oc=(s,N)=>{Jo||(Jo=performance.now());const $=performance.now()-Jo,oe=mb(N($/s),0,1);return Lc()&&Ms({t:oe}),Rc()&&bc(oe),$<s},Pc=()=>{Ai=!1,Jo=null,ds=void 0,hs=void 0,Me=oc,zh(),Vh(),t.publish("transitionEnd")},fl=({duration:s=500,easing:N=c1})=>{Ai&&t.publish("transitionEnd"),Ai=!0,Jo=null,ds=s,hs=N0(N)?rC[N]||c1:N,oc=Me,Me=!1,t.publish("transitionStart")},Qh=s=>new Promise((N,$)=>{if(!s||Array.isArray(s))N(s);else{const oe=Array.isArray(s.x)||ArrayBuffer.isView(s.x)?s.x.length:0,Se=(Array.isArray(s.x)||ArrayBuffer.isView(s.x))&&(Xt=>s.x[Xt]),Fe=(Array.isArray(s.y)||ArrayBuffer.isView(s.y))&&(Xt=>s.y[Xt]),He=(Array.isArray(s.line)||ArrayBuffer.isView(s.line))&&(Xt=>s.line[Xt]),ht=(Array.isArray(s.lineOrder)||ArrayBuffer.isView(s.lineOrder))&&(Xt=>s.lineOrder[Xt]),$t=Object.keys(s),It=(()=>{const Xt=$t.find(Mt=>R_.has(Mt));return Xt&&(Array.isArray(s[Xt])||ArrayBuffer.isView(s[Xt]))&&(Mt=>s[Xt][Mt])})(),_n=(()=>{const Xt=$t.find(Mt=>O_.has(Mt));return Xt&&(Array.isArray(s[Xt])||ArrayBuffer.isView(s[Xt]))&&(Mt=>s[Xt][Mt])})();Se&&Fe&&It&&_n&&He&&ht?N(s.x.map((Xt,Mt)=>[Xt,Fe(Mt),It(Mt),_n(Mt),He(Mt),ht(Mt)])):Se&&Fe&&It&&_n&&He?N(Array.from({length:oe},(Xt,Mt)=>[Se(Mt),Fe(Mt),It(Mt),_n(Mt),He(Mt)])):Se&&Fe&&It&&_n?N(Array.from({length:oe},(Xt,Mt)=>[Se(Mt),Fe(Mt),It(Mt),_n(Mt)])):Se&&Fe&&It?N(Array.from({length:oe},(Xt,Mt)=>[Se(Mt),Fe(Mt),It(Mt)])):Se&&Fe?N(Array.from({length:oe},(Xt,Mt)=>[Se(Mt),Fe(Mt)])):$(new Error("You need to specify at least x and y"))}}),mo=(s,N={})=>Lt?Promise.reject(new Error("The instance was already destroyed")):Qh(s).then($=>new Promise(oe=>{if(Lt){oe();return}let Se=!1;(!N.preventFilterReset||($==null?void 0:$.length)!==xn)&&(kt=!1,yn.clear());const Fe=$&&ea($[0])&&(nt||N.showPointConnectionsOnce),{zDataType:He,wDataType:ht}=N;$&&(N.transition&&($.length===xn?Se=Tc($,{z:He,w:ht}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),la($,{z:He,w:ht}),N.hover!==void 0&&ta(N.hover,{preventEvent:!0}),N.select!==void 0&&ao(N.select,{preventEvent:!0}),N.filter!==void 0&&Cc(N.filter,{preventEvent:!0}),Fe&&fo($).then(()=>{t.publish("pointConnectionsDraw"),gt=!0,Ti=N.showReticleOnce})),N.transition&&Se?(Fe?Promise.all([new Promise($t=>{t.subscribe("transitionEnd",()=>{gt=!0,Ti=N.showReticleOnce,$t()},1)}),new Promise($t=>{t.subscribe("pointConnectionsDraw",$t,1)})]).then(oe):t.subscribe("transitionEnd",()=>{gt=!0,Ti=N.showReticleOnce,oe()},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(Fe?Promise.all([new Promise($t=>{t.subscribe("draw",$t,1)}),new Promise($t=>{t.subscribe("pointConnectionsDraw",$t,1)})]).then(oe):t.subscribe("draw",oe,1),gt=!0,Ti=N.showReticleOnce)})),Cn=s=>(...N)=>{const $=s(...N);return gt=!0,$},kc=s=>{let N=1/0,$=-1/0,oe=1/0,Se=-1/0;for(let Fe=0;Fe<s.length;Fe++){const[He,ht]=on.points[s[Fe]];N=Math.min(N,He),$=Math.max($,He),oe=Math.min(oe,ht),Se=Math.max(Se,ht)}return{x:N,y:oe,width:$-N,height:Se-oe}},$s=(s,N={})=>new Promise($=>{const oe=[s.x+s.width/2,s.y+s.height/2],Se=2*Math.atan(1),Fe=s.height*ii>s.width?s.height/2/Math.tan(Se/2):s.width/2/Math.tan(Se*ii/2);N.transition?(Ne.config({isFixed:!0}),Ac(oe,Fe),t.subscribe("transitionEnd",()=>{$(),Ne.config({isFixed:!1})},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(Ne.lookAt(oe,Fe),t.subscribe("draw",$,1),gt=!0)}),Ni=(s,N={})=>{if(!ur)return Promise.reject(new Error(d1));const $=kc(s),oe=$.x+$.width/2,Se=$.y+$.height/2,Fe=lc(),He=1+(N.padding||0),ht=Math.max($.width,Fe)*He,$t=Math.max($.height,Fe)*He,It=oe-ht/2,_n=Se-$t/2;return $s({x:It,y:_n,width:ht,height:$t},N)},Gs=(s,N,$={})=>new Promise(oe=>{$.transition?(Ne.config({isFixed:!0}),Ac(s,N),t.subscribe("transitionEnd",()=>{oe(),Ne.config({isFixed:!1})},1),fl({duration:$.transitionDuration,easing:$.transitionEasing})):(Ne.lookAt(s,N),t.subscribe("draw",oe,1),gt=!0)}),Nc=(s={})=>Gs([0,0],1,s),Kh=s=>{if(!ur)throw new Error(d1);const N=on.points[s];if(!N)return;const $=[N[0],N[1],0,1];or(n,Ki,or(n,Ne.view,Zi)),ud($,$,n);const oe=Zt*($[0]+1)/2,Se=Pn*(.5-$[1]/2);return[oe,Se]},zs=()=>{dn.setStyle({color:Es(wt,dt,xe),opacity:Ue===null?null:Ue[0],width:Et[0]})},Ic=()=>{const s=Math.round(Ft)>.5?0:255;An.initiator.style.border=`1px dashed rgba(${s}, ${s}, ${s}, 0.33)`,An.initiator.style.background=`rgba(${s}, ${s}, ${s}, 0.1)`},Mc=()=>{const s=Math.round(Ft)>.5?0:255;An.longPressIndicator.style.color=`rgb(${s}, ${s}, ${s})`,An.longPressIndicator.dataset.color=`rgb(${s}, ${s}, ${s})`;const N=p.map($=>Math.round($*255));An.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Us=s=>{s&&(a=hr(s,!0),Ft=g1(a),Ic(),Mc())},Dc=s=>{s?N0(s)?m1(o.regl,s).then(N=>{l=N,gt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${s}`),l=null}):s._reglType==="texture2d"?l=s:l=null:l=null},qh=s=>{s>0&&Ne.lookAt(Ne.target,s,Ne.rotation)},Fc=s=>{s!==null&&Ne.lookAt(Ne.target,Ne.distance[0],s)},Bc=s=>{s&&Ne.lookAt(s,Ne.distance[0],Ne.rotation)},jc=s=>{s&&Ne.setView(s)},dl=s=>{if(!s)return;p=hr(s,!0),rt.setStyle({color:p});const N=p.map($=>Math.round($*255));An.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Zh=s=>{Number.isNaN(+s)||+s<1||(R=+s,rt.setStyle({width:R}))},di=s=>{+s&&(O=+s,An.set({minDelay:O}))},hl=s=>{+s&&(k=+s,An.set({minDist:k}))},$c=s=>{B=h1(iC,B)(s)},Gc=s=>{x=!!s,An.set({enableInitiator:x})},zc=s=>{S=s,An.set({startInitiatorParentElement:S})},Uc=s=>{A=!!s},Vc=s=>{U=Number(s)},Hc=s=>{X=Number(s)},Wc=s=>{le=Number(s)},Xc=s=>{Ae=Number(s)},Yc=s=>{ue=Object.entries(s).reduce((N,[$,oe])=>(hC.includes($)&&dC.includes(oe)&&(N[$]=oe),N),{}),za=v1(ue),za[zd]?Ne.config({isRotate:!0,mouseDownMoveModKey:za[zd]}):Ne.config({isRotate:!1})},Tr=s=>{ft=h1(tC,jv)(s),Ne.config({defaultMouseDownMoveAction:ft===C_?"rotate":"pan"})},Qc=s=>{s!==null&&(Me=s)},Jh=s=>{s&&(ze=hr(s,!0),Yo.setStyle({color:ze}),Qo.setStyle({color:ze}))},Qr=s=>{s&&(Bn=s,io=s.domain()[0],Ka=s?s.domain()[1]-s.domain()[0]:0,Bn.range([0,Zt]),Li())},Vs=s=>{s&&(En=s,qa=En.domain()[0],Za=En?En.domain()[1]-En.domain()[0]:0,En.range([Pn,0]),Li())},Ii=s=>{h=!!s},ml=s=>{m=!!s},Kc=s=>{nt=!!s,nt?ea(on.points[0])&&fo(ps()).then(()=>{t.publish("pointConnectionsDraw"),gt=!0}):fo()},pl=(s,N)=>$=>{if($==="inherit")s([...N()]);else{const oe=wo($)?$:[$];s(oe.map(Se=>hr(Se,!0)))}zs()},qc=pl(s=>{wt=s},()=>Je),Zc=pl(s=>{dt=s},()=>et),Jc=pl(s=>{xe=s},()=>Xe),em=s=>{_o(s,So,{minLength:1})&&(Ue=[...s]),Vf(+s)&&(Ue=[+s]),wt=wt.map(N=>(N[3]=Number.isNaN(+Ue[0])?N[3]:+Ue[0],N)),zs()},tm=s=>{!Number.isNaN(+s)&&+s&&(Qe=+s)},nm=s=>{_o(s,So,{minLength:1})&&(Et=[...s]),Vf(+s)&&(Et=[+s]),zs()},rm=s=>{!Number.isNaN(+s)&&+s&&(Ut=Math.max(0,s))},im=s=>{Kt=Math.max(0,s)},om=s=>{Wt=Math.max(0,s)},am=s=>{Dn=s,fi()},ef=s=>{mt=+s},tf=s=>{_t=+s},lm=s=>{yt=+s},sm=s=>{o.gamma=s},Hs=s=>{if(Lp({property:!0}),s==="aspectRatio")return Qi;if(s==="background"||s==="backgroundColor")return a;if(s==="backgroundImage")return l;if(s==="camera")return Ne;if(s==="cameraTarget")return Ne.target;if(s==="cameraDistance")return Ne.distance[0];if(s==="cameraRotation")return Ne.rotation;if(s==="cameraView")return Ne.view;if(s==="canvas")return u;if(s==="colorBy")return f;if(s==="sizeBy")return Ct;if(s==="deselectOnDblClick")return h;if(s==="deselectOnEscape")return m;if(s==="height")return Ot;if(s==="lassoColor")return p;if(s==="lassoLineWidth")return R;if(s==="lassoMinDelay")return O;if(s==="lassoMinDist")return k;if(s==="lassoClearEvent")return B;if(s==="lassoInitiator")return x;if(s==="lassoInitiatorElement")return An.initiator;if(s==="lassoInitiatorParentElement")return S;if(s==="keyMap")return{...ue};if(s==="mouseMode")return ft;if(s==="opacity")return Qt.length===1?Qt[0]:Qt;if(s==="opacityBy")return Bt;if(s==="opacityByDensityFill")return mt;if(s==="opacityByDensityDebounceTime")return g;if(s==="opacityInactiveMax")return _t;if(s==="opacityInactiveScale")return yt;if(s==="points")return on.points;if(s==="hoveredPoint")return kn;if(s==="selectedPoints")return[...st];if(s==="filteredPoints")return kt?Array.from(yn):Array.from({length:on.points.length},(N,$)=>$);if(s==="pointsInView")return ua();if(s==="pointColor")return Je.length===1?Je[0]:Je;if(s==="pointColorActive")return et.length===1?et[0]:et;if(s==="pointColorHover")return Xe.length===1?Xe[0]:Xe;if(s==="pointOutlineWidth")return Fn;if(s==="pointSize")return Pt.length===1?Pt[0]:Pt;if(s==="pointSizeSelected")return qt;if(s==="pointSizeMouseDetection")return Dn;if(s==="showPointConnections")return nt;if(s==="pointConnectionColor")return wt.length===1?wt[0]:wt;if(s==="pointConnectionColorActive")return dt.length===1?dt[0]:dt;if(s==="pointConnectionColorHover")return xe.length===1?xe[0]:xe;if(s==="pointConnectionColorBy")return Ge;if(s==="pointConnectionOpacity")return Ue.length===1?Ue[0]:Ue;if(s==="pointConnectionOpacityBy")return Ce;if(s==="pointConnectionOpacityActive")return Qe;if(s==="pointConnectionSize")return Et.length===1?Et[0]:Et;if(s==="pointConnectionSizeActive")return Ut;if(s==="pointConnectionSizeBy")return Dt;if(s==="pointConnectionMaxIntPointsPerSegment")return Kt;if(s==="pointConnectionTolerance")return Wt;if(s==="reticleColor")return ze;if(s==="regl")return o.regl;if(s==="showReticle")return Me;if(s==="version")return nL;if(s==="width")return Vt;if(s==="xScale")return Bn;if(s==="yScale")return En;if(s==="performanceMode")return Wr;if(s==="gamma")return o.gamma;if(s==="renderer")return o;if(s==="isDestroyed")return Lt;if(s==="isPointsDrawn")return ur;if(s==="isPointsFiltered")return kt;if(s==="zDataType")return ui;if(s==="wDataType")return Ci},ca=(s={})=>(Lp(s),(s.backgroundColor!==void 0||s.background!==void 0)&&Us(s.backgroundColor||s.background),s.backgroundImage!==void 0&&Dc(s.backgroundImage),s.cameraTarget!==void 0&&Bc(s.cameraTarget),s.cameraDistance!==void 0&&qh(s.cameraDistance),s.cameraRotation!==void 0&&Fc(s.cameraRotation),s.cameraView!==void 0&&jc(s.cameraView),s.colorBy!==void 0&&fc(s.colorBy),s.pointColor!==void 0&&Th(s.pointColor),s.pointColorActive!==void 0&&Ah(s.pointColorActive),s.pointColorHover!==void 0&&ci(s.pointColorHover),s.pointSize!==void 0&&uc(s.pointSize),s.pointSizeSelected!==void 0&&so(s.pointSizeSelected),s.pointSizeMouseDetection!==void 0&&am(s.pointSizeMouseDetection),s.sizeBy!==void 0&&Oh(s.sizeBy),s.opacity!==void 0&&Lh(s.opacity),s.showPointConnections!==void 0&&Kc(s.showPointConnections),s.pointConnectionColor!==void 0&&qc(s.pointConnectionColor),s.pointConnectionColorActive!==void 0&&Zc(s.pointConnectionColorActive),s.pointConnectionColorHover!==void 0&&Jc(s.pointConnectionColorHover),s.pointConnectionColorBy!==void 0&&dc(s.pointConnectionColorBy),s.pointConnectionOpacityBy!==void 0&&nn(s.pointConnectionOpacityBy),s.pointConnectionOpacity!==void 0&&em(s.pointConnectionOpacity),s.pointConnectionOpacityActive!==void 0&&tm(s.pointConnectionOpacityActive),s.pointConnectionSize!==void 0&&nm(s.pointConnectionSize),s.pointConnectionSizeActive!==void 0&&rm(s.pointConnectionSizeActive),s.pointConnectionSizeBy!==void 0&&hc(s.pointConnectionSizeBy),s.pointConnectionMaxIntPointsPerSegment!==void 0&&im(s.pointConnectionMaxIntPointsPerSegment),s.pointConnectionTolerance!==void 0&&om(s.pointConnectionTolerance),s.opacityBy!==void 0&&Rh(s.opacityBy),s.lassoColor!==void 0&&dl(s.lassoColor),s.lassoLineWidth!==void 0&&Zh(s.lassoLineWidth),s.lassoMinDelay!==void 0&&di(s.lassoMinDelay),s.lassoMinDist!==void 0&&hl(s.lassoMinDist),s.lassoClearEvent!==void 0&&$c(s.lassoClearEvent),s.lassoInitiator!==void 0&&Gc(s.lassoInitiator),s.lassoInitiatorParentElement!==void 0&&zc(s.lassoInitiatorParentElement),s.lassoOnLongPress!==void 0&&Uc(s.lassoOnLongPress),s.lassoLongPressTime!==void 0&&Vc(s.lassoLongPressTime),s.lassoLongPressAfterEffectTime!==void 0&&Hc(s.lassoLongPressAfterEffectTime),s.lassoLongPressEffectDelay!==void 0&&Wc(s.lassoLongPressEffectDelay),s.lassoLongPressRevertEffectTime!==void 0&&Xc(s.lassoLongPressRevertEffectTime),s.keyMap!==void 0&&Yc(s.keyMap),s.mouseMode!==void 0&&Tr(s.mouseMode),s.showReticle!==void 0&&Qc(s.showReticle),s.reticleColor!==void 0&&Jh(s.reticleColor),s.pointOutlineWidth!==void 0&&cc(s.pointOutlineWidth),s.height!==void 0&&bh(s.height),s.width!==void 0&&Ts(s.width),s.aspectRatio!==void 0&&wh(s.aspectRatio),s.xScale!==void 0&&Qr(s.xScale),s.yScale!==void 0&&Vs(s.yScale),s.deselectOnDblClick!==void 0&&Ii(s.deselectOnDblClick),s.deselectOnEscape!==void 0&&ml(s.deselectOnEscape),s.opacityByDensityFill!==void 0&&ef(s.opacityByDensityFill),s.opacityInactiveMax!==void 0&&tf(s.opacityInactiveMax),s.opacityInactiveScale!==void 0&&lm(s.opacityInactiveScale),s.gamma!==void 0&&sm(s.gamma),new Promise(N=>{window.requestAnimationFrame(()=>{u&&(Ss(),Ne.refresh(),o.refresh(),gt=!0,N())})})),um=(s,{preventEvent:N=!1}={})=>{jc(s),gt=!0,Ua=N},nf=()=>{Ne||(Ne=A2(u,{isPanInverted:[!1,!0]})),e.cameraView?Ne.setView(t1(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Ne.lookAt([...e.cameraTarget||BC],e.cameraDistance||jC,e.cameraRotation||$C):Ne.setView(t1(GC)),Ko=_r(1,1),eo=_r(-1,-1)},cm=({preventEvent:s=!1}={})=>{nf(),Li(),!s&&t.publish("view",{view:Ne.view,camera:Ne,xScale:Bn,yScale:En})},rf=({key:s})=>{switch(s){case"Escape":m&&tl();break}},of=()=>{Ir=!0,si=!0},Ws=()=>{ta(),Ir=!1,si=!0,gt=!0},af=()=>{gt=!0},fm=()=>{la([]),dn.clear()},fa=()=>{Ne.refresh();const s=Vt===xi,N=Ot===xi;if(s||N){const{width:$,height:oe}=u.getBoundingClientRect();s&&Yr($),N&&Ri(oe),Ss(),gt=!0}},dm=()=>u.getContext("2d").getImageData(0,0,u.width,u.height),hm=()=>{Ss(),nf(),Li(),rt=Uf(o.regl,{color:p,width:R,is2d:!0}),dn=Uf(o.regl,{color:wt,colorHover:xe,colorActive:dt,opacity:Ue===null?null:Ue[0],width:Et[0],widthActive:Ut,is2d:!0}),Yo=Uf(o.regl,{color:ze,width:1,is2d:!0}),Qo=Uf(o.regl,{color:ze,width:1,is2d:!0}),fi(),u.addEventListener("wheel",af),qo=o.regl.buffer(),fs=o.regl.buffer(),Zo=o.regl.buffer({usage:"dynamic",type:"float",length:eC*2}),to=_s(),Qa=ol();const s=ca({backgroundImage:l,width:Vt,height:Ot,keyMap:ue});Ic(),Mc(),window.addEventListener("keyup",rf,!1),window.addEventListener("blur",ra,!1),window.addEventListener("mouseup",xs,!1),window.addEventListener("mousemove",Xr,!1),u.addEventListener("mousedown",ys,!1),u.addEventListener("mouseenter",of,!1),u.addEventListener("mouseleave",Ws,!1),u.addEventListener("click",rl,!1),u.addEventListener("dblclick",il,!1),"ResizeObserver"in window?(Va=new ResizeObserver(fa),Va.observe(u)):(window.addEventListener("resize",fa),window.addEventListener("orientationchange",fa)),s.then(()=>{t.publish("init")})},po=o.onFrame(()=>{ms=Ne.tick(),!(!ur||!(gt||Ai))&&(Ai&&!Oc(ds,hs)&&Pc(),ms&&(Ko=_r(1,1),eo=_r(-1,-1),Bt==="density"&&ho()),o.render(()=>{const s=u.width/o.canvas.width,N=u.height/o.canvas.height;Sh(s,N),l&&l._reglType&&$h(),Xn.length>2&&Fs(),Ai||dn.draw({projection:pc(),model:ia(),view:ul()}),Mh(),!xt&&(Me||Ti)&&Gh(),kn>=0&&Dh(),st.length&&jh(),rt.draw({projection:pc(),model:ia(),view:ul()})},u),ms&&(Li(),Ua?Ua=!1:t.publish("view",{view:Ne.view,camera:Ne,xScale:Bn,yScale:En})),gt=!1,Ti=!1,t.publish("draw"))}),mm=()=>{gt=!0},pm=()=>{ur=!1,Lt=!0,po(),window.removeEventListener("keyup",rf,!1),window.removeEventListener("blur",ra,!1),window.removeEventListener("mouseup",xs,!1),window.removeEventListener("mousemove",Xr,!1),u.removeEventListener("mousedown",ys,!1),u.removeEventListener("mouseenter",of,!1),u.removeEventListener("mouseleave",Ws,!1),u.removeEventListener("click",rl,!1),u.removeEventListener("dblclick",il,!1),u.removeEventListener("wheel",af,!1),Va?Va.disconnect():(window.removeEventListener("resize",fa),window.removeEventListener("orientationchange",fa)),u=void 0,Ne.dispose(),Ne=void 0,rt.destroy(),An.destroy(),dn.destroy(),Yo.destroy(),Qo.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return hm(),{get isSupported(){return o.isSupported},clear:Cn(fm),createTextureFromUrl:(s,N=Hv)=>m1(o.regl,s,N),deselect:tl,destroy:pm,draw:mo,filter:Cc,get:Hs,getScreenPosition:Kh,hover:ta,redraw:mm,refresh:o.refresh,reset:Cn(cm),select:ao,set:ca,export:dm,subscribe:t.subscribe,unfilter:sa,unsubscribe:t.unsubscribe,view:um,zoomToLocation:Gs,zoomToArea:$s,zoomToPoints:Ni,zoomToOrigin:Nc}};function cd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I_(e){let t,n,r;e.length!==2?(t=cd,n=(l,u)=>cd(e(l),u),r=(l,u)=>e(l)-u):(t=e===cd||e===iL?e:oL,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;n(l[m],u)<0?f=m+1:h=m}while(f<h)}return f}function o(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;n(l[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function a(l,u,f=0,h=l.length){const m=i(l,u,f,h-1);return m>f&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:o}}function oL(){return 0}function aL(e){return e===null?NaN:+e}const lL=I_(cd),sL=lL.right;I_(aL).center;const uL=sL;function cL(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class fL extends Map{constructor(t,n=mL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(x1(this,t))}has(t){return super.has(x1(this,t))}set(t,n){return super.set(dL(this,t),n)}delete(t){return super.delete(hL(this,t))}}function x1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function hL({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pL(e){return e}function vL(e,...t){return gL(e,Array.from,pL,t)}function gL(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new fL,u=r[a++];let f=-1;for(const h of o){const m=u(h,++f,o),p=l.get(m);p?p.push(h):l.set(m,[h])}for(const[h,m]of l)l.set(h,i(m,a));return t(l)}(e,0)}const yL=Math.sqrt(50),xL=Math.sqrt(10),EL=Math.sqrt(2);function Hd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=yL?10:o>=xL?5:o>=EL?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Hd(e,t,n*2):[l,u,f]}function I0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Hd(t,e,n):Hd(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(o-f)/-a;else for(let f=0;f<l;++f)u[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function M0(e,t,n){return t=+t,e=+e,n=+n,Hd(e,t,n)[2]}function _L(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?M0(t,e,n):M0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function M_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function SL(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function ph(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ls(){}var Fa=.7,ts=1/Fa,Wl="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wL=/^#([0-9a-f]{3,8})$/,TL=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),AL=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),CL=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${Xu}\\)$`),bL=new RegExp(`^rgba\\(${wi},${wi},${wi},${Xu}\\)$`),LL=new RegExp(`^hsl\\(${Xu},${wi},${wi}\\)$`),RL=new RegExp(`^hsla\\(${Xu},${wi},${wi},${Xu}\\)$`),E1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ph(ls,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_1,formatHex:_1,formatHex8:OL,formatHsl:PL,formatRgb:S1,toString:S1});function _1(){return this.rgb().formatHex()}function OL(){return this.rgb().formatHex8()}function PL(){return F_(this).formatHsl()}function S1(){return this.rgb().formatRgb()}function Yu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?w1(t):n===3?new er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TL.exec(e))?new er(t[1],t[2],t[3],1):(t=AL.exec(e))?new er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CL.exec(e))?Wf(t[1],t[2],t[3],t[4]):(t=bL.exec(e))?Wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LL.exec(e))?C1(t[1],t[2]/100,t[3]/100,1):(t=RL.exec(e))?C1(t[1],t[2]/100,t[3]/100,t[4]):E1.hasOwnProperty(e)?w1(E1[e]):e==="transparent"?new er(NaN,NaN,NaN,0):null}function w1(e){return new er(e>>16&255,e>>8&255,e&255,1)}function Wf(e,t,n,r){return r<=0&&(e=t=n=NaN),new er(e,t,n,r)}function D_(e){return e instanceof ls||(e=Yu(e)),e?(e=e.rgb(),new er(e.r,e.g,e.b,e.opacity)):new er}function Wd(e,t,n,r){return arguments.length===1?D_(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ph(er,Wd,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new er(Ra(this.r),Ra(this.g),Ra(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:kL,formatRgb:A1,toString:A1}));function T1(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}`}function kL(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}${Ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function A1(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ra(this.r)}, ${Ra(this.g)}, ${Ra(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ra(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ca(e){return e=Ra(e),(e<16?"0":"")+e.toString(16)}function C1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ei(e,t,n,r)}function F_(e){if(e instanceof ei)return new ei(e.h,e.s,e.l,e.opacity);if(e instanceof ls||(e=Yu(e)),!e)return new ei;if(e instanceof ei)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new ei(a,l,u,e.opacity)}function NL(e,t,n,r){return arguments.length===1?F_(e):new ei(e,t,n,r??1)}function ei(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ph(ei,NL,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new er(Op(e>=240?e-240:e+120,i,r),Op(e,i,r),Op(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ei(b1(this.h),Xf(this.s),Xf(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${b1(this.h)}, ${Xf(this.s)*100}%, ${Xf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b1(e){return e=(e||0)%360,e<0?e+360:e}function Xf(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const IL=Math.PI/180,ML=180/Math.PI;var B_=-.14861,Xv=1.78277,Yv=-.29227,vh=-.90649,Qu=1.97294,L1=Qu*vh,R1=Qu*Xv,O1=Xv*Yv-vh*B_;function DL(e){if(e instanceof Oa)return new Oa(e.h,e.s,e.l,e.opacity);e instanceof er||(e=D_(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(O1*r+L1*t-R1*n)/(O1+L1-R1),o=r-i,a=(Qu*(n-i)-Yv*o)/vh,l=Math.sqrt(a*a+o*o)/(Qu*i*(1-i)),u=l?Math.atan2(a,o)*ML-120:NaN;return new Oa(u<0?u+360:u,l,i,e.opacity)}function Uo(e,t,n,r){return arguments.length===1?DL(e):new Oa(e,t,n,r??1)}function Oa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ph(Oa,Uo,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new Oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new Oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*IL,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new er(255*(t+n*(B_*r+Xv*i)),255*(t+n*(Yv*r+vh*i)),255*(t+n*(Qu*r)),this.opacity)}}));const gh=e=>()=>e;function j_(e,t){return function(n){return e+n*t}}function FL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BL(e,t){var n=t-e;return n?j_(e,n>180||n<-180?n-360*Math.round(n/360):n):gh(isNaN(e)?t:e)}function jL(e){return(e=+e)==1?Xl:function(t,n){return n-t?FL(t,n,e):gh(isNaN(t)?n:t)}}function Xl(e,t){var n=t-e;return n?j_(e,n):gh(isNaN(e)?t:e)}const P1=function e(t){var n=jL(t);function r(i,o){var a=n((i=Wd(i)).r,(o=Wd(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),f=Xl(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r}(1);function $L(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function GL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function UL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function VL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var D0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pp=new RegExp(D0.source,"g");function HL(e){return function(){return e}}function WL(e){return function(t){return e(t)+""}}function XL(e,t){var n=D0.lastIndex=Pp.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=D0.exec(e))&&(i=Pp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Yd(r,i)})),n=Pp.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?WL(u[0].x):HL(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(f);return l.join("")})}function yh(e,t){var n=typeof t,r;return t==null||n==="boolean"?gh(t):(n==="number"?Yd:n==="string"?(r=Yu(t))?(t=r,P1):XL:t instanceof Yu?P1:t instanceof Date?UL:GL(t)?$L:Array.isArray(t)?zL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VL:Yd)(e,t)}function $_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function G_(e){return function t(n){n=+n;function r(i,o){var a=e((i=Uo(i)).h,(o=Uo(o)).h),l=Xl(i.s,o.s),u=Xl(i.l,o.l),f=Xl(i.opacity,o.opacity);return function(h){return i.h=a(h),i.s=l(h),i.l=u(Math.pow(h,n)),i.opacity=f(h),i+""}}return r.gamma=t,r}(1)}G_(BL);var z_=G_(Xl);function YL(e){return function(){return e}}function QL(e){return+e}var k1=[0,1];function Po(e){return e}function F0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:YL(isNaN(t)?NaN:.5)}function KL(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qL(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=F0(i,r),o=n(a,o)):(r=F0(r,i),o=n(o,a)),function(l){return o(r(l))}}function ZL(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=F0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var u=uL(e,l,1,r)-1;return o[u](i[u](l))}}function U_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V_(){var e=k1,t=k1,n=yh,r,i,o,a=Po,l,u,f;function h(){var p=Math.min(e.length,t.length);return a!==Po&&(a=KL(e[0],e[p-1])),l=p>2?ZL:qL,u=f=null,m}function m(p){return p==null||isNaN(p=+p)?o:(u||(u=l(e.map(r),t,n)))(r(a(p)))}return m.invert=function(p){return a(i((f||(f=l(t,e.map(r),Yd)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,QL),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=$_,h()},m.clamp=function(p){return arguments.length?(a=p?!0:Po,h()):a!==Po},m.interpolate=function(p){return arguments.length?(n=p,h()):n},m.unknown=function(p){return arguments.length?(o=p,m):o},function(p,R){return r=p,i=R,h()}}function JL(){return V_()(Po,Po)}function eR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ns(e){return e=Qd(Math.abs(e)),e?e[1]:NaN}function tR(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function nR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(e){if(!(t=rR.exec(e)))throw new Error("invalid format: "+e);var t;return new Qv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ku.prototype=Qv.prototype;function Qv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iR(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var H_;function oR(e,t){var n=Qd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(H_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qd(e,Math.max(0,t+o-1))[0]}function N1(e,t){var n=Qd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const I1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>N1(e*100,t),r:N1,s:oR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M1(e){return e}var D1=Array.prototype.map,F1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aR(e){var t=e.grouping===void 0||e.thousands===void 0?M1:tR(D1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?M1:nR(D1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Ku(m);var p=m.fill,R=m.align,O=m.sign,k=m.symbol,B=m.zero,x=m.width,S=m.comma,A=m.precision,U=m.trim,X=m.type;X==="n"?(S=!0,X="g"):I1[X]||(A===void 0&&(A=12),U=!0,X="g"),(B||p==="0"&&R==="=")&&(B=!0,p="0",R="=");var le=k==="$"?n:k==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",Ae=k==="$"?r:/[%p]/.test(X)?a:"",ue=I1[X],ft=/[defgprs%]/.test(X);A=A===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function Me(ze){var Je=le,et=Ae,Xe,nt,wt;if(X==="c")et=ue(ze)+et,ze="";else{ze=+ze;var dt=ze<0||1/ze<0;if(ze=isNaN(ze)?u:ue(Math.abs(ze),A),U&&(ze=iR(ze)),dt&&+ze==0&&O!=="+"&&(dt=!1),Je=(dt?O==="("?O:l:O==="-"||O==="("?"":O)+Je,et=(X==="s"?F1[8+H_/3]:"")+et+(dt&&O==="("?")":""),ft){for(Xe=-1,nt=ze.length;++Xe<nt;)if(wt=ze.charCodeAt(Xe),48>wt||wt>57){et=(wt===46?i+ze.slice(Xe+1):ze.slice(Xe))+et,ze=ze.slice(0,Xe);break}}}S&&!B&&(ze=t(ze,1/0));var xe=Je.length+ze.length+et.length,Ge=xe<x?new Array(x-xe+1).join(p):"";switch(S&&B&&(ze=t(Ge+ze,Ge.length?x-et.length:1/0),Ge=""),R){case"<":ze=Je+ze+et+Ge;break;case"=":ze=Je+Ge+ze+et;break;case"^":ze=Ge.slice(0,xe=Ge.length>>1)+Je+ze+et+Ge.slice(xe);break;default:ze=Ge+Je+ze+et;break}return o(ze)}return Me.toString=function(){return m+""},Me}function h(m,p){var R=f((m=Ku(m),m.type="f",m)),O=Math.max(-8,Math.min(8,Math.floor(ns(p)/3)))*3,k=Math.pow(10,-O),B=F1[8+O/3];return function(x){return R(k*x)+B}}return{format:f,formatPrefix:h}}var Yf,Kv,W_;lR({thousands:",",grouping:[3],currency:["$",""]});function lR(e){return Yf=aR(e),Kv=Yf.format,W_=Yf.formatPrefix,Yf}function sR(e){return Math.max(0,-ns(Math.abs(e)))}function uR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ns(t)/3)))*3-ns(Math.abs(e)))}function cR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ns(t)-ns(e))+1}function fR(e,t,n,r){var i=_L(e,t,n),o;switch(r=Ku(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=uR(i,a))&&(r.precision=o),W_(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cR(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sR(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kv(r)}function X_(e){var t=e.domain;return e.ticks=function(n){var r=t();return I0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return fR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],u,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=M0(a,l,n),f===u)return r[i]=a,r[o]=l,t(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function Ba(){var e=JL();return e.copy=function(){return U_(e,Ba())},M_.apply(e,arguments),X_(e)}function dR(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function B1(e){return Math.log(e)}function j1(e){return Math.exp(e)}function hR(e){return-Math.log(-e)}function mR(e){return-Math.exp(-e)}function pR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vR(e){return e===10?pR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $1(e){return(t,n)=>-e(-t,n)}function yR(e){const t=e(B1,j1),n=t.domain;let r=10,i,o;function a(){return i=gR(r),o=vR(r),n()[0]<0?(i=$1(i),o=$1(o),e(hR,mR)):e(B1,j1),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let p=i(f),R=i(h),O,k;const B=l==null?10:+l;let x=[];if(!(r%1)&&R-p<B){if(p=Math.floor(p),R=Math.ceil(R),f>0){for(;p<=R;++p)for(O=1;O<r;++O)if(k=p<0?O/o(-p):O*o(p),!(k<f)){if(k>h)break;x.push(k)}}else for(;p<=R;++p)for(O=r-1;O>=1;--O)if(k=p>0?O/o(-p):O*o(p),!(k<f)){if(k>h)break;x.push(k)}x.length*2<B&&(x=I0(f,h,B))}else x=I0(p,R,Math.min(R-p,B)).map(o);return m?x.reverse():x},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ku(u)).precision==null&&(u.trim=!0),u=Kv(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?u(h):""}},t.nice=()=>n(dR(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function qv(){const e=yR(V_()).domain([1,10]);return e.copy=()=>U_(e,qv()).base(e.base()),M_.apply(e,arguments),e}function xR(){var e=0,t=1,n,r,i,o,a=Po,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(o(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function h(m){return function(p){var R,O;return arguments.length?([R,O]=p,a=m(R,O),f):[a(0),a(1)]}}return f.range=h(yh),f.rangeRound=h($_),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function ER(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y_(){var e=X_(xR()(Po));return e.copy=function(){return ER(e,Y_())},SL.apply(e,arguments)}z_(Uo(-100,.75,.35),Uo(80,1.5,.8));var _R=z_(Uo(260,.75,.35),Uo(80,1.5,.8));Uo();const SR="_scatter_lrznx_2",wR={scatter:SR};Q_.propTypes={points:Ye.array.isRequired,colors:Ye.array,width:Ye.number.isRequired,height:Ye.number.isRequired,onScatter:Ye.func,onView:Ye.func,onSelect:Ye.func,onHover:Ye.func};const TR=e=>qv().domain([100,1e6]).range([6,1]).clamp(!0)(e),AR=e=>qv().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function Q_({points:e,colors:t,width:n,height:r,onScatter:i,onView:o,onSelect:a,onHover:l}){const u=ne.useRef(),f=ne.useRef([-1,1]),h=ne.useRef([-1,1]),m=Ba().domain(f.current),p=Ba().domain(h.current);return ne.useEffect(()=>{if(e&&e.length){const R=TR(e.length),O=AR(e.length);let k=[250/255,128/255,114/255,1],B=e;if(t!=null&&t.length){B=e.map((X,le)=>[X[0],X[1],t[le]]);const A=vL(t,X=>X).map(X=>X[0]).sort((X,le)=>X-le),U=Y_(_R).domain(cL(A).reverse());k=A.map(X=>Wd(U(X)).hex())}const x={canvas:u.current,width:n,height:r,pointSize:R,opacity:O,pointColor:k,pointColorHover:[.1,.1,.1,.5],xScale:m,yScale:p};t!=null&&t.length&&(x.colorBy="valueA");const S=rL(x);return S.draw(B),o&&o(m,p),S.subscribe("view",({camera:A,view:U,xScale:X,yScale:le})=>{f.current=X.domain(),h.current=le.domain(),o&&o(f.current,h.current)}),S.subscribe("select",({points:A})=>{a&&a(A)}),S.subscribe("deselect",()=>{a&&a([])}),S.subscribe("pointOver",A=>{l&&l(A)}),S.subscribe("pointOut",()=>{l&&l(null)}),i&&i(S),()=>{S.destroy()}}},[e,t]),ie.jsx("canvas",{className:wR.scatter,ref:u})}const Qf=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:u})=>{const f=ne.useRef();return ne.useEffect(()=>{if(o&&a){const h=Ba().domain(o).range([0,l]),m=Ba().domain(a).range([u,0]),p=B=>B/(.1+o[1]-o[0]),O=f.current.getContext("2d");O.clearRect(0,0,l,u),O.fillStyle=t,O.strokeStyle=n,O.font=`${p(r)}px monospace`,O.globalAlpha=.75;let k=p(r);if(!e.length)return;e.map(B=>{B&&(t&&O.fillRect(h(B[0])-k/2,m(B[1])-k/2,k,k),n&&O.strokeRect(h(B[0])-k/2,m(B[1])-k/2,k,k),i&&O.fillText(i,h(B[0])-k/3.2,m(B[1])+k/3.2))})}},[e,t,n,r,o,a,l,u]),ie.jsx("canvas",{className:"annotation-plot",ref:f,width:l,height:u})},kp=({points:e,hulls:t,fill:n,stroke:r,size:i,symbol:o,xDomain:a,yDomain:l,width:u,height:f})=>{const h=ne.useRef();return ne.useEffect(()=>{if(a&&l){const m=Ba().domain(a).range([0,u]),p=Ba().domain(l).range([f,0]),R=B=>B/(.1+a[1]-a[0]),k=h.current.getContext("2d");if(k.clearRect(0,0,u,f),k.fillStyle=n,k.strokeStyle=r,k.font=`${R(i)}px monospace`,k.globalAlpha=.75,R(i),!t.length||!e.length)return;t.forEach(B=>{B&&(k.beginPath(),B.forEach((x,S)=>{S===0?k.moveTo(m(e[x][0]),p(e[x][1])):k.lineTo(m(e[x][0]),p(e[x][1]))}),k.lineTo(m(e[B[0]][0]),p(e[B[0]][1])),n&&k.fill(),r&&k.stroke())})}},[e,t,n,r,i,a,l,u,f]),ie.jsx("canvas",{className:"hull-plot",ref:h,width:u,height:f})},Fi=500,Bi=500,br="https://api.latentscope.com/api";function CR(){var xn;const[e,t]=ne.useState(null),{dataset:n,scope:r}=NA(),i=Mv(),o=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[a,l]=ne.useState(2);ne.useEffect(()=>{fetch(`${br}/datasets/${n}/meta`).then(Z=>Z.json()).then(Z=>{console.log("dataset",Z),t(Z)})},[n,t]);const[u,f]=ne.useState([]);ne.useEffect(()=>{fetch(`${br}/datasets/${n}/scopes`).then(Z=>Z.json()).then(Z=>{f(Z)})},[n,f]);const[h,m]=ne.useState(null);ne.useEffect(()=>{fetch(`${br}/datasets/${n}/scopes/${r}`).then(Z=>Z.json()).then(Z=>{console.log("scope",Z),m(Z)})},[n,r,m]);const[p,R]=ne.useState(null),[O,k]=ne.useState(null),[B,x]=ne.useState([]),[S,A]=ne.useState([]),[U,X]=ne.useState(p==null?void 0:p.id),[le,Ae]=ne.useState([]);ne.useEffect(()=>{fetch(`${br}/datasets/${n}/embeddings`).then(Z=>Z.json()).then(Z=>{Ae(Z)})},[n,Ae]),ne.useEffect(()=>{h&&(R(le.find(Z=>Z.id==h.embedding_id)),fetch(`${br}/datasets/${n}/umaps/${h.umap_id}`).then(Z=>Z.json()).then(Z=>{console.log("umap",Z),k(Z)}),fetch(`${br}/datasets/${n}/clusters/${h.cluster_id}/labels/${h.cluster_labels_id}`).then(Z=>Z.json()).then(Z=>{console.log("labels",Z),A(Z)}),fetch(`${br}/datasets/${n}/clusters/${h.cluster_id}/indices`).then(Z=>Z.json()).then(Z=>{console.log("cluster indices",Z),x(Z)}))},[n,h,le,k,A,R,X]);const ue=ne.useMemo(()=>B.map(Z=>Z.cluster),[B]);ne.useEffect(()=>{p&&X(p.id)},[p,X]);const ft=Z=>{console.log("selected",Z),X(Z)},[Me,ze]=ne.useState([]),[Je,et]=ne.useState(!1);ne.useEffect(()=>{O&&fetch(`${br}/datasets/${e.id}/umaps/${O.id}/points`).then(Z=>Z.json()).then(Z=>{console.log("umap points",Z),ze(Z.map(pt=>[pt.x,pt.y]))})},[e,O]);const Xe=ne.useCallback((Z,pt,Xn=[])=>{fetch(`${br}/indexed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset:n,indices:Z})}).then(on=>on.json()).then(on=>{if(!e)return;let ii=on.map((Qi,Ki)=>({index:Z[Ki],...Qi}));pt(ii)})},[e,n]),[nt,wt]=ne.useState({}),[dt,xe]=ne.useState([-1,1]),[Ge,Ue]=ne.useState([-1,1]),Ce=ne.useCallback((Z,pt)=>{xe(Z),Ue(pt)},[xe,Ue]),[Qe,Et]=ne.useState([]),Ut=ne.useCallback(Z=>{console.log("handle selected",Z),Et(Z),l(0)},[Et,l]),[Dt,Kt]=ne.useState(null),[Wt,Pt]=ne.useState(null);ne.useEffect(()=>{Dt!=null?Xe([Dt],Z=>{Pt(Z[0])}):Pt(null)},[Dt,Pt,Xe]);const[qt,Dn]=ne.useState(null);ne.useEffect(()=>{if(Wt&&B.length&&S.length){const Z=Wt.index,pt=B[Z],Xn=S[pt==null?void 0:pt.cluster];Dn({cluster:pt.cluster,...Xn})}else Dn(null)},[Wt,B,S,Dn]);const[Fn,Qt]=ne.useState([]);ne.useEffect(()=>{Dt!=null?Qt([Me[Dt]]):Qt([])},[Dt,Me]);const[Bt,mt]=ne.useState({});ne.useEffect(()=>{fetch(`${br}/tags?dataset=${n}`).then(Z=>Z.json()).then(Z=>mt(Z))},[n]);const _t=ne.useMemo(()=>{const Z=[];for(const pt in Bt)Z.push(pt);return Z},[Bt]),[yt,Ct]=ne.useState(_t[0]),[Ot,Vt]=ne.useState([]);ne.useEffect(()=>{if(Bt[yt]){const Z=Bt[yt].map(pt=>Me[pt]);Vt(Z)}else Vt([]),nt&&nt.config&&(nt==null||nt.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Bt,yt,Me,nt,Vt]);const[Zt,Pn]=ne.useState([]),[Wr,g]=ne.useState([]),Lt=ne.useCallback(Z=>{fetch(`${br}/search/nn?dataset=${n}&query=${Z}&embedding_id=${U}`).then(pt=>pt.json()).then(pt=>{g(pt.distances),Pn(pt.indices),nt==null||nt.zoomToPoints(pt.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[U,n,nt,g,Pn]),[Ft,Ne]=ne.useState([]);ne.useEffect(()=>{const Z=Zt.map(pt=>Me[pt]);Ne(Z)},[Zt,Me]);const[rt,xt]=ne.useState(null),[De,Rt]=ne.useState([]);ne.useEffect(()=>{if(rt){const Z=rt.indices.map(pt=>Me[pt]);Rt(Z)}else Rt([]),nt&&nt.config&&(nt==null||nt.zoomToOrigin({transition:!0,transitionDuration:1500}))},[rt,Me,nt,Rt]);const[jt,st]=ne.useState((rt==null?void 0:rt.label)||"");ne.useEffect(()=>{st((rt==null?void 0:rt.label)||"")},[rt]);const Jt=ne.useCallback(Z=>{nt==null||nt.zoomToPoints([Z],{transition:!0,padding:.9,transitionDuration:1500})},[nt]),en=ne.useCallback(Z=>{Kt(Z)},[Kt]),kt=ne.useCallback((Z,pt)=>{console.log("update label",Z,pt),fetch(`${br}/datasets/${n}/clusters/${h.cluster_id}/labels/${h.cluster_labels_id}/label/${Z}?label=${pt}`).then(Xn=>Xn.json()).then(Xn=>{fetch(`${br}/datasets/${n}/clusters/${h.cluster_id}/labels/${h.cluster_labels_id}`).then(on=>on.json()).then(on=>{console.log("got new labels",on),A(on)}).catch(console.error)}).catch(console.error)},[n,h]),yn=ne.useCallback(()=>{xt(null),A([]),ze([])},[]);return e?ie.jsxs("div",{className:"dataset--explore",children:[ie.jsxs("div",{className:"column",children:[ie.jsxs("div",{className:"first-row summary",children:[ie.jsxs("div",{className:"scope-card",children:[ie.jsxs("h3",{children:[n,": ",ie.jsx("select",{className:"scope-selector",onChange:Z=>{yn(),i(`/datasets/${e==null?void 0:e.id}/explore/${Z.target.value}`)},children:u.map((Z,pt)=>ie.jsx("option",{value:Z.id,selected:Z.id===(h==null?void 0:h.id),children:Z.label||Z.id},pt))}),null]}),ie.jsx("span",{children:h==null?void 0:h.description}),ie.jsxs("span",{children:["Embeddings: ",p==null?void 0:p.model_id]}),ie.jsxs("span",{children:[S==null?void 0:S.length," clusters"]})]}),ie.jsx("div",{className:"dataset-card",children:ie.jsxs("span",{children:[e==null?void 0:e.length," rows"]})})]}),ie.jsxs("div",{className:"second-row",children:[ie.jsx("div",{className:"umap-container",children:ie.jsx("div",{className:"scatters",style:{width:Fi,height:Bi},children:Me.length?ie.jsxs(ie.Fragment,{children:[ie.jsx(Q_,{points:Me,colors:ue,loading:Je,width:Fi,height:Bi,onScatter:wt,onView:Ce,onSelect:Ut,onHover:en}),qt&&qt.hull&&!h.ignore_hulls?ie.jsx(kp,{points:Me,hulls:[qt==null?void 0:qt.hull],fill:"lightgray",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}):null,rt&&rt.hull&&!h.ignore_hulls?ie.jsx(kp,{points:Me,hulls:[rt==null?void 0:rt.hull],fill:"darkgray",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}):null,S.length&&!h.ignore_hulls?ie.jsx(kp,{points:Me,hulls:S.map(Z=>Z.hull),stroke:"lightgray",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}):null,ie.jsx(Qf,{points:Ft,fill:"black",size:"8",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}),ie.jsx(Qf,{points:De,fill:"darkred",size:"8",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}),ie.jsx(Qf,{points:Ot,symbol:yt,size:"20",xDomain:dt,yDomain:Ge,width:Fi,height:Bi}),ie.jsx(Qf,{points:Fn,stroke:"black",fill:"orange",size:"16",xDomain:dt,yDomain:Ge,width:Fi,height:Bi})]}):null})}),ie.jsxs("div",{className:"hovered-point",children:[Wt&&Object.keys(Wt).map(Z=>ie.jsxs("span",{children:[ie.jsxs("span",{className:"key",children:[Z,":"]}),ie.jsx("span",{className:"value",children:Wt[Z]})]},Z)),qt?ie.jsxs("span",{children:[ie.jsxs("span",{className:"key",children:["Cluster ",qt.index,":"]}),ie.jsx("span",{className:"value",children:qt.label})]}):null]})]})]}),ie.jsx("div",{className:"column",children:ie.jsxs("div",{className:"second-row tab-tables",children:[ie.jsx("div",{className:"tab-header",children:o.map(Z=>ie.jsx("button",{onClick:()=>l(Z.id),className:Z.id===a?"tab-active":"tab-inactive",children:Z.name},Z.id))}),a===0?ie.jsxs("div",{className:"tab-content tab-selected",children:[ie.jsxs("span",{children:["Selected: ",Qe==null?void 0:Qe.length,(Qe==null?void 0:Qe.length)>0?ie.jsx("button",{className:"deselect",onClick:()=>{Et([]),nt==null||nt.select([]),nt==null||nt.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Qe==null?void 0:Qe.length)>0?ie.jsx(xu,{indices:Qe,clusterIndices:B,clusterLabels:S,tagset:Bt,dataset:e,maxRows:150,onTagset:Z=>mt(Z),onHover:en,onClick:Jt}):null]}):null,a===1?ie.jsxs("div",{className:"tab-content tab-neighbors",children:[ie.jsx("div",{className:"search-box",children:ie.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),Lt(Z.target.elements.searchBox.value),l(1)},children:[ie.jsx("input",{type:"text",id:"searchBox"}),ie.jsx("button",{type:"submit",children:"Similarity Search"}),ie.jsx("br",{}),ie.jsx("label",{htmlFor:"embeddingModel"}),ie.jsx("select",{id:"embeddingModel",onChange:Z=>ft(Z.target.value),value:U,children:le.map((Z,pt)=>ie.jsxs("option",{value:Z.id,children:[Z.id," - ",Z.model_id]},pt))})]})}),ie.jsxs("span",{children:[Zt.length?ie.jsxs("span",{children:["Nearest Neighbors: ",Zt.length," (capped at 150) "]}):null,Zt.length>0?ie.jsx("button",{className:"deselect",onClick:()=>{Pn([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),Zt.length>0?ie.jsx(xu,{indices:Zt,distances:Wr,clusterIndices:B,clusterLabels:S,tagset:Bt,dataset:e,onTagset:Z=>mt(Z),onHover:en,onClick:Jt}):null]}):null,a===2?ie.jsxs("div",{className:"tab-content tab-cluster",children:[ie.jsx("div",{className:"clusters-select",children:ie.jsxs("select",{onChange:Z=>{const pt=S.find(Xn=>Xn.index===+Z.target.value);pt&&xt(pt)},value:rt==null?void 0:rt.index,children:[ie.jsx("option",{value:"",children:"Select a cluster"}),S.map((Z,pt)=>ie.jsxs("option",{value:Z.index,children:[Z.index,": ",Z.label]},pt))]})}),ie.jsxs("div",{className:"cluster-selected",children:[rt?ie.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),kt(rt.index,jt)},children:[ie.jsx("input",{type:"text",id:"new-label",value:jt,onChange:Z=>st(Z.target.value)}),ie.jsx("button",{type:"submit",children:"Update Label"})]}):null,ie.jsxs("span",{children:[rt==null?void 0:rt.indices.length," ",rt!=null&&rt.indices.length?"Rows":"",rt?ie.jsx("button",{className:"deselect",onClick:()=>{xt(null)},children:"X"}):null]})]}),ie.jsx("div",{className:"cluster-table",children:rt!=null&&rt.indices?ie.jsx(xu,{indices:rt==null?void 0:rt.indices,clusterIndices:B,clusterLabels:S,dataset:e,tagset:Bt,onTagset:Z=>mt(Z),onHover:en,onClick:Jt}):null})]}):null,a===3?ie.jsxs("div",{className:"tab-content tab-tag",children:[ie.jsxs("div",{className:"tags-box",children:[ie.jsxs("div",{className:"tags-select",children:["Tags: ",_t.map(Z=>ie.jsxs("button",{className:"dataset--tag-link",onClick:()=>{Ct(Z),l(3),nt==null||nt.zoomToPoints(Bt[Z],{transition:!0,padding:.2,transitionDuration:1500})},children:[Z,"(",Bt[Z].length,")"]},Z))]}),null]}),ie.jsxs("span",{children:[yt," ",(xn=Bt[yt])==null?void 0:xn.length,yt?ie.jsx("button",{className:"deselect",onClick:()=>{Ct(null)},children:"X"}):null]}),Bt[yt]?ie.jsx(xu,{indices:Bt[yt],clusterIndices:B,clusterLabels:S,tagset:Bt,dataset:e,onTagset:Z=>mt(Z),onHover:en,onClick:Jt}):null]}):null]})})]}):ie.jsx("div",{children:"Loading..."})}Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.string.isRequired,Ye.object,Ye.array,Ye.array,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.array.isRequired,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.array,Ye.func.isRequired,Ye.func.isRequired;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.string,Ye.func.isRequired,Ye.func,Ye.func,Ye.func,Ye.func;Ye.shape({id:Ye.string.isRequired}).isRequired,Ye.object,Ye.object,Ye.object,Ye.object,Ye.string,Ye.func.isRequired,Ye.func.isRequired;const bR=()=>ie.jsx("nav",{children:ie.jsx("ul",{children:ie.jsx("li",{children:ie.jsx(f_,{to:"/",children:"Latent Scope"})})})});var LR={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const K_=LR;console.log("ENV",K_);const RR=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function OR(){return ie.jsxs(JA,{basename:K_.BASE_NAME,children:[ie.jsx(bR,{}),ie.jsx("div",{className:"page",children:ie.jsxs(XA,{children:[ie.jsx(b0,{path:"/",element:ie.jsx(u2,{})}),ie.jsx(b0,{path:"/datasets/:dataset/explore/:scope",element:RR()?ie.jsx(r2,{}):ie.jsx(CR,{})}),null,null,null,null]})})]})}Np.createRoot(document.getElementById("root")).render(ie.jsx(K1.StrictMode,{children:ie.jsx(OR,{})}));
